{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/sidebar/FocusItemSide.vue?4159","webpack:///./src/components/boxes/ScatterPlot.vue?89f5","webpack:///./src/components/boxes/OverallClassifierPerformance.vue?7328","webpack:///./src/components/boxes/ParallelMetrics.vue?197f","webpack:///./src/components/sidebar/SetHistory.vue?c8ac","webpack:///./src/components/boxes/OverallClassifierPerfCurves.vue?d119","webpack:///./src/components/boxes/InstanceList.vue?aa7f","webpack:///./src/components/sidebar/Sidebar.vue?3732","webpack:///./src/components/sidebar/InstanceList.vue?91dd","webpack:///./src/components/boxes/ConfusionMatrixGrid.vue?a036","webpack:///./src/components/boxes/BandwidthAssessment.vue?4990","webpack:///./src/components/boxes/ConfusionMatrixMinimal.vue?6347","webpack:///./src/components/boxes/UncertaintyHeatMap.vue?4ea1","webpack:///./src/components/boxes/OverallClassifierConfidence.vue?8d4a","webpack:///./src/components/boxes/FocusItem.vue?4699","webpack:///./src/components/boxes/ReliabilityCurve.vue?8d1c","webpack:///./src/components/boxes/PairwiseClassifierConsensus.vue?a6b0","webpack:///./src/components/boxes/OverallClassifierAccuracy.vue?5f06","webpack:///./src/components/boxes/FeatureHistogram.vue?492b","webpack:///./src/components/boxes/SelectionClassifierPerformance.vue?d29c","webpack:///./src/views/RigidTileHome.vue?d553","webpack:///./src/App.vue?36e7","webpack:///./src/components/boxes/RejectedCurve.vue?365e","webpack:///./src/components/boxes/DetailedClassifierPerformance.vue?cb40","webpack:///./src/plugins/vuetify.ts","webpack:///./src/App.vue?9c9d","webpack:///./src/components/left-drawer/DatasetSelectorPopup.vue?61bd","webpack:///./src/components/left-drawer/DatasetSelectorPopup.vue?7eed","webpack:///./src/components/left-drawer/DatasetSelectorPopup.vue?841b","webpack:///./src/components/left-drawer/DatasetSelectorPopup.vue","webpack:///./src/components/left-drawer/Navbar.vue?6066","webpack:///./src/components/left-drawer/DatasetSelector.vue?f44d","webpack:///./src/components/left-drawer/DatasetSelector.vue?7039","webpack:///./src/components/left-drawer/DatasetSelector.vue?30ae","webpack:///./src/components/left-drawer/DatasetSelector.vue","webpack:///./src/components/left-drawer/Navbar.vue?22b6","webpack:///./src/components/left-drawer/Navbar.vue?e349","webpack:///./src/components/left-drawer/Navbar.vue","webpack:///./src/views/RigidTileHome.vue?d07a","webpack:///./src/types.ts","webpack:///./src/components/constraints/types.ts","webpack:///./src/components/boxes/OverallClassifierPerformance.vue?f30c","webpack:///./src/components/constraints/utils.ts","webpack:///./src/theme.ts","webpack:///./src/store.ts","webpack:///./src/utils.ts","webpack:///./src/components/boxes/OverallClassifierPerformance.vue?a3cf","webpack:///./src/components/boxes/OverallClassifierPerformance.vue?5391","webpack:///./src/components/boxes/OverallClassifierPerformance.vue","webpack:///./src/components/boxes/OverallClassifierPerfCurves.vue?652a","webpack:///./src/components/boxes/OverallClassifierPerfCurves.vue?a7f6","webpack:///./src/components/boxes/OverallClassifierPerfCurves.vue?2d3b","webpack:///./src/components/boxes/OverallClassifierPerfCurves.vue","webpack:///./src/components/boxes/OverallClassifierConfidence.vue?3954","webpack:///./src/components/boxes/OverallClassifierConfidence.vue?5191","webpack:///./src/components/boxes/OverallClassifierConfidence.vue?afea","webpack:///./src/components/boxes/OverallClassifierConfidence.vue","webpack:///./src/components/boxes/ReliabilityCurve.vue?1ccb","webpack:///./src/components/boxes/ReliabilityCurve.vue?ebaf","webpack:///./src/components/boxes/ReliabilityCurve.vue?3c1e","webpack:///./src/components/boxes/ReliabilityCurve.vue","webpack:///./src/components/boxes/TrinaryInstanceDistribuion.vue?af68","webpack:///./src/components/boxes/TrinaryInstanceDistribuion.vue?f6b8","webpack:///./src/components/boxes/TrinaryInstanceDistribuion.vue?44a1","webpack:///./src/components/boxes/TrinaryInstanceDistribuion.vue","webpack:///./src/components/boxes/BandwidthAssessment.vue?247f","webpack:///./src/components/boxes/BandwidthAssessment.vue?4f86","webpack:///./src/components/boxes/BandwidthAssessment.vue?54e7","webpack:///./src/components/boxes/BandwidthAssessment.vue","webpack:///./src/components/boxes/SelectionClassifierPerformance.vue?4ddf","webpack:///./src/components/boxes/SelectionClassifierPerformance.vue?e67b","webpack:///./src/components/boxes/SelectionClassifierPerformance.vue?e851","webpack:///./src/components/boxes/SelectionClassifierPerformance.vue","webpack:///./src/components/boxes/DetailedClassifierPerformance.vue?ae8a","webpack:///./src/components/boxes/DetailedClassifierPerformance.vue?82c2","webpack:///./src/components/boxes/DetailedClassifierPerformance.vue?44f4","webpack:///./src/components/boxes/DetailedClassifierPerformance.vue","webpack:///./src/components/boxes/ConfusionMatrixGrid.vue?4646","webpack:///./src/components/ColorLegend.vue?9d69","webpack:///./src/components/ColorLegend.vue?b807","webpack:///./src/components/ColorLegend.vue?9022","webpack:///./src/components/ColorLegend.vue","webpack:///./src/components/boxes/ConfusionMatrixMinimal.vue?0c46","webpack:///./src/components/boxes/ConfusionMatrixMinimal.vue?fcc7","webpack:///./src/components/boxes/ConfusionMatrixMinimal.vue?dffe","webpack:///./src/components/boxes/ConfusionMatrixMinimal.vue","webpack:///./src/components/boxes/ConfusionMatrixGrid.vue?40de","webpack:///./src/components/boxes/ConfusionMatrixGrid.vue?de1f","webpack:///./src/components/boxes/ConfusionMatrixGrid.vue","webpack:///./src/components/boxes/OverallClassifierAccuracy.vue?2c53","webpack:///./src/components/boxes/OverallClassifierAccuracy.vue?a4d1","webpack:///./src/components/boxes/OverallClassifierAccuracy.vue?e70c","webpack:///./src/components/boxes/OverallClassifierAccuracy.vue","webpack:///./src/components/sidebar/Sidebar.vue?0f06","webpack:///./src/components/sidebar/filters/ClassFilter.vue?a704","webpack:///./src/components/sidebar/filters/ClassFilter.vue?ede7","webpack:///./src/components/sidebar/filters/ClassFilter.vue?cf5b","webpack:///./src/components/sidebar/filters/ClassFilter.vue","webpack:///./src/components/sidebar/filters/ClassifierFilter.vue?6f3e","webpack:///./src/components/sidebar/filters/ClassifierFilter.vue?9c28","webpack:///./src/components/sidebar/filters/ClassifierFilter.vue?7d05","webpack:///./src/components/sidebar/filters/ClassifierFilter.vue","webpack:///./src/components/sidebar/InstanceList.vue?e4db","webpack:///./src/components/sidebar/InstanceList.vue?80d2","webpack:///./src/components/sidebar/InstanceList.vue?2d2b","webpack:///./src/components/sidebar/InstanceList.vue","webpack:///./src/components/sidebar/SetHistory.vue?d307","webpack:///./src/components/sidebar/InstanceVennDiagram.vue?7457","webpack:///./src/components/sidebar/InstanceVennDiagram.vue?62a8","webpack:///./src/components/sidebar/InstanceVennDiagram.vue?a221","webpack:///./src/components/sidebar/InstanceVennDiagram.vue","webpack:///./src/components/QueryGenerator.vue?a8f0","webpack:///./src/components/constraints/ActualTargetClass.vue?04f4","webpack:///./src/components/constraints/ActualTargetClass.vue?c9a0","webpack:///./src/components/constraints/ActualTargetClass.vue?ebe5","webpack:///./src/components/constraints/ActualTargetClass.vue","webpack:///./src/components/constraints/ChooseRule.vue?9b85","webpack:///./src/components/constraints/ChooseRule.vue?4b8c","webpack:///./src/components/constraints/ChooseRule.vue?90d8","webpack:///./src/components/constraints/ChooseRule.vue","webpack:///./src/components/constraints/ClassifierPredicted.vue?6865","webpack:///./src/components/constraints/ClassifierPredicted.vue?1570","webpack:///./src/components/constraints/ClassifierPredicted.vue?6968","webpack:///./src/components/constraints/ClassifierPredicted.vue","webpack:///./src/components/constraints/ClassifierRight.vue?cf92","webpack:///./src/components/constraints/ClassifierRight.vue?0822","webpack:///./src/components/constraints/ClassifierRight.vue?9486","webpack:///./src/components/constraints/ClassifierRight.vue","webpack:///./src/components/constraints/ClassifiersAgree.vue?c06d","webpack:///./src/components/constraints/ClassifiersAgree.vue?8540","webpack:///./src/components/constraints/ClassifiersAgree.vue?18cb","webpack:///./src/components/constraints/ClassifiersAgree.vue","webpack:///./src/components/constraints/FeatureEquals.vue?a518","webpack:///./src/components/constraints/FeatureEquals.vue?291d","webpack:///./src/components/constraints/FeatureEquals.vue?d835","webpack:///./src/components/constraints/FeatureEquals.vue","webpack:///./src/components/constraints/FeatureGreaterThan.vue?6051","webpack:///./src/components/constraints/FeatureGreaterThan.vue?e607","webpack:///./src/components/constraints/FeatureGreaterThan.vue?adb2","webpack:///./src/components/constraints/FeatureGreaterThan.vue","webpack:///./src/components/constraints/FeatureLessThan.vue?4c28","webpack:///./src/components/constraints/FeatureLessThan.vue?6853","webpack:///./src/components/constraints/FeatureLessThan.vue?ce7f","webpack:///./src/components/constraints/FeatureLessThan.vue","webpack:///./src/components/ConstrainedInstanceList.vue?d451","webpack:///./src/components/ConstrainedInstanceList.vue?3bf9","webpack:///./src/components/ConstrainedInstanceList.vue?9466","webpack:///./src/components/ConstrainedInstanceList.vue","webpack:///./src/components/QueryGenerator.vue?ec6b","webpack:///./src/components/QueryGenerator.vue?d3a6","webpack:///./src/components/QueryGenerator.vue","webpack:///./src/components/sidebar/SetHistory.vue?c629","webpack:///./src/components/sidebar/SetHistory.vue?efef","webpack:///./src/components/sidebar/SetHistory.vue","webpack:///./src/components/sidebar/FocusItemSide.vue?8d77","webpack:///./src/components/sidebar/FocusItemSide.vue?f0e8","webpack:///./src/components/sidebar/FocusItemSide.vue?9b23","webpack:///./src/components/sidebar/FocusItemSide.vue","webpack:///./src/components/sidebar/ViewList.vue?4212","webpack:///./src/components/sidebar/ViewList.vue?89be","webpack:///./src/components/sidebar/ViewList.vue?caa0","webpack:///./src/components/sidebar/ViewList.vue","webpack:///./src/components/sidebar/continuous/ModeSelection.vue?1802","webpack:///./src/components/sidebar/continuous/ModeSelection.vue?8145","webpack:///./src/components/sidebar/continuous/ModeSelection.vue?5dd9","webpack:///./src/components/sidebar/continuous/ModeSelection.vue","webpack:///./src/components/sidebar/continuous/UncertainAdjuster.vue?1aee","webpack:///./src/components/sidebar/continuous/UncertainAdjuster.vue?4f0a","webpack:///./src/components/sidebar/continuous/UncertainAdjuster.vue?3a20","webpack:///./src/components/sidebar/continuous/UncertainAdjuster.vue","webpack:///./src/components/sidebar/sampling/RandomSampling.vue?9de3","webpack:///./src/components/sidebar/sampling/RandomSampling.vue?67f6","webpack:///./src/components/sidebar/sampling/RandomSampling.vue?2184","webpack:///./src/components/sidebar/sampling/RandomSampling.vue","webpack:///./src/components/sidebar/sampling/BootstrapSampling.vue?cb53","webpack:///./src/components/sidebar/sampling/BootstrapSampling.vue?e167","webpack:///./src/components/sidebar/sampling/BootstrapSampling.vue?7e73","webpack:///./src/components/sidebar/sampling/BootstrapSampling.vue","webpack:///./src/components/sidebar/sampling/StratifiedSampling.vue?d4df","webpack:///./src/components/sidebar/sampling/StratifiedSampling.vue?5312","webpack:///./src/components/sidebar/sampling/StratifiedSampling.vue?90df","webpack:///./src/components/sidebar/sampling/StratifiedSampling.vue","webpack:///./src/components/sidebar/validation/KfoldValidation.vue?bba1","webpack:///./src/components/sidebar/validation/KfoldValidation.vue?d27f","webpack:///./src/components/sidebar/validation/KfoldValidation.vue?c172","webpack:///./src/components/sidebar/validation/KfoldValidation.vue","webpack:///./src/components/sidebar/Sidebar.vue?ecf0","webpack:///./src/components/sidebar/Sidebar.vue?4ff3","webpack:///./src/components/sidebar/Sidebar.vue","webpack:///./src/components/boxes/PairwiseClassifierConsensus.vue?a214","webpack:///./src/components/boxes/PairwiseClassifierConsensus.vue?e97d","webpack:///./src/components/boxes/PairwiseClassifierConsensus.vue?f827","webpack:///./src/components/boxes/PairwiseClassifierConsensus.vue","webpack:///./src/components/boxes/StandardMetrics.vue?1982","webpack:///./src/components/boxes/StandardMetrics.vue?3590","webpack:///./src/components/boxes/StandardMetrics.vue?387e","webpack:///./src/components/boxes/StandardMetrics.vue","webpack:///./src/components/boxes/ParallelMetrics.vue?70cd","webpack:///./src/components/boxes/ParallelMetrics.vue?c1b3","webpack:///./src/components/boxes/ParallelMetrics.vue?4f8f","webpack:///./src/components/boxes/ParallelMetrics.vue","webpack:///./src/components/boxes/UncertaintyHeatMap.vue?ec44","webpack:///./src/components/boxes/UncertaintyHeatMap.vue?4fd6","webpack:///./src/components/boxes/UncertaintyHeatMap.vue?05fa","webpack:///./src/components/boxes/UncertaintyHeatMap.vue","webpack:///./src/components/boxes/InstanceList.vue?2507","webpack:///./src/components/boxes/InstanceList.vue?0597","webpack:///./src/components/boxes/InstanceList.vue?9ded","webpack:///./src/components/boxes/InstanceList.vue","webpack:///./src/components/boxes/FeatureHistogram.vue?9b96","webpack:///./src/components/boxes/FeatureHistogram.vue?57f9","webpack:///./src/components/boxes/FeatureHistogram.vue?5678","webpack:///./src/components/boxes/FeatureHistogram.vue","webpack:///./src/components/boxes/ScatterPlot.vue?87cb","webpack:///./src/components/boxes/ScatterPlot.vue?4005","webpack:///./src/components/boxes/ScatterPlot.vue?20ac","webpack:///./src/components/boxes/ScatterPlot.vue","webpack:///./src/components/boxes/FocusItem.vue?5ead","webpack:///./src/components/boxes/FocusItem.vue?0884","webpack:///./src/components/boxes/FocusItem.vue?552c","webpack:///./src/components/boxes/FocusItem.vue","webpack:///./src/components/boxes/RejectedCurve.vue?f307","webpack:///./src/components/boxes/RejectedCurve.vue?747b","webpack:///./src/components/boxes/RejectedCurve.vue?8ea0","webpack:///./src/components/boxes/RejectedCurve.vue","webpack:///./src/views/RigidTileHome.vue?9272","webpack:///./src/views/RigidTileHome.vue?fc84","webpack:///./src/views/RigidTileHome.vue","webpack:///./src/App.vue?afb0","webpack:///./src/App.vue?53be","webpack:///./src/App.vue","webpack:///./src/router.ts","webpack:///./src/main.ts","webpack:///./src/components/boxes/StandardMetrics.vue?e4df","webpack:///./src/components/ConstrainedInstanceList.vue?737d","webpack:///./src/components/boxes/TrinaryInstanceDistribuion.vue?b97d"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","use","opts","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","fn","ref","on","_g","_v","model","callback","$$v","load_dialog","expression","_s","$store","state","chosenDataset","change_grid_size","_b","_l","view","dispatch","view_name","classifiers","value_classifier","$event","save_views","reload_views","btnClick","button","staticStyle","snackbar","staticRenderFns","keys","datasets","dataset","changedDatasetByName","test","domProps","customDatasetURL","changedDataset","extend","components","VueInstantLoadingSpinner","methods","console","log","open","$refs","Spinner","show","setTimeout","hide","component","VBtn","VCard","VCardText","VCardTitle","VFlex","VLayout","VList","VListItem","VListItemContent","VListItemTitle","VTextField","panel","slot","DatasetSelectorPopup","datasetFilepath","VDialog","VIcon","DatasetSelector","drawer","links","text","route","VExpansionPanel","VExpansionPanelContent","EntityType","FilterAction","SelectionAction","SelectionStrategy","SetCompose","VisualizationType","PlaceHolder","Rule","views","$set","getters","v","class","style","viewWidthByName","visualizationsWithoutExternalHandle","includes","_e","handleIcon","tag","boxProps","onClose","accuracySorting","evaluationSelection","classNumber","datasetType","weightedPerformance","average","array","sum","blankConstraint","constraint","negation","rule","NONE","classifier","classifier2","target","feature","numericValue","bucketCategorical","featureName","instances","buckets","featureByName","type","error","categories","forEach","category","createConstraint","FEATURE_EQ","predicate","createSimplePredicate","instancesFromPredicate","bucketCount","bucketNumeric","bucketCounts","bucketCountNormalized","countTotal","values","bucketCountsNormalized","getBins","numberOfBins","featureValues","map","id","instanceById","features","xMin","Math","min","xMax","max","bins","d3","domain","thresholds","bin","x0","x1","binnedInstances","index","compareFeatureInterestingness","interestingness","candidate","baseline","interests","expected","observed","interest","lowerBound","upperBound","averageInterest","firstOverlapSelection","store","overlapSelections","first","allFeatures","allInstances","allowedTypes","isAllowedType","filter","featuresWithInterest","allCounts","selectedCounts","sort","f1","f2","f","composePredicates","p1","p2","operation","PredicateIntersection","predicates","PredicateUnion","a","b","notB","aAndNotB","aUnionB","complement","constraintToString","ACTUAL","AGREE","FEATURE_GT","FEATURE_LT","PREDICTED","RIGHT","params","assign","createFilter","trueFilter","isConstraintComplete","actual","predictions","negatedFilter","constraints","metric","filterFromConstraint","filterFromPredicate","filters","every","filtersAnd","filtersOr","some","filteredInstances","selectedInstances","predicateAbstraction","validConstraints","filteredClasses","filteredClassifiers","instancesIds","abstractDataFeatures","allEqual","validPredicates","predicatePrecision","intersection","part","whole","precision","predicatesWithPrecisions","pred","reduce","total","good","goodDark","goodLight","bad","badDark","badLight","highlight","categorical","usual","white","second","background","focus","fs","SERVER_URL","Store","saveStatus","resumeStatus","saveConfig","resumedBandwidths","viewsConfig","chosenFixedDataset","fixedDataset","corsError","currentChosenSample","weightMode","currentChosenFold","sampleList","sampleDict","selectedSampleSet","validationList","addedThresholdClassifiers","curAddedThresholdClassifier","addedBandWidthClassifiers","withinClassifierBandWidthList","withinClassifierName","classifierBandWidthDict","bandWidthChangedClassifierName","outerBandWidth","classifierThresholdList","classifierThresholdDict","thresholdClassifierNameList","chosenClassifierThresholdTuple","single_threshold","curveChosenClassifierThresholdTuple","viewWidth","baseDataset","baseSelection","description","Set","className","weight","classes","hoverInstance","continuous_metrics","weighted_metrics","Exclude","set","instance","selectionHistory","focusItemId","focusSet","focusDotEmphasis","modelSelections","modelSelectionHistory","selectionStrategy","Any","all","CA","SCP","COV","CMG","FH","UM","OCA","PCC","SM","SMP","ITL","SP","FI","intersectionMode","mutations","new_status","config","new_dataset","flag","new_flag","cors_error","new_error","new_metrics","metrics","continuous_classifierThreshold","new_classifierThreshold","new_mode","newUncertainBandwidth","newWithinClassifier","newClassifierName","newuncertainClassifier","new_bandWidth","new_allclassifierThreshold","new_allthresholdClassifiers","new_bands","width","intersect","new_config","payload","whichOverlap","selection","newOverlapSelections","tmpSample","newHistory","newAddedThresholdClassifiers","newAddedBandWidthClassifiers","newCurAddedThresholdClassifier","status","newAddedClassifier","newAdditionalClassifiers","newDataset","entityType","newFilter","actions","context","views_recommendation","commit","bandwidths","tmp","left_range","parseFloat","split","right_range","filePath","readFile","err","JSON","parse","selections","openViews","checkedViews","toString","toFixed","fileContent","stringify","writeFile","selection_attribute","barCells","x","y","height","color","circle_visibility","cx","cy","selection_type","focused","append","attr","new_cors_error","new_sample_value","new_validation","new_chosen_sample","new_chosen_fold","new_data_type","uncertainBandwidth","classifierThreshold","keyEvent","pastViews","newViews","datasetList","firstDataset","oldSelectionHistory","newSelectionHistory","lastSelection","unionDescription","cleanSelectionHistory","datasetName","indexOf","datasetPath","path","datasetURL","substring","endsWith","filenames","Promise","filename","url","fileType","pop","fetch","then","response","ok","reject","catch","manifest","resultsData","featuresData","checkData","ManifestResultsClassifier","mClassifiers","rCLassifiers","columns","mismatch","xor","size","resultsFeaturesRows","resultsMissingValues","rData","cellString","pathPieces","featureNames","tmp_features","instancesList","uniqueList","item","pos","CC","RC","CB","BA","REC","TID","continuous_predictions","tmp_thresholdsClassifier","tmp_classifierThresholds","splitL","threshold","rId","fId","addRandomClassifier","randomClassifier","unshift","randomClass","floor","random","addMajorityClassifier","majorityClassifier","classCounts","majorityClass","addOracle","oracle","featureObjects","testFeatureObjects","parsedDataset","dummyClassifiers","preContinuousMetrics","instant_variables","changed_variables","changed_instances_set","instanceWeights","tmp_instances","cur_set","cur_instances","cur_value","count","real_tp","tp","m_tp","real_tn","tn","m_tn","real_fp","fp","m_fp","real_fn","m_fn","accuracy","recall","sqrt","mcc","abs","cur_threshold","cur_left_edge","cur_right_edge","mse","m_tp_instances","m_tn_instances","m_fp_instances","m_fn_instances","tp_instances","tn_instances","fp_instances","fn_instances","cur_uncertain","predict_prob","add","precentage","ins_per","origin_classifier","legend","classifierValues","classifierThresholdKey","formatDecimal","x_roc","y_roc","value_roc","x_pr","y_pr","acc","line_roc","line_pr","auc_area","begin","end","diff","coordinates","last_acc","last_value","PerfCalculation","predict","addNewValues","adaptSampling","low","high","pre","cur","mid","tmp_perf","mid_value","idx","perf","lastx","lasty","cor","curClassifier","curThreshold","tmp_predictions","mostRecentSelection","allClassifiers","realClassifiers","thresholdClassifier","classesToExclude","difference","classifiersToExclude","trainOrTest","fold","testing","training","additionC","microf1","macrof1","predicted","false","true","actualClass","predictedClass","totalTrue","cur_predictions","cur_actuals","restClass","precisionSum","recallSum","f1Sum","tpSum","fpSum","fnSum","microPrecision","microRecall","visualizations","visualizationTemplate","elem","has","generateRandomId","prefix","suffix","substr","overlapCount","overlap","overlapFraction","union","props","required","Function","margin","top","right","bottom","left","hover","focusColor","svg","rightColor","rightHoverColor","selection1Color","selection2Color","wrongColor","wrongHoverColor","computed","scope","evaluationKeys","accuracyAscending","c1","c2","macro_f1","micro_f1","accuracyDescending","predictionKeys","continuousPredictionKeys","continuousClassifierName","wrong","set_combiniation","set1","set2","res","set2_list","continuousMetrics","total_data","curAcClass","curPredClass","total_tp","total_fp","total_tn","total_fn","total_f1","cur_tp","cur_fp","cur_tn","cur_fn","cur_pre","cur_recall","total_recall","total_pre","range","paddingOuter","paddingInner","watch","drawInitial","drawHover","chart","rightBars","selectAll","wrongBars","yAxisMarkerLine","select","yAxisMarkerTextRight","yAxisMarkerTextWrong","textSelection1","textSelection2","rectHover","moveDuration","disappearDuration","hoverText","classifierName","typeString","overlappingInstances","transition","duration","bandwidth","remove","mg_top","drawAxes","xAxis","g","tickSizeOuter","yAxis","ticks","tickFormat","drawTitles","xOffset","yOffset","drawLegend","drawBars","join","barWidth","clearHover","bar1","yAxisMarkerText","drawSelections","selectionBarWidth","selectionType","weightedInstanceSize","setAdd","list_1","list_2","rightYOffset","totalInstances","fractionOfTotalInstances","rightHeight","wrongHeight","hasFocusItem","cur_selection","selection_attributes","preventDefault","stopPropagation","curType","VExpansionPanelHeader","VExpansionPanels","VRadio","VRadioGroup","selection_mode","options","isOpen","search","pointSelection","pointRemove","thresholdToidx","selectedCurves","curclick","selectedEval","classifierThresholds","parseInt","storeMetrics","entries","evaluation","drawAddedPoint","drawCurrentThreshold","clearPointSelection","drawPointSelection","selectedDot","updateThreshold","chosenClassifiers","changedClassifier","selected_type","sequentialScale","interpolator","xValue","yValue","classifierDict","cur_cordinate","curveData","curCurve","drawInitalCurves","area_dict","line","cordinate","enter","drawSelectedCurves","calculatedSelectedCurves","outSelections","calculate_value","auc","last_change_index","update_flag","tmp_max_acc","distribution","normalization_switch","interval","hover_distribution","maxIntervals","normalization","rightColor1","wrongColor1","rightHoverColor1","wrongHoverColor1","nameTocontinuous","thresholdRange","bandWidthClassifiers","left_edge","right_edge","confidenceIndex","confidence","allIntervals","origin_c","ci_tp","ci_fn","ci_tn","ci_fp","ci_mn","ci_mp","ci_pred","ci_tp_instances","ci_fp_instances","ci_tn_instances","ci_fn_instances","ci_mp_instances","ci_mn_instances","all_instances","continuous_pred","conf","continuous_value","interval_index","latter_index","latter_confi","padding","yScale","drawOriginalDistribution","drawDistributionHover","drawDistSelections","lowerConfi","upperConfi","dataUpdateWithRange","drawConfidence","rightBars2","wrongBars2","midBars","midBars2","hoverRect","yAxisMarkerTextMiddle","yAxisMarkerTextRight_s1","yAxisMarkerTextWrong_s1","yAxisMarkerTextMiddle_s1","yAxisMarkerTextRight_s2","yAxisMarkerTextWrong_s2","yAxisMarkerTextMiddle_s2","rightOverLap","wrongOverLap","middleOverLap","predBars","yAxisMarkerTextPred","yAxisMarkerTextPred_s1","yAxisMarkerTextPred_s2","confi_index","svgAll","drawSliders","rangeSliders","confidenceData","get_confidence_data","confidenceDict","selectedConfidenceDict","selectionData","get_selected_confidence_data","tmpconfidenceDict","each","scale","barNames","barInstances1","barInstances2","colors","y_shift","selectionColors","selectIndex","drawSelectedConfidence","curConfidenceData","confidenceInstanceSizeOne","confidenceInstanceSizeTwo","select_type","maxSelectionSize","yThreshold","drawAxis","drawLine","drawLegends","drawDistributionAxis","drawDistributionBar","clearDistributionHover","barPredSelection1","barPredSelection2","circlePredSelection1","circlePredSelection2","yAxisMarkerTextRect_s1","yAxisMarkerTextRect_s2","barRightSelection1","barRightSelection2","barWrongSelection1","barWrongSelection2","barMiddleSelection1","barMiddleSelection2","barRight2Selection1","barRight2Selection2","barWrong2Selection1","barWrong2Selection2","barMiddle2Selection1","barMiddle2Selection2","circleRightSelection1","circleRightSelection2","circleWrongSelection1","circleWrongSelection2","circleMiddleSelection1","circleMiddleSelection2","circleRight2Selection1","circleRight2Selection2","circleWrong2Selection1","circleWrong2Selection2","circleMiddle2Selection1","circleMiddle2Selection2","confidenceInstancesSize","middleHeight","lower_confi","upper_confi","VSwitch","click","confidenceClassifierDict","correct","selectedSets","seleted_type","svg_distribution","confidenceCountData","selectedDataDict","calculatedCurves","cordinates","curConfidenceCountData","value2","confidenceStandard","selectedconfidenceData","selectedconfidenceDict","drawDistribution","tmp_list","drawCurves","dict","drawDistributionSelections","selectionHeight","instances_list","all_instances_list","name_list","instances_types","interval_instances","distribution_mode","hoverNormalization","selection1Right","selection1Wrong","selection1mid","selection2Right","selection2Wrong","selection2mid","right_wrong","right_right","wrong_wrong","wrong_right","middle_wrong","middle_right","middle_tp","middle_tn","middle_fp","middle_fn","total_size","right_size","wrong_size","middle_right_size","middle_wrong_size","value_dict","xScale","clamp","drawHoverNormalization","drawNormalization","slection","rightwrongBars","wrongrightBars","middleYesBars","yAxisMarkerRect","yAxisMarkerLine1","yAxisMarkerLine2","yAxisMarkerLine3","yAxisMarkerLine4","yAxisMarkerText1","yAxisMarkerText2","yAxisMarkerText3","yAxisMarkerText4","yAxisMarkerText5","yAxisMarkerText1s1","yAxisMarkerText2s1","yAxisMarkerText3s1","yAxisMarkerText4s1","yAxisMarkerText5s1","yAxisMarkerText1s2","yAxisMarkerText2s2","yAxisMarkerText3s2","yAxisMarkerText4s2","yAxisMarkerText5s2","clearHoverNormalization","left_diff","right_diff","drawSelectedLegend","selectionSets","drawDistributeBars","drawSelectedBars","selectedDistribution","get_selected_distribution","selectedDis","selectionWidth","middleYesHeight","instancesNo","overlappingInstancesNo","vis","concat","type_dict","selectedClassifier","thresholdRangeChange","bandwidthHover","barHover","accHover","curveClassifier","upperColors","lowerColors","middleColors","currentSetbandwidth","currentBandwidth","currentRemovedbandwidth","withinClassifierBandwidths","leftThreshold","rightThreshold","streamData","thresholdRangeRecords","accumulations","ci_m","ci_m_y","ci_m_n","middle_instances","middle_y_instances","middle_n_instances","cur_pred","drawWithinInitial","drawBarHover","drawAccHover","drawBandwidthHover","updateThresholdBound","updateTmpChartData","drawStreamChart","tmpwithinClassifierBandwidths","updateStreamChartData","updateAdjusterBar","updatenumberOfBins","tick","num","removeBandwidthHover","sortedBandWidth","n1","n2","curveText","hoverClassifier","curveBars","yAxisMarkerLineCurveLow","yAxisMarkerLineCurveUp","yAxisMarkerLineCurveBar","yAxisMarkerLineCurve","yAxisMarkerTextCurveBar","yAxisMarkerTextCurve","yAxisMarkerTextCurveLow","yAxisMarkerTextCurveUp","yAxisMarkerTextClassifier","yAxisMarkerTextS1","yAxisMarkerTextS2","allSelectedClassifier","xThreshold","threshold_idx","svg_curves","legend2","thresholdBins","accLegend","head1","interrupt","round","invert","drawAdjuster","sqrt3","triangleRight","draw","moveTo","lineTo","closePath","triangleLeft","leftTrgl","rightTrgl","dis","head2","xTAxis","yUnceratiny","yTAxis","yTAxis_acc","barThresholds","drawMiddelLine","clearBarHover","clearAccHover","clearThresholdBound","clearBandwitdth","addDefault","curveOffset","bandwidthRange","leftEdge","rightEdge","pred_prob","e","select1Bars","select2Bars","calculate_auc","calculate_mse","precison","drawHoverExternal","isNaN","bar1Color","bar1HoverColor","bar2Color","bar2HoverColor","rightsize1","rightsize2","String","x0Name","x1Name","curData","_x0n","_data","_x1n","rec","curData_reverse","_data_reverse","hoverdata","cur_dict","selectedBarText","hoverData","rangeRound","barMultitp","multibars","barMultitpRe","multirebars","filterDummyClassifiers","dimensions","Number","default","title","drawGradient","linearGradient","gradientId","percentBetweenColors","drawTitle","onHoverChange","validator","colorScales","hoverInfo","sideLength","updateMaxBucketedInstances","bucketedInstances","nClasses","actualIndex","predictedIndex","bucketIndex","cellHeight","cellWidth","bucketSizes","diagonal","nondiagonal","bucket","onMainDiagonal","maxBucketedInstances","colorScaleDiagonal","colorScaleNonDiagonal","applyColorScale","classCross","cells","translateCell","updateUserSelection","drawMatrixCells","drawHoverOutline","drawSelection1","html","drawSelection2","elemPerRow","row","col","cellDescription","ColorLegend","ConfusionMatrixMinimal","predictedClassLegend","colorLegend","actualClassLegend","matrixGrid","actualClassScale","allBucketedInstances","bucketedInstancesByClassifier","cartesian","classifierClassCross","correctlyClassified","misclassified","grid","sideBar","topBar","matricesPerRow","ceil","classifierMax","maxBucketedInstancesByClassifier","nRows","predictedClassScale","xIndices","yIndices","drawGrid","drawColorLegend","drawSidebar","drawTopBar","gradientsData","colorDark","colorLight","defineGradients","defs","gradients","drawGradients","agreeAxis","disagreeAxis","updateHoverCell","rowIndex","colIndex","matrices","matrixCells","drawCells","numberOfInstances","cachedBucketedInstancesByClassifier","selectionBarHeight","dotRadius","drawMatrixTitles","hoverCircles","barSelection1","barSelection2","dotSelection1","dotSelection2","dotThreshold","instancesByCross","dotOpacity","constraintRow","constraintColumn","VCheckbox","sorting","agreementKeys","agreements","reverse","correctClassifiers","numberOfCorrectClassifiers","cumulativeAgreements","key2","barYOffset","barHeight","drawCircle","circleXOffset","circleYOffset","circleR","coordinateXOffset","coordinateYOffset","xVal","yVal","datum","bars","circles","hoverCountIndex","applyFilter","checkedBoxes","Class","Classifier","headers","pagination","styleTableRow","changedHoverInstance","clearHoverInstance","sortBy","rowsPerPage","replace","comparators","aBelongs","bBelongs","common","firstColor","secondColor","firstSelection","secondSelection","isFirst","isSecond","VDataTable","continuousChange","overlapSelectionDescription","setOverlapSelection","clearOverlapSelections","composeUserSelections","icon","items","directives","rawName","composing","firstSecondUnion","xTotal","xSelection","rectComplement","rectUnion","rectFirstOnly","rectIntersection","rectSecondOnly","firstOnly","firstSecondIntersection","secondOnly","drawLines","leftLine","rightLine","drawText","textComplement","textUnion","textFirstOnly","textIntersection","textSecondOnly","percentageText","defineGradient","gradient","barTotal","barUnion","interBarHeight","percentage","operand1","operand2","composition","dialog","red","action","tooltip","green","addNewConstraint","orange","gray","rules","regularBoxProps","constrainedInstanceListBoxProps","placeholders","VMenu","featureValuesMax","featureValuesMin","featureValuesStep","featureType","valuesWithoutDuplicates","defaultBounds","minMaxBounds","bounds","boundsInterval","boundsRatio","featureValueBounds","step","VAutocomplete","VSlider","allowedFeatures","instancePercentage","ActualTargetClass","ChooseRule","ClassifierRight","ClassifierPredicted","ClassifiersAgree","ConstrainedInstanceList","FeatureEquals","FeatureGreaterThan","FeatureLessThan","yellow","buttons","discardQuery","resetQuery","saveQuery","constrainedInstances","closeDialog","isQueryComplete","alert","descriptions","fullDescription","VContainer","VSubheader","VTooltip","InstanceVennDiagram","QueryGenerator","operations","OR","function","AND","MINUS","XOR","find","op","undefined","record","subset","allInstance","firstInstance","secondInstance","intersectionInstance","unionInstance","complementInstance","prevInstance","nextInstance","randInstance","emphasize","image","sortby","sortBySel","descending","show_predictions","show_features","string_length","currentIndex","Image","src","Infinity","VImg","VListItemSubtitle","VListItemIcon","addTag","sliderRange","curveClassifiers","drawUpdateRangesCurve","drawUpdateRanges","newTag","classifierThresholdCurve","pre_value","range_text","cur_from","head","curAddedBandWidthClassifier","origin_value","added_value","drawResumedBandwidths","updateValues","drawOuterRanges","filteredClassifier","classifierFilters","pre_values","cur_values","deleted_values","new_added_values","from","to","cur_to","sample_value","setOverlapSampling","onButtonClick","styleDataChosen","addSampling","sampling","partition","partition1","randomIntegers","partition2","tmpValue","randomArrays","randomSet","decription","tmp_payload","svg_random","sample_size","sample_time","samples","time_count","tmp_sample","svg_bootstrap","categorial_features","weight_dicts","cur_feature","sampled_value","classList","cate_dict","tmp_feature_sample","cate","tmp_sample_size","tmp_samples","svg_stratified","validation_value","parameters","k_size","shuffle","k_fold_datasets","fold_size","test_list","train_list","start_id","end_id","svg_validation","RandomSampling","BootstrapSampling","StratifiedSampling","ClassFilter","ClassifierFilter","InstanceList","SetHistory","FocusItem","ViewList","ContinuousMode","UncertainAdjuster","KfoldValidation","consensusType","agreeColor","backgroundColor","disagreeColor","hoverColor","neutralColor","agreeScale","consensusMax","consensus","agree","disagree","consensusKeys","disagreeScale","keyCross","drawBackgroundRect","drawSquares","whichTriangle","c1Index","c2Index","display_mode","continuous_dict","m_accuracy","m_mcc","m_precision","m_recall","m_f1","additionMetrics","storeContinuousMetrics","standardClassifier","new_continuous_dict","addtionalStoreMetrics","evaluationMethods","drawParelle","vueThis","continuous","fakeyClassifiers","rect_width","showHover","removeHover","curdata","showSelected","allpaths","allpathtexts","allRects","allRectTexts","curtops","fakeData","pathColormap","k","selector_id","colorscale","legendheight","legendwidth","canvas","node","ctx","getContext","legendscale","createImageData","putImageData","correlationMode","chosenData","correlation_mode","correlations","numericTypes","isNumeric","numericFeatures","categoricalFeatures","selectedClassifiers","cur_classifier","confidenceRange","group","variable","uncertain_size","acc1","acc2","acc3","updateCorrelations","drawCorrelation","drawTitels","ndots","midpoint","dimgrey","upinterp","midcolor","lowinterp","cinterp","yv","drawLengends","InitialCorrelations","viewTitile","myGroups","myVars","corr","tooltiptext1","tooltiptext2","tooltiptext3","tooltiptext4","mouseover","mousemove","uncertainty","mouseleave","shorten","clickCount","clickTimer","continuousClassifierList","lsort","predOrFeature","ret","localeCompare","stringFeature","clearTimeout","setFocus","inFocus","chosenFeature","pureCategoricalFeatures","binLimits","hoverCategory","hoverActual","selected1","selected2","categoryFeatures","panel2","panel3","panel4","categoricalFeaturesNum","numericFeaturesNum","normalizationMode","binCounts","binMax","getInstance","filteredF","finalF","rawData","nonSort","bucketedinstances","predclass","totalAscending","totalDescending","showActualClassDistribution","yMax","maxByCategory","bucketKeys","barstmp","barstmp2","barsActual","barstmpcircle","barstmp2circle","barstmprect1","barstmprect2","barsActualRect","yText","xClass","yClass","xCate","yCate","xAxistmp","xAxistmp2","yAxistmp","yAxistmp2","showtext","translateCelltmp","translateCelltmp2","cellstmp","selecttmp","cellstmp2","selecttmp2","barWidthtmp","barYOffsettmp","barHeighttmp","barWidthtmp2","barYOffsettmp2","barHeighttmp2","constraintLowerBound","constraintUpperBound","VSelect","value_y","zoom","obejct","max_value","classifierValue","featureIntervals","featureYIntervals","preCorrelations","prefeatureIntervals","prefeatureYIntervals","premax_value","classifierThreshods","feature_y","featureList","featureYList","feature_min","feature_max","featureY_min","featureY_max","feature_value","featureY_value","feature_diff","featureY_diff","beginY","scatter_matrix","featureY","feature_idx","featureY_idx","drawRects","drawZoomin","drawOverallView","feature_name","featureY_name","idToIndex","essentials","info","line_idx","lineHover","currentThresholds","selectedPred","classifierBuckets","leftRate","rightRate","multilClassifier","thresholdList","tmp_threshold","diff_interval","tmp_key","bucket_idx","calcuate_res","get_res","last_res","totoal","tmp_left_key","tmp_left_next_key","left_instances","tmp_right_key","tmp_right_before_key","right_instances","new_predictions","tmp_res","updateSelectedPred","drawSelectionChart","drawLineHover","selectionList","tmp_selection","tmp_thresholdList","rejec_rate","c_acc","mappedPredictions","sortedPredictions","y_value","drawMultiClassifeirCurves","rated_domain","mapped_rate_domain","xRates","Histogram","UncertaintyHeatMap","Performance_Overall","Performance_Curves","Trinary_Performance_Confidence","Reliability_Curve","Trinary_Bandwidth_Assessment","Rejected_Curve","Trinary_Instance_Distribuion","Performance_Selection","Performance_Per_Class","ConfusionMatrixGrid","draggable","CumulativeAccuracy","Sidebar","PairwiseClassifierConsensus","MetricsTable","MetricsParallel","ScatterPlot","storeVisualizations","tileName","Navbar","RigidTileHome","Multiselect","addEventListener","$alert","related_use_case","nav","document","getElementById","toggle","VApp","VSnackbar","base","routes","productionTip","router","vuetify","h","App","$mount"],"mappings":"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","file":"js/app.1fd2a12e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItemSide.vue?vue&type=style&index=0&id=7b9cb289&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItemSide.vue?vue&type=style&index=0&id=7b9cb289&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterPlot.vue?vue&type=style&index=0&id=31750de6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterPlot.vue?vue&type=style&index=0&id=31750de6&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerformance.vue?vue&type=style&index=0&id=92fb7b2e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerformance.vue?vue&type=style&index=0&id=92fb7b2e&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParallelMetrics.vue?vue&type=style&index=0&id=60649a31&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParallelMetrics.vue?vue&type=style&index=0&id=60649a31&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetHistory.vue?vue&type=style&index=0&id=fc83529a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetHistory.vue?vue&type=style&index=0&id=fc83529a&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerfCurves.vue?vue&type=style&index=0&id=603a45b7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerfCurves.vue?vue&type=style&index=0&id=603a45b7&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=style&index=0&id=3297c99c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=style&index=0&id=3297c99c&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=5c45cbd2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=5c45cbd2&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=style&index=0&id=47878edb&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=style&index=0&id=47878edb&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixGrid.vue?vue&type=style&index=0&id=18cb8c7c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixGrid.vue?vue&type=style&index=0&id=18cb8c7c&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BandwidthAssessment.vue?vue&type=style&index=0&id=5606a6ef&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BandwidthAssessment.vue?vue&type=style&index=0&id=5606a6ef&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixMinimal.vue?vue&type=style&index=0&id=c267964c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixMinimal.vue?vue&type=style&index=0&id=c267964c&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertaintyHeatMap.vue?vue&type=style&index=0&id=15b659f7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertaintyHeatMap.vue?vue&type=style&index=0&id=15b659f7&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierConfidence.vue?vue&type=style&index=0&id=202c3122&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierConfidence.vue?vue&type=style&index=0&id=202c3122&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItem.vue?vue&type=style&index=0&id=15d9b217&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItem.vue?vue&type=style&index=0&id=15d9b217&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReliabilityCurve.vue?vue&type=style&index=0&id=55929ecc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReliabilityCurve.vue?vue&type=style&index=0&id=55929ecc&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PairwiseClassifierConsensus.vue?vue&type=style&index=0&id=91ee6e68&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PairwiseClassifierConsensus.vue?vue&type=style&index=0&id=91ee6e68&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierAccuracy.vue?vue&type=style&index=0&id=1393318d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierAccuracy.vue?vue&type=style&index=0&id=1393318d&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureHistogram.vue?vue&type=style&index=0&id=848054e2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureHistogram.vue?vue&type=style&index=0&id=848054e2&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionClassifierPerformance.vue?vue&type=style&index=0&id=2fe25134&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionClassifierPerformance.vue?vue&type=style&index=0&id=2fe25134&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RigidTileHome.vue?vue&type=style&index=0&id=02fadef4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RigidTileHome.vue?vue&type=style&index=0&id=02fadef4&scoped=true&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=ff96ecdc&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=ff96ecdc&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RejectedCurve.vue?vue&type=style&index=0&id=f44c4014&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RejectedCurve.vue?vue&type=style&index=0&id=f44c4014&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailedClassifierPerformance.vue?vue&type=style&index=0&id=030bae07&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailedClassifierPerformance.vue?vue&type=style&index=0&id=030bae07&scoped=true&lang=css&\"","/*\nimport Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n// import 'vuetify/src/stylus/app.styl';\nimport 'vuetify/src/styles/main.sass';\n\nVue.use(Vuetify, {\n  iconfont: 'md',\n});\n*/\n// src/plugins/vuetify.js\n\nimport Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nconst opts = {};\n\nexport default new Vuetify(opts);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"app-bar\"},[_c('v-dialog',{attrs:{\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"fab\":\"\",\"small\":\"\"}},on),[_c('v-icon',[_vm._v(\"add\")])],1)]}}]),model:{value:(_vm.load_dialog),callback:function ($$v) {_vm.load_dialog=$$v},expression:\"load_dialog\"}},[_c('DatasetSelectorPopup')],1),_c('span',{staticClass:\"dataset-title\"},[_vm._v(_vm._s(_vm.$store.state.chosenDataset.name))]),_c('v-btn',{staticClass:\"ml-10\",attrs:{\"fab\":\"\",\"small\":\"\"},on:{\"click\":_vm.change_grid_size}},[_c('v-icon',[_vm._v(\"grid_on\")])],1),_c('v-menu',{staticClass:\"select_view\",attrs:{\"close-on-click\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ml-5\"},'v-btn',attrs,false),on),[_vm._v(\"Views\")])]}}])},[_c('v-list',_vm._l((_vm.viewsMapping),function(view){return _c('v-list-item',{key:view.view,on:{\"click\":function () { return _vm.$store.dispatch('openView', view.view); }}},[_c('v-list-item-title',[_c('v-btn',{attrs:{\"block\":\"\",\"color\":\"white\"}},[_vm._v(_vm._s(view.view_name))])],1)],1)}),1)],1),_c('multiselect',{staticClass:\"select_classifiers\",attrs:{\"placeholder\":\"Excluded classifiers\",\"options\":_vm.classifiers,\"multiple\":\"\"},model:{value:(_vm.value_classifier),callback:function ($$v) {_vm.value_classifier=$$v},expression:\"value_classifier\"}}),_c('v-btn',{staticClass:\"ml-10\",on:{\"click\":function($event){return _vm.save_views()}}},[_vm._v(\"Save Views\")]),_c('v-btn',{staticClass:\"ml-10\",on:{\"click\":function($event){return _vm.reload_views()}}},[_vm._v(\"Reload Views\")]),_c('v-btn',{staticClass:\"ml-16\",on:{\"click\":function($event){return _vm.btnClick('Git Repo')}}},[_vm._v(\"Git Repo\")]),_c('v-menu',{staticClass:\"select_help\",attrs:{\"close-on-click\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ml-5\"},'v-btn',attrs,false),on),[_vm._v(\"Help\")])]}}])},[_c('v-list',_vm._l((_vm.helpButtons),function(button){return _c('v-list-item',{key:button.name,on:{\"click\":function () { return _vm.btnClick(button.name); }}},[_c('v-list-item-title',[_c('v-btn',{attrs:{\"block\":\"\",\"color\":\"white\"}},[_vm._v(_vm._s(button.name))])],1)],1)}),1)],1)],1),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"NavigationDrawer is-closed\",attrs:{\"id\":\"nav-1\"}},[_c('Navbar')],1),_c('RigidTileHome'),_c('v-snackbar',{staticStyle:{\"text-align\":\"center\"},attrs:{\"timeout\":0},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_c('span',[_vm._v(\"SET UNION MODE\")])])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('div',{attrs:{\"id\":\"app\"}},[_c('vue-instant-loading-spinner',{ref:\"Spinner\"})],1),_c('v-card-title',[_c('h2',[_vm._v(\"Dataset list\")])]),_c('v-card-text',[_c('v-list',_vm._l((Object.keys(this.$store.state.datasets)),function(dataset){return _c('v-list-item',{key:dataset,on:{\"click\":function($event){[_vm.changedDatasetByName(dataset), _vm.test()]}}},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(dataset)}})],1)],1)}),1),_c('v-layout',[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Enter Custom Dataset URL\",\"outline\":\"\"},model:{value:(_vm.customDatasetURL),callback:function ($$v) {_vm.customDatasetURL=$$v},expression:\"customDatasetURL\"}})],1),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-btn',{on:{\"click\":function () { _vm.changedDataset(_vm.customDatasetURL); _vm.customDatasetURL = '', _vm.test()}}},[_vm._v(\"Load\")])],1)],1),_c('v-btn',{on:{\"click\":function () {_vm.btnClick()}}},[_vm._v(\"Help preparing your own data\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { mapActions } from \"vuex\";\nimport VueInstantLoadingSpinner from \"vue-instant-loading-spinner/src/components/VueInstantLoadingSpinner.vue\";\n\nexport default Vue.extend({\n    name: \"DatasetSelectorPopup\",\n    components: {\n        VueInstantLoadingSpinner\n    },\n    data() {\n        return {\n            customDatasetURL: \"\"\n        };\n    },\n    methods: {\n        btnClick() {\n            console.log(\"click\", this.$store.state.datasets);\n            window.open(\n                \"https://pages.graphics.cs.wisc.edu/BoxerDocs/docs/user_guide/data_preparation/\"\n            );\n        },\n        test: function() {\n            console.log(\"call test\");\n            this.$refs.Spinner.show();\n            setTimeout(\n                function() {\n                    this.$refs.Spinner.hide();\n                }.bind(this),\n                5000\n            );\n        },\n        ...mapActions([\"changedDataset\", \"changedDatasetByName\"])\n    }\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetSelectorPopup.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetSelectorPopup.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DatasetSelectorPopup.vue?vue&type=template&id=32d4b092&\"\nimport script from \"./DatasetSelectorPopup.vue?vue&type=script&lang=ts&\"\nexport * from \"./DatasetSelectorPopup.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VFlex,VLayout,VList,VListItem,VListItemContent,VListItemTitle,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-expansion-panel',{attrs:{\"expand\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\"Settings\")]),_c('v-expansion-panel-content',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Data Source\")]),_c('DatasetSelector')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-list',{attrs:{\"two-line\":\"\",\"subheader\":\"\"}},[_c('v-list-tile',[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(_vm.$store.state.chosenDataset.name))]),_c('v-list-tile-sub-title',[_vm._v(\"Current Dataset\")])],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"400\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"small\":\"\",\"color\":\"light-blue white--text\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add\")])],1),_c('DatasetSelectorPopup')],1),_vm._v(\" Load new dataset \")],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport DatasetSelectorPopup from './DatasetSelectorPopup.vue';\n\nexport default Vue.extend({\n  name: 'DatasetSelector',\n  components: {\n    DatasetSelectorPopup,\n  },\n  data() {\n    return {\n      datasetFilepath: '@/assets/actual_output.dat',\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DatasetSelector.vue?vue&type=template&id=79ed5d98&\"\nimport script from \"./DatasetSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./DatasetSelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VCard,VDialog,VIcon,VList})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport DatasetSelector from './DatasetSelector.vue';\n\nexport default Vue.extend({\n    name: 'Navbar',\n    components: {\n      DatasetSelector,\n    },\n    data() {\n      return {\n        drawer: false,\n        panel: [],\n        links: [\n          {\n            text: 'Histogram',\n            route: '/histogram',\n          },\n          {\n            text: 'New Bar Chart',\n            route: '/new-bar-chart',\n          },\n          {\n            text: 'Agreement Matrix',\n            route: '/agreement-matrix',\n          },\n          {\n            text: 'Bar Chart',\n            route: '/bar-chart',\n          },\n          {\n            text: 'Confusion Matrices',\n            route: '/confusion-matrices',\n          },\n          {\n            text: 'Classifier Agreement',\n            route: '/classifier-agreement',\n          },\n          {\n            text: 'Home',\n            route: '/',\n          },\n          {\n            text: 'Flex Home',\n            route: '/flex-home',\n          },\n        ],\n      };\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=36c66adf&scoped=true&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36c66adf\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('draggable',{staticClass:\"list-group visualizations\",attrs:{\"tag\":\"div\",\"handle\":\".handle\"},model:{value:(_vm.$store.state.views.open),callback:function ($$v) {_vm.$set(_vm.$store.state.views, \"open\", $$v)},expression:\"$store.state.views.open\"}},_vm._l((_vm.$store.getters.visualizations),function(v,i){return _c('div',{key:i,class:\"list-group-item tile\",style:((\"width: \" + (_vm.viewWidthByName(v.name)) + \";\"))},[(!_vm.visualizationsWithoutExternalHandle.includes(v.name))?_c('div',{staticClass:\"top-bar\"},[_c('div',{staticClass:\"handle\"},[_vm._v(_vm._s(_vm.handleIcon))]),_c('div',{staticClass:\"tile-title\"},[_vm._v(_vm._s(v.name))])]):_vm._e(),_c(v.name,{tag:\"component\",staticClass:\"vis-component\",attrs:{\"boxProps\":v.boxProps,\"onClose\":function () { return _vm.$store.dispatch('closeView', i); }}})],1)}),0),_c('div',{staticClass:\"sidebar\"},[_c('Sidebar')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Predicate } from './components/constraints/types';\n\nexport interface BoxProps {\n  classes: Set<string>;\n  classifiers: Set<string>;\n  features: Set<string>;\n  instances: Set<string>;\n  thresholdClassifierNameList: [];\n  classifierBandWidthDict:{};\n}\n\nexport enum EntityType {\n  Class =  'class',\n  Classifier = 'classifier',\n  Instance = 'instance',\n}\n\nexport type Feature\n  = FeatureCategorical\n  | FeatureInterval\n  | FeatureNominal\n  | FeatureOrdinal\n  | FeatureRatio;\n\nexport interface FeatureCategorical {\n  type: 'categorical';\n  description: string;\n  categories: string[];\n}\n\nexport interface FeatureInterval {\n  type: 'interval';\n  description: string;\n  bounds?: [number, number];\n}\n\nexport interface FeatureNominal {\n  type: 'nominal';\n  description: string;\n}\n\nexport interface FeatureOrdinal {\n  type: 'ordinal';\n  description: string;\n  categories: string[];\n}\n\nexport interface FeatureRatio {\n  type: 'ratio';\n  description: string;\n  bounds?: [number, number];\n}\n\nexport enum FilterAction {\n  Set,\n  Clear,\n  Add,\n  Remove,\n}\n\nexport interface Instance {\n  actual: string;\n  predictions: {[classifierName: string]: string};\n  continuous_predictions: {};\n  left_range: {};\n  right_range: {};\n  features: {[featureName: string]: number | string};\n}\n\nexport interface InstanceWithId extends Instance {\n  id: string;\n}\n\nexport interface Margin {\n  top: number;\n  right: number;\n  bottom: number;\n  left: number;\n}\n\nexport interface Metrics {\n  actual: {\n    [className: string]:  Set<String>,\n  };\n  predicted: {\n    [className: string]:  Set<String>,\n  };\n  true: {\n    [className: string]:  Set<String>,\n  };\n  false: {\n    [className: string]:  Set<String>,\n  };\n  tp: {\n    [className: string]:  Set<String>,\n  }\n  fp:  {\n    [className: string]:  Set<String>,\n  }\n  fn:  {\n    [className: string]:  Set<String>,\n  }\n  tn:  {\n    [className: string]:  Set<String>,\n  }\n  accuracy: number;\n  microf1: {\n    average: number,\n  };\n  macrof1: {\n    average: number,\n  };\n  f1: {\n    average: number,\n    [className: string]: number,\n  };\n  precision: {\n    average: number,\n    [className: string]: number,\n  };\n  recall: {\n    average: number,\n    [className: string]: number,\n  };\n  mcc: {\n    average: number,\n  }\n  acc: {\n    average: number,\n  }\n}\n\nexport interface ContinuousMetrics {\n  x_roc: {\n    [className: string]:  Number[],\n  };\n  y_roc: {\n    [className: string]:  Number[],\n  };\n  value_roc: {\n    [className: string]: Number[],\n  };\n  x_pr: {\n    [className: string]:  Number[],\n  };\n  y_pr: {\n    [className: string]:  Number[],\n  }\n  line_roc:  {\n    [className: string]:  Set<String>,\n  }\n  line_pr:  {\n    [className: string]:  Set<String>,\n  }\n  auc_area: number;\n}\n\nexport enum SelectionAction {\n  Include = 'include',\n  Exclude = 'exclude',\n}\n\nexport interface SelectionRecord {\n  description: string;\n  id: number;\n  instances: Set<string>;\n  name: string;\n  size?: number;\n  predicate?: Predicate;\n  weight: number\n}\n\nexport interface modelSelectionRecord {\n  description: string;\n  id: number;\n  name: string;\n  threshold: number;\n}\n\nexport interface thresholdSelectionRecord{\n  description: string;\n  id: number;\n  name: string;\n  threshold: number;\n  classifier: string;\n}\n\nexport enum SelectionStrategy {\n  Any,\n  All,\n}\n\nexport enum SetCompose {\n  AND = 'and',\n  MINUS = 'minus',\n  OR = 'or',\n  XOR = 'xor',\n}\n\nexport interface Visualization {\n  boxProps: BoxProps;\n  name: VisualizationType;\n}\n\nexport interface ThresholdWithClassifier {\n  classifier: string;\n  single_threshold: number;\n}\n\nexport enum VisualizationType {\n  CA = 'Performance_Overall',\n  SCP = 'Performance_Selection',\n  COV = 'Performance_Per_Class',\n  CC = 'Performance_Curves',\n  CB = 'Trinary_Performance_Confidence',\n  RC = 'Reliability_Curve',\n  BA= 'Trinary_Bandwidth_Assessment',\n  REC = 'Rejected_Curve',\n  TID = 'Trinary_Instance_Distribuion',\n  CMG = 'ConfusionMatrixGrid',\n  FH = 'Histogram',\n  UM = 'UncertaintyHeatMap',\n  OCA = 'CumulativeAccuracy',\n  PCC = 'PairwiseClassifierConsensus',\n  SM = 'MetricsTable',\n  SMP = 'MetricsParallel',\n  ITL = 'InstanceList',\n  SP = 'ScatterPlot',\n  FI = 'FocusItem',\n}\n","export interface Constraint {\n  negation: boolean;\n  rule: Rule;\n  classifier: string;\n  classifier2: string;\n  target: string;\n  feature: string;\n  value: string;\n  numericValue: number;\n}\n\nexport enum PlaceHolder {\n  classifier = '[ Classifier ]',\n  feature = '[ Feature ]',\n  rule = '[ Rule ]',\n  target = '[ Target Class ]',\n}\n\nexport enum Rule {\n  ACTUAL = 'True target class',\n  AGREE = 'Classifiers agree',\n  FEATURE_EQ = 'Feature equals',\n  FEATURE_GT = 'Feature greater than',\n  FEATURE_LT = 'Feature less than',\n  NONE = '',\n  PREDICTED = 'Classifier predicted target class',\n  RIGHT = 'Classifier was right',\n}\n\nexport type Predicate\n  = PredicateSimple\n  | PredicateComposed\n  | PredicateNegated;\n\nexport interface PredicateSimple {\n  type: 'simple';\n  constraints: Constraint[];\n  metric:[]\n}\n\nexport interface PredicateComposed {\n  type: 'and' | 'or';\n  predicates: Predicate[];\n}\n\nexport interface PredicateNegated {\n  type: 'negated';\n  predicate: Predicate;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Performance (Overall)\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Sort by accuracy\"},model:{value:(_vm.accuracySorting),callback:function ($$v) {_vm.accuracySorting=$$v},expression:\"accuracySorting\"}},[_c('v-radio',{attrs:{\"label\":\"ascending\",\"value\":\"ascending\"}}),_c('v-radio',{attrs:{\"label\":\"descending\",\"value\":\"descending\"}}),_c('v-radio',{attrs:{\"label\":\"alphabetical\",\"value\":\"alphabetical\"}}),_c('v-radio',{attrs:{\"label\":\"none\",\"value\":\"\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationSelection),callback:function ($$v) {_vm.evaluationSelection=$$v},expression:\"evaluationSelection\"}},[_c('v-radio',{attrs:{\"label\":\"accuracy\",\"value\":\"accuracy\"}}),_c('v-radio',{attrs:{\"id\":\"mcc\",\"label\":\"mcc\",\"value\":\"mcc\"}}),(_vm.classNumber > 2 && _vm.datasetType != 'continuous')?_c('v-radio',{attrs:{\"label\":\"microf1\",\"value\":\"microf1\"}}):_vm._e(),(_vm.classNumber > 2 && _vm.datasetType != 'continuous')?_c('v-radio',{attrs:{\"label\":\"macrof1\",\"value\":\"macrof1\"}}):_vm._e(),(_vm.classNumber <= 2 || _vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"f1\",\"value\":\"f1\"}}):_vm._e(),(_vm.classNumber <= 2 || _vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"precision\",\"value\":\"precision\"}}):_vm._e(),(_vm.classNumber <= 2 || _vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"recall\",\"value\":\"recall\"}}):_vm._e()],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Performance Type\"},model:{value:(_vm.weightedPerformance),callback:function ($$v) {_vm.weightedPerformance=$$v},expression:\"weightedPerformance\"}},[_c('v-radio',{attrs:{\"label\":\"normal\",\"value\":\"normal\"}}),_c('v-radio',{attrs:{\"label\":\"weighted\",\"value\":\"weighted\"}})],1)],1)])],1)],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import store from '../../store';\n\nimport * as d3 from 'd3';\n\nimport {\n  Constraint,\n  Predicate,\n  PredicateComposed,\n  PredicateNegated,\n  Rule,\n  PredicateSimple,\n} from './types';\n\nimport { Instance } from '../../types';\nimport { instanceById, featureByName } from '../../utils';\n\ninterface Buckets {\n  [key: string]: string[];\n}\n\ninterface BucketCounts {\n  [key: string]: number;\n}\n\ntype Filter = (id: string) => boolean;\n\ninterface ConstraintParameters {\n  negation?: boolean;\n  rule: Rule;\n  classifier?: string;\n  classifier2?: string;\n  target?: string;\n  feature?: string;\n  value?: string;\n  numericValue?: number;\n}\n\nexport function average(array: number[]) {\n  return sum(array) / array.length;\n}\n\nexport function blankConstraint(): Constraint {\n  const constraint: Constraint = {\n    negation: false,\n    rule: Rule.NONE,\n    classifier: '',\n    classifier2: '',\n    target: '',\n    feature: '',\n    value: '',\n    numericValue: 0,\n  };\n  return constraint;\n}\n\nexport function bucketCategorical(featureName: string, instances: string[]): Buckets {\n  const buckets: Buckets = {};\n\n  const feature = featureByName(featureName);\n  if (feature.type !== 'categorical') {\n    console.error(`${featureName} is not a categorical feature`);\n    return buckets;\n  }\n\n  feature.categories.forEach((category) => {\n    const constraint = createConstraint({\n      rule: Rule.FEATURE_EQ,\n      feature: featureName,\n      value: category,\n    });\n    const predicate = createSimplePredicate(constraint);\n    buckets[category] = instancesFromPredicate(predicate, instances);\n  });\n\n  return buckets;\n}\n\nexport function bucketCount(featureName: string, instances: string[]): BucketCounts {\n  const feature = featureByName(featureName);\n  let buckets: Buckets = {};\n  if (feature.type === 'categorical') {\n    buckets = bucketCategorical(featureName, instances);\n  } else if (['interval', 'ratio'].includes(feature.type)) {\n    buckets = bucketNumeric(featureName, instances);\n  } else {\n    console.error(featureName, 'could not be bucketed because of invalid type.');\n  }\n  const bucketCounts: BucketCounts = {};\n  Object.keys(buckets).forEach((key) => {\n    bucketCounts[key] = buckets[key].length;\n  });\n  return bucketCounts;\n}\n\nexport function bucketCountNormalized(featureName: string, instances: string[]): BucketCounts {\n  const bucketCounts = bucketCount(featureName, instances);\n  const countTotal = sum(Object.values(bucketCounts));\n  const bucketCountsNormalized: BucketCounts = {};\n  Object.keys(bucketCounts).forEach((key) => {\n    bucketCountsNormalized[key] = bucketCounts[key] / countTotal;\n  });\n  return bucketCountsNormalized;\n}\n\nexport function bucketNumeric(featureName: string, instances: string[]): Buckets {\n  const buckets: Buckets = {};\n\n  const feature = featureByName(featureName);\n  if (!['interval', 'ratio'].includes(feature.type)) {\n    console.error(`${featureName} is not a numeric feature`);\n    return buckets;\n  }\n\n  const getBins = (): Array<d3.Bin<string, number>> => {\n    const numberOfBins = 10;\n    const featureValues = instances.map((id) => instanceById(id).features[featureName] as number);\n    const xMin = Math.min(...featureValues);\n    const xMax = Math.max(...featureValues);\n\n    const bins = d3.histogram<string, number>()\n      .domain([xMin, xMax])\n      .thresholds(numberOfBins)\n      .value((id: string) => {\n        const i = instanceById(id);\n        const value = i.features[featureName];\n        return value as number;\n      })\n      (instances);\n\n    bins.forEach((bin) => {\n      delete bin.x0;\n      delete bin.x1;\n    });\n    return bins;\n  };\n\n  getBins().forEach((binnedInstances, index) => {\n    buckets[index] = binnedInstances;\n  });\n\n  return buckets;\n}\n\nexport function compareFeatureInterestingness() {\n  const interestingness = (candidate: BucketCounts, baseline: BucketCounts) => {\n    const interests: number[] = [];\n    Object.keys(candidate).forEach((key) => {\n      const expected = baseline[key];\n      if (expected === 0) {\n        return;\n      }\n      const observed = candidate[key];\n      let interest = 0;\n      if (observed < expected) {\n        const lowerBound = 0;\n        const upperBound = expected;\n        interest = (observed - lowerBound) / (upperBound - lowerBound);\n        interest = 1 - interest;\n      } else if (observed > expected) {\n        const lowerBound = expected;\n        const upperBound = 1;\n        interest = (observed - lowerBound) / (upperBound - lowerBound);\n      }\n      interests.push(interest);\n    });\n    const averageInterest = average(interests);\n    return averageInterest;\n  };\n\n  const firstOverlapSelection = store.state.overlapSelections.first;\n  if (!firstOverlapSelection) {\n    console.error('First overlap selection is not defined.');\n    return;\n  }\n  const predicate = firstOverlapSelection.predicate;\n  if (!predicate) {\n    console.error('First overlap selection\\'s predicate is not defined.');\n    return;\n  }\n  const instances = instancesFromPredicate(predicate);\n\n  const allFeatures: string[] = [...store.getters.features];\n  const allInstances = [...store.getters.instances];\n\n  const allowedTypes = ['categorical', 'interval', 'ratio'];\n  const isAllowedType = (name: string) => allowedTypes.includes(featureByName(name).type);\n  const features = allFeatures.filter(isAllowedType);\n\n  const featuresWithInterest = features.map((name) => {\n    const allCounts = bucketCountNormalized(name, allInstances);\n    const selectedCounts = bucketCountNormalized(name, instances);\n    return {\n      name,\n      interestingness: interestingness(selectedCounts, allCounts),\n    };\n  });\n  featuresWithInterest.sort((f1, f2) => f2.interestingness - f1.interestingness);\n  console.log('Interestingness');\n  featuresWithInterest.forEach((f) => {\n    console.log(f.interestingness, f.name);\n  });\n}\n\nexport function composePredicates(\n  p1: Predicate,\n  p2: Predicate,\n  operation: 'complement' | 'difference' | 'intersection' | 'union',\n): Predicate {\n  switch (operation) {\n    case 'intersection':\n      const PredicateIntersection: PredicateComposed = {\n        type: 'and',\n        predicates: [p1, p2],\n      };\n      return PredicateIntersection;\n    case 'union':\n      const PredicateUnion: PredicateComposed = {\n        type: 'or',\n        predicates: [p1, p2],\n      };\n      return PredicateUnion;\n    case 'difference':\n      const a = p1;\n      const b = p2;\n      const notB: PredicateNegated = {\n        type: 'negated',\n        predicate: b,\n      };\n      const aAndNotB: PredicateComposed = {\n        type: 'and',\n        predicates: [a, notB],\n      };\n      return aAndNotB;\n    case 'complement':\n      const aUnionB: PredicateComposed = {\n        type: 'or',\n        predicates: [p1, p2],\n      };\n      const complement: PredicateNegated = {\n        type: 'negated',\n        predicate: aUnionB,\n      };\n      return complement;\n  }\n}\n\nexport function constraintToString(constraint: Constraint): string {\n  const {\n    classifier,\n    classifier2,\n    feature,\n    negation,\n    rule,\n    target,\n    value,\n  } = constraint;\n\n  switch (rule) {\n    case Rule.ACTUAL:\n      if (negation) {\n        return `True target class was not ${target}`;\n      } else {\n        return `True target class was ${target}`;\n      }\n    case Rule.AGREE:\n      if (negation) {\n        return `Classifiers ${classifier} and ${classifier2} disagree`;\n      } else {\n        return `Classifiers ${classifier} and ${classifier2} agree`;\n      }\n    case Rule.FEATURE_EQ:\n      if (negation) {\n        return `${feature} != ${value}`;\n      } else {\n        return `${feature} = ${value}`;\n      }\n    case Rule.FEATURE_GT:\n      if (negation) {\n        return `${feature} <= ${value}`;\n      } else {\n        return `${feature} > ${value}`;\n      }\n    case Rule.FEATURE_LT:\n      if (negation) {\n        return `${feature} >= ${value}`;\n      } else {\n        return `${feature} < ${value}`;\n      }\n    case Rule.PREDICTED:\n      if (negation) {\n        return `${classifier} did not predict ${target}`;\n      } else {\n        return `${classifier} predicted ${target}`;\n      }\n    case Rule.RIGHT:\n      if (negation) {\n        return `${classifier} was wrong`;\n      } else {\n        return `${classifier} was right`;\n      }\n    default:\n      return `constraintToString does not recognize this constraint`;\n  }\n}\n\nexport function createConstraint(params: ConstraintParameters): Constraint {\n  const c = blankConstraint();\n  return Object.assign(c, params);\n}\n\nexport function createFilter(constraint: Constraint): Filter {\n  const trueFilter: Filter = (id: string) => true;\n  let filter = trueFilter;\n\n  if (!isConstraintComplete(constraint)) {\n    return filter;\n  }\n\n  const {\n    negation,\n    rule,\n    classifier,\n    classifier2,\n    target,\n    feature,\n    value,\n  } = constraint;\n\n  switch (constraint.rule) {\n    case Rule.ACTUAL:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.actual === target;\n      };\n      break;\n    case Rule.AGREE:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.predictions[classifier] === i.predictions[classifier2];\n      };\n      break;\n    case Rule.FEATURE_EQ:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.features[feature] === value;\n      };\n      break;\n    case Rule.FEATURE_GT:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.features[feature] > value;\n      };\n      break;\n    case Rule.FEATURE_LT:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.features[feature] < value;\n      };\n      break;\n    case Rule.PREDICTED:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.predictions[classifier] === target;\n      };\n      break;\n    case Rule.RIGHT:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.predictions[classifier] === i.actual;\n      };\n      break;\n    default:\n      console.error('Case for some constraint is missing.');\n      break;\n  }\n\n  const negatedFilter: Filter = (id: string) => !filter(id);\n  return (negation ? negatedFilter : filter);\n}\n\nexport function createSimplePredicate(c: Constraint): PredicateSimple {\n  return {\n    type: 'simple',\n    constraints: [c],\n    metric: []\n  };\n}\n\nexport function filterFromConstraint(c: Constraint): Filter {\n  return createFilter(c);\n}\n\nexport function filterFromPredicate(p: Predicate): Filter {\n  switch (p.type) {\n    case 'simple':\n      const filters = p.constraints.map(filterFromConstraint);\n      return (id: string) => filters.every((f) => f(id));\n    case 'negated':\n      const filter = filterFromPredicate(p.predicate);\n      return (id: string) => !filter(id);\n    case 'and':\n      const filtersAnd = p.predicates.map(filterFromPredicate);\n      return (id: string) => filtersAnd.every((f) => f(id));\n    case 'or':\n      const filtersOr = p.predicates.map(filterFromPredicate);\n      return (id: string) => filtersOr.some((f) => f(id));\n  }\n}\n\nexport function instancesFromPredicate(p: Predicate, instances?: string[]): string[] {\n  const allInstances: string[] = [...store.getters.filteredInstances];\n  if (!instances) {\n    instances = allInstances;\n  }\n  const filter = filterFromPredicate(p);\n  const selectedInstances = instances.filter(filter);\n  return selectedInstances;\n}\n\nexport function isConstraintComplete(constraint: Constraint): boolean {\n  const {\n    rule,\n    classifier,\n    classifier2,\n    target,\n    feature,\n    value,\n  } = constraint;\n\n  switch (rule) {\n    case Rule.ACTUAL:\n      return target ? true : false;\n    case Rule.AGREE:\n      return classifier && classifier2 ? true : false;\n    case Rule.FEATURE_EQ:\n    case Rule.FEATURE_GT:\n    case Rule.FEATURE_LT:\n      return feature && value ? true : false;\n    case Rule.PREDICTED:\n      return classifier && target ? true : false;\n    case Rule.RIGHT:\n      return classifier ? true : false;\n    default:\n      return false;\n  }\n}\n\nexport function predicateAbstraction(p: Predicate): Constraint[] {\n  const validConstraints: Constraint[] = [];\n\n  const classes: string[] = [...store.getters.filteredClasses];\n  const classifiers: string[] = [...store.getters.filteredClassifiers];\n  const features: string[] = [...store.getters.features];\n  const instancesIds: string[] = instancesFromPredicate(p);\n  const instances = instancesIds.map(instanceById);\n\n  const abstractActualClass = () => {\n    const actualClass = [...new Set(instances.map((i) => i.actual))];\n    if (actualClass.length === 1) {\n      const constraint = createConstraint({\n        rule: Rule.ACTUAL,\n        target: actualClass[0],\n      });\n      validConstraints.push(constraint);\n    }\n  };\n\n  const abstractPredictedClass = () => {\n    classifiers.forEach((classifier) => {\n      const predictedClass = [...new Set(instances.map((i) => i.predictions[classifier]))];\n      if (predictedClass.length === 1) {\n        const constraint = createConstraint({\n          rule: Rule.PREDICTED,\n          classifier,\n          target: predictedClass[0],\n        });\n        validConstraints.push(constraint);\n      }\n    });\n  };\n\n  const abstractPairwiseAgreement = () => {\n    classifiers.forEach((classifier, index) => {\n      classifiers.slice(index + 1).forEach((classifier2) => {\n        const constraint = createConstraint({\n          rule: Rule.AGREE,\n          classifier,\n          classifier2,\n        });\n        validConstraints.push(constraint);\n      });\n    });\n  };\n\n  const abstractCorrectClassiferCount = () => {\n    const countCorrectClassifiers = (i: Instance) => {\n      const isCorrectlyPredicted = (classifier: string) =>\n        i.actual === i.predictions[classifier];\n      const correctClassifiers = classifiers.filter(isCorrectlyPredicted);\n      const count = correctClassifiers.length;\n      return count;\n    };\n\n    const correctClassifiersCounts = instances.map(countCorrectClassifiers);\n    const max = Math.max(...correctClassifiersCounts);\n    const min = Math.min(...correctClassifiersCounts);\n    if (min === max) {\n      const constraint = createConstraint({\n        rule: Rule.FEATURE_EQ,\n        feature: 'numberOfCorrectClassifiers',\n        numericValue: min,\n      });\n      validConstraints.push(constraint);\n    } else {\n      const lowerBound = createConstraint({\n        rule: Rule.FEATURE_LT,\n        negation: true,\n        feature: 'numberOfCorrectClassifiers',\n        numericValue: min,\n      });\n      const upperBound = createConstraint({\n        rule: Rule.FEATURE_GT,\n        negation: true,\n        feature: 'numberOfCorrectClassifiers',\n        numericValue: max,\n      });\n      validConstraints.push(lowerBound);\n      validConstraints.push(upperBound);\n    }\n  };\n\n  const abstractDataFeatures = () => {\n    features.forEach((name) => {\n      const allEqual = <T>(array: T[]) => array.every((v) => v === array[0]);\n      const f = featureByName(name);\n      const values = instances.map((i) => i.features[name]);\n      switch (f.type) {\n        case 'nominal':\n        case 'categorical':\n          if (allEqual(values)) {\n            const constraint = createConstraint({\n              rule: Rule.FEATURE_EQ,\n              feature: name,\n              value: values[0] as string,\n            });\n            validConstraints.push(constraint);\n          }\n          break;\n        case 'ordinal':\n          console.error('Ordinal variables not handled in predicate abstraction.');\n          break;\n        case 'interval':\n        case 'ratio':\n          const min = Math.min(...values as number[]);\n          const max = Math.max(...values as number[]);\n          if (min === max) {\n            const constraint = createConstraint({\n              rule: Rule.FEATURE_EQ,\n              feature: name,\n              numericValue: values[0] as number,\n            });\n            validConstraints.push(constraint);\n          } else {\n            const lowerBound = createConstraint({\n              rule: Rule.FEATURE_LT,\n              negation: true,\n              feature: name,\n              numericValue: min,\n            });\n            const upperBound = createConstraint({\n              rule: Rule.FEATURE_GT,\n              negation: true,\n              feature: name,\n              numericValue: max,\n            });\n            validConstraints.push(lowerBound);\n            validConstraints.push(upperBound);\n          }\n          break;\n      }\n    });\n  };\n\n  abstractDataFeatures();\n\n  console.log('valid constraints', validConstraints);\n\n  // create list of simple predicates from valid constraints\n  const validPredicates = validConstraints.map(createSimplePredicate);\n\n  // find precision of each valid predicate\n  const predicatePrecision = (candidate: Predicate, baseline: Predicate): number => {\n    const intersection = composePredicates(candidate, baseline, 'intersection');\n    const part = instancesFromPredicate(intersection);\n    const whole = instancesFromPredicate(candidate);\n    const precision = part.length / whole.length;\n    return precision;\n  };\n  const predicatesWithPrecisions = validPredicates.map((pred) => ({\n    predicate: pred,\n    precision: predicatePrecision(pred, p),\n  }));\n\n  // sort by precision\n  predicatesWithPrecisions.sort((p1, p2) => p2.precision - p1.precision);\n\n  console.log('precisions and predicates');\n  predicatesWithPrecisions.forEach((pred) => {\n    // console.log(pred.precision, constraintToString(pred.predicate.constraints[0]));\n  });\n\n  return validConstraints;\n}\n\nexport function sum(array: number[]): number {\n  return array.reduce((total, a) => total + a, 0);\n}\n","const good = '#4393c3';\nconst goodDark = '#2166ac';\nconst goodLight = '#d1e5f0';\nconst uncertainLight = '#dcdcdc'\nconst uncertainDark = '#696969'\nconst badr =       '#d6604d';\nconst badDarkr =   '#b2182b';\nconst badLightr =  '#fddbc7';\nconst bad =        '#fc9236'; // '#fdae6b';\nconst badDark =    '#cf6d17'; // '#e67919';\nconst badLight =   '#ffd9b3'; // '#fde2ce';\nconst highlight = '#000000';\nconst categorical = [\n  '#e6194B',\n  '#3cb44b',\n  '#ffe119',\n  '#4363d8',\n  '#f58231',\n  '#911eb4',\n  '#42d4f4',\n  '#f032e6',\n  '#bfef45',\n  '#fabebe',\n  '#469990',\n  '#e6beff',\n  '#9A6324',\n  '#fffac8',\n  '#800000',\n  '#aaffc3',\n  '#808000',\n  '#ffd8b1',\n  '#000075',\n  '#a9a9a9',\n];\n\nconst usual = good;\nconst white = '#ffffff';\n\nconst focus = '#F5D300'\n\nexport let colors = {\n  bad,\n  badDark,\n  badLight,\n  categorical,\n  good,\n  goodDark,\n  goodLight,\n  highlight,\n  overlapSelections: {\n    first: '#18FFFF',\n    second: '#FF40C1',\n    background: 'lightgray',\n  },\n  usual,\n  white,\n  focus\n};\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport * as d3 from 'd3';\nimport {\n  modelSelectionRecord,\n  EntityType,\n  Feature,\n  Instance,\n  Metrics,\n  SelectionAction,\n  SelectionRecord,\n  SelectionStrategy,\n  Visualization,\n  VisualizationType,\n  ThresholdWithClassifier,\n  thresholdSelectionRecord,\n} from './types';\nimport {\n  difference,\n  intersection,\n  instanceById,\n  xor,\n  union,\n} from './utils';\nimport {\n  predicateAbstraction, isConstraintComplete, composePredicates,\n} from './components/constraints/utils';\nimport { range, select, selection } from 'd3';\n\nimport { colors } from './theme';\n\nconst fs = require('browserify-fs');\n\nVue.use(Vuex);\n\nconst config = require(\"./datasets_config.json\");\n\nconst datasets: {\n} = config.datasets;\n\nconst SERVER_URL =  config.SERVER_URL;\n\nexport default new Vuex.Store({\n  state: {\n    saveStatus:0,\n    resumeStatus:0,\n    saveConfig:{\n      \"Reliability_Curve\":[],\n      \"Histogram\":[],\n      \"Performance_Curves\":[],\n      \"Trinary_Bandwidth_Assessment\":[],\n      \"Rejected_Curve\":[],\n      \"UncertaintyHeatMap\":[],\n      \"Trinary_Performance_Confidence\":[],\n      \"Trinary_Instance_Distribuion\":[],\n      \"Thresholds\":{},\n      \"Bandwidths\":{},\n    },\n    resumedBandwidths:{},\n    viewsConfig: [],\n    chosenFixedDataset: {},\n    fixedDataset: 'yes',\n    corsError: '',\n    currentChosenSample: '',\n    weightMode: 'no',\n    currentChosenFold:'',\n    sampleList: [],\n    sampleDict: {},\n    selectedSampleSet: {\n      first: null as SelectionRecord | null,\n      second: null as SelectionRecord | null,\n    },\n    validationList: [],\n    addedThresholdClassifiers: [],\n    curAddedThresholdClassifier: {},\n    addedBandWidthClassifiers: [],\n    withinClassifierBandWidthList: [],\n    withinClassifierName: '',\n    classifierBandWidthDict: {},\n    bandWidthChangedClassifierName:'',\n    outerBandWidth:{},\n    classifierThresholdList:[],\n    classifierThresholdDict:{},\n    thresholdClassifierNameList:[],\n    chosenClassifierThresholdTuple: {\n      classifier: \"\",\n      single_threshold: 0,\n    } as ThresholdWithClassifier,\n    curveChosenClassifierThresholdTuple:{\n      classifier:\"\",\n      single_threshold: 0,\n    } as ThresholdWithClassifier,\n    datasetType: 'discrete' as 'discrete' | 'continuous',\n    viewWidth: \"50%\",\n    baseDataset: 'both' as 'both' | 'train' | 'test' | 'sample',\n    baseSelection: {\n      description: 'Not yet set',\n      id: -1,\n      instances: new Set(),\n      name: 'Not yet set',\n      classifier:\"null\",\n      className:\"null\",\n      weight:0,\n    } as SelectionRecord,\n    chosenDataset: {\n      name: '',\n      classes: [],\n      classifiers: [],\n      features: {},\n      instances: {},\n    } as {\n      name: string,\n      classes: string[],\n      classifiers: string[],\n      features: { [id: string]: Feature },\n      instances: { [id: string]: Instance },\n    },\n    datasets,\n    hoverInstance: '',\n    continuous_metrics:{},\n    weighted_metrics: {},\n    filters: {\n      class: {\n        type: SelectionAction.Exclude,\n        set: new Set(),\n      },\n      classifier: {\n        type: SelectionAction.Exclude,\n        set: new Set(),\n      },\n      instance: {\n        type: SelectionAction.Exclude,\n        set: new Set(),\n      },\n    } as {\n      [key in EntityType]: {\n        type: SelectionAction,\n        set: Set<string>,\n      }\n    },\n    overlapSelections: {\n      first: null as SelectionRecord | null,\n      second: null as SelectionRecord | null,\n    },\n    selectionHistory: [] as SelectionRecord[],\n\n    focusItemId: null as string,\n    focusSet: null as string,\n    focusDotEmphasis: false,\n\n    modelSelections: null as modelSelectionRecord | null,\n    modelSelectionHistory: [] as modelSelectionRecord[],\n    selectionStrategy: SelectionStrategy.Any as SelectionStrategy,\n    views: {\n      all: [\n        VisualizationType.CA,\n        VisualizationType.SCP,\n        VisualizationType.COV,\n        VisualizationType.CMG,\n        VisualizationType.FH,\n        VisualizationType.UM,\n        VisualizationType.OCA,\n        VisualizationType.PCC,\n        VisualizationType.SM,\n        VisualizationType.SMP,\n        VisualizationType.ITL,\n        VisualizationType.SP,\n        VisualizationType.FI\n      ],\n      open: [\n        VisualizationType.CA,\n        VisualizationType.FH,\n      ],\n    } as {\n      all: VisualizationType[],\n      open: VisualizationType[],\n    },\n    intersectionMode: true,\n  },\n  mutations: {\n    setSavesStatus(state, new_status){\n      Vue.set(state, 'saveStatus', new_status)\n    },\n    setResumeStatus(state, new_status) {\n      Vue.set(state, 'resumeStatus', new_status)\n    },\n    setSaveConfig(state, config){\n      Vue.set(state.saveConfig, config['name'], config['config'])\n    },\n    setChosenFixedDataset(dataset, new_dataset) {\n      Vue.set(dataset, 'chosenFixedDataset', new_dataset);\n    },\n    setFixedDataset(flag, new_flag) {\n      Vue.set(flag, 'fixedDataset', new_flag)\n    },\n    setcorsError(cors_error, new_error) {\n      Vue.set(cors_error, 'corsError', new_error)\n    },\n    setContinuousMetrics(continuous_metrics, new_metrics) {\n      Vue.set(continuous_metrics, \"continuous_metrics\", new_metrics)\n    },\n    setWeightMetrics(metrics, new_metrics) {\n      Vue.set(metrics, \"weighted_metrics\", new_metrics)\n    },\n    setCurveChosenClassifierThresholdTuple(continuous_classifierThreshold, new_classifierThreshold) {\n      Vue.set(continuous_classifierThreshold, \"curveChosenClassifierThresholdTuple\", new_classifierThreshold)\n    },\n    setChosenClassifierThresholdTuple(continuous_classifierThreshold, new_classifierThreshold) {\n      Vue.set(continuous_classifierThreshold, \"chosenClassifierThresholdTuple\", new_classifierThreshold)\n    },\n    setWeightMode(state, new_mode) {\n      Vue.set(state, \"weightMode\", new_mode)\n    },\n    setclassifierBandWidthDict(state, newUncertainBandwidth){\n      Vue.set(state, \"classifierBandWidthDict\",newUncertainBandwidth);\n    }, \n    setWithinClassifierBandWidthList(state, newWithinClassifier) {\n      Vue.set(state, \"withinClassifierBandWidthList\", newWithinClassifier);\n    },\n    setWithinClassifierName(state, newClassifierName) {\n      Vue.set(state, 'withinClassifierName', newClassifierName)\n    },\n    setBandWidthChangedClassifier(state, newuncertainClassifier){\n      Vue.set(state, \"bandWidthChangedClassifierName\",newuncertainClassifier);\n    },\n    setouterBandWidth(state, new_bandWidth){\n      Vue.set(state, \"outerBandWidth\", new_bandWidth);\n    },\n    setClassifierThresholdDict(state, new_allclassifierThreshold) {\n      Vue.set(state, 'classifierThresholdDict', new_allclassifierThreshold);\n    },\n    setThresholdClassifierNameList(state, new_allthresholdClassifiers) {\n      Vue.set(state, \"thresholdClassifierNameList\",new_allthresholdClassifiers)\n    },\n    setResumedBandwidths(state, new_bands){\n      Vue.set(state, \"resumedBandwidths\",new_bands)\n    },\n    setViewsType (state, views: VisualizationType[]) {\n      Vue.set(state.views, 'all',views)\n    },\n    setTileWidth(state, width) {\n      Vue.set(state, \"viewWidth\", width);\n    },\n    setToggleIntersectionMode(state, intersect) {\n      Vue.set(state, 'intersectionMode', intersect);\n    },\n    setBaseSelection(state, baseSelection: SelectionRecord) {\n      Vue.set(state, 'baseSelection', baseSelection);\n    },\n    setOpenViews(state, views: VisualizationType[]) {\n      Vue.set(state.views, 'open', views);\n    },\n    setViewsConfig(state,  new_config) {\n      Vue.set(state, 'viewsConfig', new_config)\n    },\n    setOverlapSelection(\n      state,\n      payload: {\n        whichOverlap: 'first' | 'second',\n        selection: SelectionRecord | null,\n      },\n    ) {\n      const {whichOverlap, selection} = payload;\n      const newOverlapSelections = Object.assign({}, state.overlapSelections);\n      newOverlapSelections[whichOverlap] = selection;\n      Vue.set(state, 'overlapSelections', newOverlapSelections);\n      console.log(`Set ${whichOverlap} selection set to`, state.overlapSelections[whichOverlap]);\n    },\n    setSampleSelection(\n      state,\n      payload: {\n        whichOverlap: 'first' | 'second',\n        selection: SelectionRecord | null,\n      },\n    ) {\n      const {whichOverlap, selection} = payload;\n      const newOverlapSelections = Object.assign({}, state.selectedSampleSet);\n      newOverlapSelections[whichOverlap] = selection;\n      Vue.set(state, 'selectedSampleSet', newOverlapSelections);\n    },\n    setSampledList(state, sampleList) {\n      Vue.set(state, 'sampleList', sampleList);\n    },\n    setValidationdList(state, validationList) {\n      Vue.set(state, 'validationList', validationList);\n    },\n    setCurrentChosenSample(state, currentChosenSample) {\n      Vue.set(state, 'currentChosenSample',currentChosenSample);\n    },\n    setCurrentChosenFold(state, currentChosenFold) {\n      Vue.set(state, 'currentChosenFold', currentChosenFold);\n    },\n    setSampleData(\n      state,\n      payload: {\n        selection:  null,\n        whichOverlap: 'first' | 'second',\n      }\n    ) {\n      const tmpSample = payload.selection;\n      Vue.set(state, 'sampleDict', tmpSample);\n      Vue.set(state, 'baseDataset', 'sample');\n    },\n    setSelectionHistory(state, newHistory) {\n      Vue.set(state, 'selectionHistory', newHistory);\n      const predicate = state.selectionHistory[0].predicate;\n      if (predicate) {\n        predicateAbstraction(predicate);\n      }\n    },\n    setAddedThresholdClassifiers(state, newAddedThresholdClassifiers) {\n      Vue.set(state, 'addedThresholdClassifiers', newAddedThresholdClassifiers);\n    },\n    setAddedBandWidthClassifiers(state, newAddedBandWidthClassifiers) {\n      Vue.set(state, 'addedBandWidthClassifiers', newAddedBandWidthClassifiers)\n    },\n    setCurAddedThresholdClassifier(state, newCurAddedThresholdClassifier) {\n      Vue.set(state, 'curAddedThresholdClassifier', newCurAddedThresholdClassifier)\n    },\n    mutateFocusItem(state, id){\n      Vue.set(state, 'focusItemId', id)\n    },\n    mutateFocusSet(state, id){\n      Vue.set(state, 'focusSet', id)\n    },\n    setEmphasis(state, status){\n      Vue.set(state,'focusDotEmphasis', status)\n    },\n    setAddedClassifier(state, newAddedClassifier) {\n      Vue.set(state, 'addedClassifier', newAddedClassifier);\n    }, \n    setAdditionalClassifiers(state, newAdditionalClassifiers) {\n      Vue.set(state, 'additionalClassifiers', newAdditionalClassifiers);\n    },\n    setModelSelection(\n      state,\n      payload:{\n        selection: modelSelectionRecord | null,\n      },\n     ){\n       const {selection} = payload;\n       Vue.set(state, 'modelSelections',selection );\n    },\n    setChosenDataset(state, newDataset) {\n      Vue.set(state, 'chosenDataset', newDataset);\n    },\n    setHoverInstance(state, id) {\n      Vue.set(state, 'hoverInstance', id);\n    },\n    setFilter(\n      state,\n      payload: {\n        entityType: EntityType,\n        newFilter: {\n          type: SelectionAction,\n          set: Set<string>,\n        },\n      },\n    ) {\n      Vue.set(state.filters, payload.entityType, payload.newFilter);\n    },\n  },\n  actions: {\n    resumeViews(context) {\n      const views_recommendation = this.state.chosenFixedDataset['views_recommendation'].map((c)=>c.name).filter((c)=>c!=\"Bandwidths\"&&c!=\"Thresholds\");\n      context.commit('setOpenViews', views_recommendation);\n      const thresholds = this.state.chosenFixedDataset['views_recommendation'].filter((c)=>c.name==\"Thresholds\");\n      const bandwidths = this.state.chosenFixedDataset['views_recommendation'].filter((c)=>c.name==\"Bandwidths\");\n\n      if (thresholds.length > 0) {\n        let tmp  = {}\n        let classifiers = Object.keys(context.state.classifierThresholdDict)\n        classifiers.forEach((c)=>{\n          if (Object.keys(thresholds[0].config).includes(c) && c!=\"\") {\n            tmp[c]  = thresholds[0].config[c]\n          }\n        })\n        context.commit('setClassifierThresholdDict',tmp)\n      }\n      if (bandwidths.length > 0) {\n        let resumedBandwidths = {}\n        Object.keys(this.getters.classifierThresholdDict).forEach((c)=>{\n          if (c != \"\") {\n            let left_range = parseFloat((bandwidths[0].config[c].split(\"-\")[0]))\n            let right_range = parseFloat((bandwidths[0].config[c].split(\"-\")[1]))\n            resumedBandwidths[c] = {\n              \"left_range\":left_range, \"right_range\":right_range\n            }\n          }\n        })\n        \n        context.commit('setResumedBandwidths',resumedBandwidths)\n      }\n      context.commit('setViewsConfig', this.state.chosenFixedDataset['views_recommendation'])\n      context.commit('setResumeStatus', context.state.resumeStatus+1)\n    },\n    changedSaveConfig(context, new_config) {\n      context.commit(\"setSaveConfig\", new_config)\n    },\n    reloadViews(context) {\n      const filePath = \"views_config.json\";\n      setTimeout(()=>{\n        fs.readFile(filePath, 'utf-8', function(err, data) {\n          let config = JSON.parse(data)\n          const views_recommendation = config['views_recommendation'].map((c)=>c.name).filter((c)=>c!=\"Bandwidths\"&&c!=\"Thresholds\");\n          context.commit('setOpenViews', views_recommendation);\n          const thresholds = config['views_recommendation'].filter((c)=>c.name==\"Thresholds\");\n          const bandwidths = config['views_recommendation'].filter((c)=>c.name==\"Bandwidths\");\n          const selections = config['views_recommendation'].filter((c)=>c.name==\"Selections\");\n          \n          selections[0][\"config\"][\"instances\"] = new Set(selections[0][\"config\"][\"instances\"])\n          context.dispatch('prependToSelectionHistory', selections[0].config);\n          context.dispatch('changedMostRecentSelection', \"first\");\n\n\n          if (thresholds.length > 0) {\n            context.commit('setClassifierThresholdDict',thresholds[0].config)\n          }\n          if (bandwidths.length > 0) {\n            let resumedBandwidths = {}\n            Object.keys(context.state.classifierThresholdDict).forEach((c)=>{\n              let left_range = parseFloat((bandwidths[0].config[c].split(\"-\")[0]))\n              let right_range = parseFloat((bandwidths[0].config[c].split(\"-\")[1]))\n              resumedBandwidths[c] = {\n                \"left_range\":left_range, \"right_range\":right_range\n              }\n            })\n            context.commit('setResumedBandwidths',resumedBandwidths)\n          }\n          context.commit('setViewsConfig', config['views_recommendation'])\n          context.commit('setResumeStatus', context.state.resumeStatus+1)\n        });\n        \n      },1000)\n    },\n    saveViews(context) {\n      context.commit(\"setSavesStatus\", context.state.saveStatus+1)\n    },\n    wrtieConfig(context) {\n      const filePath = \"views_config.json\";\n      setTimeout(() => {\n        const openViews = context.state.views.open;\n        const checkedViews = Object.keys(context.state.saveConfig);\n        let config = { \"views_recommendation\":[]}\n        openViews.forEach((c)=>{\n          if (c.toString() != 'Selections') {\n            if (checkedViews.includes((c))) {\n              config[\"views_recommendation\"].push({\"name\":c,\"config\":context.state.saveConfig[c]})\n            } else {\n              config[\"views_recommendation\"].push({\"name\":c})\n            }\n          }\n        })\n        let selections = {}\n        for (let key in context.state.selectionHistory[0]) {\n          if (key == 'instances') {\n            selections[key] = [...context.state.selectionHistory[0][key]]\n          } else {\n            selections[key] = context.state.selectionHistory[0][key]\n          }\n        }\n        config[\"views_recommendation\"].push({\"name\":\"Selections\",\"config\":selections})\n        if (context.state.datasetType ==  'continuous') {\n          config[\"views_recommendation\"].push({\"name\":\"Thresholds\", \"config\":context.state.classifierThresholdDict})\n          let bandwidths = {}\n          let classifierThresholdDict = context.state.classifierThresholdDict\n          Object.keys(classifierThresholdDict).forEach((c)=>{\n            bandwidths[c] = (this.getters.continuous_metrics[c].cur_left_edge).toFixed(2) + '-' + (this.getters.continuous_metrics[c].cur_right_edge).toFixed(2)\n          })\n          config[\"views_recommendation\"].push({\"name\":\"Bandwidths\", \"config\":bandwidths})\n        }\n        const fileContent = JSON.stringify(config);\n        fs.writeFile(filePath, fileContent, function() {});\n      }, 1000);\n    },\n    drawSelections(context, selection_attribute) {\n      const barCells = selection_attribute.barCells;\n      const x = selection_attribute.x;\n      const y = selection_attribute.y;\n      const width = selection_attribute.width;\n      const height = selection_attribute.height;\n      const r  = selection_attribute.r;\n      const color = selection_attribute.color;\n\n      const circle_visibility = selection_attribute.circle_visibility;\n      const cx = selection_attribute.cx;\n      const cy = selection_attribute.cy;\n      const selection_type = selection_attribute.selection_type;\n      const focused = selection_attribute.focused;\n\n\n      barCells.append('rect')\n        .attr('class','selection-rect-'+selection_type)\n        .attr('x', x)\n        .attr('y', y)\n        .attr('width', width)\n        .attr('height',height)\n        .attr('fill', color)\n        .attr('stroke', 'black')\n        .attr('stroke-width', '2px')\n        .attr('pointer-events', 'none')\n\n      barCells.append(\"circle\")   \n        .attr('class', 'selection-circle-'+selection_type)\n        .attr('cx', cx )\n        .attr('cy', cy)\n        .attr('r', r)\n        .style('fill', color)\n        .attr('stroke', 'grey')\n        .attr(\"visibility\", circle_visibility) \n      \n      // focus dot\n      barCells.append('circle')\n          .attr('class','selection-focus-'+selection_type)\n          .attr('cx', cx)\n          .attr('cy', y + height/2)\n          .attr('r', this.state.focusDotEmphasis ? r*3 :r/1.5)\n          .style('fill', colors.focus)  \n          .attr('stroke', 'black')  \n          .attr('stroke-width', 3)\n          .attr(\"visibility\", focused?\"visible\":\"hidden\")\n\n    },  \n    blinkFocus(context){\n      context.commit('setEmphasis', true)\n      setTimeout(() => {\n        context.commit('setEmphasis', false)\n      }, 1000);\n    },\n    emphasizeFocus(context){\n      context.commit('setEmphasis', !this.state.focusDotEmphasis)\n    },\n    changedcorsError(context, new_cors_error) {\n      context.commit('setcorsError', new_cors_error);\n    },\n    changedToSamplingData(\n      context,\n      payload: {\n        selection: null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      context.commit('setSampleData', payload);\n      context.dispatch('changedContinuousMetrics');\n      context.dispatch('updateContinuousMetrics');\n    },\n    changedSampledList(context, new_sample_value) {\n      context.commit(\"setSampledList\",new_sample_value)\n    },\n    changedValidationList(context, new_validation) {\n      context.commit(\"setValidationdList\",new_validation)\n    },\n    changeCurrentChosenSample(context, new_chosen_sample){\n      context.commit(\"setCurrentChosenSample\", new_chosen_sample);\n    },\n    changedCurrentChosenFold(context, new_chosen_fold) {\n      context.commit(\"setCurrentChosenFold\", new_chosen_fold)\n      context.dispatch(\"changedContinuousMetrics\")\n      context.dispatch('updateWeightedMetrics')\n    },\n    changedDataType(context, new_data_type) {\n      context.commit(\"setDataType\",new_data_type)\n    },\n    changedAddedThresholdClassifiers (context, value) {\n      context.commit('setAddedThresholdClassifiers', value);\n      context.dispatch('updateContinuousMetrics');\n    },\n    changedAddedBandWidthClassifiers(context, value) {\n      context.commit('setAddedBandWidthClassifiers',value);\n    },\n    changedOuterBandWidth(context, value) {\n      context.commit('setouterBandWidth', value);\n    },  \n    changedCurAddedThresholdClassifier(context, value) {\n      context.commit('setCurAddedThresholdClassifier', value)\n    },\n    changedclassifierBandWidthDict(context, uncertainBandwidth) {\n      context.commit(\"setclassifierBandWidthDict\",uncertainBandwidth);\n      context.dispatch(\"updateContinuousMetrics\")\n    },\n    changedWithinClassifierBandWidthList(context, withinClassifierBandWidthList) {\n      context.commit(\"setWithinClassifierBandWidthList\", withinClassifierBandWidthList);\n    },\n    changedWithinClassifierName(context, withinClassifierName) {\n      context.commit(\"setWithinClassifierName\", withinClassifierName);\n    },  \n    changedBandWidthClassifier(context, bandWidthChangedClassifierName) {\n      context.commit(\"setBandWidthChangedClassifier\",bandWidthChangedClassifierName);\n    },\n    changedCurveChosenClassifierThresholdTuple(context, classifierThreshold) {\n      context.commit(\"setCurveChosenClassifierThresholdTuple\",classifierThreshold);\n      context.commit(\"setChosenClassifierThresholdTuple\",classifierThreshold);\n      context.dispatch('changedDatasetContinuous');\n    },\n    changedContinuousThreshold(context,classifierThreshold) {\n      context.commit(\"setChosenClassifierThresholdTuple\",classifierThreshold);\n      context.dispatch('changedDatasetContinuous');\n    },\n    changedGridSize(context) {\n      if (context.state.viewWidth === \"50%\") {\n        context.commit(\"setTileWidth\", \"\" + (100 / 3) + \"%\");\n      } else {\n        context.commit(\"setTileWidth\", \"50%\");\n      }\n    },\n    changedToggleShift(context, keyEvent) {\n      if (keyEvent.key === 'Shift') {\n        context.commit('setToggleIntersectionMode', keyEvent.type === 'keyup');\n      }\n    },\n    changedSampleSelection(\n      context,\n      payload: {\n        selection: SelectionRecord | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      context.commit('setSampleSelection', payload)\n    },\n    changedOverlapSelection(\n      context,\n      payload: {\n        selection: SelectionRecord | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      context.commit('setOverlapSelection', payload);\n    },\n    clearHoverInstance(context) {\n      context.commit('setHoverInstance', '');\n    }, \n    openView(context, view: VisualizationType) {\n      const pastViews = context.state.views.open;\n      const newViews = [...pastViews, view];\n      context.commit('setOpenViews', newViews);\n    },\n    closeView(context, index: number) {\n      const pastViews = context.state.views.open;\n      const newViews = pastViews.filter((view, i) => i !== index);\n      context.commit('setOpenViews', newViews);\n    },\n    loadFirstDataset(context) {\n      const datasetList = Object.keys(context.state.datasets);\n      if (datasetList.length === 0) {\n        console.error('Vuex state.datasets is empty. Cannot load first dataset.');\n        return;\n      }\n      const firstDataset = datasetList[0];\n      context.dispatch('changedDatasetByName', firstDataset);\n    },\n    prependToSelectionHistory(context, payload) {\n      console.log(payload)\n      if (context.state.intersectionMode || context.state.selectionHistory.length < 2) {\n        const oldSelectionHistory = context.state.selectionHistory;\n        const selection: SelectionRecord = {\n          description: payload.description,\n          id: oldSelectionHistory.length,\n          instances: payload.instances,\n          name: 'No name',\n          weight: 0\n        };\n        if (payload.predicate) {\n          selection.predicate = payload.predicate;\n        }\n        const newSelectionHistory = [selection, ...oldSelectionHistory];\n        context.commit('setSelectionHistory', newSelectionHistory);\n      } else {\n        console.log(\"UNION MODE\");\n        const oldSelectionHistory = context.state.selectionHistory;\n        const lastSelection = context.state.selectionHistory[0];\n        let instances = new Set([...lastSelection.instances, ...payload.instances]);\n        let unionDescription = \"union(\" + lastSelection.id + \", \" + payload.description + \")\";\n        const selection: SelectionRecord = {\n          description: unionDescription,\n          id: oldSelectionHistory.length,\n          instances: instances,\n          name: 'No name',\n          weight:0\n        };\n        if (payload.predicate && lastSelection.predicate) {\n          selection.predicate = composePredicates(payload.predicate, lastSelection.predicate, \"union\");\n        }\n        const newSelectionHistory = [selection, ...oldSelectionHistory];\n        context.commit('setSelectionHistory', newSelectionHistory);\n      }\n    },\n    resetSelectionHistory(context) {\n      const trainOrTest = 'train_or_test';\n      const cleanSelectionHistory: SelectionRecord[] = [\n        {\n          id: 0,\n          name: 'Original',\n          description: 'Original dataset',\n          instances: new Set(Object.keys(context.state.chosenDataset.instances)),\n          weight:0\n        },\n        \n      ];\n      context.commit('setSelectionHistory', cleanSelectionHistory);\n      if (context.state.datasetType == 'continuous') {\n        context.dispatch('updateWeightedMetrics')\n      }\n      const baseSelection = cleanSelectionHistory[0];\n      context.commit('setBaseSelection', baseSelection);\n      context.commit('setOverlapSelection', { whichOverlap: 'first', selection: null });\n      context.commit('setOverlapSelection', { whichOverlap: 'second', selection: null });\n    },\n    changedBaseSelection(context, baseSelection: SelectionRecord) {\n      context.commit('setBaseSelection', baseSelection);\n    },\n    changedDatasetByName(context, datasetName: string) {\n      const datasetList = Object.keys(context.state.datasets);\n      const chosenDataset = datasetList.indexOf(datasetName);\n      if (chosenDataset === -1) {\n        console.error(`Dataset named ${datasetName} not found in state.datasets`);\n        return;\n      }\n      const datasetPath = SERVER_URL + datasets[datasetName].path;\n      context.commit(\"setChosenFixedDataset\", datasets[datasetName])\n      context.commit(\"setClassifierThresholdDict\",{});\n      context.commit(\"setThresholdClassifierNameList\",[]);\n      context.dispatch('changedDataset', datasetPath);\n    },\n    changedDataset(context, datasetURL: string) {\n      if (datasetURL.substring(0, SERVER_URL.length) == SERVER_URL) {\n        context.commit('setFixedDataset','yes')\n      } else {\n        context.commit('setFixedDataset','no')\n      }\n      let datasetPath = datasetURL.endsWith(\"/\") ? datasetURL : datasetURL + \"/\";\n      const filenames = [\n        'manifest.json',\n        'results.csv',\n        'features.csv',\n      ];\n      Promise.all(filenames.map((filename) => {\n        const url = datasetPath + filename;\n        const fileType = filename.split('.').pop();\n        return fetch(url)\n          .then((response) => {\n            if (!response.ok) {\n              return Promise.reject(response.status);\n            }\n            return response.text();\n          })\n          .then((data) => {\n            switch (fileType) {\n              case 'csv':\n                return d3.csvParse(data);\n              case 'json':\n                return JSON.parse(data);\n              default:\n                return data;\n            }\n          })\n          .catch(error => {                  \n            console.log(\"Catch Error, check CORS extension\")\n            context.dispatch(\"changedcorsError\", \"error\")\n          });\n      })).then((data) => {\n        let [manifest, resultsData, featuresData] = data;         \n        const checkData = () => {\n          const ManifestResultsClassifier = () => {\n            const mClassifiers = new Set(manifest.classifiers);\n            const rCLassifiers = new Set(resultsData.columns.filter((x: string) => !['id', 'actual'].includes(x)));\n            const mismatch = xor(mClassifiers, rCLassifiers);\n            if (mismatch.size > 0) {\n              console.error('Mismatch in classifiers from manifest and classifiers in results.csv columns headers.');\n            }\n          };\n          ManifestResultsClassifier();\n\n          const resultsFeaturesRows = () => {\n            if (resultsData.length !== featuresData.length) {\n              console.error('Number of rows in features and results is not equal.');\n            }\n          };\n          resultsFeaturesRows();\n\n          const resultsMissingValues = () => {\n            const rData: Array<{[key: string]: any}> = resultsData;\n            Object.values(rData).forEach((r) => {\n              Object.values(r).forEach((cellString: string) => {\n                if (cellString === '') {\n                  console.error('Empty cell in results.csv');\n                }\n              });\n            });\n          };\n          resultsMissingValues();\n        };\n        checkData();\n\n        const pathPieces = datasetPath.split('/');\n        const name = pathPieces[pathPieces.length - 2];\n        const classes: string[] = manifest.classes.map((c: any) => c.toString());\n        const classifiers: string[] = manifest.classifiers.map((c: any) => c.toString());\n        const featureNames: string[] = Object.keys(manifest.features).filter((f) => f !== 'id');\n\n        if (featureNames.includes('texts')) {\n          let tmp_features = []\n          featuresData.forEach((f)=>{\n            f['texts-length'] = f['texts'].length\n            tmp_features.push(f)\n          })\n          featuresData = tmp_features\n          manifest['features']['texts-length'] = {\n            'description': \"text length\",\n            'type': \"ratio\"\n          }\n        }\n\n        const instancesList = resultsData.map((i)=>i[classifiers[0]])\n        const uniqueList =  instancesList.filter(function(item, pos) {\n            return instancesList.indexOf(item) == pos;\n        })\n        \n        // record the views.all\n        this.state.views.all = [\n          VisualizationType.FI,\n          VisualizationType.CA,\n          VisualizationType.SCP,\n          VisualizationType.COV,\n          VisualizationType.CMG,\n          VisualizationType.FH,\n          VisualizationType.OCA,\n          VisualizationType.PCC,\n          VisualizationType.SP,\n          VisualizationType.SM,\n          VisualizationType.SMP,\n          VisualizationType.ITL,\n        ]\n        // judge the data type automatically\n        this.state.datasetType = 'discrete'\n        if (uniqueList.length > classes.length) {\n          this.state.datasetType = 'continuous'\n          this.state.views.all = [\n            VisualizationType.FI,\n            VisualizationType.CA,\n            VisualizationType.SCP,\n            VisualizationType.CC,\n            VisualizationType.RC,\n            VisualizationType.CB,\n            VisualizationType.BA,\n            VisualizationType.REC,\n            VisualizationType.TID,\n            VisualizationType.UM,\n            VisualizationType.CMG,\n            VisualizationType.FH,\n            VisualizationType.OCA,\n            VisualizationType.PCC,\n            VisualizationType.SP,\n            VisualizationType.SM,\n            VisualizationType.SMP,\n            VisualizationType.ITL\n          ]\n        } \n      \n        const instances: {[id: string]: Instance} = {};\n        resultsData.forEach((\n          result: {\n            id: string,\n            actual: string,\n            [classifier: string]: string,\n          },\n          index: number,\n        ) => {\n          const continuous_predictions = {};\n          const left_range = {};\n          const right_range = {};\n          classifiers.forEach((c)=>{\n              continuous_predictions[c] = parseFloat(result[c]).toFixed(3) + \"\"\n              left_range[c] = 0.05\n              right_range[c] = 0.05\n          })\n          // if in continuous mode, get the specific class according to the threshold\n          if (this.state.datasetType == \"continuous\") {\n            let tmp_thresholdsClassifier = []\n            classifiers.forEach((c)=>{\n              tmp_thresholdsClassifier.push(c+\"_\"+\"50\")\n            })\n            context.commit(\"setThresholdClassifierNameList\",tmp_thresholdsClassifier);\n\n            let tmp_classifierThresholds = {}\n            classifiers.forEach((c)=>{\n              tmp_classifierThresholds[c] = 50\n            })\n            context.commit(\"setClassifierThresholdDict\",tmp_classifierThresholds);\n            classifiers.forEach((c)=>{\n              if (parseFloat(result[c]) < this.state.classifierThresholdDict[c] / 100) {\n                result[c] = classes[0]\n              } else {\n                result[c] = classes[1]\n              }\n            })\n            \n            // also record the saved thresholdClassifier\n            this.state.thresholdClassifierNameList.forEach((c)=>{\n              let splitL = c.split(\"_\")\n              let classifier =c.substring(0,c.length-splitL[splitL.length-1].length-1)\n              let threshold = parseFloat(splitL[splitL.length-1])\n              if (parseFloat(continuous_predictions[classifier]) < threshold / 100) {\n                result[c] = classes[0]\n              } else {\n                result[c] = classes[1]\n              }\n            })\n          }\n          \n          \n          const {id: rId, actual, ...predictions} = result;\n          const {id: fId, ...features} = featuresData[index];\n          if (rId !== fId) {\n            console.error('Ids in results.csv and features.csv do not match.',rId,fId);\n            return;\n          }\n          instances[index] = {\n            actual,\n            predictions,\n            continuous_predictions,\n            left_range,\n            right_range,\n            features,\n          };\n        });\n\n        const addRandomClassifier = () => {\n          const randomClassifier = 'Random Classifier';\n          classifiers.unshift(randomClassifier);\n          Object.values(instances).forEach((i) => {\n            const randomClass = classes[Math.floor(Math.random() * classes.length)];\n            i.predictions[randomClassifier] = randomClass;\n          });\n        };\n        addRandomClassifier();\n\n        const addMajorityClassifier = () => {\n          const majorityClassifier = 'Majority Classifier';\n          classifiers.unshift(majorityClassifier);\n          const classCounts: { [className: string]: number } = {};\n          classes.forEach((className) => classCounts[className] = 0);\n          Object.values(instances).forEach((i) => classCounts[i.actual]++);\n          let majorityClass = Object.keys(classCounts)[0];\n          Object.keys(classCounts).forEach((className) => {\n            if (classCounts[className] > classCounts[majorityClass]) {\n              majorityClass = className;\n            }\n          });\n          Object.values(instances).forEach((id) => id.predictions[majorityClassifier] = majorityClass);\n        };\n        addMajorityClassifier();\n\n        const addOracle = () => {\n          const oracle = 'Oracle';\n          classifiers.unshift(oracle);\n          Object.values(instances).forEach((i) => i.predictions[oracle] = i.actual);\n        };\n        addOracle();\n\n        const featureObjects: {\n          [name: string]: Feature;\n        } = manifest.features;\n        const testFeatureObjects = () => {\n          const allowedTypes = [\n            'categorical',\n            'interval',\n            'nominal',\n            'ordinal',\n            'ratio',\n          ];\n          Object.keys(featureObjects).forEach((featureName: string) => {\n            const f = featureObjects[featureName];\n            if (!f.description) {\n              console.error(`Feature ${featureName} has no description.`);\n            }\n            if (!allowedTypes.includes(f.type)) {\n              console.error(`Feature ${featureName} does not have a valid type. It has type \"${f.type}\" instead`);\n            }\n          });\n        };\n        testFeatureObjects();\n\n        const parsedDataset = {\n          name,\n          classes,\n          classifiers,\n          features: featureObjects,\n          instances,\n        };\n        if (Object.keys(featureObjects).includes('train_or_test')) {\n          context.state.baseDataset = 'test';\n        } else {\n          context.state.baseDataset = 'both';\n        }\n        if(Object.keys(context.state.sampleDict).length != 0 ) {\n          context.state.baseDataset = 'sample';\n        }\n\n        context.commit('setChosenDataset', parsedDataset);\n        context.dispatch('resetSelectionHistory');\n\n\n        if (this.state.datasetType == 'continuous') {\n          context.dispatch(\"changedContinuousMetrics\");\n        }\n\n      });\n    },\n    updateWeightedMode(context) {\n      context.commit(\"setWeightMode\",'no');\n    },\n    updateWeightedMetrics(context) {\n      context.commit(\"setWeightMode\",'yes');\n\n      const selectionHistory  = this.state.selectionHistory;\n      const instances: string[] = [...this.getters.filteredInstances];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      const classifiers: string[] = ([...this.getters.filteredClassifiers])\n      const preContinuousMetrics = this.getters.continuous_metrics;\n\n      if (Object.keys(preContinuousMetrics).length == 0) {\n        return\n      }\n\n      let instant_variables = ['x_roc', 'y_roc', 'value_roc', 'x_pr', 'y_pr', 'line_roc', 'line_pr', 'auc_area', 'acc', \n            'cur_threshold', 'cur_uncertain', 'cur_left_edge', 'cur_right_edge',\n            'tp_instances','fp_instances','tn_instances','fn_instances', 'm_tp_instances', 'm_tn_instances', 'm_fp_instances', 'm_fn_instances', 'ins_per' ]\n      let changed_variables = ['tp','fp','tn','fn', 'm_tp', 'm_tn', 'm_fp', 'm_fn',  \n      'accuracy', 'mcc', 'precision', 'recall', 'f1']  \n      let changed_instances_set : string[]  =     ['tp_instances','fp_instances','tn_instances','fn_instances', 'm_tp_instances', 'm_tn_instances', 'm_fp_instances', 'm_fn_instances']\n      let predictions = {}\n\n      let instanceWeights = {};\n\n      instances.forEach((c)=>{\n        instanceWeights[c] = 1\n      })\n\n      selectionHistory.forEach((s)=>{\n        let tmp_instances = [...s.instances]\n        let weight = parseFloat((s.weight).toString())\n        tmp_instances.forEach((i)=>{\n          instanceWeights[i] += weight\n        })\n      })\n\n      classifiers.forEach((c)=>{\n        if (dummyClassifiers.includes(c)) {\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n          changed_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n        } else {\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n        }\n        changed_instances_set.forEach((cur_set)=>{\n          let cur_instances = [...predictions[c][cur_set]]\n          let cur_value = cur_set.substring(0, (cur_set.length)-10)\n          let count = 0\n          cur_instances.forEach((i)=>{\n            count += instanceWeights[i]\n          })\n          predictions[c][cur_value] = count\n        })\n        let real_tp = predictions[c].tp + predictions[c].m_tp;\n        let real_tn = predictions[c].tn + predictions[c].m_tn;\n        let real_fp = predictions[c].fp + predictions[c].m_fp;\n        let real_fn = predictions[c].fn + predictions[c].m_fn;\n        predictions[c].accuracy  = (real_tp + real_tn) / (real_tp + real_fp + real_tn + real_fn)       \n        predictions[c].precision = (real_tp)  / (real_tp + real_fp)   \n        predictions[c].recall = (real_tp) / (real_tp + real_fn)\n        predictions[c].f1 = (predictions[c].precision + predictions[c].recall == 0) ? 0 : 2 * predictions[c].precision * predictions[c].recall / (predictions[c].precision + predictions[c].recall)\n        if ((Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn))) == 0) {\n          predictions[c].mcc = 0;\n        } \n        if ((real_tp+real_fp)*(real_tp+real_fn)*(real_tn+real_fp)*(real_tn+real_fn) != 0) {\n          predictions[c].mcc = ((real_tp*real_tn-real_fp*real_fn) / Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn)))\n        } \n      })\n\n      context.commit(\"setWeightMetrics\", predictions)\n    },\n    updateContinuousMetrics(context) {\n      // call this function when bandwidth / threshold changes or when new thresholdclassifier being added\n      const classes: string[] = [...this.getters.filteredClasses];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      const classifiers: string[] = ([...this.getters.filteredClassifiers])\n      const instances: string[] = [...this.getters.filteredInstances];\n      const classifierThresholdDict = this.state.classifierThresholdDict;\n      const classifierBandWidthDict = this.state.classifierBandWidthDict;\n      const preContinuousMetrics = this.getters.continuous_metrics;\n      let addedThresholdClassifiers = this.state.addedThresholdClassifiers;\n      let instant_variables = ['x_roc', 'y_roc', 'value_roc', 'x_pr', 'y_pr', 'line_roc', 'line_pr', 'auc_area', 'acc']\n      let changed_variables = ['cur_threshold', 'cur_uncertain', 'cur_left_edge', 'cur_right_edge', \n      'tp','fp','tn','fn', 'm_tp', 'm_tn', 'm_fp', 'm_fn',  \n      'tp_instances','fp_instances','tn_instances','fn_instances', 'm_tp_instances', 'm_tn_instances', 'm_fp_instances', 'm_fn_instances',\n      'accuracy', 'mcc', 'precision', 'recall', 'f1', 'mcc', 'ins_per' ]      \n\n      let predictions = {}\n      classifiers.forEach((c)=>{\n        if (dummyClassifiers.includes(c)) {\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n          changed_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n        }\n        else if (Math.abs(preContinuousMetrics[c].cur_threshold - classifierThresholdDict[c]/ 100) < 0.0001\n          && (!Object.keys(classifierBandWidthDict).includes(c) || Math.abs(preContinuousMetrics[c].cur_left_edge - classifierBandWidthDict[c].left_range) < 0.0001)\n          && (!Object.keys(classifierBandWidthDict).includes(c) || Math.abs(preContinuousMetrics[c].cur_right_edge - classifierBandWidthDict[c].right_range) < 0.0001)){\n            predictions[c] = {}\n            instant_variables.forEach((v)=>{\n              predictions[c][v] = preContinuousMetrics[c][v]\n            })\n            changed_variables.forEach((v)=>{\n              predictions[c][v] = preContinuousMetrics[c][v]\n            })\n        } else {\n          var mse = 0;\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n          changed_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n          predictions[c].m_tp = 0\n          predictions[c].m_tn = 0\n          predictions[c].m_fp = 0\n          predictions[c].m_fn = 0\n          predictions[c].tp = 0\n          predictions[c].tn = 0\n          predictions[c].fp = 0\n          predictions[c].fn = 0\n          predictions[c].m_tp_instances = new Set()\n          predictions[c].m_tn_instances = new Set()\n          predictions[c].m_fp_instances = new Set()\n          predictions[c].m_fn_instances = new Set()\n          predictions[c].tp_instances = new Set()\n          predictions[c].tn_instances = new Set()\n          predictions[c].fp_instances = new Set()\n          predictions[c].fn_instances = new Set()\n          predictions[c].cur_threshold = classifierThresholdDict[c]/100\n\n          if (Object.keys(classifierBandWidthDict).includes(c)) {\n            predictions[c].cur_left_edge = classifierBandWidthDict[c].left_range;\n            predictions[c].cur_right_edge = classifierBandWidthDict[c].right_range;\n          } else {\n            predictions[c].cur_left_edge = (predictions[c].cur_threshold - 0.05 < 0? 0 : predictions[c].cur_threshold - 0.05);\n            predictions[c].cur_right_edge = (predictions[c].cur_threshold + 0.05 > 1 ? 1 : predictions[c].cur_threshold + 0.05);\n          }\n          predictions[c].cur_left_edge = parseFloat(predictions[c].cur_left_edge.toFixed(2))\n          predictions[c].cur_right_edge = parseFloat(predictions[c].cur_right_edge.toFixed(2))\n          predictions[c].cur_uncertain = (predictions[c].cur_left_edge).toFixed(2) + '-' + (predictions[c].cur_right_edge).toFixed(2);\n          instances.forEach((id)=>{\n            const i = instanceById(id);\n            const actual = i.actual == classes[1] ? 1 : 0;\n            const predict_prob = i.continuous_predictions[c];\n            mse = mse + ((i.continuous_predictions[c] - actual) * (i.continuous_predictions[c] - actual))\n            if (predict_prob < predictions[c].cur_right_edge && predict_prob > predictions[c].cur_left_edge) {\n              if (actual == 0) {\n                if (predict_prob < predictions[c].cur_threshold) {\n                  predictions[c].m_tn += 1\n                  predictions[c].m_tn_instances.add(id)\n                } else {\n                  predictions[c].m_fp += 1\n                  predictions[c].m_fp_instances.add(id)\n                }\n              } else {\n                if (predict_prob >= predictions[c].cur_threshold) {\n                  predictions[c].m_tp += 1\n                  predictions[c].m_tp_instances.add(id)\n                } else {\n                  predictions[c].m_fn += 1\n                  predictions[c].m_fn_instances.add(id)\n                }\n              }\n            } else{\n              if (actual == 0) {\n                if (predict_prob < predictions[c].cur_left_edge) {\n                  predictions[c].tn += 1\n                  predictions[c].tn_instances.add(id)\n                } else {\n                  predictions[c].fp += 1\n                  predictions[c].fp_instances.add(id)\n                }\n              } else {\n                if (predict_prob >= predictions[c].cur_right_edge) {\n                  predictions[c].tp += 1\n                  predictions[c].tp_instances.add(id)\n                } else {\n                  predictions[c].fn += 1\n                  predictions[c].fn_instances.add(id)\n                }\n              }\n            }\n\n          })\n          let real_tp = predictions[c].tp + predictions[c].m_tp;\n          let real_tn = predictions[c].tn + predictions[c].m_tn;\n          let real_fp = predictions[c].fp + predictions[c].m_fp;\n          let real_fn = predictions[c].fn + predictions[c].m_fn;\n          let precentage = ((predictions[c].tp + predictions[c].fp + predictions[c].tn + predictions[c].fn ) / instances.length).toFixed(2);\n          predictions[c].ins_per = precentage\n          predictions[c].mse = mse\n          predictions[c].accuracy  = (real_tp + real_tn) / (real_tp + real_fp + real_tn + real_fn)       \n          predictions[c].precision = (real_tp)  / (real_tp + real_fp)   \n          predictions[c].recall = (real_tp) / (real_tp + real_fn)\n          predictions[c].f1 = (predictions[c].precision + predictions[c].recall == 0) ? 0 : 2 * predictions[c].precision * predictions[c].recall / (predictions[c].precision + predictions[c].recall)\n          if ((Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn))) == 0) {\n            predictions[c].mcc = 0;\n          } \n          if ((real_tp+real_fp)*(real_tp+real_fn)*(real_tn+real_fp)*(real_tn+real_fn) != 0) {\n            predictions[c].mcc = ((real_tp*real_tn-real_fp*real_fn) / Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn)))\n          } \n        }\n      })\n\n      if (addedThresholdClassifiers === null ) {\n        addedThresholdClassifiers = []\n      }\n      addedThresholdClassifiers.forEach((c)=>{\n        c = c.name\n        if (Object.keys(preContinuousMetrics).includes(c)) {\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n          changed_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n        } else {\n          let origin_classifier = c.substring(4,c.length-5)\n          let threshold = parseFloat(c.substring(c.length-4,c.legend))\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[origin_classifier][v]\n          })\n          changed_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[origin_classifier][v]\n          })\n          predictions[c].m_tp = 0\n          predictions[c].m_tn = 0\n          predictions[c].m_fp = 0\n          predictions[c].m_fn = 0\n          predictions[c].tp = 0\n          predictions[c].tn = 0\n          predictions[c].fp = 0\n          predictions[c].fn = 0\n          predictions[c].m_tp_instances = new Set()\n          predictions[c].m_tn_instances = new Set()\n          predictions[c].m_fp_instances = new Set()\n          predictions[c].m_fn_instances = new Set()\n          predictions[c].tp_instances = new Set()\n          predictions[c].tn_instances = new Set()\n          predictions[c].fp_instances = new Set()\n          predictions[c].fn_instances = new Set()\n          predictions[c].cur_threshold = threshold\n          if (Object.keys(classifierBandWidthDict).includes(c)) {\n            predictions[c].cur_left_edge = classifierBandWidthDict[c].left_range;\n            predictions[c].cur_right_edge = classifierBandWidthDict[c].right_range;\n          } \n          predictions[c].cur_left_edge = predictions[c].cur_threshold - 0.05 < 0 ? 0 : predictions[c].cur_threshold - 0.05;\n          predictions[c].cur_right_edge = predictions[c].cur_threshold + 0.05 > 1 ? 1 : predictions[c].cur_threshold + 0.05;\n          predictions[c].cur_uncertain = predictions[c].cur_left_edge + '-' + predictions[c].cur_right_edge;\n\n          predictions[c].cur_left_edge = parseFloat(predictions[c].cur_left_edge.toFixed(2))\n          predictions[c].cur_right_edge = parseFloat(predictions[c].cur_right_edge.toFixed(2))\n          instances.forEach((id)=>{\n            const i = instanceById(id);\n            const actual = i.actual == classes[1] ? 1 : 0;\n            const predict_prob = i.continuous_predictions[origin_classifier];\n            if (predict_prob <= predictions[c].cur_right_edge && predict_prob >= predictions[c].cur_left_edge) {\n              if (actual == 0) {\n                if (predict_prob < predictions[c].cur_threshold) {\n                  predictions[c].m_tn += 1\n                  predictions[c].m_tn_instances.add(id)\n                } else {\n                  predictions[c].m_fp += 1\n                  predictions[c].m_fp_instances.add(id)\n                }\n              } else {\n                if (predict_prob >= predictions[c].cur_threshold) {\n                  predictions[c].m_tp += 1\n                  predictions[c].m_tp_instances.add(id)\n                } else {\n                  predictions[c].m_fn += 1\n                  predictions[c].m_fn_instances.add(id)\n                }\n              }\n            } else{\n              if (actual == 0) {\n                if (predict_prob < predictions[c].cur_left_edge) {\n                  predictions[c].tn += 1\n                  predictions[c].tn_instances.add(id)\n                } else {\n                  predictions[c].fp += 1\n                  predictions[c].fp_instances.add(id)\n                }\n              } else {\n                if (predict_prob >= predictions[c].cur_right_edge) {\n                  predictions[c].tp += 1\n                  predictions[c].tp_instances.add(id)\n                } else {\n                  predictions[c].fn += 1\n                  predictions[c].fn_instances.add(id)\n                }\n              }\n            }\n\n          })\n          let real_tp = predictions[c].tp + predictions[c].m_tp;\n          let real_tn = predictions[c].tn + predictions[c].m_tn;\n          let real_fp = predictions[c].fp + predictions[c].m_fp;\n          let real_fn = predictions[c].fn + predictions[c].m_fn;\n          let precentage = ((predictions[c].tp + predictions[c].fp + predictions[c].tn + predictions[c].fn ) / instances.length).toFixed(2);\n          predictions[c].ins_per = precentage\n          predictions[c].accuracy  = (real_tp + real_tn) / (real_tp + real_fp + real_tn + real_fn)       \n          predictions[c].precision = (real_tp)  / (real_tp + real_fp)   \n          predictions[c].recall = (real_tp) / (real_tp + real_fn)\n          predictions[c].f1 = (predictions[c].precision + predictions[c].recall == 0) ? 0 : 2 * predictions[c].precision * predictions[c].recall / (predictions[c].precision + predictions[c].recall)\n          if ((Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn))) == 0) {\n            predictions[c].mcc = 0;\n          } \n          if ((real_tp+real_fp)*(real_tp+real_fn)*(real_tn+real_fp)*(real_tn+real_fn) != 0) {\n            predictions[c].mcc = ((real_tp*real_tn-real_fp*real_fn) / Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn)))\n          } \n        }\n      })\n      context.commit(\"setContinuousMetrics\", predictions)\n    },\n    changedContinuousMetrics(context) {\n      // call this function when new classifier have been added\n      const predictions: {\n        [classifier: string]: {\n          x_roc: Number[],\n          y_roc: Number[],\n          value_roc: Number[],\n          x_pr: Number[],\n          y_pr: Number[],\n          acc:Number[],\n          line_roc: string,\n          line_pr: string,\n          auc_area: number,\n          cur_threshold: number,\n          cur_uncertain: string,\n          cur_left_edge: number,\n          cur_right_edge: number,\n          tp: number,\n          tn: number,\n          fp: number,\n          fn: number,\n          m_tp: number,\n          m_tn: number,\n          m_fp: number,\n          m_fn: number, \n          tp_instances: Set<string>,\n          tn_instances: Set<string>,\n          fn_instances: Set<string>,\n          fp_instances: Set<string>,\n          m_tp_instances: Set<string>,\n          m_tn_instances: Set<string>,\n          m_fn_instances: Set<string>,\n          m_fp_instances: Set<string>,\n          accuracy: number,\n          mcc: number,\n          precision: number,\n          recall: number,\n          f1: number    ,        \n          mse:number,\n          ins_per: string\n        },\n      } = {};\n\n      var classifierValues = {}\n      const classes: string[] = [...this.getters.filteredClasses];\n      const classifiers: string[] = [...this.getters.filteredClassifiers];\n      const instances: string[] = [...this.getters.filteredInstances];\n      const classifierThresholdDict = this.state.classifierThresholdDict;\n      const classifierBandWidthDict = this.state.classifierBandWidthDict;\n      var classifierThresholdKey = []\n      const formatDecimal = d3.format(\".4f\")\n      for (var i in classifierThresholdDict) {\n        classifierThresholdKey.push(i)\n      }\n\n      classifiers.forEach((c) => {\n        predictions[c] = {\n          x_roc: [],\n          y_roc: [],\n          value_roc:[],\n          x_pr: [],\n          y_pr: [],\n          acc: [],\n          line_roc: \"\",\n          line_pr: \"\",\n          auc_area: 0,\n          cur_threshold: 0,\n          cur_uncertain: '',\n          cur_left_edge: 0,\n          cur_right_edge: 0,\n          tp: 0,\n          tn: 0,\n          fp: 0,\n          fn: 0,\n          m_tp: 0,\n          m_tn: 0,\n          m_fp: 0,\n          m_fn: 0,\n          tp_instances: new Set(),\n          tn_instances: new Set(),\n          fn_instances: new Set(),\n          fp_instances: new Set(),\n          m_tp_instances: new Set(),\n          m_tn_instances: new Set(),\n          m_fn_instances: new Set(),\n          m_fp_instances: new Set(),\n          accuracy: 0,\n          mcc: 0,\n          precision: 0,\n          recall: 0,\n          f1: 0,    \n          mse:0,\n          ins_per:'0'\n        };\n        classifierValues[c] = []\n      });\n\n\n      let begin = 0;\n      let end = 1;\n      let diff = 0.01;\n      while(begin <= end) {\n        classifiers.forEach((c)=>{\n          classifierValues[c].push(begin.toFixed(3))\n        })\n        begin += diff\n      }\n\n      classifiers.forEach((c)=>{\n        var coordinates = []\n        var mse = 0;\n        classifierValues[c].sort();\n        if (classifierThresholdKey.length == 0) predictions[c].cur_threshold = 0;\n        else predictions[c].cur_threshold = classifierThresholdDict[c]/100\n        if (Object.keys(classifierBandWidthDict).includes(c)) {\n          predictions[c].cur_left_edge = classifierBandWidthDict[c].left_range;\n          predictions[c].cur_right_edge = classifierBandWidthDict[c].right_range;\n        } else{\n          predictions[c].cur_left_edge = (predictions[c].cur_threshold - 0.05) < 0 ? 0 : predictions[c].cur_threshold - 0.05;\n          predictions[c].cur_right_edge = predictions[c].cur_threshold + 0.05 > 1 ? 1 : predictions[c].cur_threshold + 0.05;\n        }\n        predictions[c].cur_left_edge = parseFloat(predictions[c].cur_left_edge.toFixed(2))\n        predictions[c].cur_right_edge = parseFloat(predictions[c].cur_right_edge.toFixed(2))\n        predictions[c].cur_uncertain = predictions[c].cur_left_edge + '-' + predictions[c].cur_right_edge;\n        instances.forEach((id)=>{\n          const i = instanceById(id);\n          const actual = i.actual == classes[1] ? 1 : 0;\n          const predict_prob = i.continuous_predictions[c];\n          mse = mse + ((i.continuous_predictions[c] - actual) * (i.continuous_predictions[c] - actual))\n          if (predict_prob < predictions[c].cur_right_edge && predict_prob > predictions[c].cur_left_edge) {\n            if (actual == 0) {\n              if (predict_prob < predictions[c].cur_threshold) {\n                predictions[c].m_tn += 1\n                predictions[c].m_tn_instances.add(id)\n              } else {\n                predictions[c].m_fp += 1\n                predictions[c].m_fp_instances.add(id)\n              }\n            } else {\n              if (predict_prob >= predictions[c].cur_threshold) {\n                predictions[c].m_tp += 1\n                predictions[c].m_tp_instances.add(id)\n              } else {\n                predictions[c].m_fn += 1\n                predictions[c].m_fn_instances.add(id)\n              }\n            }\n          } else{\n            if (actual == 0) {\n              if (predict_prob < predictions[c].cur_threshold) {\n                predictions[c].tn += 1\n                predictions[c].tn_instances.add(id)\n              } else {\n                predictions[c].fp += 1\n                predictions[c].fp_instances.add(id)\n              }\n            } else {\n              if (predict_prob >= predictions[c].cur_threshold) {\n                predictions[c].tp += 1\n                predictions[c].tp_instances.add(id)\n              } else {\n                predictions[c].fn += 1\n                predictions[c].fn_instances.add(id)\n              }\n            }\n          }\n\n        })\n        let real_tp = predictions[c].tp + predictions[c].m_tp;\n        let real_tn = predictions[c].tn + predictions[c].m_tn;\n        let real_fp = predictions[c].fp + predictions[c].m_fp;\n        let real_fn = predictions[c].fn + predictions[c].m_fn;\n        let precentage = ((predictions[c].tp + predictions[c].fp + predictions[c].tn + predictions[c].fn ) / instances.length).toFixed(2);\n        predictions[c].ins_per = precentage\n        predictions[c].mse = mse\n        predictions[c].accuracy  = (real_tp + real_tn) / (real_tp + real_fp + real_tn + real_fn)       \n        predictions[c].precision = (real_tp)  / (real_tp + real_fp)   \n        predictions[c].recall = (real_tp) / (real_tp + real_fn)\n        predictions[c].f1 = (predictions[c].precision + predictions[c].recall == 0) ? 0 : 2 * predictions[c].precision * predictions[c].recall / (predictions[c].precision + predictions[c].recall)\n        if ((Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn))) == 0) {\n          predictions[c].mcc = 0;\n        } \n        if ((real_tp+real_fp)*(real_tp+real_fn)*(real_tn+real_fp)*(real_tn+real_fn) != 0) {\n          predictions[c].mcc = ((real_tp*real_tn-real_fp*real_fn) / Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn)))\n        } \n\n        let last_acc = 0\n        let last_value = '0'\n        let PerfCalculation = (value:string) =>{\n          let tp = 0;\n          let fp = 0;\n          let fn = 0;\n          let tn = 0;\n          instances.forEach((id)=>{\n            const i = instanceById(id);\n            const predict = i.continuous_predictions[c] < parseFloat(value) ? classes[0] : classes[1];\n            if (i.actual == classes[1]) {\n              if (predict == i.actual) {\n                tp+=1;\n              } else {\n                fn+=1;\n              }\n            } else {\n              if (predict == i.actual) {\n                tn+=1;\n              } else {\n                fp+=1;\n              }\n            }\n          })\n          return [tp, tn, fp, fn]\n        }\n        let addNewValues = (tp:number, tn:number, fp:number, fn:number, value:number)=>{\n          coordinates.push({\"x\":fp/(fp+tn), \"y\":tp/(tp+fn)});\n          predictions[c].x_roc.push((fp/(fp+tn)))\n          predictions[c].y_roc.push((tp/(tp+fn)))\n          predictions[c].value_roc.push(value)\n          predictions[c].x_pr.push((tp/(tp+fn)))\n          predictions[c].y_pr.push((tp/(tp+fp)))\n          predictions[c].acc.push((tn+tp)/(tn+tp+fn+fp))\n        }\n\n        function adaptSampling(low, high, pre, cur, count) {\n          if (count > 100) {\n            return\n          }\n      if (Math.abs (pre- cur) / pre > 0.5) {\n            let mid = ((parseFloat(high) + parseFloat(low)) / 2).toString()\n            let tmp_perf = PerfCalculation(mid)\n            let mid_value = (tmp_perf[0]+tmp_perf[1])/(tmp_perf[1]+tmp_perf[0]+tmp_perf[2]+tmp_perf[3])\n            \n            if (Math.abs(mid_value - pre) / pre > 0.5){\n              adaptSampling(low, mid, pre, mid_value, count + 1)\n              addNewValues(tmp_perf[0], tmp_perf[1], tmp_perf[2], tmp_perf[3], parseFloat(mid))\n            }\n            if (Math.abs(cur - mid_value) / cur > 0.5){\n              addNewValues(tmp_perf[0], tmp_perf[1], tmp_perf[2], tmp_perf[3], parseFloat(mid))\n              adaptSampling(mid, high,mid_value, cur, count + 1)\n            }\n          } \n          return \n        }\n\n        classifierValues[c].forEach((value, idx)=>{\n          value = formatDecimal(value)\n          let perf = PerfCalculation(value)\n          let tp = perf[0];\n          let tn = perf[1];\n          let fp = perf[2];\n          let fn = perf[3];\n          \n          if (idx == 0) {\n            last_acc = (tn+tp)/(tn+tp+fn+fp)\n            last_value = value\n          } else {\n            let cur = (tn+tp)/(tn+tp+fn+fp)\n            adaptSampling(last_value, value, last_acc, cur, 0)\n            last_acc = cur\n            last_value = value\n          }\n         \n          addNewValues(tp, tn, fp, fn, value)\n        })\n\n        predictions[c].auc_area = 0;\n        var lastx = 0;\n        var lasty = 0;\n        coordinates.sort(function(x, y){\n          return d3.ascending(x.x, y.x);\n        })\n        coordinates.forEach((cor)=>{\n          predictions[c].auc_area += (((cor.y + lasty) * (cor.x - lastx) / 2))\n          lastx = cor.x;\n          lasty = cor.y;\n        })\n      })\n\n      context.commit(\"setContinuousMetrics\", predictions)\n      \n    },\n    changedDatasetContinuous(context) {\n      const curClassifier = this.state.chosenClassifierThresholdTuple.classifier;\n      const curThreshold = this.state.chosenClassifierThresholdTuple.single_threshold;\n\n      let tmp_classifierThresholds  = this.state.classifierThresholdDict;\n      let tmp_thresholdsClassifier = this.state.thresholdClassifierNameList.map((d)=>d)\n      tmp_classifierThresholds[curClassifier] = curThreshold\n      context.commit(\"setClassifierThresholdDict\",tmp_classifierThresholds);\n      context.dispatch(\"updateContinuousMetrics\")\n\n      for (let i in tmp_thresholdsClassifier) {\n        let c = tmp_thresholdsClassifier[i]\n        if (c.indexOf(curClassifier)==0) {\n          tmp_thresholdsClassifier[i] = curClassifier + \"_\" + curThreshold\n        }\n      }\n      context.commit(\"setThresholdClassifierNameList\",tmp_thresholdsClassifier);\n\n      const classes = this.state.chosenDataset.classes\n      const classifiers = this.state.chosenDataset.classifiers\n      const instances = this.state.chosenDataset.instances\n      \n      for (let j in classifiers) {\n        let c = classifiers[j]\n        if (c!=curClassifier) {\n          continue\n        }\n        let tmp_predictions = []\n        for (let i in instances) {\n          const continuous_predictions = instances[i].continuous_predictions\n          if (parseFloat(continuous_predictions[c]) < curThreshold / 100) {\n            tmp_predictions.push(classes[0])\n            instances[i].predictions[c] = classes[0]\n          } else {\n            tmp_predictions.push(classes[1])\n            instances[i].predictions[c] = classes[1]\n          }\n        }\n      }\n    },\n    changedFilter(\n      context,\n      payload: {\n        entityType: EntityType,\n        newFilter: {\n          type: SelectionAction,\n          set: Set<string>,\n        },\n      },\n    ) {\n      context.commit('setFilter', payload);\n    },\n    changedHoverInstance(context, id) {\n      context.commit('setHoverInstance', id);\n    },\n    changedMostRecentSelection(context, whichOverlap: 'first' | 'second') {\n      const mostRecentSelection = context.state.selectionHistory[0];\n      context.dispatch('changedOverlapSelection', {\n        selection: mostRecentSelection,\n        whichOverlap,\n      });\n    },\n    setFocusItem(context, id){\n      context.commit('mutateFocusItem', id)\n    },\n    changeFocusSet(context, id){\n      context.commit('mutateFocusSet', id)\n    },\n  },\n  getters: {\n    curveChosenClassifierThresholdTuple(state) {\n      return state.curveChosenClassifierThresholdTuple;\n    },\n    classifierBandWidthDict(state) {\n      return state.classifierBandWidthDict;\n    },\n    withinClassifierBandWidthList(state) {\n      return state.withinClassifierBandWidthList;\n    },\n    withinClassifierName(state) {\n      return state.withinClassifierName;\n    },\n    classifierThresholdDict(state) {\n      return state.classifierThresholdDict;\n    },\n    thresholdClassifierNameList(state) {\n      return state.thresholdClassifierNameList;\n    },\n    classifierThresholdList(state,getters): ThresholdWithClassifier[] {\n      const allClassifiers: string[] = [...getters.filteredClassifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      const realClassifiers = allClassifiers.filter((c) => !dummyClassifiers.includes(c) && c!=\"\");\n      const thresholdClassifier: ThresholdWithClassifier[]= realClassifiers.map((c)=> {\n        return {\n          classifier: c,\n          single_threshold: 50,\n        };\n      });\n      return thresholdClassifier;\n    },\n    continuousThresholdClassifiers(state) {\n      return new Set(state.chosenDataset.classifiers);\n    },\n    datasetType(state) {\n      return state.datasetType;\n    },\n    fixedDataset(state) {\n      return state.fixedDataset\n    },\n    viewWidth(state) {\n      return state.viewWidth;\n    },\n    intersectionMode(state) {\n      return state.intersectionMode;\n    },\n    classes(state): Set<string> {\n      return new Set(state.chosenDataset.classes);\n    },\n    classifiers(state): Set<string> {\n      return new Set(state.chosenDataset.classifiers);\n    },\n    feature(state): (id: string) => Feature {\n      return (id: string) => state.chosenDataset.features[id];\n    },\n    features(state): Set<string> {\n      return new Set(Object.keys(state.chosenDataset.features));\n    },\n    instance(state): (id: string) => Instance {\n      return (id: string) => state.chosenDataset.instances[id];\n    },\n    instances(state): Set<string> {\n      return state.baseSelection.instances;\n    },\n    filteredClasses(state, getters): Set<string> {\n      const classesToExclude = state.filters.class.set;\n      const classes = getters.classes;\n      const filteredClasses = difference(classes, classesToExclude);\n      return filteredClasses;\n    },\n    filteredClassifiers(state, getters): Set<string> {\n      const classifiersToExclude = state.filters.classifier.set;\n      const classifiers = getters.classifiers;\n      const filteredClassifiers = difference(classifiers, classifiersToExclude);\n      return filteredClassifiers;\n    },\n    filteredInstances(state, getters): Set<string> {\n      let filteredInstances: string[] = [...getters.instances];\n      const trainOrTest = 'train_or_test';\n      switch (state.baseDataset) {\n        case 'test':\n          if (state.currentChosenFold != '') {\n            state.validationList.forEach((fold)=>{\n              if (fold.name == state.currentChosenFold) {\n                filteredInstances = [...fold.testing];\n              }\n            })\n          } else {\n            filteredInstances = filteredInstances.filter((i) => {\n              return instanceById(i).features[trainOrTest] === 'test' ||\n                instanceById(i).features[trainOrTest] === '0';\n            });\n          }\n          break;\n        case 'train':\n          if (state.currentChosenFold != '') {\n              state.validationList.forEach((fold)=>{\n                if (fold.name == state.currentChosenFold) {\n                  filteredInstances = [...fold.training];\n                }\n              })\n          } else {\n            filteredInstances = filteredInstances.filter((i) => {\n              return instanceById(i).features[trainOrTest] === 'train' ||\n                instanceById(i).features[trainOrTest] === '1';\n            });\n          }\n          break;\n        case 'sample':\n          filteredInstances = [...state.sampleDict['instances']]\n          break;\n      }\n      return new Set(filteredInstances);\n    },\n    additionMetrics(state, getters): {\n      [classifier: string]: Metrics,\n    }  {\n      const classes: string[] = [...getters.filteredClasses];\n      const classifiers: string[] = state.addedThresholdClassifiers;\n      const instances: string[] = [...getters.filteredInstances];\n\n      const metrics: {\n        [classifier: string]: Metrics,\n      } = {};\n      \n      classifiers.forEach((additionC) => {\n        // create all metrics\n        let c = additionC['name']\n        let classifier = c.substring(4,c.length-5)\n        let threshold = parseFloat(c.substring(c.length-4,c.length))\n\n        metrics[c] = {\n          accuracy: -1,\n          acc: { average: -1 },\n          mcc: { average: -1 },\n          f1: { average: -1 },\n          microf1: { average: -1 },\n          macrof1: { average: -1 },\n          precision: { average: -1 },\n          recall: { average: -1 },\n          predicted: {},\n          actual: {},\n          false: {},\n          true: {},\n          tp: {},\n          fp: {},\n          fn: {},\n          tn: {},\n        };\n        const m = metrics[c];\n        // actual and predicted of a class\n        classes.forEach((actualClass) => {\n          m.actual[actualClass] = new Set(instances.filter((i) => instanceById(i).actual === actualClass));\n        });\n        classes.forEach((predictedClass) => {\n          m.predicted[predictedClass] = new Set(instances.filter((i) =>\n            predictedClass == classes[0] ? instanceById(i).continuous_predictions[classifier] <= threshold\n                                      : instanceById(i).continuous_predictions[classifier] > threshold\n            // instanceById(i).predictions[classifier] === predictedClass\n            ));\n        });\n        \n        \n        classes.forEach((actualClass) => {\n          m.true[actualClass] = intersection(m.actual[actualClass], m.predicted[actualClass]);\n        });\n        classes.forEach((actualClass) => {\n          m.false[actualClass] = difference(m.predicted[actualClass], m.actual[actualClass]);\n        });\n\n        classes.forEach((actualClass)=>{\n          m.tp[actualClass]  = new Set();\n          m.fp[actualClass]  = new Set();\n          m.fn[actualClass]  = new Set();\n          m.tn[actualClass]  = new Set();\n        })\n\n        instances.forEach((id) => {\n          const i = instanceById(id);\n          var c = classifier\n          if (i.actual == classes[1]) {\n              if (i.continuous_predictions[c] >= threshold) {\n                m.tp[classes[1]].add(id);\n              } else {\n                m.fn[classes[1]].add(id);\n              }\n          } else {\n            if (i.continuous_predictions[c] < threshold) {\n              m.tn[classes[1]].add(id);\n            } else {\n              m.fp[classes[1]].add(id);\n            }\n          }\n        })\n        \n        // accuracy\n        let totalTrue = 0;\n        classes.forEach((actualClass) => {\n          totalTrue += m.true[actualClass].size;\n        });\n        m.accuracy = totalTrue / instances.length;\n\n\n        // precision pre class\n        var className = classes[1]\n        m.precision[className] =  m.tp[className].size / (m.tp[className].size + m.fp[className].size);\n        m.precision[classes[0]] = 1-m.precision[className];\n        m.precision.average = m.precision[className] \n        \n        \n\n        \n        // recall pre class\n        var className = classes[1]\n        m.recall[className] =  m.tp[className].size / (m.tp[className].size + m.fn[className].size);\n        m.recall[classes[0]] = 1-m.recall[className];\n        m.recall.average = m.recall[className] \n        \n        \n        // f1\n        var className = classes[1]\n        const p = m.precision[className];\n        const r = m.recall[className];\n        m.f1[className] = 2 * p * r / (p + r);\n        m.f1[classes[0]] = 2 * (1-p)*(1-r) / (2-p-r)\n        m.f1.average = m.f1[className]\n\n        \n        // mcc\n        var className = classes[1]\n        var tp = m.tp[className].size;\n        var tn = m.tn[className].size;\n        var fp = m.fp[className].size;\n        var fn = m.fn[className].size;\n        if ((Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn))) == 0) {\n          m.mcc.average = 0;\n        } \n        if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n          m.mcc.average = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n        } \n      });\n\n      return metrics;\n    },\n    metrics(state, getters): {\n      [classifier: string]: Metrics,\n    }  {\n      const classes: string[] = [...getters.filteredClasses];\n      const classifiers: string[] = [...getters.filteredClassifiers];\n      const instances: string[] = [...getters.filteredInstances];\n\n      const metrics: {\n        [classifier: string]: Metrics,\n      } = {};\n      classifiers.forEach((classifier) => {\n        // create all metrics\n        metrics[classifier] = {\n          accuracy: -1,\n          acc: { average: -1 },\n          mcc: { average: -1 },\n          f1: { average: -1 },\n          microf1: { average: -1 },\n          macrof1: { average: -1 },\n          precision: { average: -1 },\n          recall: { average: -1 },\n          predicted: {},\n          actual: {},\n          false: {},\n          true: {},\n          tp: {},\n          fp: {},\n          fn: {},\n          tn: {},\n        };\n        const m = metrics[classifier];\n        // actual and predicted of a class\n        classes.forEach((actualClass) => {\n          m.actual[actualClass] = new Set(instances.filter((i) => instanceById(i).actual === actualClass));\n        });\n        classes.forEach((predictedClass) => {\n          m.predicted[predictedClass] = new Set(instances.filter((i) =>\n            instanceById(i).predictions[classifier] === predictedClass));\n        });\n        \n        // true false per class \n        if (classes.length > 2) {\n          classes.forEach((actualClass) => {\n            var cur_predictions = [...m.predicted[actualClass]]\n            var cur_actuals = [...m.actual[actualClass]]\n            m.true[actualClass] = intersection(m.actual[actualClass], m.predicted[actualClass]);\n            m.tp[actualClass] = m.true[actualClass];\n            m.fp[actualClass] = new Set(cur_predictions.filter((i) => !cur_actuals.includes(i)));\n            m.fn[actualClass] = new Set(cur_actuals.filter((i) => !cur_predictions.includes(i)));\n          });\n          classes.forEach((actualClass) => {\n            m.false[actualClass] = difference(m.predicted[actualClass], m.actual[actualClass]);\n          });\n  \n          classes.forEach((actualClass)=>{\n            m.tn[actualClass]  = new Set();\n            classes.forEach((restClass)=>{\n              if (restClass != actualClass) {\n                m.tn[actualClass]  = new Set([...m.tn[actualClass], ...m.tp[restClass]])\n              }\n            })\n          })\n        } else {\n          classes.forEach((actualClass) => {\n            m.true[actualClass] = intersection(m.actual[actualClass], m.predicted[actualClass]);\n          });\n          classes.forEach((actualClass) => {\n            m.false[actualClass] = difference(m.predicted[actualClass], m.actual[actualClass]);\n          });\n  \n          classes.forEach((actualClass)=>{\n            m.tp[actualClass]  = new Set();\n            m.fp[actualClass]  = new Set();\n            m.fn[actualClass]  = new Set();\n            m.tn[actualClass]  = new Set();\n          })\n\n          instances.forEach((id) => {\n            const i = instanceById(id);\n            var c = classifier\n            if (i.actual == classes[1]) {\n                if (i.predictions[c] == i.actual) {\n                  m.tp[classes[1]].add(id);\n                } else {\n                  m.fn[classes[1]].add(id);\n                }\n              } else {\n                if (i.predictions[c] == i.actual) {\n                  m.tn[classes[1]].add(id);\n                } else {\n                  m.fp[classes[1]].add(id);\n                }\n              }\n          })\n        }\n        // accuracy\n        let totalTrue = 0;\n        classes.forEach((actualClass) => {\n          totalTrue += m.true[actualClass].size;\n        });\n        m.accuracy = totalTrue / instances.length;\n\n\n        // precision pre class\n        if (classes.length > 2) {\n          let precisionSum = 0;\n          classes.forEach((className) => {\n            m.precision[className] = m.tp[className].size / (m.tp[className].size + m.fp[className].size);\n            precisionSum += m.precision[className];\n          });\n          m.precision.average = precisionSum / classes.length;\n        } else {\n          var className = classes[1]\n          m.precision[className] =  m.tp[className].size / (m.tp[className].size + m.fp[className].size);\n          m.precision[classes[0]] = 1-m.precision[className];\n          m.precision.average = m.precision[className] \n        }\n        \n\n        \n        // recall pre class\n        if (classes.length > 2) {\n          let recallSum = 0;\n          classes.forEach((className) => {\n            m.recall[className] = m.tp[className].size / (m.tp[className].size + m.fn[className].size);\n            recallSum += m.recall[className];\n          });\n          m.recall.average = recallSum / classes.length;\n        } else {\n          var className = classes[1]\n          m.recall[className] =  m.tp[className].size / (m.tp[className].size + m.fn[className].size);\n          m.recall[classes[0]] = 1-m.recall[className];\n          m.recall.average = m.recall[className] \n        }\n        \n        // f1\n        if (classes.length > 2) {\n          let f1Sum = 0;\n          classes.forEach((className) => {\n            const p = m.precision[className];\n            const r = m.recall[className];\n            m.f1[className] = 2 * p * r / (p + r);\n            f1Sum += m.f1[className];\n          });\n          m.f1.average = f1Sum / classes.length;\n        } else {\n          var className = classes[1]\n          const p = m.precision[className];\n          const r = m.recall[className];\n          m.f1[className] = 2 * p * r / (p + r);\n          m.f1[classes[0]] = 2 * (1-p)*(1-r) / (2-p-r)\n          m.f1.average = m.f1[className]\n        }\n         \n\n        // micro f1\n        let tpSum = 0;\n        let fpSum = 0;\n        let fnSum = 0;\n        classes.forEach((className) => {\n          tpSum += m.tp[className].size;\n          fpSum += m.fp[className].size;\n          fnSum += m.fn[className].size;\n        });\n        let microPrecision = tpSum / (tpSum + fpSum);\n        let microRecall = tpSum / (tpSum + fnSum);\n        m.microf1.average = m.f1.average//2 * microPrecision * microRecall / (microPrecision + microRecall);\n\n        // macro f1\n        m.macrof1.average = 2 * microPrecision * microRecall / (microPrecision + microRecall);//2 * m.precision.average * m.recall.average / (m.precision.average + m.recall.average);\n\n        // mcc\n        if (classes.length > 2) {\n          var tp = 0;\n          var tn = 0;\n          var fp = 0;\n          var fn = 0;\n          classes.forEach((className) => {\n            tp += m.tp[className].size;\n            tn += m.tn[className].size;\n            fp += m.fp[className].size;\n            fn += m.fn[className].size;\n          })\n          if ((Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn))) == 0) {\n            if ((tp * tn - tp * fn) < 0){\n              m.mcc.average = -1;\n            } else {\n              m.mcc.average = 1;\n            }\n          } else {\n            m.mcc.average = (tp * tn - tp * fn) / (Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn)));\n          }\n        } else {\n          var className = classes[1]\n          var tp = m.tp[className].size;\n          var tn = m.tn[className].size;\n          var fp = m.fp[className].size;\n          var fn = m.fn[className].size;\n          if ((Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn))) == 0) {\n            m.mcc.average = 0;\n          } \n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            m.mcc.average = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n          } \n        }\n        \n      });\n\n      return metrics;\n    },\n    continuous_metrics(state) {\n      return state.continuous_metrics;\n    },\n    weighted_metrics(state){\n      return state.weighted_metrics;\n    },\n    visualizations(state, getters): Visualization[] {\n      const visualizations: Visualization[] = [];\n      const openViews = state.views.open;\n      openViews.forEach((view) => {\n\n        const visualizationTemplate = () => {\n          return {\n            name: view,\n            boxProps: {\n              classes: getters.filteredClasses,\n              classifiers: getters.filteredClassifiers,\n              instances: getters.filteredInstances,\n              features: getters.features,\n              thresholdClassifierNameList: getters.thresholdClassifierNameList,\n              classifierBandWidthDict:getters.classifierBandWidthDict,\n              withinClassifierBandWidthList: getters.withinClassifierBandWidthList,\n            },\n          };\n        };\n        \n       \n        switch (view) {\n          case VisualizationType.CA:\n          case VisualizationType.SCP:\n          case VisualizationType.COV:\n          case VisualizationType.CC:\n          case VisualizationType.CB:\n          case VisualizationType.RC:\n          case VisualizationType.BA:\n          case VisualizationType.REC:\n          case VisualizationType.TID:  \n          case VisualizationType.UM:\n          case VisualizationType.CMG:\n          case VisualizationType.FH:\n          case VisualizationType.OCA:\n          case VisualizationType.PCC:\n          case VisualizationType.SMP:\n          case VisualizationType.SP:\n          case VisualizationType.SM:\n          case VisualizationType.ITL:\n          case VisualizationType.FI:\n            visualizations.push(visualizationTemplate());\n            break;\n          default:\n            console.error('Visualization', view, 'not implemented');\n            break;\n        }\n      });\n\n      return visualizations;\n    },\n\n  },\n});\n","import store from './store';\nimport {\n  Feature,\n  Instance,\n} from './types';\n\nexport function difference(a: Set<any>, b: Set<any>): Set<any> {\n  return new Set([...a].filter((elem) => !b.has(elem)));\n}\n\nexport function featureByName(name: string): Feature {\n  return store.getters.feature(name);\n}\n\nexport function generateRandomId(prefix = 'randomlyGeneratedId-') {\n  const suffix = Math.random().toString().substr(2);\n  const id = prefix + suffix;\n  return id;\n}\n\nexport function instanceById(id: string): Instance {\n  return store.getters.instance(id);\n}\n\nexport function intersection(a: Set<any>, b: Set<any>): Set<any> {\n  return new Set([...a].filter((elem) => b.has(elem)));\n}\n\nexport function intersectionAll(sets: Set<Set<any>>): Set<any> {\n  if (sets.size === 0) {\n    return new Set();\n  }\n  let result = [...sets][0];\n  sets.forEach((s) => {\n    result = intersection(result, s);\n  });\n  return result;\n}\n\nexport function logTime(message: string) {\n  const today = new Date();\n  const time = today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds() + '.' + today.getMilliseconds();\n  console.log(`${time}: ${message}`);\n}\n\nexport function overlapCount(a: Set<any>, b: Set<any>): number {\n  const overlap = intersection(a, b);\n  return overlap.size;\n}\n\n// returns overlapFraction with respect to b\nexport function overlapFraction(a: Set<any>, b: Set<any>): number {\n  if (b.size === 0) {\n    return 0;\n  }\n  return overlapCount(a, b) / b.size;\n}\n\nexport function truncateLabel(label: string, length: number): string {\n  if (label.length <= length) {\n    return label;\n  }\n  return label.slice(0, Math.max(1, length - 3)) + '...';\n}\n\nexport function union(a: Set<any>, b: Set<any>): Set<any> {\n  return new Set([...a, ...b]);\n}\n\nexport function unionAll(sets: Set<Set<any>>): Set<any> {\n  let result = new Set();\n  sets.forEach((s) => {\n    result = union(result, s);\n  });\n  return result;\n}\n\nexport function xor(a: Set<any>, b: Set<any>): Set<any> {\n  const result = union(difference(a, b), difference(b, a));\n  return result;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { colors } from '../../theme';\n\nexport default Vue.extend({\n  name: 'Performance_Overall',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = '' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const evaluationSelection = 'accuracy' as 'mcc'| 'f1' | 'precision'| 'recall'| 'microf1' | 'macrof1'| 'accuracy'\n    const weightedPerformance = 'normal' as 'normal' | 'weighted'\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n    };\n    const focusColor = colors.focus;\n    return {\n      svg: '',\n      accuracySorting,\n      evaluationSelection,\n      weightedPerformance,\n      height,\n      hover,\n      margin,\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF', \n      selection2Color: '#FF4081',\n      width,\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      classNumber:[...this.boxProps.classes].length,\n      focusColor,\n    };\n  },\n  computed: {\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      let addedThresholdClassifiers = this.$store.state.addedThresholdClassifiers\n      if (addedThresholdClassifiers === null ) {\n        addedThresholdClassifiers = []\n      }\n      return addedThresholdClassifiers;\n    },\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n    continuous_metrics() {\n      return this.$store.state.continuous_metrics\n    },\n    weighted_metrics() {\n      return this.$store.state.weighted_metrics;\n    },\n    classes(): string[] {\n      this.classNumber = [...this.boxProps.classes].length\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];  \n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    thresholdClassifierNameList():string[] {\n      return this.boxProps.thresholdClassifierNameList\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    predictionKeys(): string[] {\n      var scope = this.evaluationKeys\n      const accuracyAscending = (c1: string, c2: string) => {\n        if (scope == \"f1\") {\n          return this.predictions[c1].f1 - this.predictions[c2].f1;\n        } else if (scope == \"macrof1\") {\n          return this.predictions[c1].macro_f1 - this.predictions[c2].macro_f1;\n        } else if (scope == \"microf1\") {\n          return this.predictions[c1].micro_f1 - this.predictions[c2].micro_f1;\n        } else if (scope == \"mcc\") {\n          return this.predictions[c1].mcc - this.predictions[c2].mcc;\n        } else if (scope == \"precision\") {\n          return this.predictions[c1].precision - this.predictions[c2].precision;\n        } else if (scope == \"recall\") {\n          return this.predictions[c1].recall - this.predictions[c2].recall;\n        }\n        return this.predictions[c1].right.size - this.predictions[c2].right.size;\n      };\n      const accuracyDescending = (c1: string, c2: string) => {\n        return -accuracyAscending(c1, c2);\n      };\n\n      let predictionKeys = this.classifiers.slice();\n      if (this.$store.state.datasetType == \"continuous\") {\n        var continuousPredictionKeys = []\n        predictionKeys.forEach((c)=>{\n          continuousPredictionKeys.push(c+\"_\"+this.classifierThresholdDict[c]/100)\n        })\n        this.addedThresholdClassifiers.forEach((c)=>{\n          continuousPredictionKeys.push(c.name)\n        })\n        predictionKeys = continuousPredictionKeys\n      }\n      switch (this.accuracySorting) {\n        case 'ascending':\n          predictionKeys.sort(accuracyAscending);\n          break;\n        case 'descending':\n          predictionKeys.sort(accuracyDescending);\n          break;\n        case 'alphabetical':\n          predictionKeys.sort();\n          break;\n      }\n      return predictionKeys;\n    },\n    classifierThresholdDict():{} {\n      return this.$store.state.classifierThresholdDict\n    },\n    continuousPredictionKeys():string[]{\n      return this.predictionKeys;\n    },\n    evaluationKeys() : String {\n      var evaluationKeys = \"\"\n      switch (this.evaluationSelection) {\n        case 'accuracy' :\n          evaluationKeys = \"accuracy\"\n          break;\n        case 'f1' :\n          evaluationKeys = \"f1\"\n          break; \n        case 'microf1' :\n          evaluationKeys = \"microf1\"  \n          break;\n        case 'macrof1' :\n          evaluationKeys = \"macrof1\"\n          break;\n        case 'mcc' :\n          evaluationKeys = \"mcc\"\n          break;\n        case 'precision' :\n          evaluationKeys = \"precision\"\n          break;\n        case 'recall' :\n          evaluationKeys = \"recall\"\n          break;      \n      }\n      return evaluationKeys;\n    },\n    continuousMetrics(): {} {\n      let predictions = {};\n      let dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      let continuous_metrics = this.weightedPerformance == 'normal' ? this.$store.state.continuous_metrics : this.$store.state.weighted_metrics;\n      let continuousClassifierName = {}\n      for (let c in continuous_metrics){\n        if (!dummyClassifiers.includes(c)) {\n          if (c.substring(0,3) != 'set') {\n            continuousClassifierName[c] = c + \"_\" + this.classifierThresholdDict[c]/100\n          } else {\n            continuousClassifierName[c] = c\n          }\n        }\n      }\n      for (let c in continuousClassifierName){\n        predictions[continuousClassifierName[c]] = {\n          right: new Set(),\n          wrong: new Set(),\n          fp: new Set(),\n          fn: new Set(),\n          tp: new Set(),\n          tn: new Set(),\n          f1: 0,\n          micro_f1: 0,\n          macro_f1:0,\n          mcc: 0,\n          precision: 0,\n          recall: 0,\n          accuracy:0,\n        };\n      };\n\n      for (let c in continuous_metrics) {\n        if (!dummyClassifiers.includes(c)) {\n          predictions[continuousClassifierName[c]].fp = set_combiniation(continuous_metrics[c].fp_instances, continuous_metrics[c].m_fp_instances);\n          predictions[continuousClassifierName[c]].tp = set_combiniation(continuous_metrics[c].tp_instances, continuous_metrics[c].m_tp_instances);\n          predictions[continuousClassifierName[c]].fn = set_combiniation(continuous_metrics[c].fn_instances, continuous_metrics[c].m_fn_instances);\n          predictions[continuousClassifierName[c]].tn = set_combiniation(continuous_metrics[c].tn_instances, continuous_metrics[c].m_tn_instances);\n          predictions[continuousClassifierName[c]].right = set_combiniation(predictions[continuousClassifierName[c]].tp, predictions[continuousClassifierName[c]].tn)\n          predictions[continuousClassifierName[c]].wrong = set_combiniation(predictions[continuousClassifierName[c]].fp, predictions[continuousClassifierName[c]].fn)\n          var tp = predictions[continuousClassifierName[c]].tp.size\n          var fp = predictions[continuousClassifierName[c]].fp.size\n          var fn = predictions[continuousClassifierName[c]].fn.size\n          var tn = predictions[continuousClassifierName[c]].tn.size\n          predictions[continuousClassifierName[c]].precision = continuous_metrics[c].precision\n          predictions[continuousClassifierName[c]].recall = continuous_metrics[c].recall\n          predictions[continuousClassifierName[c]].accuracy = continuous_metrics[c].accuracy\n          predictions[continuousClassifierName[c]].f1 = continuous_metrics[c].f1\n          predictions[continuousClassifierName[c]].mcc = continuous_metrics[c].mcc\n        }\n      }\n\n      function set_combiniation(set1, set2) {\n        let res = [...set1]\n        let set2_list = [...set2]\n        set2_list.forEach((i)=>{\n          res.push(i)\n        })\n        return new Set(res)\n      }\n      return predictions;\n    },\n    predictions(): {} {\n      let predictions = {};\n      if (this.datasetType == 'continuous') {\n        return this.continuousMetrics\n      } else {\n        let continuousClassifierName = {}\n        this.classifiers.forEach((c)=>{\n          continuousClassifierName[c] = c;\n        })\n\n        this.classifiers.forEach((c) => {\n          predictions[continuousClassifierName[c]] = {\n            right: new Set(),\n            wrong: new Set(),\n            fp: new Set(),\n            fn: new Set(),\n            tp: new Set(),\n            tn: new Set(),\n            f1: 0,\n            micro_f1: 0,\n            macro_f1:0,\n            mcc: 0,\n            precision: 0,\n            recall: 0,\n            accuracy:0,\n          };\n        });\n\n        // get the tp fp fn per classifier per class\n        var total_data = {}\n        this.classifiers.forEach((c) =>{\n          total_data[c] = {}\n          this.classes.forEach((d)=>{\n            total_data[c][d] = {\"right\":[],\"wrong\":[],\"tp\":[],\"fp\":[],\"fn\":[],\"tn\":[],\"pred\":[],\"actual\":[]}\n          })\n        })\n        this.instances.forEach((id)=>{\n          var i  = instanceById(id)\n          this.classifiers.forEach((c) => {\n            var curAcClass = i.actual;\n            var curPredClass = i.predictions[c]\n            var curClassifier = c;\n            total_data[curClassifier][curPredClass].pred.push(id);\n            total_data[curClassifier][curAcClass].actual.push(id);\n\n            if (i.predictions[c] == i.actual) {\n              total_data[c][curAcClass].right.push(id);\n              total_data[curClassifier][curAcClass].tp.push(id);\n              this.classes.forEach((j)=>{\n                if (j != curPredClass){\n                  total_data[curClassifier][j].tn.push(id)\n                } \n              })\n            } else {\n              total_data[c][curAcClass].wrong.push(id);\n              total_data[c][curPredClass].fp.push(id)\n              total_data[curClassifier][curAcClass].fn.push(id);\n            }\n          });\n        })\n        //get the tp. fp fn for binary classification problem \n        const instances_num = this.instances.length;\n        this.instances.forEach((id) => {\n          const i = instanceById(id);\n          this.classifiers.forEach((c) => {\n            if (i.predictions[c] === i.actual) {\n              predictions[continuousClassifierName[c]].right.add(id);\n            } else {\n              predictions[continuousClassifierName[c]].wrong.add(id);\n            }\n            if (i.actual == this.classes[1]) {\n                if (i.predictions[c] == i.actual) {\n                  predictions[continuousClassifierName[c]].tp.add(id);\n                } else {\n                  predictions[continuousClassifierName[c]].fn.add(id);\n                }\n              } else {\n                if (i.predictions[c] == i.actual) {\n                  predictions[continuousClassifierName[c]].tn.add(id);\n                } else {\n                  predictions[continuousClassifierName[c]].fp.add(id);\n                }\n              }\n          })\n        })\n\n        //calculate the value of each evaluation\n        this.classifiers.forEach((c)=>{\n          var tp = predictions[continuousClassifierName[c]].tp.size\n          var fp = predictions[continuousClassifierName[c]].fp.size\n          var fn = predictions[continuousClassifierName[c]].fn.size\n          var tn = predictions[continuousClassifierName[c]].tn.size\n          predictions[continuousClassifierName[c]].precision = tp / (tp + fp);\n          predictions[continuousClassifierName[c]].recall = tp /  (tp + fn);\n          predictions[continuousClassifierName[c]].accuracy = (tp + tn) / (tp + tn +fp + fn)//predictions[continuousClassifierName[c]].right.size / (predictions[continuousClassifierName[c]].right.size + predictions[continuousClassifierName[c]].wrong.size)\n          predictions[continuousClassifierName[c]].f1 = 2 *  predictions[continuousClassifierName[c]].precision *  predictions[continuousClassifierName[c]].recall / ( predictions[continuousClassifierName[c]].precision +  predictions[continuousClassifierName[c]].recall)\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            predictions[continuousClassifierName[c]].mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n          } else {\n            predictions[continuousClassifierName[c]].mcc = 0\n          }\n        })\n\n\n        if (this.classes.length > 2) {\n          this.classifiers.forEach((c)=>{\n              var total_tp = 0\n              var total_fp = 0\n              var total_tn = 0\n              var total_fn = 0\n\n              var total_f1 = 0\n              this.classes.forEach((j)=>{\n                var cur_tp = total_data[c][j].tp.length\n                var cur_fp = total_data[c][j].fp.length\n                var cur_tn = total_data[c][j].tn.length\n                var cur_fn = total_data[c][j].fn.length\n                total_tp +=  cur_tp\n                total_fp += cur_fp\n                total_tn +=  cur_tn\n                total_fn += cur_fn\n                var cur_pre = cur_tp / (cur_tp + cur_fp )\n                var cur_recall = cur_tp / (cur_tp + cur_fn )\n                total_f1 += ((cur_pre + cur_recall) == 0)? 0 : 2 * cur_pre * cur_recall / (cur_pre + cur_recall)\n              })\n              predictions[continuousClassifierName[c]].micro_f1 = total_f1 / this.classes.length\n              var total_recall= total_tp / (total_tp + total_fn)\n              var total_pre= total_tp / (total_tp + total_fp )\n              predictions[continuousClassifierName[c]].macro_f1 = (total_recall + total_pre ) == 0? 0 : total_recall * total_pre * 2 / (total_recall + total_pre )\n              if ((total_tp+total_fp)*(total_tp+total_fn)*(total_tn+total_fp)*(total_tn+total_fn) != 0) {\n                predictions[continuousClassifierName[c]].mcc = ((total_tp*total_tn-total_fp*total_fn) / Math.sqrt((total_tp+total_fp)*(total_tp+total_fn)*(total_tn+total_fp)*(total_tn+total_fn)))\n              } else {\n                predictions[continuousClassifierName[c]].mcc = 0\n              }\n          })\n        }\n        return predictions;\n      }\n      \n    },\n\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusSet(): String{return this.$store.state.focusSet},\n    focusDotEmphasis(): Boolean{return this.$store.state.focusDotEmphasis},\n\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.continuousPredictionKeys)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([this.evaluationKeys == \"mcc\"? -1 : 0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n  },\n  watch: {\n    weightedPerformance() {\n      this.drawInitial();\n    },\n    accuracySorting() {\n      this.drawInitial();\n    },\n    evaluationSelection() { \n      this.drawInitial();\n    },\n    hover() {\n      this.drawHover();\n    },\n    classifierThresholdDict() {\n      this.drawInitial();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawInitial();\n    },\n    weighted_metrics() {\n      if (this.weightedPerformance == 'weighted') {\n        this.drawInitial();\n      }\n    },\n    continuous_metrics() {\n      this.drawInitial();\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusSet(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    clearHover() {\n      this.hover = ({type: '', classifier: ''});\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const rightBars = chart.selectAll('.bar-right');\n      const wrongBars = chart.selectAll('.bar-wrong');\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line');\n      const yAxisMarkerTextRight = chart.select('.y-axis-marker-text-right');\n      const yAxisMarkerTextWrong = chart.select('.y-axis-marker-text-wrong');\n      const { first, second } = this.selections;\n      const textSelection1  = chart.select('.y-axis-marker-text-selection1');\n      const textSelection2  = chart.select('.y-axis-marker-text-selection2');\n      const rectHover  = chart.select('.y-axis-marker-rect');\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      const formatDecimal = d3.format(\".1f\")\n      const hoverText  = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = this.predictions[classifierName][typeString]\n        var totalInstances = 0\n        if (this.evaluationKeys==\"precision\"){           \n          totalInstances = this.predictions[classifierName][\"fp\"].size+this.predictions[classifierName][\"tp\"].size\n        }else if  ( this.evaluationKeys==\"recall\"){\n           totalInstances = this.predictions[classifierName][\"fn\"].size+this.predictions[classifierName][\"tp\"].size}\n        else{    \n           totalInstances = this.instances.length}\n        const overlappingInstances = intersection(instances, selection);\n        return overlappingInstances.size;\n      };\n      \n      if ((first || second) && !(this.evaluationKeys == \"mcc\" || this.evaluationKeys == \"microf1\" || this.evaluationKeys == \"macrof1\"|| this.evaluationKeys == \"f1\") ) {\n        rectHover.transition()\n          .duration(moveDuration)\n          .attr('opacity', 1)\n          .attr('transform',  `translate(\n            ${this.x(this.hover.classifier)},\n            ${this.y(1) - 70})`)\n      }\n      if (!first || this.evaluationKeys == \"mcc\" || this.evaluationKeys == \"microf1\" || this.evaluationKeys == \"macrof1\"|| this.evaluationKeys == \"f1\") {\n        textSelection1.transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n      }  else {\n        if (this.hover.type === 'right')\n          textSelection1.transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform',  `translate(\n            ${this.x(this.hover.classifier)+60},\n            ${this.y(1) - 60})`)\n          .text('1st: '+formatDecimal(hoverText(this.hover.classifier,this.evaluationKeys==\"precision\"? \"tp\" :\n            this.evaluationKeys==\"recall\"?\"tp\" :\"right\", first.instances)))\n        if (this.hover.type === 'wrong')        \n          textSelection1.transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform',  `translate(\n            ${this.x(this.hover.classifier)+60},\n            ${this.y(1) - 60})`)\n          .text('1st: '+formatDecimal(hoverText(this.hover.classifier,this.evaluationKeys==\"precision\"? \"fp\" :\n            this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", first.instances)))\n      } \n      if (!second|| this.evaluationKeys == \"mcc\" || this.evaluationKeys == \"microf1\" || this.evaluationKeys == \"macrof1\"|| this.evaluationKeys == \"f1\") {\n        textSelection2.transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0); \n      } else {\n        if (this.hover.type === 'right')\n          textSelection2.transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform',  `translate(\n            ${this.x(this.hover.classifier)+60},\n            ${this.y(1) -30})`)\n          .text('2nd: '+formatDecimal(hoverText(this.hover.classifier,this.evaluationKeys==\"precision\"? \"tp\" :\n            this.evaluationKeys==\"recall\"?\"tp\" :\"right\", second.instances)))\n        if (this.hover.type === 'wrong')        \n          textSelection2.transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform',  `translate(\n            ${this.x(this.hover.classifier)+60},\n            ${this.y(1) -30})`)\n          .text('2nd: '+formatDecimal(hoverText(this.hover.classifier,this.evaluationKeys==\"precision\"? \"fp\" :\n            this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", second.instances)))\n      }\n      if (this.hover.type === 'right') {\n        rightBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        rightBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hover.type === 'wrong') {\n        wrongBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n        wrongBars.attr('fill', this.wrongColor);\n      }\n\n      \n      if (this.hover.type) {\n        yAxisMarkerLine\n          .transition()\n          .duration(moveDuration)\n          .attr('stroke-opacity', 1)\n          .attr('y1', this.evaluationKeys == \"f1\" ? this.y(this.predictions[this.hover.classifier].f1) \n                                                :this.evaluationKeys == \"precision\" ? this.y(this.predictions[this.hover.classifier].precision) \n                                                :this.evaluationKeys == \"recall\" ? this.y(this.predictions[this.hover.classifier].recall) \n                                                :this.evaluationKeys == \"microf1\" ? this.y(this.predictions[this.hover.classifier].micro_f1) \n                                                :this.evaluationKeys == \"macrof1\" ? this.y(this.predictions[this.hover.classifier].macro_f1) \n                                                :this.evaluationKeys == \"mcc\" ? this.y(this.predictions[this.hover.classifier].mcc) \n                                                :this.y(this.predictions[this.hover.classifier].accuracy) )\n                                                // : this.y(this.predictions[this.hover.classifier].right.size / this.instances.length))\n          .attr('x2', this.width)\n          .attr('y2', this.evaluationKeys == \"f1\" ? this.y(this.predictions[this.hover.classifier].f1) \n                                                :this.evaluationKeys == \"precision\" ? this.y(this.predictions[this.hover.classifier].precision) \n                                                :this.evaluationKeys == \"recall\" ? this.y(this.predictions[this.hover.classifier].recall) \n                                                :this.evaluationKeys == \"microf1\" ? this.y(this.predictions[this.hover.classifier].micro_f1) \n                                                :this.evaluationKeys == \"macrof1\" ? this.y(this.predictions[this.hover.classifier].macro_f1) \n                                                :this.evaluationKeys == \"mcc\" ? this.y(this.predictions[this.hover.classifier].mcc) \n                                                :this.y(this.predictions[this.hover.classifier].accuracy) )\n                                                // : this.y(this.predictions[this.hover.classifier].right.size / this.instances.length));\n        yAxisMarkerTextRight\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', this.evaluationKeys == \"f1\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].f1) + 10})`\n            :this.evaluationKeys == \"precision\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].precision) + 10})`\n            :this.evaluationKeys == \"recall\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].recall) + 10})`\n            :this.evaluationKeys == \"microf1\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].micro_f1) + 10})`\n            :this.evaluationKeys == \"macrof1\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].macro_f1) + 10})`\n            :this.evaluationKeys == \"mcc\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].mcc) + 10})`\n            : `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].right.size / this.instances.length) + 10})`)\n          .text(this.evaluationKeys == \"f1\"? `${(this.predictions[this.hover.classifier].f1 * 100).toFixed(1)}%`\n                :this.evaluationKeys == \"precision\"? `${(this.predictions[this.hover.classifier].precision * 100).toFixed(1)}%`\n                :this.evaluationKeys == \"recall\"? `${(this.predictions[this.hover.classifier].recall * 100).toFixed(1)}%`\n                :this.evaluationKeys == \"microf1\"? `${(this.predictions[this.hover.classifier].micro_f1 * 100).toFixed(1)}%`\n                :this.evaluationKeys == \"macrof1\"? `${(this.predictions[this.hover.classifier].macro_f1 * 100).toFixed(1)}%`\n                :this.evaluationKeys == \"mcc\"? `${(this.predictions[this.hover.classifier].mcc * 100).toFixed(1)}%`\n                :`${(this.predictions[this.hover.classifier].accuracy * 100).toFixed(1)}%`);\n                // :`${(this.predictions[this.hover.classifier].right.size / this.instances.length * 100).toFixed(1)}%`);\n        if (this.evaluationKeys == \"accuracy\") {\n           yAxisMarkerTextWrong\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr('transform', this.evaluationKeys == \"f1\" ?\n            `translate(\n              ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n              ${ this.y (1/ (2 * this.predictions[this.hover.classifier].tp.size / (this.predictions[this.hover.classifier].tp.size + this.predictions[this.hover.classifier].fp.size)))- 10})`\n              :`translate(\n              ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n              ${this.y(this.predictions[this.hover.classifier].right.size / this.instances.length) - 10})`)\n            .text(this.evaluationKeys == \"f1\" ?\n                  `${(100-this.predictions[this.hover.classifier].f1 * 100).toFixed(1)}%`\n                  :this.evaluationKeys == \"precision\" ?\n                  `${(100-this.predictions[this.hover.classifier].precision * 100).toFixed(1)}%`\n                  :this.evaluationKeys == \"recall\" ?\n                  `${(100-this.predictions[this.hover.classifier].recall * 100).toFixed(1)}%`\n                  :this.evaluationKeys == \"microf1\" ?\n                  `${(100-this.predictions[this.hover.classifier].micro_f1 * 100).toFixed(1)}%`\n                  :this.evaluationKeys == \"macrof1\" ?\n                  `${(100-this.predictions[this.hover.classifier].macro_f1 * 100).toFixed(1)}%`\n                  :this.evaluationKeys == \"mcc\" ?\n                  `${(100-this.predictions[this.hover.classifier].mcc * 100).toFixed(1)}%`\n                  :`${(100-this.predictions[this.hover.classifier].accuracy * 100).toFixed(1)}%`)\n                  // :`${(this.predictions[this.hover.classifier].wrong.size / this.instances.length * 100).toFixed(1)}%`);\n        }\n      } else {\n        yAxisMarkerLine\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerTextRight\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextWrong\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        textSelection1.transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        textSelection2.transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0); \n        rectHover.transition()\n          .duration(disappearDuration)\n          .attr('opacity', 0); \n      }\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // MG - hack to tighten spacing\n      let mg_top = 160; // this.margin.top*2;\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + mg_top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${mg_top}, 160)`); //MG - 160 was ${this.margin.top*2}\n      \n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('width', this.width)\n          .attr('height', this.height)\n          .attr('fill', 'teal');\n      };\n\n      const x = this.x;\n      const y = this.y;\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 18)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Classifier');\n\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationKeys == \"accuracy\"? 'Fraction of instances'\n            :this.evaluationKeys == \"mcc\"? 'MCC value'\n            :this.evaluationKeys == \"precision\"? 'Fraction of instances'\n            :this.evaluationKeys == \"recall\"? 'Fraction of instances'\n            :this.evaluationKeys == \"microf1\"? \"Micro F1 value\"\n            :this.evaluationKeys == \"macrof1\"? \"Macro F1 value\":'F1 value');\n        svg.append('text')\n          //.attr('transform', 'rotate(-90)')\n          .attr('x', this.width / 2)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text((this.weightedPerformance == 'normal' ? '' : 'Weighted ') + (this.evaluationKeys == \"accuracy\"? 'Accuracy'\n            :this.evaluationKeys == \"mcc\"? 'MCC'\n            :this.evaluationKeys == \"precision\"? 'Precision'\n            :this.evaluationKeys == \"recall\"? 'Recall'\n            :this.evaluationKeys == \"microf1\"? \"Micro F1\"\n            :this.evaluationKeys == \"macrof1\"? \"Macro F1\":'F1'));\n      };\n      \n      drawTitles();\n      const drawLegend = () => {\n        const width = this.width / 4;\n        const height = this.margin.top / 2;\n\n        const legend = svg.append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.width * 3 / 4},\n              ${-height*2})`);;\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.wrongColor)\n          .style(\"visibility\", this.evaluationKeys == \"accuracy\" \n                          ||  this.evaluationKeys == \"precision\" \n                          ||  this.evaluationKeys == \"recall\"? \"visible\":\"hidden\");\n\n          \n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.rightColor)\n          .style(\"visibility\", this.evaluationKeys == \"accuracy\" \n                          ||  this.evaluationKeys == \"precision\" \n                          ||  this.evaluationKeys == \"recall\"? \"visible\":\"hidden\");\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(this.evaluationKeys == \"accuracy\" ? \"misclassified\"\n                          : this.evaluationKeys == \"precision\" ? \"fp\"\n                          : this.evaluationKeys == \"recall\"? \"fn\": '')\n          .style(\"visibility\", this.evaluationKeys == \"accuracy\" \n                          ||  this.evaluationKeys == \"precision\" \n                          ||  this.evaluationKeys == \"recall\"? \"visible\":\"hidden\");\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(this.evaluationKeys == \"accuracy\" ? \"correctly classified\"\n                          : this.evaluationKeys == \"precision\" ? \"tp\"\n                          : this.evaluationKeys == \"recall\"? \"tp\": '')\n          .style(\"visibility\", this.evaluationKeys == \"accuracy\" \n                          ||  this.evaluationKeys == \"precision\" \n                          ||  this.evaluationKeys == \"recall\"? \"visible\":\"hidden\");\n      };\n    \n      const drawBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', (d: string) => `translate(${x(d)}, ${0})`);\n        this.svg = svg;\n\n        const barWidth = x.bandwidth();\n        var bar1_circle = barCells.append(\"circle\")   \n          .attr('cx', barWidth / 2)\n          .attr('cy', (d: string) => this.height-15)\n          .attr('r','15px')\n          .attr('fill', this.rightColor)\n          .attr('stroke', 'grey')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'right', 'second'))\n          .style('visibility', (d: string) => {\n            var value =  this.evaluationKeys == \"f1\" ? (this.predictions[d].f1)\n            : this.evaluationKeys == \"mcc\" ? (this.predictions[d].mcc)\n            : this.evaluationKeys == \"precision\" ? (this.predictions[d].precision)\n            : this.evaluationKeys == \"recall\" ? (this.predictions[d].recall)\n            :this.evaluationKeys == \"microf1\" ? (this.predictions[d].micro_f1)\n            :this.evaluationKeys == \"macrof1\" ? (this.predictions[d].macro_f1)\n            :(this.predictions[d].accuracy)\n            if (value < 0.05 )  return \"visible\"\n            return \"hidden\"});\n\n        var bar1 = barCells.append('rect')\n          .attr('class', 'bar-right')\n          .attr('y', (d: string) => this.evaluationKeys == \"f1\" ? y(this.predictions[d].f1)\n              : this.evaluationKeys == \"mcc\" ? y(this.predictions[d].mcc)\n              : this.evaluationKeys == \"precision\" ? y(this.predictions[d].precision)\n              : this.evaluationKeys == \"recall\" ? y(this.predictions[d].recall)\n              : this.evaluationKeys == \"microf1\" ? y(this.predictions[d].micro_f1)\n              : this.evaluationKeys == \"macrof1\" ? y(this.predictions[d].macro_f1)\n              :y(this.predictions[d].accuracy))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.evaluationKeys == \"f1\" ? this.height - y(this.predictions[d].f1)\n            : this.evaluationKeys == \"mcc\" ? this.height - y(this.predictions[d].mcc)\n            : this.evaluationKeys == \"precision\" ? this.height - y(this.predictions[d].precision)\n            : this.evaluationKeys == \"recall\" ? this.height - y(this.predictions[d].recall)\n            :this.evaluationKeys == \"microf1\" ? this.height - y(this.predictions[d].micro_f1)\n            :this.evaluationKeys == \"macrof1\" ? this.height - y(this.predictions[d].macro_f1)\n            :this.height - y(this.predictions[d].accuracy))\n          .attr('fill', this.rightColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n        \n        if (this.evaluationKeys == \"accuracy\" ||  this.evaluationKeys == \"precision\" ||  this.evaluationKeys == \"recall\") {\n            bar1.on('click', (d: string) => this.select(d, 'right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right', 'second'));\n\n            barCells.append('rect')\n              .attr('class', 'bar-wrong')\n              .attr('y', (d: string) => y(1))\n              .attr('width', barWidth)\n              .attr('height', (d: string) => this.evaluationKeys == \"precision\" ? this.height - y(1-this.predictions[d].precision)\n                : this.evaluationKeys == \"recall\" ? this.height - y(1-this.predictions[d].recall)\n                :this.height - y(1-this.predictions[d].accuracy))\n              .attr('fill', this.wrongColor)\n              .attr('stroke', 'black')\n              .style('paint-order', 'stroke')\n              .on('mouseenter', (d: string) => this.hover = ({type: 'wrong', classifier: d}))\n              .on('mouseleave', this.clearHover)\n              .on('click', (d: string) => this.select(d, 'wrong', 'first'))\n              .on('contextmenu', (d: string) => this.select(d, 'wrong', 'second'));\n            var bar1_circle = barCells.append(\"circle\")   \n                    .attr('cx', barWidth / 2)\n                    .attr('cy', 15)\n                    .attr('r','15px')\n                    .attr('fill', this.wrongColor)\n                    .attr('stroke', 'grey')\n                    .on('mouseenter', (d: string) => this.hover = ({type: 'wrong', classifier: d}))\n                    .on('mouseleave', this.clearHover)\n                    .on('click', (d: string) => this.select(d, 'wrong', 'first'))\n                    .on('contextmenu', (d: string) => this.select(d, 'wrong', 'second'))\n                    .style('visibility', (d: string) => {\n                      var value =  this.evaluationKeys == \"precision\" ? (1-this.predictions[d].precision)\n                      : this.evaluationKeys == \"recall\" ?(1-this.predictions[d].recall)\n                      :(1-this.predictions[d].accuracy)\n                      if (value == 0) return \"hidden\"\n                      if (value < 0.05 )  return \"visible\"\n                      return \"hidden\"});\n                      \n        }\n      };\n\n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-wrong')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'none');\n        svg.append(\"rect\")\n          .attr('class', 'y-axis-marker-rect')\n          .attr('width', 120)\n          .attr('height',60)\n          .attr(\"stroke\",\"grey\")\n          .attr(\"fill\",'white')\n          .attr('opacity', 0)\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-selection1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-selection2')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');\n          \n      };\n      drawLegend();\n      drawBars();\n      yAxisMarkerLine();\n      yAxisMarkerText();      \n\n      this.drawHover();\n      this.drawSelections();\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n\n      const rectHover  = chart.select('.y-axis-marker-rect');\n      const { first, second } = this.selections;\n\n      const x = this.x;\n      const barWidth = x.bandwidth();\n      const selectionBarWidth = x.bandwidth() / 8;\n      const selectionType = ['Right', 'Wrong'];\n      const selections = [first, second];\n\n      let instanceWeights = {};\n      let allInstances = [...this.$store.getters.filteredInstances];\n      let selectionHistory = this.$store.state.selectionHistory\n      allInstances.forEach((c)=>{\n        instanceWeights[c] = 1\n      })\n      \n      if (this.weightedPerformance == 'weighted') {\n        selectionHistory.forEach((s)=>{\n          let tmp_instances = [...s.instances]\n\n          let weight = parseFloat((s.weight).toString())\n          tmp_instances.forEach((i)=>{\n            instanceWeights[i] += weight\n          })\n        })\n      }\n    \n      const weightedInstanceSize = (instances: any[]) => {\n        let size = 0\n        instances.forEach((i)=>{\n          size += instanceWeights[i]\n        })\n        return size\n      }\n\n      const setAdd = (set1: Set<string>, set2: Set<string>) => {\n        let list_1 = [...set1]\n        let list_2 = [...set2]\n        list_1.forEach((i)=>{\n          list_2.push(i)\n        })\n        return new Set(list_2)\n      }\n      \n      const rightYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = this.predictions[classifierName][typeString]\n        var totalInstances = new Set()\n        if (this.evaluationKeys==\"precision\"){           \n          totalInstances = setAdd(this.predictions[classifierName][\"fp\"], this.predictions[classifierName][\"tp\"])\n        }else if  ( this.evaluationKeys==\"recall\"){\n          totalInstances = setAdd(this.predictions[classifierName][\"fn\"], this.predictions[classifierName][\"tp\"])\n        }\n        else{    \n          totalInstances = new Set(this.instances)\n        }\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = weightedInstanceSize([...overlappingInstances]) / weightedInstanceSize([...totalInstances]);\n        return this.y(fractionOfTotalInstances);\n      };\n      const rightHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = this.predictions[classifierName][typeString]\n        return this.height - rightYOffset(classifierName, typeString,selection);\n      };\n      const wrongHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = this.predictions[classifierName][typeString]\n        var totalInstances = new Set()\n        if (this.evaluationKeys==\"precision\"){           \n          totalInstances = setAdd(this.predictions[classifierName][\"fp\"], this.predictions[classifierName][\"tp\"])\n        }else if  ( this.evaluationKeys==\"recall\"){\n          totalInstances = setAdd(this.predictions[classifierName][\"fn\"], this.predictions[classifierName][\"tp\"])\n        }\n        else{    \n          totalInstances = new Set(this.instances)\n        }\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = weightedInstanceSize([...overlappingInstances]) / weightedInstanceSize([...totalInstances]);\n        return this.height - this.y(fractionOfTotalInstances);\n      };\n      const hasFocusItem = (classifierName:string, typeString: string, selection: Set<string>) =>{\n        const instances = this.predictions[classifierName][typeString]\n        const overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n      const hoverText  = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = this.predictions[classifierName][typeString]\n        var totalInstances = 0\n        if (this.evaluationKeys==\"precision\"){           \n          totalInstances = this.predictions[classifierName][\"fp\"].size+this.predictions[classifierName][\"tp\"].size\n        }else if  ( this.evaluationKeys==\"recall\"){\n           totalInstances = this.predictions[classifierName][\"fn\"].size+this.predictions[classifierName][\"tp\"].size}\n        else{    \n           totalInstances = this.instances.length}\n        const overlappingInstances = intersection(instances, selection);\n        return overlappingInstances.size;\n      };\n\n      if (this.hover.type) {\n        if (!(this.evaluationKeys == \"mcc\" || this.evaluationKeys == \"microf1\" || this.evaluationKeys == \"macrof1\"|| this.evaluationKeys == \"f1\")){  \n          rectHover.attr(\"opacity\", 1)\n          .attr('transform',  `translate(\n              ${this.x(this.hover.classifier)},\n              ${this.y(1) - 70})`)\n          if (first || second) {\n            this.drawHover();\n          }\n        } else {\n            rectHover.attr(\"opacity\", 0)\n        }\n      }\n\n      \n      \n      if (!(this.evaluationKeys == \"microf1\" || this.evaluationKeys == \"macrof1\" || this.evaluationKeys == \"f1\" || this.evaluationKeys == \"mcc\")) {\n        selections.forEach((cur_selection, idx)=>{\n          if (!cur_selection) {\n            this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n            this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n            this.svg.selectAll('selection-focus-'+idx).attr(\"visibility\",\"hidden\");\n          } else {\n            this.continuousPredictionKeys.forEach((d)=>{\n              selectionType.forEach((type, i)=>{\n                let selection_attributes = {\n                  barCells : this.svg,\n                  x : x(d) + barWidth / 2 + (idx-1) * selectionBarWidth ,\n                  y : type == 'Wrong'? 0 : rightYOffset(d,this.evaluationKeys==\"precision\"? \"tp\" :\n                      this.evaluationKeys==\"recall\"?\"tp\" :\"right\", cur_selection.instances),\n                  width : selectionBarWidth,\n                  height : type == 'Wrong'? wrongHeight(d,this.evaluationKeys==\"precision\"? \"fp\" :\n                      this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", cur_selection.instances) \n                      :rightHeight(d,this.evaluationKeys==\"precision\"? \"tp\" :\n                      this.evaluationKeys==\"recall\"?\"tp\" :\"right\", cur_selection.instances),\n                  r  : selectionBarWidth / 2,\n                  color : idx == 0? this.selection1Color : this.selection2Color,\n                  circle_visibility : type == 'Wrong'? wrongHeight(d,this.evaluationKeys==\"precision\"? \"fp\" :\n                      this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", cur_selection.instances) == 0 ?\"hidden\": \n                              wrongHeight(d,this.evaluationKeys==\"precision\"? \"fp\" :\n                      this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", cur_selection.instances) / this.height>0.05? \"hidden\" \n                        :\"visible\": \n                        rightHeight(d,this.evaluationKeys==\"precision\"? \"tp\" :\n                      this.evaluationKeys==\"recall\"?\"tp\" :\"right\", cur_selection.instances) == 0 ?\"hidden\": \n                              rightHeight(d,this.evaluationKeys==\"precision\"? \"tp\" :\n                      this.evaluationKeys==\"recall\"?\"tp\" :\"right\", cur_selection.instances) / this.height>0.05? \"hidden\" \n                        :\"visible\",\n                  cx : x(d) + barWidth / 2  + (idx - 1/2) * selectionBarWidth,\n                  cy : type == 'Wrong'? 0 + selectionBarWidth / 2: this.height - selectionBarWidth / 2,\n                  selection_type: idx,\n                  focused: type == 'Wrong'? hasFocusItem(d,this.evaluationKeys==\"precision\"? \"fp\" :\n                      this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", cur_selection.instances) \n                      :hasFocusItem(d,this.evaluationKeys==\"precision\"? \"tp\" :\n                      this.evaluationKeys==\"recall\"?\"tp\" :\"right\", cur_selection.instances),\n                  view_name : this.name\n                }\n                this.$store.dispatch('drawSelections',selection_attributes)\n              })\n            })\n          }\n        })\n      }\n    },\n    select(\n      classifier: string,\n      type: 'right' | 'wrong',\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n      constraint.negation = (type === 'wrong');\n\n      const curType = ((this.evaluationKeys == \"precision\"||this.evaluationKeys == \"recall\") && type=='right')? \"tp\" \n      :(this.evaluationKeys==\"accuracy\" && type=='right')?\"right\"\n      :(this.evaluationKeys==\"precision\" && type=='wrong')?\"fp\"\n      :(this.evaluationKeys==\"recall\" && type=='wrong')?\"fn\":\"wrong\"\n      \n\n      const instances = this.predictions[classifier][curType];\n      const description = `Instances which ${classifier} got ${type}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerformance.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerformance.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OverallClassifierPerformance.vue?vue&type=template&id=92fb7b2e&scoped=true&\"\nimport script from \"./OverallClassifierPerformance.vue?vue&type=script&lang=ts&\"\nexport * from \"./OverallClassifierPerformance.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OverallClassifierPerformance.vue?vue&type=style&index=0&id=92fb7b2e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92fb7b2e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Performance Curves\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationKeys),callback:function ($$v) {_vm.evaluationKeys=$$v},expression:\"evaluationKeys\"}},[_c('v-radio',{attrs:{\"label\":\"ROC\",\"value\":\"roc\"}}),_c('v-radio',{attrs:{\"label\":\"PR\",\"value\":\"pr\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Selection Mode\"},model:{value:(_vm.selection_mode),callback:function ($$v) {_vm.selection_mode=$$v},expression:\"selection_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall curve \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"selection curve\",\"value\":\"selected\"}})],1)],1)])],1)],1),_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar values = ref.values;\nvar search = ref.search;\nvar isOpen = ref.isOpen;\nreturn [(values.length && !isOpen)?_c('span',{staticClass:\"multiselect__single\"},[_vm._v(\" \"+_vm._s(values.length)+\" options selected \")]):_vm._e()]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{attrs:{\"id\":\"legend1\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\n\nexport default Vue.extend({\n  name: 'Performance_Curves',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const evaluationKeys = 'roc' as 'roc'| 'pr';\n    const hover = {\n      classifier: '',\n      threshold: '',\n    };\n    const pointSelection = {\n      classifier:'',\n      threshold:''\n    }\n    const pointRemove = {\n      classifier:'',\n      threshold:''\n    };\n    const selection_mode = 'overall' as 'overall' | 'selected'\n\n    return {\n      value: [],\n      thresholdToidx: {},\n      selectedCurves:[],\n      selection_mode,\n      pointRemove,\n      pointSelection,\n      hover,\n      evaluationKeys,\n      height,\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      width,\n      selectedEval:'',\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n    };\n  },\n  computed: {\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      return this.$store.state.addedThresholdClassifiers;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    thresholdClassifierNameList():string[] {\n      return this.$store.state.thresholdClassifierNameList\n    },\n    classifierThresholds():{} {\n      let classifierThresholds = {}\n      this.thresholdClassifierNameList.forEach((c)=>{\n        let classifier = c.split(\"_\")[0]\n        let threshold = (parseInt(c.split(\"_\")[1]) / 100).toFixed(2)\n        classifierThresholds[classifier] = threshold\n      })\n      return classifierThresholds;\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    options(): any[] {\n      let options = []\n      const classifiers = this.classifiers\n      classifiers.forEach((c)=>{\n        options.push({name: c});\n      })\n      return options\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    metrics(): MetricsWithClassifier[] {\n      const storeMetrics: {\n        [classifier: string]: Metrics,\n      } = this.$store.getters.metrics;\n\n      const metrics: MetricsWithClassifier[] = Object.entries(storeMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          metrics: m,\n        };\n      });\n      return metrics;\n    },\n    min_y():{} {\n      return {\"roc\":1, \"pr\":1};\n    },\n    predictions(): {\n      [classifier: string]: {\n        x_roc: Number[],\n        y_roc: Number[],\n        value_roc: Number[],\n        x_pr: Number[],\n        y_pr: Number[],\n        line_roc: string,\n        line_pr: string\n      },\n    }{\n      const predictions: {\n        [classifier: string]: {\n          x_roc: Number[],\n          y_roc: Number[],\n          value_roc: Number[],\n          x_pr: Number[],\n          y_pr: Number[],\n          line_roc: string,\n          line_pr: string\n        },\n      } = this.$store.getters.continuous_metrics;\n      return predictions;\n    },\n    x(): d3.ScaleLinear<number, number> {\n      const x = d3.scaleLinear()\n        .domain([0, 1])\n        .range([0, this.width])\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n    outSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Performance_Curves') {\n          if (view.config) {\n            let value  = view.config;\n            this.value = []\n            value.classifiers.forEach((c)=>{\n              if (this.classifiers.includes(c)) {\n                this.value.push({'name':c})\n              }\n            })\n            this.evaluationKeys = value.evaluation;\n            this.selection_mode = value.selection\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Performance_Curves\", \n                    \"config\": {\n                      \"classifiers\":  this.value.map((c)=>c.name),\n                      \"evaluation\": this.evaluationKeys,\n                      \"selection\": this.selection_mode}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    value() {\n      this.drawInitial();\n    },\n    addedThresholdClassifiers() {\n      this.drawAddedPoint();\n      this.drawCurrentThreshold();\n    },\n    thresholdClassifierNameList() {\n      this.drawAddedPoint();\n      this.drawCurrentThreshold();\n    },\n    classifiers() {\n      this.drawInitial();\n    },\n    outSelections() {\n      this.drawInitial();\n    },\n    selection_mode() {\n      this.drawInitial();\n    },\n    pointRemove() {\n      this.clearPointSelection();\n    },\n    pointSelection() {\n      this.drawAddedPoint();\n      this.drawPointSelection();\n    },\n    hover() {\n      this.drawHover();\n    },\n    evaluationKeys() {\n      this.clearHover();\n      this.drawInitial();\n    }, \n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Performance_Curves') {\n        if (view.config) {\n          let value  = view.config;\n          this.value = []\n          value.classifiers.forEach((c)=>{\n            if (this.classifiers.includes(c)) {\n              this.value.push({'name':c})\n            }\n          })\n          this.evaluationKeys = value.evaluation;\n          this.selection_mode = value.selection\n        }\n      }\n    })\n    this.drawInitial();\n  },\n  methods: { \n    clearHover() {\n      this.hover = ({ classifier: '', threshold: ''});\n    },\n    clearPointSelection() {\n      const chart = d3.select(this.$refs.svg);\n      const classifier = this.pointSelection.classifier;\n      const threshold = this.pointSelection.threshold;\n\n      chart.select(\".dot_\"+classifier).attr(\"r\",5).attr(\"opacity\",0)\n      chart.select(\".pointText_\"+classifier).attr(\"visibility\",\"hidden\")\n    },\n    drawAddedPoint() {\n      const chart = d3.select(this.$refs.svg);\n      for (let classifier in this.classifierThresholds) {\n        for (let threshold in this.thresholdToidx[classifier]) {\n          let idx = this.thresholdToidx[classifier][threshold]\n          chart.select(\".dot_\"+classifier + \"_\" + idx).attr(\"r\",5).attr(\"opacity\",0)\n          chart.select(\".pointText_\"+classifier + \"_\" + idx).attr(\"visibility\",\"hidden\")\n        }\n      }\n      this.addedThresholdClassifiers.forEach((classifier) =>{\n        let c = classifier.substring(4,classifier.length-5)\n        let threshold = parseFloat(classifier.substring(classifier.length-4,classifier.legend))\n        let selectedDot = c + \"_\" + this.thresholdToidx[c][threshold]\n        chart.select(\".dot_\"+selectedDot).attr(\"r\",8).attr(\"opacity\",1)\n        chart.select(\".pointText_\"+selectedDot).attr(\"visibility\",\"visible\")\n      })\n    },\n    drawPointSelection() {\n      const chart = d3.select(this.$refs.svg);\n      const classifier = this.pointSelection.classifier;\n      const threshold = this.pointSelection.threshold;\n\n      chart.select(\".dot_\"+classifier).attr(\"r\",8).attr(\"opacity\",1)\n      chart.select(\".pointText_\"+classifier).attr(\"visibility\",\"visible\")\n      this.updateThreshold();\n    },\n    drawCurrentThreshold() {\n      const chart = d3.select(this.$refs.svg);\n      const chosenClassifiers = this.value.map((c)=>c.name)\n      \n      for (let classifier in this.classifierThresholds) {\n        if (chosenClassifiers.includes(classifier)) {\n          let threshold = this.classifierThresholds[classifier]\n          let idx = this.thresholdToidx[classifier][threshold]\n          chart.select(\".dot_\"+classifier + \"_\" + idx).attr(\"r\",8).attr(\"opacity\",1)\n          chart.select(\".pointText_\"+classifier + \"_\" + idx).attr(\"visibility\",\"visible\")\n        }\n      }\n    },\n    updateThreshold() {\n      const classifier = this.pointSelection.classifier.split(\"_\")[0];\n      const value = parseFloat(this.pointSelection.threshold).toFixed(2);\n      let changedClassifier = {\"classifier\":classifier, \"single_threshold\": parseFloat(value) * 100};\n      this.$store.dispatch(\"changedCurveChosenClassifierThresholdTuple\",changedClassifier)\n     },\n    drawHover() {\n      const chart = d3.select(this.$refs.svg);\n      const evaluationKeys = this.evaluationKeys;\n      const name = this.hover.classifier;\n      const i = this.hover.threshold;\n      const classifiers = this.value.map((c)=>c.name)\n\n      if (this.selection_mode == 'overall') {\n        if (name != ''){  \n          chart.select(\".hoverBox\").attr(\"hidden\")\n          if (evaluationKeys == \"roc\"){\n            chart.select(\".auc_value_\"+name).attr(\"visibility\",\"visible\")\n\n          }\n          chart.select(\".legend_circle_\"+name).attr(\"r\",8)\n          chart.select(\".legend_text_\"+name).style(\"font-size\", \"20px\")\n          classifiers.forEach((c)=>{\n            if (c!= name) {\n              chart.select(\".line_\"+c).style(\"opacity\",0.3)\n            }\n          })\n          if (i != '') {\n            chart.select(\".text_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n            chart.select(\".tpr_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n            chart.select(\".fpr_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n            chart.select(\".acc_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n            chart.select(\".hoverBox\").attr(\"visibility\",\"visible\")\n          } \n        } else {\n          classifiers.forEach((c)=>{\n            chart.select(\".text_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n            chart.select(\".fpr_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n            chart.select(\".tpr_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n            chart.select(\".acc_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n            chart.select(\".hoverBox\").attr(\"visibility\",\"hidden\")\n            chart.select(\".legend_circle_\"+c).attr(\"r\",6)\n            chart.select(\".legend_text_\"+c).style(\"font-size\", \"15px\")\n            chart.select(\".line_\"+c).style(\"opacity\",1)\n            chart.select(\".auc_value_\"+c).attr(\"visibility\",\"hidden\")\n          })\n        }\n      } else {\n        let count = 0\n        this.selectedCurves.forEach((predictions)=>{\n          count += 1\n          let selected_type = predictions.name\n          if (name != ''){  \n            chart.select(\".hoverBox\").attr(\"hidden\")\n            if (evaluationKeys == \"roc\"){\n              chart.select(\".auc_value_\"+name + \"_\" + selected_type).attr(\"visibility\",\"visible\").attr(\"y\",100 + 40 * count)\n            }\n            chart.select(\".legend_circle_\"+name).attr(\"r\",8)\n            chart.select(\".legend_text_\"+name).style(\"font-size\", \"20px\")\n            classifiers.forEach((c)=>{\n              if (c!= name) {\n                chart.select(\".line_\"+c + \"_\" + selected_type).style(\"opacity\",0.3)\n              }\n            })\n            if (i != '') {\n              chart.select(\".text_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n              chart.select(\".tpr_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n              chart.select(\".fpr_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n              chart.select(\".acc_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n              chart.select(\".hoverBox\").attr(\"visibility\",\"visible\")\n            } \n          } else {\n            classifiers.forEach((c)=>{\n              chart.select(\".text_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n              chart.select(\".fpr_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n              chart.select(\".tpr_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n              chart.select(\".acc_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n              chart.select(\".hoverBox\").attr(\"visibility\",\"hidden\")\n              chart.select(\".legend_circle_\"+c).attr(\"r\",6)\n              chart.select(\".legend_text_\"+c).style(\"font-size\", \"15px\")\n              chart.select(\".line_\"+c + \"_\" + selected_type).style(\"opacity\",1)\n              chart.select(\".auc_value_\"+c+ \"_\" + selected_type).attr(\"visibility\",\"hidden\")\n            })\n          }\n        })\n      }\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const sequentialScale = d3.scaleSequential<string>( d3.interpolatePlasma)\n            .domain([0, this.classifiers.length])\n            .interpolator(function (x) { return d3.interpolatePlasma(.8*x);} );\n      const formatDecimal = d3.format(\".4f\")\n      const duration = 250;\n      const width = this.width;\n      const height = this.height;\n      const margin = this.margin;\n      const evaluationKeys = this.evaluationKeys;\n      const classifiers = this.value.map((c)=>c.name);\n      const xValue = d3.scaleLinear()\n        .domain([0, 1])\n        .range([0, this.width]);\n      const yValue = d3.scaleLinear()\n        .domain([this.evaluationKeys==\"pr\" ? 0:0,1])\n        .range([this.height, 0]);\n      \n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      let classifierDict = {}\n      let idx = 0;\n      classifiers.forEach((c)=>{\n        idx += 1\n        classifierDict[c] = []\n        let count = this.predictions[c].x_roc.length;\n        let i = 0;\n        this.thresholdToidx[c] = {}\n        while (i < count) {\n          if (this.evaluationKeys == \"roc\") {\n            let cur_cordinate = {\"x\": this.predictions[c].x_roc[i], \"y\":this.predictions[c].y_roc[i], 'acc':this.predictions[c].acc[i], \"name\":c,\"threshold\":this.predictions[c].value_roc[i], \"color\":sequentialScale(idx)}\n            classifierDict[c].push(cur_cordinate)\n          } else {\n            let cur_cordinate = {\"x\": this.predictions[c].x_pr[i], \"y\":this.predictions[c].y_pr[i], 'acc':this.predictions[c].acc[i], \"name\":c,\"threshold\":this.predictions[c].value_roc[i], \"color\":sequentialScale(idx)}\n            classifierDict[c].push(cur_cordinate)\n          }\n          this.thresholdToidx[c][parseFloat(this.predictions[c].value_roc[i]).toFixed(2)] =  i \n          i+=1;\n        }\n      })\n      let curveData = []\n      let count = 0\n      classifiers.forEach((c)=>{\n        count += 1;\n        let curCurve = {\"name\":c,\"data\":classifierDict[c], \"color\":sequentialScale(count)}\n        curveData.push(curCurve)\n      })\n\n      const drawInitalCurves = () => {\n        var data = classifierDict[classifiers[0]]\n        var area_dict = {}\n\n        function path(d) {\n          var name = d.name\n          area_dict[name] = 0;\n          d = d.data\n          var path = \"M\" + \" \" + xValue(1) + \" \" + yValue(0)\n          var lastx = 1;\n          var lasty = 0;\n          d.forEach((cordinate)=>{\n            path = path + \" \" + xValue(cordinate.x)\n            path = path + \" \" + yValue(cordinate.y)\n            path = path + \" \" + \"L\"\n            area_dict[name] += ((cordinate.y + lasty) * (lastx- cordinate.x ) / 2)\n            lastx = cordinate.x;\n            lasty = cordinate.y;\n          })\n          path += xValue(0) + \" \" + yValue(0)\n          return path\n        }\n\n\n        function line(d) {\n          var name = d.name\n          area_dict[name] = 0;\n          d = d.data\n          var path = \"M\" //+ \" \" + xValue(1) + \" \" + yValue(0)\n          var lastx = 1;\n          var lasty = 0;\n          d.forEach((cordinate)=>{\n            path = path + \" \" + xValue(cordinate.x)\n            path = path + \" \" + yValue(cordinate.y)\n            path = path + \" \" + \"L\"\n            area_dict[name] += ((cordinate.y + lasty) * (lastx- cordinate.x ) / 2)\n            lastx = cordinate.x;\n            lasty = cordinate.y;\n          })\n          if (evaluationKeys == 'roc')\n            path += xValue(0) + \" \" + yValue(0)\n          return path\n        }\n\n        // Add the X Axis\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(xValue));\n\n        // Add the Y Axis\n        svg.append(\"g\")\n            .call(d3.axisLeft(yValue)); \n\n        var lines = svg \n          .selectAll(\"myPath\")\n          .data(curveData)\n          .enter().append(\"path\")\n          .attr(\"d\",  line)\n          .attr(\"class\",(d,i)=>\"line_\"+d.name)\n          .style(\"fill\", \"none\")\n          .attr(\"stroke\",(d)=>{\n            return d.color})\n          .style(\"stroke-width\", 3)\n          .style(\"opacity\", 1)\n\n        var points = svg.selectAll(\".dot\")\n          .data(curveData)\n          .enter()\n          .selectAll(\".circle\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"circle\")\n          .attr(\"class\",(d,i)=>{\n            return \"dot_\"+d[\"name\"]+\"_\"+i})  \n          .attr(\"cx\", function(d, i) {  \n            return xValue(d[\"x\"]) })\n          .attr(\"cy\", function(d) { return yValue(d[\"y\"]) })\n          .attr(\"r\", (d)=>{\n            return 5\n          })\n          .attr(\"fill\",(d)=>{\n            return d['color']})\n          .on('mouseenter', (d,i)=>this.hover = ({classifier: d[\"name\"], threshold:i}))\n          .on('mouseleave', (d,i)=>this.hover = ({classifier: '', threshold:i}))  \n          .on('click', (d,i) => this.pointSelection = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']}))\n          .on('contextmenu', (d,i) => {\n            d3.event.preventDefault();\n            this.pointRemove = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']})\n          })\n          .attr(\"opacity\",0);\n\n        var point_texts = svg.selectAll(\".pointText\")\n          .data(curveData)\n          .enter()\n          // .append(\"circle\")\n          .selectAll(\".text\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"text\")\n          .attr(\"class\",(d,i)=>{\n            return \"pointText_\"+d[\"name\"]+\"_\"+i})  \n          .attr(\"x\", function(d, i) {  \n            return xValue(d[\"x\"]) })\n          .attr(\"y\", function(d) { return yValue(d[\"y\"]) })\n          .text((d)=>d[\"threshold\"])\n          .attr(\"font-size\",16)\n          .attr(\"visibility\",\"hidden\")\n          .on('contextmenu', (d,i) => {\n            d3.event.preventDefault();\n            this.pointRemove = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']})\n          })\n\n\n          // add hover box\n        var hover_box = svg \n          .append(\"rect\")\n          .attr(\"class\",\"hoverBox\")\n          .attr(\"width\",200)\n          .attr(\"height\",200)\n          .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-400: 115)\n          .attr(\"y\", this.evaluationKeys==\"roc\"? 105:205)\n          .attr(\"fill\",\"white\")\n          .attr(\"stroke\",\"black\")\n          .attr(\"visibility\",\"hidden\")\n          \n        // add threshold value\n        var threshold_text = svg.selectAll(\".text\")\n          .data(curveData)\n          .enter()\n          .selectAll(\".text\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"text\")\n          .attr(\"class\",(d,i)=>\"text_\"+d[\"name\"]+\"_\"+i)  \n          .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-395:120)\n          .attr(\"y\", this.evaluationKeys==\"roc\"? 160: 245)\n          .text(d=>\"Threshold: \"+formatDecimal(d['threshold']))\n          .style(\"font-size\", \"25px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .attr(\"visibility\",\"hidden\")\n\n        var threshold_text_fpr = svg.selectAll(\".text\")\n          .data(curveData)\n          .enter()\n          .selectAll(\".text\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"text\")\n          .attr(\"class\",(d,i)=>\"fpr_\"+d[\"name\"]+\"_\"+i)  \n          .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-395:120)\n          .attr(\"y\", this.evaluationKeys==\"roc\"? 200: 285)\n          .text(d=>this.evaluationKeys==\"roc\"? \"FPR: \"+formatDecimal(d['x']) : \"Recall: \"+formatDecimal(d['x']))\n          .style(\"font-size\", \"25px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .attr(\"visibility\",\"hidden\")\n        \n        var threshold_text_tpr = svg.selectAll(\".text\")\n          .data(curveData)\n          .enter()\n          .selectAll(\".text\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"text\")\n          .attr(\"class\",(d,i)=>\"tpr_\"+d[\"name\"]+\"_\"+i)  \n          .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-395:120)\n          .attr(\"y\", this.evaluationKeys==\"roc\"? 240: 325)\n          .text(d=>this.evaluationKeys==\"roc\"? \"TPR: \"+formatDecimal(d['y']) : \"Precision: \"+formatDecimal(d['y']))\n          .style(\"font-size\", \"25px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .attr(\"visibility\",\"hidden\")\n\n        var threshold_text_acc = svg.selectAll(\".text\")\n          .data(curveData)\n          .enter()\n          .selectAll(\".text\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"text\")\n          .attr(\"class\",(d,i)=>\"acc_\"+d[\"name\"]+\"_\"+i)  \n          .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-395:120)\n          .attr(\"y\", this.evaluationKeys==\"roc\"? 280: 365)\n          .text(d=> \"Accuracy: \"+formatDecimal(d['acc']))\n          .style(\"font-size\", \"25px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .attr(\"visibility\",\"hidden\")\n\n      \n          // add AUC values\n        var AUC_text = svg \n          .selectAll(\"myText\")\n          .data(curveData)\n          .enter().append(\"text\")\n          .attr(\"class\",(d)=>\"auc_value_\"+d.name)\n          .attr(\"x\", this.width-395)\n          .attr(\"y\", 130)\n          .text(d=>\"AUC: \"+formatDecimal(area_dict[d.name]))\n          .style(\"font-size\", \"25px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .attr(\"visibility\",\"hidden\")\n      } ;\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom * 0.8;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationKeys == \"roc\"? \"FPR\" : \"Recall\");\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationKeys == \"roc\"? \"TPR\" : \"Precision\");  \n      };\n\n      const drawLegend = () => {\n        var evaluationKeys = this.evaluationKeys\n        var legend_circle = svg \n          .selectAll(\"myCicle\")\n          .data(curveData)\n          .enter().append(\"circle\")\n          .attr(\"class\",(d,i)=>\"legend_circle_\"+d.name)\n          .attr(\"cx\",this.evaluationKeys == \"roc\"? 10 : this.width-100)\n          .attr(\"cy\",(d,i)=>10+i*25)\n          .attr(\"r\", 6)\n          .style(\"fill\", d=>d.color)\n          .on('mouseenter',d=>this.hover = ({classifier:d.name, threshold:''}))\n          .on('mouseleave', this.clearHover)  \n\n\n        var legend_text = svg \n          .selectAll(\"myText\")\n          .data(curveData)\n          .enter().append(\"text\")\n          .attr(\"class\",(d,i)=>\"legend_text_\"+d.name)\n          .attr(\"x\", this.evaluationKeys == \"roc\"? 30 : this.width-80)\n          .attr(\"y\", (d,i)=>10+i*25)\n          .text(d=>d.name)\n          .style(\"font-size\", \"15px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .on('mouseenter', d=>this.hover = ({classifier:d.name, threshold:''}))\n          .on('mouseleave', this.clearHover)  \n        \n        if (this.selection_mode != 'overall') {\n           svg \n            .append(\"line\")\n            .attr('y1',  10)\n            .attr('x1', 100)\n            .attr('x2', 140)\n            .attr('y2',  10)\n            .attr('stroke', 'blue')\n            .attr('stroke-width', '2px')\n            .attr('stroke-opacity', 0.5)\n            .style(\"stroke-dasharray\",(\"3, 3\"))\n          svg \n            .append(\"text\")\n            .attr('y',  10)\n            .attr('x', 142)\n            .style(\"font-size\", \"15px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .text(\"selection 1\")\n\n          svg \n            .append(\"line\")\n            .attr('y1', 25 + 10)\n            .attr('x1', 100)\n            .attr('x2', 140)\n            .attr('y2', 25 + 10)\n            .attr('stroke', 'blue')\n            .attr('stroke-width', '2px')\n            .attr('stroke-opacity', 0.5)\n          svg \n            .append(\"text\")\n            .attr('y', 25 + 10)\n            .attr('x', 142)\n            .style(\"font-size\", \"15px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .text(\"selection 2\")\n        }\n      };\n\n      const drawSelectedCurves = () => {\n        this.calculatedSelectedCurves();\n        // Add the X Axis\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(xValue));\n\n        // Add the Y Axis\n        svg.append(\"g\")\n            .call(d3.axisLeft(yValue)); \n\n        let count = 1;\n        this.selectedCurves.forEach((predictions)=>{\n          let classifierDict = {}\n          let idx = 0;\n          let selected_type = predictions.name\n          classifiers.forEach((c)=>{\n            idx += 1\n            classifierDict[c] = []\n            let count = predictions[c].x_roc.length;\n            let i = 0;\n            while (i < count) {\n              if (this.evaluationKeys == \"roc\") {\n                let cur_cordinate = {\"x\": predictions[c].x_roc[i], \"y\":predictions[c].y_roc[i], \"name\":c,\"threshold\":predictions[c].value_roc[i], \"color\":sequentialScale(idx)}\n                classifierDict[c].push(cur_cordinate)\n              } else {\n                let cur_cordinate = {\"x\": predictions[c].x_pr[i], \"y\":predictions[c].y_pr[i],\"name\":c,\"threshold\":predictions[c].value_roc[i], \"color\":sequentialScale(idx)}\n                classifierDict[c].push(cur_cordinate)\n              }\n              i+=1;\n            }\n          })\n          let curveData = []\n          let count = 0\n          classifiers.forEach((c)=>{\n            count += 1;\n            let curCurve = {\"name\":c,\"data\":classifierDict[c], \"color\":sequentialScale(count)}\n            curveData.push(curCurve)\n          })\n          \n          var data = classifierDict[classifiers[0]]\n          var area_dict = {}\n          // define the line\n          function path(d) {\n            var name = d.name\n            area_dict[name] = 0;\n            d = d.data\n            var path = \"M\" + \" \" + xValue(1) + \" \" + yValue(0)\n            var lastx = 1;\n            var lasty = 0;\n            d.forEach((cordinate)=>{\n              path = path + \" \" + xValue(cordinate.x)\n              path = path + \" \" + yValue(cordinate.y)\n              path = path + \" \" + \"L\"\n              area_dict[name] += ((cordinate.y + lasty) * (lastx- cordinate.x ) / 2)\n              lastx = cordinate.x;\n              lasty = cordinate.y;\n            })\n            path += xValue(0) + \" \" + yValue(0)\n            return path\n          }\n\n\n          function line(d) {\n            var name = d.name\n            area_dict[name] = 0;\n            d = d.data\n            var path = \"M\" //+ \" \" + xValue(1) + \" \" + yValue(0)\n            var lastx = 1;\n            var lasty = 0;\n            d.forEach((cordinate)=>{\n              path = path + \" \" + xValue(cordinate.x)\n              path = path + \" \" + yValue(cordinate.y)\n              path = path + \" \" + \"L\"\n              area_dict[name] += ((cordinate.y + lasty) * (lastx- cordinate.x ) / 2)\n              lastx = cordinate.x;\n              lasty = cordinate.y;\n            })\n            if (evaluationKeys == 'roc')\n              path += xValue(0) + \" \" + yValue(0)\n            return path\n          }\n\n          var lines = svg \n            .selectAll(\"myPath\")\n            .data(curveData)\n            .enter().append(\"path\")\n            .attr(\"d\",  line)\n            .attr(\"class\",(d,i)=>\"line_\"+d.name + \"_\" + selected_type)\n            .style(\"fill\", \"none\")\n            .attr(\"stroke\",(d)=>{\n              return d.color})\n            .style(\"stroke-width\", 3)\n            .style(\"stroke-dasharray\", selected_type == '1'? (\"3, 3\") : (\"0, 0\"))\n            .style(\"opacity\", 1)\n\n          var points = svg.selectAll(\".dot\")\n            .data(curveData)\n            .enter()\n            // .append(\"circle\")\n            .selectAll(\".circle\")\n            .data(function(d: string) { \n              return d[\"data\"]; })\n              .enter()\n              .append(\"circle\")\n            .attr(\"class\",(d,i)=>{\n              return \"dot_\"+d[\"name\"]+\"_\"+i })  \n            .attr(\"cx\", function(d, i) {  \n              return xValue(d[\"x\"]) })\n            .attr(\"cy\", function(d) { return yValue(d[\"y\"]) })\n            .attr(\"r\", 5)\n            .attr(\"fill\",(d)=>{\n              return d['color']})\n            .on('mouseenter', (d,i)=>this.hover = ({classifier: d[\"name\"], threshold:i}))\n            .on('mouseleave', (d,i)=>this.hover = ({classifier: '', threshold:i}))  \n            .on('click', (d,i) => this.pointSelection = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']}))\n            .on('contextmenu', (d,i) => {\n              d3.event.preventDefault();\n              this.pointRemove = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']})\n            })\n            .attr(\"opacity\",0);\n\n          var point_texts = svg.selectAll(\".pointText\")\n            .data(curveData)\n            .enter()\n            .selectAll(\".text\")\n            .data(function(d: string) { \n              return d[\"data\"]; })\n              .enter()\n              .append(\"text\")\n            .attr(\"class\",(d,i)=>{\n              return \"pointText_\"+d[\"name\"]+\"_\"+i})  \n            .attr(\"x\", function(d, i) {  \n              return xValue(d[\"x\"]) })\n            .attr(\"y\", function(d) { return yValue(d[\"y\"]) })\n            .text((d)=>d[\"threshold\"])\n            .attr(\"font-size\",16)\n            .attr(\"visibility\",\"hidden\")\n            .on('contextmenu', (d,i) => {\n              d3.event.preventDefault();\n              this.pointRemove = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']})\n            })\n\n\n            // add hover box\n          var hover_box = svg \n            .append(\"rect\")\n            .attr(\"class\",\"hoverBox\")\n            .attr(\"width\",200)\n            .attr(\"height\",80)\n            .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-400: 115)\n            .attr(\"y\", this.evaluationKeys==\"roc\"? 105:205)\n            .attr(\"fill\",\"white\")\n            .attr(\"stroke\",\"black\")\n            .attr(\"visibility\",\"hidden\")\n            \n\n          // add threshold value\n          var threshold_text = svg.selectAll(\".text\")\n            .data(curveData)\n            .enter()\n            .selectAll(\".text\")\n            .data(function(d: string) { \n              return d[\"data\"]; })\n              .enter()\n              .append(\"text\")\n            .attr(\"class\",(d,i)=>\"text_\"+d[\"name\"]+\"_\"+i)  \n            .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-395:120)\n            .attr(\"y\", this.evaluationKeys==\"roc\"? 160: 245)\n            .text(d=>\"Threshold: \"+formatDecimal(d['threshold']))\n            .style(\"font-size\", \"25px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .attr(\"visibility\",\"hidden\")\n\n            // add AUC values\n          var AUC_text = svg \n            .selectAll(\"myText\")\n            .data(curveData)\n            .enter().append(\"text\")\n            .attr(\"class\",(d)=>\"auc_value_\"+d.name + \"_\" + selected_type)\n            .attr(\"x\", this.width-395)\n            .attr(\"y\", 130)\n            .text(d=>\"selected \" + selected_type+  \" AUC: \"+formatDecimal(area_dict[d.name]))\n            .style(\"font-size\", \"25px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .attr(\"visibility\",\"hidden\")\n          count += 1\n        })\n          \n      };\n\n      drawTitles();\n      drawLegend();\n      if (this.selection_mode =='overall') {\n        drawInitalCurves();\n      } else {\n        drawSelectedCurves();\n      }\n      this.drawAddedPoint();\n      this.drawCurrentThreshold();\n    },\n\n    calculatedSelectedCurves() {\n      const classifiers = this.value.map((c)=>c.name);\n      const {first, second} = this.outSelections;\n      this.selectedCurves = []\n\n      const calculate_value = (classifier:string, selection: Set<string>) => {\n        let predictions = {};\n        let coordinates = [];\n        let classifierValues = {}\n        let auc = 0;\n        let last_acc = 0;\n        let last_change_index = 0;\n        let update_flag = 1;\n        let tmp_max_acc = 0;\n        const c = classifier\n        const formatDecimal = d3.format(\".2f\")\n        predictions[c] = { \n          x_roc: [],\n          y_roc: [],\n          value_roc:[],\n          x_pr: [],\n          y_pr: [],\n          auc_area: 0,\n        }; \n        classifierValues[c] = []\n        selection.forEach((id)=>{\n          const i = instanceById(id);\n          if (!classifierValues[c].includes(i.continuous_predictions[c]))\n            classifierValues[c].push(i.continuous_predictions[c])\n        })\n        classifierValues[c].sort();\n        classifierValues[c].forEach((value)=>{\n          value = formatDecimal(value)\n          let tp = 0;\n          let fp = 0;\n          let fn = 0;\n          let tn = 0;\n          selection.forEach((id)=>{\n            const i = instanceById(id);\n            const predict = i.continuous_predictions[c] < parseFloat(value) ? this.classes[0] : this.classes[1];\n            if (i.actual == this.classes[1]) {\n              if (predict == i.actual) {\n                tp+=1;\n              } else {\n                fn+=1;\n              }\n            } else {\n              if (predict == i.actual) {\n                tn+=1;\n              } else {\n                fp+=1;\n              }\n            }\n          })\n          if (tp < last_acc) {\n            update_flag = 0;\n          }\n          if (update_flag == 1 && tp >= last_acc) {\n            last_change_index += 1;\n            last_acc = tp;\n          }\n          if (tp+tn > tmp_max_acc) {\n            tmp_max_acc = tp+tn;\n          }\n\n          coordinates.push({\"x\":fp/(fp+tn), \"y\":tp/(tp+fn)});\n          predictions[c].x_roc.push((fp/(fp+tn)))\n          predictions[c].y_roc.push((tp/(tp+fn)))\n          predictions[c].value_roc.push(value)\n          predictions[c].x_pr.push((tp/(tp+fn)))\n          predictions[c].y_pr.push((tp/(tp+fp)))\n        }) \n          \n\n        let lastx = 0;\n        let lasty = 0;\n        coordinates.sort(function(x, y){\n          return d3.ascending(x.x, y.x);\n        })\n        coordinates.forEach((cor)=>{\n          auc += (((cor.y + lasty) * (cor.x - lastx) / 2))\n          lastx = cor.x;\n          lasty = cor.y;\n        })\n        return predictions[c]\n      }\n\n      if (first) {\n        let predictions = {'name': '1'}\n        classifiers.forEach((c)=>{\n          predictions[c] = calculate_value(c, first.instances)\n        })\n        this.selectedCurves.push(predictions)\n      } \n      if (second) {\n        let predictions = {'name': '2'}\n        classifiers.forEach((c)=>{\n          predictions[c] = calculate_value(c, second.instances)\n        })\n        this.selectedCurves.push(predictions)\n      }\n      \n    },\n    \n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerfCurves.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerfCurves.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OverallClassifierPerfCurves.vue?vue&type=template&id=603a45b7&scoped=true&\"\nimport script from \"./OverallClassifierPerfCurves.vue?vue&type=script&lang=ts&\"\nexport * from \"./OverallClassifierPerfCurves.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OverallClassifierPerfCurves.vue?vue&type=style&index=0&id=603a45b7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"603a45b7\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"(Trinary) Performance Confidence\")])],1)]),_c('v-expansion-panel-content'),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Distribution Mode\"},model:{value:(_vm.distribution),callback:function ($$v) {_vm.distribution=$$v},expression:\"distribution\"}},[_c('v-radio',{attrs:{\"label\":\"original distribution\",\"value\":\"original\"}}),_c('v-radio',{attrs:{\"label\":\"trinary distribution\",\"value\":\"trinary\"}})],1)],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Selection Mode\"},model:{value:(_vm.selection_mode),callback:function ($$v) {_vm.selection_mode=$$v},expression:\"selection_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall confidence \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"selection confidence\",\"value\":\"selected\"}})],1)],1)])],1)],1),_c('div',{attrs:{\"id\":\"legend1\"}},[(_vm.selection_mode == 'overall')?_c('v-switch',{staticClass:\"ml-8\",staticStyle:{\"font-size\":\"12px\"},attrs:{\"label\":\"normalize\"},model:{value:(_vm.normalization_switch),callback:function ($$v) {_vm.normalization_switch=$$v},expression:\"normalization_switch\"}}):_vm._e()],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\n\nexport default Vue.extend({\n  name: 'Trinary_Performance_Confidence',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      selection:'' as '1' | '2',\n      classifier: '',\n      interval:''\n    };\n    const hover_distribution = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n      interval:''\n    };\n    const distribution = 'trinary' as 'trinary' | 'original' \n    const selection_mode = 'overall' as 'overall' | 'selected'\n    return {\n      selection_mode:'overall',\n      maxIntervals:0,\n      distribution,\n      hover_distribution,\n      normalization:'No',\n      height,\n      hover,\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#b8ddf2',\n      width,\n      selectedEval:'',\n      wrongColor: '#f7c8aa',\n      rightColor1: '#b8ddf2',\n      wrongColor1: '#f7c8aa',\n      rightHoverColor1: '#4ba0ce',\n      wrongHoverColor1: '#ff884d',\n      rightHoverColor: '#4393c3',\n      wrongHoverColor: '#d6604d',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      nameTocontinuous: {},\n    };\n  },\n  computed: {\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      return this.$store.state.addedThresholdClassifiers.map((c)=>c.name);\n    },\n    addedBandWidthClassifiers() {\n      if (this.$store.state.addedBandWidthClassifiers.length == 0) {\n        const value = Object.keys(this.$store.state.classifierThresholdDict).map((c)=> {\n          let threshold = (this.$store.state.classifierThresholdDict[c] / 100)\n          return {'name': c + '(' + ((threshold-0.05) < 0 ? 0 : threshold-0.05).toFixed(2) + ',' + ((threshold+0.05 > 1 ? 1: threshold+0.05)).toFixed(2) + ')' }\n        });\n        return value\n      }\n      return this.$store.state.addedBandWidthClassifiers;\n    },\n    normalization_switch: {\n      set() {\n        if (this.normalization == \"Yes\") {\n          this.normalization = \"No\"\n        } else {\n          this.normalization = \"Yes\"\n        }\n      },\n      get() {\n        return this.normalization === \"Yes\";\n      }\n    },\n    bandWidthClassifiers(): string[] {\n      let classifiers = []\n      this.classifiers.forEach((c)=>{\n        classifiers.push(c)\n      })\n      this.addedThresholdClassifiers.forEach((classifier)=>{\n          classifiers.push(classifier)\n      })\n      return classifiers;\n    },\n    classifierBandWidthDict(): string[] {\n      if (this.distribution == 'original') {\n        const thresholdRange = this.boxProps.classifierBandWidthDict;\n        const classifiers = this.bandWidthClassifiers;\n        if (Object.keys(thresholdRange).length == 0 || classifiers.length != Object.keys(thresholdRange).length ) {\n      classifiers.forEach((c)=>{\n              if (!Object.keys(thresholdRange).includes(c) ) {\n                thresholdRange[c]={\n        name:c,\n        threshold:Object.keys(this.classifierThresholds).includes(c)?this.classifierThresholds[c]:0,\n        left_range: !Object.keys( this.classifierThresholds).includes(c)? 0 : this.classifierThresholds[c] / 100 - 0.05 < 0 ? 0 : this.classifierThresholds[c] / 100 - 0.05,\n        right_range:!Object.keys( this.classifierThresholds).includes(c)? 0 : this.classifierThresholds[c] / 100 + 0.05 > 1 ? 1 : this.classifierThresholds[c] / 100 + 0.05\n        }\n              }\n      })\n          }\n        return thresholdRange\n      } \n      let tmp = []\n      let classifiers = this.addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n      classifiers.forEach((c)=>{\n        let classifier = c.split('(')[0]\n        let left_edge = parseFloat(c.substring(c.length-10, c.length-6)).toFixed(2)\n        let right_edge = parseFloat(c.substring(c.length-5, c.length-1)).toFixed(2)\n        let cur_threshold  = ((parseFloat(right_edge) + parseFloat(left_edge)) / 2).toFixed(2)\n        tmp[c] = {\n          name:c,\n          threshold:cur_threshold,\n          left_range: left_edge,\n          right_range: right_edge\n        }\n      })\n      return tmp;\n    },\n    bandWidthChangedClassifierName(): string {\n      return this.$store.state.bandWidthChangedClassifierName\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThresholdDict;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    confidence(): string[] {\n      return [\"0\",\"0.1\",\"0.2\",\"0.3\",\"0.4\",\"0.5\",\"0.6\",\"0.7\",\"0.8\",\"0.9\",\"1.0\"]\n    },\n    confidenceIndex() : {} {\n      let confidenceIndex  = {}\n      for (let i in this.confidence) {\n        confidenceIndex[this.confidence[i]] = parseInt(i)\n      }\n      return confidenceIndex\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    continuousPredictionKeys():string[]{\n      if (this.$store.state.datasetType == \"continuous\") {\n        var continuousPredictionKeys = []\n        this.classifiers.forEach((c)=>{\n          continuousPredictionKeys.push(c+\"_\"+this.$store.state.classifierThresholdDict[c]/100)\n          this.nameTocontinuous[c] = c+\"_\"+this.$store.state.classifierThresholdDict[c]/100\n        })\n        this.addedThresholdClassifiers.forEach((c)=>{\n          continuousPredictionKeys.push(c)\n        })\n        return continuousPredictionKeys\n      } else {\n        return this.predictionKeys;\n      }\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    \n    metrics(): MetricsWithClassifier[] {\n      const storeMetrics: {\n        [classifier: string]: Metrics,\n      } = this.$store.getters.metrics;\n\n      const metrics: MetricsWithClassifier[] = Object.entries(storeMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          metrics: m,\n        };\n      });\n      return metrics;\n    },\n    predictions(): {\n      [classifier: string]: {\n        name: String,\n        threshold: Number,\n        acc: Number,\n        ci_tp: number[],\n        ci_fn: number[],\n        ci_tn: number[],\n        ci_fp: number[],\n        ci_mn: number[],\n        ci_mp: number[],\n        ci_pred: number[],\n        ci_tp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_fn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n        ci_fp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_tn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n        ci_mp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_mn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n        all_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n        continuous_pred: Number[]\n      },\n    }{\n      const predictions: {\n        [classifier: string]: {\n          name: String,\n          threshold: number,\n          acc: number,\n          ci_tp: number[],\n          ci_fn: number[],\n          ci_tn: number[],\n          ci_fp: number[],\n          ci_mn: number[],\n          ci_mp: number[],\n          ci_pred: number[],\n          ci_tp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_tn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_mp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n          },\n          ci_mn_instances: {\n            [confidence: string]:{\n              instances: Set<String>,\n              }\n          },\n          all_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          continuous_pred: Number[]\n        },\n      } = {};\n      var allIntervals = [];\n\n      \n      if (this.distribution == 'trinary') {\n          this.addedBandWidthClassifiers.forEach((origin_c)=>{\n          let c = origin_c.name;\n          let classifier = c.split('(')[0]\n          let left_edge = parseFloat(c.substring(c.length-10, c.length-6)).toFixed(2)\n          let right_edge = parseFloat(c.substring(c.length-5, c.length-1)).toFixed(2)\n          let cur_threshold  = (parseFloat(right_edge) + parseFloat(left_edge)) / 2\n          predictions[c] = {\n            name:c,\n            threshold: cur_threshold,\n            acc: 0,\n            ci_tp: [],\n            ci_fn: [],\n            ci_tn: [],\n            ci_fp: [],\n            ci_mn: [],\n            ci_mp: [],\n            ci_pred: [],\n            ci_tp_instances: {},\n            ci_fp_instances: {},\n            ci_tn_instances: {},\n            ci_fn_instances: {},\n            ci_mp_instances: {},\n            ci_mn_instances: {},\n            all_instances: {},\n            continuous_pred: []\n          };\n          this.confidence.forEach((conf)=>{\n            predictions[c][\"ci_tp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_tn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_fp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_fn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_mp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_mn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"all_instances\"][conf] = {\n              instances: new Set(),\n            }\n          })\n          this.instances.forEach((id)=>{\n            let continuous_value = (instanceById(id).continuous_predictions[classifier])\n            let correct = instanceById(id).actual == instanceById(id).predictions[classifier]? 1 : 0;\n            predictions[c].continuous_pred.push(parseFloat(continuous_value))\n            let interval = (continuous_value.split(\".\")[1].substring(0,1)/10).toString()\n            if ((continuous_value.split(\".\")[0]=='1')) {\n              interval = \"1.0\"\n            }\n            let interval_index = this.confidenceIndex[interval]\n            if (interval_index > 0 && interval_index < this.confidence.length) {\n              let latter_index = interval_index + 1\n              let latter_confi = parseFloat(this.confidence[latter_index])\n              if (Math.abs(latter_confi - parseFloat (continuous_value)) < Math.abs(parseFloat (continuous_value) - parseFloat(interval))) {\n                interval = this.confidence[latter_index]\n              }\n            }  \n\n            predictions[c][\"all_instances\"][interval].instances.add(id);\n            if (continuous_value > left_edge && continuous_value < right_edge) {\n                if (continuous_value >=  (predictions[c].threshold) / 100) {\n                  predictions[c][\"ci_mp_instances\"][interval].instances.add(id)\n                } else {\n                  predictions[c][\"ci_mn_instances\"][interval].instances.add(id)\n                }\n            } else if (continuous_value >= right_edge){\n              if (instanceById(id).actual == this.classes[1]){\n                predictions[c][\"ci_tp_instances\"][interval].instances.add(id)\n              } else {\n                predictions[c][\"ci_fp_instances\"][interval].instances.add(id)\n              }\n            } else{\n              if (instanceById(id).actual == this.classes[0]) {\n                predictions[c][\"ci_tn_instances\"][interval].instances.add(id)\n              } else {\n                predictions[c][\"ci_fn_instances\"][interval].instances.add(id)\n              }\n            }\n          })\n\n          this.confidence.forEach((conf)=>{\n            predictions[c][\"ci_tp\"].push(predictions[c][\"ci_tp_instances\"][conf].instances.size)\n            predictions[c][\"ci_tn\"].push(predictions[c][\"ci_tn_instances\"][conf].instances.size)\n            predictions[c][\"ci_fp\"].push(predictions[c][\"ci_fp_instances\"][conf].instances.size)\n            predictions[c][\"ci_fn\"].push(predictions[c][\"ci_fn_instances\"][conf].instances.size)\n            predictions[c][\"ci_mp\"].push(predictions[c][\"ci_mp_instances\"][conf].instances.size)\n            predictions[c][\"ci_mn\"].push(predictions[c][\"ci_mn_instances\"][conf].instances.size)\n            allIntervals.push(predictions[c][\"ci_tn_instances\"][conf].instances.size + predictions[c][\"ci_tp_instances\"][conf].instances.size + predictions[c][\"ci_fn_instances\"][conf].instances.size + predictions[c][\"ci_fp_instances\"][conf].instances.size)\n          });\n\n          for (let i in predictions[c][\"ci_tp\"]) {\n            predictions[c][\"ci_pred\"].push(predictions[c][\"ci_tp\"][i] + predictions[c][\"ci_tn\"][i] + predictions[c][\"ci_fp\"][i] +\n                                          predictions[c][\"ci_fn\"][i] + predictions[c][\"ci_mp\"][i] + predictions[c][\"ci_mn\"][i] )\n\n          }\n\n\n        })\n      } else {\n          this.classifiers.forEach((c) => {\n          let left_edge = Object.keys(this.classifierBandWidthDict).length == 0? 0.45: this.classifierBandWidthDict[c].left_range;//this.thresholdRange[c].left_range;\n          let right_edge = Object.keys(this.classifierBandWidthDict).length == 0? 0.55: this.classifierBandWidthDict[c].right_range; //this.thresholdRange[c].right_range; \n          let cur_acc = 0\n          predictions[c] = {\n            name:c,\n            threshold: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] : 0,\n            acc: 0,\n            ci_tp: [],\n            ci_fn: [],\n            ci_tn: [],\n            ci_fp: [],\n            ci_mn: [],\n            ci_mp: [],\n            ci_pred: [],\n            ci_tp_instances: {},\n            ci_fp_instances: {},\n            ci_tn_instances: {},\n            ci_fn_instances: {},\n            ci_mp_instances: {},\n            ci_mn_instances: {},\n            all_instances: {},\n            continuous_pred: []\n          };\n          this.confidence.forEach((conf)=>{\n            predictions[c][\"ci_tp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_tn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_fp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_fn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_mp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_mn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"all_instances\"][conf] = {\n              instances: new Set(),\n            }\n          })\n          this.instances.forEach((id)=>{\n            let continuous_value = (instanceById(id).continuous_predictions[c])\n            let correct = instanceById(id).actual == instanceById(id).predictions[c]? 1 : 0;\n            predictions[c].continuous_pred.push(parseFloat(continuous_value))\n            let interval = (continuous_value.split(\".\")[1].substring(0,1)/10).toString()\n            if ((continuous_value.split(\".\")[0]=='1')) {\n              interval = \"1.0\"\n            }\n            let interval_index = this.confidenceIndex[interval]\n            if (interval_index > 0 && interval_index < this.confidence.length) {\n              let latter_index = interval_index + 1\n              let latter_confi = parseFloat(this.confidence[latter_index])\n              if (Math.abs(latter_confi - parseFloat (continuous_value)) < Math.abs(parseFloat (continuous_value) - parseFloat(interval))) {\n                interval = this.confidence[latter_index]\n              }\n            }  \n            \n            predictions[c][\"all_instances\"][interval].instances.add(id);\n            if (continuous_value > left_edge && continuous_value < right_edge) {\n                if (continuous_value >=  (predictions[c].threshold) / 100) {\n                  predictions[c][\"ci_mp_instances\"][interval].instances.add(id)\n                } else {\n                  predictions[c][\"ci_mn_instances\"][interval].instances.add(id)\n                }\n            } else if (continuous_value >= right_edge){\n              if (instanceById(id).actual == this.classes[1]){\n                predictions[c][\"ci_tp_instances\"][interval].instances.add(id)\n              } else {\n                predictions[c][\"ci_fp_instances\"][interval].instances.add(id)\n              }\n            } else{\n              if (instanceById(id).actual == this.classes[0]) {\n                predictions[c][\"ci_tn_instances\"][interval].instances.add(id)\n              } else {\n                predictions[c][\"ci_fn_instances\"][interval].instances.add(id)\n              }\n            }\n              \n          })\n          this.confidence.forEach((conf)=>{\n            predictions[c][\"ci_tp\"].push(predictions[c][\"ci_tp_instances\"][conf].instances.size)\n            predictions[c][\"ci_tn\"].push(predictions[c][\"ci_tn_instances\"][conf].instances.size)\n            predictions[c][\"ci_fp\"].push(predictions[c][\"ci_fp_instances\"][conf].instances.size)\n            predictions[c][\"ci_fn\"].push(predictions[c][\"ci_fn_instances\"][conf].instances.size)\n            predictions[c][\"ci_mp\"].push(predictions[c][\"ci_mp_instances\"][conf].instances.size)\n            predictions[c][\"ci_mn\"].push(predictions[c][\"ci_mn_instances\"][conf].instances.size)\n            allIntervals.push(predictions[c][\"ci_tn_instances\"][conf].instances.size + predictions[c][\"ci_tp_instances\"][conf].instances.size + predictions[c][\"ci_fn_instances\"][conf].instances.size + predictions[c][\"ci_fp_instances\"][conf].instances.size)\n          });\n\n          for (let i in predictions[c][\"ci_tp\"]) {\n            predictions[c][\"ci_pred\"].push(predictions[c][\"ci_tp\"][i] + predictions[c][\"ci_tn\"][i] + predictions[c][\"ci_fp\"][i] +\n                                          predictions[c][\"ci_fn\"][i] + predictions[c][\"ci_mp\"][i] + predictions[c][\"ci_mn\"][i] )\n\n          }\n        });\n      }\n      \n      this.maxIntervals = d3.max(allIntervals) *0.9 ;\n      this.x.domain([0,d3.max(allIntervals)*2])\n      return predictions;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleLinear<number, number> {\n      let classifiers = this.addedBandWidthClassifiers.map((c)=>{\n        c.name\n      })\n      const x = d3.scaleLinear()\n        .range([0, this.width / classifiers.length])\n        .domain([0,100])\n      return x;    \n    },\n    xRight(): d3.ScaleLinear<number, number> {\n      let classifiers = this.addedBandWidthClassifiers.map((c)=>{\n        c.name\n      })\n      const x = d3.scaleLinear()\n        .range([0, this.width / classifiers.length])\n        .domain([0,1])\n      return x;    \n    },\n    y(): d3.ScaleBand<string> {\n      const y = d3.scaleBand<string>()\n        .range([this.height, 0])\n        .padding(0.1).domain(this.confidence);\n      return y;\n    },\n    yScale(): d3.ScaleLinear<number, number> {\n      const yScale = d3.scaleLinear()\n          .domain([0, 1])\n          .range([this.height,0])\n      return yScale;      \n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: { \n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Trinary_Performance_Confidence') {\n          if (view.config) {\n            let value  = view.config;\n            this.selection_mode = value.selection\n            this.distribution = value.distribution\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Trinary_Performance_Confidence\", \n                    \"config\": {\n                      \"selection\":this.selection_mode,\n                      \"distribution\":this.distribution}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    addedBandWidthClassifiers() {\n      this.drawInitial();\n    },\n    selection_mode() {\n      this.drawInitial();\n    },\n    normalization() {\n      if (this.distribution == 'original') {\n        this.drawOriginalDistribution();\n      } else {\n        this.drawInitial();\n      }\n    },\n    hover_distribution() {\n      this.drawDistributionHover();\n    },\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      if (this.distribution == 'original') {\n        this.drawOriginalDistribution();\n      } else {\n        this.drawInitial();\n      }\n    },\n    selections() {\n      if (this.selection_mode == 'selected') {\n        this.drawInitial();\n      }\n      this.drawSelections();\n      this.drawDistSelections();\n    },\n    distribution() {\n      if (this.distribution == 'original') {\n        this.drawOriginalDistribution();\n      } else {\n        this.drawInitial();\n      }\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Trinary_Performance_Confidence') {\n        if (view.config) {\n          let value  = view.config;\n          this.selection_mode = value.selection\n          this.distribution = value.distribution\n        }\n      }\n    })\n    this.drawInitial();\n  },\n  methods: {\n    dataUpdateWithRange() {\n      const classifier = this.bandWidthChangedClassifierName;//this.sliderRange.classifier;\n\n      // find the upper and lower bound of the confidence\n      const left_edge =this.classifierBandWidthDict[classifier].left_range; //this.thresholdRange[classifier].left_range;\n      const right_edge = this.classifierBandWidthDict[classifier].right_range; //this.thresholdRange[classifier].right_range; \n      let lowerConfi = 0;\n      let upperConfi = 0;\n      let pre = -0.1\n      this.confidence.forEach((c)=>{\n        if (left_edge <= c && left_edge > pre) {\n          lowerConfi = pre\n        }\n        if (right_edge <= c && right_edge > pre) {\n          upperConfi = c\n        }\n        pre = c\n      }) \n\n      // updtae corresponding predictions\n      for (let i in this.confidence) {\n        let conf = this.confidence[i]\n        let cur_instances = [...this.predictions[classifier][\"all_instances\"][conf].instances];\n        let interval = conf\n        if (conf >= lowerConfi && conf <= upperConfi) {\n          this.predictions[classifier][\"ci_tp_instances\"][conf][\"instances\"] = new Set();\n          this.predictions[classifier][\"ci_tn_instances\"][conf][\"instances\"] = new Set();\n          this.predictions[classifier][\"ci_fp_instances\"][conf][\"instances\"] = new Set();\n          this.predictions[classifier][\"ci_fn_instances\"][conf][\"instances\"] = new Set();\n          this.predictions[classifier][\"ci_mp_instances\"][conf][\"instances\"] = new Set();\n          this.predictions[classifier][\"ci_mn_instances\"][conf][\"instances\"] = new Set();\n          cur_instances.forEach((id)=>{\n            let continuous_value = (instanceById(id).continuous_predictions[classifier])\n            let correct = instanceById(id).actual == instanceById(id).predictions[classifier]? 1 : 0;\n            if (continuous_value > left_edge && continuous_value < right_edge) {\n                if (continuous_value >= this.predictions[classifier].threshold || parseFloat (interval) > this.predictions[classifier].threshold / 100) {\n                  this.predictions[classifier][\"ci_mp_instances\"][interval].instances.add(id)\n                } else {\n                  this.predictions[classifier][\"ci_mn_instances\"][interval].instances.add(id)\n                }\n            } else if (continuous_value >= right_edge){\n              if (instanceById(id).actual == this.classes[1]){\n                this.predictions[classifier][\"ci_tp_instances\"][interval].instances.add(id)\n              } else {\n                this.predictions[classifier][\"ci_fp_instances\"][interval].instances.add(id)\n              }\n            } else{\n              if (instanceById(id).actual == this.classes[0]) {\n                this.predictions[classifier][\"ci_tn_instances\"][interval].instances.add(id)\n              } else {\n                this.predictions[classifier][\"ci_fn_instances\"][interval].instances.add(id)\n              }\n            }\n          })\n          this.predictions[classifier].ci_tp[i] = this.predictions[classifier][\"ci_tp_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_tn[i] = this.predictions[classifier][\"ci_tn_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_fp[i] = this.predictions[classifier][\"ci_fp_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_fn[i] = this.predictions[classifier][\"ci_fn_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_mp[i] = this.predictions[classifier][\"ci_mp_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_mn[i] = this.predictions[classifier][\"ci_mn_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_pred[i] = (this.predictions[classifier].ci_tp[i] + this.predictions[classifier].ci_tn[i] + this.predictions[classifier].ci_fp[i] +\n                  this.predictions[classifier].ci_fn[i] + this.predictions[classifier].ci_mp[i] + this.predictions[classifier].ci_mn[i]);\n        }\n      }\n    },\n    drawUpdateWithRange(){\n      const classifier = this.bandWidthChangedClassifierName;\n      const instances = this.instances;\n      const yScale = this.yScale\n      const chart = d3.select(this.$refs.svg);\n\n      chart.select('.slider-circle-time-from-'+classifier).attr('transform', (d:string)=>\n               'translate(0,'+ yScale( this.classifierBandWidthDict[this.bandWidthChangedClassifierName].left_range.toFixed(2)) +')'+'rotate(30)')\n      chart.select('.slider-circle-time-to-'+classifier).attr('transform', (d:string)=>\n               'translate(0,'+ yScale( this.classifierBandWidthDict[this.bandWidthChangedClassifierName].right_range.toFixed(2)) +')'+'rotate(30)')\n      chart.select('.slider-line-'+classifier).attr(\"y1\",(d:string)=>yScale( this.classifierBandWidthDict[this.bandWidthChangedClassifierName].left_range.toFixed(2)))\n                .attr(\"y2\",(d:string)=>yScale( this.classifierBandWidthDict[this.bandWidthChangedClassifierName].right_range.toFixed(2)))\n      \n      this.dataUpdateWithRange();\n      this.drawConfidence();\n    },\n    clearDistributionHover() {\n      this.hover_distribution = ({type: '', classifier: '', interval:''})\n    },\n    clearHover() { \n      this.hover = ({type: '', selection: '', classifier: '',interval:''});\n    },\n    drawHover() {\n      const chart = d3.select(this.$refs.svg);\n      const rightBars = chart.selectAll('.bar-right1');\n      const wrongBars = chart.selectAll('.bar-wrong1');\n      const rightBars2 = chart.selectAll('.bar-right2');\n      const wrongBars2 = chart.selectAll('.bar-wrong2');\n      const midBars = chart.selectAll('.bar-middle1');\n      const midBars2 = chart.selectAll('.bar-middle2');\n      const hoverRect = chart.select(\".y-axis-marker-rect\")\n      const yAxisMarkerTextRight = chart.select('.y-axis-marker-text-right1');\n      const yAxisMarkerTextWrong = chart.select('.y-axis-marker-text-wrong1');\n      const yAxisMarkerTextMiddle = chart.select('.y-axis-marker-text-middle1');\n      const yAxisMarkerTextRight_s1 = chart.select('.y-axis-marker-text-right1-s1');\n      const yAxisMarkerTextWrong_s1 = chart.select('.y-axis-marker-text-wrong1-s1');\n      const yAxisMarkerTextMiddle_s1 = chart.select('.y-axis-marker-text-middle1-s1');\n      const yAxisMarkerTextRight_s2 = chart.select('.y-axis-marker-text-right1-s2');\n      const yAxisMarkerTextWrong_s2 = chart.select('.y-axis-marker-text-wrong1-s2');\n      const yAxisMarkerTextMiddle_s2 = chart.select('.y-axis-marker-text-middle1-s2');\n\n      const { first, second } = this.selections; //rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1)\n      const rightOverLap = (classifierName:string,confidence:string, selection: Set<string>,type) => {\n        const instances = type==1? this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  :this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances)\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : (overlappingInstances.size * 100  / instances.size).toFixed(0);\n        return fractionOfTotalInstances;\n      };\n\n      const wrongOverLap = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances)\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : (overlappingInstances.size * 100 /instances.size).toFixed(0);\n        return fractionOfTotalInstances;\n      };\n\n      const middleOverLap = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances)\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : (overlappingInstances.size * 100 /instances.size).toFixed(0);\n        return  fractionOfTotalInstances;\n      };\n      const classifiers = this. addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(classifiers);\n\n\n\n      if (this.hover.type === 'right1' && this.hover.selection == '') {\n        rightBars\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          rightBars.attr('fill', this.rightColor);\n      }\n      if (this.hover.type === 'wrong1' && this.hover.selection == '') {\n        wrongBars\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          wrongBars.attr('fill', this.wrongColor);\n      }\n      if (this.hover.type === 'middle1' && this.hover.selection == '') {\n        midBars\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? 'grey'\n              : 'lightgrey');\n      } else {\n        if (this.selection_mode == 'overall')\n          midBars.attr('fill', 'lightgrey');\n      }\n\n      if (this.hover.type === 'right2' && this.hover.selection == '') {\n        rightBars2\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? this.rightHoverColor1\n              : this.rightColor1);\n      } else {\n        if (this.selection_mode == 'overall')\n          rightBars2.attr('fill', this.rightColor1);\n      }\n\n      if (this.hover.type === 'wrong2' && this.hover.selection == '') {\n        wrongBars2\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? this.wrongHoverColor1\n              : this.wrongColor1);\n      } else {\n        if (this.selection_mode == 'overall')\n          wrongBars2.attr('fill', this.wrongColor1);\n      }\n\n      if (this.hover.type === 'middle2' && this.hover.selection == '') {\n        midBars2\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? 'grey'\n              : 'lightgrey');\n      } else {\n        if (this.selection_mode == 'overall')\n          midBars2.attr('fill', 'lightgrey');\n      }\n\n\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n\n      if (this.hover.type){\n        hoverRect\n           .transition()\n            .duration(moveDuration)\n            .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-120) + \",0)\" )\n            .attr('opacity', 1);\n        if(this.hover.type == \"right1\" || this.hover.type == \"wrong1\" || this.hover.type == \"middle1\") {\n    \n          yAxisMarkerTextRight\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr(\"transform\", \n              \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-60)\" )\n            .text(this.normalization == 'Yes'? \"tp (%)\" : \"tp: \"+ (this.predictions[this.hover.classifier][\"ci_tp_instances\"][this.hover.interval].instances.size));\n\n          yAxisMarkerTextMiddle\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1) \n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-40)\" )\n              .text(this.normalization == 'Yes'? \"mp (%)\" : \"mp:\"+(this.predictions[this.hover.classifier][\"ci_mp_instances\"][this.hover.interval].instances.size));\n  \n          yAxisMarkerTextWrong\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)  \n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-20)\" )\n              .text(this.normalization == 'Yes'? \"fp (%)\" : \"fp:\"+(this.predictions[this.hover.classifier][\"ci_fp_instances\"][this.hover.interval].instances.size));\n          if (first) {\n            yAxisMarkerTextRight_s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"steelblue\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-60)\" )\n              .text(\"1st: \"+rightOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n\n            yAxisMarkerTextMiddle_s1\n                .transition()\n                .duration(moveDuration)\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"steelblue\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-40)\" )\n                .text(\"1st: \"+middleOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n    \n            yAxisMarkerTextWrong_s1\n                .transition()\n                .duration(moveDuration)\n                .attr(\"fill\",\"steelblue\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-20)\" )\n                .text(\"1st: \"+wrongOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n          }\n          if (second) {\n            yAxisMarkerTextRight_s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",this.selection2Color)\n              .attr(\"transform\",  \"translate(\" +  (xAxis(this.hover.classifier)+60)  + \",-60)\" )\n              .text(\"2nd: \"+rightOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n\n            yAxisMarkerTextMiddle_s2\n                .transition()\n                .duration(moveDuration)\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",this.selection2Color)\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60)+ \",-40)\" )\n                .text(\"2nd: \"+middleOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n    \n            yAxisMarkerTextWrong_s2\n                .transition()\n                .duration(moveDuration)\n                .attr(\"fill\",this.selection2Color)\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-20)\" )\n                .text(\"2nd: \"+wrongOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n          }\n        } else {\n         \n          yAxisMarkerTextRight\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-60)\" )\n            .text(this.normalization == 'Yes'? \"tn (%)\" : \"tn: \"+`${(this.predictions[this.hover.classifier][\"ci_tn_instances\"][this.hover.interval].instances.size)}`);\n\n          yAxisMarkerTextMiddle\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1) \n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-40)\" )\n              .text(this.normalization == 'Yes'? \"mn (%)\" : \"mn: \"+`${(this.predictions[this.hover.classifier][\"ci_mn_instances\"][this.hover.interval].instances.size)}`);\n  \n          yAxisMarkerTextWrong\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)  \n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-20)\" )\n              .text(this.normalization == 'Yes'? \"fn (%)\" : \"fn: \"+`${(this.predictions[this.hover.classifier][\"ci_fn_instances\"][this.hover.interval].instances.size)}`);\n          if (first) {\n            yAxisMarkerTextRight_s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"steelblue\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-60)\" )\n              .text(\"1st: \"+rightOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n\n            yAxisMarkerTextMiddle_s1\n                .transition()\n                .duration(moveDuration)\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"steelblue\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-40)\" )\n                .text(\"1st: \"+middleOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n    \n            yAxisMarkerTextWrong_s1\n                .transition()\n                .duration(moveDuration)\n                .attr(\"fill\",\"steelblue\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-20)\" )\n                .text(\"1st: \"+wrongOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n          }\n          if (second) {\n            yAxisMarkerTextRight_s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",this.selection2Color)\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-60)\" )\n              .text(\"2nd: \"+rightOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n\n            yAxisMarkerTextMiddle_s2\n                .transition()\n                .duration(moveDuration)\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",this.selection2Color)\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60)+ \",-40)\" )\n                .text(\"2nd: \"+middleOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n    \n            yAxisMarkerTextWrong_s2\n                .transition()\n                .duration(moveDuration)\n                .attr(\"fill\",this.selection2Color)\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-20)\" )\n                .text(\"2nd: \"+wrongOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n          }\n        }\n\n      } else {\n\n        yAxisMarkerTextRight\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextMiddle\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextWrong\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextRight_s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextMiddle_s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextWrong_s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextRight_s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextMiddle_s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextWrong_s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        // yAxisMarkerLine2\n        //   .transition()\n        //   .duration(disappearDuration)\n        //   .attr('stroke-opacity', 0);\n        // yAxisMarkerLine2_2\n        //   .transition()\n        //   .duration(disappearDuration)\n        //   .attr('stroke-opacity', 0);\n        hoverRect\n          .transition()\n          .duration(disappearDuration)\n          .attr('opacity', 0);\n      }\n    },\n    drawDistributionHover() {\n      const chart = d3.select(this.$refs.svg);\n      const predBars = chart.selectAll('.bar-original');\n      const hoverRect = chart.select(\".y-axis-marker-rect-dist\")\n      const yAxisMarkerTextPred = chart.select('.y-axis-marker-text-pred');\n      const yAxisMarkerTextPred_s1 = chart.select('.y-axis-marker-text-pred-s1');\n      const yAxisMarkerTextPred_s2 = chart.select('.y-axis-marker-text-pred-s2');\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line-dist');\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      const { first, second } = this.selections; \n      \n      const rightOverLap = (classifierName:string,confidence:string, selection: Set<string>,type) => {\n        const instances = new Set([...this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                  ]);\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size /// totalInstances;\n        return fractionOfTotalInstances;\n      };\n      let classifiers = []\n      this.classifiers.forEach((c)=>{\n        classifiers.push(c)\n      })\n      this.addedThresholdClassifiers.forEach((classifier)=>{\n          classifiers.push(classifier)\n      })\n      const xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(classifiers);\n\n      var confi_index = '0';\n      for (let i in this.confidence) {\n        if (this.confidence[i] == this.hover_distribution.interval) {\n          confi_index = i\n          break\n        }\n      }\n\n      if (this.hover_distribution.type === 'dist') {\n        predBars\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover_distribution.classifier && d[\"confidence\"] === this.hover_distribution.interval\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        predBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hover_distribution.type){\n        hoverRect\n           .transition()\n            .duration(moveDuration)\n            .attr(\"transform\",  \"translate(\" + (xAxis(this.hover_distribution.classifier)-60) + \",0)\" )\n            .attr('opacity', 1);\n       \n        yAxisMarkerLine\n          .transition()\n          .duration(moveDuration)\n          .attr('stroke-opacity', 1)\n          .attr(\"transform\",  \"translate(\" + xAxis(this.hover_distribution.classifier) + \",0)\" )\n          .attr('x1', this.x(this.predictions[this.hover_distribution.classifier][\"ci_pred\"][confi_index]) )\n          .attr('y1',-20)\n          .attr('y2', this.height*1.2)\n          .attr('x2', this.x(this.predictions[this.hover_distribution.classifier][\"ci_pred\"][confi_index]) );\n      \n        yAxisMarkerTextPred\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)  \n            .attr(\"transform\",  \"translate(\" + (xAxis(this.hover_distribution.classifier)) + \",-55)\" )\n            .text(\"pred:\"+(this.predictions[this.hover_distribution.classifier][\"ci_pred\"][confi_index]));\n\n        if (first) {\n          yAxisMarkerTextPred_s1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr(\"fill\",\"steelblue\")\n            .attr(\"transform\",  \"translate(\" + (xAxis(this.hover_distribution.classifier)) + \",-40)\" )\n            .text(\"1st: \"+rightOverLap(this.hover_distribution.classifier,this.hover_distribution.interval, first.instances, 1));\n        }\n        if (second) {\n          yAxisMarkerTextPred_s2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr(\"fill\",this.selection2Color)\n            .attr(\"transform\",  \"translate(\" +  (xAxis(this.hover_distribution.classifier))  + \",-25)\" )\n            .text(\"2nd: \"+rightOverLap(this.hover_distribution.classifier,this.hover_distribution.interval, second.instances, 1)); \n        }\n      } else {\n\n        yAxisMarkerLine\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n\n        yAxisMarkerTextPred\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n \n        yAxisMarkerTextPred_s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextPred_s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n\n        hoverRect\n          .transition()\n          .duration(disappearDuration)\n          .attr('opacity', 0);\n      }\n      \n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr(\"class\",\"svg-all\")\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom * 2}`)\n        \n      const svg_confidence = svgAll.append('g')\n          .attr(\"class\",\"svg-confidence\")\n          .attr('transform', `translate(${this.margin.left/4}, ${this.margin.bottom * 1.5})`);\n      const svg = svgAll.append('g')\n          .attr('transform', `translate(${this.margin.left/4}, ${this.margin.bottom * 1.5 })`);\n\n      const classifiers = this. addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n      const x = this.x\n      const y = this.y    \n      const height = this.height\n      const x_width = this.width / classifiers.length\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(classifiers);\n\n          \n\n\n      const drawSliders = () => {\n        let yScale = this.yScale\n        let thresholdRange = this.classifierBandWidthDict//this.thresholdRange\n        \n \n        var sqrt3 = Math.sqrt(3);\n\n        const rangeSliders = svg.append(\"g\").selectAll(\"g\")\n          .data(classifiers)\n          .enter().append(\"g\")\n            .attr(\"transform\", function(d:string) { return \"translate(\" + (xAxis(d)) + \")\"; })\n        \n        let slider = rangeSliders.append('line')\n          .attr('class',(d:string)=>'slider-line-'+d)\n          .style(\"stroke\", \"#777\")\n          .style(\"stroke-opacity\", \"1\")\n          .style(\"stroke-width\", \"4\")\n          .attr('x1', 0)\n          .attr('x2', 0)\n          .attr('y1',(d:string)=> {\n            return yScale( thresholdRange[d].left_range)})\n          .attr('y2',(d:string)=> {\n            return yScale( thresholdRange[d].right_range)})\n\n        let head1 = rangeSliders.append('circle')\n          .style('fill', 'red')\n          .attr(\"r\",y.bandwidth()/6)\n          .style('stroke', 'none')\n          .attr('class',(d:string)=>'slider-circle-time-from'+d)\n          .attr('transform', (d:string)=>{\n            return 'translate(0,'+ yScale( thresholdRange[d].left_range) +')'+'rotate(30)'\n          })\n          .attr(\"id\",(d:string)=>\"slider-circle-time-to-left_\"+d)\n            ;\n\n        let head2 = rangeSliders.append('circle')\n          .style('fill', 'green')\n          .attr(\"r\",y.bandwidth() / 6)\n          .style('stroke', 'none')\n          .attr('class',(d:string)=>'slider-circle-time-to'+d)\n          .attr('transform', (d:string)=>{\n            return 'translate(0,'+ yScale( thresholdRange[d].right_range) +')'+'rotate(30)'\n          })\n          .attr(\"id\",(d:string)=>\"slider-circle-time-to-right_\"+d);\n\n        let thresholdCircle = rangeSliders.append('circle')\n          .attr('class', 'x-axis-marker-line')\n          .attr('transform', (d:string)=>{\n            return 'translate(0,'+ yScale(thresholdRange[d].threshold) +')'+'rotate(30)'\n          })\n          .attr(\"r\",y.bandwidth()/4)\n          .attr('fill', 'drakblue')\n          .attr('stroke-opacity', 1)\n      };\n      \n      const drawTitles = () => {\n        svg.selectAll(\"myText\")\n          .data(classifiers)\n          .enter().append(\"text\")\n              .style(\"text-anchor\", \"middle\")\n              .attr('transform', 'rotate(30)')\n              .attr(\"transform\", function(d: string) { \n              return \"translate(\" + (xAxis(d)+10) + \",\"+(height+40)+\") \" + 'rotate(20)'; })\n              .text((d:string)=>d)\n              .style(\"fill\", \"black\")\n              .style(\"font-size\", 20)\n\n         \n\n      };\n      \n      const drawLegend = () => {\n        const width = this.width / 8;\n        const height = this.margin.top / 1.5;\n        const legend = svg\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', this.selection_mode == 'selected'?\n             `translate(\n              ${this.width - width},\n              ${-height*4})`\n            : `translate(\n              ${this.width - width},\n              ${-height*6})`\n            );\n\n        if (this.selection_mode == 'selected') {\n          legend.append('rect')\n            .attr('width', width )\n            .attr('height', height)\n            .attr('fill', this.selection1Color)\n            .attr(\"stroke\",'black')\n          legend.append('rect')\n            .attr('x', width )\n            .attr('width', width )\n            .attr('height', height)\n            .attr('fill', this.selection1Color)\n            .attr(\"stroke\",'black')\n          legend.append('rect')\n            .attr('y', height)\n            .attr('width', width )\n            .attr('height', height)\n            .attr('fill', this.selection2Color)\n            .attr(\"stroke\",'black')\n          legend.append('rect')\n            .attr('y', height)\n            .attr('x', width )\n            .attr('width', width )\n            .attr('height', height)\n            .attr('fill', this.selection2Color)\n            .attr(\"stroke\",'black')\n\n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height / 2})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"incorrect s1\") \n          legend.append('text')\n            .attr('transform', `translate(${width / 2 * 3}, ${height / 2})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"correct s1\") \n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height / 2 * 3})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"incorrect s2\") \n          legend.append('text')\n            .attr('transform', `translate(${width / 2 * 3}, ${height / 2 * 3})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"correct s2\") \n        } else {\n          legend.append('rect')\n            .attr('width', width)\n            .attr('height', height)\n            .attr('fill', this.wrongColor)\n\n          legend.append('rect')\n            .attr('y', height)\n            .attr('width', width)\n            .attr('height', height)\n            .attr('fill', this.rightColor)\n\n          legend.append('rect')\n            .attr('y', height*2)\n            .attr('width', width)\n            .attr('height', height)\n            .attr('fill', 'lightgrey')  \n\n          legend.append('rect')\n            .attr('y', height*3)\n            .attr('width', width)\n            .attr('height', height)\n            .attr('fill', this.wrongColor1)\n\n          legend.append('rect')\n            .attr('y', height*4)\n            .attr('width', width)\n            .attr('height', height)\n            .attr('fill', this.rightColor1)    \n          \n            \n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height / 2})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"fp\")  \n\n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height * 3 / 2})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text(\"tp\");\n\n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height * 2.5})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text(\"uncertain\"); \n\n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height * 3.5})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"fn\")  \n\n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height * 4.5})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text(\"tn\");  \n        }\n      };\n      \n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line1')\n          .attr('x1', x(0))\n          .attr('y1',0)\n          .attr('x2', x(0))\n          .attr('y2', this.height*1.2)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line2')\n          .attr('x1', x(0))\n          .attr('y1',0)\n          .attr('x2', x(0))\n          .attr('y2', this.height*1.2)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');  \n\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line1-2')\n          .attr('x1', x(0))\n          .attr('y1',0)\n          .attr('x2', x(0))\n          .attr('y2', this.height*1.2)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');  \n        svg.append('line')\n          .attr('class', 'y-axis-marker-line2-2')\n          .attr('x1', x(0))\n          .attr('y1',0)\n          .attr('x2', x(0))\n          .attr('y2', this.height*1.2)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');  \n      };\n\n      const yAxisMarkerText = () => {\n        svg.append(\"rect\")\n          .attr('class', 'y-axis-marker-rect')\n          .attr(\"width\",240)\n          .attr(\"height\",60)\n          .attr(\"fill\",\"white\")\n          .attr(\"stroke\",\"grey\")\n          .attr(\"y\",-60)\n          // .duration(disappearDuration)\n          .attr('opacity', 0);\n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right1-s1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right1-s2')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-wrong1') \n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-wrong1-s1') \n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'hanging');\n         svg.append('text')\n          .attr('class', 'y-axis-marker-text-wrong1-s2') \n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-middle1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-middle1-s1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-middle1-s2')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'hanging');\n      };\n\n      drawSliders();\n      drawTitles();\n      drawLegend(); \n\n      yAxisMarkerLine();\n      yAxisMarkerText();\n      this.drawConfidence();\n        if (this.selection_mode == 'overall') {\n        this.drawHover();\n      }\n      \n    },\n    drawConfidence() {\n      const chart = d3.select(this.$refs.svg);\n      const svg = chart.select(\".svg-confidence\");\n      const normalization = this.normalization;\n      svg.selectAll('*').remove();  \n\n      const x = this.x\n      const y = this.y    \n      const maxIntervals = this.maxIntervals\n      \n      const predictions = this.predictions\n      const selections = this.selections\n      const {first, second} = this.selections\n      const confidence  = this.confidence\n      const classifiers = this.addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(classifiers);\n\n      var width = this.width;\n      var height = this.height\n\n      let confidenceData = get_confidence_data()\n      let confidenceDict = {}\n      let selectedConfidenceDict = []\n      classifiers.forEach((c,i)=>{\n        confidenceDict[c] = confidenceData[i].data\n      })\n\n      if (this.selection_mode == 'selected' && Object.keys(this.selections).length > 0) {\n        confidenceData = []\n        if (first) {\n          const selectionData = get_selected_confidence_data(\"1\")\n          confidenceData.push(selectionData)\n          let tmpconfidenceDict = {}\n          classifiers.forEach((c,i)=>{\n            tmpconfidenceDict[c] = selectionData[i]['data']\n          })\n          selectedConfidenceDict.push(tmpconfidenceDict)\n        }\n        if (second) {\n          const selectionData = get_selected_confidence_data(\"2\")\n          confidenceData.push(selectionData)\n          let tmpconfidenceDict = {}\n          classifiers.forEach((c,i)=>{\n            tmpconfidenceDict[c] = selectionData[i]['data']\n          })\n          selectedConfidenceDict.push(tmpconfidenceDict)\n        }\n      }\n\n      const drawConfidence = () => {\n        var yAxis = {}\n        for (var i in classifiers) {\n          var name = classifiers[i];\n          var lowthreshold = 0;\n          yAxis[name] = d3.scaleBand() \n            .range([this.height, 0])\n            .domain(this.confidence);\n        }\n        const barCells =  svg.append(\"g\").selectAll(\"g\")\n          .data(classifiers)\n          .enter().append(\"g\")\n            .attr(\"transform\", function(d: string) { \n              return \"translate(\" + xAxis(d) + \",0)\"; }).selectAll(\"rect\")\n            .data(function(d: string) { return confidenceDict[d]; })\n            .enter()\n        // Draw the axis:\n        svg.selectAll(\"myAxis\")\n          .data(classifiers).enter()\n          .append(\"g\")\n          .style(\"font\", \"28px times\")\n          .style(\"text-anchor\", \"end\")\n          .style(\"dominant-baseline\",\"ideographic\")\n          .attr(\"transform\", function(d:string) { return \"translate(\" + (xAxis(d)) + \")\"; })\n          .each(function(d:string) { \n            d3.select(this).call(d3.axisLeft<d3.AxisDomain>(yAxis[d]).scale(yAxis[d])); \n          })\n\n        const barNames = ['right', 'middle', 'wrong'];\n        const barInstances1 = ['tp_interval', 'mp_interval', 'fp_interval'];\n        const barInstances2 = ['tn_interval', 'mn_interval', 'fn_interval'];\n        const colors = [this.rightColor, 'lightgrey', this.wrongColor]\n        barNames.forEach((name,index)=>{\n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-'+ name + '1')\n            .attr(\"transform\", (d: string)=> { \n              let count = 0\n              let shift = 0\n              while (count < index) {\n                shift += d[barInstances1[count]]\n                count += 1\n              }\n              return \"translate(\" + x(shift) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[barInstances1[index]]); } )\n            .attr(\"y\", function(d) { \n              return y(d[\"confidence\"]); })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()\n            })\n            .attr(\"fill\",colors[index])\n            .on('mouseenter', (d: string) => this.hover = ({type: name+'1', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d[\"classifier\"], name, 'first',d[\"confidence\"].toString()))\n            .on('contextmenu', (d: string) => this.select(d[\"classifier\"], name, 'second',d[\"confidence\"].toString()));\n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/6)\n            .attr('class', 'bar-'+ name + '1' + '-circle')\n            .attr(\"transform\", (d: string)=> { \n              let count = 0\n              let shift = 0\n              while (count < index) {\n                shift += d[barInstances1[count]]\n                count += 1\n              }\n              let y_shift = -y.bandwidth()/3 + index * (y.bandwidth()/3)\n              return \"translate(\" + x(shift) + \",\"+y_shift+\")\"; })\n            .attr(\"cx\",y.bandwidth()/6)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => {\n              return x(d[barInstances1[index]]) < y.bandwidth()/6 && (d[barInstances1[index]]) > 0? \"visible\":\"hidden\"})\n            .attr(\"fill\", colors[index])\n            .on('mouseenter', (d: string) => this.hover = ({type: name+'1',classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d[\"classifier\"], name, 'first',d[\"confidence\"].toString()))\n            .on('contextmenu', (d: string) => this.select(d[\"classifier\"], name, 'second',d[\"confidence\"].toString()));\n  \n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-'+ name + '2')\n            .attr(\"transform\", function(d: string) { \n              let count = 0\n              let shift = 0\n              while (count < 3) {\n                shift += d[barInstances1[count]]\n                count += 1\n              }\n              count = 0\n              while (count < index) {\n                shift += d[barInstances2[count]]\n                count += 1\n              }\n              return \"translate(\" + x(shift) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[barInstances2[index]]); } )\n            .attr(\"y\", function(d) { \n              return y(d[\"confidence\"]); })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()\n            })\n            .attr(\"fill\", colors[index])  \n            .on('mouseenter', (d: string) => this.hover = ({type:  name+'2', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d[\"classifier\"], name+'2', 'first',d[\"confidence\"].toString()))\n            .on('contextmenu', (d: string) => this.select(d[\"classifier\"], name+'2', 'second',d[\"confidence\"].toString()));\n          \n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/6)\n            .attr('class', 'bar-'+ name + '2' + '-circle')\n            .attr(\"transform\", function(d: string) { \n              let count = 0\n              let shift = 0\n              while (count < 3) {\n                shift += d[barInstances1[count]]\n                count += 1\n              }\n              count = 0\n              while (count < index) {\n                shift += d[barInstances2[count]]\n                count += 1\n              }\n              let y_shift = -y.bandwidth()/3 + index * (y.bandwidth()/3)\n              return \"translate(\" + x(shift) + \",\"+y_shift+\")\"; })\n            .attr(\"cx\",y.bandwidth()/6)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => {\n              return x(d[barInstances2[index]]) < y.bandwidth()/6 && (d[barInstances2[index]]) > 0? \"visible\":\"hidden\"})\n            .attr(\"fill\", colors[index])  \n            .on('mouseenter', (d: string) => this.hover = ({type: name+'2', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d[\"classifier\"], name+'2', 'first',d[\"confidence\"].toString()))\n            .on('contextmenu', (d: string) => this.select(d[\"classifier\"], name+'2','second',d[\"confidence\"].toString()));\n      \n        })\n\n         \n        const selections = () => {\n          const selectionBarWidth = y.bandwidth() / 4;\n          const selections = ['-selection-1', '-selection-2']\n          const selectionColors = [this.selection1Color, this.selection2Color]\n\n          barNames.forEach((name, index)=>{\n            selections.forEach((selection, selectIndex)=>{\n              barCells.append('rect')\n                .attr('class', 'bar-' + name + selection)\n                .attr(\"transform\", (d: string)=> { \n                  let count = 0\n                  let shift = 0\n                  while (count < index) {\n                    shift += d[barInstances1[count]]\n                    count += 1\n                  }\n                  return \"translate(\" + x(shift) + \",0)\"; })\n                .attr('y',function(d){\n                  return y(d[\"confidence\"])+0.5 * y.bandwidth()- selectionBarWidth * (1-selectIndex)\n                  })\n                .attr('height', selectionBarWidth)\n                .attr('fill', selectionColors[selectIndex])\n                .attr('stroke', 'black')\n                .attr('stroke-width', '1px')\n                .attr('pointer-events', 'none')\n               barCells.append(\"circle\")   \n                .attr('class', 'circle-' + name + selection)\n                .attr(\"transform\", (d: string)=> { \n                  let count = 0\n                  let shift = 0\n                  while (count < index) {\n                    shift += d[barInstances1[count]]\n                    count += 1\n                  }\n                  return \"translate(\" + x(shift) + \",0)\"; })\n                .attr('cy',function(d){\n                  return y(d[\"confidence\"])+0.5 * y.bandwidth()- selectionBarWidth * (1-selectIndex) + selectionBarWidth/2\n                  })\n                .attr(\"cx\",selectionBarWidth/2)\n                .attr('r', selectionBarWidth / 2)\n                .attr('fill', selectionColors[selectIndex])\n                .attr(\"visibility\",\"hidden\")\n\n              barCells.append('rect')\n                .attr('class', 'bar-'+ name + '2' + selection)\n                .attr(\"transform\", function(d: string) { \n                  let count = 0\n                  let shift = 0\n                  while (count < 3) {\n                    shift += d[barInstances1[count]]\n                    count += 1\n                  }\n                  count = 0\n                  while (count < index) {\n                    shift += d[barInstances2[count]]\n                    count += 1\n                  }\n                  return \"translate(\" + x(shift) + \",0)\"; })\n                .attr('y',(d)=>y(d[\"confidence\"])+  0.5 * y.bandwidth()- selectionBarWidth * (1-selectIndex)) \n                .attr('height', selectionBarWidth)\n                .attr('fill', selectionColors[selectIndex])\n                .attr('stroke', 'black')\n                .attr('stroke-width', '1px')\n                .attr('pointer-events', 'none')\n              barCells.append(\"circle\")   \n                .attr('class', 'circle-' + name + '2' + selection)\n                .attr(\"transform\", function(d: string) { \n                  let count = 0\n                  let shift = 0\n                  while (count < 3) {\n                    shift += d[barInstances1[count]]\n                    count += 1\n                  }\n                  count = 0\n                  while (count < index) {\n                    shift += d[barInstances2[count]]\n                    count += 1\n                  }\n                  return \"translate(\" + x(shift) + \",0)\"; })\n                .attr('cy',function(d){\n                  return y(d[\"confidence\"])+0.5 * y.bandwidth()- selectionBarWidth * (1-selectIndex) + selectionBarWidth/2\n                  })\n                .attr(\"cx\",selectionBarWidth/2)\n                .attr('r', selectionBarWidth / 2)\n                .attr('fill', selectionColors[selectIndex])\n                .attr(\"visibility\",\"hidden\")\n            })\n          })\n        };\n        selections();\n      };\n\n      const drawSelectedConfidence = () => {\n        var yAxis = {}\n\n        for (var i in classifiers) {\n          var name = classifiers[i];\n          var lowthreshold = 0;\n          yAxis[name] = d3.scaleBand() \n            .range([this.height, 0])\n            .domain(this.confidence);\n        }\n        \n        selectedConfidenceDict.forEach((confidenceDict)=>{\n          const barCells =  svg.append(\"g\").selectAll(\"g\")\n            .data(classifiers)\n            .enter().append(\"g\")\n              .attr(\"transform\", function(d: string) { \n                return \"translate(\" + xAxis(d) + \",0)\"; }).selectAll(\"rect\")\n              .data(function(d: string) { return confidenceDict[d]; })\n              .enter()\n            // draw bars\n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-right1')\n            .attr(\"width\", function(d) {\n              return x(d[\"tp_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3 \n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right1', selection: d['type'], classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n          // draw middel bars\n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-middle1')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (x(d[\"tp_interval\"])) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[\"mp_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3\n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle1', selection: d['type'],classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n       \n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-wrong1')\n            .attr('id',d=>'bar-wrong1-'+d['classifier']+'-'+d['confidence'])\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (x(d[\"tp_interval\"]+d[\"mp_interval\"])) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[\"tn_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3\n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong1', selection: d['type'],classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n          // draw fn\n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-right2')\n            .attr('id',d=>'bar-right2-'+d['classifier']+'-'+d['confidence'])\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (-x(d[\"fn_interval\"])) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[\"fn_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3 \n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")  \n            .on('mouseenter', (d: string) => this.hover = ({type: 'right2', selection: d['type'],classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n          \n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-middle2')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (-x(d[\"fn_interval\"])-x(d[\"mn_interval\"])) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[\"mn_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3\n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle2', selection: d['type'],classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n        \n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-wrong2')\n            .attr('id',d=>'bar-wrong2-'+d['classifier']+'-'+d['confidence'])\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (-x(d[\"fn_interval\"])-x(d[\"fp_interval\"])-x(d[\"mn_interval\"])) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[\"fp_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3 \n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong2', selection: d['type'],classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-right1-circle')\n            .attr(\"cx\",y.bandwidth()/6)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => x(d[\"tp_interval\"]) < y.bandwidth()/6 && x(d[\"tp_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", this.rightColor1)  \n            .on('mouseenter', (d: string) => this.hover = ({type: 'right1', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n\n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-middle1-circle')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (x(d[\"tp_interval\"])) + \",0)\"; })\n            .attr(\"cx\",y.bandwidth()/6)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => x(d[\"mp_interval\"]) < y.bandwidth()/6 && x(d[\"mp_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", \"lightgrey\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle1', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n          \n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-wrong1-circle')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (x(d[\"tp_interval\"]+d[\"mp_interval\"])) + \",0)\"; })\n            .attr(\"cx\",y.bandwidth()/6)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) =>x(d[\"tn_interval\"]) < y.bandwidth()/6 && x(d[\"tn_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", this.wrongColor)\n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong1', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n                      \n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-right2-circle')\n            .attr(\"cx\",-y.bandwidth()/24)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => x(d[\"fn_interval\"]) < y.bandwidth()/6 && x(d[\"fn_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", this.rightColor1)  \n            .on('mouseenter', (d: string) => this.hover = ({type: 'right2', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            \n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-middle2-circle')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (-x(d[\"fn_interval\"])-x(d[\"mn_interval\"])) + \",0)\"; })\n            .attr(\"cx\",-y.bandwidth()/24)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => x(d[\"mn_interval\"]) < y.bandwidth()/6 && x(d[\"mn_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", \"lightgrey\")  \n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle2', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n                    \n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-wrong2-circle')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (-x(d[\"fn_interval\"])-x(d[\"fp_interval\"])-x(d[\"mn_interval\"])) + \",0)\"; })\n            .attr(\"cx\",-y.bandwidth()/24)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => x(d[\"fp_interval\"]) < y.bandwidth()/6 && x(d[\"fp_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", this.wrongColor1)  \n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong2', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            \n          // Draw the axis:\n          svg.selectAll(\"myAxis\")\n            .data(classifiers).enter()\n            .append(\"g\")\n            .style(\"font\", \"28px times\")\n            .style(\"text-anchor\", \"end\")\n            .style(\"dominant-baseline\",\"ideographic\")\n            .attr(\"transform\", function(d:string) { return \"translate(\" + (xAxis(d)) + \")\"; })\n            .each(function(d:string) { \n              d3.select(this).call(d3.axisLeft<d3.AxisDomain>(yAxis[d]).scale(yAxis[d])); \n              })\n          \n        })\n      };\n\n      \n      if (this.selection_mode == 'overall') {\n        drawConfidence();\n        this.drawSelections();\n      } else {\n        drawSelectedConfidence();\n      }\n\n      function get_confidence_data() {\n        let confidenceData = []\n        let confidenceDict = {}\n        classifiers.forEach((c)=>{\n          let ci_tp = predictions[c].ci_tp;\n          let ci_tn = predictions[c].ci_tn;\n          let ci_fp = predictions[c].ci_fp;\n          let ci_fn = predictions[c].ci_fn;\n          let ci_mp = predictions[c].ci_mp;\n          let ci_mn = predictions[c].ci_mn;\n          let curConfidenceData = []\n          if (normalization == 'Yes') {\n            for (var i in confidence) {\n              let confidenceInstanceSizeOne = (ci_tp[i] + ci_fp[i] + ci_mp[i] + ci_tn[i] + ci_fn[i] + ci_mn[i]) / 1.5\n              let confidenceInstanceSizeTwo = (ci_tn[i] + ci_fn[i] + ci_mn[i] + ci_tp[i] + ci_fp[i] + ci_mp[i]) / 1.5\n              curConfidenceData.push({\"classifier\":c,\"confidence\":confidence[i], \n                      \"tp_interval\":confidenceInstanceSizeOne == 0? 0 : ci_tp[i] * maxIntervals / confidenceInstanceSizeOne, \n                      \"fp_interval\":confidenceInstanceSizeOne == 0? 0 : ci_fp[i] * maxIntervals / confidenceInstanceSizeOne,\n                      \"tn_interval\":confidenceInstanceSizeTwo == 0? 0 : ci_tn[i] * maxIntervals / confidenceInstanceSizeTwo, \n                      \"fn_interval\":confidenceInstanceSizeTwo == 0? 0 :ci_fn[i] * maxIntervals / confidenceInstanceSizeTwo,\n                      \"mp_interval\":confidenceInstanceSizeOne == 0? 0 :ci_mp[i] * maxIntervals / confidenceInstanceSizeOne, \n                      \"mn_interval\":confidenceInstanceSizeTwo == 0? 0 :ci_mn[i] * maxIntervals / confidenceInstanceSizeTwo, \n                      \"threshold\":predictions[c].threshold})\n            }\n          } else {\n            for (var i in confidence) {\n              curConfidenceData.push({\"classifier\":c,\"confidence\":confidence[i], \"tp_interval\":ci_tp[i], \"tn_interval\":ci_tn[i],\"fp_interval\":ci_fp[i], \"fn_interval\":ci_fn[i],\"mp_interval\":ci_mp[i], \"mn_interval\":ci_mn[i], \"threshold\":predictions[c].threshold})\n            }\n          }\n          \n          confidenceData.push({\"name\":c, \"data\":curConfidenceData,\"threshold\":predictions[c].threshold})\n          confidenceDict[c] = curConfidenceData\n        })\n        return confidenceData\n      };\n\n      function get_selected_confidence_data(select_type) {\n        // type == 1 --> left click\n        // type == 2 --> right click\n        const { first, second } = selections;\n        const selection = select_type == '1' ? first.instances : second.instances\n        let confidenceData = []\n        let confidenceDict = {}\n        let maxSelectionSize = 0\n        classifiers.forEach((c)=>{\n          confidence.forEach((i)=>{\n            let ci_tp = intersection(predictions[c][\"ci_tp_instances\"][i].instances, selection); \n            let ci_tn = intersection(predictions[c][\"ci_tn_instances\"][i].instances, selection);\n            let ci_fp = intersection(predictions[c][\"ci_fp_instances\"][i].instances, selection);\n            let ci_fn = intersection(predictions[c][\"ci_fn_instances\"][i].instances, selection);\n            let ci_mp = intersection(predictions[c][\"ci_mp_instances\"][i].instances, selection);\n            let ci_mn = intersection(predictions[c][\"ci_mn_instances\"][i].instances, selection);\n            maxSelectionSize = d3.max([ci_tp.size, ci_tn.size, ci_fp.size, ci_fn.size, ci_mp.size, ci_mn.size]) > maxSelectionSize ?  d3.max([ci_tp.size, ci_tn.size, ci_fp.size, ci_fn.size, ci_mp.size, ci_mn.size]) : maxSelectionSize;\n          })\n        })\n        classifiers.forEach((c)=>{\n          let curConfidenceData = []\n          confidence.forEach((i)=>{\n            let ci_tp = intersection(predictions[c][\"ci_tp_instances\"][i].instances, selection); \n            let ci_tn = intersection(predictions[c][\"ci_tn_instances\"][i].instances, selection);\n            let ci_fp = intersection(predictions[c][\"ci_fp_instances\"][i].instances, selection);\n            let ci_fn = intersection(predictions[c][\"ci_fn_instances\"][i].instances, selection);\n            let ci_mp = intersection(predictions[c][\"ci_mp_instances\"][i].instances, selection);\n            let ci_mn = intersection(predictions[c][\"ci_mn_instances\"][i].instances, selection);\n            curConfidenceData.push({\"classifier\":c,\"confidence\":i, \"type\":select_type, \"tp_interval\":ci_tp.size * maxIntervals / maxSelectionSize, \"tn_interval\":ci_tn.size * maxIntervals / maxSelectionSize,\"fp_interval\":ci_fp.size * maxIntervals / maxSelectionSize, \"fn_interval\":ci_fn.size * maxIntervals / maxSelectionSize,\"mp_interval\":ci_mp.size * maxIntervals / maxSelectionSize, \"mn_interval\":ci_mn.size * maxIntervals / maxSelectionSize, \"threshold\":predictions[c].threshold})\n          })\n          confidenceData.push({\"name\":c, \"data\":curConfidenceData,\"threshold\":predictions[c].threshold})\n        })\n        return confidenceData\n      };\n    },\n\n    drawDistributionLine() {\n      const chart = d3.select(this.$refs.svg);\n      const svg = chart.select(\".svg-confidence\");\n      svg.selectAll('*').remove();  \n\n      const x = this.x\n      const y = this.y    \n    \n      const classifiers = this.addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(classifiers);\n\n      const yThreshold = d3.scaleBand<string>()\n        .domain(this.confidence)\n        .range([this.height,0])\n\n\n      const drawAxis = () =>{\n        var yAxis = {}\n        for (var i in classifiers) {\n          var name = classifiers[i];\n          var lowthreshold = 0;\n          yAxis[name] = d3.scaleBand() \n            .range([this.height, 0])\n            .domain(this.confidence);\n        }\n        \n        // Draw the axis:\n        svg.selectAll(\"myAxis\")\n          .data(classifiers).enter()\n          .append(\"g\")\n          .style(\"font\", \"20px times\")\n          .style(\"text-anchor\", \"end\")\n          .style(\"dominant-baseline\",\"ideographic\")\n          .attr(\"transform\", function(d:string) { return \"translate(\" + (xAxis(d)) + \")\"; })\n          .each(function(d:string) { \n            d3.select(this).call(d3.axisLeft<d3.AxisDomain>(yAxis[d]).scale(yAxis[d])); \n          })\n      };\n\n      const drawLine = () =>{\n        let confidence = this.confidence;\n        let predictions = this.predictions;\n        function line(d) {\n              return d3.line()(confidence.map(function(p,j) { \n                return [3 + xAxis(d) + x((predictions[d]['ci_tp'][j]+predictions[d]['ci_tn'][j])), yThreshold.bandwidth() / 2 +  yThreshold(p)]; \n              }));\n        }\n\n        classifiers.forEach((d)=>{\n            svg.append(\"path\")\n              .attr('class', 'line-threshold')\n              .attr(\"d\",  line(d))\n              .style(\"fill\", \"none\")\n              .attr(\"stroke\", 'steelblue')\n              .style(\"stroke-width\", 3)\n              .style(\"opacity\", 1)   \n        })\n      };\n\n      const drawLegends = () =>{\n        const legend = svg\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', \n             `translate(\n              ${this.width },\n              ${this.height*4})`\n            \n            );\n\n          svg.append('rect')\n            .attr('transform', `translate(${this.width - 60}, ${- this.margin.top * 2})`)\n            .attr('width', 120)\n            .attr('height', 2)\n            .attr('fill', 'steelblue')    \n          \n            \n          svg.append('text')\n            .attr('transform', `translate(${this.width - 120}, ${- this.margin.top * 2})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"correctness\") \n      };\n\n      drawAxis();\n      drawLine();\n      drawLegends();\n      \n    \n\n      \n\n      \n    },\n\n    drawOriginalDistribution() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr(\"class\",\"svg-all\")\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top * 2 + this.margin.bottom}`)\n        .append('g')\n          .attr(\"class\",\"svg-confidence\")\n          .attr('transform', `translate(${this.margin.left/4}, ${this.margin.bottom})`);\n      const x = this.x\n      const y = this.y    \n      \n      const classifiers = this.classifiers\n\n      const xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(this.classifiers);\n      \n      var yAxis = {}\n      for (var i in classifiers) {\n          var name = classifiers[i];\n          var lowthreshold = 0;\n          yAxis[name] = d3.scaleBand() \n            .range([this.height, 0])\n            .domain(this.confidence);\n      }\n\n      const width = this.width;\n      const height = this.height\n      const maxIntervals = this.maxIntervals\n\n      let confidenceData = []\n      let confidenceDict = {}\n      this.classifiers.forEach((c)=>{\n        let ci_pred = this.predictions[c].ci_pred;\n        let curConfidenceData = []\n        for (var i in this.confidence) {\n          if (this.normalization == 'Yes') {\n            curConfidenceData.push({\"classifier\":c,\"confidence\":this.confidence[i], \"pred_interval\":ci_pred[i] == 0? 0 : maxIntervals, \"threshold\":this.predictions[c].threshold})\n          } else {\n            curConfidenceData.push({\"classifier\":c,\"confidence\":this.confidence[i], \"pred_interval\":ci_pred[i],\"threshold\":this.predictions[c].threshold})\n          }\n        }\n        confidenceData.push({\"name\":c, \"data\":curConfidenceData,\"threshold\":this.predictions[c].threshold})\n        confidenceDict[c] = curConfidenceData\n      })\n\n      const barCells =  svg.append(\"g\").selectAll(\"g\")\n          .data(classifiers)\n          .enter().append(\"g\")\n            .attr(\"transform\", function(d: string) { \n              return \"translate(\" + xAxis(d) + \",0)\"; })\n          .selectAll(\"rect\")\n            .data((d:string)=> { \n            return confidenceDict[d]; })\n            .enter()\n      \n      const drawDistributionAxis = () => {\n        svg.selectAll(\"myAxis\")\n          .data(classifiers).enter()\n          .append(\"g\")\n          .style(\"font\", \"28px times\")\n          .style(\"text-anchor\", \"end\")\n          .style(\"dominant-baseline\",\"ideographic\")\n          .attr(\"transform\", function(d:string) { return \"translate(\" + (xAxis(d)) + \")\"; })\n          .each(function(d:string) { \n            d3.select(this).call(d3.axisLeft<d3.AxisDomain>(yAxis[d]).scale(yAxis[d])); \n          });\n      };\n      \n      const drawTitles = () => {\n        let classifiers = this.classifiers\n        svg.selectAll(\"myText\")\n          .data(classifiers)\n          .enter().append(\"text\")\n              .style(\"text-anchor\", \"middle\")\n              .attr(\"transform\", function(d: string) { \n              return \"translate(\" + xAxis(d) + \",\"+(height+25)+\")\"; })\n              .text((d:string)=>{\n                return d})\n              .style(\"fill\", \"black\")\n              .style(\"font-size\", \"30px\");\n      };\n      \n      const drawLegend = () => {\n        const width = this.width / 8;\n        const height = this.margin.top / 1.5;\n\n        const legend = svg\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.width},\n              ${-height*4})`);\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height*2)\n          .attr('fill', this.rightColor);\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(\"prediction\");  \n         \n      };\n\n      const drawDistributionBar = () => {\n        barCells\n          .append(\"rect\")\n          .attr('class', 'bar-original')\n          .attr(\"width\", function(d) {\n             return x(d[\"pred_interval\"]); } )\n          .attr(\"y\", function(d) { \n            return y(d[\"confidence\"]); })\n          .attr(\"height\", function(d) {\n            return y.bandwidth()\n          })\n          .attr(\"fill\",this.rightColor)\n          .on('mouseenter', (d: string) => this.hover_distribution = ({type: 'dist', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n          .on('mouseleave', this.clearDistributionHover)\n          .on('click', (d: string) => this.select(d[\"classifier\"], 'dist', 'first',d[\"confidence\"].toString()))\n          .on('contextmenu', (d: string) => this.select(d[\"classifier\"], 'dist', 'second',d[\"confidence\"].toString()));\n        \n        barCells\n          .append(\"circle\")   \n          .attr('class', 'circle-original')\n          .attr('cy', function(d) { \n            return y(d[\"confidence\"]) + y.bandwidth()/2; })\n          .attr('cx', y.bandwidth()/6)\n          .attr('r',y.bandwidth()/6)\n          .style('fill', this.rightColor)\n          .attr(\"visibility\",function(d) {\n             return x(d[\"pred_interval\"]) < y.bandwidth() / 3 && d[\"pred_interval\"] > 0 ? \"visible\" : \"hidden\"; } )\n            \n\n        const selections = () => {\n          const selectionBarWidth = y.bandwidth() / 4;\n          const selectionColors  = [this.selection1Color, this.selection2Color];\n\n          selectionColors.forEach((color, index)=>{\n            barCells.append('rect')\n              .attr('class', 'bar-original-selection-' + (index+1))\n              .attr('y',function(d){\n                return y(d[\"confidence\"]) + 0.5 * y.bandwidth() - selectionBarWidth + selectionBarWidth * index\n                })\n              .attr('height', selectionBarWidth)\n              .attr('fill', color)\n              .attr('stroke', 'black')\n              .attr('stroke-width', '1px')\n              .attr('pointer-events', 'none')\n            \n            barCells.append(\"circle\")   \n              .attr('class', 'circle-pred-selection-' + (index+1))\n              .attr('cy', function(d){\n                return y(d[\"confidence\"]) + 0.5 * y.bandwidth()- selectionBarWidth/2 + selectionBarWidth * index \n                })\n              .attr(\"cx\",selectionBarWidth/2)\n              .attr('r', selectionBarWidth / 2)\n              .style('fill', color)\n              .attr(\"visibility\",\"hidden\")\n          })\n        };\n        selections();    \n      };\n\n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-dist')\n          .attr('x1', x(0))\n          .attr('y1',0)\n          .attr('x2', x(0))\n          .attr('y2', this.height*1.2)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append(\"rect\")\n          .attr('class', 'y-axis-marker-rect-dist')\n          .attr(\"width\",120)\n          .attr(\"height\",60)\n          .attr(\"fill\",\"white\")\n          .attr(\"stroke\",\"grey\")\n          .attr(\"y\",-60)\n          .attr('opacity', 0);\n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-pred')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-pred-s1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', 'steelblue')\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-pred-s2')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', 'red')\n          .attr('pointer-events', 'hanging');\n      };\n\n      drawLegend();\n      drawTitles();\n      drawDistributionAxis();\n      drawDistributionBar();\n      yAxisMarkerLine();\n      yAxisMarkerText();\n      this.drawDistSelections();\n      this.drawDistributionHover();\n    },\n\n    drawDistSelections() {\n      const chart = d3.select(this.$refs.svg);\n      const y = this.y\n      const selectionBarWidth = y.bandwidth() / 4;\n      const barPredSelection1 = chart.selectAll('.bar-original-selection-1');\n      const barPredSelection2 = chart.selectAll('.bar-original-selection-2');\n      const circlePredSelection1 = chart.selectAll('.circle-pred-selection-1');\n      const circlePredSelection2 = chart.selectAll('.circle-pred-selection-2');\n      const yAxisMarkerTextRect_s1 = chart.selectAll('.y-axis-marker-text-pred-s1');\n      const yAxisMarkerTextRect_s2 = chart.selectAll('.y-axis-marker-text-pred-s2');\n      const formatDecimal = d3.format(\".1f\")\n      const maxIntervals = this.maxIntervals\n      const normalization = this.normalization\n      const x = this.x;\n\n      const { first, second } = this.selections;\n\n      \n      const rightHeight = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = new Set([...this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                  ]);\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = normalization !='Yes'? overlappingInstances.size : instances.size == 0? 0 : overlappingInstances.size * maxIntervals / instances.size;  /// totalInstances;\n        return this.x(fractionOfTotalInstances);\n      };\n\n\n      const rightOverLap = (classifierName:string,confidence:string, selection: Set<string>,type) => {\n        const instances = new Set([...this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                  ]);\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = normalization !='Yes'? overlappingInstances.size : instances.size == 0? 0 : overlappingInstances.size * maxIntervals / instances.size /// totalInstances;\n        return fractionOfTotalInstances;\n      };\n\n\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(this.classifiers);\n\n      if (!first) {\n        barPredSelection1.attr('width', '0');\n        circlePredSelection1.attr(\"visibility\",\"hidden\");\n      } else {\n        if (this.hover_distribution.type) {\n          yAxisMarkerTextRect_s1\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"steelblue\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover_distribution.classifier)) + \",-40)\" )\n              .text(\"1st: \"+rightOverLap(this.hover_distribution.classifier,this.hover_distribution.interval, first.instances, 1));\n        }\n           \n        barPredSelection1\n          .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1));\n        circlePredSelection1\n          .attr(\"visibility\",(d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1) \n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1)  <= 0? \"hidden\" :\"visible\")\n        }\n\n                  \n\n      if (!second) {\n        barPredSelection2.attr('width', '0');\n        circlePredSelection2.attr(\"visibility\",\"hidden\");\n      } else {\n        if (this.hover_distribution.type) {\n          yAxisMarkerTextRect_s2\n                .attr('fill-opacity', 1)\n                .attr(\"fill\",\"red\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover_distribution.classifier)) + \",-25)\" )\n                .text(\"2nd: \"+rightOverLap(this.hover_distribution.classifier,this.hover_distribution.interval, second.instances, 1));\n          }\n          \n        barPredSelection2\n          .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1));\n        circlePredSelection2\n          .attr(\"visibility\",(d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1) \n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1)  <= 0? \"hidden\" :\"visible\")\n      }\n    },\n\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const y = this.y\n      const selectionBarWidth = y.bandwidth() / 4;\n      const barRightSelection1 = chart.selectAll('.bar-right-selection-1');\n      const barRightSelection2 = chart.selectAll('.bar-right-selection-2');\n      const barWrongSelection1 = chart.selectAll('.bar-wrong-selection-1');\n      const barWrongSelection2 = chart.selectAll('.bar-wrong-selection-2');\n      const barMiddleSelection1 = chart.selectAll('.bar-middle-selection-1');\n      const barMiddleSelection2 = chart.selectAll('.bar-middle-selection-2');\n\n      const barRight2Selection1 = chart.selectAll('.bar-right2-selection-1');\n      const barRight2Selection2 = chart.selectAll('.bar-right2-selection-2');\n      const barWrong2Selection1 = chart.selectAll('.bar-wrong2-selection-1');\n      const barWrong2Selection2 = chart.selectAll('.bar-wrong2-selection-2');\n      const barMiddle2Selection1 = chart.selectAll('.bar-middle2-selection-1');\n      const barMiddle2Selection2 = chart.selectAll('.bar-middle2-selection-2');\n\n      const circleRightSelection1 = chart.selectAll('.circle-right-selection-1');\n      const circleRightSelection2 = chart.selectAll('.circle-right-selection-2');\n      const circleWrongSelection1 = chart.selectAll('.circle-wrong-selection-1');\n      const circleWrongSelection2 = chart.selectAll('.circle-wrong-selection-2');\n      const circleMiddleSelection1 = chart.selectAll('.circle-middle-selection-1');\n      const circleMiddleSelection2 = chart.selectAll('.circle-middle-selection-2');\n\n      const circleRight2Selection1 = chart.selectAll('.circle-right2-selection-1');\n      const circleRight2Selection2 = chart.selectAll('.circle-right2-selection-2');\n      const circleWrong2Selection1 = chart.selectAll('.circle-wrong2-selection-1');\n      const circleWrong2Selection2 = chart.selectAll('.circle-wrong2-selection-2');\n      const circleMiddle2Selection1 = chart.selectAll('.circle-middle2-selection-1');\n      const circleMiddle2Selection2 = chart.selectAll('.circle-middle2-selection-2');\n\n      const yAxisMarkerTextRight_s1 = chart.select('.y-axis-marker-text-right1-s1');\n      const yAxisMarkerTextWrong_s1 = chart.select('.y-axis-marker-text-wrong1-s1');\n      const yAxisMarkerTextMiddle_s1 = chart.select('.y-axis-marker-text-middle1-s1');\n      const yAxisMarkerTextRight_s2 = chart.select('.y-axis-marker-text-right1-s2');\n      const yAxisMarkerTextWrong_s2 = chart.select('.y-axis-marker-text-wrong1-s2');\n      const yAxisMarkerTextMiddle_s2 = chart.select('.y-axis-marker-text-middle1-s2');\n      const hoverRect = chart.select(\".y-axis-marker-rect\")\n\n\n      const formatDecimal = d3.format(\".1f\")\n      const x = this.x;\n\n      const { first, second } = this.selections;\n      const rightYOffset = (classifierName:string,confidence:string, selection: Set<string>,type) => {\n        const instances = type==1? this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  :this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);\n\n        return this.x(fractionOfTotalInstances);\n      };\n      const rightHeight = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        return rightYOffset(classifierName,confidence, selection,type);\n      };\n\n      const wrongHeight = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);\n                                      \n        return  this.x(fractionOfTotalInstances);\n      };\n\n      const middleHeight = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size+ this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);\n\n        return  this.x(fractionOfTotalInstances);\n      };\n\n      const rightOverLap = (classifierName:string,confidence:string, selection: Set<string>,type) => {\n        const instances = type==1? this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  :this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);\n        return fractionOfTotalInstances;\n      };\n\n      const wrongOverLap = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);;\n        return fractionOfTotalInstances;\n      };\n\n      const middleOverLap = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);\n        return  fractionOfTotalInstances;\n      };\n\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(this.classifiers);\n      \n      if (!first) {\n        barRightSelection1.attr('width', '0');\n        barWrongSelection1.attr('width', '0');\n        barMiddleSelection1.attr('width', '0');\n\n        barRight2Selection1.attr('width', '0');\n        barWrong2Selection1.attr('width', '0');\n        barMiddle2Selection1.attr('width', '0');\n\n        circleRightSelection1.attr(\"visibility\",\"hidden\");\n        circleWrongSelection1.attr(\"visibility\",\"hidden\");\n        circleMiddleSelection1.attr(\"visibility\",\"hidden\");\n\n        circleRight2Selection1.attr(\"visibility\",\"hidden\");\n        circleWrong2Selection1.attr(\"visibility\",\"hidden\");\n        circleMiddle2Selection1.attr(\"visibility\",\"hidden\");\n      } else {\n        if (this.hover.type == \"right1\" || this.hover.type == \"wrong1\" || this.hover.type == \"middle1\") {\n          yAxisMarkerTextRight_s1\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"steelblue\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-60)\" )\n              .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : '' +rightOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n\n          yAxisMarkerTextMiddle_s1\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"steelblue\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-40)\" )\n                .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : ''+middleOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n    \n          yAxisMarkerTextWrong_s1\n                .attr(\"fill\",\"steelblue\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-20)\" )\n                .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : ''+wrongOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n        } else if (this.hover.type == \"right2\" || this.hover.type == \"wrong2\" || this.hover.type == \"middle2\"){\n          yAxisMarkerTextRight_s1\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"steelblue\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-60)\" )\n              .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : ''+rightOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n\n          yAxisMarkerTextMiddle_s1\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"steelblue\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-40)\" )\n                .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : ''+middleOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n    \n          yAxisMarkerTextWrong_s1\n                .attr(\"fill\",\"steelblue\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-20)\" )\n                .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : ''+wrongOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n        }\n        \n\n        barRightSelection1\n          .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1));\n        barWrongSelection1\n          .attr('width', (d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1));\n        barMiddleSelection1\n          .attr('width', (d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1));\n\n        barRight2Selection1\n          // .attr(\"x\",(d: string) => -rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances,2))\n          .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances,2));\n        barWrong2Selection1\n          // .attr('x', (d: string) => -wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2))\n          .attr('width', (d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2));\n        barMiddle2Selection1\n          // .attr('x', (d: string) => -middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2))\n          .attr('width', (d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2));\n\n        circleRightSelection1\n          .attr(\"visibility\",(d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1) \n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1)  <= 0? \"hidden\" :\"visible\")\n        circleWrongSelection1\n          .attr(\"visibility\",(d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1)\n            > selectionBarWidth * 2\n            || wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1) <= 0? \"hidden\" :\"visible\")\n        circleMiddleSelection1\n          .attr(\"visibility\",(d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1)\n            > selectionBarWidth * 2\n            || middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1) <= 0? \"hidden\" :\"visible\")\n\n        circleRight2Selection1\n          .attr(\"visibility\",(d: string) =>  rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances,2)\n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances,2) <= 0? \"hidden\" :\"visible\")\n        circleWrong2Selection1\n          .attr(\"visibility\",(d: string) =>  wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2)\n            > selectionBarWidth * 2\n            || wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2) <= 0? \"hidden\" :\"visible\")\n        circleMiddle2Selection1\n          .attr(\"visibility\",(d: string) =>  middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2)\n            > selectionBarWidth * 2\n            || middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2) <= 0? \"hidden\" :\"visible\")\n\n        }\n\n                  \n\n      if (!second) {\n        barRightSelection2.attr('width', '0');\n        barWrongSelection2.attr('width', '0');\n        barMiddleSelection2.attr('width', '0');\n\n        barRight2Selection2.attr('width', '0');\n        barWrong2Selection2.attr('width', '0');\n        barMiddle2Selection2.attr('width', '0');\n\n        circleRightSelection2.attr(\"visibility\",\"hidden\");\n        circleWrongSelection2.attr(\"visibility\",\"hidden\");\n        circleMiddleSelection2.attr(\"visibility\",\"hidden\");\n\n        circleRight2Selection2.attr(\"visibility\",\"hidden\");\n        circleWrong2Selection2.attr(\"visibility\",\"hidden\");\n        circleMiddle2Selection2.attr(\"visibility\",\"hidden\");\n      } else {\n        if (this.hover.type == \"right1\" || this.hover.type == \"wrong1\" || this.hover.type == \"middle1\"){\n          yAxisMarkerTextRight_s2\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"red\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-60)\" )\n              .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+rightOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n\n          yAxisMarkerTextMiddle_s2\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"red\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-40)\" )\n                .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+middleOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n    \n          yAxisMarkerTextWrong_s2\n                .attr(\"fill\",\"red\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-20)\" )\n                .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+wrongOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n        } else if (this.hover.type == \"right2\" || this.hover.type == \"wrong2\" || this.hover.type == \"middle2\"){\n          yAxisMarkerTextRight_s2\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"red\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-60)\" )\n              .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+rightOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n\n          yAxisMarkerTextMiddle_s2\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"red\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-40)\" )\n                .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+middleOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n    \n          yAxisMarkerTextWrong_s2\n                .attr(\"fill\",\"red\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-20)\" )\n                .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+wrongOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n        }\n        barRightSelection2\n        .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,1));\n        barWrongSelection2\n          .attr('width', (d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"],second.instances,1));\n        barMiddleSelection2\n          .attr('width', (d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1));\n\n\n        barRight2Selection2\n          // .attr('x', (d: string) => -rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,2))\n          .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,2));\n        barWrong2Selection2\n          // .attr('x', (d: string) => -wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2))\n          .attr('width', (d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2));\n        barMiddle2Selection2\n          // .attr('x', (d: string) => -middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2))\n          .attr('width', (d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2));\n\n\n        circleRightSelection2\n          .attr(\"visibility\",(d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,1)\n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,1) <= 0 ? \"hidden\" :\"visible\")\n        circleWrongSelection2\n          .attr(\"visibility\",(d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1)\n            > selectionBarWidth * 2 \n            ||  wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1) <= 0? \"hidden\" :\"visible\")\n        circleMiddleSelection2\n          .attr(\"visibility\",(d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1)\n            > selectionBarWidth * 2 \n            || middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1) <= 0? \"hidden\" :\"visible\")\n\n        \n        circleRight2Selection2\n          .attr(\"visibility\",(d: string) =>  rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,2)\n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,2) <= 0 ? \"hidden\" :\"visible\")\n          // .attr(\"x\",(d: string) => -rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances,2))\n        circleWrong2Selection2\n          .attr(\"visibility\",(d: string) =>  wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2)\n            > selectionBarWidth * 2 \n            || wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2) <= 0? \"hidden\" :\"visible\")\n        circleMiddle2Selection2\n          .attr(\"visibility\",(d: string) =>  middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2)\n            > selectionBarWidth * 2 \n            || middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2) <= 0? \"hidden\" :\"visible\")\n\n      }\n    },\n    select(\n      classifier: string,\n      type: 'right' | 'wrong' | 'right2' | 'wrong2'| 'middle' | 'middle2' | 'dist',\n      whichOverlap: 'first' | 'second',\n      interval:string,\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n      constraint.negation = (type === 'wrong');\n\n      let instances = new Set();\n      if (type != 'dist') {\n        const curType = type==\"right\"? \"ci_tp_instances\"\n                        :type==\"right2\"?\"ci_tn_instances\"\n                        :type==\"wrong\"?\"ci_fp_instances\"\n                        :type==\"wrong2\"? \"ci_fn_instances\"\n                        :type==\"middle\"? \"ci_mp_instances\"\n                        :\"ci_mn_instances\"\n        instances = this.predictions[classifier][curType][interval].instances//this.predictions[classifier][curType];\n      } else {\n        instances = new Set([...this.predictions[classifier][\"ci_tp_instances\"][interval].instances\n                                  , ...this.predictions[classifier][\"ci_fn_instances\"][interval].instances\n                                  , ...this.predictions[classifier][\"ci_tn_instances\"][interval].instances\n                                  , ...this.predictions[classifier][\"ci_fp_instances\"][interval].instances\n                                  , ...this.predictions[classifier][\"ci_mn_instances\"][interval].instances\n                                  , ...this.predictions[classifier][\"ci_mp_instances\"][interval].instances\n                                  ]);\n      }\n                  \n      const interval_index = this.confidenceIndex[interval]\n      const lower_confi = parseFloat(interval) - 0.05 < 0 ? 0 : parseFloat(interval) - 0.05;\n      const upper_confi = parseFloat(interval) + 0.05 > 1 ? 1 : parseFloat(interval) + 0.05;\n      const description = `Instances which ${classifier} got ${type} with scores between ${lower_confi.toFixed(2)} and  ${upper_confi.toFixed(2)}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierConfidence.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierConfidence.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OverallClassifierConfidence.vue?vue&type=template&id=202c3122&scoped=true&\"\nimport script from \"./OverallClassifierConfidence.vue?vue&type=script&lang=ts&\"\nexport * from \"./OverallClassifierConfidence.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OverallClassifierConfidence.vue?vue&type=style&index=0&id=202c3122&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"202c3122\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Reliability Curve\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Selection Mode\"},model:{value:(_vm.selection_mode),callback:function ($$v) {_vm.selection_mode=$$v},expression:\"selection_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall curve \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"selection curve\",\"value\":\"selected\"}})],1)],1)])],1)],1),_c('div',{attrs:{\"id\":\"legend1\"}},[_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { select } from 'd3';\n\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\n\nexport default Vue.extend({\n  name: 'Reliability_Curve',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = 'descending' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const hover = {\n      classifier: '',\n    };\n    const click = {\n      classifier: '',\n      threshold: ''\n    };  \n    const selection_mode = 'overall' as 'overall' | 'selected'\n\n    return {\n      svg: '',\n      confidenceClassifierDict: {},\n      value: [],\n      selection_mode,\n      accuracySorting,\n      height,\n      hover,\n      click,\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#b8ddf2',\n      width,\n      selectedEval:'',\n      wrongColor: '#f7c8aa',\n      rightColor1: '#9bcae4',\n      wrongColor1: '#ffbb99',\n      rightHoverColor1: '#4ba0ce',\n      wrongHoverColor1: '#ff884d',\n      rightHoverColor: '#4393c3',\n      wrongHoverColor: '#d6604d',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n    };\n  },\n  computed: {\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    options(): any[] {\n      let options = []\n      const classifiers = this.classifiers\n      classifiers.forEach((c)=>{\n        options.push({name: c});\n      })\n      return options\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThresholdDict;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    confidence(): string[] {\n      return [\"0\",\"0.1\",\"0.2\",\"0.3\",\"0.4\",\"0.5\",\"0.6\",\"0.7\",\"0.8\",\"0.9\",\"1.0\"]\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    confidenceIndex() : {} {\n      let confidenceIndex  = {}\n      for (let i in this.confidence) {\n        confidenceIndex[this.confidence[i]] = parseInt(i)\n      }\n      return confidenceIndex\n    },\n    metrics(): MetricsWithClassifier[] {\n      const storeMetrics: {\n        [classifier: string]: Metrics,\n      } = this.$store.getters.metrics;\n\n      const metrics: MetricsWithClassifier[] = Object.entries(storeMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          metrics: m,\n        };\n      });\n      return metrics;\n    },\n    predictions(): {\n      [classifier: string]: {\n        name: String,\n        threshold: Number,\n        acc: Number,\n        ci_tp: Number[],\n        ci_fn: Number[],\n        ci_tn: Number[],\n        ci_fp: Number[],\n        ci_tp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_fn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_tn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n        continuous_pred: Number[]\n      },\n    }{\n      const predictions: {\n        [classifier: string]: {\n          name: String,\n          threshold: Number,\n          acc: Number,\n          ci_tp: Number[],\n          ci_fn: Number[],\n          ci_tn: Number[],\n          ci_fp: Number[],\n          ci_tp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_tn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          continuous_pred: Number[]\n        },\n      } = {};\n\n\n      var allIntervals = [];\n      this.classifiers.forEach((c) => {\n        let cur_acc = 0\n        predictions[c] = {\n          name:c,\n          threshold: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] : 0,\n          acc: 0,\n          ci_tp: [],\n          ci_fn: [],\n          ci_tn: [],\n          ci_fp: [],\n          ci_tp_instances: {},\n          ci_fp_instances: {},\n          ci_tn_instances: {},\n          ci_fn_instances: {},\n          continuous_pred: []\n        };\n        this.confidence.forEach((conf)=>{\n          predictions[c][\"ci_tp_instances\"][conf] = {\n            instances: new Set(),\n          }\n          predictions[c][\"ci_tn_instances\"][conf] = {\n            instances: new Set(),\n          }\n          predictions[c][\"ci_fp_instances\"][conf] = {\n            instances: new Set(),\n          }\n          predictions[c][\"ci_fn_instances\"][conf] = {\n            instances: new Set(),\n          }\n        })\n        this.instances.forEach((id)=>{\n          let continuous_value = (instanceById(id).continuous_predictions[c])\n          let correct = instanceById(id).actual == instanceById(id).predictions[c]? 1 : 0;\n          predictions[c].continuous_pred.push(parseFloat(continuous_value))\n          let interval = (continuous_value.split(\".\")[1].substring(0,1)/10).toString()\n          if ((continuous_value.split(\".\")[0]=='1')) {\n            interval = \"1.0\"\n          }\n          let interval_index = this.confidenceIndex[interval]\n          if (interval_index > 0 && interval_index < this.confidence.length) {\n            let latter_index = interval_index + 1\n            let latter_confi = parseFloat(this.confidence[latter_index])\n            if (Math.abs(latter_confi - parseFloat (continuous_value)) < Math.abs(parseFloat (continuous_value) - parseFloat(interval))) {\n              interval = this.confidence[latter_index]\n            }\n          }  \n\n          if (correct == 1){\n            if (instanceById(id).actual == this.classes[1]){\n              predictions[c][\"ci_tp_instances\"][interval].instances.add(id)\n            } else {\n              predictions[c][\"ci_tn_instances\"][interval].instances.add(id)\n            }\n          }\n            \n          else{\n            if (instanceById(id).actual == this.classes[1]) {\n              predictions[c][\"ci_fp_instances\"][interval].instances.add(id)\n            } else {\n              predictions[c][\"ci_fn_instances\"][interval].instances.add(id)\n            }\n          }\n            \n        })\n        this.confidence.forEach((conf)=>{\n          predictions[c][\"ci_tp\"].push(predictions[c][\"ci_tp_instances\"][conf].instances.size)\n          predictions[c][\"ci_tn\"].push(predictions[c][\"ci_tn_instances\"][conf].instances.size)\n          predictions[c][\"ci_fp\"].push(predictions[c][\"ci_fp_instances\"][conf].instances.size)\n          predictions[c][\"ci_fn\"].push(predictions[c][\"ci_fn_instances\"][conf].instances.size)\n          allIntervals.push(predictions[c][\"ci_tn_instances\"][conf].instances.size + predictions[c][\"ci_tp_instances\"][conf].instances.size + predictions[c][\"ci_fn_instances\"][conf].instances.size + predictions[c][\"ci_fp_instances\"][conf].instances.size)\n        })\n      });\n      this.x.domain([0,d3.max(allIntervals)*2])\n      return predictions;\n    },\n    confidenceDict(): {} {\n      let confidenceData = []\n      let confidenceDict = {}\n      this.classifiers.forEach((c)=>{\n        let ci_tp = this.predictions[c].ci_tp;\n        let ci_tn = this.predictions[c].ci_tn;\n        let ci_fp = this.predictions[c].ci_fp;\n        let ci_fn = this.predictions[c].ci_fn;\n        let curConfidenceData = []\n        for (var i in this.confidence) {\n          curConfidenceData.push({\"classifier\":c,\"confidence\":this.confidence[i], \"tp_interval\":ci_tp[i], \"tn_interval\":ci_tn[i], \"fp_interval\":ci_fp[i], \"fn_interval\":ci_fn[i]})\n        }\n        confidenceData.push({\"name\":c, \"data\":curConfidenceData,\"threshold\":this.predictions[c].threshold})\n        confidenceDict[c] = curConfidenceData\n      })\n      return confidenceDict;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusDotEmphasis(): String{return  this.$store.state.focusDotEmphasis},\n    x(): d3.ScaleLinear<number, number> {\n      const x = d3.scaleLinear()\n        .range([0, this.width / this.classifiers.length])\n        .domain([0,100])\n      return x;    \n    },\n    xRight(): d3.ScaleLinear<number, number> {\n      const x = d3.scaleLinear()\n        .range([0, this.width / this.classifiers.length])\n        .domain([0,1])\n      return x;    \n    },\n    y(): d3.ScaleBand<string> {\n      const y = d3.scaleBand<string>()\n        .range([this.height, 0])\n        .padding(0.1).domain(this.confidence);\n      return y;\n    },\n    outSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: { \n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Reliability_Curve') {\n          if (view.config) {\n            let value  = view.config;\n            this.value = []\n            value.classifiers.forEach((c)=>{\n              if (this.classifiers.includes(c)) {\n                this.value.push({'name':c})\n              }\n            })\n            this.selection_mode = value.selection\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Reliability_Curve\", \n                    \"config\": {\n                      \"classifiers\":this.value.map((c)=>c.name),\n                      \"selection\":this.selection_mode}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    click() {\n      this.updateThreshold();\n    },\n    selections() {\n      this.drawInitial();\n    },\n    value() {\n      this.drawInitial();\n    },\n    selection_mode() {\n      this.drawInitial();\n    },\n    outSelections() {\n      if (this.selection_mode != 'overall') {\n        this.drawInitial();\n      }\n    },\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Reliability_Curve') {\n        if (view.config) {\n          let value  = view.config;\n          this.value = []\n          value.classifiers.forEach((c)=>{\n            if (this.classifiers.includes(c)) {\n              this.value.push({'name':c})\n            }\n          })\n          this.selection_mode = value.selection\n        }\n      }\n    })\n    this.drawInitial();\n  },\n  methods: {\n    updateThreshold() {\n      const classifier = this.click.classifier;\n      const value = parseFloat(this.click.threshold).toFixed(2);\n      let changedClassifier = {\"classifier\":classifier, \"single_threshold\": parseFloat(value) * 100};\n      this.$store.dispatch(\"changedCurveChosenClassifierThresholdTuple\",changedClassifier)\n    },\n    clearHover() {\n      this.hover = ({ classifier: ''});\n    },\n    drawHover() {\n      const name = this.hover.classifier;\n      let classifiers = ['standard']\n      this.classifiers.forEach((c)=> {\n        classifiers.push(c)\n      });\n      const {first, second} = this.outSelections\n      if (this.selection_mode == 'overall') {\n        if (this.hover.classifier != '') {\n          d3.select(\".legend_circle_\"+name).attr(\"r\",8)\n          d3.select(\".legend_text_\"+name).style(\"font-size\", \"20px\")\n          classifiers.forEach((c)=>{\n            if (c != name) {\n              d3.selectAll(\".line_\"+c).style(\"opacity\",0.2)\n              d3.selectAll(\".dot_\"+c).style(\"opacity\",0.2)\n            }\n          })\n        } else {\n          classifiers.forEach((c)=>{\n            d3.selectAll(\".line_\"+c).style(\"opacity\",1)\n            d3.selectAll(\".dot_\"+c).style(\"opacity\",1)\n            d3.select(\".legend_circle_\"+c).attr(\"r\",6)\n            d3.select(\".legend_text_\"+c).style(\"font-size\", \"15px\")\n          })\n        }\n      } else {\n        let selectedSets = []\n        if (first) {\n          selectedSets.push(1)\n        }\n        if (second) {\n          selectedSets.push(2)\n        }\n        selectedSets.forEach((seleted_type)=>{\n          if (this.hover.classifier != '') {\n            d3.select(\".legend_circle_\"+name).attr(\"r\",8)\n            d3.select(\".legend_text_\"+name).style(\"font-size\", \"20px\")\n            d3.selectAll(\".line_\"+name + \"_\" + seleted_type).style(\"opacity\",1)\n            d3.selectAll(\".dot_\"+name + \"_\" + seleted_type).style(\"opacity\",1)\n            classifiers.forEach((c)=>{\n              if (c != name) {\n                d3.selectAll(\".line_\"+c + \"_\" + seleted_type).style(\"opacity\",0.2)\n                d3.selectAll(\".dot_\"+c + \"_\" + seleted_type).style(\"opacity\",0.2)\n              }\n            })\n          } else {\n            classifiers.forEach((c)=>{\n              d3.selectAll(\".line_\"+c + \"_\" + seleted_type).style(\"opacity\",1)\n              d3.selectAll(\".dot_\"+c + \"_\" + seleted_type).style(\"opacity\",1)\n              d3.select(\".legend_circle_\"+c).attr(\"r\",6)\n              d3.select(\".legend_text_\"+c).style(\"font-size\", \"15px\")\n            })\n          }\n        })\n      }\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.bottom})`);\n\n      const svg_distribution= d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${(this.height + this.margin.top + this.margin.bottom)*0.4}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top * 0.2})`);\n\n      const sequentialScale = d3.scaleSequential<string>( d3.interpolatePlasma)\n            .domain([0, this.classifiers.length])\n            .interpolator(function (x) { return d3.interpolatePlasma(.8*x);} );\n\n      const classifiers = this.value.map((c)=>c.name);\n\n      var width = this.width;\n      var height = this.height\n      let confidenceData = []\n      let confidenceCountData = []\n      let confidenceDict = {}\n      let selectedDataDict = []\n      let count  = 0\n\n      const calculatedCurves = () => {  \n        let count = 0\n        classifiers.forEach((c)=>{\n          count += 1\n          let ci_tp = this.predictions[c].ci_tp;\n          let ci_tn = this.predictions[c].ci_tn;\n          let ci_fp = this.predictions[c].ci_fp;\n          let ci_fn = this.predictions[c].ci_fn;\n          let curConfidenceData = []\n          let cordinates = []\n          let curConfidenceCountData = []\n          for (var i in this.confidence) {\n            if ((ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]) == 0 || (ci_tp[i] + ci_fp[i]) / this.instances.size < 0.01 ) {\n              curConfidenceCountData.push({\"name\":c, \"color\":sequentialScale(count),\"classifier\":c,\"confidence\":this.confidence[i],  \"value\": null})\n              continue\n            } \n           \n            else {\n              let value = (ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]) == 0 ? null : (ci_tp[i] + ci_fp[i]) / (ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i])\n              let value2 = ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]\n              curConfidenceData.push({\"name\":c, \"color\":sequentialScale(count),\"classifier\":c,\"confidence\":this.confidence[i], \"tp_interval\":ci_tp[i], \"tn_interval\":ci_tn[i],\"fp_interval\":ci_fp[i], \"fn_interval\":ci_fn[i], \"threshold\":this.predictions[c].threshold, \"value\": value})\n              cordinates.push([this.confidence[i], value])\n              curConfidenceCountData.push({\"name\":c, \"color\":sequentialScale(count),\"classifier\":c,\"confidence\":this.confidence[i],  \"value\": value2})\n            }\n          }\n          confidenceData.push({\"name\":c, \"color\":sequentialScale(count), 'cordinates':cordinates, \"data\":curConfidenceData,\"threshold\":this.predictions[c].threshold})\n          confidenceCountData.push({\"name\":c, \"color\":sequentialScale(count), \"data\":curConfidenceCountData,\"threshold\":this.predictions[c].threshold})\n          confidenceDict[c] = curConfidenceData\n        })\n\n        let confidenceStandard = []\n        for (var i in this.confidence) {\n          let value = parseFloat(this.confidence[i])\n          confidenceStandard.push({\"name\":\"standard\", \"color\":\"grey\",\"classifier\":\"standard\",\"confidence\":this.confidence[i], \"tp_interval\":this.instances.length / 2, \"tn_interval\":0,\"fp_interval\":0, \"fn_interval\":this.instances.length / 2,\"threshold\":0.5,\"value\":value})\n        }\n        confidenceData.push({\"name\":\"standard\", \"color\":\"grey\", \"data\":confidenceStandard,\"threshold\":0.5})\n      };\n\n      const calculatedSelectedCurves = () => {\n        const {first, second} = this.outSelections;\n        const instances = this.instances;\n        let selectedconfidenceData = [];\n        let selectedconfidenceDict = {};\n\n        const calculate_value = (classifier:string, selection: Set<string>) => {\n          let c = classifier\n          let ci_tp = []\n          let ci_tn = []\n          let ci_fp = []\n          let ci_fn = []\n          for (var idx in this.confidence) {\n            let i = this.confidence[idx]\n            ci_tp.push(intersection(this.predictions[c].ci_tp_instances[i].instances, selection).size);\n            ci_tn.push(intersection(this.predictions[c].ci_tn_instances[i].instances, selection).size);\n            ci_fp.push(intersection(this.predictions[c].ci_fp_instances[i].instances, selection).size);\n            ci_fn.push(intersection(this.predictions[c].ci_fn_instances[i].instances, selection).size);\n          }\n          let curConfidenceData = []\n          let cordinates = []\n          for (var i in this.confidence) {\n            if ((ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]) == 0) {\n              continue\n            }\n            let value = (ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]) == 0 ? null : (ci_tp[i] + ci_fp[i]) / (ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i])\n            let value2 = ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]\n            curConfidenceData.push({\"name\":c, \"color\":sequentialScale(count),\"classifier\":c,\"confidence\":this.confidence[i], \"tp_interval\":ci_tp[i], \"tn_interval\":ci_tn[i],\"fp_interval\":ci_fp[i], \"fn_interval\":ci_fn[i], \"threshold\":this.predictions[c].threshold, \"value\": value})\n            cordinates.push([this.confidence[i], value])\n          }\n          selectedconfidenceData.push({\"name\":c, \"color\":sequentialScale(count), 'cordinates':cordinates, \"data\":curConfidenceData,\"threshold\":this.predictions[c].threshold})\n          return curConfidenceData\n        };\n\n        count = 0\n\n        let confidenceStandard = []\n\n        if (first) {\n          count = 0\n          classifiers.forEach((c)=>{\n            count += 1;\n            selectedconfidenceDict[c] = calculate_value(c, first.instances)            \n          })\n          for (var i in this.confidence) {\n            let value = parseFloat(this.confidence[i])\n            confidenceStandard.push({\"name\":\"standard\", \"color\":\"grey\",\"classifier\":\"standard\",\"confidence\":this.confidence[i], \"tp_interval\":this.instances.length / 2, \"tn_interval\":0,\"fp_interval\":0, \"fn_interval\":this.instances.length / 2,\"threshold\":0.5,\"value\":value})\n          }\n          selectedconfidenceData.push({\"name\":\"standard\", \"color\":\"grey\", \"data\":confidenceStandard,\"threshold\":0.5})\n          selectedDataDict.push({\"selection_type\":1, 'data': selectedconfidenceData, \"dict\": selectedconfidenceDict})\n        } \n        if (second) {\n          count = 0\n          selectedconfidenceDict = {}\n          selectedconfidenceData = []\n          classifiers.forEach((c)=>{\n            count += 1;\n            selectedconfidenceDict[c] = calculate_value(c, second.instances)            \n          })\n          if (! first) {\n            let confidenceStandard = []\n            for (var i in this.confidence) {\n              let value = parseFloat(this.confidence[i])\n              confidenceStandard.push({\"name\":\"standard\", \"color\":\"grey\",\"classifier\":\"standard\",\"confidence\":this.confidence[i], \"tp_interval\":this.instances.length / 2, \"tn_interval\":0,\"fp_interval\":0, \"fn_interval\":this.instances.length / 2,\"threshold\":0.5,\"value\":value})\n            }\n            selectedconfidenceData.push({\"name\":\"standard\", \"color\":\"grey\", \"data\":confidenceStandard,\"threshold\":0.5})\n          }\n          selectedDataDict.push({\"selection_type\":2, 'data': selectedconfidenceData, \"dict\": selectedconfidenceDict})\n        }\n\n      };\n\n      const drawDistribution = () => {\n\n        let confidenceClassifierDict = {}\n        \n        for (let i in this.confidence){\n          let tmp_list = []\n          let j = 0\n          classifiers.forEach((d)=>{\n            tmp_list.push(confidenceCountData[j].data[i]) \n            j+=1\n          })\n          confidenceClassifierDict[this.confidence[i]] = tmp_list\n        } \n        const xValue = (g: any) => g\n          .attr('transform', `translate(${0}, ${height*0.4})`)\n          .call(\n            d3.axisBottom(xAxis)\n              .tickSizeOuter(0),\n          );\n\n        const yValue = d3.scaleLinear()\n          .domain([0,this.instances.length])\n          .range([this.height*0.4, 0]);\n\n        const xAxis = d3.scaleBand<string>()\n          .range([0, this.width])\n          .paddingOuter(0)\n          .domain(this.confidence);\n\n        const x = d3.scaleBand()\n          .range([0, this.width / this.confidence.length])\n          .paddingOuter(0.5)\n          .paddingInner(0)\n          .domain(classifiers)\n        const y = d3.scaleLinear()\n            .domain([0, this.instances.length])\n            .range([this.height*0.4, 0]);\n        \n        const barWidth = x.bandwidth();\n\n        // Add the X Axis\n        svg_distribution.append('g')\n          .attr(\"class\",\"bar-chart\")\n          .call(xValue)\n          .selectAll('text')\n          .attr('text-anchor', 'start');\n\n        // Add the Y Axis\n        svg_distribution.append(\"g\")\n            .attr(\"class\",\"bar-chart\")\n            .call(d3.axisLeft(yValue)); \n             \n        const barCells =  svg_distribution.append(\"g\").attr(\"class\",\"bar-chart\")\n        .selectAll(\"g\")\n          .data(this.confidence)\n          .enter().append(\"g\")\n            .attr(\"transform\", function(d: string) { \n              return \"translate(\" + xAxis(d) + \",0)\"; })\n            .selectAll(\"rect\")\n            .data(function(d: string) { \n              return confidenceClassifierDict[d]; })\n            .enter()\n\n        this.svg = svg_distribution;\n\n        this.confidenceClassifierDict = confidenceClassifierDict;\n\n        barCells\n          .append(\"rect\")\n          .attr(\"transform\", function(d: string) { \n              return \"translate(\" + x(d['classifier']) + \",0)\"; })\n          .attr(\"class\",d=>'bar-right-'+d['classifier']+'-'+d['confidence'])\n          .attr(\"width\", barWidth)\n          .attr(\"height\",(d)=>this.height * 0.4 -y(d[\"value\"]))\n          .attr(\"y\", (d)=>{\n            return y(d[\"value\"])})\n          .attr(\"fill\",(d:string)=>d['color'])\n          .on('mouseenter', (d: string) => this.hover = ({type: 'right1', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n          .on('mouseleave', this.clearHover)\n          .on('click', (d: string) => this.select(d[\"classifier\"],  'first',d[\"confidence\"].toString()))\n          .on('contextmenu', (d: string) => this.select(d[\"classifier\"],  'second',d[\"confidence\"].toString()));\n      };\n\n      const drawCurves = () => {\n        const xValue = d3.scaleLinear()\n        .domain([0, 1])\n        .range([0, this.width])\n        const yValue = d3.scaleLinear()\n          .domain([0,1])\n          .range([this.height*3/4, 0]);\n\n        // Add the X Axis\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height*3/4 + \")\")\n            .call(d3.axisBottom(xValue));\n\n        // Add the Y Axis\n        svg.append(\"g\")\n            .call(d3.axisLeft(yValue)); \n        \n        function line(d) {\n          var name = d.name\n          d = d.data\n          var path = \"M \" \n          var lastx = 1;\n          var lasty = 0;\n          var idx = 0\n          d.forEach((cordinate)=>{\n            if ((cordinate.value == null || cordinate.value == 0) && idx != 0) {\n              idx += 1;\n            } else {\n                if (idx == 0) {\n                  path = path + xValue(cordinate.confidence) + ' ' + yValue(cordinate.value)\n                } else {\n                  path = path + 'L '+ xValue(cordinate.confidence) +' ' + yValue(cordinate.value)\n                }              \n                lastx = cordinate.confidence;\n                lasty = cordinate.value;\n                idx += 1;\n            }\n            \n          })\n          return path\n        }\n\n        var lines = svg \n          .selectAll(\"myPath\")\n          .data(confidenceData)\n          .enter().append(\"path\")\n          .attr(\"d\",  line)\n          .attr(\"class\",(d,i)=>\"line_\"+d.name)\n          .attr(\"class\",(d,i)=>\"line_\"+d.name)\n          .style(\"fill\", \"none\")\n          .attr(\"stroke\",(d)=>{\n            return d.color})\n          .style(\"stroke-width\", 3)\n          .style(\"opacity\", 1)   \n          .style(\"stroke-dasharray\",(d)=>d[\"name\"] == \"standard\"? (\"3, 3\") : (\"0, 0\")) \n\n        var points = svg.selectAll(\".dot\")\n          .data(confidenceData)\n          .enter()\n          .selectAll(\".circle\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"circle\")\n          .attr(\"class\",(d,i)=>\"dot_\"+d[\"name\"])\n          .attr(\"cx\", function(d, i) {  \n            let x = parseFloat(d[\"confidence\"]);\n            return xValue(x) })\n          .attr(\"cy\", function(d,i) { \n            let p = d;\n            let y = d[\"value\"]\n            return yValue(y) })\n          .attr(\"r\", 5)\n          .attr(\"fill\",(d)=>d[\"color\"])\n          .attr(\"opacity\",function(d,i) { \n            return d['value'] != null && d['value']!= 0 ? 1 : 0\n            })\n          .on('click', (d,i) =>this.click = {'threshold':d[\"confidence\"], 'classifier':d['classifier']})\n\n      };\n\n      const drawSelectedCurves = () => {\n        const xValue = d3.scaleLinear()\n        .domain([0, 1])\n        .range([0, this.width])\n        const yValue = d3.scaleLinear()\n          .domain([0,1])\n          .range([this.height*3/4, 0]);\n\n        // Add the X Axis\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height*3/4 + \")\")\n            .call(d3.axisBottom(xValue));\n\n        // Add the Y Axis\n        svg.append(\"g\")\n            .call(d3.axisLeft(yValue)); \n        \n        function line(d) {\n          var name = d.name\n          d = d.data\n          var path = \"M \" \n          var lastx = 1;\n          var lasty = 0;\n          var idx = 0\n          d.forEach((cordinate)=>{\n            if ((cordinate.value == null || cordinate.value == 0) && idx != 0) {\n              idx = 0\n              path = path + 'M '\n            }\n            if (idx == 0) {\n              path = path + xValue(cordinate.confidence) + ' ' + yValue(cordinate.value)\n            } else {\n              path = path + 'L '+ xValue(cordinate.confidence) +' ' + yValue(cordinate.value)\n            }              \n            lastx = cordinate.confidence;\n            lasty = cordinate.value;\n            idx += 1; \n          })\n          return path\n        }\n\n        let confidenceStandard  = []\n        for (var i in this.confidence) {\n            let value = parseFloat(this.confidence[i])\n            confidenceStandard.push({\"name\":\"standard\", \"color\":\"grey\",\"classifier\":\"standard\",\"confidence\":this.confidence[i], \"tp_interval\":this.instances.length / 2, \"tn_interval\":0,\"fp_interval\":0, \"fn_interval\":this.instances.length / 2,\"threshold\":0.5,\"value\":value})\n        }\n        selectedDataDict. forEach((data)=>{\n          let confidenceData = data.data;\n          let confidenceDict = data.dict;\n          let selection_type = data.selection_type;\n          var lines = svg \n            .selectAll(\"myPath\")\n            .data(confidenceData)\n            .enter().append(\"path\")\n            .attr(\"d\",  line)\n            .attr(\"class\",(d,i)=>\"line_\"+d[\"name\"] + \"_\" + selection_type)\n            .style(\"fill\", \"none\")\n            .attr(\"stroke\",(d,i)=>{\n              if (d['color'] == 'grey') return d['color']\n              if (this.value.length  == 1) {\n                return selection_type == 1? this.selection1Color\n                    :selection_type == 2? this.selection2Color\n                    :d[\"color\"]\n              }\n              return d[\"color\"]})\n            .style(\"stroke-width\", 3)\n            .style(\"opacity\", 1)   \n            .style(\"stroke-dasharray\", selection_type == '1'? (\"3, 3\") : (\"0, 0\"))\n\n\n          var points = svg.selectAll(\".dot\")\n            .data(confidenceData)\n            .enter()\n            .selectAll(\".circle\")\n            .data(function(d: string) { \n              return d[\"data\"]; })\n              .enter()\n              .append(\"circle\")\n            .attr(\"class\",(d,i)=>\"dot_\"+d[\"name\"] + \"_\" + selection_type)\n            .attr(\"cx\", function(d, i) {  \n              let x = parseFloat(d[\"confidence\"]);\n              return xValue(x) })\n            .attr(\"cy\", function(d,i) { \n              let p = d;\n              let y = d[\"value\"]\n              return yValue(y) })\n            .attr(\"r\", 5)\n            .attr(\"fill\",(d)=>{\n              if (d['color'] == 'grey') return d['color']\n              if (this.value.length  == 1) {\n                return selection_type == 1? this.selection1Color\n                    :selection_type == 2? this.selection2Color\n                    :d[\"color\"]\n              }\n              return d[\"color\"]})\n            .attr(\"opacity\",function(d,i) { \n              return d['value'] != null ? 1 : 0\n              })\n            .on('click', (d,i) =>this.click = {'threshold':d[\"confidence\"], 'classifier':d['classifier']})\n        })\n        \n      };if (this.selection_mode == 'overall') {\n        calculatedCurves();\n        drawCurves();\n        drawDistribution();\n        this.drawDistributionSelections();\n      } else {\n        calculatedSelectedCurves();\n        drawSelectedCurves();\n        calculatedCurves();\n        drawDistribution();\n        this.drawDistributionSelections();\n      }\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(\"Fraction of Positives\"); \n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = (this.width) / 2;\n            const yOffset = (this.height) * 0.9;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(\"Mean predicted value\");  \n      };\n      drawTitles();\n\n      const drawLegend = () => {\n        var evaluationKeys = this.evaluationKeys\n        if (this.selection_mode != 'overall') {\n          confidenceData = selectedDataDict[0].data\n        }\n        var legend_circle = svg \n          .selectAll(\"myCicle\")\n          .data(confidenceData)\n          .enter().append(\"circle\")\n          .attr(\"class\",(d,i)=>\"legend_circle_\"+d.name)\n          .attr(\"cx\",this.evaluationKeys == \"roc\"? 10 : 20)\n          .attr(\"cy\",(d,i)=>i*25 - this.margin.top)\n          .attr(\"r\", 6)\n          .style(\"fill\", d=>d.color)\n          .on('mouseenter', d=>this.hover = ({classifier:d.name}))\n            .on('mouseleave', this.clearHover)\n\n\n        var legend_text = svg \n          .selectAll(\"myText\")\n          .data(confidenceData)\n          .enter().append(\"text\")\n          .attr(\"class\",(d,i)=>\"legend_text_\"+d.name)\n          .attr(\"x\", this.evaluationKeys == \"roc\"? 30 : 40)\n          .attr(\"y\", (d,i)=>i*25 - this.margin.top)\n          .text(d=>d.name)\n          .style(\"font-size\", \"15px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .on('mouseenter', d=>this.hover = ({classifier:d.name}))\n            .on('mouseleave', this.clearHover) \n\n         if (this.selection_mode != 'overall') {\n           svg \n            .append(\"line\")\n            .attr('y1',  -  this.margin.top)\n            .attr('x1', 100)\n            .attr('x2', 140)\n            .attr('y2',  -  this.margin.top)\n            .attr('stroke', 'blue')\n            .attr('stroke-width', '2px')\n            .attr('stroke-opacity', 0.5)\n            .style(\"stroke-dasharray\",(\"3, 3\"))\n          svg \n            .append(\"text\")\n            .attr('y',  -  this.margin.top)\n            .attr('x', 142)\n            .style(\"font-size\", \"15px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .text(\"selection 1\")\n\n          svg \n            .append(\"line\")\n            .attr('y1', 25 -  this.margin.top)\n            .attr('x1', 100)\n            .attr('x2', 140)\n            .attr('y2', 25 -  this.margin.top)\n            .attr('stroke', 'blue')\n            .attr('stroke-width', '2px')\n            .attr('stroke-opacity', 0.5)\n          svg \n            .append(\"text\")\n            .attr('y', 25 -  this.margin.top)\n            .attr('x', 142)\n            .style(\"font-size\", \"15px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .text(\"selection 2\")\n         }\n         \n      };\n      drawLegend(); \n    },\n    drawDistributionSelections() {\n      const chart = d3.select(this.$refs.svg);\n\n      const { first, second } = this.selections;\n      const confidenceClassifierDict = this.confidenceClassifierDict;\n      const classifiers = this.value.map((c)=>c.name);\n \n      const xAxis = d3.scaleBand<string>()\n          .range([0, this.width])\n          .paddingOuter(0)\n          .domain(this.confidence);\n      const x = d3.scaleBand()\n          .range([0, this.width / this.confidence.length])\n          .paddingOuter(0.5)\n          .paddingInner(0)\n          .domain(classifiers)\n      const y = d3.scaleLinear()\n            .domain([0, this.instances.length])\n            .range([ 0, this.height*0.4]);\n          \n        \n      const barWidth = x.bandwidth();\n\n      const selectionHeight = (classifierName:string, confidence: string, selection: Set<string>) => {\n        let instances_list = [];\n        let all_instances_list = [];\n        let name_list = ['ci_fn_instances', 'ci_fp_instances', 'ci_tn_instances', 'ci_tp_instances'];\n        name_list.forEach((l)=>{\n          let tmp_instances =[...this.predictions[classifierName][l][confidence].instances]\n          tmp_instances.forEach((i)=>{\n            all_instances_list.push(i)\n            if (l == 'ci_fp_instances' || l == 'ci_tp_instances') {\n              instances_list.push(i)\n            }\n          })\n        })\n        let instances = new Set(all_instances_list);\n        let overlappingInstances = intersection(instances, selection);\n        return y(overlappingInstances.size)\n      };\n\n      const hasFocusItem = (classifierName:string, confidence: string, selection: Set<string>) => {\n        let instances_list = [];\n        let all_instances_list = [];\n        let name_list = ['ci_fn_instances', 'ci_fp_instances', 'ci_tn_instances', 'ci_tp_instances'];\n        name_list.forEach((l)=>{\n          let tmp_instances =[...this.predictions[classifierName][l][confidence].instances]\n          tmp_instances.forEach((i)=>{\n            all_instances_list.push(i)\n            if (l == 'ci_fp_instances' || l == 'ci_tp_instances') {\n              instances_list.push(i)\n            }\n          })\n        })\n        let instances = new Set(all_instances_list);\n        let overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n\n      const selections = [first, second];\n\n      selections.forEach((cur_selection, idx)=>{\n        if (!cur_selection) {\n          this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n          this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n        } else {\n          this.confidence.forEach((c)=>{\n            confidenceClassifierDict[c].forEach((d)=>{\n              let selection_attributes = {\n                  barCells : this.svg,\n                  x : xAxis(c) + x(d['classifier']) + (idx+1) * barWidth / 4 ,\n                  y : this.height * 0.4  - selectionHeight(d['classifier'], d['confidence'], cur_selection.instances),\n                  width : barWidth / 4,\n                  height : selectionHeight(d['classifier'], d['confidence'], cur_selection.instances),\n                  r  : barWidth / 8,\n                  color : idx == 0? this.selection1Color : this.selection2Color,\n                  circle_visibility : selectionHeight(d['classifier'], d['confidence'], cur_selection.instances) > 0 && selectionHeight(d['classifier'], d['confidence'], cur_selection.instances) < this.height * 0.01?  \"visible\" :\"hidden\",\n                  cx : xAxis(c) + x(d['classifier']) + barWidth / 2  + (idx - 1/2) * barWidth / 4,\n                  cy :  this.height * 0.4  - barWidth / 8,\n                  selection_type: idx,\n                  focused: hasFocusItem(d['classifier'], d['confidence'], cur_selection.instances),\n                  view_name : this.name\n                }\n                this.$store.dispatch('drawSelections',selection_attributes)\n            })\n          })\n        }\n      })\n\n    },\n    select(\n      classifier: string,\n      whichOverlap: 'first' | 'second',\n      interval:string,\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n\n      let tmp_instances = []\n      let instances_types = ['ci_tp_instances', 'ci_tn_instances', 'ci_fp_instances', 'ci_fn_instances']\n      instances_types.forEach((type) =>{\n        let interval_instances = [...this.predictions[classifier][type][interval].instances]\n        interval_instances.forEach((i)=>{\n          tmp_instances.push(i)\n        })\n      })\n      const instances = new Set(tmp_instances)\n\n      const description = `Instances which ${classifier} in interval ${interval}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReliabilityCurve.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReliabilityCurve.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ReliabilityCurve.vue?vue&type=template&id=55929ecc&scoped=true&\"\nimport script from \"./ReliabilityCurve.vue?vue&type=script&lang=ts&\"\nexport * from \"./ReliabilityCurve.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ReliabilityCurve.vue?vue&type=style&index=0&id=55929ecc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55929ecc\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"(Trinary) Instance Distribuion\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Selection Mode\"},model:{value:(_vm.selection_mode),callback:function ($$v) {_vm.selection_mode=$$v},expression:\"selection_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall confidence \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"selection confidence\",\"value\":\"selected\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Distribution Mode\"},model:{value:(_vm.distribution_mode),callback:function ($$v) {_vm.distribution_mode=$$v},expression:\"distribution_mode\"}},[_c('v-radio',{attrs:{\"label\":\"by score \",\"value\":\"score\"}}),_c('v-radio',{attrs:{\"label\":\"by correctness\",\"value\":\"correctness\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Performance Type\"},model:{value:(_vm.weightedPerformance),callback:function ($$v) {_vm.weightedPerformance=$$v},expression:\"weightedPerformance\"}},[_c('v-radio',{attrs:{\"label\":\"normal\",\"value\":\"normal\"}}),_c('v-radio',{attrs:{\"label\":\"weighted\",\"value\":\"weighted\"}})],1)],1)])],1)],1),_c('v-switch',{staticClass:\"ml-8\",attrs:{\"label\":\"normalize\"},model:{value:(_vm.normalization_switch),callback:function ($$v) {_vm.normalization_switch=$$v},expression:\"normalization_switch\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { range } from 'd3';\n\nexport default Vue.extend({\n  name: 'Trinary_Instance_Distribuion',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n    };\n    const hoverNormalization = {\n      type: '' as 'right' | 'wrong' | '',\n      selection: '',\n      classifier: '',\n    };\n    const selection_mode = ' overall' as 'overall' | 'selected' \n    const distribution_mode = 'score' as 'score' | 'correcness' | 'correctness2'\n    const weightedPerformance = 'normal' as 'normal' | 'weighted'\n\n    return {\n      svg: '',\n      weightedPerformance,\n      selection_mode:'overall',\n      distribution_mode: 'score',\n      thresholdRange: {},\n      normalization:'No',\n      height,\n      hover,\n      hoverNormalization,\n      margin,\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      selection1Right: '#81AED7',\n      selection1Wrong: '#D7AA81',\n      selection1mid: '#C1BFC3',\n      selection2Right: '#B981D7',\n      selection2Wrong: '#D78E81',\n      selection2mid: '#C1BFC3',\n      classNumber:[...this.boxProps.classes].length,\n    };\n  },\n  computed: {\n    continuous_metrics() {\n      return this.$store.state.continuous_metrics\n    },\n    weighted_metrics() {\n      return this.$store.state.weighted_metrics;\n    },\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      return this.$store.state.addedThresholdClassifiers.map((c)=>c.name);\n    },\n    addedBandWidthClassifiers() {\n      if (this.$store.state.addedBandWidthClassifiers.length == 0) {\n        const value = Object.keys(this.$store.state.classifierThresholdDict).map((c)=> {\n          let threshold = (this.$store.state.classifierThresholdDict[c] / 100)\n          return {'name': c + '(' + ((threshold-0.05) < 0 ? 0 : threshold-0.05).toFixed(2) + ',' + ((threshold+0.05 > 1 ? 1: threshold+0.05)).toFixed(2) + ')' }\n        });\n        return value\n      }\n      return this.$store.state.addedBandWidthClassifiers;\n    },\n    normalization_switch: {\n      set() {\n        if (this.normalization == \"Yes\") {\n          this.normalization = \"No\"\n        } else {\n          this.normalization = \"Yes\"\n        }\n      },\n      get() {\n        return this.normalization === \"Yes\";\n      }\n    },\n    classifierBandWidthDict(): string[] {\n      return this.boxProps.classifierBandWidthDict;\n    },\n    bandWidthChangedClassifierName(): string {\n      return this.$store.state.bandWidthChangedClassifierName\n    },\n    classes(): string[] {\n      this.classNumber = [...this.boxProps.classes].length\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];  \n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    thresholdClassifierNameList():string[] {\n      return this.$store.state.thresholdClassifierNameList\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    predictionKeys(): string[] {\n\n      var scope = this.evaluationKeys\n      \n      const accuracyAscending = (c1: string, c2: string) => {\n        return this.predictions[c1].right_size - this.predictions[c2].right_size;\n      };\n      const accuracyDescending = (c1: string, c2: string) => {\n        return -accuracyAscending(c1, c2);\n      };\n\n      const predictionKeys = this.classifiers.slice();\n     \n      return predictionKeys;\n    },\n    continuousPredictionKeys():string[]{\n      return this.addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n    },\n    evaluationKeys() : String {\n      return \"accuracy\";\n    },\n    classifierThresholdDict():{} {\n      return this.$store.state.classifierThresholdDict\n    }, \n    continuousClassifierName():{} {\n      var continuousClassifierName = {}\n      this.classifiers.forEach((c)=>{\n        if (this.$store.state.datasetType == \"continuous\") {\n          continuousClassifierName[c] = c + \"_\" + this.classifierThresholdDict[c]/100\n        } else {\n          continuousClassifierName[c] = c;\n        }\n      })\n      return continuousClassifierName;\n    },\n    predictions(): {\n      [classifier: string]: {\n        name: String,\n        threshold: number,\n        right: Set<string>,\n        right_wrong: Set<string>,\n        right_right: Set<string>,\n        wrong: Set<string>,\n        wrong_wrong: Set<string>,\n        wrong_right: Set<string>,\n        middle_wrong: Set<string>,\n        middle_right: Set<string>,\n        middle_tp: Set<string>,\n        middle_tn: Set<string>,\n        middle_fp: Set<string>,\n        middle_fn: Set<string>,\n        accuracy:number,\n        total_size:number,\n        right_size:number,\n        wrong_size:number,\n        middle_right_size:number,\n        middle_wrong_size:number,\n      },\n    } {\n      const predictions: {\n        [classifier: string]: {\n          name: String,\n          threshold: number,\n          right: Set<string>,\n          right_wrong: Set<string>,\n          right_right: Set<string>,\n          wrong: Set<string>,\n          wrong_wrong: Set<string>,\n          wrong_right: Set<string>,\n          middle_wrong: Set<string>,\n          middle_right: Set<string>,\n          middle_tp: Set<string>,\n          middle_tn: Set<string>,\n          middle_fp: Set<string>,\n          middle_fn: Set<string>,\n          accuracy:number,\n          total_size:number,\n          right_size:number,\n          wrong_size:number,\n          middle_right_size:number,\n          middle_wrong_size:number,\n        },\n      } = {};\n\n      this.addedBandWidthClassifiers.forEach((c)=>{\n        let classifier = c.name.split('(')[0]\n        predictions[c.name] = {\n          name: c.name,\n          threshold: Object.keys( this.classifierThresholdDict).includes(classifier)? this.classifierThresholdDict[classifier] : 0,\n          right: new Set(),\n          right_wrong: new Set(),\n          right_right: new Set(),\n          wrong: new Set(),\n          wrong_wrong: new Set(), \n          wrong_right: new Set(),\n          middle_wrong: new Set(),\n          middle_right: new Set(),\n          middle_tp: new Set(),\n          middle_tn: new Set(),\n          middle_fp: new Set(),\n          middle_fn: new Set(),\n          accuracy:0,\n          total_size:0,\n          right_size:0,\n          wrong_size:0,\n          middle_right_size:0,\n          middle_wrong_size:0,\n        };\n      })\n\n      const continuous_metrics = this.weightedPerformance == 'normal' ? this.$store.state.continuous_metrics : this.$store.state.weighted_metrics;\n      \n            \n      const value_dict = {\n        'middle_fn' : 'm_fn_instances',\n        'middle_fp' : 'm_fp_instances',\n        'middle_tp' : 'm_tp_instances',\n        'middle_tn' : 'm_tn_instances',\n        'right_right': 'tp_instances',\n        'wrong_wrong': 'tn_instances',\n        'wrong_right': 'fp_instances',\n        'right_wrong': 'fn_instances',\n        'm_fp':'m_fp',\n        'm_tp':'m_tp',\n        'm_fn':'m_fn',\n        'm_tn':'m_tn',\n        'tp':'tp',\n        'tn':'tn',\n        'fp':'fp',\n        'fn':'fn',\n      }\n      this.addedBandWidthClassifiers.forEach((c)=>{\n        let classifier = c.name.split('(')[0]\n        let left_edge = parseFloat(c.name.substring(c.name.length-10, c.name.length-6)).toFixed(2)\n        let right_edge = parseFloat(c.name.substring(c.name.length-5, c.name.length-1)).toFixed(2)\n        let cur_threshold  = (parseFloat(right_edge) + parseFloat(left_edge)) / 2\n        if (left_edge == continuous_metrics[classifier]['cur_left_edge'].toFixed(2) && right_edge == continuous_metrics[classifier]['cur_right_edge'].toFixed(2)) {\n          predictions[c.name].threshold = cur_threshold;\n          for (let key in value_dict) {\n            predictions[c.name][key] = continuous_metrics[classifier][value_dict[key]]\n          }\n          predictions[c.name]['right_size'] = continuous_metrics[classifier]['tp'] + continuous_metrics[classifier]['fn']\n          predictions[c.name]['wrong_size'] = continuous_metrics[classifier]['fp'] + continuous_metrics[classifier]['tn']\n          predictions[c.name]['middle_right_size'] = continuous_metrics[classifier]['m_tp'] + continuous_metrics[classifier]['m_fp']\n          predictions[c.name]['middle_wrong_size'] = continuous_metrics[classifier]['m_tn'] + continuous_metrics[classifier]['m_fn']\n          \n        } else {\n          this.instances.forEach((id)=>{\n            const i = instanceById(id);\n            const actual = i.actual == this.classes[1] ? 1 : 0;\n            const predict_prob = i.continuous_predictions[classifier];\n            if (predict_prob < right_edge && predict_prob > left_edge) {\n              if (actual == 0) {\n                if (predict_prob < predictions[c.name].threshold) {\n                  predictions[c.name].middle_tn.add(id)\n                } else {\n                  predictions[c.name].middle_fp.add(id)\n                }\n              } else {\n                if (predict_prob >= predictions[c.name].threshold) {\n                  predictions[c.name].middle_tp.add(id)\n                } else {\n                  predictions[c.name].middle_fn.add(id)\n                }\n              }\n            } else{\n              if (actual == 0) {\n                if (predict_prob < left_edge) {\n                  predictions[c.name].wrong_wrong.add(id)\n                } else {\n                  predictions[c.name].wrong_right.add(id)\n                }\n              } else {\n                if (predict_prob >= right_edge) {\n                  predictions[c.name].right_right.add(id)\n                } else {\n                  predictions[c.name].right_wrong.add(id)\n                }\n              }\n            }\n          })\n          if (this.weightedPerformance == 'normal') {\n            predictions[c.name]['m_fp'] = predictions[c.name]['middle_fp'].size\n            predictions[c.name]['m_tp'] = predictions[c.name]['middle_tp'].size\n            predictions[c.name]['m_fn'] = predictions[c.name]['middle_fn'].size\n            predictions[c.name]['m_tn'] = predictions[c.name]['middle_tn'].size\n            predictions[c.name]['fp'] = predictions[c.name]['wrong_right'].size\n            predictions[c.name]['tp'] = predictions[c.name]['right_right'].size\n            predictions[c.name]['fn'] = predictions[c.name]['right_wrong'].size\n            predictions[c.name]['tn'] = predictions[c.name]['wrong_wrong'].size\n          } else {\n            let instanceWeights = {};\n            let selectionHistory  = this.$store.state.selectionHistory;\n            let changed_instances_set   = [\n              ['right_right', 'tp'],\n              ['wrong_wrong', 'tn'],\n              ['right_wrong', 'fn'],\n              ['wrong_right', 'fp'],\n              ['middle_tp', 'm_tp'],\n              ['middle_tn', 'm_tn'],\n              ['middle_fp', 'm_fn'],\n              ['middle_fn', 'm_fp'],\n            ]  \n            \n            this.instances.forEach((c)=>{\n              instanceWeights[c] = 1\n            })\n\n            selectionHistory.forEach((s)=>{\n              let tmp_instances = [...s.instances]\n              let weight = parseFloat((s.weight).toString())\n              tmp_instances.forEach((i)=>{\n                instanceWeights[i] += weight\n              })\n            })\n            changed_instances_set.forEach((cur_set)=>{\n              let cur_instances = [...predictions[c.name][cur_set[0]]]\n              let cur_value = cur_set[1]\n              let count = 0\n              cur_instances.forEach((i)=>{\n                count += instanceWeights[i]\n              })\n              predictions[c.name][cur_value] = count\n            })\n          }\n          predictions[c.name]['right_size'] = predictions[c.name]['tp'] + predictions[c.name]['fn']\n          predictions[c.name]['wrong_size'] = predictions[c.name]['fp'] + predictions[c.name]['tn']\n          predictions[c.name]['middle_right_size'] = predictions[c.name]['m_tp'] + predictions[c.name]['m_fp']\n          predictions[c.name]['middle_wrong_size'] = predictions[c.name]['m_tn'] + predictions[c.name]['m_fn']\n\n        }\n        predictions[c.name]['middle_right'] = new Set([...predictions[c.name]['middle_tp'], ...predictions[c.name]['middle_fp']]);\n        predictions[c.name]['middle_wrong'] = new Set([...predictions[c.name]['middle_tn'], ...predictions[c.name]['middle_fn']]);\n        predictions[c.name]['right'] = new Set([...predictions[c.name]['right_wrong'], ...predictions[c.name]['right_right']]);\n        predictions[c.name]['wrong'] = new Set([...predictions[c.name]['wrong_wrong'], ...predictions[c.name]['wrong_right']]);\n        predictions[c.name]['total_size'] =  predictions[c.name]['right_size'] +  predictions[c.name]['wrong_size']\n                                    + predictions[c.name]['middle_right_size'] + predictions[c.name]['middle_wrong_size']\n      })\n\n      this.addedBandWidthClassifiers.forEach((c)=>{\n        predictions[c.name].accuracy =  predictions[c.name].right_size / (predictions[c.name].right_size + predictions[c.name].wrong_size)\n      })\n\n\n      return predictions;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusDotEmphasis(): String{return  this.$store.state.focusDotEmphasis},\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.continuousPredictionKeys)\n        .range([0, this.width*0.8])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 160])\n          .range([10, 160])\n          .clamp(true);\n      return xScale;      \n    },\n    yScale(): d3.ScaleBand<string> {\n      const yScale = d3.scaleBand<string>()\n            .range([(this.height+this.margin.bottom), 0])\n            .padding(0.1).domain(this.predictionKeys);\n      return yScale;\n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Trinary_Instance_Distribuion') {\n          if (view.config) {\n            let value  = view.config;\n            this.selection_mode = value.selection\n            this.distribution_mode = value.distribution\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Trinary_Instance_Distribuion\", \n                    \"config\": {\n                      \"selection\":this.selection_mode,\n                      \"distribution\":this.distribution_mode}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    weightedPerformance() {\n      this.drawInitial();\n    },\n    addedBandWidthClassifiers() {\n      this.drawInitial();\n    },\n    selection_mode() {\n      if (this.weightedPerformance == 'weighted' && this.selection_mode == 'selected') {\n        this.weightedPerformance = 'normal'\n      }\n      this.drawInitial();\n    },\n    weighted_metrics() {\n      if (this.weightedPerformance == 'weighted') {\n        this.drawInitial();\n      }\n    },\n    distribution_mode() {\n      this.drawInitial();\n    },\n    hoverNormalization() {\n      this.drawHoverNormalization();\n    },\n    normalization() {\n      if (this.normalization == 'Yes') {\n        this.drawNormalization();\n      } else {\n        this.drawInitial();\n      }\n    },\n    accuracySorting() {\n      this.drawInitial();\n    },\n    evaluationSelection() {\n      this.drawInitial();\n    },\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      if (this.normalization == 'Yes') {\n        this.drawNormalization();\n      } else {\n        this.drawInitial();\n      }\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Trinary_Instance_Distribuion') {\n        if (view.config) {\n          let value  = view.config;\n          this.selection_mode = value.selection\n          this.distribution_mode = value.distribution\n        }\n      }\n    })\n    this.drawInitial();\n  },\n  methods: {  \n    clearHover() {\n      this.hover = ({type: '', slection:'', classifier: ''});\n    },\n    clearHoverNormalization() {\n      this.hoverNormalization = ({type: '', classifier: ''});\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const rightBars = chart.selectAll('.bar-right-right');\n      const wrongBars = chart.selectAll('.bar-wrong-wrong');\n      const rightwrongBars = chart.selectAll('.bar-right-wrong');\n      const wrongrightBars = chart.selectAll('.bar-wrong-right');\n      const middleYesBars = chart.selectAll('.bar-middle-yes');\n      const yAxisMarkerRect = chart.select('.y-axis-marker-rect');\n      const yAxisMarkerLine1 = chart.select('.y-axis-marker-line-1');\n      const yAxisMarkerLine2 = chart.select('.y-axis-marker-line-2');\n      const yAxisMarkerLine3 = chart.select('.y-axis-marker-line-3');\n      const yAxisMarkerLine4 = chart.select('.y-axis-marker-line-4');\n      const yAxisMarkerText1 = chart.select('.y-axis-marker-text-1');\n      const yAxisMarkerText2 = chart.select('.y-axis-marker-text-2');\n      const yAxisMarkerText3 = chart.select('.y-axis-marker-text-3');\n      const yAxisMarkerText4 = chart.select('.y-axis-marker-text-4');\n      const yAxisMarkerText5 = chart.select('.y-axis-marker-text-5');\n      const yAxisMarkerText1s1 = chart.select('.y-axis-marker-text-1-s1');\n      const yAxisMarkerText2s1 = chart.select('.y-axis-marker-text-2-s1');\n      const yAxisMarkerText3s1 = chart.select('.y-axis-marker-text-3-s1');\n      const yAxisMarkerText4s1 = chart.select('.y-axis-marker-text-4-s1');\n      const yAxisMarkerText5s1 = chart.select('.y-axis-marker-text-5-s1');\n      const yAxisMarkerText1s2 = chart.select('.y-axis-marker-text-1-s2');\n      const yAxisMarkerText2s2 = chart.select('.y-axis-marker-text-2-s2');\n      const yAxisMarkerText3s2 = chart.select('.y-axis-marker-text-3-s2');\n      const yAxisMarkerText4s2 = chart.select('.y-axis-marker-text-4-s2');\n      const yAxisMarkerText5s2 = chart.select('.y-axis-marker-text-5-s2');\n      const { first, second } = this.selections;\n      const predictions = this.predictions;\n\n      const hoverText = (classifierName:string, typeString: string, selection: Set<string>) => {\n        let instances = predictions[classifierName][typeString]\n        if (typeString == 'middle') {\n          instances = new Set([...predictions[classifierName]['middle_wrong'],...predictions[classifierName]['middle_right']] )\n        }\n        var totalInstances = 0 \n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size / totalInstances * 100;\n        return fractionOfTotalInstances.toFixed(1);\n      };\n\n      if (this.hover.type === 'right_right' && this.hover.selection == '') {\n        rightBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          rightBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hover.type === 'wrong_wrong' && this.hover.selection == '') {\n        wrongBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          wrongBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hover.type === 'wrong_right' && this.hover.selection == '') {\n        wrongrightBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          wrongrightBars.attr('fill', this.wrongColor);\n      }\n\n      if (this.hover.type === 'right_wrong' && this.hover.selection == '') {\n         rightwrongBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          rightwrongBars.attr('fill', this.wrongColor);\n      }\n\n      if (this.hover.type === 'middle-yes' && this.hover.selection == '') {\n        middleYesBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? \"grey\"\n              : \"lightgrey\");\n      } else {\n        if (this.selection_mode == 'overall')\n          middleYesBars.attr('fill',\"lightgrey\");\n      }\n\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      if (this.hover.type) {\n          yAxisMarkerRect\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n          yAxisMarkerLine1\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  \n              this.y(predictions[this.hover.classifier].fp / predictions[this.hover.classifier].total_size))\n            .attr('x2', this.width)\n            .attr('y2', this.y(predictions[this.hover.classifier].fp / predictions[this.hover.classifier].total_size));\n          yAxisMarkerLine2\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', this.distribution_mode != 'correctness'? \n              this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].tn) / predictions[this.hover.classifier].total_size)\n              :this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].fn) / predictions[this.hover.classifier].total_size))\n            .attr('x2', this.width)\n            .attr('y2', this.distribution_mode != 'correctness'? \n              this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].tn) / predictions[this.hover.classifier].total_size)\n              :this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].fn) / predictions[this.hover.classifier].total_size))\n          yAxisMarkerLine3\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.distribution_mode != 'correctness'? \n              this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].tn+predictions[this.hover.classifier].middle_wrong_size+predictions[this.hover.classifier].middle_right_size) / predictions[this.hover.classifier].total_size)\n              :this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].fn+predictions[this.hover.classifier].middle_wrong_size+predictions[this.hover.classifier].middle_right_size) / predictions[this.hover.classifier].total_size))\n            .attr('x2', this.width)\n            .attr('y2',  this.distribution_mode != 'correctness'? \n              this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].tn+predictions[this.hover.classifier].middle_wrong_size+predictions[this.hover.classifier].middle_right_size) / predictions[this.hover.classifier].total_size)\n              :this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].fn+predictions[this.hover.classifier].middle_wrong_size+predictions[this.hover.classifier].middle_right_size) / predictions[this.hover.classifier].total_size))\n          yAxisMarkerLine4\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', this.height - this.y((predictions[this.hover.classifier].tp) / predictions[this.hover.classifier].total_size))\n            .attr('x2', this.width)\n            .attr('y2', this.height - this.y((predictions[this.hover.classifier].tp) / predictions[this.hover.classifier].total_size));  \n\n          yAxisMarkerText1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"tp: \"+`${(predictions[this.hover.classifier].tp / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`);\n          yAxisMarkerText2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(this.distribution_mode != 'correctness'? \n                \"fn: \"+`${(predictions[this.hover.classifier].fn / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`\n                :\"tn: \"+`${(predictions[this.hover.classifier].tn / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`);\n          yAxisMarkerText3\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text( \"?: \"+`${((predictions[this.hover.classifier].middle_right_size+predictions[this.hover.classifier].middle_wrong_size) / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`);\n          yAxisMarkerText4\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(this.distribution_mode != 'correctness'? \n              \"tn: \"+`${(predictions[this.hover.classifier].tn / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`\n              :\"fn: \"+`${(predictions[this.hover.classifier].fn / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`);\n          yAxisMarkerText5\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"fp: \"+`${(predictions[this.hover.classifier].fp / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`);\n\n          if (first) {\n            yAxisMarkerText1s1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"1st: \"+hoverText(this.hover.classifier, 'right_right', first.instances));\n          yAxisMarkerText2s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(this.distribution_mode != 'correctness'? \n                \"1st: \"+hoverText(this.hover.classifier, 'right_wrong', first.instances)\n                :\"1st: \"+hoverText(this.hover.classifier, 'wrong_wrong', first.instances));\n          yAxisMarkerText3s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"1st: \"+hoverText(this.hover.classifier, 'middle', first.instances));\n          yAxisMarkerText4s1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(this.distribution_mode != 'correctness'? \n              \"1st: \"+hoverText(this.hover.classifier, 'wrong_wrong', first.instances)\n              :\"1st: \"+hoverText(this.hover.classifier, 'right_wrong', first.instances));\n          yAxisMarkerText5s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"1st: \"+hoverText(this.hover.classifier, 'wrong_right', first.instances));\n          } \n          if (second) {\n            yAxisMarkerText1s2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"2nd: \"+hoverText(this.hover.classifier, 'right_right', second.instances));\n          yAxisMarkerText2s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(this.distribution_mode != 'correctness'? \n                \"2nd: \"+hoverText(this.hover.classifier, 'right_wrong', second.instances)\n                :\"2nd: \"+hoverText(this.hover.classifier, 'wrong_wrong', second.instances));\n          yAxisMarkerText3s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"2nd: \"+hoverText(this.hover.classifier, 'middle', second.instances));\n          yAxisMarkerText4s2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(this.distribution_mode != 'correctness'? \n              \"2nd: \"+hoverText(this.hover.classifier, 'wrong_wrong', second.instances)\n              :\"2nd: \"+hoverText(this.hover.classifier, 'right_wrong', second.instances));\n          yAxisMarkerText5s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"2nd: \"+hoverText(this.hover.classifier, 'wrong_right', second.instances));\n\n          }\n\n      } else { \n        yAxisMarkerRect\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 0);\n        yAxisMarkerLine1\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerLine2\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0); \n        yAxisMarkerLine3\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerLine4\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0); \n        yAxisMarkerText1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);    \n        yAxisMarkerText1s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);   \n        yAxisMarkerText1s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n      }\n    },\n    drawHoverNormalization() {\n      const chart = d3.select(this.$refs.svg);\n      const rightBars = chart.selectAll('.bar-right-right-norm');\n      const wrongBars = chart.selectAll('.bar-wrong-wrong-norm');\n      const rightwrongBars = chart.selectAll('.bar-right-wrong-norm');\n      const wrongrightBars = chart.selectAll('.bar-wrong-right-norm');\n      const middleYesBars = chart.selectAll('.bar-middle-yes-norm');\n      const yAxisMarkerRect = chart.select('.y-axis-marker-rect-norm');\n      const yAxisMarkerLine1 = chart.select('.y-axis-marker-line-1-norm');\n      const yAxisMarkerLine2 = chart.select('.y-axis-marker-line-2-norm');\n      const yAxisMarkerLine3 = chart.select('.y-axis-marker-line-3-norm');\n      const yAxisMarkerLine4 = chart.select('.y-axis-marker-line-4-norm');\n      const yAxisMarkerText1 = chart.select('.y-axis-marker-text-1-norm');\n      const yAxisMarkerText2 = chart.select('.y-axis-marker-text-2-norm');\n      const yAxisMarkerText3 = chart.select('.y-axis-marker-text-3-norm');\n      const yAxisMarkerText4 = chart.select('.y-axis-marker-text-4-norm');\n      const yAxisMarkerText5 = chart.select('.y-axis-marker-text-5-norm');\n      const yAxisMarkerText1s1 = chart.select('.y-axis-marker-text-1-s1-norm');\n      const yAxisMarkerText2s1 = chart.select('.y-axis-marker-text-2-s1-norm');\n      const yAxisMarkerText3s1 = chart.select('.y-axis-marker-text-3-s1-norm');\n      const yAxisMarkerText4s1 = chart.select('.y-axis-marker-text-4-s1-norm');\n      const yAxisMarkerText5s1 = chart.select('.y-axis-marker-text-5-s1-norm');\n      const yAxisMarkerText1s2 = chart.select('.y-axis-marker-text-1-s2-norm');\n      const yAxisMarkerText2s2 = chart.select('.y-axis-marker-text-2-s2-norm');\n      const yAxisMarkerText3s2 = chart.select('.y-axis-marker-text-3-s2-norm');\n      const yAxisMarkerText4s2 = chart.select('.y-axis-marker-text-4-s2-norm');\n      const yAxisMarkerText5s2 = chart.select('.y-axis-marker-text-5-s2-norm');\n      const { first, second } = this.selections;\n      const predictions = this.predictions \n\n      const hoverText = (classifierName:string, typeString: string, selection: Set<string>) => {\n        let instances = predictions[classifierName][typeString]\n        if (typeString == 'middle') {\n          instances = new Set([...predictions[classifierName]['middle_wrong'],...predictions[classifierName]['middle_right']] )\n        }\n        var totalInstances = 0 \n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = instances.size == 0? 0: overlappingInstances.size / instances.size * 100;\n        return fractionOfTotalInstances.toFixed(1);\n      };\n\n      if (this.hoverNormalization.type === 'right_right') {\n        rightBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hoverNormalization.classifier\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        rightBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hoverNormalization.type === 'wrong_wrong') {\n        wrongBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hoverNormalization.classifier\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        wrongBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hoverNormalization.type === 'wrong_right') {\n        wrongrightBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hoverNormalization.classifier\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n        wrongrightBars.attr('fill', this.wrongColor);\n      }\n\n      if (this.hoverNormalization.type === 'right_wrong') {\n         rightwrongBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hoverNormalization.classifier\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n         rightwrongBars.attr('fill', this.wrongColor);\n      }\n\n      if (this.hoverNormalization.type === 'middle-yes') {\n        middleYesBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hoverNormalization.classifier\n              ? \"grey\"\n              : \"lightgrey\");\n      } else {\n        middleYesBars.attr('fill',\"lightgrey\");\n      }\n\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      if (this.hoverNormalization.type) {\n          yAxisMarkerRect\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n          yAxisMarkerLine1\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y(0.2))\n            .attr('x2', this.width)\n            .attr('y2', this.y(0.2));\n          yAxisMarkerLine2\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', this.y(0.4))\n            .attr('x2', this.width)\n            .attr('y2', this.y(0.4));\n          \n          yAxisMarkerLine3\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y(0.6))\n            .attr('x2', this.width)\n            .attr('y2',  this.y(0.6));\n          yAxisMarkerLine4\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y(0.8))\n            .attr('x2', this.width)\n            .attr('y2',  this.y(0.8));\n\n          yAxisMarkerText1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text('tp-norm')\n          yAxisMarkerText2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(this.distribution_mode != 'correctness' ? 'fn-norm' : 'tn-norm')\n             \n          yAxisMarkerText3\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text('uncertain-norm')\n          yAxisMarkerText4\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(this.distribution_mode != 'correctness' ? 'tn-norm' : 'fn-norm')\n          yAxisMarkerText5\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text('fp-norm')\n\n          if (first) {\n            yAxisMarkerText1s1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"1st: \"+hoverText(this.hoverNormalization.classifier, 'right_right', first.instances));\n          yAxisMarkerText2s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"1st: \"+hoverText(this.hoverNormalization.classifier, 'right_wrong', first.instances));\n          yAxisMarkerText3s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"1st: \"+hoverText(this.hoverNormalization.classifier, 'middle', first.instances));\n          yAxisMarkerText4s1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"1st: \"+hoverText(this.hoverNormalization.classifier, 'wrong_wrong', first.instances));\n          yAxisMarkerText5s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"1st: \"+hoverText(this.hoverNormalization.classifier, 'wrong_right', first.instances));\n          } \n          if (second) {\n            yAxisMarkerText1s2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"2nd: \"+hoverText(this.hoverNormalization.classifier, 'right_right', second.instances));\n          yAxisMarkerText2s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"2nd: \"+hoverText(this.hoverNormalization.classifier, 'right_wrong', second.instances));\n          yAxisMarkerText3s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"2nd: \"+hoverText(this.hoverNormalization.classifier, 'middle', second.instances));\n          yAxisMarkerText4s2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"2nd: \"+hoverText(this.hoverNormalization.classifier, 'wrong_wrong', second.instances));\n          yAxisMarkerText5s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"2nd: \"+hoverText(this.hoverNormalization.classifier, 'wrong_right', second.instances));\n\n          }\n\n      } else { \n        yAxisMarkerRect\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 0);\n        yAxisMarkerLine1\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerLine2\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0); \n        yAxisMarkerLine3\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerLine4\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0); \n        yAxisMarkerText1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);    \n        yAxisMarkerText1s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);   \n        yAxisMarkerText1s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n      }\n    },\n    drawNormalization() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      const x = this.x;\n      const y = this.y;\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom)*1.2}`)\n      const svg = svgAll.append('g')\n          .attr('transform', `translate(${this.margin.left*1.2}, ${this.margin.top*1.5})`);\n\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        \n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Fraction of instances');\n        svg.append('text')\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( 'Instance Distribution');  \n      };\n      drawTitles();\n\n      const drawLegend = () => {\n        const width = this.width / 6;\n        const height = this.margin.top / 2;\n\n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.margin.left + this.width * 0.8},\n              ${height / 3})`);\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.rightColor)\n          .style(\"visibility\", \"visible\");\n\n          \n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill',this.wrongColor )\n          .style(\"visibility\", \"visible\");\n\n        legend.append('rect')\n          .attr('y', height)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill',\"lightgrey\" )\n          .style(\"visibility\", \"visible\");  \n\n        legend.append('rect')\n        .attr('y', height*1.5)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.rightColor)\n          .style(\"visibility\", \"visible\");\n\n          \n        legend.append('rect')\n          .attr('y', height *2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.wrongColor)\n          .style(\"visibility\", \"visible\");\n\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"tp\")\n          .style(\"visibility\",  \"visible\");\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"fn\")\n          .style(\"visibility\", \"visible\");\n          \n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 5 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"uncertain\")\n          .style(\"visibility\", \"visible\");  \n         legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 7 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"tn\")\n          .style(\"visibility\", \"visible\");\n          \n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 9 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"fp\")\n          .style(\"visibility\", \"visible\");  \n      };\n      drawLegend();\n\n      const drawBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', function (d: string){ \n              return `translate(${x(d)}, ${0})`});\n\n        this.svg = svg;\n\n        const barWidth = x.bandwidth();\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-right-norm')\n            .attr('y', (d: string) => y(1))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height / 5 )\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hoverNormalization = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHoverNormalization)\n            .on('click', (d: string) => this.select(d, 'right_right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_right', 'second'));\n\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-wrong-norm')\n            .attr('y', (d: string) => this.height / 5 )\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height / 5)\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hoverNormalization = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHoverNormalization)\n            .on('click', (d: string) => this.select(d, 'right_wrong', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_wrong', 'second'))\n            ;\n\n\n        barCells.append('rect')\n            .attr('class', 'bar-middle-yes-norm')\n            .attr('y', (d: string) => this.height / 5 * 2 )\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height / 5)\n            .attr('fill', \"lightgrey\")\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hoverNormalization = ({type: 'middle-yes', classifier: d}))\n            .on('mouseleave', this.clearHoverNormalization)\n            .on('click', (d: string) => this.select(d, 'middle-yes', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'middle-yes', 'second')); \n\n \n        barCells.append('rect')\n          .attr('class', 'bar-wrong-wrong-norm')\n          .attr('y', (d: string) =>this.height / 5 * 3)\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height / 5)\n          .attr('fill', this.rightColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hoverNormalization = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHoverNormalization) \n          .on('click', (d: string) => this.select(d, 'wrong_wrong', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_wrong', 'second'));\n\n\n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-right-norm')\n          .attr('y', (d: string) =>this.height / 5 * 4)\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height / 5)\n          .attr('fill', this.wrongColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hoverNormalization = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHoverNormalization) \n          .on('click', (d: string) => this.select(d, 'wrong_right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_right', 'second'));\n\n\n        \n      };\n\n      \n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-1-norm')\n          .attr('x2', this.width)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-2-norm')\n          .attr('x2', this.width)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');  \n\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-3-norm')\n          .attr('x2', this.width)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none'); \n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-4-norm')\n          .attr('x2', this.width)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none'); \n\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append('rect')\n          .attr('class', 'y-axis-marker-rect-norm')\n          .attr('width', '260')\n          .attr('height', '150')\n          .attr(\"x\",this.width-this.margin.right-250)\n          .attr('fill', \"white\")\n          .attr('stroke',\"lightgrey\")\n          .attr('stroke-width',\"2px\")\n          .attr('pointer-events', 'none')\n          .transition()\n          .duration(1000)\n          .attr('fill-opacity', 0);  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 0)') \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 40)') \n          .attr('font-size', 20)\n          .attr('fill', this.distribution_mode != 'correctness'? \n            this.wrongHoverColor\n            :this.rightHoverColor)\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 70)') \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 100)') \n          .attr('font-size', 20)\n          .attr('fill', this.distribution_mode != 'correctness'? \n            this.rightHoverColor\n            :this.wrongHoverColor)\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 130)') \n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'none');  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1-s1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-160)+ ', 0)') \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2-s1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 40)') \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3-s1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 70)') \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4-s1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 100)') \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5-s1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-160)+ ', 130)') \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1-s2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 0)') \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2-s2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 40)') \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3-s2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 70)') \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4-s2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 100)') \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5-s2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 130)') \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');  \n      };\n\n      drawBars();\n      yAxisMarkerLine();\n      yAxisMarkerText();\n\n      this.drawDistSelections();\n      this.drawHoverNormalization();\n\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom)*1.2}`)\n      const svg = svgAll.append('g')\n          .attr('transform', `translate(${this.margin.left*1.2}, ${this.margin.top*1.5})`);\n\n      const x = this.x;\n      const y = this.y;\n      const continuousClassifierName = this.continuousClassifierName;\n\n      \n      // judge thresholdRange\n      if (Object.keys(this.thresholdRange).length == 0) {\n        constthresholdRange:{\n  [classifier:string]:{\n  name:String,\n  threshold:Number,\n  left_range:Number,\n  right_range:Number,\n  }\n  }={}\n        this.classifiers.forEach((c)=>{\n  letcur_acc=0\n  thresholdRange[continuousClassifierName[c]]={\n  name:c,\n  threshold:Object.keys(this.classifierThresholdDict).includes(c)?this.classifierThresholdDict[c]:0,\n  left_range: !(Object.keys( this.classifierThresholdDict).includes(c))? 0:  (Object.keys(this.classifierBandWidthDict).length == 0) ? this.classifierThresholdDict[c] / 100 - 0.05 : this.classifierBandWidthDict[c].left_range,\n  right_range:!(Object.keys( this.classifierThresholdDict).includes(c))? 0:  (Object.keys(this.classifierBandWidthDict).length == 0) ? this.classifierThresholdDict[c] / 100 + 0.05 : this.classifierBandWidthDict[c].right_range\n  }\n  })\n        this.thresholdRange = thresholdRange\n      }\n\n      for (let c in this.thresholdRange){\n        let splitL = c.split(\"_\")\n        let classifier =c.substring(0,c.length-splitL[splitL.length-1].length-1)\n        let threshold = parseFloat(splitL[splitL.length-1])\n        let left_range = this.thresholdRange[c].left_range\n        let right_range = this.thresholdRange[c].right_range\n        if (threshold == this.classifierThresholdDict[classifier]/100){\n          continue\n        }\n        let left_diff = threshold - left_range\n        let right_diff = right_range - threshold\n        delete this.thresholdRange[c]\n        this.thresholdRange[continuousClassifierName[classifier]] = {\n          name:classifier,\nthreshold:this.classifierThresholdDict[classifier],\nleft_range: this.classifierThresholdDict[classifier]/100 - left_diff,\nright_range:this.classifierThresholdDict[classifier] / 100 + right_diff,\n        }\n      }\n      const predictions = this.predictions \n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n       \n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Fraction of instances');\n        svg.append('text')\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( 'Instance Distribution');  \n      };\n      drawTitles();\n\n      const drawLegend = () => {\n        const width = this.width / 6;\n        const height = this.margin.top / 2;\n      \n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.margin.left + this.width * 0.8},\n              ${height / 3})`);\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.rightColor)\n          .style(\"visibility\", \"visible\");\n\n          \n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.distribution_mode == 'score'? this.wrongColor : this.rightColor )\n          .style(\"visibility\", \"visible\");\n\n        if (this.distribution_mode != 'correctness2') {\n          legend.append('rect')\n          .attr('y', height)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill',\"lightgrey\" )\n          .style(\"visibility\", \"visible\");  \n        }\n        \n\n        legend.append('rect')\n        .attr('y', this.distribution_mode != 'correctness2'? height*1.5 : height)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.distribution_mode != 'score'? this.wrongColor : this.rightColor )\n          .style(\"visibility\", \"visible\");\n\n          \n        legend.append('rect')\n          .attr('y', this.distribution_mode != 'correctness2'? height*2 : height*1.5)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.wrongColor)\n          .style(\"visibility\", \"visible\");\n\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"tp\")\n          .style(\"visibility\",  \"visible\");\n\n        if (this.distribution_mode != 'correctness2') {\n            legend.append('text')\n            .attr('transform',  `translate(${width / 2}, ${height * 5 / 4})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"uncertain\")\n            .style(\"visibility\", \"visible\");  \n        }\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(this.distribution_mode != 'score'? \"tn\":\"fn\")\n          .style(\"visibility\", \"visible\");\n        \n       \n         legend.append('text')\n          .attr('transform', this.distribution_mode != 'correctness2'? `translate(${width / 2}, ${height * 7 / 4})`\n                                                                      : `translate(${width / 2}, ${height * 5 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( this.distribution_mode != 'score'?\"fn\":\"tn\")\n          .style(\"visibility\", \"visible\");\n          \n        legend.append('text')\n          .attr('transform', this.distribution_mode != 'correctness2'? `translate(${width / 2}, ${height * 9 / 4})`\n                                                                      : `translate(${width / 2}, ${height * 7 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"fp\")\n          .style(\"visibility\", \"visible\");  \n\n        \n\n      };\n\n      const drawSelectedLegend = () => {\n        const width = this.width / 6;\n        const height = this.margin.top / 2;\n        const selectionSets = [1,2]\n        const legend = d3.select(this.$refs.svg)\n            .select('svg')\n            .append('g')\n              .attr('class', 'legend')\n              .attr('transform', `translate(\n                ${this.margin.left + this.width * 0.8 },\n                ${height / 3})`);\n        // @ts-ignore\n        selectionSets.forEach((selection_type)=>{\n          const legend = d3.select(this.$refs.svg)\n            .select('svg')\n            .append('g')\n              .attr('class', 'legend')\n              .attr('transform', `translate(\n                ${this.margin.left + this.width * 0.8 + (selection_type) * width * 0.28},\n                ${height / 3})`);\n\n          legend.append('text')\n            .attr('transform', `translate(${width / 8}, ${-10})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"s\"+selection_type)\n            .style(\"visibility\",  \"visible\");\n\n          legend.append('rect')\n            .attr('width', width / 4)\n            .attr('height', height / 2)\n            .attr('fill', selection_type == 1? this.selection1Right : this.selection2Right)\n            .style(\"visibility\", \"visible\");\n\n            \n          legend.append('rect')\n            .attr('y', height / 2)\n            .attr('width', width / 4)\n            .attr('height', height / 2)\n            .attr('fill',selection_type == 1? this.selection1Wrong : this.selection2Wrong )\n            .style(\"visibility\", \"visible\");\n\n          legend.append('rect')\n            .attr('y', height)\n            .attr('width', width / 4)\n            .attr('height', height / 2)\n            .attr('fill',selection_type == 1? this.selection1mid : this.selection2mid)\n            .style(\"visibility\", \"visible\");  \n\n          legend.append('rect')\n          .attr('y', height*1.5)\n            .attr('width', width / 4)\n            .attr('height', height / 2)\n            .attr('fill', selection_type == 1? this.selection1Right : this.selection2Right)\n            .style(\"visibility\", \"visible\");\n\n            \n          legend.append('rect')\n            .attr('y', height *2)\n            .attr('width', width / 4)\n            .attr('height', height / 2)\n            .attr('fill', selection_type == 1? this.selection1Wrong : this.selection2Wrong)\n            .style(\"visibility\", \"visible\");\n        })\n        legend.append('text')\n          .attr('transform', `translate(${0}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"tp\")\n          .style(\"visibility\",  \"visible\");\n\n        legend.append('text')\n          .attr('transform', `translate(${0}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"fp\")\n          .style(\"visibility\", \"visible\");\n          \n        legend.append('text')\n          .attr('transform', `translate(${0}, ${height * 5 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"uncertain\")\n          .style(\"visibility\", \"visible\");  \n        legend.append('text')\n          .attr('transform', `translate(${0}, ${height * 7 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"tn\")\n          .style(\"visibility\", \"visible\");\n          \n        legend.append('text')\n          .attr('transform', `translate(${0}, ${height * 9 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"fn\")\n          .style(\"visibility\", \"visible\");  \n        \n      };\n      if (this.selection_mode == 'overall') {\n        drawLegend();\n      } else {\n        drawSelectedLegend();\n      } \n      \n\n      const drawBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', function (d: string){ \n              return `translate(${x(d)}, ${0})`});\n\n        this.svg = svg;\n\n        const barWidth = x.bandwidth();\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-right')\n            .attr('y', (d: string) => y(1))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y(predictions[d].tp / predictions[d].total_size))\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_right', 'second'));\n        \n        barCells.append('rect')\n            .attr('class', 'bar-right-wrong')\n            .attr('y', (d: string) => this.height - y((predictions[d].tp) / predictions[d].total_size))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y(predictions[d].fn / predictions[d].total_size))\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_wrong', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_wrong', 'second'));\n        \n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-wrong')\n          .attr('y', (d: string) =>this.height - y((predictions[d].right_size + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height - y(predictions[d].tn / predictions[d].total_size))\n          .attr('fill', this.rightColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_wrong', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_wrong', 'second'));\n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-right')\n          .attr('y', (d: string) =>y(predictions[d].fp / predictions[d].total_size))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height - y(predictions[d].fp / predictions[d].total_size))\n          .attr('fill', this.wrongColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_right', 'second'));\n        \n\n        barCells.append('rect')\n            .attr('class', 'bar-middle-yes')\n            .attr('y', (d: string) => this.height - y((predictions[d].right_size) / predictions[d].total_size))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size))\n            .attr('fill', \"lightgrey\")\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'middle-yes', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'middle-yes', 'second')); \n        \n        barCells.append('circle')\n            .attr('class', 'bar-right-right-circle')\n            .attr('cx', barWidth/2 - barWidth/4)\n            .attr('cy', (d: string) => y(1)+barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_right', 'second'))\n            .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].tp / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].tp / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n        \n        barCells.append('circle')\n            .attr('class', 'bar-right-wrong-circle')\n            .attr('cx',barWidth/2 )\n            .attr('cy', (d: string) => this.height - y((predictions[d].tp) / predictions[d].total_size)+barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_wrong', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_wrong', 'second'))\n            .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].fn / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].fn / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n        \n\n        barCells.append('circle')\n          .attr('class', 'bar-wrong-wrong-circle')\n          .attr('cx',barWidth/2- barWidth/4)\n            .attr('cy', (d: string) => this.height - y((predictions[d].right_size + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)+barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_wrong', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_wrong', 'second'))\n          .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].tn / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].tn / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n\n        barCells.append('circle')\n          .attr('class', 'bar-wrong-right-circle')\n          .attr('cx',barWidth/2)\n            .attr('cy', (d: string) => y(0)-barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_right', 'second'))\n          .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].fp / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].fp / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n       \n\n        barCells.append('circle')\n            .attr('class', 'bar-middle-yes-circle')\n            .attr('cx',barWidth/2 + barWidth/4)\n            .attr('cy', ((d: string) => this.height - y((predictions[d].right_size+predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)-barWidth/8))\n            .attr('r',barWidth/8)\n            .attr('fill', \"lightgrey\")\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n            .attr(\"visibility\",(d: string) => (this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)) > 0\n                                          && (this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'middle-yes', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'middle-yes', 'second')); \n      };\n\n      const drawDistributeBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', function (d: string){ \n              return `translate(${x(d)}, ${0})`});\n\n        this.svg = svg;\n        const barWidth = x.bandwidth();\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-right')\n            .attr('y', (d: string) => y(1))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.distribution_mode == 'correctness'? this.height - y(predictions[d].tp / predictions[d].total_size)\n                                                                                  : this.height - y((predictions[d].tp + predictions[d].m_tp) / predictions[d].total_size))\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_right', 'second'));\n        \n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-wrong')\n          .attr('y', (d: string) => this.distribution_mode == 'correctness'?  this.height - y((predictions[d].tp) / predictions[d].total_size)\n                                                                              :this.height - y((predictions[d].tp + predictions[d].m_tp) / predictions[d].total_size))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.distribution_mode == 'correctness'?  this.height - y(predictions[d].tn / predictions[d].total_size)\n                                                                                  :this.height - y((predictions[d].tn + predictions[d].m_tn) / predictions[d].total_size))\n          .attr('fill', this.rightColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_wrong', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_wrong', 'second'));\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-wrong')\n            .attr('y', (d: string) =>this.distribution_mode == 'correctness'?  this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                                                                             : this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].m_tp+predictions[d].m_tn) / predictions[d].total_size))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) =>this.distribution_mode == 'correctness'?  this.height - y(predictions[d].fn / predictions[d].total_size)\n                                                                                  :  this.height - y((predictions[d].fn + predictions[d].m_fp) / predictions[d].total_size))\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_wrong', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_wrong', 'second'));\n        \n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-right')\n          .attr('y', (d: string) =>this.distribution_mode == 'correctness'?  y(predictions[d].fp / predictions[d].total_size)\n                                                                            :y((predictions[d].fp + predictions[d].m_fn) / predictions[d].total_size))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.distribution_mode == 'correctness'? this.height - y(predictions[d].fp / predictions[d].total_size)\n                                                                                : this.height - y((predictions[d].fp + predictions[d].m_fn) / predictions[d].total_size))\n          .attr('fill', this.wrongColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_right', 'second'));\n        \n        if (this.distribution_mode == 'correctness') {\n          barCells.append('rect')\n            .attr('class', 'bar-middle-yes')\n            .attr('y', (d: string) => this.height - y((predictions[d].tp + predictions[d].tn) / predictions[d].total_size))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size))\n            .attr('fill', \"lightgrey\")\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'middle-yes', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'middle-yes', 'second')); \n        }\n        \n        \n        barCells.append('circle')\n            .attr('class', 'bar-right-right-circle')\n            .attr('cx',barWidth/2 - barWidth/4)\n            .attr('cy', (d: string) => y(1)+barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_right', 'second'))\n            .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].tp / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].tp / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n        \n        barCells.append('circle')\n            .attr('class', 'bar-right-wrong-circle')\n            .attr('cx',barWidth/2 - barWidth / 4)\n            .attr('cy', (d: string) =>this.distribution_mode == 'correctness'?  this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                                                                             : this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].m_tp+predictions[d].m_tn) / predictions[d].total_size))\n            .attr('r',barWidth/8)\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_wrong', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_wrong', 'second'))\n            .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].fn / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].fn / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n        \n\n        barCells.append('circle')\n          .attr('class', 'bar-wrong-wrong-circle')\n          .attr('cx',barWidth/2)\n          .attr('cy', (d: string) => this.distribution_mode == 'correctness'?  this.height - y((predictions[d].tp) / predictions[d].total_size)\n                                                                              :this.height - y((predictions[d].tp + predictions[d].m_tp) / predictions[d].total_size))\n\n            .attr('r',barWidth/8)\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_wrong', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_wrong', 'second'))\n          .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].tn / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].tn / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n\n        barCells.append('circle')\n          .attr('class', 'bar-wrong-right-circle')\n          .attr('cx',barWidth/2)\n            .attr('cy', (d: string) => y(0)-barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_right', 'second'))\n          .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].fp / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].fp / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n       \n        if (this.distribution_mode == 'correctness') {\n            barCells.append('circle')\n              .attr('class', 'bar-middle-yes-circle')\n              .attr('cx',barWidth/2 + barWidth/4)\n              .attr('cy', (d: string) => this.height - y((predictions[d].tp + predictions[d].tn) / predictions[d].total_size))\n              .attr('r',barWidth/8)\n              .attr('fill', \"lightgrey\")\n              .attr('stroke', 'grey')\n              .style('paint-order', 'stroke')\n              .attr(\"visibility\",(d: string) => (this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)) > 0\n                                            && (this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n\n              .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', classifier: d}))\n              .on('mouseleave', this.clearHover)\n              .on('click', (d: string) => this.select(d, 'middle-yes', 'first'))\n              .on('contextmenu', (d: string) => this.select(d, 'middle-yes', 'second'));\n        }\n         \n      };\n\n      const drawSelectedBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', function (d: string){ \n              return `translate(${x(d)}, ${0})`});\n\n        const barWidth = x.bandwidth();\n        const {first, second} = this.selections\n        const classifiers = this.continuousPredictionKeys\n        let selectedDistribution = []\n        if (first){\n          selectedDistribution.push(get_selected_distribution('1'))\n        }\n        if (second) {\n          selectedDistribution.push(get_selected_distribution('2'))\n        }\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-right')\n            .attr('y', (d: string) => y(1))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y(predictions[d].tp / this.instances.length))\n            .attr('fill', this.rightColor)\n            .attr(\"opacity\",0.5)\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            \n\n        \n        barCells.append('rect')\n            .attr('class', 'bar-right-wrong')\n            .attr('y', (d: string) => this.height - y((predictions[d].tp) / this.instances.length))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y(predictions[d].fn / this.instances.length))\n            .attr('fill', this.wrongColor)\n            .attr(\"opacity\",0.5)\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHover)\n        \n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-wrong')\n          .attr('y', (d: string) =>this.height - y((predictions[d].right_size + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / this.instances.length))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height - y(predictions[d].tn / this.instances.length))\n          .attr('fill', this.rightColor)\n            .attr(\"opacity\",0.5)\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHover) \n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-right')\n          .attr('y', (d: string) =>y(predictions[d].fp / this.instances.length))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height - y(predictions[d].fp / this.instances.length))\n          .attr('fill', this.wrongColor)\n            .attr(\"opacity\",0.5)\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n\n        \n\n        barCells.append('rect')\n            .attr('class', 'bar-middle-yes')\n            .attr('y', (d: string) => this.height - y((predictions[d].right_size) / this.instances.length))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / this.instances.length))\n            .attr('fill', \"lightgrey\")\n            .style('paint-order', 'stroke')\n            .style(\"opacity\",0.5)\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            \n\n        selectedDistribution.forEach((distribution)=>{\n            barCells.append('rect')\n              .attr('class', 'bar-right-right')\n              .attr('x', (d: string) => distribution[d].selected_type == '1'?barWidth / 4 : barWidth / 2)\n              .attr('y', (d: string) => y((distribution[d].wrong.size + distribution[d].middle_right.size+distribution[d].middle_wrong.size + distribution[d].right_wrong.size + distribution[d].right_right.size) / this.instances.length))\n              .attr('width', function(d){\n                return barWidth / 4\n                })\n              .attr('height', (d: string) => this.height - y(distribution[d].right_right.size / this.instances.length))\n              .attr('fill', (d: string) => distribution[d].selected_type == '1'? this.selection1Right:this.selection2Right)\n              .attr('stroke', 'black')\n              .style('paint-order', 'stroke')\n              .on('mouseenter', (d: string) => this.hover = ({type: 'right_right',selection: distribution[d].selected_type, classifier: d}))\n              .on('mouseleave', this.clearHover)\n          \n          barCells.append('rect')\n              .attr('class', 'bar-right-wrong')\n              .attr('x', (d: string) => distribution[d].selected_type == '1'?barWidth / 4 : barWidth / 2)\n              .attr('y', (d: string) => y((distribution[d].wrong.size + distribution[d].middle_right.size+distribution[d].middle_wrong.size + distribution[d].right_wrong.size) / this.instances.length))\n              .attr('width', function(d){\n                return barWidth / 4\n                })\n              .attr('height', (d: string) => this.height - y(distribution[d].right_wrong.size / this.instances.length))\n              .attr('fill', (d: string) => distribution[d].selected_type == '1'? this.selection1Wrong:this.selection2Wrong)\n              .attr('stroke', 'black')\n              .style('paint-order', 'stroke')\n              .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', selection: distribution[d].selected_type,classifier: d}))\n              .on('mouseleave', this.clearHover)\n          \n\n          barCells.append('rect')\n            .attr('class', 'bar-wrong-wrong')\n            .attr('x', (d: string) => distribution[d].selected_type == '1'?barWidth / 4 : barWidth / 2)\n            .attr('y', (d: string) => y((distribution[d].wrong_right.size + distribution[d].wrong_wrong.size) / this.instances.length))\n            .attr('width', barWidth / 4)\n            .attr('height', (d: string) => this.height - y(distribution[d].wrong_wrong.size / this.instances.length))\n            .attr('fill', (d: string) => distribution[d].selected_type == '1'? this.selection1Right:this.selection2Right)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong',selection: distribution[d].selected_type,classifier: d}))\n            .on('mouseleave', this.clearHover) \n\n\n          barCells.append('rect')\n            .attr('class', 'bar-wrong-right')\n            .attr('x', (d: string) => distribution[d].selected_type == '1'?barWidth / 4 : barWidth / 2)\n            .attr('y', (d: string) =>y(distribution[d].wrong_right.size / this.instances.length))\n            .attr('width', barWidth / 4)\n            .attr('height', (d: string) => this.height - y(distribution[d].wrong_right.size / this.instances.length))\n            .attr('fill', (d: string) => distribution[d].selected_type == '1'? this.selection1Wrong:this.selection2Wrong)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', selection: distribution[d].selected_type,classifier: d}))\n            .on('mouseleave', this.clearHover) \n          \n\n          barCells.append('rect')\n              .attr('class', 'bar-middle-yes')\n              .attr('x', (d: string) => distribution[d].selected_type == '1'?barWidth / 4 : barWidth / 2)\n              .attr('y', (d: string) => y((distribution[d].wrong.size + distribution[d].middle_right.size+distribution[d].middle_wrong.size) / this.instances.length))\n              .attr('width', function(d){\n                return barWidth / 4\n                })\n              .attr('height', (d: string) => this.height - y((distribution[d].middle_right.size+distribution[d].middle_wrong.size) / this.instances.length))\n              .attr('fill', (d: string) => distribution[d].selected_type == '1'? this.selection1mid:this.selection2mid)\n              .attr('stroke', 'black')\n              .style('paint-order', 'stroke')\n              .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', selection: distribution[d].selected_type,classifier: d}))\n              .on('mouseleave', this.clearHover)\n          \n          \n        })\n\n        function get_selected_distribution(selected_type) {\n          const selection = selected_type == '1'? first.instances : second.instances\n          let selectedDis = {}\n          classifiers.forEach((c)=>{\n            let right_right = intersection(selection, predictions[c].right_right)\n            let right_wrong = intersection(selection, predictions[c].right_wrong)\n            let wrong_wrong = intersection(selection, predictions[c].wrong_wrong)\n            let wrong_right = intersection(selection, predictions[c].wrong_right)\n            let middle_right = intersection(selection, predictions[c].middle_right)\n            let middle_wrong = intersection(selection, predictions[c].middle_wrong)\n            let right = intersection(selection, predictions[c].right)\n            let wrong = intersection(selection, predictions[c].wrong)\n            selectedDis[c]  ={\n              'right_right':right_right,\n              'right_wrong':right_wrong,\n              'wrong_wrong':wrong_wrong,\n              'wrong_right':wrong_right,\n              'middle_right':middle_right,\n              'middle_wrong':middle_wrong,\n              'right':right,\n              'wrong':wrong,\n              'selected_type':selected_type\n            }\n          })\n          return selectedDis\n        }\n\n      };\n      \n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-1')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none');\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-2')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none');  \n\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-3')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none'); \n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-4')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none'); \n\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append('rect')\n          .attr('class', 'y-axis-marker-rect')\n          .attr('width', '260')\n          .attr('height', '150')\n          .attr(\"x\",this.width-this.margin.right-250)\n          .attr('fill', \"white\")\n          .attr('stroke',\"lightgrey\")\n          .attr('stroke-width',\"2px\")\n          .attr('pointer-events', 'none')\n          .transition()\n          .duration(1000)\n          .attr('fill-opacity', 0);  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 0)') \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 40)') \n          .attr('font-size', 20)\n          .attr('fill', this.distribution_mode == 'score'? this.wrongHoverColor : this.rightHoverColor )\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 70)') \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 100)') \n          .attr('font-size', 20)\n          .attr('fill', this.distribution_mode == 'score'? this.rightHoverColor : this.wrongHoverColor )\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 130)') \n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'none');  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1-s1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-160)+ ', 0)') \n           \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2-s1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 40)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3-s1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 70)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4-s1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 100)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5-s1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-160)+ ', 130)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1-s2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 0)') \n           \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2-s2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 40)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3-s2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 70)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4-s2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 100)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5-s2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 130)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');  \n      };\n\n      if (this.selection_mode == 'overall') {\n        if (this.distribution_mode == 'score') {\n          drawBars();\n          this.drawSelections();\n        } else {\n          drawDistributeBars();\n          this.drawSelections();\n        }\n      } else{\n        drawSelectedBars();\n      }\n      \n      yAxisMarkerLine();\n      yAxisMarkerText();\n\n      this.drawHover();\n\n    },\n    drawDistSelections() {\n      const chart = d3.select(this.$refs.svg);\n      const formatDecimal = d3.format(\".1f\")\n      const selectionWidth = this.x.bandwidth() / 8\n\n      const { first, second } = this.selections;\n\n      const predictions = this.predictions \n\n      const rightYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        var totalInstances = 0 \n        totalInstances = predictions[classifierName].total_size\n\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = instances.size == 0? 0 :  overlappingInstances.size / instances.size;\n        return this.y(fractionOfTotalInstances) ;\n      };\n      const rightHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        return (this.height - rightYOffset(classifierName, typeString,selection))  /5;\n      };\n\n      const wrongYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        var totalInstances = 0 \n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = instances.size == 0? 0 :  overlappingInstances.size / instances.size;\n        return this.y(fractionOfTotalInstances) ;\n      };\n      const wrongHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        var totalInstances = 0\n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = instances.size == 0? 0 :  overlappingInstances.size / instances.size;\n        return (this.height - this.y(fractionOfTotalInstances)) /5;\n      };\n\n      const middleYesYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = new Set([...predictions[classifierName].middle_right])\n        const instancesNo = new Set([ ...predictions[classifierName].middle_wrong]) \n        var totalInstances = 0 \n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const overlappingInstancesNo = intersection(instancesNo, selection);\n        const fractionOfTotalInstances = (instances.size + instancesNo.size) == 0? 0 :  (overlappingInstances.size+overlappingInstancesNo.size+predictions[classifierName].wrong_size ) / (instances.size + instancesNo.size);\n        return this.y(fractionOfTotalInstances) ;\n      };\n      const middleYesHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = new Set([...predictions[classifierName].middle_right])\n        const instancesNo = new Set([ ...predictions[classifierName].middle_wrong]) \n        var totalInstances = 0\n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const overlappingInstancesNo = intersection(instancesNo, selection);\n        const fractionOfTotalInstances = (instances.size + instancesNo.size) == 0? 0 :(overlappingInstances.size + overlappingInstancesNo.size) / (instances.size + instancesNo.size);\n        return (this.height - this.y(fractionOfTotalInstances)) /5;\n      };\n\n      const x = this.x;\n      const y = this.y;\n      const barWidth = x.bandwidth();\n      const selectionBarWidth = x.bandwidth() / 8;\n      const selectionType =  ['right_right', 'right_wrong', 'wrong_wrong', 'wrong_right', 'middle']\n      const selections = [first, second];\n\n      selections.forEach((cur_selection, idx)=>{\n        if (!cur_selection) {\n          this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n          this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n        } else {\n          this.continuousPredictionKeys.forEach((d)=>{\n            selectionType.forEach((type, i)=>{\n              let selection_attributes = {\n                  barCells : this.svg,\n                  x : x(d) + barWidth / 2 + (idx-1) * selectionBarWidth ,\n                  y : type == 'right_right' ? y(1)\n                    : type == 'right_wrong' ? this.height / 5\n                    : type == 'wrong_wrong' ? this.height / 5 * 3 \n                    : type == 'wrong_right' ?this.height / 5 * 4\n                    : this.height / 5 * 2,\n                  width : selectionBarWidth,\n                  height : type == 'right_right' || type == 'right_wrong' ? rightHeight(d, type, cur_selection.instances) \n                      : type == 'wrong_wrong' || type == 'wrong_right' ? wrongHeight(d, type, cur_selection.instances)\n                      : middleYesHeight(d,type, cur_selection.instances),\n                  r  : selectionBarWidth / 2,\n                  color : idx == 0? this.selection1Color : this.selection2Color,\n                  circle_visibility : ((type == 'right_right' || type == 'right_wrong') && rightHeight(d, type, cur_selection.instances) > 0 && rightHeight(d,type, cur_selection.instances) < selectionWidth)\n                                    || ((type == 'wrong_wrong' || type == 'wrong_right') && wrongHeight(d,type, cur_selection.instances) > 0 && wrongHeight(d,type, cur_selection.instances) < selectionWidth)\n                                    || (middleYesHeight(d,type, cur_selection.instances) > 0 && middleYesHeight(d,type, cur_selection.instances) < selectionWidth) ? \"visible\":\"hidden\",\n                  cx : x(d) + barWidth / 2  + (idx - 1/2) * selectionBarWidth,\n                  cy : type == 'right_right' ? y(1)\n                    : type == 'right_wrong' ? this.height / 5\n                    : type == 'wrong_wrong' ? this.height / 5 * 3 \n                    : type == 'wrong_right' ?this.height / 5 * 4\n                    : this.height / 5 * 2,                  \n                  selection_type: idx,\n                  view_name : this.name\n                }\n                this.$store.dispatch('drawSelections',selection_attributes)\n            })\n          })\n        }\n      })\n\n\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      \n      const formatDecimal = d3.format(\".1f\")\n      const selectionWidth = this.x.bandwidth() / 8\n\n      const { first, second } = this.selections;\n\n      const predictions = this.predictions \n\n      let instanceWeights = {};\n      let allInstances = [...this.$store.getters.filteredInstances];\n      let selectionHistory = this.$store.state.selectionHistory\n      allInstances.forEach((c)=>{\n        instanceWeights[c] = 1\n      })\n      \n      if (this.weightedPerformance == 'weighted') {\n        selectionHistory.forEach((s)=>{\n          let tmp_instances = [...s.instances]\n\n          let weight = parseFloat((s.weight).toString())\n          tmp_instances.forEach((i)=>{\n            instanceWeights[i] += weight\n          })\n        })\n      }\n      \n      const weightedInstanceSize = (instances: any[]) => {\n        let size = 0\n        instances.forEach((i)=>{\n          size += instanceWeights[i]\n        })\n        return size\n      }\n\n\n      const rightYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        const totalInstances =  new Set(this.instances) \n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = weightedInstanceSize([...overlappingInstances]) / weightedInstanceSize([...totalInstances]); \n        return this.y(fractionOfTotalInstances);\n      };\n      const rightHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        return this.height - rightYOffset(classifierName, typeString,selection);\n      };\n\n      const wrongYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        const totalInstances = new Set(this.instances) \n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = weightedInstanceSize([...overlappingInstances]) / weightedInstanceSize([...totalInstances]); \n        return this.y(fractionOfTotalInstances);\n      };\n      const wrongHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        const totalInstances = new Set(this.instances) \n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = weightedInstanceSize([...overlappingInstances]) / weightedInstanceSize([...totalInstances]); \n        return this.height - this.y(fractionOfTotalInstances);\n      };\n\n      const middleYesYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = new Set([...predictions[classifierName].middle_right])\n        const instancesNo = new Set([ ...predictions[classifierName].middle_wrong]) \n        const totalInstances = new Set(this.instances) \n        const overlappingInstances = intersection(instances, selection);\n        const overlappingInstancesNo = intersection(instancesNo, selection);\n        const fractionOfTotalInstances = (weightedInstanceSize([...overlappingInstances]) + weightedInstanceSize([...overlappingInstancesNo]) + predictions[classifierName].wrong_size)\n                                          / (weightedInstanceSize([...totalInstances]))\n        return this.y(fractionOfTotalInstances);\n      };\n      const middleYesHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = new Set([...predictions[classifierName].middle_right])\n        const instancesNo = new Set([ ...predictions[classifierName].middle_wrong]) \n        const totalInstances = new Set(this.instances) \n        const overlappingInstances = intersection(instances, selection);\n        const overlappingInstancesNo = intersection(instancesNo, selection);\n        const fractionOfTotalInstances = (weightedInstanceSize([...overlappingInstances]) + weightedInstanceSize([...overlappingInstancesNo])) \n                                          / (weightedInstanceSize([...totalInstances]))\n        return this.height - this.y(fractionOfTotalInstances);\n      };\n      const hasFocusItem = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        const overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n\n\n      const x = this.x;\n      const y = this.y;\n      const barWidth = x.bandwidth();\n      const selectionBarWidth = x.bandwidth() / 8;\n      const selectionType = ['right_right', 'right_wrong', 'wrong_wrong', 'wrong_right', 'middle']\n      const selections = [first, second];\n\n      selections.forEach((cur_selection, idx)=>{\n        if (!cur_selection) {\n          this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n          this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n        } else {\n          this.continuousPredictionKeys.forEach((d)=>{\n            selectionType.forEach((type, i)=>{\n              let vis = 'hidden'\n              if (type != 'middle') {\n                if ((type == 'right_right' || type == 'right_wrong')) {\n                  if (rightHeight(d, type, cur_selection.instances) > 0 && rightHeight(d,type, cur_selection.instances) < selectionWidth) {\n                    vis = 'visible'\n                  }\n                } else if ((type == 'wrong_wrong' || type == 'wrong_right')) {\n                  if (wrongHeight(d,type, cur_selection.instances) > 0 && wrongHeight(d,type, cur_selection.instances) < selectionWidth) {\n                    vis = 'visible'\n                  }\n                } \n              } else {\n                if (middleYesHeight(d,type, cur_selection.instances) > 0 && middleYesHeight(d,type, cur_selection.instances) < selectionWidth) {\n                  vis = 'visible'\n                }\n                \n              }\n              \n              let selection_attributes = {\n                  barCells : this.svg,\n                  x : x(d) + barWidth / 2 + (idx-1) * selectionBarWidth ,\n                  y : type == 'right_right' ? y(1)\n                    : type == 'right_wrong' && this.distribution_mode == 'score' ? this.height - y((predictions[d].tp) / predictions[d].total_size)\n                    : type == 'right_wrong' && this.distribution_mode != 'score' ? this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                    : type == 'wrong_wrong' && this.distribution_mode == 'score' ? this.height - y((predictions[d].right_size + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                    : type == 'wrong_wrong' && this.distribution_mode != 'score' ? this.height - y((predictions[d].tp) / predictions[d].total_size)\n                    : type == 'wrong_right' ? y(predictions[d].fp / predictions[d].total_size)\n                    : type == 'middle' && this.distribution_mode == 'score' ? this.height - y((predictions[d].right_size) / predictions[d].total_size)\n                    : this.height - y((predictions[d].tp + predictions[d].tn) / predictions[d].total_size),\n                  width : selectionBarWidth,\n                  height : type == 'right_right' || type == 'right_wrong' ? rightHeight(d, type, cur_selection.instances) \n                      : type == 'wrong_wrong' || type == 'wrong_right' ? wrongHeight(d, type, cur_selection.instances)\n                      : middleYesHeight(d,type, cur_selection.instances),\n                  r  : selectionBarWidth / 2,\n                  color : idx == 0? this.selection1Color : this.selection2Color,\n                  circle_visibility: vis,\n                  cx : x(d) + barWidth / 2  + (idx - 1/2) * selectionBarWidth,\n                  cy : type == 'right_right' ? y(1)\n                    : type == 'right_wrong' && this.distribution_mode == 'score' ? this.height - y((predictions[d].tp) / predictions[d].total_size)\n                    : type == 'right_wrong' && this.distribution_mode != 'score' ? this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                    : type == 'wrong_wrong' && this.distribution_mode == 'score' ? this.height - y((predictions[d].right_size + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                    : type == 'wrong_wrong' && this.distribution_mode != 'score' ? this.height - y((predictions[d].tp) / predictions[d].total_size)\n                    : type == 'wrong_right' ? y(predictions[d].fp / predictions[d].total_size)\n                    : type == 'middle' && this.distribution_mode == 'score' ? this.height - y((predictions[d].right_size) / predictions[d].total_size)\n                    : this.height - y((predictions[d].tp + predictions[d].tn) / predictions[d].total_size),\n                  selection_type: idx,\n                  view_name : this.name\n                }\n                this.$store.dispatch('drawSelections',selection_attributes)\n            })\n          })\n        }\n      })\n\n    },\n    select(\n      classifier: string,\n      type: 'right' | 'wrong' | 'middle-yes' |'middle-no' | 'middle-curve',\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n      constraint.negation = (type === 'wrong');\n\n      let predictions = this.predictions \n      let instances = predictions[classifier][type]\n      if (type == \"middle-yes\"){\n        instances = new Set([...predictions[classifier].middle_right].concat([...predictions[classifier].middle_wrong]))\n      }\n      \n      const type_dict = {\n        'right_right':'tp',\n        'right_wrong':'fn',\n        'wrong_wrong':'tn',\n        'wrong_right':'fp'\n      }\n      const description = `Instances which ${classifier} got ${type_dict[type]}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinaryInstanceDistribuion.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinaryInstanceDistribuion.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TrinaryInstanceDistribuion.vue?vue&type=template&id=72316b6c&scoped=true&\"\nimport script from \"./TrinaryInstanceDistribuion.vue?vue&type=script&lang=ts&\"\nexport * from \"./TrinaryInstanceDistribuion.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TrinaryInstanceDistribuion.vue?vue&type=style&index=0&id=72316b6c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72316b6c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"(Trinary) Bandwidth Assessment\")])],1)]),_c('v-expansion-panel-content',[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationSelection),callback:function ($$v) {_vm.evaluationSelection=$$v},expression:\"evaluationSelection\"}},[_c('v-radio',{attrs:{\"label\":\"accuracy\",\"value\":\"accuracy\"}}),_c('v-radio',{attrs:{\"id\":\"mcc\",\"label\":\"mcc\",\"value\":\"mcc\"}}),_c('v-radio',{attrs:{\"label\":\"f1\",\"value\":\"f1\"}}),_c('v-radio',{attrs:{\"label\":\"precision\",\"value\":\"precision\"}}),_c('v-radio',{attrs:{\"label\":\"recall\",\"value\":\"recall\"}})],1)],1)],1)],1),_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar values = ref.values;\nvar isOpen = ref.isOpen;\nreturn [(values.length && !isOpen)?_c('span',{staticClass:\"multiselect__single\"},[_vm._v(\" \"+_vm._s(values.length)+\" options selected \")]):_vm._e()]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n  union,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { range } from 'd3';\n\nexport default Vue.extend({\n  name: 'Trinary_Bandwidth_Assessment',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n      selectedClassifier: '',\n    };\n    const click = {\n      classifier: '',\n      threshold: ''\n    };  \n    const evaluationSelection = 'accuracy' as 'mcc'| 'f1' | 'precision'| 'recall'| 'accuracy'\n\n    const thresholdRangeChange = {\n      type: '' as 'right' | 'left' | '',\n      classifier:'',\n      threshold: 0.5,\n      value: 0,\n      left_diff:0.05,\n      right_diff:0.05,\n    }\n    const bandwidthHover = {\n      bandwidth: '',\n    }\n    const barHover  = {\n      threshold: '',\n    }\n    const accHover  = {\n      threshold: '',\n    }\n    const curveClassifier = [...this.boxProps.classifiers][3];\n    const thresholds = [\"0.00\", \"0.10\",\"0.20\",\"0.30\",\"0.40\",\"0.50\",\"0.60\",\"0.70\",\"0.80\",\"0.90\",\"1.00\"]\n    const upperColors = [\"rgb(37,102,118)\", \"rgb(138,225,249)\"]\n    const lowerColors = [\"rgb(181,29,73)\", \"rgb(251,137,155)\"]\n    const middleColors = [\"rgb(64,57,150)\",\"rgb(119,136,153)\"]\n    const currentSetbandwidth = {\n      left: 0.05,\n      right: 0.05,\n    };\n    const currentBandwidth = {\n      left: 0.05,\n      right: 0.05,\n    };\n    const currentRemovedbandwidth = '';\n    const withinClassifierBandwidths = [currentSetbandwidth];\n    return {\n      currentRemovedbandwidth,\n      barHover,\n      evaluationSelection,\n      accHover,\n      bandwidthHover,\n      leftThreshold: 0.00,\n      rightThreshold: 1.00,\n      streamData: {},\n      currentBandwidth,\n      currentSetbandwidth,\n      withinClassifierBandwidths,\n      value: [],\n      height,\n      click,\n      hover,\n      thresholdRangeChange,\n      margin,\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      classNumber:[...this.boxProps.classes].length,\n      curveClassifier,\n      numberOfBins: 11,\n      thresholds,\n      thresholdRangeRecords:{},\n      upperColors,\n      middleColors,\n      lowerColors,\n    };\n  },\n  computed: {\n    addedBandWidthClassifiers() {\n      return this.$store.state.addedBandWidthClassifiers;\n    },\n    confidenceIndex() : {} {\n      let confidenceIndex  = {}\n      for (let i in this.thresholds) {\n        confidenceIndex[this.thresholds[i]] = parseInt(i)\n      }\n      return confidenceIndex\n    },\n    options(): any[] {\n      let options = []\n      const classifiers = this.classifiers\n      classifiers.forEach((c)=>{\n        options.push({name: c});\n      })\n      return options\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThresholdDict;\n    },\n    classifierBandWidthDict(): string[] {\n      return this.boxProps.classifierBandWidthDict;\n    },\n    classes(): string[] {\n      this.classNumber = [...this.boxProps.classes].length\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];  \n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    thresholdClassifierNameList():string[] {\n      return this.$store.state.thresholdClassifierNameList\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    predictionKeys(): string[] {\n      const predictionKeys = this.classifiers.slice();\n      return predictionKeys;\n    },\n    continuousPredictionKeys():string[]{\n      if (this.$store.state.datasetType == \"continuous\") {\n        var continuousPredictionKeys = []\n        this.predictionKeys.forEach((c)=>{\n          continuousPredictionKeys.push(c+\"_\"+this.$store.state.classifierThresholdDict[c]/100)\n        })\n        return continuousPredictionKeys\n      } else {\n        return this.predictionKeys;\n      }\n    },\n    continuousClassifierName():{} {\n      var continuousClassifierName = {}\n      this.classifiers.forEach((c)=>{\n        if (this.$store.state.datasetType == \"continuous\") {\n          continuousClassifierName[c] = c + \"_\" + this.$store.state.classifierThresholdDict[c]/100\n        } else {\n          continuousClassifierName[c] = c;\n        }\n      })\n      return continuousClassifierName;\n    },\n    thresholdRange():{\n[classifier:string]:{\nname:String,\nthreshold:Number,\nleft_range:Number,\nright_range:Number,\n},\n}{\nconstthresholdRange:{\n[classifier:string]:{\nname:String,\nthreshold:Number,\nleft_range:Number,\nright_range:Number,\n},\n}={};\nthis.classifiers.forEach((c)=>{\nletcur_acc=0\nthresholdRange[this.continuousClassifierName[c]]={\nname:c,\nthreshold:Object.keys(this.classifierThresholds).includes(c)?this.classifierThresholds[c]:0,\nleft_range: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] / 100 - 0.05 : 0,\nright_range: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] / 100 + 0.05: 0,\n};\n});\nreturnthresholdRange\n},\n    accumulations(): {\n      [classifier: string]: {\n        name: String,\n        threshold: Number,\n        acc: Number,\n        ci_tp: Number[],\n        ci_fn: Number[],\n        ci_tn: Number[],\n        ci_fp: Number[],\n        ci_m: Number[],\n        ci_m_y: Number[],\n        ci_m_n: Number[],\n        ci_tp_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_fn_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fp_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_tn_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n        middle_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          }, \n        middle_y_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },  \n        middle_n_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },   \n        continuous_pred: {\n          [threshold: string]:{\n            instances: Set<number>,\n            }\n          },  \n      },\n    }{\n      const accumulations: {\n        [classifier: string]: {\n          name: String,\n          threshold: Number,\n          acc: Number,\n          ci_tp: Number[],\n          ci_fn: Number[],\n          ci_tn: Number[],\n          ci_fp: Number[],\n          ci_m: Number[],\n          ci_m_y: Number[],\n          ci_m_n: Number[],\n          ci_tp_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fp_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_tn_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fn_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          middle_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          middle_y_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },  \n          middle_n_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          }, \n          continuous_pred:  {\n          [threshold: string]:{\n            instances: Set<number>,\n            }\n          },\n        },\n      } = {};\n\n\n      var allIntervals = [];\n      this.classifiers.forEach((c) => {\n        let cur_acc = 0\n        accumulations[c] = {\n          name:c,\n          threshold: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] : 0,\n          acc: 0,\n          ci_tp: [],\n          ci_fn: [],\n          ci_tn: [],\n          ci_fp: [],\n          ci_m: [],\n          ci_m_y : [],\n          ci_m_n : [],\n          ci_tp_instances: {},\n          ci_fp_instances: {},\n          ci_tn_instances: {},\n          ci_fn_instances: {},\n          middle_instances: {},\n          middle_y_instances: {},\n          middle_n_instances: {},\n          continuous_pred: {}\n        };\n        this.thresholds.forEach((t)=>{\n          accumulations[c][\"ci_tp_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"ci_tn_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"ci_fp_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"ci_fn_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"middle_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"middle_y_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"middle_n_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"continuous_pred\"][t] = {\n            instances: new Set(),\n          }\n        })\n\n        this.thresholds.forEach((t)=>{\n          let left_edge = (parseFloat (t) - this.currentSetbandwidth.left) < 0 ? 0 : parseFloat (t) + (parseFloat (t) - this.currentSetbandwidth.left);//this.thresholdRange[this.continuousClassifierName[c]].left_range//parseFloat (t) + left_shift < 0 ? 0 : parseFloat (t) + left_shift;\n          let right_edge = (parseFloat (t) - this.currentSetbandwidth.right) > 1 ? 1 : parseFloat (t) + (parseFloat (t) + this.currentSetbandwidth.right);//this.thresholdRange[this.continuousClassifierName[c]].right_range// parseFloat (t) + right_shift > 1 ? 1 : parseFloat (t) + right_shift;\n          this.instances.forEach((id)=>{\n            let continuous_value = (instanceById(id).continuous_predictions[c])\n            let cur_pred = continuous_value <= t ? this.classes[0] : this.classes[1];\n            let correct = instanceById(id).actual == cur_pred? 1 : 0;\n            let interval = t;\n            if (continuous_value > left_edge && continuous_value < right_edge) {\n                accumulations[c][\"middle_instances\"][t].instances.add(id)\n                accumulations[c].continuous_pred[t].instances.add(parseFloat(continuous_value))\n                if (correct == 1) {\n                  accumulations[c][\"middle_y_instances\"][t].instances.add(id)\n                } else {\n                  accumulations[c][\"middle_n_instances\"][t].instances.add(id)\n                }\n            } else if (continuous_value >= right_edge){\n              if (instanceById(id).actual == this.classes[1]){\n                accumulations[c][\"ci_tp_instances\"][interval].instances.add(id)\n              } else {\n                accumulations[c][\"ci_fp_instances\"][interval].instances.add(id)\n              }\n            } else{\n              if (instanceById(id).actual == this.classes[0]) {\n                accumulations[c][\"ci_tn_instances\"][interval].instances.add(id)\n              } else {\n                accumulations[c][\"ci_fn_instances\"][interval].instances.add(id)\n              }\n            }\n          })\n        })\n        this.thresholds.forEach((t)=>{\n          accumulations[c][\"ci_tp\"].push(accumulations[c][\"ci_tp_instances\"][t].instances.size)\n          accumulations[c][\"ci_tn\"].push(accumulations[c][\"ci_tn_instances\"][t].instances.size)\n          accumulations[c][\"ci_fp\"].push(accumulations[c][\"ci_fp_instances\"][t].instances.size)\n          accumulations[c][\"ci_fn\"].push(accumulations[c][\"ci_fn_instances\"][t].instances.size)\n          accumulations[c][\"ci_m\"].push(accumulations[c][\"middle_instances\"][t].instances.size)\n          accumulations[c][\"ci_m_y\"].push(accumulations[c][\"middle_y_instances\"][t].instances.size)\n          accumulations[c][\"ci_m_n\"].push(accumulations[c][\"middle_n_instances\"][t].instances.size)\n          allIntervals.push(accumulations[c][\"ci_tn_instances\"][t].instances.size + accumulations[c][\"ci_tp_instances\"][t].instances.size + accumulations[c][\"ci_fn_instances\"][t].instances.size + accumulations[c][\"ci_fp_instances\"][t].instances.size)\n        })\n      });\n      return accumulations;\n    },\n    \n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    yThreshold(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([this.evaluationSelection == 'mcc'? -1: 0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.continuousPredictionKeys)\n        .range([0, this.width*0.8])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 200])\n          .range([0, 200])\n          .clamp(true);\n      return xScale;      \n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Trinary_Bandwidth_Assessment') {\n          if (view.config) {\n            let value  = view.config;\n            this.value = []\n            value.classifiers.forEach((c)=>{\n              if (this.classifiers.includes(c)) {\n                this.value.push({'name':c})\n              }\n            })\n            this.evaluationSelection = value.evaluation\n          }\n        }\n      })\n      this.drawWithinInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Trinary_Bandwidth_Assessment\", \n                    \"config\": {\n                      \"classifiers\":this.value.map((c)=>c.name),\n                      \"evaluation\":this.evaluationSelection}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    click() {\n      this.updateThreshold();\n    },\n    barHover() {\n      this.drawBarHover();\n    },\n    accHover() {\n      this.drawAccHover();\n    },\n    bandwidthHover() {\n      this.drawBandwidthHover();\n    },\n    rightThreshold() {\n      this.updateThresholdBound();\n    },\n    leftThreshold() {\n      this.updateThresholdBound();\n    },\n    currentSetbandwidth() {\n      this.withinClassifierBandwidths.push({'left':this.currentSetbandwidth.left, 'right': this.currentSetbandwidth.right});\n    },\n    currentBandwidth() {\n      this.updateTmpChartData();\n      this.drawStreamChart();\n    },\n    currentRemovedbandwidth() {\n      let tmpwithinClassifierBandwidths = []\n      this.withinClassifierBandwidths.forEach((c)=>{\n        if (c.left == this.currentRemovedbandwidth.left && c.right == this.currentRemovedbandwidth.right) {\n\n        } else {\n          tmpwithinClassifierBandwidths.push(c)\n        }\n      })\n      this.withinClassifierBandwidths = tmpwithinClassifierBandwidths;\n    },\n    withinClassifierBandwidths() {\n      this.updateStreamChartData();\n      this.drawStreamChart();\n    },\n    evaluationSelection() { \n      this.drawWithinInitial();\n      this.drawStreamChart();\n    },\n    value() {\n      if (this.value.length > 1) {\n        this.value = [this.value[this.value.length-1]]\n      }\n      this.updateStreamChartData();\n      this.drawStreamChart();\n    },\n    hover() { \n      this.drawHover();\n    },\n    thresholdRangeChange() {\n      this.currentBandwidth = {\n        'left':this.thresholdRangeChange.left_diff.toFixed(2),\n        'right':this.thresholdRangeChange.right_diff.toFixed(2)\n      }\n      this.updateAdjusterBar();\n    },\n    numberOfBins() {\n      this.updateThresholdBound();\n      this.updatenumberOfBins();\n    },\n    instances() {\n      this.drawWithinInitial();\n      this.updateStreamChartData();\n      this.drawStreamChart();\n    },\n    selections() {\n      this.drawSelections();\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Trinary_Bandwidth_Assessment') {\n        if (view.config) {\n          let value  = view.config;\n          this.value = []\n          value.classifiers.forEach((c)=>{\n            if (this.classifiers.includes(c)) {\n              this.value.push({'name':c})\n            }\n          })\n          this.evaluationSelection = value.evaluation\n        }\n      }\n    })\n    this.drawWithinInitial();\n  },\n  methods: {\n    updateThreshold() {\n      const classifier = this.click.classifier;\n      const value = parseFloat(this.click.threshold).toFixed(2);\n      let changedClassifier = {\"classifier\":classifier, \"single_threshold\": parseFloat(value) * 100};\n      this.$store.dispatch(\"changedCurveChosenClassifierThresholdTuple\",changedClassifier)\n    },\n    clearBandwitdth() {\n      this.withinClassifierBandwidths = [this.currentSetbandwidth];\n    },\n    addDefault() {\n      this.withinClassifierBandwidths = [\n        {left: 0.1,right: 0.1},\n        {left: 0.05,right: 0.05},\n        {left: 0.02,right: 0.02}];\n    },\n    clearHover() { \n      this.hover = ({type: '', classifier: '', selectedClassifier: ''});\n    },\n    clearBarHover() {\n      this.barHover = ({threshold:''});\n    },\n    clearAccHover() {\n      this.accHover = ({threshold:''});\n    },\n    clearThresholdBound() {\n      this.leftThreshold = 0.00\n      this.rightThreshold = 1.00\n      this.numberOfBins = 11\n      this.thresholds = [0.00, 0.10,0.20,0.30,0.40,0.50,0.60,0.70,0.80,0.90,1.00];\n      this.updateStreamChartData();\n      this.drawStreamChart();\n    },\n    updatenumberOfBins() {\n      const chart = d3.select(this.$refs.svg);\n      const svg_curve = chart.select(\".svg-curve\")\n\n      const thresholdBin = chart.select('.slider-threshold-bin').attr('transform', 'translate(' + this.xScale((this.numberOfBins)*(200/20)) + ', -7.5)') \n      const thresholdBinText = chart.select('.bin-text').text(\"number of bins: \" + this.numberOfBins)\n    },\n    updateThresholdBound() {\n      var tmp_list = [];\n      var tick = ((parseFloat(this.rightThreshold) - parseFloat(this.leftThreshold)) / parseFloat(this.numberOfBins));\n      var num = parseFloat(this.leftThreshold)\n      var count = 0\n      var initializeFlag = 0\n\n      for (var i in range (this.numberOfBins)) {\n        count += 1\n        if (num > this.rightThreshold) break;\n        let cur_threshold = \"\"+num.toFixed(2)\n        if (!tmp_list.includes(cur_threshold)) {\n          tmp_list.push(cur_threshold);\n        }\n        num += tick;\n      }\n\n      this.thresholds = tmp_list;\n      this.updateStreamChartData();\n      this.drawStreamChart();\n    },\n    removeBandwidthHover() {\n      const chart = d3.select(this.$refs.svg);\n      this.thresholds.forEach((t,i)=>{\n        this.withinClassifierBandwidths.forEach((bandwidth, c)=>{\n          chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n        })\n      })\n    },\n    drawBandwidthHover() {\n      let bandwidth = this.bandwidthHover.bandwidth.split(\"-\")[1];\n      const chart = d3.select(this.$refs.svg);\n\n      if (this.bandwidthHover.bandwidth == 'bandwidth-') {\n        this.removeBandwidthHover()\n      } else {\n        this.thresholds.forEach((t,i)=>{\n          this.withinClassifierBandwidths.forEach((bandwidth, c)=>{\n            chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n          })\n          chart.select('.bar-threshold-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.circle-threshold-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.upline-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.midline-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.lowline-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.line-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n        })\n      }\n    },\n    drawAccHover() {\n      const chart = d3.select(this.$refs.svg);\n      const threshold = this.accHover.threshold.split(\"-\")[1];\n      const streamData = this.streamData;\n      let withinClassifierBandwidths = []\n      this.withinClassifierBandwidths.forEach((i)=>{\n        withinClassifierBandwidths.push(i)\n      });\n      const sortedBandWidth = withinClassifierBandwidths.sort((n1,n2) => {\n          if ( (n1.right + n1.left) < (n2.right + n2.left)) {\n              return 1;\n          }\n\n          if ( (n1.right + n1.left) > (n2.right + n2.left)) {\n              return -1;\n          }\n\n          return 0;\n      });\n\n\n      if (this.accHover.threshold) {\n        this.thresholds.forEach((t,i)=>{\n          sortedBandWidth.forEach((bandwidth, c)=>{\n            chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n          })\n        })\n        chart.select('.y-axis-marker-rect').attr('opacity', 1);  \n        sortedBandWidth.forEach((bandwidth,c)=>{\n          let i = threshold\n          let tp = streamData[c].ci_tp[i]\n          let fp = streamData[c].ci_fp[i]\n          let tn = streamData[c].ci_tn[i]\n          let fn = streamData[c].ci_fn[i]\n          let m_y = streamData[c].ci_m_y[i]\n          let m_n = streamData[c].ci_m_n[i]\n          let m = streamData[c].ci_m[i]\n          let precision = (tp+fp)!=0? (tp/(tp+fp)) : tp ==0?1:0\n          let recall = (tp+fn)!=0? (tp/(tp+fn)) : tn ==0?1:0\n          let f1 = (precision + recall) !=0? (2*precision*recall) / (precision + recall):precision*recall==0?1:0\n          let mcc = 0\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n             mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n          } \n          chart.select('.bar-threshold-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.circle-threshold-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.upline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.midline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.lowline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.line-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.y-axis-marker-text-1-'+c).text(\"acc+: \"+ ((this.streamData[c].ci_tp[threshold] + this.streamData[c].ci_tn[threshold] +  this.streamData[c].ci_m[threshold])/(this.instances.length)).toFixed(2)).attr(\"opacity\", this.evaluationSelection == 'accuracy'? 1:0);\n          chart.select('.y-axis-marker-text-1-s1-'+c)\n                  .text(this.evaluationSelection == 'accuracy'?\"acc: \"+ ((this.streamData[c].ci_tp[threshold] + this.streamData[c].ci_tn[threshold] )/(this.instances.length -  this.streamData[c].ci_m[threshold])).toFixed(2)\n                        :this.evaluationSelection == 'precision'?\"precision: \"+ (precision).toFixed(2)\n                        :this.evaluationSelection == 'recall'?\"recall: \"+ (recall).toFixed(2)\n                        :this.evaluationSelection == 'mcc'?\"mcc: \"+ (mcc).toFixed(2)\n                        :\"f1: \"+ (f1).toFixed(2)).attr(\"opacity\", 1);\n          chart.select('.y-axis-marker-text-1-s2-'+c).text(\"acc-: \"+ ((this.streamData[c].ci_tp[threshold] + this.streamData[c].ci_tn[threshold] )/(this.instances.length)).toFixed(2)).attr(\"opacity\", this.evaluationSelection == 'accuracy'? 1:0);\n        })\n      } else {\n        chart.select('.y-axis-marker-rect').attr('opacity', 0);  \n\n        this.thresholds.forEach((t,i)=>{\n          sortedBandWidth.forEach((bandwidth, c)=>{\n            chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.y-axis-marker-text-1-'+c).text(c).attr(\"opacity\", 0);\n            chart.select('.y-axis-marker-text-1-s1-'+c).text(c).attr(\"opacity\", 0);\n            chart.select('.y-axis-marker-text-1-s2-'+c).text(c).attr(\"opacity\", 0);\n          })\n        })\n      }\n\n    },\n    drawBarHover() {\n      const threshold = this.barHover.threshold.split(\"-\")[1];\n      const curveText = (bandwidth:number, threshold:number,  selection: Set<string>) => {\n\n        const instances = this.streamData[bandwidth][\"middle_instances\"][this.thresholds[threshold]].instances\n        const overlappingInstances = intersection(instances, selection);\n        var totalInstances = 0 \n        totalInstances = this.instances.length\n        const fractionOfTotalInstances = overlappingInstances.size / totalInstances;\n        return (fractionOfTotalInstances).toFixed(2);\n      };\n      \n      const {first, second} = this.selections;\n      let withinClassifierBandwidths = []\n      this.withinClassifierBandwidths.forEach((i)=>{\n        withinClassifierBandwidths.push(i)\n      });\n      const sortedBandWidth = withinClassifierBandwidths.sort((n1,n2) => {\n          if ( (n1.right + n1.left) < (n2.right + n2.left)) {\n              return 1;\n          }\n\n          if ( (n1.right + n1.left) > (n2.right + n2.left)) {\n              return -1;\n          }\n\n          return 0;\n      });\n      const chart = d3.select(this.$refs.svg);\n      const streamData = this.streamData;\n      \n\n      if (this.barHover.threshold) {\n        this.thresholds.forEach((t,i)=>{\n          sortedBandWidth.forEach((bandwidth, c)=>{\n            chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.bar-hover-box-1-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-box-2-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-text-1-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-text-2-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n          })\n        })\n        chart.select('.y-axis-marker-rect').attr('opacity', 1);  \n        sortedBandWidth.forEach((bandwidth,c)=>{\n          chart.select('.bar-threshold-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.bar-hover-box-1-'+c + '-' + threshold).attr(\"opacity\",  \"1\")\n          chart.select('.bar-hover-box-2-'+c + '-' + threshold).attr(\"opacity\",  \"1\")\n          chart.select('.bar-hover-text-1-'+c + '-' + threshold).attr(\"opacity\",  \"1\")\n          chart.select('.bar-hover-text-2-'+c + '-' + threshold).attr(\"opacity\",  \"1\")\n          chart.select('.circle-threshold-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.upline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.midline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.lowline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.line-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.y-axis-marker-text-1-'+c).text(\"uncertain: \"+ (this.streamData[c].ci_m[threshold] / this.instances.length).toFixed(2)).attr(\"opacity\", 1);\n          if (first) {\n            chart.select('.y-axis-marker-text-1-s1-'+c).text(\"select1: \"+ curveText(c,threshold,first.instances)).attr(\"opacity\", 1);\n          } else {\n            chart.select('.y-axis-marker-text-1-s1-'+c).attr(\"opacity\", 0);\n          }\n          if (second) {\n            chart.select('.y-axis-marker-text-1-s2-'+c).text(\"select2: \"+ curveText(c,threshold,second.instances)).attr(\"opacity\", 1);\n          } else {\n            chart.select('.y-axis-marker-text-1-s2-'+c).attr(\"opacity\", 0);\n          }\n          \n        })\n      } else {\n        chart.select('.y-axis-marker-rect').attr('opacity', 0);  \n\n        this.thresholds.forEach((t,i)=>{\n          sortedBandWidth.forEach((bandwidth, c)=>{\n            chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.bar-hover-box-1-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-box-2-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-text-1-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-text-2-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.y-axis-marker-text-1-'+c).text(c).attr(\"opacity\", 0);\n            chart.select('.y-axis-marker-text-1-s1-'+c).text(c).attr(\"opacity\", 0);\n            chart.select('.y-axis-marker-text-1-s2-'+c).text(c).attr(\"opacity\", 0);\n          })\n        })\n      }\n    },  \n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const hoverClassifier = this.hover.selectedClassifier\n      const curveBars = chart.selectAll('.bar-threshold-right-'+hoverClassifier)\n      const yAxisMarkerLineCurveLow = chart.select('.y-axis-marker-line-curve-low');\n      const yAxisMarkerLineCurveUp = chart.select('.y-axis-marker-line-curve-up');\n      const yAxisMarkerLineCurveBar = chart.select('.y-axis-marker-line-curve-bar');\n      const yAxisMarkerLineCurve = chart.select('.y-axis-marker-line-curve');\n      const yAxisMarkerTextCurveBar = chart.select('.y-axis-marker-text-curve-bar');\n      const yAxisMarkerTextCurve = chart.select('.y-axis-marker-text-curve');\n      const yAxisMarkerTextCurveLow = chart.select('.y-axis-marker-text-curve-low');\n      const yAxisMarkerTextCurveUp = chart.select('.y-axis-marker-text-curve-up');\n      const yAxisMarkerTextClassifier = chart.select('.y-axis-marker-text-classifier');\n      const yAxisMarkerTextS1 = chart.select('.y-axis-marker-text-s1')\n      const yAxisMarkerTextS2 = chart.select('.y-axis-marker-text-s2')\n\n      const yAxisMarkerRect = chart.select('.y-axis-marker-rect');\n\n      const allSelectedClassifier = this.value.map((c)=>c.name)\n      const { first, second } = this.selections;\n\n      const xThreshold = d3.scaleBand<string>()\n        .domain(this.thresholds)\n        .range([0, this.width*0.8])\n        .paddingOuter(0.2);\n\n      const curveText = (classifierName:string, typeString, selection: Set<string>) => {\n        const instances = this.accumulations[classifierName].middle_instances[typeString].instances\n        var totalInstances = 0 \n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size / totalInstances * 100;\n        return fractionOfTotalInstances.toFixed(2) + \"%\" ;\n      };\n\n\n      allSelectedClassifier.forEach((c)=>{\n        chart.selectAll('.bar-threshold-right-'+c).attr('fill', \"lightgrey\");\n      })\n    \n      if (this.hover.type === 'curve-bar') {\n        curveBars.data(this.thresholds)\n          .attr('fill', (d,i) =>\n            i === this.hover.classifier\n              ? \"grey\"\n              : \"lightgrey\");\n      } else {\n        curveBars.attr('fill', \"lightgrey\");\n      }\n      \n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      if (this.hover.type) {\n        yAxisMarkerRect.transition()\n          .duration(moveDuration)\n          .attr('opacity', 1)\n          .attr(\"fill\",\"white\")\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])},\n            ${-150})`)\n\n        yAxisMarkerTextClassifier\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-130})`)          \n          .text('classifier: ' + hoverClassifier);\n\n        yAxisMarkerLineCurveBar\n          .transition()\n          .duration(moveDuration)\n          .attr('stroke-opacity', 1)\n          .attr('y1',  this.y((this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length)))\n          .attr('x2', this.width)\n          .attr('y2', this.y((this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length)));\n        yAxisMarkerTextCurveBar\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-110})`)          \n          .text('Fraction: ' +`${((this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length) * 100).toFixed(1)}%`);\n\n        yAxisMarkerLineCurve\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier]) / (this.instances.length - this.accumulations[hoverClassifier].ci_m[this.hover.classifier])))\n            .attr('x2', this.width)\n            .attr('y2', this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier] ) / (this.instances.length - this.accumulations[hoverClassifier].ci_m[this.hover.classifier])));  \n\n        yAxisMarkerTextCurve\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-70})`)            \n          .text(this.evaluationSelection == 'accuracy'? \"acc: \"\n          :this.evaluationSelection == 'precision'? \"precision: \"\n          :this.evaluationSelection == 'recall'? \"recall: \"\n          :this.evaluationSelection == 'mcc'? \"mcc: \"\n          :\"f1\"+ `${((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier]) / (this.instances.length - this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) * 100).toFixed(1)}%`);\n\n        yAxisMarkerLineCurveLow\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier]) / (this.instances.length)))\n            .attr('x2', this.width)\n            .attr('y2', this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier]) / (this.instances.length)))\n                      .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n \n        \n        yAxisMarkerTextCurveLow\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-50})`)   \n          .text('acc-: '+`${((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier]) / (this.instances.length) * 100).toFixed(1)}%`)\n                    .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n\n\n        yAxisMarkerLineCurveUp\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier] + this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length)))\n            .attr('x2', this.width)\n            .attr('y2', this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier] + this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length)))\n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        yAxisMarkerTextCurveUp\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-90})`)   \n          .text('acc+: '+`${((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier] + this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length) * 100).toFixed(1)}%`)\n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        if (first) {\n          yAxisMarkerTextS1\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-20})`)   \n          .text(\"1st: \"+ curveText(this.hover.selectedClassifier, this.thresholds [this.hover.classifier], first.instances))\n        }\n        if (second) {\n          yAxisMarkerTextS2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr('transform', `translate(\n              ${xThreshold(this.thresholds[this.hover.classifier])+80},\n              ${-0})`)   \n            .text(\"2nd: \"+ curveText(this.hover.selectedClassifier, this.thresholds [this.hover.classifier], second.instances))\n        }\n\n      } else {\n        yAxisMarkerTextClassifier\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);    \n        yAxisMarkerTextS1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n          // .attr('opacity', 0); \n        yAxisMarkerTextS2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n          // .attr('opacity', 0); \n        yAxisMarkerRect.transition()\n          .duration(disappearDuration)\n          .attr('opacity', 0)\n        yAxisMarkerLineCurveBar\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerLineCurve\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);  \n        yAxisMarkerLineCurveUp\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);  \n        yAxisMarkerLineCurveLow\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);    \n        yAxisMarkerTextCurveBar\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextCurve\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);  \n        yAxisMarkerTextCurveLow\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);  \n        yAxisMarkerTextCurveUp\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);      \n      }\n    },\n    updateAdjusterBar() {\n      const threshold =  this.thresholdRangeChange.threshold;\n      const curClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n      const type = this.thresholdRangeChange.type;\n      const value = this.thresholdRangeChange.type == '' ? 0.05 : (parseFloat(this.thresholdRangeChange.value)-100) / 100 * 0.1;\n      const chart = d3.select(this.$refs.svg);\n      const sliderHead = d3.select(\".slider-circle-time-\"+type)\n      const sliderText = d3.select(\".range-text-\"+type)\n      const legendText1 = chart.select(\".legend-text1\")\n      const legendText2 = chart.select(\".legend-text2\") \n      const legendLine2 = chart.select(\".legend_line2\") \n\n      if (type == 'left'){\n        d3.select(\".slider-circle-time-\"+\"left\").attr('transform', 'translate(' + (100 - 100 * (this.thresholdRangeChange.left_diff)/0.1) + ', -140)')\n        d3.select(\".range-text-\"+\"left\").text(\"(\"+ (- this.thresholdRangeChange.left_diff).toFixed(2) +\",\")\n      }\n      else  {\n        d3.select(\".slider-circle-time-\"+\"right\").attr('transform', 'translate(' + (100 + 100 * (this.thresholdRangeChange.right_diff)/0.1) + ', -140)')\n        d3.select(\".range-text-\"+\"right\").text(( this.thresholdRangeChange.right_diff).toFixed(2)+\")\") \n      }\n    },\n    updateTmpChartData() {\n      let streamData = {};\n      let c = 0\n      let bandwidth  = this.currentBandwidth\n      const curClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n\n\n      const sequentialScale = d3.scaleSequential<string>( d3.interpolatePuBuGn)\n            .domain([0, (this.withinClassifierBandwidths.length + 1)*2])\n            .interpolator(function (x) { \n              return d3.interpolatePuBuGn(x);} );\n\n\n      let count = 0\n      for (let key in this.streamData) {\n        if (count >= this.withinClassifierBandwidths.length) {\n          break\n        }\n        count += 1\n        streamData[key] = this.streamData[key]\n        streamData[key].color = sequentialScale(c+1),\n        c += 1\n      }\n\n      streamData[c] =  {\n        left: bandwidth.left,\n        right: bandwidth.right,\n        threshold: this.thresholds[c],\n        threshold_idx: c,\n        color: sequentialScale(c+1),\n        ci_tp: [],\n        ci_fn: [],\n        ci_tn: [],\n        ci_fp: [],\n        ci_m: [],\n        ci_m_y : [],\n        ci_m_n : [],\n        ci_tp_instances: {},\n        ci_fp_instances: {},\n        ci_tn_instances: {},\n        ci_fn_instances: {},\n        middle_instances: {},\n        middle_y_instances: {},\n        middle_n_instances: {},\n      }\n\n      this.thresholds.forEach((t)=>{\n          streamData[c][\"ci_tp_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"ci_tn_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"ci_fp_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"ci_fn_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"middle_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"middle_y_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"middle_n_instances\"][t] = {\n          instances: new Set(),\n        }\n      })\n\n      this.thresholds.forEach((t)=>{\n        let left_edge = (parseFloat(t) - parseFloat (bandwidth.left)) < 0 ? 0 : (parseFloat(t) - parseFloat (bandwidth.left));\n        let right_edge = (parseFloat(t) + parseFloat (bandwidth.right)) > 1 ? 1 : (parseFloat(t) + parseFloat (bandwidth.right)) ;\n\n        this.instances.forEach((id)=>{\n          let continuous_value = (instanceById(id).continuous_predictions[curClassifier])\n          let cur_pred = continuous_value <= parseFloat (t) ? this.classes[0] : this.classes[1];\n          let correct = instanceById(id).actual == cur_pred? 1 : 0;\n          let interval = t;\n          if (continuous_value > left_edge && continuous_value < right_edge) {\n              streamData[c][\"middle_instances\"][t].instances.add(id)\n              if (correct == 1) {\n                streamData[c][\"middle_y_instances\"][t].instances.add(id)\n              } else {\n                streamData[c][\"middle_n_instances\"][t].instances.add(id)\n              }\n          } else if (continuous_value >= right_edge){\n            if (instanceById(id).actual == this.classes[1]){\n              streamData[c][\"ci_tp_instances\"][interval].instances.add(id)\n            } else {\n              streamData[c][\"ci_fp_instances\"][interval].instances.add(id)\n            }\n          } else{\n            if (instanceById(id).actual == this.classes[0]) {\n              streamData[c][\"ci_tn_instances\"][interval].instances.add(id)\n            } else {\n              streamData[c][\"ci_fn_instances\"][interval].instances.add(id)\n            }\n          }\n        })\n      })\n      this.thresholds.forEach((t)=>{\n        streamData[c][\"ci_tp\"].push(streamData[c][\"ci_tp_instances\"][t].instances.size)\n        streamData[c][\"ci_tn\"].push(streamData[c][\"ci_tn_instances\"][t].instances.size)\n        streamData[c][\"ci_fp\"].push(streamData[c][\"ci_fp_instances\"][t].instances.size)\n        streamData[c][\"ci_fn\"].push(streamData[c][\"ci_fn_instances\"][t].instances.size)\n        streamData[c][\"ci_m\"].push(streamData[c][\"middle_instances\"][t].instances.size)\n        streamData[c][\"ci_m_y\"].push(streamData[c][\"middle_y_instances\"][t].instances.size)\n        streamData[c][\"ci_m_n\"].push(streamData[c][\"middle_n_instances\"][t].instances.size)\n      })\n    \n\n      this.streamData  = streamData\n    },\n    updateStreamChartData() {\n      const curClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n      const sequentialScale = d3.scaleSequential<string>( d3.interpolatePuBuGn)\n            .domain([0, this.withinClassifierBandwidths.length*2])\n            .interpolator(function (x) { \n              return d3.interpolatePuBuGn(x);} );\n      let streamData = {};\n      this.withinClassifierBandwidths.forEach((bandwidth, c) =>{\n        streamData[c] =  {\n          left: bandwidth.left,\n          right: bandwidth.right,\n          threshold: this.thresholds[c],\n          threshold_idx: c,\n          color: sequentialScale(c+1),\n          ci_tp: [],\n          ci_fn: [],\n          ci_tn: [],\n          ci_fp: [],\n          ci_m: [],\n          ci_m_y : [],\n          ci_m_n : [],\n          ci_tp_instances: {},\n          ci_fp_instances: {},\n          ci_tn_instances: {},\n          ci_fn_instances: {},\n          middle_instances: {},\n          middle_y_instances: {},\n          middle_n_instances: {},\n        }\n        this.thresholds.forEach((t)=>{\n          streamData[c][\"ci_tp_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"ci_tn_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"ci_fp_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"ci_fn_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"middle_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"middle_y_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"middle_n_instances\"][t] = {\n            instances: new Set(),\n          }\n        })\n        this.thresholds.forEach((t)=>{\n          // let left_edge = parseFloat(t) - parseFloat (bandwidth.left);\n          // let right_edge = parseFloat(t) + parseFloat (bandwidth.right);\n          let left_edge = (parseFloat(t) - parseFloat (bandwidth.left)) < 0 ? 0 : (parseFloat(t) - parseFloat (bandwidth.left));\n          let right_edge = (parseFloat(t) + parseFloat (bandwidth.right)) > 1 ? 1 : (parseFloat(t) + parseFloat (bandwidth.right)) ;\n\n          this.instances.forEach((id)=>{\n            let continuous_value = (instanceById(id).continuous_predictions[curClassifier])\n            let cur_pred = continuous_value <= parseFloat (t) ? this.classes[0] : this.classes[1];\n            let correct = instanceById(id).actual == cur_pred? 1 : 0;\n            // let continuous_value = (instanceById(id).continuous_predictions[curClassifier])\n            // let cur_pred = continuous_value <= parseFloat (t) ? this.classes[0] : this.classes[1];\n            // let correct = instanceById(id).actual == cur_pred? 1 : 0;\n            let interval = t;\n            if (continuous_value > left_edge && continuous_value < right_edge) {\n                streamData[c][\"middle_instances\"][t].instances.add(id)\n                // streamData[c].continuous_pred[t].instances.add(parseFloat(continuous_value))\n                if (correct == 1) {\n                  streamData[c][\"middle_y_instances\"][t].instances.add(id)\n                } else {\n                  streamData[c][\"middle_n_instances\"][t].instances.add(id)\n                }\n            } else if (continuous_value >= right_edge){\n              if (instanceById(id).actual == this.classes[1]){\n                streamData[c][\"ci_tp_instances\"][interval].instances.add(id)\n              } else {\n                streamData[c][\"ci_fp_instances\"][interval].instances.add(id)\n              }\n            } else{\n              if (instanceById(id).actual == this.classes[0]) {\n                streamData[c][\"ci_tn_instances\"][interval].instances.add(id)\n              } else {\n                streamData[c][\"ci_fn_instances\"][interval].instances.add(id)\n              }\n            }\n            // if (continuous_value < right_edge && continuous_value > left_edge){\n            //   streamData[c][\"middle_instances\"][t].instances.add(id)\n            //   if (correct == 1) {\n            //     streamData[c][\"middle_y_instances\"][t].instances.add(id)\n            //   } else {\n            //     streamData[c][\"middle_n_instances\"][t].instances.add(id)\n            //   }\n            // } else {\n            //   let interval = t\n            //   if (correct == 1){\n            //     if (instanceById(id).actual == this.classes[1]){\n            //       streamData[c][\"ci_tp_instances\"][interval].instances.add(id)\n            //     } else {\n            //       streamData[c][\"ci_tn_instances\"][interval].instances.add(id)\n            //     }\n            //   }\n            //   else{\n            //     if (instanceById(id).actual == this.classes[1]) {\n            //       streamData[c][\"ci_fp_instances\"][interval].instances.add(id)\n            //     } else {\n            //       streamData[c][\"ci_fn_instances\"][interval].instances.add(id)\n            //     }\n            //   }\n            // }\n          })\n        })\n        this.thresholds.forEach((t)=>{\n          streamData[c][\"ci_tp\"].push(streamData[c][\"ci_tp_instances\"][t].instances.size)\n          streamData[c][\"ci_tn\"].push(streamData[c][\"ci_tn_instances\"][t].instances.size)\n          streamData[c][\"ci_fp\"].push(streamData[c][\"ci_fp_instances\"][t].instances.size)\n          streamData[c][\"ci_fn\"].push(streamData[c][\"ci_fn_instances\"][t].instances.size)\n          streamData[c][\"ci_m\"].push(streamData[c][\"middle_instances\"][t].instances.size)\n          streamData[c][\"ci_m_y\"].push(streamData[c][\"middle_y_instances\"][t].instances.size)\n          streamData[c][\"ci_m_n\"].push(streamData[c][\"middle_n_instances\"][t].instances.size)\n        })\n      })\n      this.streamData = streamData;\n    },\n    drawWithinInitial() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      const c = this.value.map((v)=>v.name)[this.value.length - 1]\n      const thresholds = this.thresholds;\n      const instances = this.instances;\n      const accumulations = this.accumulations;\n      const x = this.x    \n      const y = this.y;\n      const xThreshold = d3.scaleBand<string>()\n      .domain(this.thresholds)\n      .range([0, this.width*0.8])\n      .paddingOuter(0.2)\n      .paddingInner(0.2);\n      const yThreshold = this.yThreshold\n      const barWidth = xThreshold.bandwidth();\n\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr(\"class\",\"initail_svg\")\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom)*1.2}`)\n      const svg = svgAll.append('g')\n          .attr('transform', `translate(${0}, ${this.margin.top*1.2})`); \n      const svg_curves = svgAll.append('g')\n          .attr(\"class\",\"svg-curve\")\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top*1.2})`);  \n      const evaluationKeys = this.evaluationSelection;\n\n\n      const width = this.width / 6;\n      const height = this.margin.top / 2;\n      const legend2 = svg  \n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${(this.width - this.margin.left)},\n              ${-height*2})`);\n\n      const thresholdBins =  legend2.append(\"g\")\n              .attr(\"transform\",  \"translate(\"+(width * 2-200-40)+\",\" + 0 +\")\")\n\n      const accLegend = legend2.append(\"g\")\n              .attr(\"transform\",  \"translate(\"+(width * 2-140)+\",\" + 40 +\")\")\n\n      const drawLegend = () => {\n        accLegend.append('line')\n            .attr('class', 'acc1')\n            .style(\"stroke\", \"grey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"6\")\n            .attr('x1', 90)\n            .attr('x2', 100)\n            .attr('y1', 0)\n            .attr('y2', 0)\n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        accLegend.append('line')\n            .attr('class', 'acc2')\n            .style(\"stroke\", \"grey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"6\")\n            .attr('x1', 90)\n            .attr('x2', 100)\n            .attr('y1', 20)\n            .attr('y2', 20)\n        accLegend.append('line')\n            .attr('class', 'acc3')\n            .style(\"stroke\", \"grey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"6\")\n            .attr('x1', 90)\n            .attr('x2', 100)\n            .attr('y1', 40)\n            .attr('y2', 40)\n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        accLegend.append('line')\n            .attr('class', 'acc3')\n            .style(\"stroke\", \"grey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"2\")\n            .attr('x1', 95)\n            .attr('x2', 95)\n            .attr('y1', 0)\n            .attr('y2', 40)\n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        accLegend.append('text')\n          .attr(\"class\",\"bin-text\")\n          .attr(\"transform\",  \"translate(\"+(-240)+\",\" +0 +\")\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'left')\n          .attr('alignment-baseline', 'middle')\n          .attr(\"fill\", 'steelblue')\n          .text('acc+ (uncertainty as right)')   \n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        accLegend.append('text')\n          .attr(\"class\",\"bin-text\")\n          .attr(\"transform\",  \"translate(\"+(-240)+\",\" +20 +\")\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'left')\n          .attr('alignment-baseline', 'middle')\n          .attr(\"fill\", 'steelblue')\n          .text(this.evaluationSelection == 'accuracy'?'acc (uncertainty as uncertain)'\n          :this.evaluationSelection == 'precision'? 'precision'\n          :this.evaluationSelection == 'recall'? 'recall'\n          :this.evaluationSelection == 'mcc'?'mcc'\n          :'f1')\n        accLegend.append('text')\n          .attr(\"class\",\"bin-text\")\n          .attr(\"transform\",  \"translate(\"+(-240)+\",\" +40 +\")\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'left')\n          .attr('alignment-baseline', 'middle')\n          .attr(\"fill\", 'steelblue')\n          .text('acc- (uncertainty as wrong)')  \n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n          \n\n        thresholdBins.append('line')\n            .attr('class', 'track')\n            .style(\"stroke\", \"lightgrey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"6\")\n            .attr('x1', this.xScale.range()[0])\n            .attr('x2', this.xScale.range()[1])\n            .attr('y1', 0)\n            .attr('y2', 0)\n\n        let head1 = thresholdBins.append('rect')\n            .attr('width',20)\n            .attr('height',15)\n            .attr('rx',6)\n            .attr('ry',6) \n            .style('fill', 'steelblue')\n            .style('stroke', 'none')\n            .attr('class','slider-threshold-bin')\n            .attr('transform', 'translate(100,-7.5)')\n            .call(d3.drag()\n              .on('start.interrupt', function () {\n                head1.interrupt();\n              })\n              .on('start drag',  \n              (d:string)=>this.numberOfBins = Math.round(this.xScale.invert(d3.event.x) * (20 / 200))//\n              ))\n             ;  \n          thresholdBins.append('text')\n          .attr(\"class\",\"bin-text\")\n          .attr(\"transform\",  \"translate(\"+(-100)+\",\" +0 +\")\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(\"number of bins: \"+this.numberOfBins)   \n\n        \n      };\n      drawLegend();\n\n      const drawAdjuster = () => { // adjuster\n\n        svg.append(\"rect\")\n        .attr('width', \"205\" )\n        .attr('height', 70)\n        .attr('fill', 'white')\n        .attr(\"stroke\",\"lightgrey\")\n        .attr(\"stroke-width\",\"4px\")\n        .attr(\"x\",\"2\")\n        .attr(\"y\",\"-180\")\n\n        var sqrt3 = Math.sqrt(3);\n        var triangleRight = {\n          draw: function (context, size) {\n              var x = -Math.sqrt(size / (sqrt3 * 3));\n              context.moveTo(-x * 2, 0);\n              context.lineTo(x, -sqrt3 * x);\n              context.lineTo(x, sqrt3 * x);\n              context.closePath();\n            }\n          };\n\n          var triangleLeft = {\n            draw: function (context, size) {\n              var x = -Math.sqrt(size / (sqrt3 * 3));\n              context.moveTo(x * 2, 0);\n              context.lineTo(-x, -sqrt3 * x);\n              context.lineTo(-x, sqrt3 * x);\n              context.closePath();\n            }\n          };\n\n          let leftTrgl = d3.symbol().type(triangleLeft)\n            .size(180);\n          let rightTrgl = d3.symbol().type(triangleRight)\n            .size(180);\n\n          let xScale = this.xScale;\n            \n          let yScale = this.yScale;\n          \n          let buttons = svg.append(\"rect\")\n            .attr(\"rx\", 6)\n            .attr(\"ry\", 6)\n            .attr(\"x\", 3)\n            .attr(\"y\", -180)\n            .attr(\"width\", 140)\n            .attr(\"height\", 30)\n            .attr(\"fill\",\"#f2f2f2\")\n            .attr(\"stroke\",\"lightgrey\")\n            \n          let titles = svg.append(\"text\")\n            .attr(\"class\",\"slider-text\")\n            .text(\"Range Adjuster\")\n            .attr(\"y\",-160)\n            .attr(\"x\",5)\n            .attr(\"font-size\",\"20px\")\n            .attr(\"fill\",\"grey\")\n\n          // set button\n          let setbuttons = svg.append(\"rect\")\n            .attr(\"class\",\"set-button\")\n            .attr(\"rx\", 6)\n            .attr(\"ry\", 6)\n            .attr(\"x\", 150)\n            .attr(\"y\", -180)\n            .attr(\"width\", 40)\n            .attr(\"height\", 30)\n            .attr(\"fill\",\"#f2f2f2\")\n            .attr(\"stroke\",\"lightgrey\")\n            .on('mouseenter', (d) => {\n              d3.select(\".set-button\").attr(\"fill\",\"grey\")\n              d3.select(\".set-text\").attr(\"fill\",\"white\")\n            })\n            .on('mouseleave', (d) => {\n              d3.select(\".set-button\").attr(\"fill\",\"#f2f2f2\")\n              d3.select(\".set-text\").attr(\"fill\",\"grey\")\n            })\n            .on('click', (d,i) => this.currentSetbandwidth = ({left: this.thresholdRangeChange.left_diff.toFixed(2), right: this.thresholdRangeChange.right_diff.toFixed(2)}));\n            \n          let settitles = svg.append(\"text\")\n            .attr(\"class\",\"set-text\")\n            .text(\"set\")\n            .attr(\"y\",-160)\n            .attr(\"x\",153)\n            .attr(\"font-size\",\"20px\")\n            .attr(\"fill\",\"grey\")\n            .on('mouseenter', (d) => {\n              d3.select(\".set-button\").attr(\"fill\",\"grey\")\n              d3.select(\".set-text\").attr(\"fill\",\"white\")\n            })\n            .on('mouseleave', (d) => {\n              d3.select(\".set-button\").attr(\"fill\",\"#f2f2f2\")\n              d3.select(\".set-text\").attr(\"fill\",\"grey\")\n            })\n           .on('click', (d,i) => this.currentSetbandwidth = ({left: this.thresholdRangeChange.left_diff.toFixed(2), right: this.thresholdRangeChange.right_diff.toFixed(2)}));\n\n\n          let slider = svg.append('line')\n            .attr('class', 'track')\n            .style(\"stroke\", \"#777\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"5\")\n            .attr('x1', 2)\n            .attr('x2', 202)\n            .attr('y1', -140)\n            .attr('y2', -140)\n \n          let head1 = svg.append('path') // \n            .attr('d', leftTrgl)\n            .style('fill', 'red')\n            .style('stroke', 'none')\n            .attr('class','slider-circle-time-left')\n            .attr('transform', d=>{\n              let dis = 100 -  100 *  this.thresholdRangeChange.left_diff / 0.1 +2\n              return 'translate('+dis+',-140)'\n            })\n            .call(d3.drag()\n              .on('start.interrupt', function () {\n                head1.interrupt();\n              })\n              .on('start drag',  \n              (d:string)=>this.thresholdRangeChange = {\"type\":\"left\", \"classifier\":\"all\", \"threshold\":d, \n                      \"value\":xScale.invert(d3.event.x),\"left_diff\":Math.abs((parseFloat(xScale.invert(d3.event.x))-100) / 100 * 0.1),\"right_diff\": this.thresholdRangeChange.right_diff} //this.sliderRange =({type:\"from\", classifier:d, value: xScale.invert(d3.event.x)})//\n              ))\n             ;\n\n          let head2 = svg.append('path') //\n            .attr('d', rightTrgl)\n            .style('fill', 'green')\n            .style('stroke', 'none')\n            .attr('class','slider-circle-time-right')\n            .attr('transform', d=>{\n              let dis = 100 + 100 * (this.thresholdRangeChange.right_diff / 0.1)+2\n              return 'translate('+dis+',-140)'\n            })\n            .call(d3.drag()\n              .on('start.interrupt', function () {\n                head2.interrupt();\n              })\n              .on('start drag',\n              (d:string)=>this.thresholdRangeChange = {\"type\":\"right\", \"classifier\":\"all\", \"threshold\":d, \n                        \"value\":xScale.invert(d3.event.x),\"left_diff\": this.thresholdRangeChange.left_diff, \"right_diff\":Math.abs((parseFloat(xScale.invert(d3.event.x))-100) / 100 * 0.1)}\n              ))\n          let rangeTextLeft = svg.append(\"text\")\n            .attr(\"class\",\"range-text-left\")\n            .text(\"(\"+(-this.thresholdRangeChange.left_diff.toFixed(2))+\",\")\n            .attr(\"y\",-120)\n            .attr(\"x\",5)\n            .attr(\"font-size\",\"18px\")\n            .attr(\"fill\",\"grey\")   \n          let rangeTextRight = svg.append(\"text\")\n            .attr(\"class\",\"range-text-right\")\n            .text(this.thresholdRangeChange.right_diff.toFixed(2)+\")\")\n            .attr(\"y\",-120)\n            .attr(\"x\",60)\n            .attr(\"font-size\",\"18px\")\n            .attr(\"fill\",\"grey\")   \n      };\n\n      const drawTitles = () => {\n         svg_curves.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.4;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Threshold');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 1.5)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Fraction of instances');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 4)\n          .attr('y', 60+ this.width * 0.8)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationSelection == 'accuracy'? \"Accuracy \"\n          :this.evaluationSelection == 'precision'? \"Precision \"\n          :this.evaluationSelection == 'recall'? \"Recall\"\n          :this.evaluationSelection == 'mcc'? \"MCC\"\n          :\"F1\");\n\n        svg_curves.append('text')\n          .attr(\"class\",\"curve-title\")\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( 'Performance (' + c + ')');  \n      };\n\n      const drawAxes = () => {\n        const xTAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(xThreshold)\n              .tickSizeOuter(0),\n          )\n          .attr(\"class\",\"xAxis-curve\");\n\n        svg_curves.append('g')\n          .call(xTAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start')\n          .on('click', (d: string) => this.leftThreshold = parseFloat(d).toFixed(2))\n          .on('contextmenu', (d: string) => this.rightThreshold = parseFloat(d).toFixed(2));\n\n\n        const yUnceratiny = d3.scaleLinear()\n          .domain([0, 1])\n          .range([this.height, 0]);\n\n        const yTAxis = (g: any) => g\n          .call(d3.axisLeft(yUnceratiny)\n            .ticks(5)\n            .tickFormat(evaluationKeys != 'mcc'? d3.format('.0%'):d3.format('.0')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis)\n          .attr('font-size', 20);\n\n        const yTAxis_acc = (g: any) => g\n          .attr('transform', `translate(${this.width*0.8}, ${0})`)\n          .call(d3.axisLeft(yThreshold)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis_acc)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', `translate(${20}, ${0})`)\n          .attr('text-anchor', 'start');\n\n\n        // add reset button\n        // svg_curves.append('rect')\n        //   .attr('transform', `translate(${this.width - 200}, ${this.height})`)\n        //   .attr(\"width\",20)\n        //   .attr(\"height\",30)\n        //   .attr(\"fill\",\"lightgrey\")\n\n        // svg_curves.append(\"text\")\n        //   .attr('transform', `translate(${this.width - 100}, ${this.height})`)\n        //   .attr(\"class\",\"legend-text-hist\")\n        //   .attr('font-size', '24px')\n        //   .attr('text-anchor', 'end')\n        //   .attr('alignment-baseline', 'middle')\n        //   .text( \"Fraction of uncertainty\") \n      };\n      \n\n      drawAxes();\n      drawTitles();\n      drawAdjuster();\n    },\n    drawStreamChart() {\n      const chart = d3.select(this.$refs.svg);\n      const selectedClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n      const xThreshold = d3.scaleBand<string>()\n      .domain(this.thresholds)\n      .range([0, this.width*0.8])\n      .paddingOuter(0.2)\n      .paddingInner(0.2);\n      const yThreshold = this.yThreshold\n      const svg_curves = chart.select(\".svg-curve\")\n      svg_curves.selectAll('*').remove();\n      const barThresholds = svg_curves.selectAll('.cell')\n        .data(this.thresholds)\n        .join('g')\n          .attr('class', 'curve-cell')\n          .attr('transform', function(d: string)  {\n            return `translate(${xThreshold(d)}, ${0})`\n          })\n      const x = this.x    \n      const y = this.y;\n      const barWidth = xThreshold.bandwidth();\n      const selectionBarWidth = xThreshold.bandwidth() / 8;\n      const streamData = this.streamData;\n      const instances = this.instances;\n      const thresholds = this.thresholds;\n      const accumulations = this.accumulations;\n      const evaluationSelection = this.evaluationSelection;\n      const yUnceratiny = d3.scaleLinear()\n          .domain([0, 1])\n          .range([this.height, 0]);\n      let withinClassifierBandwidths = []\n      this.withinClassifierBandwidths.forEach((i)=>{\n        withinClassifierBandwidths.push(i)\n      });\n      let currentBandwidth = this.currentBandwidth\n      \n      if (Object.keys(streamData).length > withinClassifierBandwidths.length) {\n        withinClassifierBandwidths.push(currentBandwidth)\n      }\n      \n\n      const sortedBandWidth = withinClassifierBandwidths.sort((n1,n2) => {\n          if ( (n1.right + n1.left) < (n2.right + n2.left)) {\n              return 1;\n          }\n\n          if ( (n1.right + n1.left) > (n2.right + n2.left)) {\n              return -1;\n          }\n\n          return 0;\n      });\n      const drawMiddelLine = () =>{\n        function line(d,i) {\n            return d3.line()(thresholds.map(function(p,j) { \n              if (evaluationSelection == 'accuracy') {\n                return [xThreshold(p)+barWidth/4 , yThreshold((streamData[0].ci_tp[j] + streamData[0].ci_tn[j])/(instances.length - streamData[0].ci_m[j]))]; \n              } else if (evaluationSelection == 'recall') {\n                return [xThreshold(p)+barWidth/4 , yThreshold(streamData[0].ci_tp[j] + streamData[0].ci_fn[j]!=0? (streamData[0].ci_tp[j] )/(streamData[0].ci_tp[j] + streamData[0].ci_fn[j]) :streamData[0].ci_tp[j] == 0? 1: 0)]; \n              } else if (evaluationSelection == 'precision') {\n                return [xThreshold(p)+barWidth/4 , yThreshold(streamData[0].ci_tp[j] + streamData[0].ci_fp[j] == 0? 0:(streamData[0].ci_tp[j] )/(streamData[0].ci_tp[j] + streamData[0].ci_fp[j]))]; \n              } else if (evaluationSelection == 'f1') {\n                let precision = streamData[0].ci_tp[j] + streamData[0].ci_fn[j] != 0?(streamData[0].ci_tp[j] )/(streamData[0].ci_tp[j] + streamData[0].ci_fn[j]):streamData[0].ci_tp[j] == 0? 1:0\n                let recall  = streamData[0].ci_tp[j] + streamData[0].ci_fp[j] !=0 ?(streamData[0].ci_tp[j] )/(streamData[0].ci_tp[j] + streamData[0].ci_fp[j]) : streamData[0].ci_tp[j] == 0? 1:0\n                return [xThreshold(p)+barWidth/4 , yThreshold(precision + recall !=0? 2*precision *recall / (precision + recall) : precision * recall != 0? 0:1)]; \n              } else {\n                let tp = streamData[0].ci_tp[j]\n                let fp = streamData[0].ci_fp[j]\n                let tn = streamData[0].ci_tn[j]\n                let fn = streamData[0].ci_fn[j]\n                if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n                  return [xThreshold(p)+barWidth/4 , yThreshold(((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn))))]; \n                } else{\n                  return [xThreshold(p)+barWidth/4 , yThreshold(0)]; \n                }\n              }\n            }));\n          }\n\n        svg_curves.append(\"path\")\n            .attr('class', 'line-threshold')\n            .attr(\"d\",  line)\n            .style(\"fill\", \"none\")\n            .attr(\"stroke\", \"grey\")\n            .style(\"stroke-width\", 3)\n            .style(\"opacity\", 1)   \n\n      };\n      const drawCurves = () =>{\n        // sort storeBandwidth\n        sortedBandWidth.forEach((bandwidth, c)=>{\n          let index = c\n          barThresholds  \n            .append(\"rect\")\n            .attr('class', (d,i)=>'bar-threshold-band-'+c + '-' + i)\n            .attr('y', (d,i) => yUnceratiny(this.streamData[c].ci_m[i] / this.instances.length))\n            .attr('width', barWidth / 1.2)\n            .attr('height', (d,i) => this.height - yUnceratiny(this.streamData[c].ci_m[i] / this.instances.length))\n            .attr('fill', this.streamData[c].color)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d,i) => this.barHover = ({threshold: 'threshold-'+ i}))\n            .on('mouseleave', this.clearBarHover)\n            .on('click', (d,i) => this.select(c, i, 'first', bandwidth))\n            .on('contextmenu', (d,i) => this.select(c, i, 'second', bandwidth))\n            .on('dblclick',(d,i)=>this.select(c, i, 'first', bandwidth, 'certainty'));  \n      \n          var pointsUp = barThresholds\n            .append(\"line\")\n            .attr('class', (d,i)=>'upline-band-'+c + '-' + i)\n            .attr('x1',  barWidth/6 * (index + 1)-6)\n            .attr('y1',(d,i) => {\n              return yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i] +  this.streamData[c].ci_m[i])/(this.instances.length))\n            })\n            .attr('x2',  barWidth/6 * (index + 1)+6)\n            .attr('y2', (d,i) => yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i] + this.streamData[c].ci_m[i])/(this.instances.length)))\n            .attr('stroke', this.streamData[c].color)\n            .attr('stroke-width', '6px')\n            .on('mouseenter', (d,i) => this.accHover = ({threshold: 'threshold-'+ i}))\n            .on('mouseleave', this.clearAccHover)\n            .attr(\"visibility\",evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n            .on('click', (d,i) =>this.click = {'threshold':this.thresholds[i], 'classifier': selectedClassifier})\n\n\n\n          var pointsMiddle = barThresholds\n            .append(\"line\")\n            .attr('class', (d,i)=>'midline-band-'+c + '-' + i)\n            .attr('x1',  barWidth/6 * (index + 1)-6)\n            .attr('y1',(d,i) => {\n              let tp = streamData[c].ci_tp[i]\n              let fp = streamData[c].ci_fp[i]\n              let tn = streamData[c].ci_tn[i]\n              let fn = streamData[c].ci_fn[i]\n              let m_y = streamData[c].ci_m_y[i]\n              let m_n = streamData[c].ci_m_n[i]\n              let m = streamData[c].ci_m[i]\n              if (evaluationSelection == 'accuracy') {\n                return yThreshold((tp+tn)/(this.instances.length-m))\n              } else if (evaluationSelection == 'recall') {\n                return yThreshold(tp/(tp+fn))\n              } else if (evaluationSelection == 'precision') {\n                return yThreshold(tp/(tp+fp))\n              } else if (evaluationSelection == 'f1') {\n                let precision = tp / (tp+fp)\n                let recall  = tp / (tp + fn)\n                return yThreshold(2*precision*recall / (precision + recall))\n              } else {\n                if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n                  return yThreshold(((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn))))\n                } else {\n                  return yThreshold(0)\n                }\n              }\n              }  \n            )\n            .attr('x2',  barWidth/6 * (index + 1)+6)\n            .attr('y2', (d,i) => {\n              let tp = streamData[c].ci_tp[i]\n              let fp = streamData[c].ci_fp[i]\n              let tn = streamData[c].ci_tn[i]\n              let fn = streamData[c].ci_fn[i]\n              let m_y = streamData[c].ci_m_y[i]\n              let m_n = streamData[c].ci_m_n[i]\n              let m = streamData[c].ci_m[i]\n              if (evaluationSelection == 'accuracy') {\n                return yThreshold((tp+tn)/(this.instances.length-m))\n              } else if (evaluationSelection == 'recall') {\n                return yThreshold(tp/(tp+fn))\n              } else if (evaluationSelection == 'precision') {\n                return yThreshold(tp/(tp+fp))\n              } else if (evaluationSelection == 'f1') {\n                let precision = tp / (tp+fp)\n                let recall  = tp / (tp + fn)\n                return yThreshold(2*precision*recall / (precision + recall))\n              } else {\n                if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n                  return yThreshold(((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn))))\n                } else {\n                  return yThreshold(0)\n                }\n              }\n              }  )\n            .attr('stroke', this.streamData[c].color)\n            .attr('stroke-width', '6px')\n            .on('mouseenter', (d,i) => this.accHover = ({threshold: 'threshold-'+ i}))\n            .on('mouseleave', this.clearAccHover)\n            .on('click', (d,i) =>this.click = {'threshold':this.thresholds[i], 'classifier': selectedClassifier})\n\n\n          var pointsLow =  barThresholds\n            .append(\"line\")\n            .attr('class', (d,i)=>'lowline-band-'+c + '-' + i)\n            .attr('x1',  barWidth/6 * (index + 1)-6)\n            .attr('y1',(d,i) => {\n              return yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i])/(this.instances.length))\n            })\n            .attr('x2',  barWidth/6 * (index + 1)+6)\n            .attr('y2', (d,i) => yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i])/(this.instances.length)))\n            .attr('stroke', this.streamData[c].color)\n            .attr('stroke-width', '6px')\n            .on('mouseenter', (d,i) => this.accHover = ({threshold: 'threshold-'+ i}))\n            .on('mouseleave', this.clearAccHover)\n            .attr(\"visibility\",evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n            .on('click', (d,i) =>this.click = {'threshold':this.thresholds[i], 'classifier': selectedClassifier})\n\n\n          barThresholds.append(\"line\")\n            .attr('class', (d,i)=>'line-band-'+c + '-' + i)\n            .attr('x1',  barWidth/6 * (index + 1)-1)\n            .attr('y1',(d,i) => {\n              return yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i] +  this.streamData[c].ci_m[i])/(this.instances.length))\n              }  \n            )\n            .attr('x2',  barWidth/6 * (index + 1)-1)\n            .attr('y2', (d,i) => yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i])/(this.instances.length)))\n            .attr('stroke', this.streamData[c].color)\n            .attr('stroke-width', '4px')\n            .attr(\"visibility\",evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n          index += 1\n        })\n\n        sortedBandWidth.forEach((bandwidth, c)=>{\n          barThresholds \n            .append(\"circle\")   \n            .attr('r',(barWidth / 2.4) / sortedBandWidth.length)\n            .attr('class', (d,i)=>'circle-threshold-band-'+c + '-' + i)\n            .attr(\"cx\", (barWidth / 1.2) / sortedBandWidth.length * (c+0.5))\n            .attr(\"cy\",  this.height - (barWidth / 2.4) / sortedBandWidth.length)\n            .attr(\"visibility\", (d,i) => {\n              return (this.streamData[c].ci_m[i] != 0 && sortedBandWidth.length >=2 || (this.height -yThreshold(this.streamData[c].ci_m[i] / this.instances.length) >0 \n                                      &&  this.height -yThreshold(this.streamData[c].ci_m[i] / this.instances.length) < barWidth / 3)) ? \"visible\":\"hidden\"\n            })\n            .attr(\"fill\", this.streamData[c].color)  \n            .attr('stroke', 'black')\n            .attr('stroke-width', '0.5px')\n            .on('mouseenter', (d,i) => this.barHover = ({threshold: 'threshold-'+ i}))\n            .on('mouseleave', this.clearBarHover)\n            .on('click', (d,i) => this.select(c, i, 'first', bandwidth))\n            .on('contextmenu', (d,i) => this.select(c, i, 'second', bandwidth))\n            .on('dblclick',(d,i)=>this.select(c, i, 'first', bandwidth, 'certainty')); \n            \n        \n          barThresholds.append('rect')\n            .attr('class', (d,i)=>'bar-right-right-selection-1-'+c + '-' + i)\n            .attr('y', (d: string) => y(1))\n            .attr('x', barWidth / 2.4 - selectionBarWidth)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection1Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1px')\n            .attr(\"visibility\",  \"hidden\")\n            ; \n          \n\n          barThresholds.append('rect')\n            .attr('class', (d,i)=>'bar-right-right-selection-2-'+c + '-' + i)\n            .attr('y', (d: string) => y(1))\n            .attr('x', barWidth / 2.4)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection2Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1px')\n            .attr(\"visibility\", \"hidden\")\n            ; \n        })\n      };\n\n      const drawLegend = () => {\n        svg_curves.selectAll(\"myCicle\")\n          .data(this.withinClassifierBandwidths)\n          .enter().append(\"circle\")\n          .attr(\"class\",(d,i)=>\"bandwidth-\"+ i)\n          .attr(\"cx\",this.width-10)\n          .attr(\"cy\",(d,i)=> this.height+(i + 2)*25)\n          .attr(\"r\", 6)\n          .style(\"fill\", (d,i)=>{\n            return this.streamData[i]['color']\n          })\n          .on('mouseenter',(d,i)=>{\n            this.bandwidthHover = ({bandwidth: 'bandwidth-'+i})})\n          .on('mouseleave', (d,i)=>this.bandwidthHover = ({bandwidth: 'bandwidth-'}))  \n          .on('click', (d, i) => this.currentRemovedbandwidth = d);\n          \n        svg_curves\n          .selectAll(\"myText\")\n          .data(this.withinClassifierBandwidths)\n          .enter().append(\"text\")\n          .attr(\"class\",(d,i)=>\"bandwidth-text-\"+ i)\n          .attr(\"x\", this.width-180)\n          .attr(\"y\", (d,i)=> this.height+(i + 2)*25) \n          .text((d,i)=>\"bandwidth: \"+ this.streamData[i]['left'] + '-' + this.streamData[i]['right'])\n          .style(\"font-size\", \"15px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .on('mouseenter',(d,i)=>this.bandwidthHover = ({bandwidth: 'bandwidth-'+i}))\n          .on('mouseleave', (d,i)=>this.bandwidthHover = ({bandwidth: 'bandwidth-'}))\n          .on('click', (d, i) => this.currentRemovedbandwidth = d);\n\n\n        \n      };\n      const drawTitles = () => {\n         svg_curves.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.4;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Threshold');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 1.5)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Fraction of instances');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 4)\n          .attr('y', 60+ this.width * 0.8)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationSelection == 'accuracy'? \"Accuracy \"\n          :this.evaluationSelection == 'precision'? \"Precision\"\n          :this.evaluationSelection == 'recall'? \"Recall \"\n          :this.evaluationSelection == 'mcc'? \"MCC \"\n          :\"F1\");\n\n        svg_curves.append('text')\n          .attr(\"class\",\"curve-title\")\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( 'Performance (' + selectedClassifier + ')');  \n      };\n      const drawAxes = () => {\n        const xTAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(xThreshold)\n              .tickSizeOuter(0),\n          )\n          .attr(\"class\",\"xAxis-curve\");\n\n        svg_curves.append('g')\n          .call(xTAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start')\n          .on('click', (d: string) => this.leftThreshold = parseFloat(d).toFixed(2))\n          .on('contextmenu', (d: string) => this.rightThreshold = parseFloat(d).toFixed(2));\n\n\n        const yUnceratiny = d3.scaleLinear()\n          .domain([0, 1])\n          .range([this.height, 0]);\n        const yTAxis = (g: any) => g\n          .call(d3.axisLeft(yUnceratiny)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis)\n          .attr('font-size', 20);\n\n        const yTAxis_acc = (g: any) => g\n          .attr('transform', `translate(${this.width*0.8}, ${0})`)\n          .call(d3.axisLeft(yThreshold)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis_acc)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', `translate(${20}, ${0})`)\n          .attr('text-anchor', 'start');\n\n        // add reset button\n        svg_curves.append('rect')\n          .attr('transform', `translate(${ -100}, ${this.height})`)\n          .attr(\"width\",60)\n          .attr(\"height\",30)\n          .attr(\"fill\",\"lightgrey\")\n          .on('click', (d: string) => this.clearThresholdBound());\n\n        svg_curves.append(\"text\")\n          .attr('transform', `translate(${ -70}, ${this.height + 15})`)\n          .attr(\"class\",\"legend-text-hist\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"reset\") \n          .on('click', (d: string) => this.clearThresholdBound());\n\n        // add remove all button\n        svg_curves.append('rect')\n          .attr('transform', `translate(${this.width -120}, ${this.height})`)\n          .attr(\"width\",120)\n          .attr(\"height\",30)\n          .attr(\"fill\",\"lightgrey\")\n          .on('click', (d: string) => this.clearBandwitdth());\n\n        svg_curves.append(\"text\")\n          .attr('transform', `translate(${ this.width-60}, ${this.height + 15})`)\n          .attr(\"class\",\"legend-text-hist\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"remove all\") \n          .on('click', (d: string) => this.clearBandwitdth());\n\n        // add default button\n        svg_curves.append('rect')\n          .attr('transform', `translate(${this.width -120}, ${this.height - 45})`)\n          .attr(\"width\",120)\n          .attr(\"height\",30)\n          .attr(\"fill\",\"lightgrey\")\n          .on('click', (d: string) => this.addDefault());\n\n        svg_curves.append(\"text\")\n          .attr('transform', `translate(${ this.width-60}, ${this.height -30})`)\n          .attr(\"class\",\"legend-text-hist\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"add default\") \n          .on('click', (d: string) => this.addDefault());\n\n\n      };\n\n      const yAxisMarkerLine = () => {\n        let svg = svg_curves\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-1')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none');\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-2')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none');  \n\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-3')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none'); \n      };\n\n      const yAxisMarkerText = () => {\n        let svg = svg_curves\n        svg.append('rect')\n          .attr('class', 'y-axis-marker-rect')\n          .attr('width', '400')\n          .attr('height', sortedBandWidth.length * 40)\n          .attr(\"x\",this.width-this.margin.right-400)\n          .attr(\"y\",-55)\n          .attr('fill', \"white\")\n          .attr('stroke',\"lightgrey\")\n          .attr('stroke-width',\"2px\")\n          .transition()\n          .duration(1000)\n          .attr('opacity', 0);  \n        \n        let i = 0\n        sortedBandWidth.forEach((bandwidth,c)=>{\n          svg.append('text')\n            .attr('class', 'y-axis-marker-text-1-'+c)\n            .attr('transform', 'translate(' +(this.width-this.margin.right- 400)+ ', '+(-50+i * 22)+')') \n            // .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'hanging')\n            .attr('font-size', 20)\n            .attr('fill', \"grey\")\n            .attr('pointer-events', 'none')\n            .attr(\"opacity\", 0);\n          \n          svg.append('text') \n            .attr('class', 'y-axis-marker-text-1-s1-'+c)\n            .attr('transform', 'translate(' +(this.width-this.margin.right-250)+', '+(-50+i * 22)+')') \n            .attr('alignment-baseline', 'hanging')\n            .attr('font-size', 20)\n            .attr('fill', \"steelblue\")\n            .attr('pointer-events', 'none')\n            .attr(\"opacity\", 0);;\n          \n          svg.append('text')\n            .attr('class', 'y-axis-marker-text-1-s2-'+c)\n            .attr('transform', 'translate(' +(this.width-this.margin.right-120)+ ', '+(-50+i * 22)+')') \n            .attr('alignment-baseline', 'hanging')\n            .attr('font-size', 20)\n            .attr('fill', \"red\")\n            .attr('pointer-events', 'none')\n            .attr(\"opacity\", 0);;\n          i ++;\n        })\n      };\n      \n\n      \n      drawAxes();\n      drawTitles();\n      drawLegend();\n      drawCurves();\n      drawMiddelLine();\n      yAxisMarkerText();\n      this.drawSelections();\n      \n    },\n    \n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const formatDecimal = d3.format(\".1f\")\n\n      const { first, second } = this.selections;\n      const yUnceratiny = d3.scaleLinear()\n          .domain([0, 1])\n          .range([this.height, 0]);\n\n      const curveOffset = (bandwidth:number, threshold:number,  selection: Set<string>) => {\n        const instances = this.streamData[bandwidth][\"middle_instances\"][this.thresholds[threshold]].instances\n        const overlappingInstances = intersection(instances, selection);\n        var totalInstances = 0 \n        totalInstances = this.instances.length\n        const fractionOfTotalInstances = overlappingInstances.size / totalInstances;\n        return yUnceratiny(fractionOfTotalInstances);\n      };\n\n      let withinClassifierBandwidths = []\n      this.withinClassifierBandwidths.forEach((i)=>{\n        withinClassifierBandwidths.push(i)\n      });\n      const sortedBandWidth = withinClassifierBandwidths.sort((n1,n2) => {\n          if ( (n1.right + n1.left) < (n2.right + n2.left)) {\n              return 1;\n          }\n\n          if ( (n1.right + n1.left) > (n2.right + n2.left)) {\n              return -1;\n          }\n          return 0;\n      });\n\n      sortedBandWidth.forEach((bandwidth, c)=>{\n        this.thresholds.forEach((t, i)=>{\n          if (!first){\n            chart.select('.bar-right-right-selection-1-'+c + '-' + i).attr(\"visibility\",  \"hidden\")\n          } else {\n            chart.select('.bar-right-right-selection-1-'+c + '-' + i)\n              .attr(\"height\",(d: string) =>this.height -  curveOffset(c,i,first.instances))\n              .attr(\"y\",(d: string) => curveOffset(c,i,first.instances))\n              .attr(\"visibility\",  \"visible\")\n          }\n          if (!second) {\n            chart.select('.bar-right-right-selection-2-'+c + '-' + i).attr(\"visibility\",  \"hidden\")\n          } else {\n            chart.select('.bar-right-right-selection-2-'+c + '-' + i)\n              .attr(\"height\",(d: string) => this.height - curveOffset(c,i,second.instances))\n              .attr(\"y\",(d: string) => curveOffset(c,i,second.instances))\n              .attr(\"visibility\",  \"visible\")\n          }\n        })\n      })\n    },\n    select(\n      bandwidth: number,\n      threshold:number,\n      whichOverlap: 'first' | 'second',\n      bandwidthRange:string,\n      type:string\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;;\n\n\n      let instances = this.streamData[bandwidth][\"middle_instances\"][this.thresholds[threshold]].instances\n      let leftEdge = (parseFloat(this.thresholds[threshold]) - parseFloat(bandwidthRange['left'])).toFixed(2)\n      let rightEdge = (parseFloat(this.thresholds[threshold]) + parseFloat(bandwidthRange['right'])).toFixed(2)\n\n      let description = `Instances which ${constraint.classifier} got uncertain under${leftEdge} and ${rightEdge}`;\n\n\n      if (type ==  'certainty') {\n        let tmp_instances = [...this.streamData[bandwidth][\"ci_tp_instances\"][this.thresholds[threshold]].instances];\n        [...this.streamData[bandwidth][\"ci_fp_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        [...this.streamData[bandwidth][\"ci_tn_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        [...this.streamData[bandwidth][\"ci_fn_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        instances = new Set(tmp_instances)\n        description = `Instances which ${constraint.classifier} got certain under${leftEdge} and ${rightEdge}`;\n        }\n\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BandwidthAssessment.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BandwidthAssessment.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BandwidthAssessment.vue?vue&type=template&id=5606a6ef&scoped=true&\"\nimport script from \"./BandwidthAssessment.vue?vue&type=script&lang=ts&\"\nexport * from \"./BandwidthAssessment.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BandwidthAssessment.vue?vue&type=style&index=0&id=5606a6ef&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5606a6ef\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Performance (Selection)\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Sort by accuracy\"},model:{value:(_vm.accuracySorting),callback:function ($$v) {_vm.accuracySorting=$$v},expression:\"accuracySorting\"}},[_c('v-radio',{attrs:{\"label\":\"ascending\",\"value\":\"ascending\"}}),_c('v-radio',{attrs:{\"label\":\"descending\",\"value\":\"descending\"}}),_c('v-radio',{attrs:{\"label\":\"alphabetical\",\"value\":\"alphabetical\"}}),_c('v-radio',{attrs:{\"label\":\"none\",\"value\":\"\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationSelection),callback:function ($$v) {_vm.evaluationSelection=$$v},expression:\"evaluationSelection\"}},[_c('v-radio',{attrs:{\"label\":\"accuracy\",\"value\":\"accuracy\"}}),_c('v-radio',{attrs:{\"id\":\"mcc\",\"label\":\"mcc\",\"value\":\"mcc\"}}),(_vm.classNumber > 2)?_c('v-radio',{attrs:{\"label\":\"microf1\",\"value\":\"microf1\"}}):_vm._e(),(_vm.classNumber > 2)?_c('v-radio',{attrs:{\"label\":\"macrof1\",\"value\":\"macrof1\"}}):_vm._e(),(_vm.classNumber <= 2)?_c('v-radio',{attrs:{\"label\":\"f1\",\"value\":\"f1\"}}):_vm._e(),(_vm.classNumber <= 2)?_c('v-radio',{attrs:{\"label\":\"precision\",\"value\":\"precision\"}}):_vm._e(),(_vm.classNumber <= 2)?_c('v-radio',{attrs:{\"label\":\"recall\",\"value\":\"recall\"}}):_vm._e(),(_vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"auc\",\"value\":\"auc\"}}):_vm._e(),(_vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"mse\",\"value\":\"mse\"}}):_vm._e()],1)],1)])],1)],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\nexport default Vue.extend({\n  name: 'Performance_Selection',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = '' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const evaluationSelection = 'accuracy' as 'mcc'| 'f1' | 'precision'| 'recall'| 'microf1' | 'macrof1'| 'accuracy'|'auc'|'mse';\n    const hover = {\n      type: '' as 'select1' | 'select2' | '',\n      classifier: '',\n    };\n    return {\n      accuracySorting,\n      evaluationSelection,\n      height,\n      hover,\n      margin,\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      classNumber:[...this.boxProps.classes].length\n    };\n  },\n  computed: {\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      return this.$store.state.addedThresholdClassifiers.map((c)=>c.name);\n    },\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    classifierThresholdDict():{} {\n      return this.$store.state.classifierThresholdDict\n    }, \n    continuousPredictionKeys():string[]{\n      if (this.$store.state.datasetType == \"continuous\") {\n        \n        var continuousPredictionKeys = []\n          this.predictionKeys.forEach((c)=>{\n            continuousPredictionKeys.push(c+\"_\"+this.classifierThresholdDict[c]/100)\n          })\n          this.addedThresholdClassifiers.forEach((c)=>{\n            continuousPredictionKeys.push(c)\n          })\n          return continuousPredictionKeys\n        \n      } else {\n        return this.predictionKeys;\n      }\n    },\n    continuousClassifierName():{} {\n      var continuousClassifierName = {}\n      this.classifiers.forEach((c)=>{\n        if (this.$store.state.datasetType == \"continuous\") {\n          continuousClassifierName[c] = c + \"_\" + this.classifierThresholdDict[c]/100\n        } else {\n          continuousClassifierName[c] = c;\n        }\n      })\n      return continuousClassifierName;\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    predictionKeys(): string[] {\n      \n      var scope = this.evaluationKeys\n      \n      const accuracyAscending = (c1: string, c2: string) => {\n        return this.predictions[c1].right.size - this.predictions[c2].right.size;\n      };\n      const accuracyDescending = (c1: string, c2: string) => {\n        return -accuracyAscending(c1, c2);\n      };\n\n      const predictionKeys = this.classifiers.slice();\n     \n      return predictionKeys;\n    },\n    evaluationKeys() : String {\n      var evaluationKeys = \"\"\n      switch (this.evaluationSelection) {\n        case 'accuracy' :\n          evaluationKeys = \"accuracy\"\n          break;\n        case 'f1' :\n          evaluationKeys = \"f1\"\n          break; \n        case 'microf1' :\n          evaluationKeys = \"microf1\"  \n          break;\n        case 'macrof1' :\n          evaluationKeys = \"macrof1\"\n          break;\n        case 'mcc' :\n          evaluationKeys = \"mcc\"\n          break;\n        case 'precision' :\n          evaluationKeys = \"precision\"\n          break;\n        case 'recall' :\n          evaluationKeys = \"recall\"\n          break;\n        case 'auc' :\n          evaluationKeys = \"auc\"\n          break;\n        case 'mse' :\n          evaluationKeys = \"mse\"\n          break;      \n      }\n      return evaluationKeys;\n    },\n    predictions(): {\n      [classifier: string]: {\n        threshold: number,\n        right: Set<string>,\n        wrong: Set<string>,\n        fp: Set<String>,\n        fn: Set<String>,\n        tp: Set<String>,\n        tn : Set<String>,\n        f1: number, \n        micro_f1: number,\n        macro_f1:number,\n        mcc: number,\n        precision: number,\n        recall: number,\n        accuracy:number,\n        auc:number,\n        mse:number\n      },\n    } {\n      const predictions: {\n        [classifier: string]: {\n          threshold: number,\n          right: Set<string>,\n          wrong: Set<string>,\n          fp: Set<String>,\n          fn: Set<String>,\n          tp: Set<String>,\n          tn : Set<String>,\n          f1: number, \n          micro_f1: number,\n          macro_f1:number,\n          mcc: number,\n          precision: number,\n          recall: number,\n          accuracy:number,\n          auc:number,\n          mse:number\n        },\n      } = {};\n\n      this.classifiers.forEach((c) => {\n        predictions[this.continuousClassifierName[c]] = {\n          threshold : Object.keys( this.classifierThresholdDict).includes(c)? this.classifierThresholdDict[c] : 0,\n          right: new Set(),\n          wrong: new Set(),\n          fp: new Set(),\n          fn: new Set(),\n          tp: new Set(),\n          tn: new Set(),\n          f1: 0,\n          micro_f1: 0,\n          macro_f1:0,\n          mcc: 0,\n          precision: 0,\n          recall: 0,\n          accuracy:0,\n          auc:0,\n          mse:0\n        };\n      });\n      this.addedThresholdClassifiers.forEach((c)=>{\n        predictions[c] = {\n          threshold: c.substring(c.length-4,c.legend),\n          right: new Set(),\n          wrong: new Set(),\n          fp: new Set(),\n          fn: new Set(),\n          tp: new Set(),\n          tn: new Set(),\n          f1: 0,\n          micro_f1: 0,\n          macro_f1:0,\n          mcc: 0,\n          precision: 0,\n          recall: 0,\n          accuracy:0,\n          auc:0,\n          mse:0\n        };\n      })    \n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        this.classifiers.forEach((c) => {\n          var cur_threshold = predictions[this.continuousClassifierName[c]].threshold / 100;\n          var pred_prob = i.continuous_predictions[c];\n          var actual = i.actual;\n          var pred = i.predictions[c];\n          if (actual == this.classes[1]) {\n            if (pred_prob > cur_threshold) {\n              predictions[this.continuousClassifierName[c]].tp.add(id);\n              predictions[this.continuousClassifierName[c]].right.add(id);\n            } else {\n              predictions[this.continuousClassifierName[c]].fn.add(id);\n              predictions[this.continuousClassifierName[c]].wrong.add(id);\n\n            }\n          } else {\n            if (pred_prob > cur_threshold) {\n              predictions[this.continuousClassifierName[c]].fp.add(id);\n              predictions[this.continuousClassifierName[c]].wrong.add(id);\n\n            } else {\n              predictions[this.continuousClassifierName[c]].tn.add(id);\n              predictions[this.continuousClassifierName[c]].right.add(id);\n\n            }\n          }\n        })\n        this.addedThresholdClassifiers.forEach((classifier) => {\n          let c = classifier.substring(4,classifier.length-5)\n          let classifiers = this.classifiers\n          if (classifiers.filter(e => e === c).length > 0){\n            var cur_threshold = parseFloat(classifier.substring(classifier.length-4,classifier.legend));\n            var pred_prob = i.continuous_predictions[c];\n            var actual = i.actual;\n            var pred = i.predictions[c];\n\n            if (actual == this.classes[1]) {\n              if (pred_prob > cur_threshold) {\n                predictions[classifier].tp.add(id);\n                predictions[classifier].right.add(id);\n              } else {\n                predictions[classifier].fn.add(id);\n                predictions[classifier].wrong.add(id);\n              }\n            } else {\n              if (pred_prob > cur_threshold) {\n                predictions[classifier].fp.add(id);\n                predictions[classifier].wrong.add(id);\n              } else {\n                predictions[classifier].tn.add(id);\n                predictions[classifier].right.add(id);\n\n              }\n            }\n          }\n        })\n      })\n\n      var total_data = {}\n\n      this.classifiers.forEach((c)=>{\n        var tp = predictions[this.continuousClassifierName[c]].tp.size\n        var fp = predictions[this.continuousClassifierName[c]].fp.size\n        var fn = predictions[this.continuousClassifierName[c]].fn.size\n        var tn = predictions[this.continuousClassifierName[c]].tn.size\n        predictions[this.continuousClassifierName[c]].precision = tp / (tp + fp);\n        predictions[this.continuousClassifierName[c]].recall = tp /  (tp + fn);\n        predictions[this.continuousClassifierName[c]].accuracy = predictions[this.continuousClassifierName[c]].right.size / (predictions[this.continuousClassifierName[c]].right.size + predictions[this.continuousClassifierName[c]].wrong.size)\n        predictions[this.continuousClassifierName[c]].f1 = 2 *  predictions[this.continuousClassifierName[c]].precision *  predictions[this.continuousClassifierName[c]].recall / ( predictions[this.continuousClassifierName[c]].precision +  predictions[this.continuousClassifierName[c]].recall)\n        if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n          predictions[this.continuousClassifierName[c]].mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n        } else {\n          predictions[this.continuousClassifierName[c]].mcc = 0\n        }\n      })\n\n      this.addedThresholdClassifiers.forEach((c)=>{\n        var tp = predictions[c].tp.size\n        var fp = predictions[c].fp.size\n        var fn = predictions[c].fn.size\n        var tn = predictions[c].tn.size\n        predictions[c].precision = tp / (tp + fp);\n        predictions[c].recall = tp /  (tp + fn);\n        predictions[c].accuracy = predictions[c].right.size / (predictions[c].right.size + predictions[c].wrong.size)\n        predictions[c].f1 = 2 *  predictions[c].precision *  predictions[c].recall / ( predictions[c].precision +  predictions[c].recall)\n        if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n          predictions[c].mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n        } else {\n          predictions[c].mcc = 0\n        }\n      })\n\n      if (this.classes.length > 2) {\n        this.classifiers.forEach((c)=>{\n            var total_tp = 0\n            var total_fp = 0\n            var total_tn = 0\n            var total_fn = 0\n\n            var total_f1 = 0\n            this.classes.forEach((j)=>{\n              var cur_tp = total_data[c][j].tp.length\n              var cur_fp = total_data[c][j].fp.length\n              var cur_tn = total_data[c][j].tn.length\n              var cur_fn = total_data[c][j].fn.length\n\n              total_tp +=  cur_tp\n              total_fp += cur_fp\n              total_tn +=  cur_tn\n              total_fn += cur_fn\n\n              var cur_pre = cur_tp / (cur_tp + cur_fp )\n              var cur_recall = cur_tp / (cur_tp + cur_fn )\n              total_f1 += ((cur_pre + cur_recall) == 0)? 0 : 2 * cur_pre * cur_recall / (cur_pre + cur_recall)\n            })\n            predictions[this.continuousClassifierName[c]].micro_f1 = total_f1 / this.classes.length\n            var total_recall= total_tp / (total_tp + total_fn)\n            var total_pre= total_tp / (total_tp + total_fp )\n            predictions[this.continuousClassifierName[c]].macro_f1 = (total_recall + total_pre ) == 0? 0 : total_recall * total_pre * 2 / (total_recall + total_pre )\n            if ((total_tp+total_fp)*(total_tp+total_fn)*(total_tn+total_fp)*(total_tn+total_fn) != 0) {\n              predictions[this.continuousClassifierName[c]].mcc = ((total_tp*total_tn-total_fp*total_fn) / Math.sqrt((total_tp+total_fp)*(total_tp+total_fn)*(total_tn+total_fp)*(total_tn+total_fn)))\n            } else {\n              predictions[this.continuousClassifierName[c]].mcc = 0\n            }\n        })\n      }\n      return predictions;\n    },\n\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.continuousPredictionKeys)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([this.evaluationKeys == \"mcc\"? -1 : 0 , \n                this.evaluationKeys == \"mse\"? this.instances.length : 1])\n        .range([this.height, 0]);\n      return y;\n    },\n  },\n  watch: {\n    addedThresholdClassifiers() {\n      this.drawInitial();\n    },\n    accuracySorting() {\n      this.drawInitial();\n    },\n    evaluationSelection() {\n      this.drawInitial();\n    },\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawSelections();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    clearHover() {\n      this.hover = ({type: '', classifier: ''});\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const select1Bars = chart.selectAll('.bar-right-selection-1');\n      const select2Bars = chart.selectAll('.bar-right-selection-2');\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line');\n      const yAxisMarkerTextRight = chart.select('.y-axis-marker-text-right');\n      const yAxisMarkerTextWrong = chart.select('.y-axis-marker-text-wrong');\n\n      let text = \"\"\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n\n      const { first, second } = this.selections;\n      const calculate_auc = (classifier:string, selection: Set<string>) => {\n        let coordinates = [];\n        let classifierValues = {}\n        let auc = 0;\n        const c = classifier\n        const formatDecimal = d3.format(\".2f\")\n        classifierValues[c] = []\n        selection.forEach((id)=>{\n          const i = instanceById(id);\n          if (!classifierValues[c].includes(i.continuous_predictions[c]))\n            classifierValues[c].push(i.continuous_predictions[c])\n        })\n        classifierValues[c].sort();\n        classifierValues[c].forEach((value)=>{\n          value = formatDecimal(value)\n          let tp = 0;\n          let fp = 0;\n          let fn = 0;\n          let tn = 0;\n          selection.forEach((id)=>{\n            const i = instanceById(id);\n            const predict = i.continuous_predictions[c] < parseFloat(value) ? this.classes[0] : this.classes[1];\n            if (i.actual == this.classes[1]) {\n              if (predict == i.actual) {\n                tp+=1;\n              } else {\n                fn+=1;\n              }\n            } else {\n              if (predict == i.actual) {\n                tn+=1;\n              } else {\n                fp+=1;\n              }\n            }\n          })\n          coordinates.push({\"x\":fp/(fp+tn), \"y\":tp/(tp+fn)});\n        })\n\n        let lastx = 0;\n        let lasty = 0;\n        coordinates.sort(function(x, y){\n          return d3.ascending(x.x, y.x);\n        })\n        coordinates.forEach((cor)=>{\n          auc += (((cor.y + lasty) * (cor.x - lastx) / 2))\n          lastx = cor.x;\n          lasty = cor.y;\n        })\n        return auc\n      }\n      const calculate_mse = (classifier:string, selection: Set<string>) => {\n        let mse = 0\n        selection.forEach((id) => {\n          const i = instanceById(id);\n          const actual = i.actual == this.classes[1] ? 1 : 0;\n          const c = classifier\n          mse += ((i.continuous_predictions[c] - actual) * (i.continuous_predictions[c] - actual))\n        })\n        return mse\n      }\n      const rightYOffset = (classifier:string, selection: Set<string>) => {\n\n        const tp = intersection(this.predictions[classifier].tp, selection).size;\n        const fp = intersection(this.predictions[classifier].fp, selection).size;\n        const fn = intersection(this.predictions[classifier].fn, selection).size;\n        const tn = intersection(this.predictions[classifier].tn, selection).size;\n        const right = intersection(this.predictions[classifier].right, selection).size;\n        const precison = tp / (tp + fp)\n        const recall = tp / (tp + fn)\n        if (this.evaluationKeys == \"accuracy\") {\n          text += right / selection.size\n          return this.y(right / selection.size);\n        } else if (this.evaluationKeys == \"mcc\") {\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            text += ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n            return this.y(((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn))));\n          } else {\n            text += 0\n            return this.y(0);\n          }\n        } else if (this.evaluationKeys == \"precision\") {\n          text += precison\n          return this.y(precison);\n        } else if (this.evaluationKeys == \"auc\") {\n          const auc = calculate_auc(classifier, selection)\n          text += auc\n          return this.y(auc);\n        } else if (this.evaluationKeys == \"mse\") {\n          const mse = calculate_mse(classifier, selection)\n          text += mse\n          return this.y(mse);\n        } else if (this.evaluationKeys == \"recall\") {\n          text += recall\n          return this.y(recall);\n        } else if (this.evaluationKeys == \"f1\") {\n          text += (2 * precison * recall / (precison + recall))\n          return this.y(2 * precison * recall / (precison + recall))\n        } else if (this.evaluationKeys == \"microf1\") {\n          text += (2 * precison * recall / (precison + recall))\n          return this.y(2 * precison * recall / (precison + recall))\n        } else if (this.evaluationKeys == \"macrof1\") {\n          text += (2 * precison * recall / (precison + recall))\n          return this.y(2 * precison * recall / (precison + recall))\n        }\n      };\n      const rightHeight = (classifier:string, selection: Set<string>) => {\n        return this.height - rightYOffset(classifier, selection);\n      };\n\n      \n\n      if (this.hover.type === 'select1') {\n        select1Bars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.rightHoverColor\n              : this.selection1Color);\n      } else {\n        select1Bars.attr('fill', this.selection1Color);\n      }\n\n      if (this.hover.type === 'select2') {\n        select2Bars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.wrongHoverColor\n              : this.selection2Color);\n      } else {\n        select2Bars.attr('fill', this.selection2Color);\n      }\n\n      if (this.hover.type) {\n        if (this.hover.type == 'select1') {\n          yAxisMarkerLine\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', rightYOffset(this.hover.classifier, first.instances))\n            .attr('x2', this.width)\n            .attr('y2', rightYOffset(this.hover.classifier, first.instances))\n          yAxisMarkerTextRight\n            .transition()\n            .attr('transform', `translate(${40}, ${rightYOffset(this.hover.classifier, first.instances)})`)\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(parseFloat(text).toFixed(3)+\"\")\n        } else {\n          yAxisMarkerLine\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', rightYOffset(this.hover.classifier, second.instances))\n            .attr('x2', this.width)\n            .attr('y2', rightYOffset(this.hover.classifier, second.instances))\n          yAxisMarkerTextRight\n            .transition()\n            .attr('transform', `translate(${40}, ${rightYOffset(this.hover.classifier, second.instances)})`)\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(parseFloat(text).toFixed(3)+\"\")\n        }\n        \n\n      } else {\n        yAxisMarkerLine\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerTextRight\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n      }\n    },\n    drawHoverExternal() {\n      // @ts-ignore\n      \n    },\n    drawInitial() {\n      console.log(this.predictions)\n      console.log(this.continuousPredictionKeys)\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const x = this.x;\n      const y = this.y;\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(this.evaluationKeys == 'mse'? d3.format('.0'): d3.format('.0%')),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom * 0.8;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Classifier');\n\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationKeys == \"accuracy\"? 'Accuracy value'\n            :this.evaluationKeys == \"mcc\"? 'MCC value'\n            :this.evaluationKeys == \"precision\"? \"Precision value\"\n            :this.evaluationKeys == \"auc\"? \"AUC value\"\n            :this.evaluationKeys == \"mse\"? \"MSE value\"\n            :this.evaluationKeys == \"recall\"? \"Recall value\"\n            :this.evaluationKeys == \"microf1\"? \"Micro F1 value\"\n            :this.evaluationKeys == \"macrof1\"? \"Macro F1 value\":'F1 value');\n      };\n      drawTitles();\n\n      const drawLegend = () => {\n        const width = this.width / 4;\n        const height = this.margin.top / 2;\n\n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.margin.left + this.width * 3 / 4},\n              ${height / 3})`);\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.selection1Color)\n          \n\n          \n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.selection2Color)\n\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(\"Selection1\")\n          \n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(\"Selection2\");\n\n      };\n      drawLegend();\n\n      const drawBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', (d: string) => `translate(${x(d)}, ${0})`);\n\n\n        const { first, second } = this.selections;\n\n        \n\n        const barWidth = x.bandwidth();\n\n        const selections = () => {\n            \n          const selectionBarWidth = x.bandwidth() / 8;\n          barCells.append('rect')\n            .attr('class', 'bar-right-selection-1')\n            .attr('x', 0)\n            .attr('width', barWidth / 2)\n            .attr('fill', this.selection1Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .on('mouseenter', (d: string) => {\n              this.hover = ({type: 'select1', classifier: d})})\n            .on('mouseleave', this.clearHover) ;\n          barCells.append('rect')\n            .attr('class', 'bar-right-selection-2')\n            .attr('x', barWidth / 2)\n            .attr('width', barWidth / 2)\n            .attr('fill', this.selection2Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'select2', classifier: d}))\n            .on('mouseleave', this.clearHover) ;\n\n\n\n      \n          barCells.append(\"circle\")   \n            .attr('class', 'circle-right-selection-1')\n            .attr('cx',  barWidth / 4)\n            .attr('cy', this.height-15)\n            .attr('r','15px')\n            .style('fill', this.selection1Color)\n            .attr('stroke', 'grey')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'select1', classifier: d}))\n            .on('mouseleave', this.clearHover)\n           \n           barCells.append(\"circle\")   \n            .attr('class', 'circle-right-selection-2')\n            .attr('cy', this.height-15)\n            .attr('cx', barWidth * 3 / 4)\n            .attr('r','15px')\n            .style('fill', this.selection2Color)\n            .attr('stroke', 'grey')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'select2', classifier: d}))\n            .on('mouseleave', this.clearHover)\n                      \n        };\n        selections();\n      };\n\n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'none');\n        \n      };\n\n      drawBars();\n      yAxisMarkerLine();\n      yAxisMarkerText();\n\n      this.drawSelections();\n      this.drawHover();\n      this.drawHoverExternal();\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const barRightSelection1 = chart.selectAll('.bar-right-selection-1');\n      const barRightSelection2 = chart.selectAll('.bar-right-selection-2');\n\n      const circleRightSelection1 = chart.selectAll('.circle-right-selection-1');\n      const circleRightSelection2 = chart.selectAll('.circle-right-selection-2');\n     \n      const { first, second } = this.selections;\n\n      const rightYOffset = (classifier:string, selection: Set<string>) => {\n\n        const tp = intersection(this.predictions[classifier].tp, selection).size;\n        const fp = intersection(this.predictions[classifier].fp, selection).size;\n        const fn = intersection(this.predictions[classifier].fn, selection).size;\n        const tn = intersection(this.predictions[classifier].tn, selection).size;\n        const right = intersection(this.predictions[classifier].right, selection).size;\n        const precison = tp / (tp + fp)\n        const recall = tp / (tp + fn)\n        if (this.evaluationKeys == \"accuracy\") {\n          return this.y(right / selection.size);\n        } else if (this.evaluationKeys == \"mcc\") {\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            return this.y(((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn))));\n          } else {\n            return this.y(0);\n          }\n        } else if (this.evaluationKeys == \"precision\") {\n          return this.y(precison);\n        } else if (this.evaluationKeys == \"auc\") {\n          const auc = calculate_auc(classifier, selection)\n          return this.y(auc);\n        } else if (this.evaluationKeys == \"mse\") {\n          const mse = calculate_mse(classifier, selection)\n          return this.y(mse);\n        } else if (this.evaluationKeys == \"recall\") {\n          return this.y(recall);\n        } else if (this.evaluationKeys == \"f1\") {\n          return this.y(2 * precison * recall / (precison + recall))\n        } else if (this.evaluationKeys == \"microf1\") {\n          return this.y(2 * precison * recall / (precison + recall))\n        } else if (this.evaluationKeys == \"macrof1\") {\n          return this.y(2 * precison * recall / (precison + recall))\n        }\n      };\n      const rightHeight = (classifier:string, selection: Set<string>) => {\n        return this.height - rightYOffset(classifier, selection);\n      };\n\n      const calculate_mse = (classifier:string, selection: Set<string>) => {\n        let mse = 0\n        selection.forEach((id) => {\n          const i = instanceById(id);\n          const actual = i.actual == this.classes[1] ? 1 : 0;\n          const c = classifier\n          mse += ((i.continuous_predictions[c] - actual) * (i.continuous_predictions[c] - actual))\n        })\n        return mse\n      }\n\n      const calculate_auc = (classifier:string, selection: Set<string>) => {\n        let coordinates = [];\n        let classifierValues = {}\n        let auc = 0;\n        const c = classifier\n        const formatDecimal = d3.format(\".2f\")\n        classifierValues[c] = []\n        selection.forEach((id)=>{\n          const i = instanceById(id);\n          if (!classifierValues[c].includes(i.continuous_predictions[c]))\n            classifierValues[c].push(i.continuous_predictions[c])\n        })\n        classifierValues[c].sort();\n        classifierValues[c].forEach((value)=>{\n          value = formatDecimal(value)\n          let tp = 0;\n          let fp = 0;\n          let fn = 0;\n          let tn = 0;\n          selection.forEach((id)=>{\n            const i = instanceById(id);\n            const predict = i.continuous_predictions[c] < parseFloat(value) ? this.classes[0] : this.classes[1];\n            if (i.actual == this.classes[1]) {\n              if (predict == i.actual) {\n                tp+=1;\n              } else {\n                fn+=1;\n              }\n            } else {\n              if (predict == i.actual) {\n                tn+=1;\n              } else {\n                fp+=1;\n              }\n            }\n          })\n          coordinates.push({\"x\":fp/(fp+tn), \"y\":tp/(tp+fn)});\n        })\n\n        let lastx = 0;\n        let lasty = 0;\n        coordinates.sort(function(x, y){\n          return d3.ascending(x.x, y.x);\n        })\n        coordinates.forEach((cor)=>{\n          auc += (((cor.y + lasty) * (cor.x - lastx) / 2))\n          lastx = cor.x;\n          lasty = cor.y;\n        })\n        return auc\n      }\n\n      \n      if (!first) {\n        barRightSelection1.attr('height', '0');\n\n        circleRightSelection1.attr(\"visibility\",\"hidden\");\n      } else {\n        barRightSelection1\n          .data(this.continuousPredictionKeys)\n          .attr('y', (d: string) => rightYOffset(d, first.instances))\n          .attr('height', (d: string) => rightHeight(d, first.instances))\n          ;\n        \n        circleRightSelection1.attr(\"visibility\", (d:string) => {\n          if(!isNaN((rightHeight(d, first.instances) ))) {\n              return rightHeight(d, first.instances) == 0 ?\"hidden\": \n            rightHeight(d, first.instances) / this.height>0.05? \"hidden\" \n            :\"visible\"\n          } else return \"hidden\"\n        \n        })\n      }\n\n      if (!second) {\n        barRightSelection2.attr('height', '0');\n        circleRightSelection2.attr(\"visibility\",\"hidden\");\n      } else {\n        barRightSelection2\n          .data(this.continuousPredictionKeys)\n          .attr('y', (d: string) => rightYOffset(d, second.instances))\n          .attr('height', (d: string) => rightHeight(d, second.instances))\n          ;\n       \n        circleRightSelection2.attr(\"visibility\", (d:string) => {\n          if(!isNaN((rightHeight(d, first.instances) ))){\n              return rightHeight(d, second.instances) == 0 ?\"hidden\": \n            rightHeight(d, second.instances) / this.height>0.05? \"hidden\" \n            :\"visible\"\n          } else {\n            return \"hidden\"\n          }\n          \n        })\n      }\n    },\n    select(\n      classifier: string,\n      type: 'right' | 'wrong',\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n      constraint.negation = (type === 'wrong');\n\n      const instances = this.predictions[classifier][type];\n      const description = `Instances which ${classifier} got ${type}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionClassifierPerformance.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionClassifierPerformance.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectionClassifierPerformance.vue?vue&type=template&id=2fe25134&scoped=true&\"\nimport script from \"./SelectionClassifierPerformance.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectionClassifierPerformance.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SelectionClassifierPerformance.vue?vue&type=style&index=0&id=2fe25134&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fe25134\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Performance (Per-Class)\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Sort by accuracy\"},model:{value:(_vm.accuracySorting),callback:function ($$v) {_vm.accuracySorting=$$v},expression:\"accuracySorting\"}},[_c('v-radio',{attrs:{\"label\":\"ascending\",\"value\":\"ascending\"}}),_c('v-radio',{attrs:{\"label\":\"descending\",\"value\":\"descending\"}}),_c('v-radio',{attrs:{\"label\":\"alphabetical\",\"value\":\"alphabetical\"}}),_c('v-radio',{attrs:{\"label\":\"none\",\"value\":\"\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationSelection),callback:function ($$v) {_vm.evaluationSelection=$$v},expression:\"evaluationSelection\"}},[_c('v-radio',{attrs:{\"label\":\"accuracy\",\"value\":\"accuracy\"}}),_c('v-radio',{attrs:{\"label\":\"precision\",\"value\":\"precision\"}}),_c('v-radio',{attrs:{\"label\":\"recall\",\"value\":\"recall\"}}),_c('v-radio',{attrs:{\"label\":\"f1\",\"value\":\"f1\"}}),_c('v-radio',{attrs:{\"label\":\"mcc\",\"value\":\"mcc\"}})],1)],1)])],1)],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nexport default Vue.extend({\n  name: 'Performance_Per_Class',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = '' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const evaluationSelection = 'accuracy' as 'accuracy' | 'precision' | 'recall'\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n      classes: '',\n      value: 0,\n    };\n    return {\n      accuracySorting,\n      evaluationSelection,\n      height,\n      hover,\n      margin,\n      panel: [],\n      bar1Color: '#d1e5f0',\n      bar1HoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      bar2Color: '#fddbc7',\n      bar2HoverColor: '#d6604d',\n    };\n  },\n  computed: {\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    predictionKeys(): string[] {\n      const accuracyAscending = (c1: string, c2: string) => {\n        \n        var rightsize1 = 0;\n        var rightsize2 = 0;\n        \n        for (var i in this.predictions[c1]) {\n          rightsize1 += this.predictions[c1][i].right.size;\n        }\n        for (var i in this.predictions[c2]) {\n          rightsize2 += this.predictions[c2][i].right.size;\n        }\n        return rightsize1 - rightsize2;\n      };\n      const accuracyDescending = (c1: string, c2: string) => {\n        return -accuracyAscending(c1, c2);\n      };\n      const predictionKeys = this.classifiers.slice();\n      switch (this.accuracySorting) {\n        case 'ascending':\n          predictionKeys.sort(accuracyAscending);\n          break;\n        case 'descending':\n          predictionKeys.sort(accuracyDescending);\n          break;\n        case 'alphabetical':\n          predictionKeys.sort();\n          break;\n      }\n      return predictionKeys;\n    },\n    evaluationKeys(): string {\n      var evaluationKeys = \"\"\n      switch (this.evaluationSelection) {\n        case 'precision':\n          evaluationKeys = \"precision\";\n          break;\n        case 'recall':\n          evaluationKeys = \"recall\";\n          break;\n        case 'accuracy':\n          evaluationKeys = \"accuracy\";\n          break;\n        case 'f1':\n          evaluationKeys = \"f1\";\n          break; \n        case 'mcc':\n          evaluationKeys = \"mcc\";\n          break;    \n      }\n      return evaluationKeys;\n    },\n    predictions(): {\n      \n      [classifier: string]: {\n        [classes : string]: {\n          class: String,\n          right: Set<string>,\n          wrong: Set<string>,\n          fp: Set<String>,\n          fn: Set<String>,\n          tp: Set<String>,\n          tn: Set<String>,\n          pred: Set<String>,\n          actual: Set<String>,\n        },\n      },\n    } {\n\n      const predictions: {\n        [classifier: string]: {\n          [classes: string] :{\n            class: String,\n            right: Set<string>,\n            wrong: Set<string>,\n            fp: Set<String>,\n            fn: Set<String>,\n            tp: Set<String>,\n            tn: Set<String>,\n            pred: Set<String>,\n            actual: Set<String>,\n            },\n        },\n      } = {};\n\n      this.classifiers.forEach((c) => {\n          predictions[c] = {}\n          this.classes.forEach((d) => {\n            predictions[c][d] = {\n            class: new String,\n            right: new Set(),\n            wrong: new Set(),\n            fp: new Set(),\n            fn: new Set(),\n            tp: new Set(),\n            tn: new Set(),\n            pred: new Set(),\n            actual: new Set(),\n            }\n          })\n        });\n\n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        this.classifiers.forEach((c) => {\n          var curAcClass = i.actual;\n          var curPredClass = i.predictions[c]\n          var curClassifier = c;\n          predictions[curClassifier][curPredClass].pred.add(id);\n          predictions[curClassifier][curAcClass].actual.add(id);\n          if (i.predictions[c] == i.actual) {\n            predictions[c][curAcClass].right.add(id);\n            predictions[curClassifier][curAcClass].tp.add(id);\n            this.classes.forEach((j)=>{\n              if (j != curPredClass){\n                predictions[curClassifier][j].tn.add(id)\n              } \n            })\n          } else {\n            predictions[c][curAcClass].wrong.add(id);\n            predictions[c][curPredClass].fp.add(id)\n            predictions[curClassifier][curAcClass].fn.add(id);\n          }\n        });\n      });\n      console.log(predictions)\n      return predictions;\n    },\n    curData() : void[] {\n      const x0Name = this.predictionKeys;\n      const x1Name = this.classes;  \n      const curData = []\n      x0Name.forEach(_x0n => {\n        const _data = [];\n        x1Name.forEach(_x1n => {\n          let pre = this.predictions[_x0n][_x1n].tp.size / (this.predictions[_x0n][_x1n].tp.size + this.predictions[_x0n][_x1n].fp.size )\n          let rec = this.predictions[_x0n][_x1n].tp.size / (this.predictions[_x0n][_x1n].tp.size + this.predictions[_x0n][_x1n].fn.size )\n          if (this.evaluationKeys == \"precision\") {\n             _data.push(pre)\n          } else if (this.evaluationKeys == \"recall\") {\n             _data.push(rec)\n          } else if (this.evaluationKeys == \"f1\") {\n            let f1 =  (pre + rec) == 0 ? 0 : 2 * pre * rec / (pre + rec)\n             _data.push(f1)\n          } else if (this.evaluationKeys == \"mcc\") {\n            var tp = this.predictions[_x0n][_x1n].tp.size;\n            var fp = this.predictions[_x0n][_x1n].fp.size \n            var fn = this.predictions[_x0n][_x1n].fn.size;\n            var tn = this.predictions[_x0n][_x1n].tn.size \n            if ((Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn))) == 0){\n               let mcc =  0\n               if ((tp * tn - tp * fn) < 0){\n                  mcc = -1;\n                } else {\n                  mcc = 1;\n                }\n                _data.push(mcc)\n            } else {\n              let mcc = (tp * tn - tp * fn) / (Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn)));\n              _data.push(mcc)\n            }\n          } else {\n            let  acc = this.predictions[_x0n][_x1n].right.size / (this.predictions[_x0n][_x1n].right.size + this.predictions[_x0n][_x1n].wrong.size)\n            _data.push(acc)\n          }\n        });\n        curData.push(_data);\n      })\n      return curData\n    },\n    curData_reverse() : string[] {\n      const x0Name = this.predictionKeys;\n      const x1Name = this.classes;  \n      const curData_reverse = []\n      this.curData.forEach((c) => {\n        const _data_reverse = [];\n        c.forEach((d)=>{\n          _data_reverse.push(1-d)\n        })\n        curData_reverse.push(_data_reverse)\n      })\n      console.log(curData_reverse)\n      return curData_reverse\n    },\n    hoverData() : string[] {\n      const hoverdata = []\n        for (var i in this.predictionKeys) {\n          for (var j in this.classes) {\n            let cur_dict = {\"classifier\":this.predictionKeys[i],\"class\":this.classes[j],\"value\":this.curData[i][j]}\n            hoverdata.push(cur_dict)\n          }\n        }\n        return hoverdata\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.predictionKeys)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0.1);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([this.evaluationKeys == \"mcc\"? -1 : 0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n  },\n  watch: {\n    accuracySorting() {\n      this.drawInitial();\n    },\n    evaluationSelection() {\n      this.drawInitial();\n    },\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawSelections();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    clearHover() {\n      this.hover = ({type: '', classifier: '', classes:'', value:0});\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const rightBars = chart.selectAll('.bar-right');\n      const wrongBars = chart.selectAll('.bar-wrong');\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line');\n      const yAxisMarkerTextRight = chart.select('.y-axis-marker-text-right');\n      const yAxisMarkerTextWrong = chart.select('.y-axis-marker-text-wrong');\n      const selectedBarText = chart.select('.bar-selectedBarText');\n\n      if (this.hover.classifier && this.hover.classes) {\n        selectedBarText.text(this.hover.classifier+\": \"+this.hover.classes)\n        .style(\"visibility\",\"visible\");  \n      }     \n      \n      if (this.hover.type === 'right') {\n        rightBars.data(this.hoverData)\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"class\"] === this.hover.classes\n              ? this.bar1HoverColor\n              : this.bar1Color);\n      } else {\n        rightBars.attr('fill', this.bar1Color);\n      }\n      if (this.hover.type === 'wrong') {\n        wrongBars.data(this.hoverData)\n          .attr('fill', (d: string) =>\n            d[\"classifier\"]  === this.hover.classifier && d[\"class\"] === this.hover.classes\n              ? this.bar2HoverColor\n              : this.bar2Color);\n      } else {\n        wrongBars.attr('fill', this.bar2Color);\n      }\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      if (this.hover.type) {\n        yAxisMarkerLine\n        .transition()\n        .duration(moveDuration)\n        .attr('stroke-opacity', 1)\n        .attr('y1',  (d: string) => this.y(this.hover.value))\n        .attr('x2', this.width)\n        .attr('y2', (d: string) =>  this.y(this.hover.value));\n      yAxisMarkerTextRight\n        .transition()\n        .duration(moveDuration)\n        .attr('fill-opacity', 1)\n        .attr('transform', `translate(\n          ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n          ${this.y( this.hover.value) + 10})`)\n        .text(`${( this.hover.value * 100).toFixed(1)}%`);\n      yAxisMarkerTextWrong\n        .transition()\n        .duration(moveDuration)\n        .attr('fill-opacity', 1)\n        .attr('transform', `translate(\n          ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n          ${this.y( this.hover.value) - 10})`)\n        .text(`${((1- this.hover.value) * 100).toFixed(1)}%`)\n        .style(\"visibility\", this.evaluationKeys == \"f1\" || this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\")\n    } else {\n      yAxisMarkerLine\n        .transition()\n        .duration(disappearDuration)\n        .attr('stroke-opacity', 0);\n      yAxisMarkerTextRight\n        .transition()\n        .duration(disappearDuration)\n        .attr('fill-opacity', 0);\n      yAxisMarkerTextWrong\n        .transition()\n        .duration(disappearDuration)\n        .attr('fill-opacity', 0)\n        .style(\"visibility\", this.evaluationKeys == \"f1\"|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\")\n\n    } \n      \n      \n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('width', this.width)\n          .attr('height', this.height)\n          .attr('fill', 'teal');\n      };\n      \n      const x = this.x;\n      const y = this.y;\n      const z = d3.scaleOrdinal()\n        .range([\"#d1e5f0\", \"#fddbc7\"]);\n      const x0Name = this.predictionKeys;\n      const x1Name = this.classes;  \n      const curData = []\n      const curData_reverse = []\n      for (var i in this.curData) {\n        curData.push(this.curData[i])\n      }\n      for (var i in this.curData_reverse) {\n        curData_reverse.push(this.curData_reverse[i])\n      }\n      const x0 = d3.scaleBand()\n        .domain(x0Name)\n        .range([0, this.width])\n        .paddingInner(0.1);\n      const x1 = d3.scaleBand()\n        .domain(x1Name)\n        .rangeRound([0, x0.bandwidth()])\n        .padding(0.05);\n\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x0)\n              .tickSizeOuter(0),\n          );\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Classifier');\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationKeys == 'f1'?'F1 Vale': this.evaluationKeys == \"mcc\"? 'MCC value':'Fraction of instances');\n      };\n      drawTitles();\n      \n      const drawLegend = () => {\n        const width = this.width / 4;\n        const height = this.margin.top / 2;\n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.margin.left + this.width * 3 / 4},\n              ${height / 3})`);\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.bar2Color)\n          .style(\"visibility\", this.evaluationKeys == 'f1'|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\");\n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.bar1Color)\n          .style(\"visibility\", this.evaluationKeys == 'f1'|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\");\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(this.evaluationKeys == 'accuracy'? 'misclassified'\n            : this.evaluationKeys == 'precision'? 'FP' :'FN')\n          .style(\"visibility\", this.evaluationKeys == 'f1'|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\");  \n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(this.evaluationKeys == 'accuracy'? 'correctly classified'\n            : this.evaluationKeys == 'precision'? 'TP' : 'TP')\n          .style(\"visibility\", this.evaluationKeys == 'f1'|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\");  \n\n\n        const selectedBarText = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'selectedBarText')\n            .attr('transform', `translate(\n              ${this.margin.left },\n              ${height / 3})`);  \n        selectedBarText.append('text')\n          .attr('class', 'bar-selectedBarText')\n          .attr('transform', `translate(${0}, ${height * 1 / 4})`)\n          .attr('font-size', '16px')\n          .text('name selected Bar')\n          .style(\"visibility\", \"hidden\")//:\"visible\");        \n      };\n      drawLegend();\n\n      const drawBars = () => {\n        const barWidth = x.bandwidth();\n        const barMultitp = svg.append('g')\n            .selectAll('g')\n            .data(curData)\n            .enter().append('g')\n            .attr('transform', (d, i) => `translate(${x0(x0Name[i])},0)`)\n            .selectAll('rect')\n            .data(d => d)\n            .enter();\n       \n        const multibars = barMultitp.append('rect')\n            .attr('class', 'bar-right')\n            .attr('x', (d, i) => x1(x1Name[i]))\n            .attr('y', d => y(d))\n            .attr('width', x1.bandwidth())\n            .attr('height', d => this.height - y(d))\n            .attr('fill', \"#d1e5f0\")\n            .data(this.hoverData)\n            .on('mouseenter', (d) => this.hover = ({type: 'right', classifier: d[\"classifier\"], classes:d[\"class\"], value:d[\"value\"]}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d) => this.select(d[\"classifier\"], 'right', 'first',d[\"class\"]))\n            .on('contextmenu', (d) => this.select(d[\"classifier\"], 'right', 'second',d[\"class\"]))    \n        barMultitp.append(\"circle\") \n            .attr('class', 'bar-right-circle')\n            .attr('cx', (d, i) => (x1(x1Name[i])+barWidth/4))\n            .attr('cy', d => this.height-10)\n            .attr('r','10px')\n            .style('fill', \"#d1e5f0\")\n            .attr('stroke', 'grey')\n            .attr(\"visibility\", (d) => {\n              console.log(d)\n              return d == 0 ?\"hidden\": d>0.2? \"hidden\" :\"visible\"\n              })\n            .data(this.hoverData)\n            .on('mouseenter', (d) => this.hover = ({type: 'right', classifier: d[\"classifier\"], classes:d[\"class\"], value:d[\"value\"]}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d) => this.select(d[\"classifier\"], 'right', 'first',d[\"class\"]))\n            .on('contextmenu', (d) => this.select(d[\"classifier\"], 'right', 'second',d[\"class\"]))\n        const barMultitpRe = svg.append('g')\n                .selectAll('g')\n                .data(curData_reverse)\n                .enter().append('g')\n                .attr('transform', (d, i) => `translate(${x0(x0Name[i])},0)`)\n                .selectAll('rect')\n                .data(d => d)\n                .enter()\n        const multirebars =  barMultitpRe.append('rect')\n            .attr('class', 'bar-wrong')\n            .attr('x', (d, i) => x1(x1Name[i]))\n            .attr('y', d => y(1))\n            .attr('width', x1.bandwidth())\n            .attr('height', d => this.height - y(d))\n            .attr('fill', \"#fddbc7\")\n            //.attr(\"visibility\", this.evaluationKeys == \"accuracy\"?\"hidden\":\"visible\")\n            .data(this.hoverData)\n            .on('mouseenter', (d) => this.hover = ({type: 'wrong', classifier: d[\"classifier\"], classes:d[\"class\"], value:d[\"value\"]}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d) => this.select(d[\"classifier\"], 'wrong', 'first',d[\"class\"]))\n            .on('contextmenu', (d) => this.select(d[\"classifier\"], 'wrong', 'second',d[\"class\"]))\n            .style(\"visibility\", this.evaluationKeys == \"f1\"|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\")\n        var bar2_circle = barMultitpRe.append(\"circle\")   \n            .attr('cx', (d, i) => (x1(x1Name[i])+barWidth/4))\n            .attr('cy', d => y(1)+10)\n            .attr('r','10px')\n            .style('fill', '#fddbc7')\n            .attr('stroke', 'grey')\n            .attr(\"visibility\", (d) => {\n              if (this.evaluationKeys == \"f1\"|| this.evaluationKeys == \"mcc\") return \"hidden\"\n              console.log(d)\n              return d == 0?\"hidden\":d >0.2?\"hidden\":\"visible\"\n              })\n            .data(this.hoverData)\n            .on('mouseenter', (d) => this.hover = ({type: 'wrong', classifier: d[\"classifier\"], classes:d[\"class\"], value:d[\"value\"]}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d) => this.select(d[\"classifier\"], 'wrong', 'first',d[\"class\"]))\n\n        const selections = () => {\n          console.log(\"call sleections\")\n          const selectionBarWidth = x.bandwidth() / 8;\n          //barMultitp\n           multibars.append('rect')\n            .attr('class', 'bar-right-selection-1')\n            .attr('x', barWidth / 2 - selectionBarWidth)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection1Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .attr('pointer-events', 'none');\n          //barMultitp\n          multibars.append('rect')\n            .attr('class', 'bar-right-selection-2')\n            .attr('x', barWidth / 2)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection2Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .attr('pointer-events', 'none');\n          //barMultitpRe\n          multirebars.append('rect')\n            .attr('class', 'bar-wrong-selection-1')\n            .attr('x', barWidth / 2 - selectionBarWidth)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection1Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .attr('pointer-events', 'none');\n          //barMultitpRe\n          multirebars.append('rect')\n            .attr('class', 'bar-wrong-selection-2')\n            .attr('x', barWidth / 2)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection2Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .attr('pointer-events', 'none');\n\n          //barMultitpRe\n          multibars.append(\"circle\")   \n            .attr('class', 'circle-right-selection-1')\n            .attr('cx', barWidth / 2 - selectionBarWidth)\n            .attr('r','10px')\n            .style('fill', this.selection1Color)\n            .attr('stroke', 'grey')\n          //barMultitpRe\n          multibars.append(\"circle\")   \n            .attr('class', 'circle-right-selection-2')\n            .attr('cx', barWidth / 2 )\n            .attr('r','10px')\n            .style('fill', this.selection2Color)\n            .attr('stroke', 'grey')\n          //barMultitpRe\n          multirebars.append(\"circle\")   \n            .attr('class', 'circle-wrong-selection-1')\n            .attr('cx', barWidth / 2 - selectionBarWidth)\n            .attr('r','10px')\n            .style('fill', this.selection1Color)\n            .attr('stroke', 'grey')\n          //barMultitpRe\n          multirebars.append(\"circle\")   \n            .attr('class', 'circle-wrong-selection-2')\n            .attr('cx', barWidth / 2 )\n            .attr('r','10px')\n            .style('fill', this.selection2Color)  \n            .attr('stroke', 'grey')\n        };\n        selections();\n      };\n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n      };\n      const yAxisMarkerText = () => {\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.bar1HoverColor)\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-wrong')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 20)\n          .attr('fill', this.bar2HoverColor)\n          .attr('pointer-events', 'none');\n      };\n      drawBars();\n      yAxisMarkerLine();\n      yAxisMarkerText();\n      this.drawHover();\n      this.drawSelections();\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const barRightSelection1 = chart.selectAll('.bar-right-selection-1');\n      const barRightSelection2 = chart.selectAll('.bar-right-selection-2');\n      const barWrongSelection1 = chart.selectAll('.bar-wrong-selection-1');\n      const barWrongSelection2 = chart.selectAll('.bar-wrong-selection-2');\n\n      const circleRightSelection1 = chart.selectAll('.circle-right-selection-1');\n      const circleRightSelection2 = chart.selectAll('.circle-right-selection-2');\n      const circleWrongSelection1 = chart.selectAll('.circle-wrong-selection-1');\n      const circleWrongSelection2 = chart.selectAll('.circle-wrong-selection-2');\n\n      const { first, second } = this.selections;\n      const rightYOffset = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size / this.instances.length;\n        return this.y(fractionOfTotalInstances);\n      };\n      const rightHeight = (instances: Set<string>, selection: Set<string>) => {\n        return this.height - rightYOffset(instances, selection);\n      };\n      const wrongHeight = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size / this.instances.length;\n        return this.height - this.y(fractionOfTotalInstances);\n      };\n      if (!first) {\n        barRightSelection1.attr('height', '0');\n        barWrongSelection1.attr('height', '0');\n\n        circleRightSelection1.attr(\"visibility\", \"hidden\")\n        circleWrongSelection1.attr(\"visibility\", \"hidden\")\n      } else {\n        barRightSelection1\n          .data(this.hoverData)\n          .attr('y', (d: number) => rightYOffset(this.predictions[d[\"classifier\"]][d[\"class\"]].right, first.instances))\n          .attr('height', (d: number) => rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, first.instances));\n        barWrongSelection1\n          .data(this.hoverData)\n          // .attr('y', (d: number) => wrongYOffset(this.predictions[d].wrong, first.instances))\n          .attr('height', (d: number) => wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, first.instances));\n\n        circleRightSelection1\n          .data(this.hoverData)\n          .attr('cy',this.height-10)\n          .attr(\"visibility\", (d:number)=>{\n            return rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, first.instances) == 0? \"hidden\"\n            : rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, first.instances) / this.height> 0.1? \"hidden\":\"visible\"\n          })\n        circleWrongSelection1\n          .attr('cy',10)\n          .data(this.hoverData)\n          .attr(\"visibility\", (d:number)=>{\n            console.log(\"  wrong height\",wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, first.instances)/ this.height)\n            return wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, first.instances) == 0? \"hidden\"\n            :wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, first.instances) / this.height> 0.1? \"hidden\":\"visible\"\n          })\n          }\n      if (!second) {\n        barRightSelection2.attr('height', '0');\n        barWrongSelection2.attr('height', '0');\n\n        circleRightSelection2.attr(\"visibility\", \"hidden\")\n        circleWrongSelection2.attr(\"visibility\", \"hidden\")\n      } else {\n        barRightSelection2\n          .data(this.hoverData)\n          .attr('y', (d: number) => rightYOffset(this.predictions[d[\"classifier\"]][d[\"class\"]].right, second.instances))\n          .attr('height', (d: number) => rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, second.instances));\n        barWrongSelection2\n          .data(this.hoverData)\n          .attr('height', (d: number) => wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, second.instances));\n\n        circleRightSelection2\n          .data(this.hoverData)\n          .attr('cy',this.height-10)\n          .attr(\"visibility\", (d:number)=>{\n            return rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, second.instances) == 0? \"hidden\"\n            : rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, second.instances) / this.height> 0.1? \"hidden\":\"visible\"\n          })\n        circleWrongSelection2\n          .attr('cy',10)\n          .data(this.hoverData)\n          .attr(\"visibility\", (d:number)=>{\n            return wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, second.instances) == 0? \"hidden\"\n            :wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, second.instances) / this.height> 0.1? \"hidden\":\"visible\"\n          }) \n      }\n    },\n    select(\n      classifier: string,\n      type: 'right' | 'wrong',\n      whichOverlap: 'first' | 'second',\n      className: string,\n    ) {\n      console.log(\"trigger select\",this.predictions[classifier][className])\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n      constraint.negation = (type === 'wrong');\n      const instances = this.predictions[classifier][className][type];\n      const description = `${classifier} ${className}Instances which ${classifier} got ${type}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: this.predictions[classifier][className]\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n        classifier,\n        className,\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailedClassifierPerformance.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailedClassifierPerformance.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DetailedClassifierPerformance.vue?vue&type=template&id=030bae07&scoped=true&\"\nimport script from \"./DetailedClassifierPerformance.vue?vue&type=script&lang=ts&\"\nexport * from \"./DetailedClassifierPerformance.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DetailedClassifierPerformance.vue?vue&type=style&index=0&id=030bae07&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"030bae07\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-container\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Confusion Matrices\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-checkbox',{attrs:{\"label\":\"Oracle\",\"value\":\"Oracle\"},model:{value:(_vm.filterDummyClassifiers),callback:function ($$v) {_vm.filterDummyClassifiers=$$v},expression:\"filterDummyClassifiers\"}}),_c('v-checkbox',{attrs:{\"label\":\"Majority Classifier\",\"value\":\"Majority Classifier\"},model:{value:(_vm.filterDummyClassifiers),callback:function ($$v) {_vm.filterDummyClassifiers=$$v},expression:\"filterDummyClassifiers\"}}),_c('v-checkbox',{attrs:{\"label\":\"Random Classifier\",\"value\":\"Random Classifier\"},model:{value:(_vm.filterDummyClassifiers),callback:function ($$v) {_vm.filterDummyClassifiers=$$v},expression:\"filterDummyClassifiers\"}})],1)])],1)],1),_c('svg',{ref:\"svg\",attrs:{\"width\":\"100%\",\"viewBox\":(\"0 0 \" + (_vm.dimensions.total.width) + \" \" + (_vm.dimensions.total.height))}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"chart\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport { generateRandomId } from '../utils';\n\nexport default Vue.extend({\n  name: 'ColorLegend',\n  props: {\n    // colors: {\n    //   type: Array as () => string[],\n    //   default: () => ['white', 'black'],\n    // },\n    height: {\n      type: Number,\n      default: 100,\n    },\n    lowerBound: {\n      type: Number,\n      default: 0,\n    },\n    title: {\n      type: String,\n      required: true,\n    },\n    upperBound: {\n      type: Number,\n      default: 1,\n    },\n    width: {\n      type: Number,\n      default: 500,\n    },\n  },\n  data() {\n    const margin = {top: 10, right: 20, bottom: 60, left: 20};\n    const width = this.width - margin.left - margin.right;\n    const height = this.height - margin.top - margin.bottom;\n    return {\n      dimensions: {\n        height,\n        width,\n      },\n      margin,\n    };\n  },\n  computed: {\n    gradientId(): string {\n      return generateRandomId();\n    },\n  },\n  watch: {\n    upperBound() {\n      this.draw();\n    },\n  },\n  mounted() {\n    this.draw();\n  },\n  methods: {\n    draw() {\n      const x = d3.scaleLinear<number, number>()\n        .domain([this.lowerBound, Math.max(1, this.upperBound)])\n        .range([0, this.dimensions.width]);\n\n      // @ts-ignore\n      const chart = d3.select(this.$refs.chart);\n      chart.selectAll('*').remove();\n      // set up linear gradient\n\n      const svg = chart\n        .append('svg')\n          .attr('width', this.dimensions.width + this.margin.left + this.margin.right)\n          .attr('height', this.dimensions.height + this.margin.top + this.margin.bottom)\n          .attr('viewBox', `\n            0 0\n            ${this.dimensions.width + this.margin.left + this.margin.right}\n            ${this.dimensions.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const drawGradient = () => {\n        const linearGradient = chart\n          .select('svg')\n          .append('defs')\n          .append('linearGradient')\n            .attr('id', this.gradientId)\n            .attr('x1', '0%')\n            .attr('y1', '0%')\n            .attr('x2', '100%')\n            .attr('y2', '0%');\n        const percentBetweenColors = 100 / (this.colors.length - 1);\n        this.colors.forEach((color, index) => {\n          linearGradient.append('stop')\n            .attr('offset', `${index * percentBetweenColors}%`)\n            .attr('stop-color', color);\n        });\n\n        svg.append('rect')\n          .attr('width', this.dimensions.width)\n          .attr('height', this.dimensions.height)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '0.5px')\n          .style('fill', `url(#${this.gradientId})`);\n      };\n      drawGradient();\n\n      const drawAxis = () => {\n        svg.append('g')\n          .attr('transform', `translate(0 ${this.dimensions.height})`)\n          .call(d3.axisBottom(x).ticks(5))\n          .attr('font-size', 16);\n      };\n      drawAxis();\n\n      const drawTitle = () => {\n        svg.append('text')\n          .attr(\n            'transform',\n            `translate(\n              ${this.dimensions.width / 2},\n              ${this.dimensions.height + this.margin.bottom / 2}\n            )`,\n          )\n          .attr('dy', '1em')\n          .attr('text-anchor', 'middle')\n          .style('font-size', '16px')\n          .text(this.title);\n      };\n      drawTitle();\n\n      return;\n\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorLegend.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorLegend.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorLegend.vue?vue&type=template&id=0a859ee7&scoped=true&\"\nimport script from \"./ColorLegend.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorLegend.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a859ee7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"chart\",on:{\"mouseleave\":function($event){return _vm.onHoverChange(['', ''], '')}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport ColorLegend from '@/components/ColorLegend.vue';\nimport {\n  BoxProps,\n  EntityType,\n  Instance,\n  SelectionAction,\n  SelectionRecord,\n} from '../../types';\nimport { colors } from '../../theme';\nimport {\n  instanceById,\n  overlapCount,\n  overlapFraction,\n  truncateLabel,\n} from '../../utils';\n\ntype ClassCross = [string, string];\n\nexport default Vue.extend({\n  name: 'ConfusionMatrixMinimal',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n      validator: (boxProps: BoxProps) => {\n        return boxProps.classifiers.size === 1;\n      },\n    },\n    colorScales: {\n      type: Object as () => {\n        diagonal: d3.ScaleLinear<string, string>,\n        nondiagonal: d3.ScaleLinear<string, string>,\n      },\n    },\n    hoverInfo: {\n      type: Object as () => {\n        classes: {\n          actual: string,\n          predicted: string,\n        },\n        classifier: string,\n      },\n      required: true,\n    },\n    onHoverChange: {\n      type: Function,\n      required: true,\n    },\n    sideLength: {\n      type: Number,\n      required: true,\n    },\n    updateMaxBucketedInstances: {\n      type: Function,\n      required: true,\n    },\n  },\n  computed: {\n    bucketedInstances(): Array<Set<string>> {\n      const classes = this.classes;\n      const bucketedInstances: Array<Set<string>> = [];\n      classes.forEach((actualClass) => {\n        classes.forEach((predictedClass) => {\n          bucketedInstances.push(new Set());\n        });\n      });\n\n      const instances = this.instances;\n      instances.forEach((id) => {\n        const i = instanceById(id);\n        const nClasses = classes.length;\n        const actualIndex = classes.indexOf(i.actual);\n        const predictedIndex = classes.indexOf(i.predictions[this.classifier]);\n        if (actualIndex === -1 || predictedIndex === -1) {\n          return;\n        }\n        const bucketIndex = actualIndex * nClasses + predictedIndex;\n        bucketedInstances[bucketIndex].add(id);\n      });\n      return bucketedInstances;\n    },\n    cellHeight(): number {\n      const cellHeight = this.y.bandwidth();\n      return cellHeight;\n    },\n    cellWidth(): number {\n      const cellWidth = this.x.bandwidth();\n      return cellWidth;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifier(): string {\n      return [...this.boxProps.classifiers][0];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    instanceSelection(): {\n      include: Set<Set<string>>,\n      exclude: Set<Set<string>>,\n    } {\n      return this.$store.state.selections.instance;\n    },\n    maxBucketedInstances(): {\n      diagonal: number,\n      nondiagonal: number,\n    } {\n      const bucketSizes = {\n        diagonal: [] as number[],\n        nondiagonal: [] as number[],\n      };\n      this.bucketedInstances.forEach((bucket, index) => {\n        if (this.onMainDiagonal(index)) {\n          bucketSizes.diagonal.push(bucket.size);\n        } else {\n          bucketSizes.nondiagonal.push(bucket.size);\n        }\n      });\n      const maxBucketedInstances = {\n        diagonal: Math.max(...bucketSizes.diagonal),\n        nondiagonal: Math.max(...bucketSizes.nondiagonal),\n      };\n      this.updateMaxBucketedInstances(maxBucketedInstances);\n      return maxBucketedInstances;\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    // selectedInstances(): Set<Instance> {\n    //   return this.$store.getters.selectedInstances;\n    // },\n    topmostSelection(): Set<string> {\n      return this.$store.state.selectionHistory[0].instances;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.classes)\n        .range([0, this.sideLength]);\n      return x;\n    },\n    y(): d3.ScaleBand<string> {\n      const y = d3.scaleBand<string>()\n        .domain(this.classes)\n        .range([0, this.sideLength]);\n      return y;\n    },\n  },\n  watch: {\n    bucketedInstances() {\n      this.drawInitial();\n    },\n    overlapSelections() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    cellDescription(predicted: string, actual: string) {\n      return (\n        (predicted === actual)\n          ? `Instances of class '${actual}' correctly classified by classifier '${this.classifier}'`\n          : `Instances of class '${actual}' misclassified as class '${predicted}' by classifier '${this.classifier}'`\n      );\n    },\n    drawInitial() {\n\n      const colorScaleDiagonal = this.colorScales.diagonal;\n      const colorScaleNonDiagonal = this.colorScales.nondiagonal;\n\n      // @ts-ignore\n      d3.select(this.$refs.chart).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.chart)\n        .append('svg')\n          .attr('width', this.sideLength)\n          .attr('height', this.sideLength);\n\n      const applyColorScale = (size: number, index: number) => {\n        return (\n          this.onMainDiagonal(index)\n          ? colorScaleDiagonal(size)\n          : colorScaleNonDiagonal(size)\n        );\n      };\n\n      const classCross: ClassCross[] = d3.cross(this.classes, this.classes);\n      const cells = svg.selectAll('matrix-cell')\n        .data(classCross)\n        .join('g')\n          .attr('class', 'matrix-cell')\n          .attr('transform', (d: ClassCross) => `${this.translateCell(d)}`)\n          .on('click', (d: ClassCross, i: number) => this.updateUserSelection(d, i))\n          .on('mouseenter', (d: ClassCross) => this.onHoverChange(d, this.classifier));\n\n      const cellWidth = this.cellWidth;\n      const cellHeight = this.cellHeight;\n      const drawMatrixCells = () => {\n        cells.append('rect')\n          .attr('width', cellWidth)\n          .attr('height', cellHeight)\n          .attr('fill', (d: ClassCross, i: number) => applyColorScale(this.bucketedInstances[i].size, i))\n          .attr('stroke-width', '0.5px')\n          .attr('stroke', 'black');\n      };\n      drawMatrixCells();\n\n      this.drawHoverOutline();\n\n      const drawSelection1 = () => {\n        const first = this.overlapSelections.first;\n        if (first === null) {\n          return;\n        }\n        const instances = first.instances;\n        cells.append('rect')\n          .attr('y', cellHeight * 4 / 6)\n          .attr('width', cellWidth)\n          .attr('height', cellHeight / 6)\n          .attr('fill', colors.overlapSelections.background)\n          .html((d: ClassCross, i: number) => {\n            const size = overlapCount(instances, this.bucketedInstances[i]);\n            return `\n              <title>\n                ${size} instance(s) overlap.\n              </title>\n            `;\n          } );\n        cells.append('rect')\n          .attr('y', cellHeight * 4 / 6)\n          .attr('width', (d: ClassCross, i: number) =>\n            cellWidth * overlapFraction(instances, this.bucketedInstances[i]))\n          .attr('height', cellHeight / 6)\n          .attr('fill', colors.overlapSelections.first)\n          .attr('pointer-events', 'none');\n      };\n      drawSelection1();\n\n      const drawSelection2 = () => {\n        const second = this.overlapSelections.second;\n        if (second === null) {\n          return;\n        }\n        const instances = second.instances;\n        cells.append('rect')\n          .attr('y', cellHeight * 5 / 6)\n          .attr('width', cellWidth)\n          .attr('height', cellHeight / 6)\n          .attr('fill', colors.overlapSelections.background)\n          .html((d: ClassCross, i: number) => {\n            const size = overlapCount(instances, this.bucketedInstances[i]);\n            return `\n              <title>\n                ${size} instance(s) overlap.\n              </title>\n            `;\n          } );\n        cells.append('rect')\n          .attr('y', cellHeight * 5 / 6)\n          .attr('width', (d: ClassCross, i: number) =>\n            cellWidth * overlapFraction(instances, this.bucketedInstances[i]))\n          .attr('height', cellHeight / 6)\n          .attr('fill', colors.overlapSelections.second)\n          .attr('pointer-events', 'none');\n      };\n      drawSelection2();\n\n      const drawText = () => {\n        cells.append('text')\n          .attr('x', cellWidth / 2)\n          .attr('y', cellHeight / 2)\n          .attr('dominant-baseline', 'middle')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 12)\n          .html((d: ClassCross, i: number) => {\n            const o = this.bucketedInstances[i].size;\n            if (o > 0) {\n              return `${o}`;\n            }\n            return '';\n          });\n      };\n    },\n    drawHoverOutline() {\n      // console.log('drawing hover outline');\n      if (\n        this.hoverInfo.classes.actual === ''\n        || this.hoverInfo.classes.predicted === ''\n        || this.hoverInfo.classifier === ''\n      ) {\n        return;\n      }\n      const { actual, predicted } = this.hoverInfo.classes;\n      // @ts-ignore\n      const svg = d3.select(this.$refs.chart).select('svg');\n\n      svg.append('rect')\n        .attr('transform', this.translateCell([actual, predicted]))\n        .attr('width', this.cellWidth)\n        .attr('height', this.cellHeight)\n        .attr('fill', 'none')\n        .attr('stroke-width', '3px')\n        .attr('stroke', '#FF9800')\n        .attr('pointer-events', 'none');\n      svg.append('text')\n        .attr('x', this.x(predicted) as number + this.cellWidth / 2)\n        .attr('y', this.y(actual) as number + this.cellHeight / 2)\n        .attr('dominant-baseline', 'middle')\n        .attr('text-anchor', 'middle')\n        .attr('font-size', 12)\n        .attr('pointer-events', 'none')\n        .html(() => {\n          const actualIndex = this.classes.indexOf(actual);\n          const predictedIndex = this.classes.indexOf(predicted);\n          const index = actualIndex * this.classes.length + predictedIndex;\n          const o = this.bucketedInstances[index].size;\n          return `${o}`;\n        });\n    },\n    onMainDiagonal(index: number): boolean {\n      const elemPerRow = this.boxProps.classes.size;\n      const row = Math.floor(index / elemPerRow);\n      const col = index % elemPerRow;\n      return row === col;\n    },\n    translateCell(d: ClassCross): string {\n      return `translate(${this.x(d[1])}, ${this.y(d[0])})`;\n    },\n    updateUserSelection(classes: ClassCross, index: number) {\n      const [actual, predicted] = classes;\n      console.log('user selection updated:', classes, index);\n      const payload = {\n        instances: this.bucketedInstances[index],\n        description: this.cellDescription(predicted, actual),\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixMinimal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixMinimal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfusionMatrixMinimal.vue?vue&type=template&id=c267964c&scoped=true&\"\nimport script from \"./ConfusionMatrixMinimal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfusionMatrixMinimal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConfusionMatrixMinimal.vue?vue&type=style&index=0&id=c267964c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c267964c\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport ColorLegend from '@/components/ColorLegend.vue';\nimport ConfusionMatrixMinimal from '@/components/boxes/ConfusionMatrixMinimal.vue';\nimport {\n  BoxProps,\n  EntityType,\n  Instance,\n  Margin,\n  SelectionAction,\n  SelectionRecord,\n} from '../../types';\nimport { colors } from '../../theme';\nimport {\n  generateRandomId,\n  instanceById,\n  intersection,\n  overlapCount,\n  overlapFraction,\n  truncateLabel,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { scaleBand } from 'd3';\n\ntype ClassCross = [string, string];\ntype ClassifierClassCross = [string, string, string];\n\nexport default Vue.extend({\n  name: 'ConfusionMatrixGrid',\n  components: {\n    ColorLegend,\n    ConfusionMatrixMinimal,\n  },\n  data() {\n    const width = 1000;\n    const height = 900;\n    const total = {\n      width,\n      height,\n    };\n    const predictedClassLegend = {\n      xOffset: 0,\n      yOffset: 0,\n      width: 0.7 * width,\n      height: 150,\n    };\n    const colorLegend = {\n      xOffset: predictedClassLegend.width,\n      yOffset: 0,\n      width: width - predictedClassLegend.width,\n      height: predictedClassLegend.height,\n    };\n    const actualClassLegend = {\n      xOffset: 0,\n      yOffset: predictedClassLegend.height,\n      width: 200,\n      height: height - predictedClassLegend.height,\n    };\n    const matrixGrid = {\n      xOffset: actualClassLegend.width,\n      yOffset: actualClassLegend.yOffset,\n      width: width - actualClassLegend.width,\n      height: actualClassLegend.height,\n    };\n    return {\n      colors,\n      dimensions: {\n        actualClassLegend,\n        colorLegend,\n        matrixGrid,\n        predictedClassLegend,\n        total,\n      },\n      filterDummyClassifiers: [] as string[],\n      hoverInfo: {\n        classes: {\n          actual: '',\n          predicted: '',\n        },\n        classifier: '',\n      },\n      panel: [],\n    };\n  },\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  computed: {\n    actualClassScale(): d3.ScaleBand<string> {\n      const actualClassScale = d3.scaleBand<string>()\n        .domain(this.classes)\n        .range([0, this.y.bandwidth()])\n        .paddingInner(0);\n\n      return actualClassScale;\n    },\n    allBucketedInstances(): {\n      [classifierName: string]: Array<Set<string>>,\n    } {\n      const allBucketedInstances: {\n        [classifierName: string]: Array<Set<string>>,\n      } = {};\n\n      this.classifiers.forEach((c) => {\n        allBucketedInstances[c] = this.bucketedInstancesByClassifier(c);\n      });\n\n      return allBucketedInstances;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classCross(): unknown[] {\n      const classCross = d3.cross(this.classes, this.classes);\n      return classCross;\n    },\n    classifierClassCross(): ClassifierClassCross[] {\n      const f = (a: any, b: any) => [].concat(...a.map((d: any) => b.map((e: any) => [].concat(d, e))));\n      // @ts-ignore\n      const cartesian = (a: any, b: any, ...c: any[]) => (b ? cartesian(f(a, b), ...c) : a);\n      const classifierClassCross = cartesian(this.classifiers, this.classes, this.classes);\n\n      return classifierClassCross;\n    },\n    classifiers(): string[] {\n      const classifiers = [...this.boxProps.classifiers].filter((c) => !this.filterDummyClassifiers.includes(c));\n      return classifiers;\n    },\n    colorScales(): {\n      diagonal: d3.ScaleLinear<string, string>,\n      nondiagonal: d3.ScaleLinear<string, string>,\n    } {\n      const colorScales = {\n        diagonal: d3.scaleLinear<string>()\n          .domain([0, this.maxBucketedInstances.diagonal])\n          .range([this.colors.goodLight, colors.goodDark]),\n        nondiagonal: d3.scaleLinear<string>()\n          .domain([0, this.maxBucketedInstances.nondiagonal])\n          .range([this.colors.badLight, colors.badDark]),\n      };\n      return colorScales;\n    },\n    gradientId(): {\n      correctlyClassified: string,\n      misclassified: string,\n    } {\n      return {\n        correctlyClassified: generateRandomId(),\n        misclassified: generateRandomId(),\n      };\n    },\n    margin(): {\n      colorLegend: Margin,\n      grid: Margin,\n      sideBar: Margin,\n      topBar: Margin,\n    } {\n      const grid = {\n        top: 0.05 * this.dimensions.matrixGrid.height,\n        right: 0.05 * this.dimensions.matrixGrid.width,\n        bottom: 0.05 * this.dimensions.matrixGrid.height,\n        left: 0.05 * this.dimensions.matrixGrid.width,\n      };\n      const colorLegend = {\n        top: 0.25 * this.dimensions.colorLegend.height,\n        right: 0.1 * this.dimensions.colorLegend.width,\n        bottom: 0.25 * this.dimensions.colorLegend.height,\n        left: 0.1 * this.dimensions.colorLegend.width,\n      };\n      const sideBar = {\n        top: 0.2 * this.dimensions.actualClassLegend.height,\n        right: 0.6 * this.dimensions.actualClassLegend.width,\n        bottom: 0.1 * this.dimensions.actualClassLegend.height,\n        left: 0.1 * this.dimensions.actualClassLegend.width,\n      };\n      const topBar = {\n        top: 0.6 * this.dimensions.predictedClassLegend.height,\n        right: 0.1 * this.dimensions.predictedClassLegend.width,\n        bottom: 0.1 * this.dimensions.predictedClassLegend.height,\n        left: 0.25 * this.dimensions.predictedClassLegend.width,\n      };\n      return {\n        colorLegend,\n        grid,\n        sideBar,\n        topBar,\n      };\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    matricesPerRow(): number {\n      const matricesPerRow = Math.ceil(Math.sqrt(this.classifiers.length));\n      return matricesPerRow;\n    },\n    maxBucketedInstances(): {\n      diagonal: number,\n      nondiagonal: number,\n    } {\n      const maxBucketedInstances = {\n        diagonal: 1,\n        nondiagonal: 1,\n      };\n      this.classifiers.forEach((c) => {\n        const classifierMax = this.maxBucketedInstancesByClassifier(c);\n        maxBucketedInstances.diagonal = Math.max(\n          classifierMax.diagonal,\n          maxBucketedInstances.diagonal,\n        );\n        maxBucketedInstances.nondiagonal = Math.max(\n          classifierMax.nondiagonal,\n          maxBucketedInstances.nondiagonal,\n        );\n      });\n\n      return maxBucketedInstances;\n    },\n    nRows(): number {\n      const nRows = this.matricesPerRow;\n      return nRows;\n    },\n    predictedClassScale(): d3.ScaleBand<string> {\n      const predictedClassScale = d3.scaleBand<string>()\n        .domain(this.classes)\n        .range([0, this.x.bandwidth()])\n        .paddingInner(0);\n\n      return predictedClassScale;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const margin = this.margin.grid;\n      const width = this.dimensions.matrixGrid.width - margin.left - margin.right;\n      const xIndices = [];\n      for (let i = 0; i < this.matricesPerRow; i++) {\n        xIndices.push(i.toString());\n      }\n      const x = d3.scaleBand()\n        .domain(xIndices)\n        .range([0, width])\n        .paddingInner(0.2);\n\n      return x;\n    },\n    y(): d3.ScaleBand<string> {\n      const margin = this.margin.grid;\n      const height = this.dimensions.matrixGrid.height - margin.top - margin.bottom;\n      const yIndices : string[] = [];\n      for (let i = 0; i < this.nRows; i++) {\n        yIndices.push(i.toString());\n      }\n      const y = d3.scaleBand()\n        .domain(yIndices)\n        .range([0, height])\n        .paddingInner(0.2);\n\n      return y;\n    },\n  },\n  watch: {\n    boxProps() {\n      this.drawInitial();\n    },\n    classifiers() {\n      this.drawInitial();\n    },\n    hoverInfo() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    matricesPerRow() {\n      this.drawGrid();\n    },\n    selections() {\n      this.drawSelections();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    bucketedInstancesByClassifier(classifier: string): Array<Set<string>> {\n      const classes = this.classes;\n      const bucketedInstances: Array<Set<string>> = [];\n      classes.forEach((actualClass) => {\n        classes.forEach((predictedClass) => {\n          bucketedInstances.push(new Set());\n        });\n      });\n\n      const instances = this.instances;\n      // const instances = this.instances;\n      instances.forEach((id) => {\n        const i = instanceById(id);\n        const nClasses = classes.length;\n        const actualIndex = classes.indexOf(i.actual);\n        const predictedIndex = classes.indexOf(i.predictions[classifier]);\n        if (actualIndex === -1 || predictedIndex === -1) {\n          return;\n        }\n        const bucketIndex = actualIndex * nClasses + predictedIndex;\n        bucketedInstances[bucketIndex].add(id);\n      });\n      return bucketedInstances;\n    },\n    cachedBucketedInstancesByClassifier(classifier: string): Array<Set<string>> {\n      return this.allBucketedInstances[classifier];\n    },\n    cellDescription(d: ClassifierClassCross): string {\n      const [classifier, actual, predicted] = d;\n      return (\n        (predicted === actual)\n          ? `Instances of class '${actual}' correctly classified by classifier '${classifier}'`\n          : `Instances of class '${actual}' misclassified as class '${predicted}' by classifier '${classifier}'`\n      );\n    },\n    drawInitial() {\n      // @ts-ignore\n      this.drawColorLegend();\n      this.drawSidebar();\n      this.drawTopBar();\n      this.drawGrid();\n      this.drawSelections();\n    },\n    drawColorLegend() {\n      const margin = this.margin.colorLegend;\n      const width = this.dimensions.colorLegend.width - margin.left - margin.right;\n      const height = this.dimensions.colorLegend.height - margin.top - margin.bottom;\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n\n      interface GradientData {\n        id: string;\n        colorDark: string;\n        colorLight: string;\n      }\n      const gradientsData: GradientData[] = [\n        {\n          id: this.gradientId.misclassified,\n          colorDark: colors.badDark,\n          colorLight: colors.badLight,\n        },\n        {\n          id: this.gradientId.correctlyClassified,\n          colorDark: colors.goodDark,\n          colorLight: colors.goodLight,\n        },\n      ];\n\n      const defineGradients = () => {\n        svg.selectAll('.color-legend-defs').remove();\n        const defs = svg.append('defs')\n          .attr('class', 'color-legend-defs');\n\n        const gradients = defs.selectAll('linearGradient')\n          .data(gradientsData)\n          .join('linearGradient')\n            .attr('id', (d: GradientData) => d.id)\n            .attr('x1', '0%')\n            .attr('y1', '0%')\n            .attr('x2', '100%')\n            .attr('y2', '0%');\n        gradients.append('stop')\n          .attr('offset', '0%')\n          .attr('stop-color', (d: GradientData) => d.colorLight)\n          .attr('stop-opacity', 1);\n        gradients.append('stop')\n          .attr('offset', '100%')\n          .attr('stop-color', (d: GradientData) => d.colorDark)\n          .attr('stop-opacity', 1);\n      };\n      defineGradients();\n\n      svg.selectAll('.color-legend').remove();\n      const legend = svg.append('g')\n        .attr('class', 'color-legend')\n        .attr('transform', `translate(\n          ${this.dimensions.colorLegend.xOffset + margin.left},\n          ${this.dimensions.colorLegend.yOffset + margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('x', this.dimensions.colorLegend.xOffset)\n          .attr('y', this.dimensions.colorLegend.yOffset)\n          .attr('width', this.dimensions.colorLegend.width)\n          .attr('height', this.dimensions.colorLegend.height)\n          .attr('fill', 'cyan')\n          .attr('fill-opacity', 0.2);\n      };\n\n      const drawGradients = () => {\n        const gradientRects = legend.selectAll('rect')\n          .data(gradientsData)\n          .join('rect')\n            .attr('y', (d: GradientData, i: number) => i * height / 2)\n            .attr('width', width)\n            .attr('height', height / 2)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '0.5px')\n            .style('fill', (d: GradientData) => `url(#${d.id})`);\n      };\n      drawGradients();\n\n      const drawAxis = () => {\n        const agreeAxis = d3.scaleLinear<number, number>()\n          .domain([0, this.maxBucketedInstances.diagonal])\n          .range([0, width]);\n\n        legend.append('g')\n          .call(d3.axisTop(agreeAxis).ticks(3))\n          .attr('font-size', 16);\n\n        const disagreeAxis = d3.scaleLinear<number, number>()\n          .domain([0, this.maxBucketedInstances.nondiagonal])\n          .range([0, width]);\n\n        legend.append('g')\n          .attr('transform', `translate(0 ${height})`)\n          .call(d3.axisBottom(disagreeAxis).ticks(3))\n          .attr('font-size', 16);\n      };\n      drawAxis();\n\n      const drawTitles = () => {\n        legend.append('text')\n          .attr(\n            'transform',\n            `translate(\n              ${width / 2},\n              ${height / 4}\n            )`,\n          )\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .style('font-size', 16)\n          .text('misclassified');\n\n        legend.append('text')\n          .attr(\n            'transform',\n            `translate(\n              ${width / 2},\n              ${height * 3 / 4}\n            )`,\n          )\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .style('font-size', 16)\n          .text('correctly classified');\n      };\n      drawTitles();\n      return;\n    },\n    drawHover() {\n      return;\n      const moveDuration = 500;\n      const resetDuration = 1000;\n\n      const classifierClassCross = this.classifierClassCross;\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n\n      const matrixCellRects = svg.selectAll('.matrix-cell-rect');\n      const actualClassLegendRects = svg.select('.actual-class-legend').selectAll('.hover-indicator-rect');\n      const predictedClassLegendRects = svg.select('.predicted-class-legend').selectAll('.hover-indicator-rect');\n      if (\n        this.hoverInfo.classes.actual === ''\n        || this.hoverInfo.classes.predicted === ''\n        || this.hoverInfo.classifier === ''\n      ) {\n        matrixCellRects\n          .transition().duration(resetDuration)\n          .attr('fill-opacity', 1);\n        actualClassLegendRects\n          .transition().duration(resetDuration)\n          .attr('fill', 'lightgray');\n        predictedClassLegendRects\n          .transition().duration(resetDuration)\n          .attr('fill', 'lightgray');\n      } else {\n        matrixCellRects\n          .data(classifierClassCross)\n          .transition().duration(moveDuration)\n          .attr('fill-opacity', (d: ClassifierClassCross) => {\n            const [classifier, actual, predicted] = d;\n            if (actual === this.hoverInfo.classes.actual && predicted === this.hoverInfo.classes.predicted) {\n              return 1;\n            }\n            return 0.25;\n          });\n\n        actualClassLegendRects\n          .data(this.classes)\n          .transition().duration(moveDuration)\n          .attr('fill', (d: string) =>\n            (this.hoverInfo.classes.actual === d)\n              ? 'black'\n              : 'lightgray',\n          );\n        predictedClassLegendRects\n          .data(this.classes)\n          .transition().duration(moveDuration)\n          .attr('fill', (d: string) =>\n            (this.hoverInfo.classes.predicted === d)\n              ? 'black'\n              : 'lightgray',\n          );\n      }\n    },\n    drawGrid() {\n      const margin = this.margin.grid;\n\n      const classes = this.classes;\n      const classifiers = this.classifiers;\n      const instances = this.instances;\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n      svg.selectAll('.matrix-grid').remove();\n      const matrixGrid = svg.append('g')\n        .attr('class', 'matrix-grid')\n        .attr('transform', `translate(\n          ${this.dimensions.matrixGrid.xOffset + margin.left},\n          ${this.dimensions.matrixGrid.yOffset + margin.top})`)\n        .on('mouseleave', () => this.updateHoverCell(['', '', '']));\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('x', this.dimensions.matrixGrid.xOffset)\n          .attr('y', this.dimensions.matrixGrid.yOffset)\n          .attr('width', this.dimensions.matrixGrid.width)\n          .attr('height', this.dimensions.matrixGrid.height)\n          .attr('fill', 'black')\n          .attr('fill-opacity', 0.1);\n      };\n      // drawBackgroundRect();\n\n      const x = this.x;\n      const y = this.y;\n\n      const rowIndex = (i: number) => Math.floor(i / this.matricesPerRow);\n      const colIndex = (i: number) => i % this.matricesPerRow;\n\n      const matrices = matrixGrid.selectAll('.matrix')\n        .data(classifiers)\n        .join('g')\n          .attr('class', 'matrix')\n          .attr('transform', (d: string, i: number) => `translate(\n            ${x(colIndex(i).toString())},\n            ${y(rowIndex(i).toString())}\n          )`);\n\n      matrices.append('rect')\n        .attr('width', x.bandwidth())\n        .attr('height', y.bandwidth())\n        .attr('fill', 'black')\n        .attr('stroke', 'black');\n\n      const actualClassScale = this.actualClassScale;\n      const predictedClassScale = this.predictedClassScale;\n\n      const classCross = this.classCross;\n      matrices.selectAll('.matrix-cell')\n        .data(classCross)\n        .join('g')\n          .attr('class', 'matrix-cell')\n          .attr('transform', (d: ClassCross) => `translate(\n            ${predictedClassScale(d[1])},\n            ${actualClassScale(d[0])}\n          )`);\n\n      const classifierClassCross = this.classifierClassCross;\n\n      const matrixCells = matrixGrid.selectAll('.matrix-cell')\n        .data(classifierClassCross)\n        .on('mouseenter', (d: ClassifierClassCross) => this.updateHoverCell(d))\n        .on('click', (d: ClassifierClassCross) => this.select(d, 'first'))\n        .on('contextmenu', (d: ClassifierClassCross) => this.select(d, 'second'));\n\n      const drawCells = () => {\n        const cellWidth = predictedClassScale.bandwidth();\n        const cellHeight = actualClassScale.bandwidth();\n        matrixCells.append('rect')\n          .attr('class', 'matrix-cell-rect')\n          .attr('width', cellWidth)\n          .attr('height', cellHeight * 6 / 8)\n          .attr('fill', (d: ClassifierClassCross) => {\n            let color = '';\n            const [classifier, actual, predicted] = d;\n            const actualIndex = classes.indexOf(actual);\n            const predictedIndex = classes.indexOf(predicted);\n            const bucketIndex = actualIndex * classes.length + predictedIndex;\n            const numberOfInstances = this.cachedBucketedInstancesByClassifier(classifier)[bucketIndex].size;\n            if (numberOfInstances === 0) {\n              return 'white';\n            }\n            if (actual === predicted) {\n              color = this.colorScales.diagonal(numberOfInstances);\n            } else {\n              color = this.colorScales.nondiagonal(numberOfInstances);\n            }\n            return color;\n          })\n          .style('paint-order', 'stroke');\n\n        const selections = () => {\n          const selectionBarHeight = actualClassScale.bandwidth() / 8;\n          const dotRadius = selectionBarHeight / 3;\n          matrixCells.append('rect')\n            .attr('class', 'selection-background-rect')\n            .attr('y', cellHeight * 6 / 8)\n            .attr('width', cellWidth)\n            .attr('height', selectionBarHeight * 2)\n            .attr('fill', 'black');\n          matrixCells.append('rect')\n            .attr('class', 'bar-selection-1')\n            .attr('y', cellHeight * 6 / 8)\n            .attr('width', 0)\n            .attr('height', cellHeight / 8)\n            .attr('fill', colors.overlapSelections.first)\n            .attr('stroke', 'black');\n          matrixCells.append('circle')\n            .attr('class', 'dot-selection-1')\n            .attr('cx', cellWidth / 2)\n            .attr('cy', cellHeight * 6 / 8 + cellHeight / 16)\n            .attr('r', dotRadius)\n            .attr('fill', colors.overlapSelections.first)\n            .attr('fill-opacity', 0);\n          matrixCells.append('rect')\n            .attr('class', 'bar-selection-2')\n            .attr('y', cellHeight * 7 / 8)\n            .attr('width', 0)\n            .attr('height', cellHeight / 8)\n            .attr('fill', colors.overlapSelections.second)\n            .attr('stroke', 'black');\n          matrixCells.append('circle')\n            .attr('class', 'dot-selection-2')\n            .attr('cx', cellWidth / 2)\n            .attr('cy', cellHeight * 7 / 8 + cellHeight / 16)\n            .attr('r', dotRadius)\n            .attr('fill', colors.overlapSelections.second)\n            .attr('fill-opacity', 0);\n        };\n        selections();\n      };\n      drawCells();\n\n      const drawMatrixTitles = () => {\n        matrices.data(this.classifiers)\n          .append('text')\n          .attr('transform', () => {\n            const xOffset = x.bandwidth() / 2;\n            const yOffset = -10;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text((d: string) => d);\n      };\n      drawMatrixTitles();\n\n      const hoverCircles = () => {\n        matrixCells.append('circle')\n          .attr('class', 'hover-dot')\n          .attr('cx', predictedClassScale.bandwidth() / 2)\n          .attr('cy', actualClassScale.bandwidth() / 2)\n          .attr('r', Math.min(predictedClassScale.bandwidth(), actualClassScale.bandwidth()) / 6)\n          .attr('fill', 'black')\n          .attr('fill-opacity', 0);\n      };\n      hoverCircles();\n    },\n    drawSelections() {\n      console.log('drawing selections');\n\n      const classifierClassCross = this.classifierClassCross;\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n\n      const barSelection1 = svg.selectAll('.bar-selection-1');\n      const barSelection2 = svg.selectAll('.bar-selection-2');\n      const dotSelection1 = svg.selectAll('.dot-selection-1');\n      const dotSelection2 = svg.selectAll('.dot-selection-2');\n\n      const { first, second } = this.selections;\n\n      const cellWidth = this.predictedClassScale.bandwidth();\n      const cellHeight = this.actualClassScale.bandwidth();\n\n      const dotThreshold = 0.2;\n\n      const selectionWidth = (d: ClassifierClassCross, selection: SelectionRecord) => {\n        const instances = this.instancesByCross(d);\n        const overlappingInstances = intersection(instances, selection.instances);\n        const fractionOfTotalInstances = overlappingInstances.size / instances.size;\n        return (\n          (fractionOfTotalInstances < dotThreshold)\n          ? 0\n          : fractionOfTotalInstances * cellWidth\n        );\n      };\n\n      const dotOpacity = (d: ClassifierClassCross, selection: SelectionRecord) => {\n        const instances = this.instancesByCross(d);\n        const overlappingInstances = intersection(instances, selection.instances);\n        const fractionOfTotalInstances = overlappingInstances.size / instances.size;\n        return (\n          (fractionOfTotalInstances > 0 && fractionOfTotalInstances < dotThreshold)\n          ? 1\n          : 0\n        );\n      };\n\n      if (!first) {\n        barSelection1.attr('width', 0);\n        dotSelection1.attr('fill-opacity', 0);\n      } else {\n        barSelection1\n          .data(this.classifierClassCross)\n          .attr('width', (d: ClassifierClassCross) => selectionWidth(d, first));\n        dotSelection1\n          .data(this.classifierClassCross)\n          .attr('fill-opacity', (d: ClassifierClassCross) => dotOpacity(d, first));\n      }\n\n      if (!second) {\n        barSelection2.attr('width', 0);\n        dotSelection2.attr('fill-opacity', 0);\n      } else {\n        barSelection2\n          .data(this.classifierClassCross)\n          .attr('width', (d: ClassifierClassCross) => selectionWidth(d, second));\n        dotSelection2\n          .data(this.classifierClassCross)\n          .attr('fill-opacity', (d: ClassifierClassCross) => dotOpacity(d, second));\n      }\n    },\n    drawSidebar() {\n      const margin = this.margin.sideBar;\n      const width = this.dimensions.actualClassLegend.width - margin.left - margin.right;\n      const height = this.dimensions.actualClassLegend.height - margin.top - margin.bottom;\n\n      const classes = this.classes;\n\n      const y = d3.scaleBand()\n        .domain(classes)\n        .range([0, height])\n        .paddingInner(0.2);\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n      svg.selectAll('.actual-class-legend').remove();\n      const legend = svg.append('g')\n        .attr('class', 'actual-class-legend')\n        .attr('transform', `translate(\n          ${this.dimensions.actualClassLegend.xOffset + margin.left},\n          ${this.dimensions.actualClassLegend.yOffset + margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('x', this.dimensions.actualClassLegend.xOffset)\n          .attr('y', this.dimensions.actualClassLegend.yOffset)\n          .attr('width', this.dimensions.actualClassLegend.width)\n          .attr('height', this.dimensions.actualClassLegend.height)\n          .attr('fill', 'coral')\n          .attr('fill-opacity', 0.2);\n      };\n      // drawBackgroundRect();\n\n      const entries = legend.selectAll('legend-entry')\n        .data(classes)\n        .join('g')\n          .attr('class', 'legend-entry')\n          .attr('transform', (d: string, i: number) => `translate(0, ${y(d)})`);\n\n      entries.append('rect')\n        .attr('class', 'hover-indicator-rect')\n        .attr('width', width)\n        .attr('height', y.bandwidth())\n        .attr('fill', (d: string) => (this.hoverInfo.classes.actual === d) ? 'orange' : 'lightgray');\n\n      legend.append('g')\n        .attr('class', 'side-axis')\n        .attr('transform', `translate(${width}, ${0})`)\n        .call(d3.axisRight(y))\n        .selectAll('text')\n          .style('text-anchor', 'start')\n          .style('font-size', 14);\n\n      legend.selectAll('.side-axis').select('.domain').attr('stroke-opacity', '0');\n\n      const drawTitle = () => {\n        legend.append('text')\n          .attr('transform', `translate(${0}, ${-margin.top / 2})`)\n          .attr('text-anchor', 'start')\n          .attr('alignment-baseline', 'middle')\n          .style('font-size', 20)\n          .text('Actual class');\n      };\n      drawTitle();\n    },\n    drawTopBar() {\n      const margin = this.margin.topBar;\n      const width = this.dimensions.predictedClassLegend.width - margin.left - margin.right;\n      const height = this.dimensions.predictedClassLegend.height - margin.top - margin.bottom;\n\n      const classes = this.classes;\n\n      const x = d3.scaleBand()\n        .domain(classes)\n        .range([0, width])\n        .paddingInner(0.2);\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n      svg.selectAll('.predicted-class-legend').remove();\n      const legend = svg.append('g')\n        .attr('class', 'predicted-class-legend')\n        .attr('transform', `translate(\n          ${this.dimensions.predictedClassLegend.xOffset + margin.left},\n          ${this.dimensions.predictedClassLegend.yOffset + margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('x', this.dimensions.predictedClassLegend.xOffset)\n          .attr('y', this.dimensions.predictedClassLegend.yOffset)\n          .attr('width', this.dimensions.predictedClassLegend.width)\n          .attr('height', this.dimensions.predictedClassLegend.height)\n          .attr('fill', 'green')\n          .attr('fill-opacity', 0.2);\n      };\n      // drawBackgroundRect();\n\n      const entries = legend.selectAll('legend-entry')\n        .data(classes)\n        .join('g')\n          .attr('class', 'legend-entry')\n          .attr('transform', (d: string, i: number) => `translate(${x(d)}, 0)`);\n\n      entries.append('rect')\n        .attr('class', 'hover-indicator-rect')\n        .attr('width', x.bandwidth())\n        .attr('height', height)\n        .attr('fill', (d: string) => (this.hoverInfo.classes.predicted === d) ? 'orange' : 'lightgray');\n\n      legend.append('g')\n        .attr('class', 'top-axis')\n        .call(d3.axisTop(x))\n        .selectAll('text')\n          .attr('x', '0.7em')\n          .attr('y', '-0.7em')\n          .attr('transform', 'rotate(-30)')\n          .style('text-anchor', 'start')\n          .style('font-size', 14);\n\n      legend.selectAll('.top-axis').select('.domain').attr('stroke-opacity', '0');\n\n      const drawTitle = () => {\n        legend.append('text')\n          .attr('transform', `translate(${-margin.left / 2}, ${height / 2})`)\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .style('font-size', 20)\n          .text('Predicted class');\n      };\n      drawTitle();\n    },\n    instancesByCross(d: ClassifierClassCross) {\n      const [classifier, actual, predicted] = d;\n      const classes = this.classes;\n      const actualIndex = classes.indexOf(actual);\n      const predictedIndex = classes.indexOf(predicted);\n      const bucketIndex = actualIndex * classes.length + predictedIndex;\n      const instances = this.cachedBucketedInstancesByClassifier(classifier)[bucketIndex];\n      return instances;\n    },\n    maxBucketedInstancesByClassifier(classifier: string): {\n      diagonal: number,\n      nondiagonal: number,\n    } {\n      const bucketSizes = {\n        diagonal: [] as number[],\n        nondiagonal: [] as number[],\n      };\n      this.cachedBucketedInstancesByClassifier(classifier).forEach((bucket, index) => {\n        if (this.onMainDiagonal(index)) {\n          bucketSizes.diagonal.push(bucket.size);\n        } else {\n          bucketSizes.nondiagonal.push(bucket.size);\n        }\n      });\n      const maxBucketedInstances = {\n        diagonal: Math.max(...bucketSizes.diagonal),\n        nondiagonal: Math.max(...bucketSizes.nondiagonal),\n      };\n      return maxBucketedInstances;\n    },\n    onMainDiagonal(index: number): boolean {\n      const elemPerRow = this.boxProps.classes.size;\n      const row = Math.floor(index / elemPerRow);\n      const col = index % elemPerRow;\n      return row === col;\n    },\n    select(\n      d: ClassifierClassCross,\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const [classifier, actual, predicted] = d;\n      const classes = this.classes;\n      const actualIndex = classes.indexOf(actual);\n      const predictedIndex = classes.indexOf(predicted);\n      const bucketIndex = actualIndex * classes.length + predictedIndex;\n\n      const constraintRow = blankConstraint();\n      constraintRow.rule = Rule.ACTUAL;\n      constraintRow.target = actual;\n\n      const constraintColumn = blankConstraint();\n      constraintColumn.rule = Rule.PREDICTED;\n      constraintColumn.classifier = classifier;\n      constraintColumn.target = predicted;\n\n      const instances = this.cachedBucketedInstancesByClassifier(classifier)[bucketIndex];\n      const description = this.cellDescription(d);\n\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraintRow, constraintColumn],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    \n    // truncateLabel,\n    updateHoverCell(d: [string, string, string]) {\n      const [classifier, actual, predicted] = d;\n      if (\n        this.hoverInfo.classes.actual === actual\n        && this.hoverInfo.classes.predicted === predicted\n        && this.hoverInfo.classifier === classifier\n      ) {\n        return;\n      }\n      this.hoverInfo = {\n        classes: {\n          actual,\n          predicted,\n        },\n        classifier,\n      };\n    },\n    \n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixGrid.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixGrid.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfusionMatrixGrid.vue?vue&type=template&id=18cb8c7c&scoped=true&\"\nimport script from \"./ConfusionMatrixGrid.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfusionMatrixGrid.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConfusionMatrixGrid.vue?vue&type=style&index=0&id=18cb8c7c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18cb8c7c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCheckbox,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Cumulative Accuracy\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Sort by how many classifiers correctly classified an instance\"},model:{value:(_vm.sorting),callback:function ($$v) {_vm.sorting=$$v},expression:\"sorting\"}},[_c('v-radio',{attrs:{\"label\":\"ascending\",\"value\":\"ascending\"}}),_c('v-radio',{attrs:{\"label\":\"descending\",\"value\":\"descending\"}})],1)],1)])],1)],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n  union,\n} from '../../utils';\n\nexport default Vue.extend({\n  name: 'CumulativeAccuracy',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 50, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 500 - margin.top - margin.bottom;\n    const sorting = 'descending' as 'ascending' | 'descending';\n    const hover = {\n      type: '' as 'individual' | 'cumulative' | '',\n      count: -1,\n    };\n    return {\n      svg:'',\n      height,\n      hover,\n      width,\n      margin,\n      panel: [],\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      sorting,\n    };\n  },\n  computed: {\n    agreementKeys(): number[] {\n      const agreementKeys = Object.keys(this.agreements).map(Number).sort();\n      if (this.sorting === 'descending') {\n        agreementKeys.reverse();\n      }\n      return agreementKeys;\n    },\n    agreements(): {\n      [numberOfCorrectClassifiers: number]: Set<string>,\n    } {\n      const agreements: {\n        [numberOfCorrectClassifiers: number]: Set<string>,\n      } = {};\n\n      for (let i = 0; i <= this.classifiers.length; i++) {\n        agreements[i] = new Set();\n      }\n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        const correctClassifiers = this.classifiers.filter((c) => i.predictions[c] === i.actual);\n        const numberOfCorrectClassifiers = correctClassifiers.length;\n        agreements[numberOfCorrectClassifiers].add(id);\n      });\n\n      return agreements;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    cumulativeAgreements(): {\n      [numberOfCorrectClassifiers: number]: Set<string>,\n    } {\n      const cumulativeAgreements: {\n        [numberOfCorrectClassifiers: number]: Set<string>,\n      } = {};\n\n      this.agreementKeys.forEach((key, index) => {\n        cumulativeAgreements[key] = new Set();\n        this.agreementKeys.slice(0, index + 1).forEach((key2) => {\n          cumulativeAgreements[key] = union(\n            cumulativeAgreements[key],\n            this.agreements[key2],\n          );\n        });\n      });\n\n      return cumulativeAgreements;\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusDotEmphasis(): String{return  this.$store.state.focusDotEmphasis},\n    x(): d3.ScaleBand<number> {\n      const x = d3.scaleBand<number>()\n        .domain(this.agreementKeys)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0.1);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n  },\n  watch: {\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawInitial();\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n    sorting() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    barYOffset(d: number) {\n      const numberOfInstances = this.agreements[d].size;\n      const fractionOfTotalInstances = numberOfInstances / this.instances.length;\n      return this.y(fractionOfTotalInstances);\n    },\n    clearHover() {\n      this.hover = ({type: '', count: -1});\n    },\n    circleYOffset(d: number) {\n      const numberOfInstances = this.cumulativeAgreements[d].size;\n      const fractionOfTotalInstances = numberOfInstances / this.instances.length;\n      return this.y(fractionOfTotalInstances);\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('width', this.width)\n          .attr('height', this.height)\n          .attr('fill', 'teal');\n      };\n      // drawBackgroundRect();\n\n      const x = this.x;\n      const y = this.y;\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20);\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom * 0.8;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('How many classifiers correctly classified an instance');\n\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Fraction of instances');\n\n      };\n      drawTitles();\n\n      const drawBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.agreementKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', (d: number) => `translate(${x(d)}, ${0})`)\n            .on('mouseenter', (d: number) => this.hover = ({type: 'individual', count: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: number) => this.select(d, 'individual', 'first'))\n            .on('contextmenu', (d: number) => this.select(d, 'individual', 'second'));\n\n        this.svg = svg;\n        const barWidth = x.bandwidth();\n        const barYOffset = this.barYOffset;\n        const barHeight = (d: number) => this.height - barYOffset(d);\n\n        barCells.append('rect')\n          .attr('class', 'bar')\n          .attr('y', (d: number) => barYOffset(d))\n          .attr('width', barWidth)\n          .attr('height', (d: number) => barHeight(d))\n          .attr('fill', 'lightgray')\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke');\n        barCells.append(\"circle\")   \n            .attr('class', 'bar-circle')\n            .attr('cx', barWidth / 2)\n            .attr('cy',  this.height-15)\n            .attr('r','15px')\n            .attr(\"visibility\",(d: number) => barHeight(d)/ this.height == 0? \"hidden\"\n                  : barHeight(d)/ this.height>0.05? \"hidden\":\"visible\")\n            .style('fill', 'lightgray')    \n            .attr('stroke', 'grey')\n\n      };\n\n      const drawCircle = () => {\n        const circleXOffset = x.bandwidth() / 2;\n        const circleYOffset = this.circleYOffset;\n        const circleR = Math.min(this.width / 30, x.bandwidth() / 10);\n\n        svg.selectAll('circle')\n          .data(this.agreementKeys)\n          .join('circle')\n          .attr('class', 'cumulative')\n          .attr('cx', (d: number) => (x(d) as number) + circleXOffset)\n          .attr('cy', (d: number) => circleYOffset(d))\n          .attr('r', circleR)\n          .attr('fill', 'lightgray')\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: number) => this.hover = ({type: 'cumulative', count: d}))\n          .on('mouseleave', this.clearHover)\n          .on('click', (d: number) => this.select(d, 'cumulative', 'first'))\n          .on('contextmenu', (d: number) => this.select(d, 'cumulative', 'second'));\n      };\n\n      const drawLine = () => {\n        const line = d3.line()\n          .x((d) => d[0])\n          .y((d) => d[1]);\n\n        const coordinates: Array<[number, number]> = [];\n        const coordinateXOffset = x.bandwidth() / 2;\n        const coordinateYOffset = (d: number) => {\n          const numberOfInstances = this.cumulativeAgreements[d].size;\n          const fractionOfTotalInstances = numberOfInstances / this.instances.length;\n          return y(fractionOfTotalInstances);\n        };\n        this.agreementKeys.forEach((key) => {\n          const xVal = (x(key) as number) + coordinateXOffset;\n          const yVal = coordinateYOffset(key);\n          coordinates.push([xVal, yVal]);\n        });\n\n        svg.append('path')\n          .datum(coordinates)\n          .attr('d', line)\n          .attr('fill', 'none')\n          .attr('stroke', 'lightgray')\n          .attr('stroke-width', '2px');\n      };\n\n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'red')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 20)\n          .attr('pointer-events', 'none');\n      };\n\n      drawLine();\n      drawCircle();\n      drawBars();\n      yAxisMarkerLine();\n      yAxisMarkerText();\n\n      this.drawHover();\n      this.drawSelections();\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const bars = chart.selectAll('.bar');\n      const circles = chart.selectAll('.cumulative');\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line');\n      const yAxisMarkerText = chart.select('.y-axis-marker-text');\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n\n      switch (this.hover.type) {\n        case 'individual':\n          bars.data(this.agreementKeys)\n            .transition()\n            .duration(moveDuration)\n            .attr('fill', (d: number) => d === this.hover.count ? 'black' : 'lightgray');\n          circles\n            .transition()\n            .duration(moveDuration)\n            .attr('fill', 'lightgray');\n          yAxisMarkerLine\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', this.barYOffset(this.hover.count))\n            .attr('x2', this.width)\n            .attr('y2', this.barYOffset(this.hover.count));\n          yAxisMarkerText\n            .transition()\n            .duration(moveDuration)\n            .attr('transform', `translate(\n              ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n              ${this.barYOffset(this.hover.count) - 10})`)\n            .text(`${(this.agreements[this.hover.count].size / this.instances.length * 100).toFixed(1)}%`);\n          break;\n        case 'cumulative':\n          const hoverCountIndex = this.agreementKeys.indexOf(this.hover.count);\n          bars.data(this.agreementKeys)\n            .transition()\n            .duration(moveDuration)\n            .attr('fill', (d: number, i: number) => i <= hoverCountIndex ? 'black' : 'lightgray');\n          circles.data(this.agreementKeys)\n            .transition()\n            .duration(moveDuration)\n            .attr('fill', (d: number) => d === this.hover.count ? 'black' : 'lightgray');\n          yAxisMarkerLine\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', this.circleYOffset(this.hover.count))\n            .attr('x2', (this.x(this.hover.count) as number) + this.x.bandwidth() / 2)\n            .attr('y2', this.circleYOffset(this.hover.count));\n          yAxisMarkerText\n            .transition()\n            .duration(moveDuration)\n            .attr('transform', `translate(\n              ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n              ${this.circleYOffset(this.hover.count) - 10})`)\n            .text(`${(this.cumulativeAgreements[this.hover.count].size / this.instances.length * 100).toFixed(1)}%`);\n          break;\n        default:\n          bars\n            .transition()\n            .duration(disappearDuration)\n            .attr('fill', 'lightgray');\n          circles\n            .transition()\n            .duration(disappearDuration)\n            .attr('fill', 'lightgray');\n          yAxisMarkerLine\n            .transition()\n            .duration(disappearDuration)\n            .attr('stroke-opacity', 0);\n          yAxisMarkerText\n            .transition()\n            .duration(disappearDuration)\n            .text('');\n          break;\n      }\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n     \n      const { first, second } = this.selections;\n\n      const yOffset = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size / this.instances.length;\n        return this.y(fractionOfTotalInstances);\n      };\n      const height = (instances: Set<string>, selection: Set<string>) => {\n        return this.height - yOffset(instances, selection);\n      };\n      const hasFocusItem = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n\n\n      const selections = [first, second];\n      const x = this.x;\n      const barWidth = x.bandwidth();\n      const selectionBarWidth  = barWidth / 8;\n\n      selections.forEach((cur_selection, idx)=>{\n        if (!cur_selection) {\n          this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n          this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n        } else {\n          this.agreementKeys.forEach((d)=>{\n            let selection_attributes = {\n                barCells : this.svg,\n                x : x(d) + barWidth / 2 + (idx-1) * selectionBarWidth ,\n                y : yOffset(this.agreements[d], cur_selection.instances),\n                width : selectionBarWidth,\n                height : height(this.agreements[d], cur_selection.instances),\n                r  : selectionBarWidth / 2,\n                color : idx == 0? this.selection1Color : this.selection2Color,\n                circle_visibility : height(this.agreements[d], cur_selection.instances) == 0?\"hidden\"\n                      :height(this.agreements[d], cur_selection.instances)/ this.height>0.05?\"hidden\":\"visible\",\n                cx : x(d) + barWidth / 2  + (idx - 1/2) * selectionBarWidth,\n                cy : this.height-selectionBarWidth / 2,\n                selection_type: idx,\n                focused: hasFocusItem(this.agreements[d], cur_selection.instances),\n                view_name : this.name\n              }\n              this.$store.dispatch('drawSelections',selection_attributes)\n          })\n        }\n      })\n    },\n    select(\n      d: number,\n      type: 'individual' | 'cumulative',\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const instances = type === 'individual'\n        ? this.agreements[d]\n        : this.cumulativeAgreements[d];\n      const description = type === 'individual'\n        ? `Instances which exactly ${d} classifiers correctly classified`\n        : `Instances which at least ${d} classifiers correctly classified`;\n\n      this.$store.dispatch('prependToSelectionHistory', { instances, description });\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierAccuracy.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierAccuracy.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OverallClassifierAccuracy.vue?vue&type=template&id=1393318d&scoped=true&\"\nimport script from \"./OverallClassifierAccuracy.vue?vue&type=script&lang=ts&\"\nexport * from \"./OverallClassifierAccuracy.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OverallClassifierAccuracy.vue?vue&type=style&index=0&id=1393318d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1393318d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[(_vm.datasetType == 'continuous')?_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Threshold Set\")]),_c('v-expansion-panel-content',[_c('ContinuousMode')],1)],1):_vm._e(),(_vm.datasetType == 'continuous')?_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"BandWidth Set (Trinary Mode)\")]),_c('v-expansion-panel-content',[_c('UncertainAdjuster')],1)],1):_vm._e(),_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Selection History\")]),_c('v-expansion-panel-content',[_c('SetHistory')],1)],1),(_vm.datasetType == 'continuous')?_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Instance Sampling\")]),_c('v-expansion-panel-content',[_c('RandomSampling'),_c('StratifiedSampling'),_c('BootstrapSampling')],1)],1):_vm._e(),(_vm.datasetType == 'continuous')?_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"K-Fold Validation\")]),_c('v-expansion-panel-content',[_c('KfoldValidation')],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Classes\")]),_c('v-expansion-panel-content',[_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.classList),function(className){return _c('v-list-item',{key:className,on:{\"click\":_vm.applyFilter}},[_c('v-list-item-title',[_c('v-checkbox',{attrs:{\"value\":className,\"label\":className},model:{value:(_vm.checkedBoxes),callback:function ($$v) {_vm.checkedBoxes=$$v},expression:\"checkedBoxes\"}})],1)],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport {\n  EntityType,\n  SelectionAction,\n} from '../../../types';\n\nexport default Vue.extend({\n  name: 'ClassFilter',\n  data() {\n    return {\n      panel: [] as string[],\n      checkedBoxes: [] as string[],\n    };\n  },\n  computed: {\n    classList(): string[] {\n      return [...this.$store.getters.classes];\n    },\n  },\n  methods: {\n    applyFilter() {\n      const payload: {\n        entityType: EntityType,\n        newFilter: {\n          type: SelectionAction,\n          set: Set<string>,\n        },\n      } = {\n        entityType: EntityType.Class,\n        newFilter: {\n          type: SelectionAction.Exclude,\n          set: new Set(this.checkedBoxes),\n        },\n      };\n      console.log('class checkboxes', payload);\n      this.$store.dispatch('changedFilter', payload);\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassFilter.vue?vue&type=template&id=51619e89&\"\nimport script from \"./ClassFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClassFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCheckbox,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VList,VListItem,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Classifiers\")]),_c('v-expansion-panel-content',[_c('v-list',_vm._l((_vm.classifierThresholdList),function(classifier){return _c('v-list-item',{key:classifier,on:{\"click\":_vm.applyFilter}},[_c('v-list-item-title',[_c('v-checkbox',{attrs:{\"value\":classifier,\"label\":classifier},model:{value:(_vm.checkedBoxes),callback:function ($$v) {_vm.checkedBoxes=$$v},expression:\"checkedBoxes\"}})],1)],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport {\n  EntityType,\n  SelectionAction,\n} from '../../../types';\n\nexport default Vue.extend({\n  name: 'ClassifierFilter',\n  data() {\n    return {\n      panel: [] as string[],\n      checkedBoxes: [] as string[],\n    };\n  },\n  computed: {\n    classifierThresholdList(): string[] {\n      return [...this.$store.getters.classifiers];\n    },\n    datasetType(): string {\n      return this.$store.state.datasetType;\n    }\n  },\n  methods: {\n    applyFilter() {\n      const payload: {\n        entityType: EntityType,\n        newFilter: {\n          type: SelectionAction,\n          set: Set<string>,\n        },\n      } = {\n        entityType: EntityType.Classifier,\n        newFilter: {\n          type: SelectionAction.Exclude,\n          set: new Set(this.checkedBoxes),\n        },\n      };\n      \n      console.log('classifier checkboxes', payload);\n      this.$store.dispatch('changedFilter', payload);\n      if (this.datasetType == 'continuous'){\n        this.$store.dispatch('changedContinuousMetrics')\n      }\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassifierFilter.vue?vue&type=template&id=30ef9710&\"\nimport script from \"./ClassifierFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClassifierFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCheckbox,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VList,VListItem,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"margin-left\":\"20px\"}}),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.instances,\"pagination\":_vm.pagination,\"disable-initial-sort\":\"\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('tr',{class:{'hover-instance': props.item === _vm.$store.state.hoverInstance},style:(_vm.styleTableRow(props.item)),on:{\"mouseenter\":function($event){return _vm.changedHoverInstance(props.item.id)},\"mouseleave\":_vm.clearHoverInstance,\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select(props.item.id, 'first')},\"contextmenu\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select(props.item.id, 'second')}}},[_c('td',[_vm._v(_vm._s(props.item.id))]),_c('td',[_vm._v(_vm._s(props.item.actual))]),_vm._l((_vm.classifiers),function(classifier){return _c('td',{key:classifier},[_vm._v(\" \"+_vm._s(props.item.predictions[classifier])+\" \")])}),_vm._l((_vm.features),function(feature){return _c('td',{key:feature},[_vm._v(\" \"+_vm._s(props.item.features[feature])+\" \")])})],2)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { colors } from '../../theme';\nimport {\n  Instance,\n  InstanceWithId,\n  SelectionRecord,\n} from '../../types';\nimport { instanceById } from '../../utils';\nimport Vue from 'vue';\nimport { mapActions } from 'vuex';\n\ninterface Header {\n  text: string;\n  value: string;\n}\n\nexport default Vue.extend({\n  name: 'InstanceList',\n  data() {\n    return {\n      sortBy: '' as '' | 'first' | 'second' | 'common',\n      pagination: {\n        rowsPerPage: 10,\n      },\n    };\n  },\n  computed: {\n    classifiers(): string[] {\n      const classifiers = [...this.$store.getters.filteredClassifiers];\n      return classifiers;\n    },\n    features(): string[] {\n      const features = [...this.$store.getters.features];\n      return features;\n    },\n    headers(): Header[] {\n      const headers = [\n        { text: 'Id', value: 'id' },\n        { text: 'Actual class', value: 'actualClass' },\n      ];\n      this.classifiers.forEach((classifier: string) => {\n        headers.push({\n          text: classifier.replace(/_/g, ' '),\n          value: classifier,\n        });\n      });\n      this.$store.getters.features.forEach((feature: string) => {\n        headers.push({\n          text: feature,\n          value: feature,\n        });\n      });\n      return headers;\n    },\n    instances(): InstanceWithId[] {\n      const instances: InstanceWithId[] = [];\n      this.$store.getters.filteredInstances.forEach((id: string) => {\n        const i = instanceById(id);\n        const instance: InstanceWithId = {\n          id,\n          ...i,\n        };\n        instances.push(instance);\n      });\n\n      const { first, second } = this.selections;\n      const comparators = {\n        first: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n        second: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n        common: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n      };\n      if (this.sortBy) {\n        instances.sort(comparators[this.sortBy]);\n      }\n\n      return instances;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n  },\n  watch: {\n    selections() {\n      const { first, second } = this.selections;\n      if (first && second) {\n        this.sortBy = 'common';\n      } else if (first) {\n        this.sortBy = 'first';\n      } else if (second) {\n        this.sortBy = 'second';\n      } else {\n        this.sortBy = '';\n      }\n    },\n  },\n  methods: {\n    ...mapActions([\n      'changedHoverInstance',\n      'clearHoverInstance',\n    ]),\n    select(\n      id: string,\n      whichOverlap: 'first' | 'second',\n    ) {\n      const instances = new Set([id]);\n      const description = `Instance #${id}`;\n\n      this.$store.dispatch('prependToSelectionHistory', { instances, description });\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    styleTableRow(instance: InstanceWithId) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.selections;\n      const isFirst = (firstSelection && firstSelection.instances.has(instance.id));\n      const isSecond = (secondSelection && secondSelection.instances.has(instance.id));\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InstanceList.vue?vue&type=template&id=47878edb&scoped=true&\"\nimport script from \"./InstanceList.vue?vue&type=script&lang=ts&\"\nexport * from \"./InstanceList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./InstanceList.vue?vue&type=style&index=0&id=47878edb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47878edb\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VDataTable})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('div',{staticClass:\"buttons\"},[_c('div',{staticStyle:{\"display\":\"table\"}},[_c('v-radio-group',{attrs:{\"label\":\"Base dataset\",\"row\":\"\"},on:{\"change\":_vm.continuousChange},model:{value:(_vm.$store.state.baseDataset),callback:function ($$v) {_vm.$set(_vm.$store.state, \"baseDataset\", $$v)},expression:\"$store.state.baseDataset\"}},[_c('v-radio',{attrs:{\"label\":\"training\",\"value\":\"train\"}}),_c('v-radio',{attrs:{\"label\":\"testing\",\"value\":\"test\"}}),_c('v-radio',{attrs:{\"label\":\"all\",\"value\":\"both\"}}),(_vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"sample\",\"value\":\"sample\"}}):_vm._e()],1)],1),_c('div',{staticStyle:{\"display\":\"table\"}},[_c('span',{staticStyle:{\"display\":\"table-cell\",\"vertically-align\":\"middle\",\"font-size\":\"12px\"}},[_vm._v(\"Current selections\")]),_vm._l((['first', 'second']),function(whichOverlap){return _c('v-menu',{key:whichOverlap,attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({class:{ 'white--text': whichOverlap === 'second' },attrs:{\"color\":_vm.colors.overlapSelections[whichOverlap],\"fab\":\"\",\"small\":\"\"}},on),[_vm._v(\" \"+_vm._s(_vm.overlapSelectionDescription(whichOverlap))+\" \")])]}}],null,true)},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.setOverlapSelection({ whichOverlap: whichOverlap, selection: null })}}},[_c('v-list-item-title',[_vm._v(\"None\")])],1),_vm._l((_vm.selectionHistory),function(selection){return _c('v-list-item',{key:selection.id,on:{\"click\":function($event){return _vm.setOverlapSelection({ whichOverlap: whichOverlap, selection: selection })}}},[_c('v-list-item-title',[_vm._v(_vm._s(selection.id))])],1)})],2)],1)}),_c('v-btn',{attrs:{\"dark\":\"\",\"small\":\"\"},on:{\"click\":_vm.clearOverlapSelections}},[_vm._v(\" Clear both \")])],2),_c('div',{staticStyle:{\"display\":\"table\",\"margin-top\":\"25px\"}},[_c('span',{staticStyle:{\"display\":\"table-cell\",\"vertically-align\":\"middle\",\"font-size\":\"12px\"}},[_vm._v(\"Operations\")]),_vm._l((_vm.operations),function(operation){return _c('v-btn',{key:operation.description,style:((\"font-size: 24px; margin-right: 10px; \" + (operation.style))),attrs:{\"dark\":\"\",\"fab\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.composeUserSelections(operation.id)}}},[_vm._v(\" \"+_vm._s(operation.icon)+\" \")])})],2)]),_c('InstanceVennDiagram')],1),_c('br'),_c('v-btn',{attrs:{\"dark\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$store.dispatch('resetSelectionHistory')}}},[_vm._v(\" Reset history \")]),_c('span',{staticStyle:{\"font-size\":\"12px\",\"font-weight\":\"bold\",\"padding\":\"10px\"}},[_vm._v(\"Past selections\")]),_c('div',{staticClass:\"table-container\"},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.selectionHistory,\"options\":_vm.pagination,\"disable-sort\":\"\",\"dense\":\"\"},on:{\"update:options\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.id,style:(_vm.styleTableRow(item))},[_c('td',{on:{\"click\":function($event){return _vm.setOverlapSelection({ whichOverlap: 'first', selection: item })},\"contextmenu\":function($event){$event.preventDefault();return _vm.setOverlapSelection({ whichOverlap: 'second', selection: item })}}},[_vm._v(_vm._s(item.id)+\" \")]),_c('td',{on:{\"click\":function($event){return _vm.setOverlapSelection({ whichOverlap: 'first', selection: item })},\"contextmenu\":function($event){$event.preventDefault();return _vm.setOverlapSelection({ whichOverlap: 'second', selection: item })}}},[_vm._v(_vm._s(item.instances.size))]),_c('td',{on:{\"click\":function($event){return _vm.setOverlapSelection({ whichOverlap: 'first', selection: item })},\"contextmenu\":function($event){$event.preventDefault();return _vm.setOverlapSelection({ whichOverlap: 'second', selection: item })}}},[_vm._v(_vm._s(item.description))]),(_vm.datasetType == 'continuous')?_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.weight),expression:\"item.weight\"}],attrs:{\"placeholder\":\"item.weight\"},domProps:{\"value\":(item.weight)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"weight\", $event.target.value)}}})]):_vm._e()])}),0)]}}])})],1),(_vm.datasetType == 'continuous')?_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.$store.dispatch('updateWeightedMetrics')}}},[_vm._v(\" Weighted performance \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('svg',{ref:\"svg\",attrs:{\"width\":\"100%\",\"viewBox\":(\"0 0 \" + (_vm.width + _vm.margin.left + _vm.margin.right) + \" \" + (_vm.height + _vm.margin.top + _vm.margin.bottom))}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport { colors } from '../../theme';\nimport { SelectionRecord } from '../../types';\nimport {\n  difference,\n  generateRandomId,\n  intersection,\n  union,\n} from '../../utils';\nimport {\n  Predicate,\n  PredicateComposed,\n  PredicateNegated,\n  PredicateSimple,\n  Rule,\n} from '../constraints/types';\nimport {\n  blankConstraint,\n  composePredicates,\n} from '../constraints/utils';\n\nexport default Vue.extend({\n  name: 'InstanceVennDiagram',\n  data() {\n      const margin = { top: 50, right: 20, bottom: 50, left: 20 };\n      const width = 400 - margin.left - margin.bottom;\n      const height = 200 - margin.top - margin.bottom;\n      return {\n        height,\n        margin,\n        width,\n      };\n  },\n  computed: {\n    barHeight(): number {\n      return this.height / 3;\n    },\n    barWidth(): number {\n      return this.width;\n    },\n    complement(): Set<string> {\n      return difference(this.instances, this.firstSecondUnion);\n    },\n    first(): Set<string> {\n      const first =\n        (this.selections.first)\n        ? this.selections.first.instances\n        : new Set<string>();\n      return first;\n    },\n    firstOnly(): Set<string> {\n      return difference(this.first, this.second);\n    },\n    firstSecondUnion(): Set<string> {\n      return union(this.first, this.second);\n    },\n    firstSecondIntersection(): Set<string> {\n      return intersection(this.first, this.second);\n    },\n    gradientId(): string {\n      return generateRandomId();\n    },\n    instances(): Set<string> {\n      return this.$store.getters.filteredInstances;\n    },\n    interBarHeight(): number {\n      return this.height - 2 * this.barHeight;\n    },\n    second(): Set<string> {\n      const second =\n        (this.selections.second)\n        ? this.selections.second.instances\n        : new Set<string>();\n      return second;\n    },\n    secondOnly(): Set<string> {\n      return difference(this.second, this.first);\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    xTotal(): d3.ScaleLinear<number, number> {\n      const xTotal = d3.scaleLinear()\n        .domain([0, this.instances.size])\n        .range([0, this.barWidth]);\n      return xTotal;\n    },\n    xSelection(): d3.ScaleLinear<number, number> {\n      const xSelection = d3.scaleLinear()\n        .domain([0, Math.max(1, this.firstSecondUnion.size)])\n        .range([0, this.barWidth]);\n      return xSelection;\n    },\n  },\n  watch: {\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawHover();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    drawHover() {\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n\n      const moveDuration = 1000;\n\n      const drawBars = () => {\n        const rectComplement = svg.select('.rect-complement');\n        const rectUnion = svg.select('.rect-union');\n        const rectFirstOnly = svg.select('.rect-first-only');\n        const rectIntersection = svg.select('.rect-intersection');\n        const rectSecondOnly = svg.select('.rect-second-only');\n\n        rectUnion\n          .transition().duration(moveDuration)\n          .attr('x', 0)\n          .attr('width', this.xTotal(this.firstSecondUnion.size));\n\n        rectComplement\n          .transition().duration(moveDuration)\n          .attr('x', this.xTotal(this.firstSecondUnion.size))\n          .attr('width', this.barWidth - this.xTotal(this.firstSecondUnion.size));\n\n        rectFirstOnly\n          .transition().duration(moveDuration)\n          .attr('width', this.xSelection(this.firstOnly.size));\n\n        rectIntersection\n          .transition().duration(moveDuration)\n          .attr('x', this.xSelection(this.firstOnly.size))\n          .attr('width', this.xSelection(this.firstSecondIntersection.size));\n\n        rectSecondOnly\n          .transition().duration(moveDuration)\n          .attr('x', this.xSelection(this.first.size))\n          .attr('width', this.xSelection(this.secondOnly.size));\n      };\n      drawBars();\n\n      const drawLines = () => {\n        const leftLine = svg.select('.left-line');\n        const rightLine = svg.select('.right-line');\n\n        if (!this.firstSecondUnion.size) {\n          leftLine\n            .transition().duration(moveDuration)\n            .attr('stroke-opacity', 0);\n\n          rightLine\n            .transition().duration(moveDuration)\n            .attr('stroke-opacity', 0)\n            .attr('x1', 0)\n            .attr('x2', 0);\n        } else {\n          leftLine\n            .transition().duration(moveDuration)\n            .attr('stroke-opacity', 1);\n\n          rightLine\n            .transition().duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('x1', this.xTotal(this.firstSecondUnion.size))\n            .attr('x2', this.barWidth);\n        }\n      };\n      drawLines();\n\n      const drawText = () => {\n        const textComplement = svg.select('.text-complement');\n        const textUnion = svg.select('.text-union');\n        const textFirstOnly = svg.select('.text-first-only');\n        const textIntersection = svg.select('.text-intersection');\n        const textSecondOnly = svg.select('.text-second-only');\n\n        textUnion\n          .html(this.percentageText(this.firstSecondUnion.size, this.instances.size))\n          .transition().duration(moveDuration)\n          .attr('x',  this.xTotal(this.firstSecondUnion.size) / 2);\n\n        textComplement\n          .html(this.percentageText(this.complement.size, this.instances.size))\n          .transition().duration(moveDuration)\n          .attr('x',\n            this.xTotal(this.firstSecondUnion.size)\n            + (this.barWidth - this.xTotal(this.firstSecondUnion.size)) / 2);\n\n        textFirstOnly\n          .html(this.percentageText(this.firstOnly.size, this.firstSecondUnion.size))\n          .transition().duration(moveDuration)\n          .attr('x',  this.xSelection(this.firstOnly.size) / 2);\n\n        textIntersection\n          .html(this.percentageText(this.firstSecondIntersection.size, this.firstSecondUnion.size))\n          .transition().duration(moveDuration)\n          .attr('x',  this.xSelection(this.firstOnly.size) + this.xSelection(this.firstSecondIntersection.size) / 2);\n\n        textSecondOnly\n          .html(this.percentageText(this.secondOnly.size, this.firstSecondUnion.size))\n          .transition().duration(moveDuration)\n          .attr('x',  this.xSelection(this.first.size) + this.xSelection(this.secondOnly.size) / 2);\n      };\n      drawText();\n\n    },\n    drawInitial() {\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n      svg.selectAll('*').remove();\n\n      const defineGradient = () => {\n        const defs = svg.append('defs');\n\n        const gradient = defs.append('linearGradient')\n          .attr('id', this.gradientId)\n          .attr('x1', '0%')\n          .attr('y1', '0%')\n          .attr('x2', '0%')\n          .attr('y2', '100%');\n        gradient.append('stop')\n          .attr('offset', '0%')\n          .attr('stop-color', colors.overlapSelections.first)\n          .attr('stop-opacity', 1);\n        gradient.append('stop')\n          .attr('offset', '100%')\n          .attr('stop-color', colors.overlapSelections.second)\n          .attr('stop-opacity', 1);\n      };\n      defineGradient();\n\n      const chart = svg.append('g')\n        .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const drawBars = () => {\n        const barTotal = chart.append('g')\n          .attr('class', 'bar-whole')\n          .attr('transform', `translate(${0}, ${0})`);\n\n        const barUnion = chart.append('g')\n          .attr('class', 'bar-union')\n          .attr('transform', `translate(${0}, ${this.barHeight + this.interBarHeight})`);\n\n        barUnion.append('rect')\n          .attr('class', 'rect-outline')\n          .attr('width', this.barWidth)\n          .attr('height', this.barHeight)\n          .attr('fill', 'none')\n          .attr('stroke', 'black');\n\n        barTotal.append('rect')\n          .attr('class', 'rect-union')\n          .attr('x', 0)\n          .attr('width', this.xTotal(this.firstSecondUnion.size))\n          .attr('height', this.barHeight)\n          .attr('fill', 'black')\n          .attr('stroke', 'black')\n          .on('click', () => this.select('union', this.selections.first, this.selections.second));\n\n        barTotal.append('rect')\n          .attr('class', 'rect-complement')\n          .attr('x', this.xTotal(this.firstSecondUnion.size))\n          .attr('width', this.barWidth - this.xTotal(this.firstSecondUnion.size))\n          .attr('height', this.barHeight)\n          .attr('fill', 'lightgray')\n          .attr('stroke', 'black')\n          .on('click', () => this.select('complement', this.selections.first, this.selections.second));\n\n        barUnion.append('rect')\n          .attr('class', 'rect-first-only')\n          .attr('width', this.xSelection(this.firstOnly.size))\n          .attr('height', this.barHeight)\n          .attr('fill', colors.overlapSelections.first)\n          .attr('stroke', 'black')\n          .on('click', () => this.select('difference', this.selections.first, this.selections.second));\n\n        barUnion.append('rect')\n          .attr('class', 'rect-intersection')\n          .attr('x', this.xSelection(this.firstOnly.size))\n          .attr('width', this.xSelection(this.firstSecondIntersection.size))\n          .attr('height', this.barHeight)\n          .attr('fill', `url(#${this.gradientId})`)\n          .attr('stroke', 'black')\n          .on('click', () => this.select('intersection', this.selections.first, this.selections.second));\n\n        barUnion.append('rect')\n          .attr('class', 'rect-second-only')\n          .attr('x', this.xSelection(this.first.size))\n          .attr('width', this.xSelection(this.secondOnly.size))\n          .attr('height', this.barHeight)\n          .attr('fill', colors.overlapSelections.second)\n          .attr('stroke', 'black')\n          .on('click', () => this.select('difference', this.selections.second, this.selections.first));\n\n        const drawText = () => {\n          barTotal.append('text')\n            .attr('class', 'text-union')\n            .attr('x',  this.xTotal(this.firstSecondUnion.size) / 2)\n            .attr('y', -10)\n            .attr('dominant-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr('font-size', 12)\n            .html(this.percentageText(this.firstSecondUnion.size, this.instances.size));\n\n          barTotal.append('text')\n            .attr('class', 'text-complement')\n            .attr('x',\n              this.xTotal(this.firstSecondUnion.size)\n              + (this.barWidth - this.xTotal(this.firstSecondUnion.size)) / 2)\n            .attr('y', -10)\n            .attr('dominant-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr('font-size', 12)\n            .html(this.percentageText(this.complement.size, this.instances.size));\n\n          barUnion.append('text')\n            .attr('class', 'text-first-only')\n            .attr('x',  this.xSelection(this.firstOnly.size) / 2)\n            .attr('y', this.barHeight + 10)\n            .attr('dominant-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr('font-size', 12)\n            .html(this.percentageText(this.firstOnly.size, this.firstSecondUnion.size));\n\n          barUnion.append('text')\n            .attr('class', 'text-intersection')\n            .attr('x',  this.xSelection(this.firstOnly.size) + this.xSelection(this.firstSecondIntersection.size) / 2)\n            .attr('y', this.barHeight + 10)\n            .attr('dominant-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr('font-size', 12)\n            .html(this.percentageText(this.firstSecondIntersection.size, this.firstSecondUnion.size));\n\n          barUnion.append('text')\n            .attr('class', 'text-second-only')\n            .attr('x',  this.xSelection(this.first.size) + this.xSelection(this.secondOnly.size) / 2)\n            .attr('y', this.barHeight + 10)\n            .attr('dominant-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr('font-size', 12)\n            .html(this.percentageText(this.secondOnly.size, this.firstSecondUnion.size));\n        };\n        drawText();\n      };\n      drawBars();\n\n      const drawLines = () => {\n        const leftLine = chart.append('line')\n          .attr('class', 'left-line')\n          .attr('x1', 0)\n          .attr('y1', this.barHeight)\n          .attr('x2', 0)\n          .attr('y2', this.barHeight + this.interBarHeight)\n          .attr('stroke', 'black')\n          .attr('stroke-opacity', 0);\n\n        const rightLine = chart.append('line')\n          .attr('class', 'right-line')\n          .attr('x1', this.xTotal(this.firstSecondUnion.size))\n          .attr('y1', this.barHeight)\n          .attr('x2', this.width)\n          .attr('y2', this.barHeight + this.interBarHeight)\n          .attr('stroke', 'black')\n          .attr('stroke-opacity', 0);\n      };\n      drawLines();\n\n    },\n    percentageText(value: number, total: number) {\n      if (!value) {\n        return '';\n      }\n      const percentage = value / total * 100;\n      if (percentage > 1) {\n        return `${percentage.toFixed(0)}%`;\n      }\n      return `${percentage.toFixed(1)}%`;\n    },\n    select(\n      operation: 'complement' | 'difference' | 'intersection' | 'union',\n      operand1: SelectionRecord | null,\n      operand2: SelectionRecord | null,\n    ) {\n      if (!(operand1 && operand2)) {\n        console.error(`invalid operand1 (${operand1}) or operand2 (${operand2}) to select in InstanceVennDiagram`);\n        return;\n      }\n\n      let composition: Set<string> = new Set();\n      switch (operation) {\n        case 'complement':\n          composition = difference(this.instances, union(operand1.instances, operand2.instances));\n          break;\n        case 'difference':\n          composition = difference(operand1.instances, operand2.instances);\n          break;\n        case 'intersection':\n          composition = intersection(operand1.instances, operand2.instances);\n          break;\n        case 'union':\n          composition = union(operand1.instances, operand2.instances);\n          break;\n      }\n\n      const description =\n        (operation === 'complement')\n          ? `${operation}(${operand1.id})`\n          : `${operation}(${operand1.id}, ${operand2.id})`;\n\n      const payload: {\n        instances: Set<string>,\n        description: string,\n        predicate?: Predicate,\n      } = {\n        instances: composition,\n        description,\n      };\n\n      const p1 = operand1.predicate;\n      const p2 = operand2.predicate;\n      if (!p1) {\n        console.error('ERROR: Cannot compose. Predicate of operand1 is not defined!');\n      } else if (!p2) {\n        console.error('ERROR: Cannot compose. Predicate of operand2 is not defined!');\n      } else {\n        const predicate: Predicate = composePredicates(p1, p2, operation);\n        console.log('composed predicate is', predicate);\n        payload.predicate = predicate;\n      }\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', 'first');\n      this.$store.dispatch('changedOverlapSelection', { selection: null, whichOverlap: 'second'});\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceVennDiagram.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceVennDiagram.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InstanceVennDiagram.vue?vue&type=template&id=3e6003ca&\"\nimport script from \"./InstanceVennDiagram.vue?vue&type=script&lang=ts&\"\nexport * from \"./InstanceVennDiagram.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"100%\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"flat\":\"\",\"large\":\"\",\"color\":_vm.colors.red},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add\")])],1),_c('v-card',{attrs:{\"height\":\"90vh\"}},[_c('v-card-title',[_vm._l((_vm.buttons),function(b,index){return _c('v-tooltip',{key:index,attrs:{\"bottom\":\"\"}},[_c('template',{slot:\"activator\"},[_c('v-btn',{attrs:{\"fab\":\"\",\"depressed\":\"\",\"small\":\"\",\"color\":b.color},on:{\"click\":b.action}},[_c('v-icon',[_vm._v(_vm._s(b.icon))])],1)],1),_c('span',[_vm._v(_vm._s(b.tooltip))])],2)}),_c('span',{staticClass:\"title ml-4\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])],2),_c('v-card-text',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-layout',[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"flat\":\"\",\"small\":\"\",\"color\":_vm.colors.green},on:{\"click\":_vm.addNewConstraint}},[_c('v-icon',[_vm._v(\"add\")])],1),_vm._v(\" New constraint \"),_c('v-list',{attrs:{\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(\"Constraints\")]),_vm._l((_vm.constraints),function(constraint,index){return _c('div',{key:index},[_c('v-btn',{attrs:{\"fab\":\"\",\"flat\":\"\",\"small\":\"\",\"color\":_vm.colors.red},on:{\"click\":function($event){return _vm.constraints.splice(index, 1)}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-btn',{attrs:{\"flat\":\"\",\"fab\":\"\",\"small\":\"\",\"color\":constraint.negation ? _vm.colors.orange : _vm.colors.gray},on:{\"click\":function($event){constraint.negation = !constraint.negation}}},[(constraint.negation)?_c('v-icon',[_vm._v(\"indeterminate_check_box\")]):_c('v-icon',[_vm._v(\"check_box_outline_blank\")])],1),_c('span',[(!constraint.rule)?_c('ChooseRule',{attrs:{\"constraint\":constraint}}):(constraint.rule === _vm.rules.ACTUAL)?_c('ActualTargetClass',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.AGREE)?_c('ClassifiersAgree',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.PREDICTED)?_c('ClassifierPredicted',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.RIGHT)?_c('ClassifierRight',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.FEATURE_EQ)?_c('FeatureEquals',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.FEATURE_GT)?_c('FeatureGreaterThan',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.FEATURE_LT)?_c('FeatureLessThan',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):_c('span',[_vm._v(\" \"+_vm._s(constraint.rule)+\" \"+_vm._s(constraint.text)+\" \")])],1)],1)})],2)],1),_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('ConstrainedInstanceList',{attrs:{\"boxProps\":_vm.constrainedInstanceListBoxProps}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_vm._v(\" True target class was \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.target)?_c('span',[_vm._v(_vm._s(_vm.constraint.target))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.target))])]),_c('v-list',_vm._l((_vm.classes),function(target){return _c('v-list-tile',{key:target,on:{\"click\":function($event){_vm.constraint.target = target}}},[_c('v-list-tile-title',[_vm._v(_vm._s(target))])],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n} from '../../types';\n\nexport default Vue.extend({\n  name: 'ActualTargetClass',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActualTargetClass.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActualTargetClass.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ActualTargetClass.vue?vue&type=template&id=076bfdb4&\"\nimport script from \"./ActualTargetClass.vue?vue&type=script&lang=ts&\"\nexport * from \"./ActualTargetClass.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VList,VMenu})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_vm._v(\" Choose: \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.rule)?_c('span',[_vm._v(_vm._s(_vm.constraint.rule))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.rule))])]),_c('v-list',_vm._l((Object.values(_vm.rules).filter(function (p) { return p; })),function(item){return _c('v-list-tile',{key:item,on:{\"click\":function($event){_vm.constraint.rule = item}}},[_c('v-list-tile-title',[_vm._v(_vm._s(item))])],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\n\nexport default Vue.extend({\n  name: 'ChooseRule',\n  props: {\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChooseRule.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChooseRule.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChooseRule.vue?vue&type=template&id=1c69d330&\"\nimport script from \"./ChooseRule.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChooseRule.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VList,VMenu})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.classifier)?_c('span',[_vm._v(_vm._s(_vm.constraint.classifier))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.classifier))])]),_c('v-list',_vm._l((_vm.classifiers),function(classifier,index){return _c('v-list-tile',{key:index,on:{\"click\":function($event){_vm.constraint.classifier = classifier}}},[_c('v-list-tile-title',[_vm._v(_vm._s(classifier))])],1)}),1)],1),_vm._v(\" predicted \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.target)?_c('span',[_vm._v(_vm._s(_vm.constraint.target))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.target))])]),_c('v-list',_vm._l((_vm.classes),function(target){return _c('v-list-tile',{key:target,on:{\"click\":function($event){_vm.constraint.target = target}}},[_c('v-list-tile-title',[_vm._v(_vm._s(target))])],1)}),1)],1),_vm._v(\" target class \")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n} from '../../types';\n\nexport default Vue.extend({\n  name: 'ClassifierPredicted',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      return [...this.boxProps.classifiers];\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierPredicted.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierPredicted.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassifierPredicted.vue?vue&type=template&id=5eab5d60&\"\nimport script from \"./ClassifierPredicted.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClassifierPredicted.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VList,VMenu})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.classifier)?_c('span',[_vm._v(_vm._s(_vm.constraint.classifier))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.classifier))])]),_c('v-list',_vm._l((_vm.classifiers),function(classifier,index){return _c('v-list-tile',{key:index,on:{\"click\":function($event){_vm.constraint.classifier = classifier}}},[_c('v-list-tile-title',[_vm._v(_vm._s(classifier))])],1)}),1)],1),_vm._v(\" was right \")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n} from '../../types';\n\nexport default Vue.extend({\n  name: 'ClassifierRight',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    classifiers(): string[] {\n      return [...this.boxProps.classifiers];\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierRight.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierRight.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassifierRight.vue?vue&type=template&id=68b6756f&\"\nimport script from \"./ClassifierRight.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClassifierRight.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VList,VMenu})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.classifier)?_c('span',[_vm._v(_vm._s(_vm.constraint.classifier))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.classifier))])]),_c('v-list',_vm._l((_vm.classifiers),function(classifier,index){return _c('v-list-tile',{key:index,on:{\"click\":function($event){_vm.constraint.classifier = classifier}}},[_c('v-list-tile-title',[_vm._v(_vm._s(classifier))])],1)}),1)],1),_vm._v(\" and \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.classifier2)?_c('span',[_vm._v(_vm._s(_vm.constraint.classifier2))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.classifier))])]),_c('v-list',_vm._l((_vm.classifiers),function(classifier){return _c('v-list-tile',{key:classifier,on:{\"click\":function($event){_vm.constraint.classifier2 = classifier}}},[_c('v-list-tile-title',[_vm._v(_vm._s(classifier))])],1)}),1)],1),_vm._v(\" agree. \")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n} from '../../types';\n\nexport default Vue.extend({\n  name: 'ClassifiersAgree',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    classifiers(): string[] {\n      return [...this.boxProps.classifiers];\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifiersAgree.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifiersAgree.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassifiersAgree.vue?vue&type=template&id=08ebd274&\"\nimport script from \"./ClassifiersAgree.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClassifiersAgree.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VList,VMenu})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.feature)?_c('span',[_vm._v(_vm._s(_vm.constraint.feature))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.feature))])]),_c('v-list',_vm._l((_vm.features),function(feature){return _c('v-list-tile',{key:feature,on:{\"click\":function($event){_vm.constraint.feature = feature; _vm.constraint.value = ''}}},[_c('v-list-tile-title',[_vm._v(_vm._s(feature))])],1)}),1)],1),_vm._v(\" equals \"),_c('span',{staticClass:\"mx-3\"},[(!_vm.constraint.feature)?_c('span',[_vm._v(\" ... \")]):(_vm.isFeatureCategoricalOrNominal)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-autocomplete',{attrs:{\"hide-no-data\":\"\",\"items\":_vm.featureValues},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1)],1):(_vm.isFeatureOrdinal)?_c('span',[_vm._v(\" [ ordinal detected ] \")]):(_vm.isFeatureIntervalOrRatio)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-slider',{attrs:{\"always-dirty\":\"\",\"max\":_vm.featureValuesMax,\"min\":_vm.featureValuesMin,\"step\":_vm.featureValuesStep,\"thumb-label\":\"\",\"thumb-size\":\"70\"},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1),_vm._v(\" \"+_vm._s(_vm.constraint.value)+\" \")],1):_c('span',[_vm._v(\" \"+_vm._s(_vm.featureType)+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n  FeatureInterval,\n  FeatureRatio,\n} from '../../types';\nimport {\n  featureByName,\n  instanceById,\n} from '../../utils';\n\nexport default Vue.extend({\n  name: 'FeatureEquals',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    featureType(): string {\n      if (!this.constraint.feature) {\n        return '';\n      }\n      return featureByName(this.constraint.feature).type;\n    },\n    featureValues(): Array<unknown | number> {\n      if (!this.constraint.feature) {\n        return [];\n      }\n      const f = this.constraint.feature;\n      const values = this.instances.map((id) => {\n        const i = instanceById(id);\n        return i.features[f];\n      });\n      const valuesWithoutDuplicates = [...new Set(values)];\n      return valuesWithoutDuplicates;\n    },\n    featureValueBounds(): [number, number] {\n      const defaultBounds: [number, number] = [0, 0];\n      if (!this.constraint.feature) {\n        return defaultBounds;\n      }\n      const f = featureByName(this.constraint.feature);\n      const minMaxBounds = () => {\n        const values = this.featureValues as number[];\n        const bounds: [number, number] = [Math.min(...values), Math.max(...values)];\n        return bounds;\n      };\n      switch (this.featureType) {\n        case 'interval':\n          const boundsInterval = (f as FeatureInterval).bounds;\n          return boundsInterval\n            ? boundsInterval\n            : minMaxBounds();\n        case 'ratio':\n          const boundsRatio = (f as FeatureRatio).bounds;\n          return boundsRatio\n            ? boundsRatio\n            : minMaxBounds();\n        default:\n          return defaultBounds;\n      }\n    },\n    featureValuesMax(): number {\n      return this.featureValueBounds[1];\n    },\n    featureValuesMin(): number {\n      return this.featureValueBounds[0];\n    },\n    featureValuesStep(): number {\n      const range = this.featureValuesMax - this.featureValuesMin;\n      const step = range / 20;\n      return step;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    isFeatureCategoricalOrNominal(): boolean {\n      return ['categorical', 'nominal'].includes(this.featureType);\n    },\n    isFeatureOrdinal(): boolean {\n      return this.featureType === 'ordinal';\n    },\n    isFeatureIntervalOrRatio(): boolean {\n      return ['interval', 'ratio'].includes(this.featureType);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureEquals.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureEquals.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FeatureEquals.vue?vue&type=template&id=08fbd3cc&\"\nimport script from \"./FeatureEquals.vue?vue&type=script&lang=ts&\"\nexport * from \"./FeatureEquals.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VAutocomplete,VBtn,VFlex,VList,VMenu,VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.feature)?_c('span',[_vm._v(_vm._s(_vm.constraint.feature))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.feature))])]),_c('v-list',_vm._l((_vm.features),function(feature){return _c('v-list-tile',{key:feature,on:{\"click\":function($event){_vm.constraint.feature = feature; _vm.constraint.value = ''}}},[_c('v-list-tile-title',[_vm._v(_vm._s(feature))])],1)}),1)],1),_vm._v(\" greater than \"),_c('span',{staticClass:\"mx-3\"},[(!_vm.constraint.feature)?_c('span',[_vm._v(\" ... \")]):(_vm.isFeatureCategoricalOrNominal)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-autocomplete',{attrs:{\"hide-no-data\":\"\",\"items\":_vm.featureValues},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1)],1):(_vm.isFeatureOrdinal)?_c('span',[_vm._v(\" [ ordinal detected ] \")]):(_vm.isFeatureIntervalOrRatio)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-slider',{attrs:{\"always-dirty\":\"\",\"max\":_vm.featureValuesMax,\"min\":_vm.featureValuesMin,\"step\":_vm.featureValuesStep,\"thumb-label\":\"\",\"thumb-size\":\"70\"},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1),_vm._v(\" \"+_vm._s(_vm.constraint.value)+\" \")],1):_c('span',[_vm._v(\" \"+_vm._s(_vm.featureType)+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n  FeatureInterval,\n  FeatureRatio,\n} from '../../types';\nimport {\n  featureByName,\n  instanceById,\n} from '../../utils';\n\nexport default Vue.extend({\n  name: 'FeatureGreaterThan',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    features(): string[] {\n      const allFeatures: string[] = [...this.boxProps.features];\n      const allowedTypes = ['ordinal', 'interval', 'ratio'];\n      const allowedFeatures = allFeatures.filter((featureName) => {\n        const f = featureByName(featureName);\n        return allowedTypes.includes(f.type);\n      });\n      return allowedFeatures;\n    },\n    featureType(): string {\n      if (!this.constraint.feature) {\n        return '';\n      }\n      return featureByName(this.constraint.feature).type;\n    },\n    featureValues(): Array<unknown | number> {\n      if (!this.constraint.feature) {\n        return [];\n      }\n      const f = this.constraint.feature;\n      const values = this.instances.map((id) => {\n        const i = instanceById(id);\n        return i.features[f];\n      });\n      const valuesWithoutDuplicates = [...new Set(values)];\n      return valuesWithoutDuplicates;\n    },\n    featureValueBounds(): [number, number] {\n      const defaultBounds: [number, number] = [0, 0];\n      if (!this.constraint.feature) {\n        return defaultBounds;\n      }\n      const f = featureByName(this.constraint.feature);\n      const minMaxBounds = () => {\n        const values = this.featureValues as number[];\n        const bounds: [number, number] = [Math.min(...values), Math.max(...values)];\n        return bounds;\n      };\n      switch (this.featureType) {\n        case 'interval':\n          const boundsInterval = (f as FeatureInterval).bounds;\n          return boundsInterval\n            ? boundsInterval\n            : minMaxBounds();\n        case 'ratio':\n          const boundsRatio = (f as FeatureRatio).bounds;\n          return boundsRatio\n            ? boundsRatio\n            : minMaxBounds();\n        default:\n          return defaultBounds;\n      }\n    },\n    featureValuesMax(): number {\n      return this.featureValueBounds[1];\n    },\n    featureValuesMin(): number {\n      return this.featureValueBounds[0];\n    },\n    featureValuesStep(): number {\n      const range = this.featureValuesMax - this.featureValuesMin;\n      const step = range / 20;\n      return step;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    isFeatureCategoricalOrNominal(): boolean {\n      return ['categorical', 'nominal'].includes(this.featureType);\n    },\n    isFeatureOrdinal(): boolean {\n      return this.featureType === 'ordinal';\n    },\n    isFeatureIntervalOrRatio(): boolean {\n      return ['interval', 'ratio'].includes(this.featureType);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureGreaterThan.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureGreaterThan.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FeatureGreaterThan.vue?vue&type=template&id=17e13d93&\"\nimport script from \"./FeatureGreaterThan.vue?vue&type=script&lang=ts&\"\nexport * from \"./FeatureGreaterThan.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VAutocomplete,VBtn,VFlex,VList,VMenu,VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.feature)?_c('span',[_vm._v(_vm._s(_vm.constraint.feature))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.feature))])]),_c('v-list',_vm._l((_vm.features),function(feature){return _c('v-list-tile',{key:feature,on:{\"click\":function($event){_vm.constraint.feature = feature; _vm.constraint.value = ''}}},[_c('v-list-tile-title',[_vm._v(_vm._s(feature))])],1)}),1)],1),_vm._v(\" less than \"),_c('span',{staticClass:\"mx-3\"},[(!_vm.constraint.feature)?_c('span',[_vm._v(\" ... \")]):(_vm.isFeatureCategoricalOrNominal)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-autocomplete',{attrs:{\"hide-no-data\":\"\",\"items\":_vm.featureValues},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1)],1):(_vm.isFeatureOrdinal)?_c('span',[_vm._v(\" [ ordinal detected ] \")]):(_vm.isFeatureIntervalOrRatio)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-slider',{attrs:{\"always-dirty\":\"\",\"max\":_vm.featureValuesMax,\"min\":_vm.featureValuesMin,\"step\":_vm.featureValuesStep,\"thumb-label\":\"\",\"thumb-size\":\"70\"},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1),_vm._v(\" \"+_vm._s(_vm.constraint.value)+\" \")],1):_c('span',[_vm._v(\" \"+_vm._s(_vm.featureType)+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n  FeatureInterval,\n  FeatureRatio,\n} from '../../types';\nimport {\n  featureByName,\n  instanceById,\n} from '../../utils';\n\nexport default Vue.extend({\n  name: 'FeatureLessThan',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    features(): string[] {\n      const allFeatures: string[] = [...this.boxProps.features];\n      const allowedTypes = ['ordinal', 'interval', 'ratio'];\n      const allowedFeatures = allFeatures.filter((featureName) => {\n        const f = featureByName(featureName);\n        return allowedTypes.includes(f.type);\n      });\n      return allowedFeatures;\n    },\n    featureType(): string {\n      if (!this.constraint.feature) {\n        return '';\n      }\n      return featureByName(this.constraint.feature).type;\n    },\n    featureValues(): Array<unknown | number> {\n      if (!this.constraint.feature) {\n        return [];\n      }\n      const f = this.constraint.feature;\n      const values = this.instances.map((id) => {\n        const i = instanceById(id);\n        return i.features[f];\n      });\n      const valuesWithoutDuplicates = [...new Set(values)];\n      return valuesWithoutDuplicates;\n    },\n    featureValueBounds(): [number, number] {\n      const defaultBounds: [number, number] = [0, 0];\n      if (!this.constraint.feature) {\n        return defaultBounds;\n      }\n      const f = featureByName(this.constraint.feature);\n      const minMaxBounds = () => {\n        const values = this.featureValues as number[];\n        const bounds: [number, number] = [Math.min(...values), Math.max(...values)];\n        return bounds;\n      };\n      switch (this.featureType) {\n        case 'interval':\n          const boundsInterval = (f as FeatureInterval).bounds;\n          return boundsInterval\n            ? boundsInterval\n            : minMaxBounds();\n        case 'ratio':\n          const boundsRatio = (f as FeatureRatio).bounds;\n          return boundsRatio\n            ? boundsRatio\n            : minMaxBounds();\n        default:\n          return defaultBounds;\n      }\n    },\n    featureValuesMax(): number {\n      return this.featureValueBounds[1];\n    },\n    featureValuesMin(): number {\n      return this.featureValueBounds[0];\n    },\n    featureValuesStep(): number {\n      const range = this.featureValuesMax - this.featureValuesMin;\n      const step = range / 20;\n      return step;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    isFeatureCategoricalOrNominal(): boolean {\n      return ['categorical', 'nominal'].includes(this.featureType);\n    },\n    isFeatureOrdinal(): boolean {\n      return this.featureType === 'ordinal';\n    },\n    isFeatureIntervalOrRatio(): boolean {\n      return ['interval', 'ratio'].includes(this.featureType);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureLessThan.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureLessThan.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FeatureLessThan.vue?vue&type=template&id=431596c0&\"\nimport script from \"./FeatureLessThan.vue?vue&type=script&lang=ts&\"\nexport * from \"./FeatureLessThan.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VAutocomplete,VBtn,VFlex,VList,VMenu,VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"instance-list-title\"},[_vm._v(\" Query selects \"),_c('b',[_vm._v(_vm._s(_vm.instances.length)+\" \")]),_vm._v(\" instances ( or \"),_c('b',[_vm._v(_vm._s(_vm.instancePercentage))]),_vm._v(\" % ) \")]),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.instances,\"pagination\":_vm.pagination,\"disable-initial-sort\":\"\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('tr',{class:{'hover-instance': props.item === _vm.$store.state.hoverInstance},style:(_vm.styleTableRow(props.item))},[_c('td',[_vm._v(_vm._s(props.item.id))]),_c('td',[_vm._v(_vm._s(props.item.actual))]),_vm._l((_vm.classifiers),function(classifier){return _c('td',{key:classifier},[_vm._v(\" \"+_vm._s(props.item.predictions[classifier])+\" \")])}),_vm._l((_vm.features),function(feature){return _c('td',{key:feature},[_vm._v(\" \"+_vm._s(props.item.features[feature])+\" \")])})],2)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { colors } from '../theme';\nimport {\n  BoxProps,\n  Instance,\n  InstanceWithId,\n  SelectionRecord,\n} from '../types';\nimport { instanceById } from '../utils';\nimport Vue from 'vue';\nimport { mapActions } from 'vuex';\n\ninterface Header {\n  text: string;\n  value: string;\n}\n\nexport default Vue.extend({\n  name: 'ConstrainedInstanceList',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      sortBy: '' as '' | 'first' | 'second' | 'common',\n      pagination: {\n        rowsPerPage: 10,\n      },\n    };\n  },\n  computed: {\n    classifiers(): string[] {\n      return [...this.boxProps.classifiers];\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    headers(): Header[] {\n      const headers = [\n        { text: 'Id', value: 'id' },\n        { text: 'Actual class', value: 'actualClass' },\n      ];\n      this.classifiers.forEach((classifier: string) => {\n        headers.push({\n          text: classifier.replace(/_/g, ' '),\n          value: classifier,\n        });\n      });\n      this.$store.getters.features.forEach((feature: string) => {\n        headers.push({\n          text: feature,\n          value: feature,\n        });\n      });\n      return headers;\n    },\n    instancePercentage(): string {\n      const part = this.instances.length;\n      const whole = this.$store.getters.instances.size;\n      const percentage = (part / whole * 100).toFixed(2);\n      return percentage;\n    },\n    instances(): InstanceWithId[] {\n      const instances: InstanceWithId[] = [];\n      [...this.boxProps.instances].forEach((id: string) => {\n        const i = instanceById(id);\n        const instance: InstanceWithId = {\n          id,\n          ...i,\n        };\n        instances.push(instance);\n      });\n\n      const { first, second } = this.selections;\n      const comparators = {\n        first: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n        second: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n        common: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n      };\n      if (this.sortBy) {\n        instances.sort(comparators[this.sortBy]);\n      }\n\n      return instances;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n  },\n  watch: {\n    selections() {\n      const { first, second } = this.selections;\n      if (first && second) {\n        this.sortBy = 'common';\n      } else if (first) {\n        this.sortBy = 'first';\n      } else if (second) {\n        this.sortBy = 'second';\n      } else {\n        this.sortBy = '';\n      }\n    },\n  },\n  methods: {\n    ...mapActions([\n      'changedHoverInstance',\n      'clearHoverInstance',\n    ]),\n    select(\n      id: string,\n      whichOverlap: 'first' | 'second',\n    ) {\n      const instances = new Set([id]);\n      const description = `Instance #${id}`;\n\n      this.$store.dispatch('prependToSelectionHistory', { instances, description });\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    styleTableRow(instance: InstanceWithId) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.selections;\n      const isFirst = (firstSelection && firstSelection.instances.has(instance.id));\n      const isSecond = (secondSelection && secondSelection.instances.has(instance.id));\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConstrainedInstanceList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConstrainedInstanceList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConstrainedInstanceList.vue?vue&type=template&id=6acec799&scoped=true&\"\nimport script from \"./ConstrainedInstanceList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConstrainedInstanceList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConstrainedInstanceList.vue?vue&type=style&index=0&id=6acec799&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6acec799\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VDataTable})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport ActualTargetClass from './constraints/ActualTargetClass.vue';\nimport ChooseRule from './constraints/ChooseRule.vue';\nimport ClassifierPredicted from './constraints/ClassifierPredicted.vue';\nimport ClassifierRight from './constraints/ClassifierRight.vue';\nimport ClassifiersAgree from './constraints/ClassifiersAgree.vue';\nimport FeatureEquals from './constraints/FeatureEquals.vue';\nimport FeatureGreaterThan from './constraints/FeatureGreaterThan.vue';\nimport FeatureLessThan from './constraints/FeatureLessThan.vue';\n\nimport ConstrainedInstanceList from '@/components/ConstrainedInstanceList.vue';\n\nimport {\n  BoxProps,\n  Instance,\n} from '../types';\nimport { instanceById } from '../utils';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n  PredicateSimple,\n} from './constraints/types';\nimport {\n  blankConstraint,\n  constraintToString,\n  createFilter,\n  isConstraintComplete,\n} from './constraints/utils';\n\nexport default Vue.extend({\n  name: 'QueryGenerator',\n  components: {\n    ActualTargetClass,\n    ChooseRule,\n    ClassifierRight,\n    ClassifierPredicted,\n    ClassifiersAgree,\n    ConstrainedInstanceList,\n    FeatureEquals,\n    FeatureGreaterThan,\n    FeatureLessThan,\n  },\n  data() {\n    return {\n      colors: {\n        gray: '#bbbbbb',\n        green: '#0F0',\n        orange: '#ffc400',\n        red: '#F00',\n        yellow: '#FFEB3B',\n      },\n      dialog: false,\n      constraints: [] as Constraint[],\n      rules: Rule,\n      placeholders: PlaceHolder,\n      title: 'Query Creator',\n    };\n  },\n  computed: {\n    buttons(): any {\n      const buttons = [\n        {\n          action: this.discardQuery,\n          color: this.colors.red,\n          icon: 'close',\n          tooltip: `Discard constraints and close ${this.title}`,\n        },\n        {\n          action: this.resetQuery,\n          color: this.colors.yellow,\n          icon: 'refresh',\n          tooltip: `Start from scratch`,\n        },\n        {\n          action: this.saveQuery,\n          color: this.colors.green,\n          icon: 'check',\n          tooltip: `Save constraints as a query and close ${this.title}`,\n        },\n      ];\n      return buttons;\n    },\n    classifiers(): string[] {\n      return [...this.$store.getters.classifiers];\n    },\n    classes(): string[] {\n      return [...this.$store.getters.classes];\n    },\n    constrainedInstances(): string[] {\n      let instances = this.instances;\n      this.constraints.forEach((constraint) => {\n        const filter = createFilter(constraint);\n        instances = instances.filter(filter);\n      });\n      return instances;\n    },\n    thresholdClassifierNameList(): [] {\n      return this.$store.getters.thresholdClassifierNameList\n    },\n    classifierBandWidthDict(): {} {\n      return this.$store.getters.classifierBandWidthDict\n    },\n    constrainedInstanceListBoxProps(): BoxProps {\n      return {\n        classes: new Set(this.classes),\n        classifiers: new Set(this.classifiers),\n        features: new Set(this.features),\n        instances: new Set(this.constrainedInstances),\n        thresholdClassifierNameList: this.thresholdClassifierNameList,\n        classifierBandWidthDict:this.classifierBandWidthDict,\n      };\n    },\n    features(): string[] {\n      return [...this.$store.getters.features];\n    },\n    instances(): string[] {\n      return [...this.$store.getters.instances];\n    },\n    regularBoxProps(): BoxProps {\n      return {\n        classes: new Set(this.classes),\n        classifiers: new Set(this.classifiers),\n        features: new Set(this.features),\n        instances: new Set(this.instances),\n        thresholdClassifierNameList: this.thresholdClassifierNameList,\n        classifierBandWidthDict:this.classifierBandWidthDict,\n      };\n    },\n  },\n  methods: {\n    addNewConstraint() {\n      const constraint = blankConstraint();\n      this.constraints.unshift(constraint);\n    },\n    closeDialog() {\n      this.dialog = false;\n    },\n    discardQuery() {\n      this.closeDialog();\n      this.resetQuery();\n    },\n    isQueryComplete() {\n      return this.constraints.every(isConstraintComplete);\n    },\n    resetQuery() {\n      this.constraints = [];\n    },\n    saveQuery() {\n      if (!this.isQueryComplete()) {\n        alert('Please delete or fill incomplete constraints before saving.');\n        return;\n      }\n      const instances = new Set(this.constrainedInstances);\n      const descriptions: string[] = [];\n      this.constraints.forEach((constraint) => {\n        descriptions.push(constraintToString(constraint));\n      });\n\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: this.constraints,\n        metric:[],\n      };\n      const fullDescription = descriptions.join(' AND ');\n\n      const payload = {\n        description: fullDescription,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.closeDialog();\n      this.resetQuery();\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryGenerator.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryGenerator.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./QueryGenerator.vue?vue&type=template&id=f67b8332&\"\nimport script from \"./QueryGenerator.vue?vue&type=script&lang=ts&\"\nexport * from \"./QueryGenerator.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VContainer,VDialog,VFlex,VIcon,VLayout,VList,VSubheader,VTooltip})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport InstanceVennDiagram from './InstanceVennDiagram.vue';\nimport QueryGenerator from '../QueryGenerator.vue';\n\nimport {\n  SelectionRecord,\n  SetCompose,\n} from '../../types';\nimport { colors } from '../../theme';\nimport {\n  difference,\n  intersection,\n  union,\n  xor,\n} from '../../utils';\nimport { compareFeatureInterestingness } from '../constraints/utils';\n\nexport default Vue.extend({\n  name: 'SetHistory',\n  components: {\n    InstanceVennDiagram,\n    QueryGenerator,\n  },\n  data() {\n    const { first, second } = colors.overlapSelections;\n    const headers = this.$store.state.datasetType == 'continuous' ? [\n        { text: 'Id', value: 'id' },\n        { text: 'Size', value: 'size' },\n        { text: 'Description', value: 'description' },\n        { text: 'Weight (1-10)', value: 'weight' },\n      ]:[\n        { text: 'Id', value: 'id' },\n        { text: 'Size', value: 'size' },\n        { text: 'Description', value: 'description' },\n      ];\n    return {\n      colors,\n      headers,\n      operations: [\n        {\n          id: SetCompose.OR,\n          description: 'Union',\n          function: union,\n          icon: '',\n        },\n        {\n          id: SetCompose.AND,\n          description: 'Intersection',\n          function: intersection,\n          icon: '',\n        },\n        {\n          id: SetCompose.MINUS,\n          description: 'Difference',\n          function: difference,\n          icon: '',\n          style: `\n            background: -webkit-linear-gradient(left, ${first} 50%, ${second} 50%);\n          `,\n        },\n        {\n          id: SetCompose.XOR,\n          description: 'Exclusive Or',\n          function: xor,\n          icon: '',\n        },\n      ],\n      pagination: {\n        rowsPerPage: 10,\n      },\n    };\n  },\n  computed: {\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    selectionHistory(): SelectionRecord[] {\n      let selectionHistory = this.$store.state.selectionHistory;\n\n      // selectionHistory.forEach((i)=>{\n      //   if (selectionHistory)\n      //   i['weight'] = 0\n      // })\n      return selectionHistory;\n    },\n  },\n  methods: {\n    resetWeight() {\n      this.$store.dispatch('updateWeightedMode')\n      this.selectionHistory.forEach((i)=>{\n        i['weight'] = 0\n      })\n    },\n    \n    continuousChange() {\n      if (this.datasetType == 'continuous') {\n        this.$store.dispatch(\"changedContinuousMetrics\");\n        this.$store.dispatch('updateContinuousMetrics');\n      }\n    },\n    compareFeatureInterestingness,\n    composeUserSelections(type: SetCompose) {\n      const {first, second} = this.overlapSelections;\n      if (first === null || second == null) {\n        console.error('Both user selections must be non-null for composition.');\n        return;\n      }\n      const operation = this.operations.find((op) => op.id === type);\n      if (operation === undefined) {\n        console.error('Invalid set composition operation.');\n        return;\n      }\n      const composition: Set<string> = operation.function(first.instances, second.instances);\n      const payload = {\n        instances: composition,\n        description: `${type}(s${first.id}, s${second.id})`,\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n    },\n    clearOverlapSelections() {\n      this.setOverlapSelection({ whichOverlap: 'first', selection: null });\n      this.setOverlapSelection({ whichOverlap: 'second', selection: null });\n    },\n    overlapSelectionDescription(whichOverlap: 'first' | 'second') {\n      const firstOverlapSelection = this.overlapSelections[whichOverlap];\n      if (firstOverlapSelection === null) {\n        return '?';\n      }\n      return `${firstOverlapSelection.id}`;\n    },\n    changedBaseSelection(selection: SelectionRecord) {\n      this.$store.dispatch('changedBaseSelection', selection);\n    },\n    setOverlapSelection(\n      payload: {\n        selection: SelectionRecord | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      this.$store.dispatch('changedOverlapSelection', payload);\n    },\n    styleTableRow(record: SelectionRecord) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.overlapSelections;\n      const isFirst = (firstSelection && firstSelection.id === record.id);\n      const isSecond = (secondSelection && secondSelection.id === record.id);\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetHistory.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetHistory.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SetHistory.vue?vue&type=template&id=fc83529a&scoped=true&\"\nimport script from \"./SetHistory.vue?vue&type=script&lang=ts&\"\nexport * from \"./SetHistory.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SetHistory.vue?vue&type=style&index=0&id=fc83529a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc83529a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VBtn,VDataTable,VList,VListItem,VListItemTitle,VMenu,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-content',[_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"all-instance\",\"color\":_vm.subset === 'all' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.allInstance}},[_vm._v(\"All\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"first-instance\",\"color\":_vm.subset === 'first' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.firstInstance}},[_vm._v(\"Selection 1\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"second-instance\",\"color\":_vm.subset === 'second' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.secondInstance}},[_vm._v(\"Selection 2\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"intersection-instance\",\"color\":_vm.subset === 'intersection' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.intersectionInstance}},[_vm._v(\"Intersection\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"union-instance\",\"color\":_vm.subset === 'union' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.unionInstance}},[_vm._v(\"Union\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"complement-instance\",\"color\":_vm.subset === 'complement' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.complementInstance}},[_vm._v(\"Complement of 1 Union 2\")])],1)],1)],1),_c('v-list',{attrs:{\"id\":\"item-container\"}},[_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.prevInstance(_vm.instances)}}},[_vm._v(\"Previous\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.nextInstance(_vm.instances)}}},[_vm._v(\"Next\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.randInstance(_vm.instances)}}},[_vm._v(\"Random\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":_vm.emphasize}},[_vm._v(\"Emphasize\")]),(_vm.focus(_vm.instances).features.image)?_c('v-img',{attrs:{\"contain\":\"\",\"src\":_vm.focus(_vm.instances).features.image}}):_vm._e(),_vm._l((_vm.focus(_vm.instances)),function(value,name){return _c('v-list-item',{key:value.id,attrs:{\"id\":\"v-for-object\"}},[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(_vm._s(name))]),(typeof value === 'object')?_vm._l((value),function(v,n){return _c('v-list',{key:n,attrs:{\"id\":\"v-for-object\"}},[_vm._v(\" \"+_vm._s(n)+\": \"+_vm._s(v)+\" \")])}):[_vm._v(_vm._s(value))]],2)],1)}),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.prevInstance(_vm.instances)}}},[_vm._v(\"Previous\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.nextInstance(_vm.instances)}}},[_vm._v(\"Next\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.randInstance(_vm.instances)}}},[_vm._v(\"Random\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":_vm.emphasize}},[_vm._v(\"Emphasize\")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { colors } from \"../../theme\";\nimport {\n  Instance,\n  InstanceWithId,\n  SelectionRecord,\n  BoxProps,\n} from \"../../types\";\nimport { instanceById } from \"../../utils\";\nimport Vue from \"vue\";\nimport { mapActions } from \"vuex\";\nimport { isConstraintComplete } from \"../constraints/utils\";\n\ninterface Header {\n  text: string;\n  value: string;\n}\n\nexport default Vue.extend({\n  name: \"InstanceList\",\n  data() {\n    return {\n      panel: [],\n      sortby: [],\n      sortBySel: \"\" as \"\" | \"first\" | \"second\" | \"common\",\n      descending: false,\n      show_predictions: true,\n      show_features: true,\n      string_length: 7,\n      currentIndex: 0,\n      subset: \"all\",\n    };\n  },\n  mounted() {\n    this.$store.dispatch(\"setFocusItem\", this.instances[this.currentIndex].id);\n    this.$store.dispatch(\"changeFocusSet\", this.subset);\n  },\n  computed: {\n    instances(): InstanceWithId[] {\n      let instances: InstanceWithId[] = [];\n\n      this.$store.getters.filteredInstances.forEach((id: string) => {\n        const i = instanceById(id);\n        const instance: InstanceWithId = {\n          id,\n          ...i,\n        };\n        instances.push(instance);\n      });\n\n      // get subset depending on the button clicked\n      const { first, second } = this.selections;\n\n      if (this.subset !== \"all\") {\n        let selection = [];\n        if (this.subset === \"first\") {\n          if (first)\n            for (const id of first.instances)\n              selection.push(instances.find((x) => x.id === id));\n          else {\n            this.currentIndex = -1;\n            alert(\"no selection\");\n          }\n        } else if (this.subset === \"second\") {\n          if (second)\n            for (const id of second.instances)\n              selection.push(instances.find((x) => x.id === id));\n          else {\n            this.currentIndex = -1;\n            alert(\"no second set of selection\");\n          }\n        } else if (first && second) {\n          if (this.subset === \"intersection\") {\n            for (const id of first.instances) {\n              if (second.instances.has(id)) {\n                // console.log(id);\n                selection.push(instances.find((x) => x.id === id));\n              }\n            }\n          } else if (this.subset === \"union\") {\n            for (const id of first.instances)\n              selection.push(instances.find((x) => x.id === id));\n            for (const id of second.instances)\n              if (!first.instances.has(id))\n                selection.push(instances.find((x) => x.id === id));\n          } else if (this.subset === \"complement\") {\n            for (const instance of instances) {\n              if (\n                !first.instances.has(instance.id) &&\n                !second.instances.has(instance.id)\n              )\n                selection.push(instance);\n            }\n          }\n        } else {\n          this.currentIndex = -1;\n          alert(\"two selected sets are required to perform this action\");\n        }\n        return selection;\n      }\n      return instances;\n    },\n\n    selections(): {\n      first: SelectionRecord | null;\n      second: SelectionRecord | null;\n    } {\n      return this.$store.state.overlapSelections;\n    },\n  },\n  watch: {\n    currentIndex() {\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.currentIndex < 0 ? null : this.instances[this.currentIndex].id\n      );\n    },\n    selections() {\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.currentIndex < 0 ? null : this.instances[this.currentIndex].id\n      );\n    },\n    onClose() {\n      console.log(\"focus closed\");\n    },\n  },\n  methods: {\n    // ...mapActions([\"updateHoverInstance\", \"clearHoverInstance\"]),\n    // shorten(feature) {\n    //   let stringFeature = \"\" + feature;\n    //   if (stringFeature.length > this.string_length) {\n    //     return stringFeature.substring(0, this.string_length) + \"...\";\n    //   } else {\n    //     return stringFeature;\n    //   }\n    // },\n    /*\n      Focus object getter\n    */\n    focus(instances) {\n      // console.log(instances[this.currentIndex])\n      return instances[this.currentIndex];\n    },\n    imageDimensions(url){\n      const scale = 4\n      console.log(url)\n      if(url){\n        const image = new Image()\n        image.src = url\n        console.log(image.width, image.height)\n        return [image.width*scale, image.height*scale]\n      }\n      else{\n        return [Infinity,Infinity]\n      }\n    },\n\n    /*\n      Navigation button handlers.\n    */\n    prevInstance(instances) {\n      if (this.currentIndex > 0) this.currentIndex--;\n      else this.currentIndex = instances.length - 1;\n    },\n    nextInstance(instances) {\n      if (this.currentIndex < instances.length - 1) this.currentIndex++;\n      else this.currentIndex = 0;\n    },\n    randInstance(instances) {\n      this.currentIndex = Math.floor(Math.random() * instances.length);\n    },\n    /*\n      Expanded panel button handlers.\n      Handles subset selection.\n    */\n    allInstance() {\n      this.currentIndex = 0;\n      this.subset = \"all\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    firstInstance() {\n      this.currentIndex = 0;\n      this.subset = \"first\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    secondInstance() {\n      this.currentIndex = 0;\n      this.subset = \"second\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    intersectionInstance() {\n      this.currentIndex = 0;\n      this.subset = \"intersection\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    unionInstance() {\n      this.currentIndex = 0;\n      this.subset = \"union\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    complementInstance() {\n      this.currentIndex = 0;\n      this.subset = \"complement\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    emphasize() {\n      this.$store.dispatch(\"emphasizeFocus\");\n      \n\n    },\n    // pilot() {\n    //   console.log(\n    //     \"first\",\n    //     this.selections.first ? this.selections.first.instances : \"null\"\n    //   );\n    //   console.log(\n    //     \"second\",\n    //     this.selections.second ? this.selections.second.instances : \"null\"\n    //   );\n    // },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItemSide.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItemSide.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FocusItemSide.vue?vue&type=template&id=7b9cb289&scoped=true&\"\nimport script from \"./FocusItemSide.vue?vue&type=script&lang=ts&\"\nexport * from \"./FocusItemSide.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FocusItemSide.vue?vue&type=style&index=0&id=7b9cb289&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b9cb289\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VExpansionPanel,VExpansionPanelContent,VExpansionPanels,VImg,VList,VListItem,VListItemContent,VListItemSubtitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-list',_vm._l((_vm.$store.state.views.all),function(view){return _c('v-list-item',{key:view},[_c('v-list-item-icon',[_c('v-icon',{on:{\"click\":function () { return _vm.$store.dispatch('openView', view); }}},[_vm._v(\"add_box\")])],1),_c('v-list-item-title',[_vm._v(_vm._s(view))])],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  name: 'ViewList',\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ViewList.vue?vue&type=template&id=0e36bb2f&\"\nimport script from \"./ViewList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ViewList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VIcon,VList,VListItem,VListItemIcon,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}}),_c('label',[_vm._v(\"Threshold select \")]),_c('multiselect',{attrs:{\"tag-placeholder\":\"Add this as new threshold\",\"placeholder\":\"Add a threshold\",\"label\":\"name\",\"track-by\":\"name\",\"options\":_vm.options,\"multiple\":true,\"taggable\":true},on:{\"tag\":_vm.addTag},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport Multiselect from 'vue-multiselect'\nVue.component('multiselect', Multiselect)\nimport {\n  EntityType,\n  SelectionAction,\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n  thresholdSelectionRecord,\n} from '../../../types';\nimport { colors } from '../../../theme';\nexport default Vue.extend({\n  name: 'ContinuousMode',\n  data() {\n    const sliderRange = {\n      type: '' as 'from' | 'to',\n      classifier: '',\n      value: 0,\n    };\n    const curAddedThresholdClassifier = {\n      classifier: '',\n      threshold: 0.5,\n    };\n    return {\n      sliderRange,\n      thresholdRange: {},      \n      panel: [] as string[],\n      threshold: 0,\n      value: [] as string[],\n      curAddedThresholdClassifier,\n      options:[],\n    };\n  },\n  computed: {\n    viewsConfig():any[]{\n      return this.$store.state.viewsConfig;\n    },\n    classifierThresholdDict():{} {\n      return this.$store.state.classifierThresholdDict\n    },\n    curveClassifiers() {\n      return this.$store.getters.curveClassifiers;\n    },\n    classifierThresholdCurve() {\n      return this.$store.getters.curveChosenClassifierThresholdTuple;\n    },\n    addedThresholdClassifiers():[] {\n      let addedThresholdClassifiers = this.$store.state.addedThresholdClassifiers\n      if (addedThresholdClassifiers === null ) {\n        addedThresholdClassifiers = []\n      }\n      return addedThresholdClassifiers;\n    },\n    classifierThresholdList(): ThresholdWithClassifier[] {\n      return this.$store.getters.classifierThresholdList\n    },\n    classifiers(): {} {\n      return this.$store.getters.classifiers;\n    },\n    instances(): string[] {\n      return [...this.$store.getters.filteredInstances];\n    }, \n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 400])\n          .range([10, 410])\n          .clamp(true);\n      return xScale;      \n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      const classifiers = this.classifierThresholdList.map((c)=>c.classifier);\n      classifiers.forEach((c)=>{\n        if (Object.keys(this.classifierThresholdDict).includes(c)) {\n          if (this.classifierThresholdDict[c] / 100 != 0.5) {\n            setTimeout(() => {\n              this.sliderRange =({type:\"from\", classifier:c, value: this.classifierThresholdDict[c] * 4})\n            }, 500);\n          }\n        }\n      })\n    },\n    viewsConfig() {\n      const classifiers = this.classifierThresholdList.map((c)=>c.classifier);\n      classifiers.forEach((c)=>{\n        if (Object.keys(this.classifierThresholdDict).includes(c)) {\n          if (this.classifierThresholdDict[c] / 100 != 0.5) {\n            setTimeout(() => {\n              this.sliderRange =({type:\"from\", classifier:c, value: this.classifierThresholdDict[c] * 4})\n            }, 100);\n          }\n        }\n      })\n      \n    },\n    classifierThresholdCurve() {\n      this.drawUpdateRangesCurve();\n    },\n    sliderRange() {\n      this.drawUpdateRanges();\n    },\n    classifiers() {\n      if (this.$store.state.datasetType == \"continuous\") {\n        this.drawInitial();\n      }\n    },\n    curAddedThresholdClassifier() {\n      this.value.push({name:\"set_\"+this.curAddedThresholdClassifier.classifier + \"_\"+parseFloat(this.curAddedThresholdClassifier.threshold).toFixed(2)})\n      this.options.push({name:\"set_\"+this.curAddedThresholdClassifier.classifier + \"_\"+parseFloat(this.curAddedThresholdClassifier.threshold).toFixed(2)})\n      this.$store.dispatch('changedCurAddedThresholdClassifier', this.curAddedThresholdClassifier)\n    },\n    value() {\n      this.$store.dispatch('changedAddedThresholdClassifiers', this.value)\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n\n  methods: {\n    addTag (newTag) {\n      const tag = {\n        name: newTag,\n      }\n      this.options.push(tag)\n      this.value.push(tag)\n    },\n    drawUpdateRangesCurve() {\n      const classifier = this.classifierThresholdCurve.classifier;\n      const value = this.classifierThresholdCurve.single_threshold;\n      this.sliderRange =({type:\"from\", classifier:classifier, value: value * 4})\n    },\n    drawUpdateRanges() {\n      const classifier = this.sliderRange.classifier;\n      const value = this.sliderRange.value;\n      const pre_value = this.thresholdRange[classifier];\n      const flag = (value/400).toFixed(2) != pre_value ? 1 : 0;\n\n      let tmp = {};\n      for(let c in this.thresholdRange) {\n        tmp[c] = this.thresholdRange[c]\n      }\n\n      const chart = d3.select(this.$refs.svg);\n      const range = chart.select('.slider-head-'+classifier)\n      const range_text = chart.select(\".slider-text-\"+classifier)\n      var cur_from = value / 400\n      tmp[classifier] = cur_from < 0 ? 0 \n                        :cur_from > 1 ? 1 : cur_from.toFixed(2);\n      \n      this.thresholdRange = tmp\n\n\n      range.attr('transform', 'translate(' + this.xScale(value) + ', 55)') \n      range_text.text((d:string)=>classifier+\": \"+this.thresholdRange[classifier])\n      \n      let changedClassifier = {\"classifier\":classifier, \"single_threshold\": this.thresholdRange[classifier] * 100};\n      if (flag == 1) {\n        this.$store.dispatch(\"changedContinuousThreshold\",changedClassifier)\n      }\n    },\n    drawInitial() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${140*this.classifierThresholdList.length+20}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${0})`);\n      \n      const classifierThresholdDict = this.classifierThresholdDict;\n      const classifiers = this.classifierThresholdList.map((c)=>c.classifier);\n\n      if (Object.keys(this.thresholdRange).length == 0) {\n        classifiers.forEach((c)=>{\n          this.thresholdRange[c] = 0.5\n        })\n      }\n      \n      svg.append(\"rect\")\n      .attr(\"class\",\"rect\")\n        .attr(\"width\",430)\n        .attr(\"height\",120*this.classifierThresholdList.length)\n        .attr(\"x\",0)\n        .attr(\"y\",10)\n        .attr(\"fill\",\"white\")\n        .attr(\"stroke\",\"lightgrey\")\n        .attr(\"stroke-width\",\"2px\")\n\n      const xScale =  this.xScale;\n\n      const rangeSliders =  svg.append(\"g\").selectAll(\"g\")\n            .data(classifiers)\n            .enter().append(\"g\")\n              .attr(\"transform\", function(d,i) { \n                return \"translate(0,\" + (i * 120) +\")\"; })\n\n        let titles = rangeSliders.append(\"text\")\n          .attr(\"transform\",   \"translate(30,\"  +\"30)\")\n          .attr(\"class\",(d)=>\"slider-text-\"+d)\n          .text((d:string)=>d+\": 0.5\")\n          .attr(\"x\",5)\n          .attr(\"font-size\",\"22px\")\n          .attr(\"fill\",\"grey\")\n\n\n        let borders = rangeSliders.append(\"line\")\n          .attr(\"transform\",   \"translate(0,\"  +\"120)\")\n          .attr(\"class\",\"range-border\")\n          .style(\"stroke\", \"lightgrey\")\n          .style(\"stroke-opacity\", \"1\")\n          .style(\"stroke-width\", \"3\")\n          .attr('x1', 0)\n          .attr('x2', 430)\n          .attr('y1', 0)\n          .attr('y2', 0)\n          .attr(\"visibility\",(d:string)=> d==classifiers[classifiers.length-1]?\"hidden\":\"visible\")\n                \n\n        let slider = rangeSliders.append('line')\n          .attr(\"transform\",   \"translate(0,\"  +\"60)\")\n          .attr('class', 'track')\n          .style(\"stroke\", \"#777\")\n          .style(\"stroke-opacity\", \"1\")\n          .style(\"stroke-width\", \"5\")\n          .attr('x1', 10)\n          .attr('x2', 410)\n          .attr('y1', 0)\n          .attr('y2', 0);\n\n        let head = rangeSliders.append('rect')\n          .attr(\"width\",20)\n          .attr(\"height\",10)\n          .attr(\"rx\",6)\n          .attr('fill', 'steelblue')\n          .attr('stroke', 'none')\n          .attr('class',(d:string)=>'slider-head-'+d)\n          .attr('transform', function(d:string){\n            return 'translate('+xScale(200)+',55)'\n          })\n          .call(d3.drag()\n            .on('start.interrupt', function () {\n              head.interrupt();\n            })\n            .on('start drag',  \n            (d:string)=>this.sliderRange =({type:\"from\", classifier:d, value: xScale.invert(d3.event.x)})//\n            ))\n            ;\n        \n        let addButton = rangeSliders.append(\"rect\")\n          .attr(\"width\",40)\n          .attr(\"height\",20)\n          .attr(\"transform\",   \"translate(340,\"  +\"85)\")\n            .attr(\"class\",(d:string)=>\"add-rect-best-\"+d)\n            .attr(\"fill\",\"lightgrey\") \n          \n        let addText = rangeSliders.append(\"text\")\n          .attr(\"transform\",   \"translate(345,\"  +\"100)\")\n            .attr(\"class\",(d:string)=>\"add-set-\"+d)\n            .text(\"add\")\n            .attr(\"font-size\",\"18px\")\n            .attr(\"fill\",\"grey\") \n            .on('mouseenter', (d: string) => {\n              d3.select(\".add-set-\"+d).attr(\"fill\",\"white\")\n              d3.select(\".add-rect-best-\"+d).attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".add-set-\"+d).attr(\"fill\",\"grey\")\n              d3.select(\".add-rect-best-\"+d).attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.curAddedThresholdClassifier =({classifier:d, threshold: this.thresholdRange[d]}))\n\n        \n        classifiers.forEach((c)=>{\n          if (Object.keys(classifierThresholdDict).includes(c)) {\n            if (classifierThresholdDict[c] / 100 != 0.5) {\n              this.drawUpdateRangesCurve()\n            }\n          }\n        })\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeSelection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeSelection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModeSelection.vue?vue&type=template&id=bb1cf80a&\"\nimport script from \"./ModeSelection.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModeSelection.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('label',[_vm._v(\"BandWidth Select \")]),_c('multiselect',{attrs:{\"tag-placeholder\":\"Add this as new bandWidth\",\"label\":\"name\",\"track-by\":\"name\",\"options\":_vm.options,\"multiple\":true,\"taggable\":true},on:{\"tag\":_vm.addTag},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\n\nimport {\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n} from '../../../types';\n\nexport default Vue.extend({\n  name: 'UncertainAdjuster',\n  data() {\n    const sliderRange = {\n      type: '' as 'from' | 'to',\n      classifier: '',\n      value: 0,\n    }\n    const classifierThresholdDict = this.$store.state.classifierThresholdDict;\n    const curAddedBandWidthClassifier = {\n      classifier: '',\n      left_range: 0.45,\n      right_range: 0.55,\n    };\n    const origin_value = Object.keys(this.$store.state.classifierThresholdDict).map((c)=> {\n      return {'name': c + '(' + ((this.$store.state.classifierThresholdDict[c] / 100 - 0.05) < 0 ? 0 : this.$store.state.classifierThresholdDict[c] / 100 - 0.05).toFixed(2) \n                + ',' + ((this.$store.state.classifierThresholdDict[c] / 100 + 0.05) > 1 ? 1 : this.$store.state.classifierThresholdDict[c] / 100 + 0.05).toFixed(2) + ')'}\n    });\n    const value = Object.keys(this.$store.state.classifierThresholdDict).map((c)=> {\n      return {'name': c + '(' + ((this.$store.state.classifierThresholdDict[c] / 100 - 0.05) < 0 ? 0 : this.$store.state.classifierThresholdDict[c] / 100 - 0.05).toFixed(2) \n                + ',' + ((this.$store.state.classifierThresholdDict[c] / 100 + 0.05) > 1 ? 1 : this.$store.state.classifierThresholdDict[c] / 100 + 0.05).toFixed(2) + ')'}\n    });\n    const options = Object.keys(this.$store.state.classifierThresholdDict).map((c)=> {\n      return {'name': c + '(' + ((this.$store.state.classifierThresholdDict[c] / 100 - 0.05) < 0 ? 0 : this.$store.state.classifierThresholdDict[c] / 100 - 0.05).toFixed(2) \n                + ',' + ((this.$store.state.classifierThresholdDict[c] / 100 + 0.05) > 1 ? 1 : this.$store.state.classifierThresholdDict[c] / 100 + 0.05).toFixed(2) + ')'}\n    });\n    return {\n      classifierThresholdDict,\n      sliderRange,\n      thresholdRange: {},      \n      panel: [] as string[],\n      threshold: 0,\n      curAddedBandWidthClassifier,\n      value,\n      options,\n      origin_value,\n      added_value: [],\n    };\n  },\n  computed: {\n    resumedBandwidths() {\n      return this.$store.state.resumedBandwidths;\n    },\n    outerBandWidth() {\n      return this.$store.state.outerBandWidth;\n    },\n    addedBandWidthClassifiers() {\n      return this.$store.state.addedBandWidthClassifiers;\n    },\n    classifierFilters() {\n      return this.$store.state.filters.classifier;\n    },\n    curAddedThresholdClassifier(): {} {\n      return this.$store.state.curAddedThresholdClassifier;\n    },\n    thresholdClassifierNameList(): string[]{\n      return this.$store.getters.thresholdClassifierNameList\n    },\n    classifierThresholdList(): ThresholdWithClassifier[] {\n      return this.$store.getters.classifierThresholdList\n    },\n  \n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 400])\n          .range([10, 410])\n          .clamp(true);\n      return xScale;      \n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      this.drawResumedBandwidths();\n      this.updateValues();\n    },\n    outerBandWidth() {\n      this.drawOuterRanges();\n      this.updateValues();\n    },\n    classifierFilters() {\n      const filteredClassifier = [...this.classifierFilters.set]\n      this.value = []\n      this.options = []\n\n      this.origin_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n      this.added_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n    },\n    curAddedThresholdClassifier() {\n      const filteredClassifier = [...this.classifierFilters.set]\n      let threshold = parseFloat(this.curAddedThresholdClassifier.threshold);\n      let left_range = ((threshold - 0.05) < 0 ? 0: threshold - 0.05).toFixed(2)\n      let right_range = ((threshold + 0.05) > 1 ? 1 : threshold + 0.05).toFixed(2)\n      this.options = []\n      this.value = []\n      this.added_value.push({name: this.curAddedThresholdClassifier.classifier + '(' + left_range + ',' + right_range + ')'})\n      \n      this.origin_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n      this.added_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n    },\n    sliderRange() {\n      this.drawUpdateRanges();\n      this.updateValues();\n    },\n    classifierThresholdDict() {\n      this.drawInitial();\n    },\n    thresholdClassifierNameList() {\n      this.drawInitial();\n      this.updateValues();\n    },\n    curAddedBandWidthClassifier() {\n      const filteredClassifier = [...this.classifierFilters.set]\n      this.options = []\n      this.value = []\n      this.added_value.push({name: this.curAddedBandWidthClassifier.classifier + '(' + this.curAddedBandWidthClassifier.left_range + ',' + this.curAddedBandWidthClassifier.right_range + ')'})  \n      this.origin_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n      this.added_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n    },\n    value() {\n      let pre_values = this.addedBandWidthClassifiers.map(function(c){return c.name})\n      let cur_values = this.value.map(function(c){return c.name})\n      let deleted_values = []\n      let new_added_values = []\n\n      pre_values.forEach((c)=>{\n        if (!cur_values.includes(c)) {\n          deleted_values.push(c)\n        }\n      })\n      this.added_value.forEach((c)=> {\n        if (!deleted_values.includes(c.name)) {\n          new_added_values.push(c)\n        }\n      })\n      this.added_value = new_added_values;\n      this.$store.dispatch('changedAddedBandWidthClassifiers', this.value)\n    },\n  },\n  mounted() {\n     this.drawInitial();\n    if (this.resumeStatus > 0) {\n      this.drawResumedBandwidths();\n      this.updateValues();\n    }\n  },\n\n  methods: {\n    addTag (newTag) {\n      const tag = {\n        name: newTag,\n      }\n      this.options.push(tag)\n      this.value.push(tag)\n    },\n    updateValues() {\n      const filteredClassifier = [...this.classifierFilters.set]\n      this.options  = []\n      this.value = []\n      // update original values\n      this.origin_value = [];\n      for (let key in this.thresholdRange) {\n        this.origin_value.push({'name': key  + '(' + this.thresholdRange[key].left_range.toFixed(2) + ',' + this.thresholdRange[key].right_range.toFixed(2) + ')'})\n      }\n\n\n      this.origin_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n      this.added_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n    },\n    drawResumedBandwidths() {\n      const classifiers = Object.keys(this.classifierThresholdDict)\n      const chart = d3.select(this.$refs.svg);\n      let tmp = {}\n      classifiers.forEach((c)=>{\n        tmp[c] = {\n            name:c,\n  threshold:Object.keys(this.classifierThresholdDict).includes(c)?this.classifierThresholdDict[c]:0,\n  left_range: this.resumedBandwidths[c].left_range,\n  right_range: this.resumedBandwidths[c].right_range\n        }\n        chart.select('.slider-circle-time-from'+c).attr('transform', 'translate(' + this.xScale(tmp[c].left_range * 400) + ', 60)') \n        chart.select('.slider-circle-time-to'+c).attr('transform', 'translate(' + this.xScale(tmp[c].right_range * 400) + ', 60)') \n\n        chart.select(\".range-text-\"+c).text((d:string)=>\"(\"+(tmp[c].left_range) +\", \"+(tmp[c].right_range ) +\")\")\n        \n        this.$store.dispatch(\"changedBandWidthClassifier\",c);\n      })\n      this.thresholdRange = tmp\n      this.$store.dispatch(\"changedclassifierBandWidthDict\",tmp);\n    },\n    drawOuterRanges() {\n      const classifier = this.outerBandWidth.classifier;\n      const from = this.outerBandWidth.left_range * 400;\n      const to = this.outerBandWidth.right_range * 400;\n      const chart = d3.select(this.$refs.svg);\n      const range_text = chart.select(\".range-text-\"+classifier)\n\n      let tmp = {}\n\n      for(let c in this.thresholdRange) {\n        tmp[c] = this.thresholdRange[c]\n      }\n\n      tmp[classifier].left_range  = this.outerBandWidth.left_range;\n      tmp[classifier].right_range =  this.outerBandWidth.right_range;\n\n      this.thresholdRange = tmp\n\n      \n      chart.select('.slider-circle-time-from'+classifier).attr('transform', 'translate(' + this.xScale(from) + ', 60)') \n      chart.select('.slider-circle-time-to'+classifier).attr('transform', 'translate(' + this.xScale(to) + ', 60)') \n\n      range_text.text((d:string)=>\"(\"+(this.thresholdRange[classifier].left_range).toFixed(2) +\", \"+(this.thresholdRange[classifier].right_range ).toFixed(2) +\")\")\n      this.$store.dispatch(\"changedclassifierBandWidthDict\",tmp);\n      this.$store.dispatch(\"changedBandWidthClassifier\",classifier);\n\n    },\n    drawUpdateRanges() {\n      const type = this.sliderRange.type;\n      const classifier = this.sliderRange.classifier;\n      const value = this.sliderRange.value;\n      let tmp = {}\n\n      for(let c in this.thresholdRange) {\n        tmp[c] = this.thresholdRange[c]\n      }\n\n      const chart = d3.select(this.$refs.svg);\n      const range = chart.select('.slider-circle-time-'+type+classifier)\n      const range_text = chart.select(\".range-text-\"+classifier)\n\n      if (type == \"from\"){\n        var cur_from = value / 400\n        tmp[classifier].left_range = cur_from < 0 ? 0 : cur_from;\n      } else {\n        var cur_to = value/ 400\n        tmp[classifier].right_range = cur_to > 1 ? 1 : cur_to;\n      }\n\n      this.thresholdRange = tmp\n\n      range.attr('transform', 'translate(' + this.xScale(value) + ', 60)') \n      range_text.text((d:string)=>\"(\"+(this.thresholdRange[classifier].left_range).toFixed(2) +\", \"+(this.thresholdRange[classifier].right_range ).toFixed(2) +\")\")\n      this.$store.dispatch(\"changedclassifierBandWidthDict\",tmp);\n      this.$store.dispatch(\"changedBandWidthClassifier\",classifier);\n     },\n\n    drawInitial() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n\n      const classifiers = Object.keys(this.classifierThresholdDict)\n\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${120*classifiers.length+20}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${0})`);\n\n\n      svg.append(\"rect\")\n      .attr(\"class\",\"rect\")\n        .attr(\"width\",430)\n        .attr(\"height\",120*classifiers.length)\n        .attr(\"x\",0)\n        .attr(\"y\",10)\n        .attr(\"fill\",\"white\")\n        .attr(\"stroke\",\"lightgrey\")\n        .attr(\"stroke-width\",\"2px\")\n\n      var sqrt3 = Math.sqrt(3);\n\n      var triangleRight = {\n        draw: function (context, size) {\n          var x = -Math.sqrt(size / (sqrt3 * 3));\n          context.moveTo(-x * 2, 0);\n          context.lineTo(x, -sqrt3 * x);\n          context.lineTo(x, sqrt3 * x);\n          context.closePath();\n        }\n      };\n\n      var triangleLeft = {\n        draw: function (context, size) {\n          var x = -Math.sqrt(size / (sqrt3 * 3));\n          context.moveTo(x * 2, 0);\n          context.lineTo(-x, -sqrt3 * x);\n          context.lineTo(-x, sqrt3 * x);\n          context.closePath();\n        }\n      };\n\n      let leftTrgl = d3.symbol().type(triangleLeft)\n        .size(180);\n      let rightTrgl = d3.symbol().type(triangleRight)\n        .size(180);\n\n      if (Object.keys(this.thresholdRange).length == 0) {\n        constthresholdRange:{\n  [classifier:string]:{\n  name:String,\n  threshold:Number,\n  left_range:Number,\n  right_range:Number,\n  },\n  }={};\n  classifiers.forEach((c)=>{\n  thresholdRange[c]={\n  name:c,\n  threshold:Object.keys(this.classifierThresholdDict).includes(c)?this.classifierThresholdDict[c]:0,\n  left_range: !Object.keys( this.classifierThresholdDict).includes(c)? 0 : this.classifierThresholdDict[c] / 100 - 0.05 < 0 ? 0 : this.classifierThresholdDict[c] / 100 - 0.05,\n  right_range:!Object.keys( this.classifierThresholdDict).includes(c)? 0 : this.classifierThresholdDict[c] / 100 + 0.05 > 1 ? 1 : this.classifierThresholdDict[c] / 100 + 0.05,\n  };\n  });\n        this.thresholdRange = thresholdRange\n        this.$store.dispatch(\"changedclassifierBandWidthDict\",this.thresholdRange)\n        this.$store.dispatch(\"changedBandWidthClassifier\",'');\n      }\n\n      //check whether align \n      for (let c in this.thresholdRange){\n        let classifier =this.thresholdRange[c].name\n        let threshold = this.thresholdRange[c].threshold/100\n        let left_range = this.thresholdRange[c].left_range\n        let right_range = this.thresholdRange[c].right_range\n        if (threshold == this.classifierThresholdDict[classifier]/100){\n          continue\n        }\n        let left_diff = threshold - left_range\n        let right_diff = right_range - threshold\n        delete this.thresholdRange[c];\n        this.thresholdRange[classifier] = {\n          name:classifier,\nthreshold:this.classifierThresholdDict[classifier],\nleft_range: (this.classifierThresholdDict[classifier]/100 - left_diff) < 0 ? 0 : (this.classifierThresholdDict[classifier]/100 - left_diff),\nright_range:(this.classifierThresholdDict[classifier] / 100 + right_diff) > 1 ? 1 : (this.classifierThresholdDict[classifier] / 100 + right_diff) ,\n        }\n        this.$store.dispatch(\"changedclassifierBandWidthDict\",this.thresholdRange);\n        this.$store.dispatch(\"changedBandWidthClassifier\",'');\n      }\n\n      const thresholdRange = this.thresholdRange;\n      const xScale =  this.xScale;\n\n      const rangeSliders =  svg.append(\"g\").selectAll(\"g\")\n            .data(classifiers)\n            .enter().append(\"g\")\n              .attr(\"transform\", function(d,i) { \n                return \"translate(0,\" + (i * 120) +\")\"; })\n\n        let titles = rangeSliders.append(\"text\")\n          .attr(\"transform\",   \"translate(30,\"  +\"30)\")\n          .attr(\"class\",(d)=>\"slider-text\"+d)\n          .text((d:string)=>d)\n          .attr(\"x\",5)\n          .attr(\"font-size\",\"22px\")\n          .attr(\"fill\",\"grey\")\n\n\n        let borders = rangeSliders.append(\"line\")\n          .attr(\"transform\",   \"translate(0,\"  +\"110)\")\n          .attr(\"class\",\"range-border\")\n          .style(\"stroke\", \"lightgrey\")\n          .style(\"stroke-opacity\", \"1\")\n          .style(\"stroke-width\", \"3\")\n          .attr('x1', 0)\n          .attr('x2', 430)\n          .attr('y1', 0)\n          .attr('y2', 0)\n          .attr(\"visibility\",(d:string)=> d==classifiers[classifiers.length-1]?\"hidden\":\"visible\")\n                \n\n        let slider = rangeSliders.append('line')\n        .attr(\"transform\",   \"translate(0,\"  +\"60)\")\n          .attr('class', 'track')\n          .style(\"stroke\", \"#777\")\n          .style(\"stroke-opacity\", \"1\")\n          .style(\"stroke-width\", \"5\")\n          .attr('x1', 10)\n          .attr('x2', 410)\n          .attr('y1', 0)\n          .attr('y2', 0)\n\n        let head1 = rangeSliders.append('path')\n          .attr('d', leftTrgl)\n          .style('fill', 'red')\n          .style('stroke', 'none')\n          .attr('class',(d:string)=>'slider-circle-time-from'+d)\n          .attr('transform', function(d:string){\n            let dis =(thresholdRange[d].left_range * 400)\n            return 'translate('+xScale(dis)+',60)'\n          })\n          .call(d3.drag()\n            .on('start.interrupt', function () {\n              head1.interrupt();\n            })\n            .on('start drag',  \n            (d:string)=>this.sliderRange =({type:\"from\", classifier:d, value: xScale.invert(d3.event.x)})//\n            ))\n            ;\n\n        let head2 = rangeSliders.append('path')\n          .attr('d', rightTrgl)\n          .style('fill', 'green')\n          .style('stroke', 'none')\n          .attr('class',(d:string)=>'slider-circle-time-to'+d)\n          .attr('transform',function(d:string){\n            let dis =(thresholdRange[d].right_range * 400)\n            return 'translate('+xScale(dis)+',60)'\n          })\n          .call(d3.drag()\n            .on('start.interrupt', function () {\n              head2.interrupt();\n            })\n            .on('start drag',\n            (d:string)=>this.sliderRange =({type:\"to\", classifier:d, value: xScale.invert(d3.event.x)})//\n            ))\n\n        let rangeText = rangeSliders.append(\"text\")\n        .attr(\"transform\",   \"translate(10,\"  +\"100)\")\n          .attr(\"class\",(d:string)=>\"range-text-\"+d)\n          .text((d:string)=>\"(\"+(this.thresholdRange[d].left_range).toFixed(2) +\", \"+(this.thresholdRange[d].right_range ).toFixed(2) +\")\")\n          .attr(\"font-size\",\"18px\")\n          .attr(\"fill\",\"grey\") \n\n        let addButton = rangeSliders.append(\"rect\")\n          .attr(\"width\",40)\n          .attr(\"height\",20)\n          .attr(\"transform\",   \"translate(120,\"  +\"82)\")\n            .attr(\"class\",(d:string)=>\"add-bandwidth-\"+d)\n            .attr(\"fill\",\"lightgrey\") \n          \n        let addText = rangeSliders.append(\"text\")\n          .attr(\"transform\",   \"translate(125,\"  +\"100)\")\n            .attr(\"class\",(d:string)=>\"add-bandwidth-set-\"+d)\n            .text(\"add\")\n            .attr(\"font-size\",\"18px\")\n            .attr(\"fill\",\"grey\") \n            .on('mouseenter', (d: string) => {\n              d3.select(\".add-bandwidth-set-\"+d).attr(\"fill\",\"white\")\n              d3.select(\".add-bandwidth-\"+d).attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".add-bandwidth-set-\"+d).attr(\"fill\",\"grey\")\n              d3.select(\".add-bandwidth-\"+d).attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.curAddedBandWidthClassifier =({classifier:d, left_range: this.thresholdRange[d].left_range.toFixed(2), right_range: this.thresholdRange[d].right_range.toFixed(2)}))\n\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertainAdjuster.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertainAdjuster.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UncertainAdjuster.vue?vue&type=template&id=79ef477c&\"\nimport script from \"./UncertainAdjuster.vue?vue&type=script&lang=ts&\"\nexport * from \"./UncertainAdjuster.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('div',{staticClass:\"table-container-sample\"},[_c('v-data-table',{staticClass:\"elevation-2\",attrs:{\"headers\":_vm.headers,\"items\":_vm.sample_value,\"options\":_vm.pagination,\"disable-sort\":\"\",\"dense\":\"\"},on:{\"update:options\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.name,style:(_vm.styleTableRow(item))},[_c('td',{on:{\"click\":function($event){return _vm.setOverlapSampling({ whichOverlap: 'first',selection: item })},\"contextmenu\":function($event){$event.preventDefault();return _vm.setOverlapSampling({ whichOverlap: 'second', selection: item })}}},[_vm._v(_vm._s(item.name)+\" \")]),_c('td',[_vm._v(_vm._s(item.size))]),_c('td',{on:{\"click\":function($event){return _vm.onButtonClick({ whichOverlap: 'first',selection: item })}}},[_c('v-btn',{style:(_vm.styleDataChosen(item)),attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-star\")])],1)],1)])}),0)]}}])})],1),_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Random Sampling\")]),_c('v-expansion-panel-content'),_c('div',{ref:\"svg_random\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { colors } from '../../../theme';\nimport {\n  EntityType,\n  SelectionAction,\n} from '../../../types';\nimport * as d3 from 'd3';\nimport {\n  SelectionRecord,\n  SetCompose,\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n} from '../../../types';\nimport { PredicateSimple, Rule } from '../../constraints/types';//'constraints/types';\nimport {blankConstraint} from '../../constraints/utils';\nimport { path, select } from 'd3';\nimport {\n  instanceById,\n  intersection,\n} from '../../../utils';\nexport default Vue.extend({\n  name: 'RandomSampling',\n  \n  data() {\n    const sliderRange = {\n      value: 200,\n    }\n    const classifierThresholdDict = this.$store.state.classifierThresholdDict\n    const addSampling = {\n      sampling: '',\n    };\n    return {\n      headers: [\n        { text: 'Name', value: 'name' },\n        { text: 'Size', value: 'size' },\n        { text: 'Set as Dataset', value: 'set' },\n        // { text: 'Description', value: 'description' },\n      ],\n      pagination: {\n        rowsPerPage: 5,\n      },\n      addSampling,\n      classifierThresholdDict,\n      sliderRange,\n      thresholdRange: {},      \n      panel: [] as string[],\n      threshold: 0,\n    };\n  },\n  computed: {\n    sample_value() : [] {\n      return this.$store.state.sampleList;\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n     selectedSampleSet(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.selectedSampleSet;\n    },\n    instances(): string[] {\n      return [...this.$store.getters.instances];\n    },\n    thresholdClassifierNameList(): string[]{\n      return this.$store.getters.thresholdClassifierNameList\n    },\n    classifierThresholdList(): ThresholdWithClassifier[] {\n      return this.$store.getters.classifierThresholdList\n    },\n  \n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 400])\n          .range([20, 420])\n          .clamp(true);\n      return xScale;      \n    },\n  },\n  watch: {\n    addSampling() {\n      let idx = this.sample_value.length ;\n      let instances = this.instances;\n      let partition = this.addSampling.sampling * 100; \n      \n      let partition1 = randomIntegers(0,instances.length, partition / 100 * instances.length);\n      let partition2 = []\n\n      let filteredInstances: string[] = [...this.$store.getters.instances];\n      let samples = []\n\n      // judge and get test set\n      const features = [...this.$store.getters.features];\n      if (features.includes('train_or_test')) {\n        \n        const trainOrTest = 'train_or_test';\n        filteredInstances = filteredInstances.filter((i) => {\n              return instanceById(i).features[trainOrTest] === 'test' ||\n                instanceById(i).features[trainOrTest] === '0';\n            });\n      }\n\n\n      instances.forEach((i)=>{\n        if (!partition1.includes(i)) {\n          partition2.push(i)\n        }\n      }) \n      let tmpValue = [];\n      this.sample_value.forEach((v)=>{\n        tmpValue.push(v)\n      })\n      tmpValue.push({decription:'random', id:idx, name: idx + \"_random\"+\"_left_\" + (partition).toFixed(0) + '%' , size: partition1.length, instances: new Set(partition1)})\n      tmpValue.push({decription:'random',id:idx + 1,name: (idx+1)  + \"_random\"+\"_right_\" + (100-parseInt((partition).toFixed(0))) + '%', size: instances.length -  partition1.length, instances: new Set(partition2) })\n      this.$store.dispatch('changedSampledList', tmpValue);\n      \n      function randomIntegers(min, max, num) {\n        let randomArrays = []\n        let randomSet = new Set()\n        let i = 0\n        while ( randomSet.size < num) {\n          let tmp = Math.floor(Math.random() * instances.length)\n          randomArrays.push((tmp.toString()))\n          i += 1\n          randomSet = new Set(randomArrays)\n        }\n        return [...randomSet];\n      }\n    },\n    sliderRange() {\n      this.drawUpdateRanges();\n    },\n    classifierThresholdDict() {\n      this.drawInitial();\n    },\n    thresholdClassifierNameList() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n\n  methods: {\n    onButtonClick(\n      payload: {\n        selection:  SelectionRecord | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      console.log(payload)\n      this.$store.dispatch('changeCurrentChosenSample',payload.selection.name);\n      this.$store.dispatch('changedToSamplingData',payload)\n    },\n    setOverlapSampling(\n      payload: {\n        selection:  SelectionRecord | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      this.$store.dispatch('changedSampleSelection', payload);\n      const description = payload.selection.name;\n      const instances = payload.selection.instances;\n      const constraint = blankConstraint();\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const tmp_payload = {\n        description,\n        instances,\n        predicate,\n      };\n      this.$store.dispatch('prependToSelectionHistory', tmp_payload);\n      this.$store.dispatch('changedMostRecentSelection', payload.whichOverlap);\n\n    },\n    styleDataChosen(item){\n      if (item.name == this.$store.state.currentChosenSample) {\n        return `\n          color: pink;\n        `\n      }\n      return ''\n    },\n    styleTableRow(record: SelectionRecord) {      \n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.selectedSampleSet;\n      const isFirst = (firstSelection && firstSelection.id === record.id);\n      const isSecond = (secondSelection && secondSelection.id === record.id);\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n    drawUpdateRanges() {\n      const value = this.sliderRange.value;\n      const partition = this.sliderRange.value / 400 * 100\n\n      const chart = d3.select(this.$refs.svg_random);\n      const range = chart.select('.random-slider-rect');\n      const range_text = chart.select(\".random-partition-text\");\n      const instances = this.instances;\n\n      range.attr('x',  this.xScale(value)) \n      range_text.text(\"partition: (\"+partition.toFixed(0)+\"%, \"+ (100-parseInt(partition.toFixed(0))) + \"%)\")\n\n    },\n\n    drawInitial() {\n      const xScale =  this.xScale;\n      d3.select(this.$refs.svg_random).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg_random).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${120}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${0})`);\n\n\n      svg.append(\"rect\")\n      .attr(\"class\",\"random-set-1\")\n        .attr(\"width\",200)\n        .attr(\"height\",40)\n        .attr(\"x\",20)\n        .attr(\"y\",10)\n        .attr(\"fill\",\"lightgrey\")\n        .attr(\"stroke\",\"lightgrey\")\n        .attr(\"stroke-width\",\"2px\")\n      \n      svg.append(\"rect\")\n      .attr(\"class\",\"random-set-2\")\n        .attr(\"width\",200)\n        .attr(\"height\",40)\n        .attr(\"x\",220)\n        .attr(\"y\",10)\n        .attr(\"fill\",\"lightgrey\")\n        .attr(\"stroke\",\"lightgrey\")\n        .attr(\"stroke-width\",\"2px\")\n\n    \n\n      let head = svg.append('rect')\n        .attr(\"class\",\"random-slider-rect\")\n        .attr(\"width\",10)\n        .attr(\"height\",40)\n        .attr(\"x\",215)\n        .attr(\"y\",10)\n        .attr(\"fill\",\"steelblue\")\n        .call(d3.drag()\n          .on('start.interrupt', function () {\n            head.interrupt();\n          })\n          .on('start drag',  \n          (d:string)=>this.sliderRange =({value: xScale.invert(d3.event.x)})//\n          ))\n          ;\n\n      \n      let set_button = svg.append('rect')\n        .attr(\"class\",\"random-set-button\")\n        .attr(\"width\",40)\n        .attr(\"height\",20)\n        .attr(\"x\",20)\n        .attr(\"y\",90)\n        .attr('rx',6)\n        .attr(\"fill\",\"lightgrey\")\n        .on('mouseenter', (d: string) => {\n              d3.select(\".random-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".random-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".random-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".random-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: this.sliderRange.value / 400}))\n          ; \n\n      let set_text = svg.append(\"text\")\n        .attr(\"x\",40)\n        .attr(\"y\",105)\n        .attr(\"class\",'random-slider-text')\n        .text(\"set\")\n        .style('text-anchor', 'middle')\n        .attr(\"font-size\",\"18px\")\n        .attr(\"fill\",\"grey\") \n        .on('mouseenter', (d: string) => {\n              d3.select(\".random-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".random-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".random-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".random-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: this.sliderRange.value / 400}))\n        ;\n\n      let partition_text = svg.append(\"text\")\n        .attr(\"x\",100)\n        .attr(\"y\",105)\n        .attr(\"class\",'random-partition-text')\n        .text(\"partition: (50%, 50%)\")\n        .style('text-anchor', 'start')\n        .attr(\"font-size\",\"22px\")\n        .attr(\"fill\",\"steelblue\") \n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomSampling.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomSampling.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RandomSampling.vue?vue&type=template&id=694590b1&\"\nimport script from \"./RandomSampling.vue?vue&type=script&lang=ts&\"\nexport * from \"./RandomSampling.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDataTable,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Bootstrap Sampling\")]),_c('div',{staticStyle:{\"margin-left\":\"10%\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sample_size),expression:\"sample_size\"}],attrs:{\"placeholder\":\"edit me\"},domProps:{\"value\":(_vm.sample_size)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.sample_size=$event.target.value}}}),_c('p',[_vm._v(\" Sample size: \"+_vm._s(_vm.sample_size))])]),_c('div',{ref:\"svg_bootstrap\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { colors } from '../../../theme';\nimport {\n  EntityType,\n  SelectionAction,\n} from '../../../types';\nimport * as d3 from 'd3';\nimport {\n  SelectionRecord,\n  SetCompose,\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n} from '../../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../../utils';\nexport default Vue.extend({\n  name: 'BootstrapSampling',\n  data() {\n    const addSampling = {\n      sampling: '',\n    };\n    return {\n      addSampling,\n      // sample_time: 0,\n      sample_size: 0,\n      panel: [] as string[],\n      checkedBoxes: [] as string[],\n    };\n  },\n  computed: {\n    value() : [] {\n      return this.$store.state.sampleList;\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    instances(): string[] {\n      return [...this.$store.getters.instances];\n    },\n    thresholdClassifierNameList(): string[]{\n      return this.$store.getters.thresholdClassifierNameList\n    },\n    classifierThresholdList(): ThresholdWithClassifier[] {\n      return this.$store.getters.classifierThresholdList\n    },\n  \n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 400])\n          .range([20, 420])\n          .clamp(true);\n      return xScale;      \n    },\n  },\n  watch: {\n    addSampling() {\n      // add sample to the table\n      let idx = this.value.length;\n      let sample_size = this.sample_size;\n      let sample_time = 1;\n      let instances = this.instances;\n      let filteredInstances: string[] = [...this.$store.getters.instances];\n      let samples = []\n\n      // judge and get test set\n      const features = [...this.$store.getters.features];\n      if (features.includes('train_or_test')) {\n        \n        const trainOrTest = 'train_or_test';\n        filteredInstances = filteredInstances.filter((i) => {\n              return instanceById(i).features[trainOrTest] === 'test' ||\n                instanceById(i).features[trainOrTest] === '0';\n            });\n      }\n\n      \n \n      // create boostrap sampling\n      let time_count = 0;\n      while (time_count < sample_time) {\n        let tmp_sample = randomIntegers(0,filteredInstances.length, sample_size);\n        tmp_sample.forEach((c)=>{\n          samples.push(filteredInstances[c])\n        })\n        time_count += 1\n      }\n\n      let tmpValue = [];\n      this.value.forEach((v)=>{\n        tmpValue.push(v)\n      })\n      tmpValue.push({decription:'bootstrap', id:idx, name: idx + \"_bootstrap\", size: samples.length, instances: new Set(samples)})\n      this.$store.dispatch('changedSampledList', tmpValue);\n\n      function randomIntegers(min, max, num) {\n        let randomArrays = []\n        let i = 0\n        while ( i < num) {\n          let tmp = Math.floor(Math.random() * filteredInstances.length)\n          randomArrays.push(tmp.toString())\n          i += 1\n        }\n        return randomArrays;\n      }\n    },\n    classifierThresholdDict() {\n      this.drawInitial();\n    },\n    thresholdClassifierNameList() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n\n  methods: {\n    setOverlapSampling(\n      payload: {\n        selection:  null,\n      },\n    ) {\n      this.$store.dispatch('changedToSamplingData', payload);\n    },\n    styleTableRow(record: SelectionRecord) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.overlapSelections;\n      const isFirst = (firstSelection && firstSelection.id === record.id);\n      const isSecond = (secondSelection && secondSelection.id === record.id);\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n    drawInitial() {\n      const xScale =  this.xScale;\n      d3.select(this.$refs.svg_bootstrap).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg_bootstrap).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${120}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${20})`)\n          ;\n\n      \n      let set_button = svg.append('rect')\n        .attr(\"class\",\"bootstrap-set-button\")\n        .attr(\"width\",40)\n        .attr(\"height\",20)\n        .attr(\"x\",'10%')\n        .attr(\"y\",0)\n        .attr('rx',6)\n        .attr(\"fill\",\"lightgrey\")\n        .on('mouseenter', (d: string) => {\n              d3.select(\".bootstrap-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".bootstrap-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".bootstrap-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".bootstrap-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: 'set'}))\n          ; \n\n      let set_text = svg.append(\"text\")\n        .attr(\"x\",'15%')\n        .attr(\"y\",15)\n        .attr(\"class\",'bootstrap-slider-text')\n        .text(\"set\")\n        .style('text-anchor', 'middle')\n        .attr(\"font-size\",\"18px\")\n        .attr(\"fill\",\"grey\") \n        .on('mouseenter', (d: string) => {\n              d3.select(\".bootstrap-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".bootstrap-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".bootstrap-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".bootstrap-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: 'set'}))\n        ;\n\n      \n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BootstrapSampling.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BootstrapSampling.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BootstrapSampling.vue?vue&type=template&id=5a4abae5&\"\nimport script from \"./BootstrapSampling.vue?vue&type=script&lang=ts&\"\nexport * from \"./BootstrapSampling.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelHeader,VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Stratified Sampling\")]),_c('div',{staticStyle:{\"margin-left\":\"10%\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sample_size),expression:\"sample_size\"}],attrs:{\"placeholder\":\"edit me\"},domProps:{\"value\":(_vm.sample_size)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.sample_size=$event.target.value}}}),_c('p',[_vm._v(\" Total sample size\")])]),_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar values = ref.values;\nvar search = ref.search;\nvar isOpen = ref.isOpen;\nreturn [(values.length && !isOpen)?_c('span',{staticClass:\"multiselect__single\"},[_vm._v(\" \"+_vm._s(values.length)+\" options selected \")]):_vm._e()]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{ref:\"svg_stratified\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { colors } from '../../../theme';\nimport {\n  Instance,\n  SelectionRecord,\n  EntityType,\n  SelectionAction,\n  SetCompose,\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n} from '../../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../../utils';\nimport * as d3 from 'd3';\n\nexport default Vue.extend({\n  name: 'StratifiedSampling',\n\n  data() {\n    const addSampling = {\n      sampling: '',\n    };\n    return {\n      addSampling, \n      sample_size: 0,\n      pagination: {\n        rowsPerPage: 5,\n      },\n      headers: [\n        { text: 'Name', value: 'name' },\n        { text: 'Weight', value: 'weight' },\n        // { text: 'Description', value: 'description' },\n      ],\n      value: [],\n      panel: [] as string[],\n      checkedBoxes: [] as string[],\n    };\n  },\n  computed: {\n    sampled_value() : [] {\n      return this.$store.state.sampleList;\n    },\n    sample_weight(): {} {\n      const features = [...this.$store.getters.features];\n      const categorial_features =  [...this.$store.getters.features].filter((f) => {\n        return this.$store.getters.feature(f).type === 'categorical'});\n\n      let weight_dicts = {}\n      // categorial_features.forEach((f)=>{\n      //   weight_dicts[f] = 0;\n      // })\n\n      categorial_features.forEach((c)=>{\n          this.$store.getters.feature(c).categories.forEach((i)=>{\n            weight_dicts[c+\"*\"+i] = 0\n          })\n      })\n      return weight_dicts\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    instances(): string[] {\n      return [...this.$store.getters.instances];\n    },\n    classList(): string[] {\n      return [...this.$store.getters.classes];\n    },\n    options(): any[] {\n      let options = []\n      const features = [...this.$store.getters.features];\n      const categorial_features =  [...this.$store.getters.features].filter((f) => {\n        return this.$store.getters.feature(f).type === 'categorical'});\n\n      // categorial_features.forEach((c)=>{\n      //     this.$store.getters.feature(c).categories.forEach((i)=>{\n      //       options.push({name: c+\"*\"+i})\n      //     })\n      // })\n      categorial_features.forEach((f)=>{\n        options.push({name:f})\n      })\n      options.push({name:'target class'})\n\n      return options\n    },\n  },\n  watch: {\n   \n    addSampling() {\n      // add sample to the table\n      // let idx = this.sampled_value.length;\n      \n      // let instances = this.instances;\n      // let samples = []\n\n\n \n      // // get the total weights chosen features\n      // let total_weight = 0\n      // for (let key in this.sample_weight) {        \n      //   total_weight += (parseInt(this.sample_weight[key]))\n      // }\n\n\n      // // get the sample size for each feature and do stratified sampling\n      // for (let key in this.sample_weight) {\n      //   console.log(\"key\",key)\n      //   let tmp_feature_sample = []\n      //   if (this.sample_weight[key] == '0') {\n      //     continue\n      //   }\n      //   let sample_size = this.sample_size * parseInt(this.sample_weight[key]) / total_weight\n      //   // create a dict to record sample_size of each category of current feature\n      //   let cate_dict = {};\n      //   this.$store.getters.feature(key).categories.forEach((c)=>{\n      //     cate_dict[c] = []\n      //   })\n      //   instances.forEach((id) => {\n      //       const category = instanceById(id).features[key];\n      //       cate_dict[category].push(id);\n      //   });\n      //   // console.log(cate_dict)\n      //   for (let cate in cate_dict) {\n      //     let tmp_sample_size = Math.round(sample_size * cate_dict[cate].length / instances.length);\n      //     let tmp_samples = randomIntegers(0,instances.length, tmp_sample_size, cate_dict[cate]);\n      //     tmp_samples.forEach((c)=>{\n      //       tmp_feature_sample.push(c)\n      //     })\n      //   }\n      //   samples.push({name: key, samples: tmp_feature_sample});\n      // }\n\n\n      // let tmpValue = [];\n      // this.sampled_value.forEach((v)=>{\n      //   tmpValue.push(v)\n      // })\n      // for (let feature_idx in samples) {\n      //   let feature_item = samples[feature_idx]\n      //   tmpValue.push({decription:'stratified',id:idx, name: idx + \"_stratified\", size: feature_item['samples'].length, instances: new Set(feature_item['samples'])})\n      //   idx += 1\n      // }\n    \n\n      \n      // this.$store.dispatch('changedSampledList', tmpValue);\n      let cur_feature = this.value.length > 0? this.value[0].name: '';\n      let idx = this.sampled_value.length\n      let instances = this.instances;\n      let samples = []\nconsole.log(this.classList)\n      let cate_dict = {};\n      if (cur_feature != 'target class') {\n        this.$store.getters.feature(cur_feature).categories.forEach((c)=>{\n          cate_dict[c] = []\n        })\n        instances.forEach((id) => {\n            const category = instanceById(id).features[cur_feature];\n            cate_dict[category].push(id);\n        });\n      } else {\n        this.classList.forEach((c)=>{\n          cate_dict[c] = []\n        })\n        instances.forEach((id) => {\n            const category = instanceById(id).actual;\n            cate_dict[category].push(id);\n        });\n      }\n      \n      console.log('cate_dict',cate_dict)\n      let tmp_feature_sample = []\n      let sample_size = this.sample_size ;\n      for (let cate in cate_dict) {\n        console.log(sample_size,  cate_dict[cate].length,  instances.length)\n        let tmp_sample_size = Math.floor(sample_size * cate_dict[cate].length / instances.length);\n        let tmp_samples = randomIntegers(0,instances.length, tmp_sample_size, cate_dict[cate]);\n        tmp_samples.forEach((c)=>{\n          tmp_feature_sample.push(c)\n        })\n      }\n\n      let tmpValue = []\n      tmpValue.push({decription:'stratified',id:idx, name: idx + \"_stratified\", size: tmp_feature_sample.length, instances: new Set(tmp_feature_sample)})\n      this.$store.dispatch('changedSampledList', tmpValue);\n\n      function randomIntegers(min, max, num, instances) {\n        let randomArrays = []\n        let randomSet = new Set()\n        let i = 0\n        while ( randomSet.size < num) {\n          let tmp = Math.floor(Math.random() * instances.length)\n          randomArrays.push(tmp.toString())\n          randomSet = new Set(randomArrays)\n          i += 1\n        }\n        return randomArrays;\n      }\n      \n    },\n    classifierThresholdDict() {\n      this.drawInitial();\n    },\n    thresholdClassifierNameList() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    showInput(\n      payload: {\n        selection:  null,\n      },\n    ) {\n      console.log('showinput',payload)\n    },\n    setOverlapSampling(\n      payload: {\n        selection:  null,\n      },\n    ) {\n      this.$store.dispatch('changedToSamplingData', payload);\n    },\n    styleTableRow(record: SelectionRecord) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.overlapSelections;\n      const isFirst = (firstSelection && firstSelection.id === record.id);\n      const isSecond = (secondSelection && secondSelection.id === record.id);\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n    drawInitial() {\n      const xScale =  this.xScale;\n      d3.select(this.$refs.svg_stratified).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg_stratified).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${120}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${20})`)\n          ;\n\n      \n      let set_button = svg.append('rect')\n        .attr(\"class\",\"stratified-set-button\")\n        .attr(\"width\",40)\n        .attr(\"height\",20)\n        .attr(\"x\",'10%')\n        .attr(\"y\",0)\n        .attr('rx',6)\n        .attr(\"fill\",\"lightgrey\")\n        .on('mouseenter', (d: string) => {\n              d3.select(\".stratified-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".stratified-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".stratified-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".stratified-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: 'set'}))\n          ; \n\n      let set_text = svg.append(\"text\")\n        .attr(\"x\",'15%')\n        .attr(\"y\",15)\n        .attr(\"class\",'stratified-slider-text')\n        .text(\"set\")\n        .style('text-anchor', 'middle')\n        .attr(\"font-size\",\"20px\")\n        .attr(\"fill\",\"grey\") \n        .on('mouseenter', (d: string) => {\n              d3.select(\".stratified-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".stratified-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".stratified-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".stratified-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: 'set'}))\n        ;\n\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StratifiedSampling.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StratifiedSampling.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StratifiedSampling.vue?vue&type=template&id=07596872&\"\nimport script from \"./StratifiedSampling.vue?vue&type=script&lang=ts&\"\nexport * from \"./StratifiedSampling.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelHeader,VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('div',{staticClass:\"table-container-validation\"},[_c('v-data-table',{staticClass:\"elevation-2\",attrs:{\"headers\":_vm.headers,\"items\":_vm.validation_value,\"options\":_vm.pagination,\"disable-sort\":\"\",\"dense\":\"\"},on:{\"update:options\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.name,style:(_vm.styleTableRow(item))},[_c('td',[_vm._v(_vm._s(item.name)+\" \")]),_c('td',{on:{\"click\":function($event){return _vm.onButtonClick({ whichOverlap: 'first',selection: item })}}},[_c('v-btn',{style:(_vm.styleDataChosen(item)),attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-star\")])],1)],1),_c('td',{on:{\"click\":function($event){return _vm.saveStatus({selection: item })}}},[_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"indigo\"}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-plus \")])],1)],1),_c('td',[_vm._v(_vm._s(item.parameters)+\" \")])])}),0)]}}])}),_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.onButtonClick({ whichOverlap: '',selection: '' })}}},[_vm._v(\" Reset \")])],1),_c('v-expansion-panel',[_c('div',{staticStyle:{\"margin-left\":\"10%\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.k_size),expression:\"k_size\"}],attrs:{\"placeholder\":\"edit me\"},domProps:{\"value\":(_vm.k_size)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.k_size=$event.target.value}}}),_c('p',[_vm._v(\" K-fold validation: k = \"+_vm._s(_vm.k_size))])]),_c('div',{ref:\"svg_validation\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { colors } from '../../../theme';\nimport {\n  EntityType,\n  SelectionAction,\n} from '../../../types';\nimport * as d3 from 'd3';\nimport {\n  SelectionRecord,\n  SetCompose,\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n} from '../../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../../utils';\nexport default Vue.extend({\n  name: 'KfoldValidation',\n  data() {\n    const shuffle = {\n      sampling: '',\n    };\n    return {\n      headers: [\n        { text: 'Fold Number', value: 'name' },\n        { text: 'Shuffle', value: 'set' },\n        { text: 'Save Status', value: 'set' },\n        { text: 'Parameters', value: 'N/A'}\n      ],\n      pagination: {\n        rowsPerPage: 5,\n      },\n      shuffle,\n      k_size: 0,\n      panel: [] as string[],\n      checkedBoxes: [] as string[],\n    };\n  },\n  computed: {\n    addedBandWidthClassifiers() {\n      return this.$store.state.addedBandWidthClassifiers\n    },\n    classifierThresholdDict() {\n      return this.$store.state.classifierThresholdDict\n    },\n    bandWidthClassifiers() {\n      if (this.addedBandWidthClassifiers.length == 0) {\n        const value = Object.keys(this.classifierThresholdDict).map((c)=> {\n          let threshold = (this.classifierThresholdDict[c] / 100)\n          return {'name': c + '(' + (threshold-0.05).toFixed(2) + ',' + (threshold+0.05).toFixed(2) + ')' }\n        });\n        return value\n      }\n      return this.addedBandWidthClassifiers;\n    },\n    validation_value(): [] {\n      return this.$store.state.validationList;\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    instances(): string[] {\n      return [...this.$store.getters.instances];\n    },\n    thresholdClassifierNameList(): string[]{\n      return this.$store.getters.thresholdClassifierNameList\n    },\n    classifierThresholdList(): ThresholdWithClassifier[] {\n      return this.$store.getters.classifierThresholdList\n    },\n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 400])\n          .range([20, 420])\n          .clamp(true);\n      return xScale;      \n    },\n  },\n  watch: {\n    addedBandWidthClassifiers() {\n\n    },\n    shuffle() {\n      let k_size = this.k_size;\n      let count = 0;\n      let k_fold_datasets = [];\n      let fold_size = Math.round(this.instances.length / k_size); \n      while (count < k_size) {\n        let test_list = [];\n        let train_list = [];\n        let start_id = count * fold_size;\n        let end_id = (count + 1) * fold_size;\n        while (start_id < end_id && start_id < this.instances.length) {\n          test_list.push(this.instances[start_id])\n          start_id += 1\n        }\n        this.instances.forEach((i)=>{\n          if (!test_list.includes(i)) {\n            train_list.push(i)\n          }\n        })\n        k_fold_datasets.push(\n          {'name': 'Fold ' + (count+1),\n           'training': new Set(train_list),\n           'testing': new Set(test_list),\n           'parameters':'N/A'}\n        )\n        count += 1\n      }\n      this.$store.dispatch('changedValidationList', k_fold_datasets);\n    },\n    classifierThresholdDict() {\n      // this.drawInitial();\n    },\n    thresholdClassifierNameList() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n\n  methods: {\n    onButtonClick(\n      payload: {\n        selection:  any | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      if (payload.selection != '') {\n        this.$store.dispatch('changedCurrentChosenFold',payload.selection.name);\n      } else {\n        this.$store.dispatch('changedCurrentChosenFold','');\n        this.validation_value.forEach((fold)=>{\n          fold.parameters = 'N/A'\n          \n        })\n      }\n    },\n    saveStatus(\n      payload: {\n        selection:  any | null,\n      },\n    ) {\n      this.validation_value.forEach((fold)=>{\n        if (fold.name == payload.selection.name) {\n          fold.parameters = this.bandWidthClassifiers\n        }\n      })\n\n    },\n    styleDataChosen(item){\n      if (item.name == this.$store.state.currentChosenFold) {\n        return `\n          color: pink;\n        `\n      }\n      return ''\n    },\n    styleTableRow(record: SelectionRecord) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.overlapSelections;\n      const isFirst = (firstSelection && firstSelection.id === record.id);\n      const isSecond = (secondSelection && secondSelection.id === record.id);\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n    drawInitial() {\n      const xScale =  this.xScale;\n      d3.select(this.$refs.svg_validation).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg_validation).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${60}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${0})`)\n          ;\n\n      \n      let set_button = svg.append('rect')\n        .attr(\"class\",\"validation-set-button\")\n        .attr(\"width\",60)\n        .attr(\"height\",30)\n        .attr(\"x\",'10%')\n        .attr(\"y\",0)\n        .attr('rx',6)\n        .attr(\"fill\",\"lightgrey\")\n        .on('mouseenter', (d: string) => {\n              d3.select(\".validation-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".validation-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".validation-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".validation-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.shuffle =({sampling: 'set'}))\n          ; \n\n      let set_text = svg.append(\"text\")\n        .attr(\"x\",'17%')\n        .attr(\"y\",20)\n        .attr(\"class\",'validation-slider-text')\n        .text(\"shuffle\")\n        .style('text-anchor', 'middle')\n        .attr(\"font-size\",\"18px\")\n        .attr(\"fill\",\"grey\") \n        .on('mouseenter', (d: string) => {\n              d3.select(\".validation-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".validation-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".validation-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".validation-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.shuffle =({sampling: 'set'}))\n        ;\n\n      \n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KfoldValidation.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KfoldValidation.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./KfoldValidation.vue?vue&type=template&id=71d73bb5&\"\nimport script from \"./KfoldValidation.vue?vue&type=script&lang=ts&\"\nexport * from \"./KfoldValidation.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDataTable,VExpansionPanel,VExpansionPanels,VIcon})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport ClassFilter from './filters/ClassFilter.vue';\nimport ClassifierFilter from './filters/ClassifierFilter.vue';\nimport InstanceList from '@/components/sidebar/InstanceList.vue';\nimport SetHistory from '@/components/sidebar/SetHistory.vue';\nimport FocusItem from '@/components/sidebar/FocusItemSide.vue';\nimport ViewList from './ViewList.vue';\nimport ContinuousMode from './continuous/ModeSelection.vue';\nimport UncertainAdjuster from './continuous/UncertainAdjuster.vue';\nimport RandomSampling from './sampling/RandomSampling.vue';\nimport BootstrapSampling from './sampling/BootstrapSampling.vue';\nimport StratifiedSampling from './sampling/StratifiedSampling.vue';\nimport KfoldValidation from './validation/KfoldValidation.vue'\nexport default Vue.extend({\n  name: 'Sidebar',\n  components: {\n    RandomSampling,\n    BootstrapSampling,\n    StratifiedSampling,\n    ClassFilter,\n    ClassifierFilter,\n    InstanceList,\n    SetHistory,\n    FocusItem,\n    ViewList,\n    ContinuousMode,\n    UncertainAdjuster,\n    KfoldValidation,\n  },\n  data() {\n    return {\n      panel: [0, 0, 0],\n    };\n  },\n  computed: {\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n  }\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=5c45cbd2&scoped=true&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&id=5c45cbd2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c45cbd2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Pairwise Classifier Consensus\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}})])],1)],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  generateRandomId,\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\nexport default Vue.extend({\n  name: 'PairwiseClassifierConsensus',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 20, right: 200, bottom: 100, left: 200};\n    const width = 500;\n    const height = 500;\n    const hover = {\n      consensusType: '' as 'agree' | 'disagree' | '',\n      classifiers: ['', ''],\n    };\n    return {\n      agreeColor: '#4393c3',\n      backgroundColor: 'white',\n      disagreeColor: '#d6604d',\n      height,\n      hover,\n      hoverColor: 'black',\n      margin,\n      neutralColor: 'white',\n      panel: [],\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n    };\n  },\n  computed: {\n    agreeScale(): d3.ScaleLinear<string, string> {\n      const agreeScale = d3.scaleLinear<string>()\n        .domain([0, this.consensusMax])\n        .range([this.neutralColor, this.agreeColor]);\n      return agreeScale;\n    },\n    consensus(): {\n      [classifier1: string]: {\n        [classifier2: string]: {\n          agree: Set<string>,\n          disagree: Set<string>,\n        },\n      },\n    } {\n      const consensus: {\n        [classifier1: string]: {\n          [classifier2: string]: {\n            agree: Set<string>,\n            disagree: Set<string>,\n          },\n        },\n      } = {};\n\n      this.classifiers.forEach((c1, index) => {\n        consensus[c1] = {};\n        this.classifiers.slice(0, index).forEach((c2) => {\n          consensus[c1][c2] = {\n            agree: new Set(),\n            disagree: new Set(),\n          };\n          // using reversed order of keys references same object\n          consensus[c2][c1] = consensus[c1][c2];\n        });\n      });\n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        this.classifiers.forEach((c1, index) => {\n          this.classifiers.slice(0, index).forEach((c2) => {\n            const type = i.predictions[c1] === i.predictions[c2]\n              ? 'agree'\n              : 'disagree';\n            consensus[c1][c2][type].add(id);\n          });\n        });\n      });\n\n      return consensus;\n    },\n    consensusKeys(): string[] {\n      const consensusKeys = Object.keys(this.consensus);\n      return consensusKeys;\n    },\n    consensusMax(): number {\n      let consensusMax = 0;\n\n      this.classifiers.forEach((c1, index) => {\n        this.classifiers.slice(0, index).forEach((c2) => {\n          consensusMax = Math.max(\n            consensusMax,\n            this.consensus[c1][c2].agree.size,\n            this.consensus[c1][c2].disagree.size,\n          );\n        });\n      });\n\n      return consensusMax;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    disagreeScale(): d3.ScaleLinear<string, string> {\n      const disagreeScale = d3.scaleLinear<string>()\n        .domain([0, this.consensusMax])\n        .range([this.neutralColor, this.disagreeColor]);\n      return disagreeScale;\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    keyCross(): Array<[unknown, unknown]> {\n      const keyCross = d3.cross(this.consensusKeys, this.consensusKeys);\n      return keyCross;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.consensusKeys)\n        .range([0, this.width])\n        .paddingOuter(0.05)\n        .paddingInner(0.1);\n      return x;\n    },\n    y(): d3.ScaleBand<string> {\n      const y = d3.scaleBand<string>()\n        .domain(this.consensusKeys)\n        .range([0, this.height])\n        .paddingOuter(0.05)\n        .paddingInner(0.1);\n      return y;\n    },\n  },\n  watch: {\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawSelections();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    clearHover() {\n      this.hover = {\n        consensusType: '',\n        classifiers: ['', ''],\n      };\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('width', this.width)\n          .attr('height', this.height)\n          .attr('fill', this.backgroundColor)\n          .attr('stroke', 'black');\n      };\n      drawBackgroundRect();\n\n      const x = this.x;\n      const y = this.y;\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(d3.axisBottom(x));\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('class', 'axis')\n          .attr('font-size', 20)\n          .selectAll('text')\n            .attr('transform', 'translate(0, 10) rotate(20)')\n            .style('text-anchor', 'start');\n\n        const yAxis = (g: any) => g\n          .attr('transform', `translate(${this.width}, ${0})`)\n          .call(d3.axisRight(y));\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('class', 'axis')\n          .attr('font-size', 20)\n          .selectAll('text');\n\n        svg.selectAll('.axis').selectAll('.domain').remove();\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        // svg.append('text')\n        //   .attr('transform', () => {\n        //     const xOffset = this.width / 2;\n        //     const yOffset = this.height + this.margin.bottom * 0.8;\n        //     return `translate(${xOffset}, ${yOffset})`;\n        //   })\n        //   .style('text-anchor', 'middle')\n        //   .style('font-size', '24px')\n        //   .text('Classifier 1');\n\n        // svg.append('text')\n        //   .attr('transform', 'rotate(-90)')\n        //   .attr('x', -this.height / 2)\n        //   .attr('y', -this.margin.left * 0.9)\n        //   .attr('dy', '1em')\n        //   .style('text-anchor', 'middle')\n        //   .style('font-size', '24px')\n        //   .text('Classifier 2');\n\n        svg.append('text')\n          .attr(\n            'transform',\n            `translate(\n              ${-this.margin.left / 2 + this.width / 2 + this.margin.right / 2},\n              ${-this.margin.top / 3}\n            )`,\n          )\n          .attr('text-anchor', 'middle')\n          .style('font-size', '30px')\n          .text('Pairwise Classifier Consensus');\n      };\n      // drawTitles();\n\n      const drawLegend = () => {\n        const margin = 50;\n        const width = this.margin.left - 2 * margin;\n        const height = this.height - 2 * margin;\n\n        // @ts-ignore\n        const defs = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('defs');\n\n        interface GradientData {\n          id: string;\n          color: string;\n        }\n        const gradientsData: GradientData[] = [\n          {\n            id: generateRandomId(),\n            color: this.agreeColor,\n          },\n          {\n            id: generateRandomId(),\n            color: this.disagreeColor,\n          },\n        ];\n\n        const gradients = defs.selectAll('linearGradient')\n          .data(gradientsData)\n          .join('linearGradient')\n            .attr('id', (d: GradientData) => d.id)\n            .attr('x1', '0%')\n            .attr('y1', '100%')\n            .attr('x2', '0%')\n            .attr('y2', '0%');\n        gradients.append('stop')\n          .attr('offset', '0%')\n          .attr('stop-color', this.neutralColor)\n          .attr('stop-opacity', 1);\n        gradients.append('stop')\n          .attr('offset', '100%')\n          .attr('stop-color', (d: GradientData) => d.color)\n          .attr('stop-opacity', 1);\n\n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(${margin}, ${this.margin.top + margin})`);\n\n        legend.selectAll('rect')\n          .data(gradientsData)\n          .join('rect')\n            .attr('x', (d: GradientData, i: number) => i * width / 2)\n            .attr('width', width / 2)\n            .attr('height', height)\n            .attr('fill', (d: GradientData, i: number) => `url(#${d.id})`)\n            .attr('stroke', 'black');\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height + margin / 2})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .text(0);\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${-margin / 2})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .text(this.consensusMax);\n\n        legend.append('text')\n          .attr('transform', `translate(${-margin / 2}, ${height / 2}) rotate(-90)`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text('Number of instances');\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 4}, ${height / 2}) rotate(-90)`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text('agree');\n        legend.append('text')\n          .attr('transform', `translate(${width * 3 / 4}, ${height / 2}) rotate(-90)`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text('disagree');\n\n        console.log('legend draw');\n      };\n      drawLegend();\n\n      const drawSquares = () => {\n        const cells = svg.selectAll('.cell')\n          .data(this.keyCross)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', (d: string) => `translate(${x(d[0])}, ${y(d[1])})`)\n            .on('mouseenter', (d: [string, string]) => {\n              const consensusType = this.whichTriangle(d);\n              if (!consensusType) {\n                return;\n              }\n              this.hover = { consensusType, classifiers: d };\n            })\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: [string, string]) => this.select(d, 'first'))\n            .on('contextmenu', (d: [string, string]) => this.select(d, 'second'));\n\n        cells.append('rect')\n          .attr('width', x.bandwidth())\n          .attr('height', y.bandwidth())\n          .attr('fill', (d: [string, string]) => {\n            const consensusType = this.whichTriangle(d);\n            if (!consensusType) {\n              return this.backgroundColor;\n            }\n            const count = this.consensus[d[0]][d[1]][consensusType].size;\n            const scale = consensusType === 'agree'\n              ? this.agreeScale\n              : this.disagreeScale;\n            return scale(count);\n          })\n          .attr('stroke', (d: [string, string]) => d[0] === d[1] ? 'none' : 'black')\n          .style('paint-order', 'stroke');\n\n        cells.append('circle')\n          .attr('class', 'hover-circle')\n          .attr('cx', x.bandwidth() / 2)\n          .attr('cy', y.bandwidth() / 2)\n          .attr('r', Math.min(x.bandwidth(), y.bandwidth()) / 12)\n          .attr('fill', 'black');\n\n        const selections = () => {\n          const n = 10;\n\n          cells.append('rect')\n            .attr('y', this.y.bandwidth() * (n - 2) / n)\n            .attr('width', (d: [string, string]) =>\n              d[0] === d[1]\n                ? 0\n                : this.x.bandwidth())\n            .attr('height', this.y.bandwidth() / n * 2)\n            .attr('fill', 'black');\n          cells.append('rect')\n            .attr('class', 'selection-1')\n            .attr('y', this.y.bandwidth() * (n - 2) / n)\n            .attr('height', this.y.bandwidth() / n)\n            .attr('fill', this.selection1Color);\n          cells.append('rect')\n            .attr('class', 'selection-2')\n            .attr('y', this.y.bandwidth() * (n - 1) / n)\n            .attr('height', this.y.bandwidth() / n)\n            .attr('fill', this.selection2Color);\n        };\n        selections();\n      };\n\n      const hoverText = () => {\n        svg.append('text')\n          .attr('class', 'hover-text')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .attr('font-size', 20)\n          .attr('pointer-events', 'none');\n      };\n\n      drawSquares();\n      hoverText();\n\n      this.drawHover();\n      this.drawSelections();\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const hoverText = chart.select('.hover-text');\n\n      if (this.hover.consensusType) {\n        const [c1, c2] = this.hover.classifiers;\n        const count = this.consensus[c1][c2][this.hover.consensusType].size;\n        hoverText\n          .attr('fill-opacity', 0)\n          .attr('transform', `translate(\n            ${(this.x(c1) as number) + this.x.bandwidth() / 2},\n            ${(this.y(c2) as number) + this.y.bandwidth() / 2})`)\n          .text(count)\n          .transition()\n          .duration(500)\n          .attr('fill-opacity', 1);\n      } else {\n        hoverText.text('');\n      }\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const barSelection1 = chart.selectAll('.selection-1');\n      const barSelection2 = chart.selectAll('.selection-2');\n\n      const { first, second } = this.selections;\n\n      const barWidth = (d: [string, string], selection: SelectionRecord) => {\n        const consensusType = this.whichTriangle(d);\n        if (!consensusType) {\n          return 0;\n        }\n        const instances = this.consensus[d[0]][d[1]][consensusType];\n        const overlappingInstances = intersection(instances, selection.instances);\n        const fractionOfTotalInstances = overlappingInstances.size / instances.size;\n        const width = this.x.bandwidth() * fractionOfTotalInstances;\n        return width;\n      };\n\n      if (!first) {\n        barSelection1.attr('width', 0);\n      } else {\n        barSelection1\n          .data(this.keyCross)\n          .attr('width', (d: [string, string]) => barWidth(d, first));\n      }\n\n      if (!second) {\n        barSelection2.attr('width', 0);\n      } else {\n        barSelection2\n          .data(this.keyCross)\n          .attr('width', (d: [string, string]) => barWidth(d, second));\n      }\n    },\n    select(\n      classifiers: [string, string],\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const consensusType = this.whichTriangle(classifiers);\n      if (!consensusType) {\n        return;\n      }\n\n      const [c1, c2] = classifiers;\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.AGREE;\n      constraint.negation = (consensusType === 'disagree');\n      constraint.classifier = c1;\n      constraint.classifier2 = c2;\n\n      const instances = this.consensus[c1][c2][consensusType];\n      const description = `Instances on which classifiers ${c1} and ${c2} ${consensusType}`;\n\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric:[]\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    whichTriangle(classifiers: [string, string]) {\n      const [c1, c2] = classifiers;\n      const c1Index = this.consensusKeys.indexOf(c1);\n      const c2Index = this.consensusKeys.indexOf(c2);\n      if (c1Index < c2Index) {\n        return 'agree';\n      }\n      if (c1Index > c2Index) {\n        return 'disagree';\n      }\n      return '';\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PairwiseClassifierConsensus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PairwiseClassifierConsensus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PairwiseClassifierConsensus.vue?vue&type=template&id=91ee6e68&scoped=true&\"\nimport script from \"./PairwiseClassifierConsensus.vue?vue&type=script&lang=ts&\"\nexport * from \"./PairwiseClassifierConsensus.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PairwiseClassifierConsensus.vue?vue&type=style&index=0&id=91ee6e68&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91ee6e68\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"4px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Metrics Table\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Display Mode\"},model:{value:(_vm.display_mode),callback:function ($$v) {_vm.display_mode=$$v},expression:\"display_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall mode \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"uncertain mode\",\"value\":\"uncertain\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Performance Type\"},model:{value:(_vm.weightedPerformance),callback:function ($$v) {_vm.weightedPerformance=$$v},expression:\"weightedPerformance\"}},[_c('v-radio',{attrs:{\"label\":\"normal\",\"value\":\"normal\"}}),_c('v-radio',{attrs:{\"label\":\"weighted\",\"value\":\"weighted\"}})],1)],1)])],1)],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.metrics,\"datasetType\":_vm.datasetType,\"continuous_dict\":_vm.continuous_dict,\"multi-sort\":\"\",\"sort-by\":_vm.sortby},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.classifier},[_c('td',[_vm._v(_vm._s(item.classifier))]),(_vm.datasetType == 'continuous'  && _vm.display_mode == 'overall')?_c('td',{staticClass:\"column0\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].cur_threshold.toFixed(2)))))]):_vm._e(),(_vm.datasetType == 'continuous'  && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column0\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].cur_uncertain))))]):_vm._e(),( _vm.datasetType != 'continuous' )?_c('td',{staticClass:\"column1\"},[_vm._v(\" \"+_vm._s((\"\" + (item.metrics.accuracy.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain' )?_c('td',{staticClass:\"column1\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].accuracy.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain' )?_c('td',{staticClass:\"column1\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].m_accuracy.toFixed(3)))))]):_vm._e(),(_vm.datasetType != 'continuous')?_c('td',{staticClass:\"column2\"},[_vm._v(_vm._s((\"\" + (item.metrics.mcc.average.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain')?_c('td',{staticClass:\"column2\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].mcc.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column2\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].m_mcc.toFixed(3)))))]):_vm._e(),(_vm.classNumber > 2)?_c('td',{staticClass:\"column3\"},[_vm._v(_vm._s((\"\" + (item.metrics.microf1.average.toFixed(3)))))]):_vm._e(),(_vm.classNumber > 2)?_c('td',{staticClass:\"column4\"},[_vm._v(_vm._s((\"\" + (item.metrics.macrof1.average.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType != 'continuous')?_c('td',{staticClass:\"column5\"},[_vm._v(_vm._s((\"\" + (item.metrics.precision.average.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType != 'continuous')?_c('td',{staticClass:\"column6\"},[_vm._v(_vm._s((\"\" + (item.metrics.recall.average.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType != 'continuous')?_c('td',{staticClass:\"column7\"},[_vm._v(_vm._s((\"\" + (item.metrics.f1.average.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain')?_c('td',{staticClass:\"column5\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].precision.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain')?_c('td',{staticClass:\"column6\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].recall.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain')?_c('td',{staticClass:\"column7\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].f1.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column5\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].m_precision.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column6\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].m_recall.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column7\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].m_f1.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain')?_c('td',{staticClass:\"column8\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].auc_area.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column8\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].ins_per))))]):_vm._e()])}),0)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport {\n  BoxProps,\n  Metrics,\n  ContinuousMetrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\ninterface Header {\n  text: string;\n  value: string;\n}\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\ninterface ContinuousMetricsWithClassifier{\n  classifier: string;\n  continuous_metrics: ContinuousMetrics;\n}\n\n\nexport default Vue.extend({\n  name: 'MetricsTable',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const display_mode = 'overall' as 'overall' | 'uncertain' \n    const weightedPerformance = 'normal' as 'normal' | 'weighted'\n\n    return {\n      weightedPerformance,\n      display_mode:'overall',\n      pagination: {\n        rowsPerPage: 10,\n      },\n      panel: [],\n      sortby: [],\n      classNumber:[...this.boxProps.classes].length,\n    };\n  },\n  computed: {\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      return this.$store.state.addedThresholdClassifiers.map((c)=>c.name);\n    },\n    additionalMetrics():{\n        [classifier: string]: Metrics,\n      } {\n      return this.$store.getters.additionMetrics;\n    },\n    thresholdClassifierNameList():string[] {\n      return this.$store.state.thresholdClassifierNameList\n    },\n    classifierBandWidthDict(): string[] {\n      return this.boxProps.classifierBandWidthDict;\n    },\n    classifierThresholds():{} {\n      let classifierThresholds = {}\n      this.thresholdClassifierNameList.forEach((c)=>{\n        let classifier = c.split(\"_\")[0]\n        let threshold = (parseInt(c.split(\"_\")[1]) / 100).toFixed(2)\n        classifierThresholds[classifier] = threshold\n      })\n      return classifierThresholds;\n    },\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n    continuousClassifierName():{} {\n      var continuousClassifierName = {}\n      this.classifiers.forEach((c)=>{\n        if (this.$store.state.datasetType == \"continuous\") {\n          continuousClassifierName[c] = c + \"_\" + this.classifierThresholdDict[c]/100\n        } else {\n          continuousClassifierName[c] = c;\n        }\n      })\n      return continuousClassifierName;\n    },\n    weighted_metrics() : ContinuousMetricsWithClassifier[] {\n      const storeContinuousMetrics: {\n        [classifier: string]: ContinuousMetrics,\n      } = this.$store.getters.weighted_metrics;\n      const weighted_metrics: ContinuousMetricsWithClassifier[] = Object.entries(storeContinuousMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          continuous_metrics: m,\n        };\n      });\n      return weighted_metrics;\n    },\n    continuous_metrics(): ContinuousMetricsWithClassifier[] {\n      const storeContinuousMetrics: {\n        [classifier: string]: ContinuousMetrics,\n      } = this.$store.getters.continuous_metrics;\n      const continuous_metrics: ContinuousMetricsWithClassifier[] = Object.entries(storeContinuousMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          continuous_metrics: m,\n        };\n      });\n      return continuous_metrics;\n    },\n    continuous_dict(): {} {\n      const continuous_dict = this.weightedPerformance == 'normal' ? this.$store.getters.continuous_metrics: this.$store.getters.weighted_metrics;\n      const standardClassifier = ['Majority Classifier','Oracle', 'Random Classifier']\n      const classifierBandWidthDict = this.classifierBandWidthDict\n      if (this.datasetType == 'continuous'){\n        let new_continuous_dict = {}\n        for (let key in continuous_dict){\n          if (!standardClassifier.includes(key)){\n            new_continuous_dict[key] = continuous_dict[key]\n            if (this.display_mode == 'uncertain') {\n              let real_tp = new_continuous_dict[key].tp \n              let real_tn = new_continuous_dict[key].tn\n              let real_fp = new_continuous_dict[key].fp\n              let real_fn = new_continuous_dict[key].fn\n              new_continuous_dict[key].m_accuracy  = (real_tp + real_tn) / (real_tp + real_fp + real_tn + real_fn)       \n              new_continuous_dict[key].m_precision = (real_tp)  / (real_tp + real_fp)   \n              new_continuous_dict[key].m_recall = (real_tp) / (real_tp + real_fn)\n              new_continuous_dict[key].m_f1 = (new_continuous_dict[key].m_precision + new_continuous_dict[key].m_recall == 0) ? 0 : 2 * new_continuous_dict[key].m_precision * new_continuous_dict[key].m_recall / (new_continuous_dict[key].m_precision + new_continuous_dict[key].m_recall)\n              if ((Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn))) == 0) {\n                new_continuous_dict[key].m_mcc = 0;\n              } \n              if ((real_tp+real_fp)*(real_tp+real_fn)*(real_tn+real_fp)*(real_tn+real_fn) != 0) {\n                new_continuous_dict[key].m_mcc = ((real_tp*real_tn-real_fp*real_fn) / Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn)))\n              } \n            } else {\n              new_continuous_dict[key].m_accuracy = 0\n              new_continuous_dict[key].m_precision = 0\n              new_continuous_dict[key].m_recall = 0\n              new_continuous_dict[key].m_f1 = 0\n              new_continuous_dict[key].m_mcc = 0\n            }\n          } \n        }\n        return new_continuous_dict\n      }\n      return continuous_dict;\n    },\n   \n    metrics(): MetricsWithClassifier[] {\n      const standardClassifier = ['Majority Classifier','Oracle', 'Random Classifier']\n      const storeMetrics: {\n        [classifier: string]: Metrics,\n      } = this.$store.getters.metrics;\n      const metrics: MetricsWithClassifier[] = Object.entries(storeMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          metrics: m,\n        };\n      })\n  \n      let new_metrics: MetricsWithClassifier[] = []\n      if (this.datasetType == 'continuous') {\n        const addtionalStoreMetrics: {\n          [classifier: string]: Metrics,\n        } = this.$store.getters.additionMetrics;\n        const additionMetrics: MetricsWithClassifier[] = Object.entries(addtionalStoreMetrics).map(([classifier, m]) => {\n          return {\n            classifier,\n            metrics: m,\n          };\n        })\n        for (let item in metrics) {\n          if (!standardClassifier.includes(metrics[item].classifier)) {\n            new_metrics.push(metrics[item])\n          }\n        }\n        for (let item in additionMetrics) {\n          if (!standardClassifier.includes(additionMetrics[item].classifier)) {\n            new_metrics.push(additionMetrics[item])\n          }\n        }\n        return new_metrics\n      }\n      return metrics;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      return [...this.boxProps.classifiers];\n    },\n    headers(): Header[] {\n      const headers = this.datasetType != \"continuous\"?[\n        { text: 'Classifier', value: 'classifier' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Accuracy', value: 'accuracy' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'MCC', value: 'mcc' },\n      ]:this.display_mode == 'overall'?[\n        { text: 'Classifier', value: 'classifier' },\n        { text: 'Threshold', value: 'threshold' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Accuracy', value: 'accuracy' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'MCC', value: 'mcc' },\n      ]\n        : [\n        { text: 'Classifier', value: 'classifier' },\n        { text: 'Uncertain Range', value: 'uncertainty' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Accuracy', value: 'accuracy' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'MCC', value: 'mcc' },\n      ];\n      if (this.classes.length<= 2) {\n        headers.push({ text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Precision', value: 'precision' })\n        headers.push({ text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Recall', value: 'recall' })\n        headers.push({ text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'F1', value: 'f1' })\n      } else {\n        headers.push({ text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Micro-F1', value: 'microf1' })\n        headers.push({ text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Macro-F1', value: 'macrof1' })\n      }\n      if (this.datasetType == \"continuous\" ){\n        if (this.display_mode == 'overall') {\n          headers.push({ text: 'AUC', value: 'auc_area' })\n        } else {\n          headers.push({ text: 'Instances Percentage', value: 'ins_per' })\n        }\n      } \n     \n      return headers;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    truncatedInstances(): string[] {\n      return this.instances.slice(0, 10);\n    },\n  },\n  mounted() {\n    console.log(this.metrics);\n    console.log(this.classes)\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardMetrics.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardMetrics.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StandardMetrics.vue?vue&type=template&id=29ea7f8d&scoped=true&\"\nimport script from \"./StandardMetrics.vue?vue&type=script&lang=ts&\"\nexport * from \"./StandardMetrics.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StandardMetrics.vue?vue&type=style&index=0&id=29ea7f8d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29ea7f8d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VDataTable,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Metrics Parallel\")])],1)])],1)],1),_c('div',{attrs:{\"id\":\"legend1\"}},[_c('v-switch',{attrs:{\"label\":\"Filter\"},model:{value:(_vm.normalization_switch),callback:function ($$v) {_vm.normalization_switch=$$v},expression:\"normalization_switch\"}})],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\n\nexport default Vue.extend({\n  name: 'MetricsParallel',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    return {\n      height,\n      normalization:'No',\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      selectedEval:'',\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n    };\n  },\n  computed: {\n    normalization_switch: {\n      get: function() {\n\t\t\t\treturn this.normalization === \"Yes\";\n\t\t\t},\n\t\t\tset: function() {\n        if (this.normalization == \"Yes\") {\n          this.normalization = \"No\"\n        } else {\n          this.normalization = \"Yes\"\n        }\n\t\t\t},\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    evaluationMethods(): string[] {\n      \n      const evaluationMethods = [\"accuracy\", \"mcc\"];\n      if (this.classes.length > 2) {\n        evaluationMethods.push(\"microf1\")\n        evaluationMethods.push(\"macrof1\")\n      } else {\n        evaluationMethods.push(\"precision\")\n        evaluationMethods.push(\"recall\")\n        evaluationMethods.push(\"f1\")\n      }\n      return evaluationMethods;\n    },\n    \n    metrics(): MetricsWithClassifier[] {\n      const storeMetrics: {\n        [classifier: string]: Metrics,\n      } = this.$store.getters.metrics;\n\n      const metrics: MetricsWithClassifier[] = Object.entries(storeMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          metrics: m,\n        };\n      });\n      return metrics;\n    },\n    predictions(): {\n      [classifier: string]: {\n        right: Set<string>,\n        wrong: Set<string>,\n      },\n    } {\n      const predictions: {\n        [classifier: string]: {\n          right: Set<string>,\n          wrong: Set<string>,\n        },\n      } = {};\n\n      this.classifiers.forEach((c) => {\n        predictions[c] = {\n          right: new Set(),\n          wrong: new Set(),\n        };\n      });\n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        this.classifiers.forEach((c) => {\n          if (i.predictions[c] === i.actual) {\n            predictions[c].right.add(id);\n          } else {\n            predictions[c].wrong.add(id);\n          }\n        });\n      });\n\n      return predictions;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.evaluationMethods)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n  },\n  watch: {\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawSelections();\n    },\n    normalization_switch() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    drawInitial() {\n      console.log(\"normalization_switch\",this.normalization);\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        // .call(d3.zoom().on(\"zoom\", function () {\n        //     svg.attr(\"transform\", d3.event.transform)\n        // }))  \n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const x = this.x;\n      const y = this.y;\n      \n\n      const drawParelle = () => {\n        let vueThis = this;\n\n\n        const sequentialScale = d3.scaleSequential<string>( d3.interpolateWarm)\n        .domain([0, 100])\n        .interpolator(function (x) { return d3.interpolateWarm(.8*x);} );\n            \n\n\n        continuous(\"#legend1\", sequentialScale);\n\n        var data = [];\n        const fakeyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n        ];\n        \n        this.metrics.forEach((classifier)=>{\n          var cur_dict = {\"name\":classifier.classifier,\"accuracy\":classifier.metrics.accuracy ? classifier.metrics.accuracy : 0, \"mcc\":classifier.metrics.mcc.average ? classifier.metrics.mcc.average : 0}\n          let flag = 1;\n          if (this.classes.length > 2) {\n            cur_dict[\"microf1\"] = classifier.metrics.microf1.average ? classifier.metrics.microf1.average  : 0;\n            cur_dict[\"macrof1\"] = classifier.metrics.macrof1.average ? classifier.metrics.macrof1.average : 0;\n            if (this.normalization == \"Yes\") {\n              if ( cur_dict[\"microf1\"] < 0.5 ||  cur_dict[\"macrof1\"] < 0.5) flag = 0\n            }\n          } else {\n            cur_dict[\"precision\"] = classifier.metrics.precision.average ? classifier.metrics.precision.average : 0;\n            cur_dict[\"recall\"] = classifier.metrics.recall.average ? classifier.metrics.recall.average : 0;\n            cur_dict[\"f1\"] = classifier.metrics.f1.average ? classifier.metrics.f1.average: 0;\n            if (this.normalization == \"Yes\") {\n              if ( cur_dict[\"precision\"] < 0.5 ||  cur_dict[\"recall\"] < 0.5 || cur_dict[\"f1\"]  < 0.5) flag = 0\n            }\n          }\n          if (this.normalization == \"Yes\") {\n            if ( cur_dict[\"accuracy\"] < 0.5 ||  cur_dict[\"mcc\"] < 0 ) flag = 0\n          }\n          if (flag == 1)\n           data.push(cur_dict)\n        })\n \n\n        var rect_width = (this.width-this.margin.top -this.margin.bottom) / (2 *(data.length+3))\n        //draw classifier selection box\n        svg.selectAll(\"myRect\")\n          .data(data)\n          .enter().append(\"rect\")\n              .attr('x',  -this.margin.left+10)\n              .attr(\"y\", (d,i)=>this.width/5+i*(rect_width+2))\n              .attr('width', this.margin.left+50)\n              .attr('height',rect_width)\n              .attr('fill', (d,i)=>{\n                return fakeyClassifiers.includes(d.name)?\"lightgrey\":\"#69b3a2\"})\n              .attr(\"opacity\",\"1\")  \n              .attr('stroke',\"black\")\n              .attr('stroke-width',1)\n              .style(\"text-anchor\", \"middle\")\n              .attr(\"class\",\"rect-classifier\")\n              \n        svg.selectAll(\"myRectText\")\n          .data(data)\n          .enter().append(\"text\")\n              .style(\"text-anchor\", \"middle\")\n              .attr('x',  (-this.margin.left+50)/3)\n              .attr(\"y\", (d,i)=>this.width/5+i*(rect_width+2)+rect_width/3*2)\n              .attr(\"class\",\"text-rect-classifier\")\n              .text((d,i)=>{\n                return d.name})\n              .style(\"fill\", \"black\")\n              .style(\"font-size\", \"18px\")\n              .on('mouseenter', function(d,i) {\n                d3.select(this).attr(\"fill\", \"white\")\n                showHover(d,i)\n              })\n              .on('mouseleave', function(d,i) {\n                d3.select(this).attr(\"fill\", \"black\")\n                removeHover(d,i)\n              })\n\n\n        console.log(\"parallel data\", data)\n        const dimensions = d3.keys(data[0]).filter(function(d) { return d!=\"name\" })\n        const evaluationMethods = this.evaluationMethods\n\n        var y = {}\n        for (var i in dimensions) {\n          var name = dimensions[i];\n          var lowthreshold = 0;\n          if (this.normalization == \"Yes\") {\n              y[name] = d3.scaleLinear()\n            .domain([name == \"mcc\"? 0 : .5, 1])\t\t\n              .range([this.height, 0])\n          } else {\n            y[name] = d3.scaleLinear()\n          .domain([name == \"mcc\"? -1 : 0, 1])\n              .range([this.height, 0])\n          }\n        }\n        var x = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(dimensions);\n\n        function path(d) {\n            return d3.line()(dimensions.map(function(p) { \n              return [x(p), y[p](d[p])]; }));\n        }\n\n\n        var curdata = []\n        data.forEach(d=>{\n            curdata.push(d)\n        });\n        \n        svg\n          .selectAll(\"myPath\")\n          .data(data)\n          .enter().append(\"path\")\n          .attr(\"d\",  path)\n          .attr(\"class\",\"parallel-path\")\n          .attr(\"id\",(d,i)=>d.name)\n          .style(\"fill\", \"none\")\n          .style(\"stroke\", (d,i)=>{\n            return fakeyClassifiers.includes(d.name)?\"grey\":\"#69b3a2\"\n            })\n          .style(\"stroke-width\", 3)\n          .style(\"opacity\", 1)\n          .on('mouseenter', function(d,i) {\n              showHover(d,i)\n            })\n            .on('mouseleave', function(d,i) {\n              removeHover(d,i)\n            })\n\n        // Draw the axis:\n        svg.selectAll(\"myAxis\")\n          .data(dimensions).enter()\n          .append(\"g\")\n          .attr(\"transform\", function(d) { return \"translate(\" + x(d) + \")\"; })\n          .each(function(d) { d3.select(this).call(d3.axisLeft<d3.AxisDomain>(y[d]).scale(y[d])); })\n          .append(\"text\")\n            .attr(\"class\",\"parallel-text\")\n            .attr(\"id\",(d,i)=>\"parallel-text-\"+i)\n            .style(\"text-anchor\", \"middle\")\n            .attr(\"y\", -9)\n            .attr('font-size', 22)\n            .text(function(d) { return d; })\n            .style(\"fill\", \"grey\")\n            .on(\"click\", (d,i)=>{  \n                  this.curclick = [d,i]\n                  showSelected(d,i,vueThis)\n                  }\n            )\n        \n        if (this.curclick.length ==2) showSelected(this.curclick[0],this.curclick[1],vueThis)\n       function showHover(d,i) {\n         const allpaths = d3.selectAll('.parallel-path')\n                        .style(\"stroke-width\", (m)=>d.name==m[\"name\"]?6:3)\n                        .attr(\"stroke-opacity\",(m)=>d.name==m[\"name\"]?\"1\":\"0.2\")\n         const allRects =  d3.selectAll('.rect-classifier').attr(\"opacity\", (m)=>d.name==m[\"name\"]?\"1\":\"0.2\")  //.style(\"fill\",  (m)=>d.name==m.name?\"grey\":\"lightgrey\")\n         const allRectTexts = d3.selectAll('.text-rect-classifier').attr(\"opacity\", (m)=>d.name==m[\"name\"]?\"1\":\"0.2\")//.style(\"fill\", (m)=>d.name==m.name?\"white\":\"black\")\n\n       }      \n\n       function removeHover(d,i) {\n         const allpaths = d3.selectAll('.parallel-path')\n                        .style(\"stroke-width\", 3)\n                        .attr(\"stroke-opacity\",\"1\")\n         const allRects =  d3.selectAll('.rect-classifier').attr(\"opacity\", \"1\")\n         const allRectTexts = d3.selectAll('.text-rect-classifier').attr(\"opacity\", \"1\")\n          \n       }\n       function showSelected(d,i,vueThis) {\n         const margin = {top: 30, right: 20, bottom: 90, left: 120};\n          const width = 1000 - margin.left - margin.right;\n          const height = 600 - margin.top - margin.bottom;\n          var rect_width = (width-margin.top -margin.bottom) / (2 *(data.length+3))\n          const sequentialScale = d3.scaleSequential<string>( d3.interpolateWarm)\n            .domain([0, vueThis.classifiers.length-1])\n            .interpolator(function (x) { return d3.interpolateWarm(.8*x);} );\n      \n          const allpaths = d3.selectAll('.parallel-path');\n          const allpathtexts = d3.selectAll('.parallel-text').style(\"fill\", \"grey\")\n                              .style(\" font-weight\",\"normal\").attr('font-size', 22); \n          const allRects =  d3.selectAll('.rect-classifier')//.attr(\"opacity\", (m)=>d.name==m.name?\"1\":\"0.2\")  //.style(\"fill\",  (m)=>d.name==m.name?\"grey\":\"lightgrey\")\n          const allRectTexts = d3.selectAll('.text-rect-classifier')//.attr(\"opacity\", (m)=>d.name==m.name?\"1\":\"0.2\")//.style(\"fill\", (m)=>d.name==m.name?\"white\":\"black\")\n\n                      \n\n          const evaluation = dimensions[i]\n          var curtops = []\n          \n          curdata.sort(function(x,y) {\n            return  y[evaluation] - x[evaluation]});\n          var count = 0;\n          while (count < 3) {\n            curtops.push(curdata[count].name)\n            count += 1;\n          }\n\n          var fakeData = curdata.filter(d=>{\n            return fakeyClassifiers.includes(d.name)})\n\n          curdata = curdata.filter(d=>{\n            return !fakeyClassifiers.includes(d.name)})\n          curdata = curdata.concat(fakeData)\n          \n          console.log(\"curdata\",curdata, fakeData)\n\n          allpathtexts\n            .style(\"fill\", function(d,j){\n            return i===j?\"black\":\"grey\"\n            })\n            .style(\"font-weight\",function(d,j){\n            return i===j?\"bold\":\"normal\"\n            })\n            .attr('font-size', function(d,j){\n            return i===j?24:20\n            }); \n\n          var pathColormap = {}\n          for (var k in curdata) {\n              pathColormap[curdata[k][\"name\"]] = k\n          }\n          \n          allpaths.style(\"stroke\",(d,i)=>{\n            if (fakeyClassifiers.includes(d[\"name\"])) {\n              return \"grey\"\n            }\n            return sequentialScale(pathColormap[d[\"name\"]])\n            });   \n          allRects.data(curdata).attr(\"fill\",(d,i)=>{\n            if (fakeyClassifiers.includes(d[\"name\"])) {\n              return \"lightgrey\"\n            }\n            return sequentialScale(pathColormap[d[\"name\"]])\n            })\n            .attr(\"y\", (d,i)=>width/5+i*(rect_width+2));   \n         allRectTexts.data(curdata)\n            .style(\"fill\",(d,i)=>{\n            if (fakeyClassifiers.includes(d[\"name\"])) {\n              return \"black\"\n            }\n            return \"lightgrey\"\n            })\n            .attr('x',  (-margin.left+35)/3)\n            .text((d,i)=>{\n                return d.name});\n        }\n\n        function continuous(selector_id, colorscale) {\n          var legendheight = 40,\n              legendwidth = 20,\n              margin = {top: 2, right: 2, bottom: 0, left: 10};\n\n          var canvas = d3.select(selector_id)\n            .style(\"height\", legendheight + \"px\")\n            .style(\"width\", legendwidth + \"px\")\n            .style(\"position\", \"relative\")\n            .append(\"canvas\")\n            .attr(\"height\", legendheight - margin.top - margin.bottom)\n            .attr(\"width\", 1)\n            .style(\"height\", (legendheight - margin.top - margin.bottom) + \"px\")\n            .style(\"width\", (legendwidth - margin.left - margin.right) + \"px\")\n            .style(\"border\", \"1px solid #000\")\n            .style(\"position\", \"absolute\")\n            .style(\"top\", \"120%\")\n            .style(\"left\", \"50%\")\n            .node();\n\n          var ctx = canvas.getContext(\"2d\");\n\n          var legendscale = d3.scaleLinear()\n            .range([1, legendheight - margin.top - margin.bottom])\n            .domain(colorscale.domain());\n\n          var image = ctx.createImageData(1, legendheight);\n          d3.range(legendheight).forEach(function(i) {\n            var c = d3.rgb(colorscale(legendscale.invert(i)));\n            image.data[4*i] = c.r;\n            image.data[4*i + 1] = c.g;\n            image.data[4*i + 2] = c.b;\n            image.data[4*i + 3] = 255;\n          });\n          ctx.putImageData(image, 0, 0);\n      };\n      }  \n\n      drawParelle()\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2.2;\n            const yOffset = this.height + this.margin.bottom * 0.8;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Evaluation Methods');\n      };\n      drawTitles();\n\n      const drawLegend = () => {\n        const width = this.width / 4;\n        const height = this.margin.top / 2;\n\n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.margin.left + this.width * 3 / 4},\n              ${height / 3})`);\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.wrongColor);\n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.rightColor);\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text('misclassified');\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text('correctly classified');\n      };\n      this.drawSelections();\n      \n    },\n    drawSelections() {\n      /*console.log(\"drw praallel\", this.selections)\n      const { first, second } = this.selections;\n\n      var curclassifier = first.description.split(\" \")[0]\n      var curclass = first.description.split(\" \")[1]\n\n      console.log(curclassifier, curclass)\n      console.log(first.predicate.metric)\n\n\n      const x_edge = this.width / (this.evaluationMethods.length+2)\n      const newEvaluationMethods = [\"accuracy\",\"mcc\",\"precision\",\"recall\"]\n      var path = \"M\";\n      var i = 1\n      for (var value in newEvaluationMethods) {\n        var num = 0;\n        if (newEvaluationMethods[value] == \"accuracy\") {\n          num = first.predicate.metric.right.size / (first.predicate.metric.right.size + first.predicate.metric.wrong.size)\n        } else if (newEvaluationMethods[value] == \"mcc\"){\n          num = first.predicate.metric.right.size / (first.predicate.metric.right.size + first.predicate.metric.wrong.size)\n        } else if (newEvaluationMethods[value] == \"precision\"){\n          num = first.predicate.metric.tp.size / (first.predicate.metric.tp.size + first.predicate.metric.fp.size)\n        } else if (newEvaluationMethods[value] == \"recall\"){\n          num = first.predicate.metric.tp.size / (first.predicate.metric.actual.size)\n        } \n        if (isNaN(num)) \n          num = 0;\n        path += x_edge * i + \",\" + this.height * (1-num)+\"L\"\n        //points[classifierName][this.evaluationMethods[value]] = {\"x\":x_edge*i, \"y\":this.height * (1-num)} \n        i += 1\n      }\n      path = path.substring(0, path.length-1)\n      console.log(path)\n      const chart = d3.select(this.$refs.svg);\n      const selectedpath = chart.select('.seleted-path').attr(\"d\", path);\n      console.log(selectedpath)*/\n      \n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParallelMetrics.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParallelMetrics.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ParallelMetrics.vue?vue&type=template&id=60649a31&scoped=true&\"\nimport script from \"./ParallelMetrics.vue?vue&type=script&lang=ts&\"\nexport * from \"./ParallelMetrics.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ParallelMetrics.vue?vue&type=style&index=0&id=60649a31&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60649a31\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelHeader,VExpansionPanels,VIcon,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Uncertainty Heatmap \")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"calculation criteria\"},model:{value:(_vm.correlationMode),callback:function ($$v) {_vm.correlationMode=$$v},expression:\"correlationMode\"}},[_c('v-radio',{attrs:{\"label\":\"accuracy + (consider uncertainty as right)\",\"value\":\"acc1\"}}),_c('v-radio',{attrs:{\"label\":\"accuracy (consider uncertainty as uncertain)\",\"value\":\"acc2\"}}),_c('v-radio',{attrs:{\"label\":\"accuracy - (consider uncertainty as wrong)\",\"value\":\"acc3\"}}),_c('v-radio',{attrs:{\"label\":\"precision - (consider uncertainty as uncertain)\",\"value\":\"precision\"}}),_c('v-radio',{attrs:{\"label\":\"recall - (consider uncertainty as uncertain)\",\"value\":\"recall\"}}),_c('v-radio',{attrs:{\"label\":\"f1 - (consider uncertainty as uncertain)\",\"value\":\"f1\"}}),_c('v-radio',{attrs:{\"label\":\"mcc - (consider uncertainty as uncertain)\",\"value\":\"mcc\"}})],1)],1)])],1)],1),_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar values = ref.values;\nvar search = ref.search;\nvar isOpen = ref.isOpen;\nreturn [(values.length && !isOpen)?_c('span',{staticClass:\"multiselect__single\"},[_vm._v(\" \"+_vm._s(values.length)+\" options selected \")]):_vm._e()]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{attrs:{\"id\":\"legend1\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport legend from 'd3-svg-legend'\nimport { legendColor } from 'd3-svg-legend'\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\n\n\nexport default Vue.extend({\n  name: 'UncertaintyHeatMap',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = 'descending' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n    };\n    const chosenData = \"All\" as \"All\" | \"selection1\" | \"selection2\"\n    const correlationMode = 'acc2' as 'acc1'| 'acc2' | 'acc3' |'precision'| 'recall'| 'f1' | 'mcc' | 'uncertain';\n    return {\n      min:0,\n      max:100,\n      correlationMode,\n      value: [],\n      chosenData,\n      accuracySorting,\n      height,\n      correlation_mode:'No',\n      hover,\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      selectedEval:'',\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      correlations:[],\n    };\n  },\n  computed: {\n    selectionHistory(): SelectionRecord[] {\n      return this.$store.state.selectionHistory;\n    },\n    options(): any[] {\n      let options = []\n      const classifiers = this.classifiers\n      classifiers.forEach((c)=>{\n        options.push({name: c});\n      })\n      return options\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    uncertaintyRange(): string[] {\n      return [\"0.00\",\"0.01\",\"0.02\",\"0.03\",\"0.04\",\"0.05\",\"0.06\",\"0.07\",\"0.08\",\"0.09\",\"0.10\"]\n    }, \n    confidenceRange(): string[] {\n      return [\"0\",\"0.05\", \"0.1\",\"0.15\", \"0.2\", \"0.25\", \"0.3\",\"0.35\", \"0.4\", \"0.45\", \"0.5\", \"0.55\", \"0.6\", \"0.65\", \"0.7\",\"0.75\", \"0.8\",\"0.85\", \"0.9\",\"0.95\",\"1.0\"]\n\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThresholdDict;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    features() :any[] {\n      \n      const allFeatures = [...this.boxProps.features];\n      const numericTypes = ['interval', 'ratio'];\n      const isNumeric = (featureName: string) => {\n        const feature = this.$store.getters.feature(featureName);\n        return numericTypes.includes(feature.type);\n      };\n      const numericFeatures =  allFeatures.filter(isNumeric);\n      const categoricalFeatures = [...this.boxProps.features].filter((f) => this.$store.getters.feature(f).type === 'categorical');\n      let features = []\n      numericFeatures.forEach((c)=>{\n        features.push(c)\n      })\n      categoricalFeatures.forEach((c)=>{\n        features.push(c)\n      })\n      features = features.filter(f=>f!=\"train_or_test\")\n      return features;\n    },\n    InitialCorrelations(): any[] {\n      \n      let correlations = []\n      let selectedClassifiers = this.value.map((v)=>v.name)\n      let cur_classifier = selectedClassifiers[0] \n      this.confidenceRange.forEach((group)=>{\n        this.confidenceRange.forEach((variable)=>{\n          let cur_threshold = Object.keys( this.classifierThresholds).includes(cur_classifier)? this.classifierThresholds[cur_classifier] / 100 : 0.5\n          let left_edge = parseFloat(group);\n          let right_edge = parseFloat(variable);\n          let c = cur_classifier\n          let predictions = {c:{}}\n          predictions[c] ={\n              'tp':0,\n              'tn':0,\n              'fp':0,\n              'fn':0,\n              'm_tp':0,\n              'm_tn':0,\n              'm_fp':0,\n              'm_fn':0,\n            }\n          if (left_edge <= right_edge) {\n              if (left_edge == right_edge){\n                cur_threshold = group\n              }\n              this.instances.forEach((id)=>{\n              let continuous_value = (instanceById(id).continuous_predictions[c])\n              // let correct = instanceById(id).actual == instanceById(id).predictions[c]? 1 : 0;\n              if (continuous_value > left_edge && continuous_value < right_edge) {\n                  if (instanceById(id).actual == this.classes[1]) {\n                    if (continuous_value >= cur_threshold) {\n                      predictions[c]['m_tp'] += 1\n                    } else {\n                      predictions[c]['m_fn'] += 1\n                    }\n                  } else {\n                    if (continuous_value < cur_threshold) {\n                      predictions[c]['m_tn'] += 1\n                    } else {\n                      predictions[c]['m_fp'] += 1\n                    }\n                  }\n              } else if (continuous_value >= right_edge){\n                if (instanceById(id).actual == this.classes[1]){\n                  predictions[c][\"tp\"] += 1\n                } else {\n                  predictions[c][\"fp\"] += 1\n                }\n              } else{\n                if (instanceById(id).actual == this.classes[0]) {\n                  predictions[c][\"tn\"] += 1\n                } else {\n                  predictions[c][\"fn\"] += 1\n                }\n              }\n                \n            })\n          }\n          \n          let uncertain_size = predictions[c].m_tp +  predictions[c].m_tn +  predictions[c].m_fp +  predictions[c].m_fn;\n          let acc1 = (predictions[c].tp + predictions[c].tn + uncertain_size) / this.instances.length;\n          let acc2 = (predictions[c].tp + predictions[c].tn + predictions[c].m_tp +  predictions[c].m_tn) / this.instances.length;\n          let acc3 = (predictions[c].tp + predictions[c].tn) / this.instances.length;\n          let precision = (predictions[c].tp + predictions[c].fp)==0?0:(predictions[c].tp) / (predictions[c].tp + predictions[c].fp);\n          let recall = (predictions[c].tp + predictions[c].fn)==0?0:(predictions[c].tp) / (predictions[c].tp + predictions[c].fn);\n          let f1  = (precision + recall) == 0 ? 0 : 2 * precision * recall / (precision + recall);\n          let tp = predictions[c].tp; \n          let fp =  predictions[c].fp;\n          let tn =  predictions[c].tn;\n          let fn =  predictions[c].fn\n          let mcc = 0\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n          } else {\n            mcc = 0\n          } \n          correlations.push({\n            'group':group,\n            'variable': variable,\n            'value':acc2 * 100,\n            'acc1':acc1 * 100,\n            'acc3':acc3 * 100,\n            'precision':precision * 100,\n            'recall':recall * 100,\n            'f1': f1 * 100,\n            'mcc': mcc * 100, \n            'uncertainty':uncertain_size / this.instances.length * 100\n          })\n        })\n      })\n      return correlations;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'UncertaintyHeatMap') {\n          if (view.config) {\n            let value  = view.config;\n            this.value = []\n            value.classifiers.forEach((c)=>{\n              if (this.classifiers.includes(c)) {\n                this.value.push({'name':c})\n              }\n            })\n            this.correlationMode = value.correlationMode\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"UncertaintyHeatMap\", \n                    \"config\": {\n                      \"classifiers\":this.value.map((c)=>c.name),\n                      \"correlationMode\":this.correlationMode}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    value() {\n      if (this.value.length > 1) {\n        this.value = [this.value[this.value.length-1]]\n      }\n      this.updateCorrelations();\n      this.drawCorrelation();\n    },\n    instances() {\n      this.updateCorrelations();\n      this.drawCorrelation();\n    },\n    correlationMode() {\n      this.drawCorrelation();\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'UncertaintyHeatMap') {\n        if (view.config) {\n          let value  = view.config;\n          this.value = []\n          value.classifiers.forEach((c)=>{\n            if (this.classifiers.includes(c)) {\n              this.value.push({'name':c})\n            }\n          })\n          this.correlationMode = value.correlationMode\n        }\n      }\n    })\n    this.drawInitial();\n  },\n  methods: {\n    updateCorrelations() {\n     \n      let correlations = []\n      let selectedClassifiers = this.value.map((v)=>v.name)\n      let cur_classifier = selectedClassifiers[0]\n      this.confidenceRange.forEach((group)=>{\n        this.confidenceRange.forEach((variable)=>{\n          let cur_threshold = Object.keys( this.classifierThresholds).includes(cur_classifier)? this.classifierThresholds[cur_classifier] / 100 : 0.5\n          let left_edge = parseFloat(group);\n          let right_edge = parseFloat(variable);\n          let c = cur_classifier\n          let predictions = {c:{}}\n          predictions[c] ={\n              'tp':0,\n              'tn':0,\n              'fp':0,\n              'fn':0,\n              'm_tp':0,\n              'm_tn':0,\n              'm_fp':0,\n              'm_fn':0,\n            }\n          if (left_edge <= right_edge) {\n              this.instances.forEach((id)=>{\n              let continuous_value = (instanceById(id).continuous_predictions[c])\n              let correct = instanceById(id).actual == instanceById(id).predictions[c]? 1 : 0;\n              if (continuous_value > left_edge && continuous_value < right_edge) {\n                  if (instanceById(id).actual == this.classes[1]) {\n                    if (continuous_value >= cur_threshold) {\n                      predictions[c]['m_tp'] += 1\n                    } else {\n                      predictions[c]['m_fn'] += 1\n                    }\n                  } else {\n                    if (continuous_value < cur_threshold) {\n                      predictions[c]['m_tn'] += 1\n                    } else {\n                      predictions[c]['m_fp'] += 1\n                    }\n                  }\n              } else if (continuous_value >= right_edge){\n                if (instanceById(id).actual == this.classes[1]){\n                  predictions[c][\"tp\"] += 1\n                } else {\n                  predictions[c][\"fp\"] += 1\n                }\n              } else{\n                if (instanceById(id).actual == this.classes[0]) {\n                  predictions[c][\"tn\"] += 1\n                } else {\n                  predictions[c][\"fn\"] += 1\n                }\n              }\n                \n            })\n          }\n          let uncertain_size = predictions[c].m_tp +  predictions[c].m_tn +  predictions[c].m_fp +  predictions[c].m_fn\n          let acc1 = (predictions[c].tp + predictions[c].tn + uncertain_size) / this.instances.length;\n          let acc2 = uncertain_size ==  this.instances.length? 0 : (predictions[c].tp + predictions[c].tn) / (this.instances.length - uncertain_size);\n          let acc3 = (predictions[c].tp + predictions[c].tn) / this.instances.length;\n          let precision = predictions[c].tp + predictions[c].fp == 0? 0: (predictions[c].tp) / (predictions[c].tp + predictions[c].fp)\n          let recall = (predictions[c].tp + predictions[c].fn) == 0? 0: (predictions[c].tp) / (predictions[c].tp + predictions[c].fn)\n          let f1  = (precision + recall) == 0 ? 0 : 2 * precision * recall / (precision + recall);\n          let tp = predictions[c].tp; \n          let fp =  predictions[c].fp;\n          let tn =  predictions[c].tn;\n          let fn =  predictions[c].fn\n          let mcc = 0\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n          } else {\n            mcc = 0\n          } \n          correlations.push({\n            'group':group,\n            'variable': variable,\n            'value':acc2 * 100,\n            'acc1':acc1 * 100,\n            'acc3':acc3 * 100,\n            'precision':precision * 100,\n            'recall':recall * 100,\n            'f1': f1 * 100,\n            'mcc': mcc * 100, \n            'uncertainty':uncertain_size / this.instances.length * 100\n          })\n        })\n      })\n      this.correlations = correlations;\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom +  this.margin.left)}`)\n      const svg = svgAll.append('g')\n          .attr(\"class\",\"svg-button\")\n          .attr('transform', `translate(${0}, ${this.margin.top})`);\n      \n      const svg_correlations = svgAll.append('g')\n          .attr(\"class\",\"svg-correlations\")\n          .attr('transform',`translate(${0}, ${this.margin.top*1.2 + this.margin.left })`)     ;\n      const drawTitels = () =>{\n        svgAll.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.5;\n            const yOffset = this.height + this.margin.bottom * 2.5;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Lowerbound Threshold');\n\n        svgAll.append('text')\n          .attr('transform',  () => {\n            const xOffset = this.margin.left / 4;\n            const yOffset = this.height * 0.6;\n            return `translate(${xOffset}, ${yOffset}),`+`rotate(-90)`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Upperbound threshold');\n\n        svgAll.append('text')\n          .attr('class', 'view-title')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.5;\n            const yOffset = this.margin.top * 2;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '30px')\n          .text(this.correlationMode == 'acc2'? 'Accuracy'\n              : this.correlationMode == 'acc1'? 'Accuracy +'\n              : this.correlationMode == 'acc3'? 'Accuracy -'\n              : this.correlationMode == 'precision'? 'Precision'\n              : this.correlationMode == 'recall'? 'Recall'\n              : this.correlationMode == 'f1'? 'F1'\n              : this.correlationMode == 'mcc'? 'MCC'\n              : 'Uncertainty');\n\n      }\n\n      let ndots = 10\n      let midpoint = .5;  \n      let dimgrey = \"#CCC\";\n      let upinterp = d3.interpolatePlasma;\n      let midcolor = upinterp(0);\n      let lowinterp = d3.interpolateRgb(dimgrey,midcolor);\n\n      function cinterp(v) {\n          if (v<=midpoint) {\n              return lowinterp(v/midpoint);\n          } else {\n              return upinterp( (v-midpoint)/(1-midpoint));\n          }\n      }\n\n      for (let y=0; y<ndots+1; y++) {\n          let yv = y/ndots;\n\n          let upinterp = d3.interpolatePlasma;\n          let midcolor = upinterp(0);\n          let lowinterp = d3.interpolateRgb(dimgrey,midcolor);\n\n          function cinterp(v) {\n              if (v<=midpoint) {\n                  return lowinterp(v/midpoint);\n              } else {\n                  return upinterp( (v-midpoint)/(1-midpoint));\n              }\n          }\n\n          svg.append(\"rect\")\n              .attr(\"x\",y*20)\n              .attr(\"y\",0)\n              .attr(\"width\",20)\n              .attr('height',10)\n              .style(\"fill\",cinterp(yv))\n      }\n      const drawLengends = () =>{\n        svg.append(\"circle\")\n          .attr('r',12)\n          .attr(\"cx\",12)\n          .attr(\"cy\",36)\n          .attr('fill', 'purple')\n        svg.append(\"text\")\n          .attr(\"x\",30)\n          .attr(\"y\",42)\n          .text('# non-rejected')\n          .attr('font-size',18)\n\n      };\n      drawTitels();\n      drawLengends();\n      this.drawCorrelation();      \n    },\n    drawCorrelation() {\n      if (this.correlations.length == 0) {\n        this.correlations = this.InitialCorrelations\n      }\n\n      const chart = d3.select(this.$refs.svg);\n      const svg = chart.select(\".svg-correlations\")\n      const svg_legend = chart.select(\".svg-button\")\n      const correlationMode = this.correlationMode;\n      const viewTitile = chart.select('.view-title')\n      \n      viewTitile.text(this.correlationMode == 'acc2'? 'Accuracy'\n              : this.correlationMode == 'acc1'? 'Accuracy +'\n              : this.correlationMode == 'acc3'? 'Accuracy -'\n              : this.correlationMode == 'precision'? 'Precision'\n              : this.correlationMode == 'recall'? 'Recall'\n              : this.correlationMode == 'f1'? 'F1'\n              : this.correlationMode == 'mcc'? 'MCC'\n              : 'Uncertainty');\n\n      svg.selectAll('*').remove();  \n      \n      const drawCorrelation = () =>{\n        // Labels of row and columns\n        var myGroups = []\n        var myVars = []\n\n        this.correlations.forEach((corr)=>{\n          if (!myGroups.includes(corr.group)) {\n            myGroups.push(corr.group)\n          }\n          if (!myVars.includes(corr.variable)){\n            myVars.push(corr.variable)\n          }\n        })\n\n        // Build X scales and axis:\n        var x = d3.scaleBand()\n          .range([ 0, this.width ])\n          .domain(myGroups)\n          .padding(0.01);\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${this.margin.left }, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n\n        // Build X scales and axis:\n        var y = d3.scaleBand()\n          .range([ this.height, 0 ])\n          .domain(myVars)\n          .padding(0.01);\n        const yAxis = (g: any) => g\n          .attr('transform', `translate(${this.margin.left}, ${0})`)\n          .call(d3.axisLeft(y)\n            .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('text-anchor', 'end');  \n\n        var data  = this.correlations;\n                 \n        //Read the data\n\n          // create a tooltip\n          var tooltip = svg.append(\"rect\")\n            .attr(\"width\",this.width)\n            .attr(\"height\",this.margin.left / 4 * 5 -10 )\n            .attr(\"x\",this.margin.left)\n            .attr(\"y\",-this.margin.left-20)\n            .attr(\"rx\",5)\n            .attr(\"fill\", \"white\")\n            .attr(\"stroke\",\"grey\")\n            .attr(\"stroke-width\",2)\n            .style(\"opacity\", 0)\n            \n          var tooltiptext1 = svg.append(\"text\")\n            .attr(\"x\",this.margin.left + 2)\n            .attr(\"y\",(-this.margin.left-60)/2)\n            .attr(\"dy\",\"-0.5em\")\n            .attr(\"font-size\",32)\n          var tooltiptext2 = svg.append(\"text\")\n            .attr(\"x\",this.margin.left + 2)\n            .attr(\"y\",(-this.margin.left-60)/2)\n            .attr(\"dy\",\"0.5em\")  \n            .attr(\"font-size\",32)\n          var tooltiptext3 = svg.append(\"text\")\n            .attr(\"x\",this.margin.left + 2)\n            .attr(\"y\",(-this.margin.left-60)/2)\n            .attr(\"dy\",\"1.5em\")  \n            .attr(\"font-size\",32)\n          var tooltiptext4 = svg.append(\"text\")\n            .attr(\"x\",this.margin.left + 2)\n            .attr(\"y\",(-this.margin.left-60)/2)\n            .attr(\"dy\",\"2.5em\")  \n            .attr(\"font-size\",32)\n          // Three function that change the tooltip when user hover / move / leave a cell\n          var mouseover = function(d) {\n            tooltip.style(\"opacity\", 1)\n          }\n          var mousemove = function(d) {\n            viewTitile.attr('visibility','hidden')\n            tooltiptext1.style(\"opacity\", 1)\n            tooltiptext2.style(\"opacity\", 1)  \n            tooltiptext3.style(\"opacity\", 1) \n            tooltiptext4.style(\"opacity\", 1) \n            tooltiptext1\n              .text('Uncertain Range: '+ d.group + \" - \" + d.variable )\n            tooltiptext2\n              .text('accuracy+ :' + parseFloat(d.acc1).toFixed(3) + '    ' +      'accuracy :' + parseFloat(d.value).toFixed(3) + '    '  + 'accuracy- :' + parseFloat(d.acc3).toFixed(3))\n            tooltiptext3\n              .text('precision :' + parseFloat(d.precision).toFixed(3) + '    ' + 'recall   :' + parseFloat(d.recall).toFixed(3) + '    ' + 'f1 :' + parseFloat(d.f1).toFixed(3))\n            tooltiptext4\n              .text('mcc :' + parseFloat(d.mcc).toFixed(3) + '    ' + 'uncertain :' + parseFloat(d.uncertainty).toFixed(3))\n          }\n          var mouseleave = function(d) {\n            tooltip.style(\"opacity\", 0)\n            tooltiptext1.style(\"opacity\", 0)\n            tooltiptext2.style(\"opacity\", 0)\n            tooltiptext3.style(\"opacity\", 0)\n            tooltiptext4.style(\"opacity\", 0)\n            viewTitile.attr('visibility','visible')\n          }\n\n          // add the squares\n          let midpoint = .5;  \n          let dimgrey = \"#CCC\";\n          let upinterp = d3.interpolatePlasma;\n            let midcolor = upinterp(0);\n            let lowinterp = d3.interpolateRgb(dimgrey,midcolor);\n\n            function cinterp(v) {\n                if (v<=midpoint) {\n                    return lowinterp(v/midpoint);\n                } else {\n                    return upinterp( (v-midpoint)/(1-midpoint));\n                }\n            }\n\n          svg.selectAll()\n            .data(data, function(d) {return d[\"group\"]+':'+d[\"variable\"];})\n            .enter()\n              .append(\"circle\")\n                .attr(\"cx\",function(d) { return y.bandwidth() /1.5+x(d[\"group\"]) })\n                .attr(\"cy\",function(d) { return y.bandwidth() /3+y(d[\"variable\"]) })\n                .attr(\"r\",(d)=>(100-parseFloat (d[\"uncertainty\"])) / 100 * y.bandwidth() / 2)\n              .attr(\"transform\", \"translate(\" + this.margin.left + \",\" + 0 + \")\")\n      \n              .style(\"fill\", d=>{ \n                if (parseFloat (d[\"value\"])  >= 0) \n                  return this.correlationMode == 'acc2'? cinterp(parseFloat (d[\"value\"]) / 100 )\n                        : this.correlationMode == 'acc1'? cinterp(parseFloat (d[\"acc1\"]) / 100 )\n                        : this.correlationMode == 'acc3'? cinterp(parseFloat (d[\"acc3\"]) / 100)\n                        : this.correlationMode == 'precision'? cinterp(parseFloat (d[\"precision\"]) / 100)\n                        : this.correlationMode == 'recall'? cinterp(parseFloat (d[\"recall\"]) / 100)\n                        : this.correlationMode == 'f1'? cinterp(parseFloat (d[\"f1\"]) / 100)\n                        : this.correlationMode == 'mcc'? cinterp(Math.abs(parseFloat (d[\"mcc\"])) / 100)\n                        : cinterp(parseFloat (d[\"uncertainty\"]) / 100 )\n                else \n                  return cinterp(-parseFloat (d[\"value\"]) * 100)\n                  })\n            .attr(\"visibility\",d=>d['group'] > d['variable']? \"hidden\":\"visible\")\n            .on(\"mouseover\", mouseover)\n            .on(\"mousemove\", mousemove)\n            .on(\"mouseleave\", mouseleave)\n        \n      } ;\n\n      \n      drawCorrelation();   \n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertaintyHeatMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertaintyHeatMap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UncertaintyHeatMap.vue?vue&type=template&id=15b659f7&scoped=true&\"\nimport script from \"./UncertaintyHeatMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./UncertaintyHeatMap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UncertaintyHeatMap.vue?vue&type=style&index=0&id=15b659f7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15b659f7\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"InstanceList\")])],1)]),_c('v-expansion-panel-content',[_c('v-switch',{staticClass:\"mx-2\",attrs:{\"label\":\"predictions\"},model:{value:(_vm.show_predictions),callback:function ($$v) {_vm.show_predictions=$$v},expression:\"show_predictions\"}}),_c('v-switch',{staticClass:\"mx-2\",attrs:{\"label\":\"features\"},model:{value:(_vm.show_features),callback:function ($$v) {_vm.show_features=$$v},expression:\"show_features\"}}),_c('v-slider',{attrs:{\"min\":\"1\",\"max\":\"100\",\"label\":\"string length\",\"thumb-label\":\"\"},model:{value:(_vm.string_length),callback:function ($$v) {_vm.string_length=$$v},expression:\"string_length\"}}),_c('v-radio-group',{attrs:{\"label\":\"sort by selection\"},model:{value:(_vm.sortBySel),callback:function ($$v) {_vm.sortBySel=$$v},expression:\"sortBySel\"}},[_c('v-radio',{key:\"none\",attrs:{\"label\":\"none\",\"value\":\"\"}}),_c('v-radio',{key:\"first\",attrs:{\"label\":\"first\",\"value\":\"first\"}}),_c('v-radio',{key:\"second\",attrs:{\"label\":\"second\",\"value\":\"second\"}}),_c('v-radio',{key:\"common\",attrs:{\"label\":\"common\",\"value\":\"common\"}})],1)],1)],1)],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"dense\":\"\",\"headers\":_vm.headers,\"items\":_vm.instances,\"sort-by\":_vm.sortby,\"sort-desc\":_vm.descending},on:{\"update:sortBy\":function($event){_vm.sortby=$event},\"update:sort-by\":function($event){_vm.sortby=$event},\"update:sortDesc\":function($event){_vm.descending=$event},\"update:sort-desc\":function($event){_vm.descending=$event}},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.id,class:{'hover-instance': item === _vm.$store.state.hoverInstance},style:(_vm.styleTableRow(item)),on:{\"mouseenter\":function($event){return _vm.changedHoverInstance(item.id)},\"mouseleave\":_vm.clearHoverInstance,\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.click(item)},\"contextmenu\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select(item.id, 'second')}}},[_c('td',{staticClass:\"unselectable\"},[_vm._v(_vm._s(item.id))]),_c('td',{staticClass:\"unselectable\"},[_vm._v(_vm._s(item.actual))]),_vm._l((_vm.continuousClassifierList),function(classifier){return _c('td',{key:item.id+classifier+'-'+item.continuous_predictions[classifier],staticClass:\"unselectable\"},[_vm._v(\" \"+_vm._s(item.continuous_predictions[classifier])+\" \")])}),_vm._l((_vm.classifiers),function(classifier){return _c('td',{key:item.id+classifier+'-'+item.predictions[classifier],staticClass:\"unselectable\"},[_vm._v(\" \"+_vm._s(item.predictions[classifier])+\" \")])}),_vm._l((_vm.features),function(feature){return _c('td',{key:item.id+feature+'-'+item.actual,staticClass:\"unselectable\",attrs:{\"title\":item.features[feature]}},[_vm._v(\" \"+_vm._s(_vm.shorten(item.features[feature]))+\" \")])})],2)}),0)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { colors } from '../../theme';\nimport {\n  Instance,\n  InstanceWithId,\n  SelectionRecord,\n  BoxProps,\n} from '../../types';\nimport { instanceById } from '../../utils';\nimport Vue from 'vue';\nimport { mapActions } from 'vuex';\nimport { color } from 'd3';\ninterface Header {\n  text: string;\n  value: string;\n}\nexport default Vue.extend({\n  name: 'InstanceList',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      panel: [],\n      sortby: [],\n      sortBySel: '' as '' | 'first' | 'second' | 'common',\n      descending: false,\n      show_predictions: true,\n      show_features: true,\n      string_length: 7,\n      clickCount: 0,\n      clickTimer: 0,\n    };\n  },\n  computed: {\n    continuousClassifierList: function () {\n      if (this.datasetType == \"continuous\") {\n        return this.classifiers\n      }\n      return []\n    },\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n    classifiers(): string[] {\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      if (this.show_predictions) {\n        const classifiers = [...this.$store.getters.filteredClassifiers];\n        if (this.$store.state.datasetType == \"continuous\") {\n          return classifiers.filter((c) => !dummyClassifiers.includes(c))\n        }\n        return classifiers;\n      }\n      return [ ];\n    },\n    features(): string[] {\n      if (this.show_features) {\n        const features = [...this.$store.getters.features];\n        return features;\n      }\n      return [ ];\n    },\n    headers(): Header[] {\n      const headers = [\n        { text: 'Id', value: 'id' },\n        { text: 'Actual class', value: 'actualClass' },\n      ];\n      if (this.show_predictions && this.$store.state.datasetType == \"continuous\") {\n        this.classifiers.forEach((classifier: string) => {\n          headers.push({\n            text: classifier.replace(/_/g, ' ')+\"_\"+\"value\",\n            value: classifier,\n          });\n        });\n      }\n      if (this.show_predictions) {\n        this.classifiers.forEach((classifier: string) => {\n          headers.push({\n            text: classifier.replace(/_/g, ' '),\n            value: classifier,\n          });\n        });\n      }\n      if (this.show_features) {\n        this.$store.getters.features.forEach((feature: string) => {\n          headers.push({\n            text: feature,\n            value: feature,\n          });\n        });\n      }\n      return headers;\n    },\n    instances(): InstanceWithId[] {\n      const instances: InstanceWithId[] = [];\n      this.$store.getters.filteredInstances.forEach((id: string) => {\n        const i = instanceById(id);\n        const instance: InstanceWithId = {\n          id,\n          ...i,\n        };\n        instances.push(instance);\n      });\n      const { first, second } = this.selections;\n      const comparators = {\n        first: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n          return bBelongs - aBelongs;\n        },\n        second: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n          return bBelongs - aBelongs;\n        },\n        common: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n          return bBelongs - aBelongs;\n        },\n      };\n      // sort by value first, then by group\n      let lsort = this.sortby[0];\n      let predOrFeature = instances[0].predictions.hasOwnProperty(lsort) ? \"predictions\" : \"features\";\n      if (this.sortby.length > 0) {\n        instances.sort((a, b) => {\n          let ret = (\"\" + a[predOrFeature][lsort]).localeCompare(b[predOrFeature][lsort]);\n          return this.descending ? -ret : ret;\n        });\n      }\n      if (this.sortBySel) {\n        instances.sort(comparators[this.sortBySel]);\n      }\n      return instances;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n  },\n  watch: {\n    sortby() {\n      console.log(\"sortby \", this.sortby);\n    },\n    descending() {\n      console.log(\"descending\", this.descending);\n    },\n    selections() {\n      const { first, second } = this.selections;\n      if (first && second) {\n        this.sortBy = 'common';\n      } else if (first) {\n        this.sortBy = 'first';\n      } else if (second) {\n        this.sortBy = 'second';\n      } else {\n        this.sortBy = '';\n      }\n    },\n  },\n  methods: {\n    ...mapActions([\n      'changedHoverInstance',\n      'clearHoverInstance',\n    ]),\n    shorten(feature) {\n      let stringFeature = \"\" + feature;\n      if (stringFeature.length > this.string_length) {\n        return stringFeature.substring(0, this.string_length) + \"...\"\n      } else {\n        return stringFeature;\n      }\n    },\n    select(\n      id: string,\n      whichOverlap: 'first' | 'second'\n    ) {\n      const instances = new Set([id]);\n      const description = `Instance #${id}`;\n      this.$store.dispatch('prependToSelectionHistory', { instances, description });\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    click(item){\n      this.clickCount += 1\n      if (this.clickCount === 1) {\n          this.clickTimer = setTimeout(function(context) {\n              context.clickCount = 0\n              // single click event\n              context.select(item.id, 'first');\n          }, 300, this)\n      } \n      if (this.clickCount === 2) {\n          clearTimeout(this.clickTimer);\n          this.clickCount = 0\n          // double click event\n          this.setFocus(item.id);\n      }\n    },\n    setFocus(id){\n      this.$store.dispatch(\"setFocusItem\", id);\n    },\n    styleTableRow(instance: InstanceWithId) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const focusColor = colors.focus;\n      const { first: firstSelection, second: secondSelection } = this.selections;\n      const isFirst = (firstSelection && firstSelection.instances.has(instance.id));\n      const isSecond = (secondSelection && secondSelection.instances.has(instance.id));\n      const inFocus = (this.$store.state.focusItemId === instance.id)\n      if(inFocus) {\n        return `\n          background-color: ${focusColor};\n        `;\n      }\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InstanceList.vue?vue&type=template&id=3297c99c&scoped=true&\"\nimport script from \"./InstanceList.vue?vue&type=script&lang=ts&\"\nexport * from \"./InstanceList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./InstanceList.vue?vue&type=style&index=0&id=3297c99c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3297c99c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VDataTable,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup,VSlider,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Histogram (\"+_vm._s(_vm.chosenFeature)+\")\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 0px\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('v-select',{attrs:{\"items\":_vm.pureCategoricalFeatures,\"label\":\"Categorical\"},model:{value:(_vm.chosenFeature),callback:function ($$v) {_vm.chosenFeature=$$v},expression:\"chosenFeature\"}})],1),_c('div',{staticStyle:{\"margin\":\"0px 0px\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('v-select',{attrs:{\"items\":_vm.numericFeatures,\"label\":\"Numeric\"},model:{value:(_vm.chosenFeature),callback:function ($$v) {_vm.chosenFeature=$$v},expression:\"chosenFeature\"}}),_c('v-slider',{staticClass:\"numberOfBins\",attrs:{\"max\":_vm.binLimits.max,\"min\":_vm.binLimits.min,\"label\":(\"Preferred number of bins: \" + _vm.numberOfBins)},model:{value:(_vm.numberOfBins),callback:function ($$v) {_vm.numberOfBins=$$v},expression:\"numberOfBins\"}}),_c('div',{staticStyle:{\"margin\":\"0px 0px\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('v-select',{attrs:{\"items\":_vm.classifiers,\"label\":\"ClassifierPredictions\"},model:{value:(_vm.chosenFeature),callback:function ($$v) {_vm.chosenFeature=$$v},expression:\"chosenFeature\"}})],1)],1),_c('v-radio-group',{model:{value:(_vm.chosenFeature),callback:function ($$v) {_vm.chosenFeature=$$v},expression:\"chosenFeature\"}},[_c('v-radio',{attrs:{\"label\":\"ClassDistribution\",\"value\":\"ClassDistribution\"}})],1)],1)],1)],1),_c('v-switch',{staticClass:\"ml-8\",attrs:{\"label\":\"normalize\"},model:{value:(_vm.normalization_switch),callback:function ($$v) {_vm.normalization_switch=$$v},expression:\"normalization_switch\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport { colors } from '../../theme';\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\ntype Bin = d3.Bin<string, number>;\nvar VueApp: any = Vue;\n\nexport default Vue.extend({\n  name: 'Histogram',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 100, right: 70, bottom: 70, left: 150};\n    const width = 1000 - margin.left - margin.right;\n    const height = 500 - margin.top - margin.bottom;\n    const hover =  {\n      type: null as null | Bin,\n      count: -1,\n    }; \n    const hoverCategory = '';\n    const hoverActual = {\n      className: '',\n    };\n    const sorting = '' as ''|'ascending' | 'descending' \n    return {\n      svg: '',\n      numberOfBins: 10,\n      binLimits: {\n        max: 30,\n        min: 1,\n      },\n      chosenFeature: 'ClassDistribution',\n      selected1: '',\n      selected2: '',\n      categoryFeatures: [],\n      sorting,\n      height,\n      hoverCategory,\n      normalization:'No',\n      hover,\n      hoverActual,\n      width,\n      margin,\n      panel: [],\n      panel2: [],\n      panel3: [],\n      panel4: [],\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      categoricalFeaturesNum:0,\n      numericFeaturesNum:0,\n    };\n  },\n  computed: {\n    normalization_switch: {\n      set() {\n        if (this.normalization == \"Yes\") {\n          this.normalization = \"No\"\n        } else {\n          this.normalization = \"Yes\"\n        }\n      },\n      get() {\n        return this.normalization === \"Yes\";\n      }\n    },\n    normalizationMode() : String {\n      var normalizationMode = \"\"\n      switch (this.normalization) {\n        case 'Yes' :\n          normalizationMode = \"Yes\"\n          break;\n        case 'No' :\n          normalizationMode = \"No\"\n          break; \n      }\n      return normalizationMode;\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    bins(): Array<d3.Bin<string, number>> {\n      const bins = d3.histogram<string, number>()\n        .domain(this.x.domain() as [number, number])\n        .thresholds(this.numberOfBins)\n        .value((id: string) => {\n          const i = instanceById(id);\n          const value = i.features[this.chosenFeature];\n          return value as number;\n        })\n        (this.instances);\n      return bins;\n    },\n    binMax(): number {\n      const binCounts = this.bins.map((bin) => bin.length);\n      const binMax = Math.max(...binCounts);\n      return binMax;\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    featureValues() {\n      const instances: any = this.$store.getters.filteredInstances;\n      const getInstance = (id: string) => this.$store.getters.instance(id);\n      const featureValues: number[] = [...instances].map((id) => getInstance(id).features[this.chosenFeature]);\n      return featureValues;\n    },\n    numericFeatures(): string[] {\n      const allFeatures = [...this.boxProps.features];\n      const numericTypes = ['interval', 'ratio'];\n      const isNumeric = (featureName: string) => {\n        const feature = this.$store.getters.feature(featureName);\n        return numericTypes.includes(feature.type);\n      };\n      this.numericFeaturesNum =allFeatures.filter(isNumeric).length \n      let filteredF = allFeatures.filter(isNumeric)\n      let finalF = []\n      for (var i in filteredF) {\n        let cur_dict = { text: filteredF[i], value: filteredF[i] }\n        finalF.push(cur_dict)\n      }\n      return finalF;\n    },\n    pureCategoricalFeatures() : string[] {\n      const categoricalFeatures = [...this.boxProps.features].filter((f) => this.$store.getters.feature(f).type === 'categorical');\n      return categoricalFeatures;\n    },\n    categoricalFeatures(): string[] {\n      let categoricalFeatures = [...this.boxProps.features].filter((f) => this.$store.getters.feature(f).type === 'categorical');\n      this.categoricalFeaturesNum = categoricalFeatures.length;\n      for (var i in categoricalFeatures) {\n        this.categoryFeatures.push(categoricalFeatures[i])\n      }\n      for (var i in this.classifiers) {\n        categoricalFeatures.push(this.classifiers[i])\n      }\n      return categoricalFeatures;\n    },\n    categories(): string[] {\n      if (!this.chosenFeature  || !this.categoricalFeatures.includes(this.chosenFeature)) {\n        return [];\n      } else {\n        var rawData = []\n        var nonSort = []\n        if (!this.classifiers.includes(this.chosenFeature)) {\n          this.$store.getters.feature(this.chosenFeature).categories.forEach((i)=>{\n            nonSort.push(i)\n            rawData.push(i)\n          })\n          const bucketedinstances: {\n            [category: string]: Set<string>,\n          } = {};\n\n          rawData.forEach((category) => {\n            bucketedinstances[category] = new Set();\n          });\n\n          this.instances.forEach((id) => {\n            const category = instanceById(id).features[this.chosenFeature];\n            bucketedinstances[category].add(id);\n          });\n          switch (this.sorting) {\n            case '':\n              return nonSort;\n              break;\n            case 'ascending':\n              rawData.sort(function(x, y){\n                return d3.ascending(bucketedinstances[x].size,bucketedinstances[y].size);\n              })\n              break;\n            case 'descending':\n              rawData.sort(function(x, y){\n                return (bucketedinstances[y].size - bucketedinstances[x].size);\n              })\n              break;\n          }\n          return rawData;\n        } else {\n          this.classes.forEach((i)=>{\n            nonSort.push(i)\n            rawData.push(i)\n          })\n          const bucketedinstances = {}\n          this.classes.forEach((c)=>{\n            bucketedinstances[c] = new Set();\n          })\n         \n          this.instances.forEach((id) => {\n            const predclass = instanceById(id).predictions[this.chosenFeature];\n            bucketedinstances[predclass].add(id);\n          });\n          switch (this.sorting) {\n            case '':\n              return nonSort;\n              break;\n            case 'ascending':\n              rawData.sort(function(x, y){\n                return d3.ascending(bucketedinstances[x].size,bucketedinstances[y].size);\n              })\n              break;\n            case 'descending':\n              rawData.sort(function(x, y){\n                return (bucketedinstances[y].size - bucketedinstances[x].size);\n              })\n              break;\n          }\n          return rawData;\n        }\n      }\n      \n    },\n    maxByCategory(): number {\n      let max = 0;\n      if (!this.classifiers.includes(this.chosenFeature)) {\n          this.categories.forEach((category) => {\n          max = Math.max(max, this.bucketedInstances[category].size);\n        });\n      } else {\n        this.categories.forEach((category) => {\n          max = Math.max(max, this.bucketedInstances[category].size);\n        });\n      }\n      return max;\n    },\n    bucketKeys(): string[] {\n      const totalAscending = (c1: string, c2: string) => {\n        return this.buckets[c1].size - this.buckets[c2].size;\n      };\n      const totalDescending = (c1: string, c2: string) => {\n        return -totalAscending(c1, c2);\n      };\n\n      const predictionKeys = this.classes;\n      switch (this.sorting) {\n        case 'ascending':\n          predictionKeys.sort(totalAscending);\n          break;\n        case 'descending':\n          predictionKeys.sort(totalDescending);\n          break;\n      }\n      return predictionKeys;\n    },\n    buckets(): {\n      [className: string]: Set<string>,\n    } {\n      const buckets: {\n        [className: string]: Set<string>,\n      } = {};\n\n      this.classes.forEach((c) => {\n        buckets[c] = new Set();\n      });\n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        buckets[i.actual].add(id);\n      });\n      return buckets;\n    },\n    bucketedInstances(): {\n      [category: string]: Set<string>,\n    } {\n      if (!this.chosenFeature || !this.categoricalFeatures.includes(this.chosenFeature)) {\n        console.log(\"empty bucketedInstances\")\n        return {};\n      }\n      const bucketedInstances: {\n        [category: string]: Set<string>,\n      } = {};\n      if (!this.classifiers.includes(this.chosenFeature)) {\n          this.categories.forEach((category) => {\n          bucketedInstances[category] = new Set();\n        });\n\n        this.instances.forEach((id) => {\n          const category = instanceById(id).features[this.chosenFeature];\n          if (bucketedInstances[category] === undefined) {\n            console.log('undefined category', category);\n          }\n          bucketedInstances[category].add(id);\n        });\n        console.log(\"not empty bucketedInstances\",bucketedInstances)\n      } else {\n        this.categories.forEach((category) => {\n          bucketedInstances[category] = new Set();\n        });\n        this.instances.forEach((id) => {\n          const category = instanceById(id).predictions[this.chosenFeature];\n          if (bucketedInstances[category] === undefined) {\n            console.log('undefined category', category);\n          }\n          bucketedInstances[category].add(id);\n        });\n        console.log(\"bucketedInstances\",bucketedInstances)\n      }\n      return bucketedInstances;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusDotEmphasis(): String{return  this.$store.state.focusDotEmphasis},\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    showActualClassDistribution() :string{\n      var showActualClassDistribution = \"No\"\n      switch (this.chosenFeature) {\n        case 'ClassDistribution' :\n          showActualClassDistribution = \"Yes\"\n          break;\n      }\n      return showActualClassDistribution;\n    },\n    x(): d3.ScaleLinear<number, number> {\n      const xMin = Math.min(...this.featureValues);\n      const xMax = Math.max(...this.featureValues);\n      const x = d3.scaleLinear()\n        .domain([xMin, xMax])\n        .range([0, this.width]);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const yMax = this.binMax;\n      const y = d3.scaleLinear()\n        .domain([0, this.normalizationMode==\"Yes\"? 1:1.1 * yMax])\n        .range([this.height, 0]);\n      return y;\n    },\n    xCate(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.categories)\n        .range([0, this.width])\n        .paddingOuter(0.2)\n        .paddingInner(0.3);\n      return x;\n    },\n    yCate(): d3.ScaleLinear<number, number> {\n      const yMax =this.maxByCategory;\n      const y = d3.scaleLinear()\n        .domain([0, this.normalizationMode==\"Yes\"? 1: 1.1 * yMax])\n        .range([this.height, 0]);\n      return y;\n    },\n    xClass(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.bucketKeys)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    yClass(): d3.ScaleLinear<number, number> {\n      const bucketSizes = Object.values(this.buckets).map((b: Set<string>) => b.size);\n      const yMax = Math.max(...bucketSizes) / this.instances.length;\n      const y = d3.scaleLinear()\n        .domain([0, this.normalizationMode==\"Yes\"? 1: 1.1 * yMax])\n        .range([this.height, 0]);\n      return y;\n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Histogram') {\n          if (view.config.length > 0) {\n            let feature  = view.config[0];\n            if (this.pureCategoricalFeatures.includes(feature) \n              || this.numericFeatures.includes(feature) \n              || this.classifiers.includes(feature)) {\n                this.chosenFeature = view.config[0]\n            }\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Histogram\", \n                    \"config\": [this.chosenFeature]}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    chosenFeature() {\n      this.drawInitial();\n    },\n    sorting() {\n      this.drawInitial();\n    },\n    featureValues() {\n      this.drawInitial();\n    },\n    hover() {\n      this.drawHover();\n    },\n    hoverActual() {\n      this.drawHover();\n    },\n    hoverCategory() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    numberOfBins() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawInitial();\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n    normalization() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Histogram') {\n        if (view.config.length > 0) {\n          let feature  = view.config[0];\n          if (this.pureCategoricalFeatures.includes(feature) \n            || this.numericFeatures.includes(feature) \n            || this.classifiers.includes(feature)) {\n              this.chosenFeature = view.config[0]\n          }\n        }\n      }\n    })\n    this.drawInitial();\n  },\n methods: {\n   clearHover() {\n      this.hoverActual = ({ className: '' });\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const barstmp = chart.selectAll('.bar');\n      const barstmp2 = chart.selectAll('.bar');\n      const barsActual = chart.selectAll('.bar');\n      const barstmpcircle = chart.selectAll('.bar-circle');\n      const barstmp2circle = chart.selectAll('.bar-circle');\n\n      const textSelection1 = chart.selectAll('.text-selection-1');\n      const textSelection2 = chart.selectAll('.text-selection-2');\n\n      const barstmprect1 = chart.selectAll('.selection-rect');\n      const barstmprect2 = chart.selectAll('.selection-rect');\n      const barsActualRect = chart.selectAll('.selection-rect');   \n\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line');\n      const yAxisMarkerText = chart.select('.y-axis-marker-text');\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n\n      var formatDecimal = d3.format(\".0f\")\n      if (this.normalizationMode==\"Yes\") {\n        formatDecimal = d3.format(\".3f\")\n      }\n      const { first, second } = this.$store.state.overlapSelections;\n      const yText = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        if (!this.categoricalFeatures.includes(this.chosenFeature)) \n          return this.normalizationMode==\"Yes\"? (overlappingInstances.size / (instances.size)) :(overlappingInstances.size);\n         else \n          return this.normalizationMode==\"Yes\"? (overlappingInstances.size /(instances.size)) : (overlappingInstances.size);\n      };\n\n      const hover = this.hover;\n      const hoverCategory = this.hoverCategory;\n      if (this.showActualClassDistribution == \"Yes\") {\n          if (!this.hoverActual.className) {\n            barsActual\n              .attr('fill', 'lightgray');\n            yAxisMarkerLine\n              .attr('stroke-opacity', 0);\n            yAxisMarkerText\n              .attr('fill-opacity', 0);\n            barsActualRect\n                .attr(\"visibility\",\"hidden\");   \n            textSelection1\n                .attr(\"visibility\",\"hidden\");  \n            textSelection2\n                .attr(\"visibility\",\"hidden\");          \n          } else {\n            barsActual.data(this.bucketKeys)\n              .attr('fill', (d: string) =>\n                d === this.hoverActual.className\n                  ? 'black'\n                  : 'lightgray');\n            barsActualRect.data(this.bucketKeys)\n                .attr('visibility', (d: string) =>\n                d === this.hoverActual.className\n                  ?  \"visible\" : \"hidden\"); \n              if (!first)  {\n                  textSelection1.data(this.bucketKeys)\n                    .attr(\"visibility\", \"hidden\");   \n              } else {\n                  textSelection1.data(this.bucketKeys)\n                    .attr('transform',this.normalizationMode != 'Yes'?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ this.yClass(this.buckets[this.hoverActual.className].size / this.instances.length) - 45 })`\n                        : this.buckets[this.hoverActual.className].size == 0 ?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(0)) - 45 })`\n                        : `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(1)) - 45 })`)\n                    .style('text-anchor', 'middle')        \n                    .attr(\"visibility\", (d: string) =>\n                      d === this.hoverActual.className? \"visible\":\"visible\")\n                    .text( (d: number) => \"1st: \"+formatDecimal(yText(this.buckets[this.hoverActual.className], first.instances))) ;   \n              }\n              if (!second) {\n                  textSelection2.data(this.bucketKeys)\n                  .attr(\"visibility\", \"hidden\"); \n              } else {\n                  textSelection2.data(this.bucketKeys) \n                  .attr('transform',this.normalizationMode != 'Yes'?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ this.yClass(this.buckets[this.hoverActual.className].size / this.instances.length) - 20 })`\n                        : this.buckets[this.hoverActual.className].size == 0 ?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(0)) - 20 })`\n                        : `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(1)) - 20 })`)                  \n                  .style('text-anchor', 'middle')        \n                  .attr(\"visibility\", (d: string) =>\n                      d === this.hoverActual.className? \"visible\":\"visible\")\n                  .text( (d: number) => \"2rd: \"+formatDecimal(yText(this.buckets[this.hoverActual.className], second.instances))) ;   \n              }             \n            yAxisMarkerLine\n              .attr('stroke-opacity', 1)\n              .attr('y1', (this.normalizationMode != 'Yes'? (this.yClass(this.buckets[this.hoverActual.className].size / this.instances.length)) : \n                        this.buckets[this.hoverActual.className].size == 0 ? this.yClass(0) : this.yClass(1)))\n              .attr('x2', this.width)\n              .attr('y2', (this.normalizationMode != 'Yes'? (this.yClass(this.buckets[this.hoverActual.className].size / this.instances.length)) : \n                        this.buckets[this.hoverActual.className].size == 0 ? this.yClass(0) : this.yClass(1)));\n            \n            yAxisMarkerText\n              .attr('fill-opacity', 1)\n              .attr('transform',this.normalizationMode != 'Yes'?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ this.yClass(this.buckets[this.hoverActual.className].size / this.instances.length) - 70 })`\n                        : this.buckets[this.hoverActual.className].size == 0 ?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(0)) - 70 })`\n                        : `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(1)) - 70 })`)\n              .text(\"Percentage: \"+`${(this.buckets[this.hoverActual.className].size / this.instances.length * 100).toFixed(1)}%`);\n\n          } \n      } else {\n          if (!this.categoricalFeatures.includes(this.chosenFeature)) {\n            if (!hover) {\n              barstmp\n                .attr('fill', 'lightgray');\n              barstmpcircle\n                .attr('fill', 'lightgray');  \n              yAxisMarkerLine\n                .attr('stroke-opacity', 0);\n              yAxisMarkerText\n                .text('');\n              barstmprect1\n                .attr(\"visibility\",\"hidden\"); \n              textSelection1\n                .attr(\"visibility\",\"hidden\");  \n              textSelection2\n                .attr(\"visibility\",\"hidden\");      \n            } else {\n              barstmp.data(this.bins)\n                .attr('fill', (d: Bin) => d.x0 === hover.x0 ? 'black' : 'lightgray');\n              barstmpcircle.data(this.bins)\n                .attr('fill', (d: Bin) => d.x0 === hover.x0 ? 'black' : 'lightgray');  \n              if (!first)  {\n                  textSelection1.data(this.bins)\n                    .attr(\"visibility\", \"hidden\");   \n              } else {\n                  textSelection1.data(this.bins)\n                    .attr('transform', this.normalizationMode != \"Yes\"? `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(hover.length) - 45})`\n                  :hover.length==0?`translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(0) - 45})`\n                  :\n                  `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(1) - 45})`\n                  )\n                    .style('text-anchor', 'middle')        \n                    .attr(\"visibility\", (d: Bin) => d.x0 === hover.x0 ? \"visible\":\"visible\")\n                  .text( ((d: Bin) => \"1st: \"+formatDecimal(yText(new Set(d), first.instances))));   \n              }\n              if (!second) {\n                  textSelection2.data(this.bins)\n                  .attr(\"visibility\", \"hidden\"); \n              } else {\n                  textSelection2.data(this.bins)\n                  .attr('transform', this.normalizationMode != \"Yes\"? `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(hover.length) - 20})`\n                  :hover.length==0?`translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(0) - 20})`\n                  :\n                  `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(1) - 20})`\n                  )\n                  .style('text-anchor', 'middle')        \n                  .attr(\"visibility\", (d: Bin) => d.x0 === hover.x0 ? \"visible\":\"visible\")\n                  .text( ((d: Bin) => \"2rd: \"+formatDecimal(yText(new Set(d), second.instances)))); \n              }\n              barstmprect1.data(this.bins)\n                .attr('visibility', (d: Bin) => d.x0 === hover.x0 ? \"visible\" : \"hidden\");  \n              yAxisMarkerLine\n                .attr('stroke-opacity', 1)\n                .attr('y1', this.normalizationMode != \"Yes\"? this.y(hover.length)\n                        :hover.length==0?this.y(0): this.y(1))\n                .attr('x2', this.width)\n                .attr('y2', this.normalizationMode != \"Yes\"? this.y(hover.length)\n                        :hover.length==0?this.y(0): this.y(1));\n\n              yAxisMarkerText\n                .attr('transform', this.normalizationMode != \"Yes\"? `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(hover.length) - 70})`\n                  :hover.length==0?`translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(0) - 70})`\n                  :\n                  `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(1) - 70})`\n                  )\n                .text(this.normalizationMode != \"Yes\"?\"Total: \"+ hover.length\n                    :hover.length==0?\"Total: \"+0:\"Total: \"+1 );\n\n            }\n          } else {\n              if (!hoverCategory.toString().length ){\n                barstmp2   \n                  .attr('fill', 'lightgray');\n                barstmp2circle     \n                  .attr('fill', 'lightgray');  \n                yAxisMarkerLine\n                  .attr('stroke-opacity', 0);\n                yAxisMarkerText\n                  .text('');\n                barstmprect2\n                  .attr(\"visibility\",\"hidden\");  \n                textSelection1\n                  .attr(\"visibility\",\"hidden\");  \n                textSelection2\n                  .attr(\"visibility\",\"hidden\");       \n            } else {\n              barstmp2.data(this.categories)\n                .attr('fill', (d: string) => d === hoverCategory ? 'black' : 'lightgray');\n              barstmp2circle.data(this.categories)\n                .attr('fill', (d: string) => d === hoverCategory ? 'black' : 'lightgray');  \n              if (!first)  {\n                  textSelection1.data(this.categories)\n                    .attr(\"visibility\", \"hidden\");   \n              } else {\n                  textSelection1.data(this.categories)\n                    .attr('transform', this.normalizationMode != \"Yes\"?`translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number)  },\n                  ${this.yCate(this.bucketedInstances[hoverCategory].size) - 45})`\n                  :this.bucketedInstances[hoverCategory].size==0?\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(0) - 45})`\n                  :\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(1) - 45})`\n                  )\n                    .style('text-anchor', 'middle')        \n                    .attr(\"visibility\",(d: string) => d === hoverCategory ? \"visible\":\"visible\")\n                  .text((d: string) => \"1st: \"+formatDecimal(yText(this.bucketedInstances[hoverCategory], first.instances)));     \n              }\n              if (!second) {\n                  textSelection2.data(this.categories)\n                  .attr(\"visibility\", \"hidden\"); \n              } else {\n                  textSelection2.data(this.categories)\n                    .attr('transform', this.normalizationMode != \"Yes\"?`translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number)  },\n                  ${this.yCate(this.bucketedInstances[hoverCategory].size) - 20})`\n                  :this.bucketedInstances[hoverCategory].size==0?\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(0) - 20})`\n                  :\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(1) - 20})`\n                  )\n                    .style('text-anchor', 'middle')        \n                    .attr(\"visibility\", (d: string) => d === hoverCategory ?  \"visible\":\"visible\")\n                  .text((d: string) => \"2rd: \"+formatDecimal(yText(this.bucketedInstances[hoverCategory], second.instances)));\n              }   \n              barstmprect2.data(this.categories)\n                .attr('visibility', (d: string) => d === hoverCategory ?  \"visible\" : \"hidden\");     \n              yAxisMarkerLine\n                .attr('stroke-opacity', 1)\n                .attr('y1', this.normalizationMode != \"Yes\"?this.yCate(this.bucketedInstances[hoverCategory].size)\n                        :this.bucketedInstances[hoverCategory].size==0?this.yCate(0)\n                        :this.yCate(1))\n                            .attr('x2', this.width)\n                .attr('y2', this.normalizationMode != \"Yes\"? this.yCate(this.bucketedInstances[hoverCategory].size)\n                        :this.bucketedInstances[hoverCategory].size==0?\n                        this.yCate(0): this.yCate(1) );\n              yAxisMarkerText\n                .attr('transform', this.normalizationMode != \"Yes\"?`translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number)  },\n                  ${this.yCate(this.bucketedInstances[hoverCategory].size) - 70})`\n                  :this.bucketedInstances[hoverCategory].size==0?\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(0) - 70})`\n                  :\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(1) - 70})`\n                  )\n                .text(this.normalizationMode != \"Yes\"?\"Total: \"+this.bucketedInstances[hoverCategory].size: this.bucketedInstances[hoverCategory].size==0?\"Total: \"+0:\"Total: \"+1 );\n                }\n          }\n      }\n      \n      \n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('width', this.width)\n          .attr('height', this.height)\n          .attr('fill', 'teal');\n      };\n\n      const xClass = this.xClass;\n      const yClass= this.yClass;\n\n      this.svg = svg;\n\n      const drawAxes = () => {\n        const xAxistmp = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(this.x)\n              .tickSizeOuter(0),\n          );\n        const xAxistmp2 = (g: any) => g\n            .attr('transform', `translate(${0}, ${this.height})`)\n            .call(\n              d3.axisBottom(this.xCate)\n                .tickSizeOuter(0),\n            );  \n        const yAxistmp =  (g: any) => g\n            .call(\n              d3.axisLeft(this.y),\n            );\n        const yAxistmp2 =  (g: any) => g\n            .call(\n              d3.axisLeft(this.yCate),\n            );\n\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(xClass)\n              .tickSizeOuter(0),\n          );\n\n\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(yClass)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        \n        if (this.showActualClassDistribution==\"Yes\") {\n          svg.append('g')\n            .call(xAxis)\n            .attr('font-size', 20)\n            ;\n          svg.append('g')\n            .call(yAxis)\n            .attr('font-size', 20);\n        }  else {\n              if (!this.categoricalFeatures.includes(this.chosenFeature)){\n                svg.append('g')\n                  .call(xAxistmp)\n                svg.append('g')\n                  .call(yAxistmp);  \n            } else {\n              svg.append('g')\n                  .call(xAxistmp2)\n                  .selectAll('text')\n                .attr('transform',  'rotate(45)')\n                .attr('text-anchor', 'start');\n              svg.append('g')\n                  .call(yAxistmp2);   \n            }\n        }     \n        \n        svg.selectAll('g.tick')\n          .style('font-size', '16px');\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom * 0.8;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '20px')\n          .text(this.chosenFeature);\n\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '20px')\n          .text(this.normalizationMode==\"Yes\"?'Percentage of Instances'\n              :this.showActualClassDistribution == \"Yes\"?'Percentage of Instances':'Number of instances');\n\n\n        var showtext = this.normalizationMode==\"Yes\"?`Percentage of Instances (${this.chosenFeature})`\n            :`Number of Instances (${this.chosenFeature}):`\n        if (this.showActualClassDistribution == \"Yes\") {\n          showtext = this.normalizationMode==\"Yes\"?`Percentage of Instances per Class`\n            :`Percentage of Instances per Class`\n        }    \n\n        svg.append('text')\n          .attr(\n            'transform',\n            `translate(\n              ${-this.margin.left / 2 + this.width / 2},\n              ${-this.margin.top * 2 / 3}\n            )`,\n          )\n          .attr('dy', '1em')\n          .attr('text-anchor', 'middle')\n          .style('font-size', '30px')\n          .text(showtext);\n      };\n      drawTitles();\n\n      const translateCelltmp = (bin: Bin) => {\n        const xOffset = this.x(bin.x0 as number) + 1;\n        return `translate(${xOffset}, 0)`;\n      };\n      const translateCelltmp2  = (category: string) => {\n          const xOffset = this.xCate(category);\n          return `translate(${xOffset}, 0)`;\n        };\n\n\n      const barDescriptiontmp = (bin: Bin): string => {\n        return `Instances with feature '${this.chosenFeature}' in range [${bin.x0},${bin.x1})`;\n      };\n      const barDescriptiontmp2  = (category: string): string => {\n        return `Instances with feature '${this.chosenFeature}' equal to '${category}')`;\n      };\n      \n      const cellstmp = svg.selectAll('.celltmp')\n        .data(this.bins)\n        .join('g')\n          .attr('class', 'celltmp')\n          .attr('transform', (d: Bin) => translateCelltmp(d))\n          .on('mouseenter', (d: Bin) => this.hover = d)\n          .on('mouseleave', (d: Bin) => this.hover = null)\n          .on('click', (d: Bin) => this.selecttmp(d, 'first'))\n          .on('contextmenu', (d: Bin) => this.selecttmp(d, 'second'));\n      const  cellstmp2 = svg.selectAll('.celltmp2')\n        .data(this.categories)\n        .join('g')\n          .attr('class', 'celltmp2')\n          .attr('transform', (d: string) => translateCelltmp2(d))\n          .on('mouseenter', (d: string) => this.hoverCategory = d)\n          .on('mouseleave', (d: string) => this.hoverCategory = '')\n          .on('click', (d: string) => this.selecttmp2(d, 'first'))\n          .on('contextmenu', (d: string) => this.selecttmp2(d, 'second'));\n      const cells = svg.selectAll('.cell')\n          .data(this.bucketKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', (d: string) => {\n              return `translate(${xClass(d)}, ${0})`});    \n      \n\n      const x = this.x;\n      const y = this.y;\n      const xCate = this.xCate;\n      const yCate = this.yCate;\n      const barWidthtmp = (bin: Bin) => x((bin.x1 as number)) - x((bin.x0 as number));\n      const barYOffsettmp = (bin: Bin) => this.normalizationMode!=\"Yes\"? this.y(bin.length) : bin.length==0?this.y(0):this.y(1) ;\n      const barHeighttmp = (bin: Bin) => this.height - barYOffsettmp(bin);\n      const  barWidthtmp2 = xCate.bandwidth();\n      const  barYOffsettmp2  = (category: string) =>  this.normalizationMode!=\"Yes\"? this.yCate(this.bucketedInstances[category].size):this.bucketedInstances[category].size==0?this.yCate(0): this.yCate(1);\n      const  barHeighttmp2 = (category: string) => this.height - barYOffsettmp2(category);\n\n      const drawBars = () => {\n        if (this.showActualClassDistribution == \"Yes\") {\n          const barWidth = xClass.bandwidth();\n          cells.append('rect')\n            .attr('class', 'bar')\n            .attr('y', (d: string) => this.normalizationMode!=\"Yes\" ? yClass(this.buckets[d].size / this.instances.length)\n                                                                  : this.buckets[d].size == 0? yClass(0) : yClass(1))\n            .attr('width', barWidth)\n            .attr('height', (d: string) => this.height - (this.normalizationMode!=\"Yes\" ? yClass(this.buckets[d].size / this.instances.length)\n                                                                  : this.buckets[d].size == 0? yClass(0) : yClass(1)))\n            .attr('fill', 'lightgray')\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hoverActual = ({ className: d }))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'second'));\n          cells.append(\"circle\") \n                    .attr('cx', barWidth/2)\n                    .attr('cy', d => this.height-15)\n                    .attr('r','15px')\n                    .style('fill', 'lightgray')\n                    .attr('stroke', 'grey')\n                    .attr(\"visibility\", (d:string) => {\n                      return yClass(this.buckets[d].size / this.instances.length) == 0?\"hidden\": (this.buckets[d].size / this.instances.length) > 0.05? \"hidden\":\"visible\"\n                      })\n                      .on('click', (d: string) => this.select(d, 'first'))\n                    .on('contextmenu', (d: string) => this.select(d, 'second'));\n          cells.append('rect')\n                .attr('class', 'selection-rect').attr('y', (d: string) =>  (this.normalizationMode!=\"Yes\" ? yClass(this.buckets[d].size / this.instances.length)\n                                                                  : this.buckets[d].size == 0? yClass(0) : yClass(1)) -90)\n                .attr('x',  -1 * 100)\n                  .attr('width', 200)\n                  .attr('height', 80)\n                  .attr('stroke', 'black')\n                  .attr('stroke-width', '1px')\n                  .attr('fill', 'white')\n                  .attr(\"visibility\",\"hidden\");            \n        } else {\n              if (!this.categoricalFeatures.includes(this.chosenFeature)){\n                cellstmp.append('rect')\n                .attr('class', 'bar').attr('y', (d: Bin) => barYOffsettmp(d))\n                  .attr('width', (d: Bin) => barWidthtmp(d))\n                  .attr('height', (d: Bin) => barHeighttmp(d))\n                  .attr('stroke', 'black')\n                  .attr('stroke-width', '0.5px')\n                  .attr('fill', 'lightgray');\n                cellstmp.append(\"circle\")   \n                  .attr('class', 'bar-circle').attr('cx',(d: Bin) => barWidthtmp(d) / 2 )\n                  .attr('cy', (d: Bin) =>  barWidthtmp(d) / 15 > 15 ? this.height - barWidthtmp(d) / 15 : this.height - 15)\n                  .attr('r',(d: Bin) => barWidthtmp(d) / 15 > 15 ? barWidthtmp(d) / 15 : 15)\n                  .attr(\"visibility\",(d: Bin) => barHeighttmp(d)/ this.height == 0? \"hidden\"\n                        : barHeighttmp(d)/ this.height>0.1? \"hidden\":\"visible\")\n                  .style('fill', 'lightgray')    \n                  .attr('stroke', 'grey')  \n\n                cellstmp.append('rect')\n                .attr('class', 'selection-rect').attr('y', (d: Bin) => barYOffsettmp(d)-90)\n                .attr('x', -120)//(d: Bin) => -1 * barWidthtmp(d))\n                  .attr('width', 140)//(d: Bin) => 2 * barWidthtmp(d))\n                  .attr('height', 80)\n                  .attr('stroke', 'black')\n                  .attr('stroke-width', '1px')\n                  .attr('fill', 'white')\n                  .attr(\"visibility\",\"hidden\");    \n              } else {\n                cellstmp2.append('rect')\n                .attr('class', 'bar').attr('y', (d: string) => barYOffsettmp2(d))\n                  .attr('width', (d: string) => barWidthtmp2)\n                  .attr('height', (d: string) => {\n                    return barHeighttmp2(d)})\n                  .attr('stroke', 'black')\n                  .attr('stroke-width', '0.5px')\n                  .attr('fill', 'lightgray');\n                cellstmp2.append(\"circle\")   \n                  .attr('class', 'bar-circle').attr('cx', (d: string) => barWidthtmp2 / 2)\n                  .attr('cy', (d: string) =>  {\n                    if (this.normalizationMode==\"Yes\") {\n                      if (barWidthtmp2 / 15 > 15) return this.height - barWidthtmp2 / 15 \n                      else return this.height - 15\n                    } else {\n                      if (barWidthtmp2 / 15 > 15) return yCate(1) - barWidthtmp2 / 15\n                      else return  yCate(1) - 15\n                    }\n                    })\n                  .attr('r',(d: string) => barWidthtmp2 / 15 > 15?  barWidthtmp2 / 15 : 15)\n                  .attr(\"visibility\",(d: string) => barHeighttmp2(d)/ this.height == 0? \"hidden\"//:\"visible\")\n                        : barHeighttmp2(d)/ this.height>0.1? \"hidden\":\"visible\")\n                  .style('fill', 'lightgray')    \n                cellstmp2.append('rect')\n                .attr('class', 'selection-rect').attr('y', (d: string) => barYOffsettmp2(d)-90)\n                .attr('x', (d: string) => -70)\n                  .attr('width', 140)\n                  .attr('height', 80)\n                  .attr('stroke', 'black')\n                  .attr('stroke-width', '1px')\n                  .attr('fill', 'white')\n                  .attr(\"visibility\",\"hidden\");    \n              }    \n        }\n      };\n      \n      const yAxisMarkerLine = () => {\n        if (this.showActualClassDistribution == \"Yes\") {\n          svg.append('line')\n          .attr('class', 'y-axis-marker-line')\n          .attr('y1', yClass(1))\n          .attr('x2', this.width)\n          .attr('y2', yClass(1))\n          .attr('stroke', 'red')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n        } else {\n            if (!this.categoricalFeatures.includes(this.chosenFeature)){\n            svg.append('line')\n              .attr('class', 'y-axis-marker-line')\n              .attr('y1', y(1))\n              .attr('x2', this.width)\n              .attr('y2', y(1))\n              .attr('stroke', 'red')\n              .attr('stroke-width', '2px')\n              .attr('stroke-opacity', 0)\n              .attr('pointer-events', 'none');\n          } else {\n            svg.append('line')\n              .attr('class', 'y-axis-marker-line')\n              .attr('y1', yCate(1))\n              .attr('x2', this.width)\n              .attr('y2', yCate(1))\n              .attr('stroke', 'red')\n              .attr('stroke-width', '2px')\n              .attr('stroke-opacity', 0)\n              .attr('pointer-events', 'none');\n          }\n        }\n         \n      };\n      const yAxisMarkerText = () => {\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 20)\n          .attr('pointer-events', 'none');\n      };\n      yAxisMarkerLine();\n      yAxisMarkerText();\n      drawBars();\n      this.drawHover();\n      this.drawSelections();\n    },\n   \n    drawSelections() {\n      // @ts-ignore\n\n      const { first, second } = this.selections;\n      var formatDecimal = d3.format(\".0f\")\n      if (this.normalizationMode==\"Yes\") {\n        formatDecimal = d3.format(\".3f\")\n      }\n\n      const selections = [first, second];\n\n\n      const rightYOffset = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        return this.normalizationMode==\"Yes\"? this.yClass(overlappingInstances.size / (instances.size)) : this.yClass(overlappingInstances.size / this.instances.length)\n      };\n      const rightHeight = (instances: Set<string>, selection: Set<string>) => {\n        return this.height - rightYOffset(instances, selection);\n      };\n      const yOffset = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        if (!this.categoricalFeatures.includes(this.chosenFeature)) \n          return this.normalizationMode==\"Yes\"? this.y(overlappingInstances.size / (instances.size)) : this.y(overlappingInstances.size);\n         else \n          return this.normalizationMode==\"Yes\"? this.yCate(overlappingInstances.size /(instances.size)) : this.yCate(overlappingInstances.size);\n      };\n      const height = (instances: Set<string>, selection: Set<string>) => {\n          return this.height - yOffset(instances, selection);\n      };\n      const yText = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        if (!this.categoricalFeatures.includes(this.chosenFeature)) \n          return this.normalizationMode==\"Yes\"? (overlappingInstances.size / (instances.size)) :(overlappingInstances.size);\n         else \n          return this.normalizationMode==\"Yes\"? (overlappingInstances.size /(instances.size)) : (overlappingInstances.size);\n      };\n      const hasFocusItem = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n\n\n      selections.forEach((cur_selection, idx)=>{\n        if (!cur_selection) {\n          this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n          this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n        } else {\n          if (this.showActualClassDistribution == 'Yes') {\n            let x = this.xClass;\n            let barWidth = x.bandwidth();\n            let selectionBarWidth = barWidth / 8;\n            this.bucketKeys.forEach((d)=>{\n              let selection_attributes = {\n                barCells : this.svg,\n                x : x(d) + barWidth / 2 + (idx-1) * selectionBarWidth ,\n                y : rightYOffset(this.buckets[d], cur_selection.instances),\n                width : selectionBarWidth,\n                height :rightHeight(this.buckets[d], cur_selection.instances),\n                r  : selectionBarWidth / 2,\n                color : idx == 0? this.selection1Color : this.selection2Color,\n                circle_visibility : rightHeight(this.buckets[d], cur_selection.instances) == 0?\"hidden\"\n                    :rightHeight(this.buckets[d], cur_selection.instances) / this.height >0.05?\"hidden\":\"visible\",\n                cx : x(d) + barWidth / 2  + (idx - 1/2) * selectionBarWidth,\n                cy : this.height - selectionBarWidth / 2,\n                selection_type: idx,\n                focused: hasFocusItem(this.buckets[d], cur_selection.instances),\n                view_name : this.name\n              }\n              this.$store.dispatch('drawSelections',selection_attributes)\n            })\n          } else {\n            if (!this.categoricalFeatures.includes(this.chosenFeature)) {\n              let x = (bin: Bin) => {\n                const xOffset = this.x(bin.x0 as number) + 1;\n                return xOffset\n              };\n              const barWidthtmp = (bin: Bin) => this.x((bin.x1 as number)) - this.x((bin.x0 as number));\n              const selectionBarWidth = (d: Bin) => barWidthtmp(d) / 8;\n\n              this.bins.forEach((d)=>{\n                  let selection_attributes = {\n                    barCells : this.svg,\n                    x : barWidthtmp(d) / 2 + (idx-1) *  selectionBarWidth(d) + x(d),\n                    y : yOffset(new Set(d), cur_selection.instances),\n                    width : selectionBarWidth(d),\n                    height :height(new Set(d), cur_selection.instances),\n                    r  : selectionBarWidth(d) / 2,\n                    color : idx == 0? this.selection1Color : this.selection2Color,\n                    circle_visibility : isNaN(parseInt(formatDecimal(yText(new Set(d), cur_selection.instances)))) ?  \"hidden\"  \n                          : height(new Set(d), cur_selection.instances)== 0?\"hidden\"\n                          : height(new Set(d), cur_selection.instances) / this.height>0.05?\"hidden\":\"visible\",\n                    cx : x(d) + barWidthtmp(d) / 2   + (idx - 1/2) * selectionBarWidth(d),\n                    cy : this.height - selectionBarWidth(d) / 2,\n                    selection_type: idx,\n                    focused: hasFocusItem(new Set(d), cur_selection.instances),\n                    view_name : this.name\n                  }\n                  this.$store.dispatch('drawSelections',selection_attributes)\n              })\n            } else {\n              this.categories.forEach((d)=>{\n                  let  barWidthtmp = this.xCate.bandwidth();\n                  let selectionBarWidth = barWidthtmp / 8;\n                  let x = this.xCate;\n                  let selection_attributes = {\n                    barCells : this.svg,\n                    x : barWidthtmp / 2 + (idx-1) *  selectionBarWidth + x(d),\n                    y :  yOffset(this.bucketedInstances[d], cur_selection.instances),\n                    width : selectionBarWidth,\n                    height :height(this.bucketedInstances[d], cur_selection.instances),\n                    r  : selectionBarWidth / 2,\n                    color : idx == 0? this.selection1Color : this.selection2Color,\n                    circle_visibility : isNaN(parseInt(formatDecimal(yText(this.bucketedInstances[d], cur_selection.instances)))) ? \"hidden\"\n                            : height(this.bucketedInstances[d], cur_selection.instances) == 0?\"hidden\"\n                            : height(this.bucketedInstances[d], cur_selection.instances) / this.height>0.05?\"hidden\":\"visible\",\n                    cx : x(d) + barWidthtmp / 2  + (idx - 1/2) * selectionBarWidth,\n                    cy : this.height - selectionBarWidth / 2,\n                    selection_type: idx,\n                    focused: hasFocusItem(this.bucketedInstances[d], cur_selection.instances),\n                    view_name : this.name\n                  }\n                  this.$store.dispatch('drawSelections',selection_attributes)\n              })\n            }\n          }\n        }\n      })\n    },\n    selecttmp(\n      d: Bin,\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n      const instances = new Set(d);\n      const description = `Instances which have \"${this.chosenFeature}\" between ${d.x0} and ${d.x1}`;\n      // lower bound is inclusive\n      const constraintLowerBound = blankConstraint();\n      // negation of LT means feature is greater then or equal to\n      constraintLowerBound.rule = Rule.FEATURE_LT;\n      constraintLowerBound.negation = true;\n      constraintLowerBound.value = String(d.x0);\n      // upper bound is exclusive, TODO: except for the last bin\n      const constraintUpperBound = blankConstraint();\n      constraintUpperBound.rule = Rule.FEATURE_LT;\n      constraintUpperBound.value = String(d.x1);\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraintLowerBound, constraintUpperBound],\n        metric : []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    selecttmp2(\n      d: string,\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.FEATURE_EQ;\n      constraint.feature = this.chosenFeature;\n      constraint.value = d;\n\n      const instances = this.bucketedInstances[d];\n      const description = `Instances with feature '${this.chosenFeature}' equal to '${d}')`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric:[],\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    select(\n      className: string,\n      whichOverlap: 'first' | 'second',\n    ) {\n\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.ACTUAL;\n      constraint.target = className;\n\n      const instances = this.buckets[className];\n      const description = `Instances of class ${className}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: [],\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureHistogram.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureHistogram.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FeatureHistogram.vue?vue&type=template&id=848054e2&scoped=true&\"\nimport script from \"./FeatureHistogram.vue?vue&type=script&lang=ts&\"\nexport * from \"./FeatureHistogram.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FeatureHistogram.vue?vue&type=style&index=0&id=848054e2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"848054e2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup,VSelect,VSlider,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Scatter Plot \")])],1)])],1)],1),_c('div',[_c('multiselect',{staticClass:\"select_feature\",attrs:{\"options\":_vm.numericFeatures,\"single\":\"\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',[_c('multiselect',{staticClass:\"select_feature_y\",attrs:{\"options\":_vm.numericFeatures,\"single\":\"\"},model:{value:(_vm.value_y),callback:function ($$v) {_vm.value_y=$$v},expression:\"value_y\"}})],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { colors } from '../../theme';\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\nexport default Vue.extend({\n  name: 'ScatterPlot',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = 'descending' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n    };\n    const chosenData = \"All\" as \"All\" | \"selection1\" | \"selection2\"\n    const evaluationSelection = 'acc2' as 'acc1'| 'acc2' | 'acc3' | 'uncertain';\n    const zoom = {\n      type: '' as 'in' | 'out' | '',\n      obejct: '',\n    };\n    const value_y = 'prediction-' + [...this.boxProps.classifiers][3]\n    return {\n      svg: '',\n      zoom,\n      min:0,\n      max:100,\n      max_value: 0,\n      evaluationSelection,\n      value: '',\n      value_y,\n      classifierValue: '',\n      chosenData,\n      accuracySorting,\n      height,\n      correlation_mode:'No',\n      hover,\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      selectedEval:'',\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      correlations:[],\n      featureIntervals: Number,\n      featureYIntervals: Number,\n      preCorrelations: [],\n      prefeatureIntervals: Number,\n      prefeatureYIntervals: Number,\n      premax_value: 0,\n      clickCount: 0,\n      clickTimer: 0,\n    };\n  },\n  computed: {\n    correlationMode() : String {\n      var correlationMode = \"\"\n      switch (this.evaluationSelection) {\n        case 'acc1' :\n          correlationMode = \"acc1\"\n          break;\n        case 'acc2' :\n          correlationMode = \"acc2\"\n          break; \n        case 'acc3' :\n          correlationMode = \"acc3\"\n          break; \n        case 'uncertain' :\n          correlationMode = \"uncertain\"\n          break;  \n      }\n      return correlationMode;\n    },\n    selectionHistory(): SelectionRecord[] {\n      return this.$store.state.selectionHistory;\n    },\n    numericFeatures(): any[] {\n        const allFeatures = [...this.boxProps.features];\n        const numericTypes = ['interval', 'ratio'];\n        const isNumeric = (featureName: string) => {\n            const feature = this.$store.getters.feature(featureName);\n            return numericTypes.includes(feature.type);\n        };\n        const numericFeatures =  allFeatures.filter(isNumeric);\n        this.classifiers.forEach((c)=>{\n          numericFeatures.push('prediction-'+c)\n        })\n        \n        return numericFeatures;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    uncertaintyRange(): string[] {\n      return [\"0.00\",\"0.01\",\"0.02\",\"0.03\",\"0.04\",\"0.05\",\"0.06\",\"0.07\",\"0.08\",\"0.09\",\"0.10\"]\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThreshods;\n    },\n    externalHoverInstance(): string {\n      return this.$store.state.hoverInstance;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    features() :any[] {\n      const allFeatures = [...this.boxProps.features];\n      const numericTypes = ['interval', 'ratio'];\n      const isNumeric = (featureName: string) => {\n        const feature = this.$store.getters.feature(featureName);\n        return numericTypes.includes(feature.type);\n      };\n      const numericFeatures =  allFeatures.filter(isNumeric);\n      const categoricalFeatures = [...this.boxProps.features].filter((f) => this.$store.getters.feature(f).type === 'categorical');\n      let features = []//this.$store.getters.featuresDict.columns.filter((c)=>c != \"id\" && c != \"\");\n      numericFeatures.forEach((c)=>{\n        features.push(c)\n      })\n      categoricalFeatures.forEach((c)=>{\n        features.push(c)\n      })\n      features = features.filter(f=>f!=\"train_or_test\")\n      return features;\n    },\n    InitialCorrelations(): any[] {\n        if (this.value == '' && this.numericFeatures.length != 0) {\n            this.value = this.numericFeatures[0]\n        }\n        if (this.value == '' || this.value_y == '') {\n            return [];\n        }\n        if (this.classifierValue == '') {\n          this.classifierValue = this.classifiers[0]\n        }\n        let feature = this.value;\n        let feature_y = this.value_y;\n        let instances = this.instances;\n        let intervals = 10;\n        let featureList = [];\n        let featureYList = [];\n        let feature_min = 100000;\n        let feature_max = -100000;\n        let featureY_min = 100000;\n        let featureY_max = -100000;\n        instances.forEach((i)=>{\n            let feature_value = 0\n            let featureY_value = 0\n            if (this.value.substring(0,10) == 'prediction') {\n              let classifier = this.value.substring(11,this.value.length) \n              feature_value = instanceById(i)['continuous_predictions'][classifier]\n            } else {\n              feature_value = parseFloat(instanceById(i)['features'][feature].toString());\n            }\n            if (this.value_y.substring(0,10) == 'prediction') {\n              let classifier = this.value_y.substring(11,this.value_y.length) \n              featureY_value = instanceById(i)['continuous_predictions'][classifier]\n            } else {\n              featureY_value = parseFloat(instanceById(i)['features'][feature_y].toString());\n            }\n            featureList.push(feature_value)\n            featureYList.push(featureY_value)\n            feature_min = feature_min > Math.floor(feature_value) ? Math.floor(feature_value) : feature_min;\n            feature_max = feature_max < Math.ceil(feature_value) ? Math.ceil(feature_value) : feature_max;\n            featureY_min = featureY_min > Math.floor(featureY_value) ? Math.floor(featureY_value) : featureY_min;\n            featureY_max = featureY_max < Math.ceil(featureY_value) ? Math.ceil(featureY_value) : featureY_max;\n        })\n        let feature_diff = (feature_max - feature_min) / 10;\n        let featureY_diff = (featureY_max - featureY_min) / 10;\n        \n        let featureIntervals = [];\n        let featureYIntervals = [];\n        let count = 0;\n        let begin = feature_min;\n        let beginY = featureY_min;\n        while (count <= 10) {\n            featureIntervals.push(parseFloat(begin.toFixed(1)))\n            featureYIntervals.push(parseFloat(beginY.toFixed(1)))\n            begin += feature_diff\n            beginY += featureY_diff\n            count += 1\n        }\n        let scatter_matrix = []\n        featureYIntervals.forEach((featureY, i)=>{\n            scatter_matrix[i] = []\n            featureIntervals.forEach((feature, j)=>{\n                scatter_matrix[i].push([])\n            }) \n        })\n        instances.forEach((i)=>{\n            let feature_value = 0\n            let featureY_value = 0\n            if (this.value.substring(0,10) == 'prediction') {\n              let classifier = this.value.substring(11,this.value.length) \n              feature_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              feature_value = parseFloat(instanceById(i)['features'][feature].toString());\n            }\n            if (this.value_y.substring(0,10) == 'prediction') {\n              let classifier = this.value_y.substring(11,this.value_y.length) \n              featureY_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              featureY_value = parseFloat(instanceById(i)['features'][feature_y].toString());\n            }\n            let feature_idx = parseInt(Math.round((feature_value - feature_min) / feature_diff).toString())\n            let featureY_idx = parseInt(Math.round((featureY_value - featureY_min) / featureY_diff).toString())\n            scatter_matrix[featureY_idx][feature_idx].push(i)\n        })\n        \n        this.featureIntervals = featureIntervals;\n        this.featureYIntervals = featureYIntervals;\n        let correlations = [];\n        scatter_matrix.forEach((row, i)=>[\n            row.forEach((value, j)=>{\n                this.max_value = this.max_value < value.length ? value.length : this.max_value;\n                correlations.push({ \"feature_y\": featureYIntervals[i],\"feature\": featureIntervals[j], \"featureY_idx\": i, \"feature_idx\": j, \"value\":value.length, \"instances\": value, \"zoom\":0 })\n            })\n        ])\n        return correlations;\n    \n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusDotEmphasis(): String{return  this.$store.state.focusDotEmphasis},\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n              .domain(this.featureIntervals)\n              .range([0, this.width])\n              .paddingOuter(1)\n              .paddingInner(0.3);\n      return x\n    },\n    y(): d3.ScaleBand<string>{\n      const y = d3.scaleBand<string>()\n              .domain(this.featureYIntervals)\n              .range([this.height,0])\n              .paddingOuter(1)\n              .paddingInner(0.3);\n      return y;\n    },\n    xAxis():any {\n      const xAxis = (g: any) => g\n            .attr('transform', `translate(${60}, ${this.height})`)\n            .call(\n              d3.axisBottom(this.x)\n                .tickSizeOuter(0),\n            );\n      return xAxis;\n    }\n  },\n  watch: {\n    zoom() {\n      this.updateCorrelations();\n      this.drawInitial();\n    },\n    selections() {\n      this.drawInitial();\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n    classifierValue() {\n      this.updateCorrelations();\n      this.drawCorrelation();\n    },\n    value() {\n      this.zoom = {\n        type: '' as 'in' | 'out' | '',\n        obejct: '',\n      };\n      this.updateCorrelations();\n      this.drawCorrelation();\n    },\n    value_y() {\n      this.zoom = {\n        type: '' as 'in' | 'out' | '',\n        obejct: '',\n      };\n      this.updateCorrelations();\n      this.drawCorrelation();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    correlationMode() {\n      this.drawCorrelation();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    updateCorrelations() {\n        this.preCorrelations = []\n        this.prefeatureIntervals = []\n        this.prefeatureYIntervals = []\n        this.premax_value = this.max_value\n        let feature = this.value;\n        let feature_y = this.value_y;\n        let instances = this.zoom['type'] == '' ? this.instances: this.zoom['object']['instances'];\n        let intervals = 10;\n        let featureList = [];\n        let featureYList = [];\n        let feature_min = 100000;\n        let feature_max = -100000;\n        let featureY_min = 100000;\n        let featureY_max = -100000;\n        this.max_value = -100000;\n        this.correlations.forEach((c)=>{\n          this.preCorrelations.push(c)\n        })\n        this.featureIntervals.forEach((f)=>{\n          this.prefeatureIntervals.push(f)\n        })\n        this.featureYIntervals.forEach((f)=>{\n          this.prefeatureYIntervals.push(f)\n        })\n        instances.forEach((i)=>{\n            let feature_value = 0\n            let featureY_value = 0\n            if (this.value.substring(0,10) == 'prediction') {\n              let classifier = this.value.substring(11,this.value.length) \n              feature_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              feature_value = parseFloat(instanceById(i)['features'][feature].toString());\n            }\n            if (this.value_y.substring(0,10) == 'prediction') {\n              let classifier = this.value_y.substring(11,this.value_y.length) \n              featureY_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              featureY_value = parseFloat(instanceById(i)['features'][feature_y].toString());\n            }\n            featureYList.push(featureY_value)\n            feature_min = feature_min > (feature_value) ? (feature_value) : feature_min;\n            feature_max = feature_max < (feature_value) ? (feature_value) : feature_max;\n            featureY_min = featureY_min > (featureY_value) ? (featureY_value) : featureY_min;\n            featureY_max = featureY_max < (featureY_value) ? (featureY_value) : featureY_max;\n        })\n        let feature_diff = (feature_max - feature_min) / 10;\n        let featureY_diff = (featureY_max - featureY_min) / 10;\n        let featureIntervals = [];\n        let featureYIntervals = [];\n        let count = 0;\n        let begin = feature_min;\n        let beginY = featureY_min;\n        while (count <= 10) {\n            featureIntervals.push(parseFloat(begin.toFixed(2)))\n            featureYIntervals.push(parseFloat(beginY.toFixed(2)))\n            begin += feature_diff\n            beginY += featureY_diff\n            count += 1\n        }\n        let scatter_matrix = []\n        featureYIntervals.forEach((featureY, i)=>{\n            scatter_matrix[i] = []\n            featureIntervals.forEach((feature, j)=>{\n                scatter_matrix[i].push([])\n            }) \n        })\n        this.featureIntervals = featureIntervals;\n        this.featureYIntervals = featureYIntervals;\n        let correlations = [];\n        if (this.zoom.type == '') {\n          instances.forEach((i)=>{\n              let feature_value = 0\n            let featureY_value = 0\n            if (this.value.substring(0,10) == 'prediction') {\n              let classifier = this.value.substring(11,this.value.length) \n              feature_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              feature_value = parseFloat(instanceById(i)['features'][feature].toString());\n            }\n            if (this.value_y.substring(0,10) == 'prediction') {\n              let classifier = this.value_y.substring(11,this.value_y.length) \n              featureY_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              featureY_value = parseFloat(instanceById(i)['features'][feature_y].toString());\n            }\n              let feature_idx = parseInt(Math.round((feature_value - feature_min) / feature_diff).toString())\n              let featureY_idx = parseInt(Math.round((featureY_value - featureY_min) / featureY_diff).toString())\n              scatter_matrix[featureY_idx][feature_idx].push(i)\n          })\n          \n          scatter_matrix.forEach((row, i)=>{\n              row.forEach((value, j)=>{\n                  this.max_value = this.max_value < value.length ? value.length : this.max_value;\n                  correlations.push({ \"feature_y\": featureYIntervals[i],\"feature\": featureIntervals[j], \"featureY_idx\": i, \"feature_idx\": j, \"value\":value.length, \"instances\": value , \"zoom\": 0})\n              })\n          })\n        } else {\n          instances.forEach((i)=>{\n              let feature_value = 0\n              let featureY_value = 0\n              if (this.value.substring(0,10) == 'prediction') {\n                let classifier = this.value.substring(11,this.value.length) \n                feature_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n              } else {\n                feature_value = parseFloat(instanceById(i)['features'][feature].toString());\n              }\n              if (this.value_y.substring(0,10) == 'prediction') {\n                let classifier = this.value_y.substring(11,this.value_y.length) \n                featureY_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n              } else {\n                featureY_value = parseFloat(instanceById(i)['features'][feature_y].toString());\n              }\n              correlations.push({ \"feature_y\": featureY_value,\"feature\": feature_value, \"featureY_idx\": '', \"feature_idx\": '', \"value\":1, \"instances\": new Set([i]), \"zoom\": 0})\n          })\n        }\n        \n        this.correlations =  correlations;\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom +  this.margin.left)}`)\n      const svg_correlations = svgAll.append('g')\n          .attr(\"class\",\"svg-correlations\")\n          .attr('transform',`translate(${0}, ${this.margin.top + this.margin.left })`)     ;\n      if (this.correlations.length == 0) {\n        this.correlations = this.InitialCorrelations\n      }\n      \n      this.drawCorrelation();      \n    },\n    drawCorrelation() { \n      if (this.correlations.length == 0) {\n        this.correlations = this.InitialCorrelations\n      }\n      const chart = d3.select(this.$refs.svg);\n      const svg = chart.select(\".svg-correlations\")\n      const correlationMode = this.correlationMode;\n      svg.selectAll('*').remove();  \n      const sequentialScale = d3.scaleSequential<string>( d3.interpolateGreys)\n        .domain([0, 1.5* this.max_value])\n        .interpolator(function (x) { return d3.interpolateGreys(1.5*x);} );\n      const drawTitles = () =>{\n          svg.append('text')\n            .attr('transform', () => {\n                const xOffset = this.width / 2;\n                const yOffset = this.height + this.margin.bottom;\n                return `translate(${xOffset}, ${yOffset})`;\n            })\n            .style('text-anchor', 'middle')\n            .style('font-size', '24px')\n            .text('Feature: ' + this.value);\n          svg.append('text')\n            .attr('transform', () => {\n                const xOffset = 100;\n                const yOffset = -40;\n                return `translate(${xOffset}, ${yOffset})`;\n            })\n            .style('text-anchor', 'middle')\n            .style('font-size', '24px')\n            .text('Feature: ' + this.value_y);\n      }\n      drawTitles();\n      const drawRects = () => {\n          let x = this.x;\n          let y = this.y;\n          let xAxis = this.xAxis;\n          svg.append('g')\n            .call(xAxis)\n            .attr('font-size', 18)\n            .selectAll('text')\n            .attr('transform', 'rotate(30)')\n            .attr('text-anchor', 'start');\n          svg.append(\"g\")\n              .attr(\"transform\", \"translate(60,\" + 0 + \")\")\n              .call(d3.axisLeft(y))\n              .attr('font-size', 18);\n          \n          \n          const barCells  = svg.append('g')\n            .attr(\"transform\", \"translate(60, \" + (-this.height / 15) + \")\")\n            .selectAll(\"rects\")\n            .data(this.correlations)\n            .enter();\n          this.svg = svg;\n          barCells\n            .append(\"rect\")\n            .attr(\"x\", function (d) { return x(d['feature']); } )\n            .attr(\"y\", function (d) { return y(d['feature_y']); } )\n            .attr(\"width\", this.width / 15)\n            .attr(\"height\", this.height / 15)\n            .style(\"fill\", (d)=>{\n                return sequentialScale(d['value'])\n            })\n            .on('click', (d: string) => this.click(d))\n            .on('contextmenu', (d: string) => this.select(d, 'second'));\n           \n      }\n      const drawZoomin = () => {\n        const x = d3.scaleLinear()\n          .domain([parseFloat(d3.min(this.featureIntervals)) * 0.95, parseFloat(d3.max(this.featureIntervals)) * 1.05])\n          .range([ 0, this.width]);\n        const y = d3.scaleLinear()\n          .domain([parseFloat(d3.min(this.featureYIntervals)) * 0.95, parseFloat(d3.max(this.featureYIntervals)) * 1.05])\n          .range([this.height, 0]);\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${60}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 18)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n        svg.append(\"g\")\n              .attr(\"transform\", \"translate(60,\" + 0 + \")\")\n              .call(d3.axisLeft(y))\n              .attr('font-size', 18);\n        const barCells  = svg.append('g')\n            .attr(\"transform\", \"translate(60, \" + (-this.height / 15) + \")\")\n            .selectAll(\"rects\")\n            .data(this.correlations)\n            .enter();\n        barCells\n          .append(\"circle\")\n          .attr(\"cx\", function (d) { return x(d['feature']); } )\n          .attr(\"cy\", function (d) { return y(d['feature_y']); } )\n          .attr(\"r\", (d)=> 15 * d['value'])\n          .style(\"fill\", (d)=> {\n            return (d['instances'].has(this.$store.state.focusItemId)) ? colors.focus:'steelblue'\n            })\n          .attr('opacity',0.5)\n          .on('click', (d: string) => {\n            this.$store.dispatch(\n              \"setFocusItem\",\n                [...d['instances']][0]\n            );\n          })\n          .on('contextmenu', (d: string) => {\n            this.select(d, 'second')\n            })\n         const drawOverallView = () =>{\n            var x = d3.scaleBand<string>()\n              .domain(this.prefeatureIntervals)\n              .range([0, this.width  / 5])\n              .paddingOuter(1)\n              .paddingInner(0.3);\n            var y = d3.scaleBand<string>()\n                .domain(this.prefeatureYIntervals)\n                .range([this.height / 5,0])\n                .paddingOuter(1)\n                .paddingInner(0.3);\n            var xAxis = (g: any) => g\n              .attr('transform', `translate(${this.width-60}, ${this.height / 5})`)\n              .call(\n                d3.axisBottom(x)\n                  .tickSizeOuter(0),\n              );\n            svg.append('g')\n              .call(xAxis)\n              .attr('font-size', 4)\n              .selectAll('text')\n              .attr('transform', 'rotate(30)')\n              .attr('text-anchor', 'start');\n            svg.append(\"g\")\n                .attr(\"transform\", \"translate(\" +(this.width-60) + ','+ 0 + \")\")\n                .call(d3.axisLeft(y))\n                .attr('font-size', 4);\n                        \n            const barCells  = svg.append('g')\n              .attr(\"transform\", \"translate(\" +(this.width-60) + ','+ (-this.height / 75) + \")\")\n              .selectAll(\"rects\")\n              .data(this.preCorrelations)\n              .enter();\n            barCells\n              .append(\"rect\")\n              .attr(\"x\", function (d) { return x(d['feature']); } )\n              .attr(\"y\", function (d) { return y(d['feature_y']); } )\n              .attr(\"width\", this.width / 75)\n              .attr(\"height\", this.height / 75)\n              .style(\"fill\", (d)=>{\n                if (this.zoom.object == d) {\n                  return 'steelblue'\n                }\n                  return 'lightgrey'\n              })\n              .attr(\"visibility\",d=>d['value'] == 0? 'hidden':'visible')\n              .on('click', d=>this.zoom = ({type: '', 'object':''}))\n         }\n         drawOverallView();\n          \n      }\n      if (this.zoom.type == '') {\n        drawRects();\n        this.drawSelections();\n      } else {\n        drawZoomin();\n      }\n      \n    },\n    drawSelections() {\n        if (this.correlations.length == 0) {\n          this.correlations = this.InitialCorrelations\n        }\n        const { first, second } = this.selections;\n        const barYOffset = (instances: Set<string>, selection: Set<string>) => {\n            const overlappingInstances = intersection(instances, selection);\n            return overlappingInstances.size / instances.size * (this.height / 15);\n        };\n        const hasFocusItem = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n        const selections = [first, second];\n        const x = this.x;\n        const y = this.y;\n        let barWidth = this.width / 15;\n        let selectionBarWidth  = barWidth / 6;\n        selections.forEach((cur_selection, idx)=>{\n          if (!cur_selection) {\n            this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n            this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n          } else {\n            this.correlations.forEach((d)=>{\n              \n              let selection_attributes = {\n                barCells : this.svg,\n                x : 60 + x(d['feature']) + (idx+1) * selectionBarWidth,\n                y : (-this.height / 15) + y(d['feature_y']) ,\n                width : selectionBarWidth,\n                height : barYOffset(new Set(d['instances']), cur_selection.instances),\n                r  : selectionBarWidth / 2,\n                color : idx == 0? this.selection1Color : this.selection2Color,\n                circle_visibility : barYOffset(new Set(d['instances']), cur_selection.instances) > 0 && barYOffset(new Set(d['instances']), cur_selection.instances) < barWidth * 0.1 ? 'visible':'hidden',\n                cx : 60 + x(d['feature'])  + selectionBarWidth * 2 + (idx - 1/2) * selectionBarWidth,\n                cy : (-this.height / 15)+ y(d['feature_y'])  + selectionBarWidth / 2,\n                selection_type: idx,\n                focused: hasFocusItem(new Set(d['instances']), cur_selection.instances),\n                view_name : this.name\n              }\n              this.$store.dispatch('drawSelections',selection_attributes)\n            })\n          }\n        })\n    },\n    select(\n      group: string,\n      whichOverlap: 'first' | 'second',\n    ) {\n      if(whichOverlap === 'second') {\n        d3.event.preventDefault();\n        d3.event.stopPropagation();\n      }\n      const classifier = this.classifierValue;\n      const feature_name = this.value;\n      const featureY_name  = this.value_y;\n      const feature = group['feature'];\n      const feature_y = group['feature_y'];\n      const description = `Instances whose ${feature_name} are around ${feature} and ${featureY_name} are around ${feature_y} `;\n      \n      const instances = new Set (group['instances'])\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n   \n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    click(item){\n      this.clickCount += 1\n      if (this.clickCount === 1) {\n          this.clickTimer = setTimeout(function(context) {\n              context.clickCount = 0\n              context.select(item, 'first');\n          }, 300, this)\n      } \n      if (this.clickCount === 2) {\n          clearTimeout(this.clickTimer);\n          this.clickCount = 0\n          this.zoom = ({type: 'in', 'object':item})\n      }\n    }\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterPlot.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterPlot.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ScatterPlot.vue?vue&type=template&id=31750de6&scoped=true&\"\nimport script from \"./ScatterPlot.vue?vue&type=script&lang=ts&\"\nexport * from \"./ScatterPlot.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ScatterPlot.vue?vue&type=style&index=0&id=31750de6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31750de6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelHeader,VExpansionPanels,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Focus Item\")])],1)]),_c('v-expansion-panel-content',[_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"all-instance\",\"color\":_vm.subset === 'all' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.allInstance}},[_vm._v(\"All\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"first-instance\",\"color\":_vm.subset === 'first' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.firstInstance}},[_vm._v(\"Selection 1\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"second-instance\",\"color\":_vm.subset === 'second' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.secondInstance}},[_vm._v(\"Selection 2\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"intersection-instance\",\"color\":_vm.subset === 'intersection' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.intersectionInstance}},[_vm._v(\"Intersection\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"union-instance\",\"color\":_vm.subset === 'union' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.unionInstance}},[_vm._v(\"Union\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"complement-instance\",\"color\":_vm.subset === 'complement' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.complementInstance}},[_vm._v(\"Complement of 1 Union 2\")])],1)],1)],1),_c('v-list',{attrs:{\"id\":\"item-container\"}},[_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.prevInstance(_vm.instances)}}},[_vm._v(\"Previous\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.nextInstance(_vm.instances)}}},[_vm._v(\"Next\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.randInstance(_vm.instances)}}},[_vm._v(\"Random\")]),_c('v-btn',{staticClass:\"button-nav emphasize-btn\",attrs:{\"color\":\"warning\",\"small\":\"\"},on:{\"click\":_vm.emphasize}},[_vm._v(\"Emphasize\")]),(_vm.focus(_vm.instances).features.image)?_c('v-img',{attrs:{\"src\":_vm.focus(_vm.instances).features.image}}):_vm._e(),_vm._l((_vm.focus(_vm.instances)),function(value,name){return _c('v-list-item',{key:value.id,attrs:{\"id\":\"v-for-object\"}},[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(_vm._s(name))]),(typeof value === 'object')?_vm._l((value),function(v,n){return _c('v-list',{key:n,attrs:{\"id\":\"v-for-object\"}},[(n && v)?[_vm._v(_vm._s(n)+\": \"+_vm._s(v))]:_vm._e(),[_vm._v(_vm._s(n)+\": \"+_vm._s(v))]],2)}):[_vm._v(_vm._s(value))]],2)],1)}),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.prevInstance(_vm.instances)}}},[_vm._v(\"Previous\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.nextInstance(_vm.instances)}}},[_vm._v(\"Next\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.randInstance(_vm.instances)}}},[_vm._v(\"Random\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":_vm.emphasize}},[_vm._v(\"Emphasize\")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { colors } from \"../../theme\";\nimport {\n  Instance,\n  InstanceWithId,\n  SelectionRecord,\n  BoxProps,\n} from \"../../types\";\nimport { instanceById } from \"../../utils\";\nimport Vue from \"vue\";\nimport { mapActions } from \"vuex\";\nimport { isConstraintComplete } from \"../constraints/utils\";\ninterface Header {\n  text: string;\n  value: string;\n}\nexport default Vue.extend({\n  name: \"InstanceList\",\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      panel: [],\n      sortby: [],\n      sortBySel: \"\" as \"\" | \"first\" | \"second\" | \"common\",\n      descending: false,\n      show_predictions: true,\n      show_features: true,\n      string_length: 7,\n      currentIndex: 0,\n      subset: \"all\",\n    };\n  },\n  mounted() {\n    this.$store.dispatch(\"setFocusItem\", this.instances[this.currentIndex].id);\n    this.$store.dispatch(\"changeFocusSet\", this.subset);\n  },\n  computed: {\n    instances(): InstanceWithId[] {\n      let instances: InstanceWithId[] = [];\n      this.$store.getters.filteredInstances.forEach((id: string) => {\n        const i = instanceById(id);\n        const instance: InstanceWithId = {\n          id,\n          ...i,\n        };\n        instances.push(instance);\n      });\n      // get subset depending on the button clicked\n      const { first, second } = this.selections;\n      if (this.subset !== \"all\") {\n        let selection = [];\n        if (this.subset === \"first\") {\n          if (first)\n            for (const id of first.instances)\n              selection.push(instances.find((x) => x.id === id));\n          else {\n            this.currentIndex = -1;\n            alert(\"no selection\");\n          }\n        } else if (this.subset === \"second\") {\n          if (second)\n            for (const id of second.instances)\n              selection.push(instances.find((x) => x.id === id));\n          else {\n            this.currentIndex = -1;\n            alert(\"no second set of selection\");\n          }\n        } else if (first && second) {\n          if (this.subset === \"intersection\") {\n            for (const id of first.instances) {\n              if (second.instances.has(id)) {\n                selection.push(instances.find((x) => x.id === id));\n              }\n            }\n          } else if (this.subset === \"union\") {\n            for (const id of first.instances)\n              selection.push(instances.find((x) => x.id === id));\n            for (const id of second.instances)\n              if (!first.instances.has(id))\n                selection.push(instances.find((x) => x.id === id));\n          } else if (this.subset === \"complement\") {\n            for (const instance of instances) {\n              if (\n                !first.instances.has(instance.id) &&\n                !second.instances.has(instance.id)\n              )\n                selection.push(instance);\n            }\n          }\n        } else {\n          this.currentIndex = -1;\n          alert(\"two selected sets are required to perform this action\");\n        }\n        return selection;\n      }\n      return instances;\n    },\n    selections(): {\n      first: SelectionRecord | null;\n      second: SelectionRecord | null;\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n  },\n  watch: {\n    currentIndex() {\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.currentIndex < 0 ? null : this.instances[this.currentIndex].id\n      );\n    },\n    selections() {\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.currentIndex < 0 ? null : this.instances[this.currentIndex].id\n      );\n    },\n    onClose() {\n      console.log(\"focus closed\");\n    },\n    focusItemId(){\n      this.currentIndex = this.idToIndex(this.instances,this.$store.state.focusItemId)\n      console.log('setFocus to:', this.$store.state.focusItemId)\n      console.log('idToIndex:', this.idToIndex(this.instances,this.$store.state.focusItemId))\n    },\n  },\n  methods: {\n    /*\n      Focus object getter\n    */\n    focus(instances) {\n      const instance = instances[this.currentIndex]\n      let essentials = {\n        features: instance.features,\n        id: instance.id, \n        actual: instance.actual, \n        predictions: instance.predictions\n      }\n      if(instance.continuous_predictions)\n        essentials[\"continuous_predictions\"] = instance.continuous_predictions\n      \n      for (const key in essentials) {\n        if (Object.prototype.hasOwnProperty.call(essentials, key)) {\n          if(essentials[key][\"\"])\n            delete essentials[key][\"\"]\n        }\n      }\n      return essentials;\n      return instances[this.currentIndex];\n    },\n    idToIndex(instances, id) {\n      for(let i = 0; i < instances.length; i++){\n        if(instances[i].id === id) {\n          return i\n          }\n      }\n      return -1\n    },\n    /*\n      Navigation button handlers.\n    */\n    prevInstance(instances) {\n      if (this.currentIndex > 0) this.currentIndex--;\n      else this.currentIndex = instances.length - 1;\n    },\n    nextInstance(instances) {\n      if (this.currentIndex < instances.length - 1) this.currentIndex++;\n      else this.currentIndex = 0;\n    },\n    randInstance(instances) {\n      this.currentIndex = Math.floor(Math.random() * instances.length);\n    },\n    /*\n      Expanded panel button handlers.\n      Handles subset selection.\n    */\n    allInstance() {\n      this.currentIndex = 0;\n      this.subset = \"all\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    firstInstance() {\n      this.currentIndex = 0;\n      this.subset = \"first\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    secondInstance() {\n      this.currentIndex = 0;\n      this.subset = \"second\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    intersectionInstance() {\n      this.currentIndex = 0;\n      this.subset = \"intersection\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    unionInstance() {\n      this.currentIndex = 0;\n      this.subset = \"union\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    complementInstance() {\n      this.currentIndex = 0;\n      this.subset = \"complement\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    emphasize() {\n      this.$store.dispatch(\"emphasizeFocus\");\n      \n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FocusItem.vue?vue&type=template&id=15d9b217&scoped=true&\"\nimport script from \"./FocusItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./FocusItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FocusItem.vue?vue&type=style&index=0&id=15d9b217&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15d9b217\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VImg,VList,VListItem,VListItemContent,VListItemSubtitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"(Trinary) Rejected Curve\")])],1)]),_c('v-expansion-panel-content',[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationKeys),callback:function ($$v) {_vm.evaluationKeys=$$v},expression:\"evaluationKeys\"}},[_c('v-radio',{attrs:{\"label\":\"conditional accuracy\",\"value\":\"c_accuracy\"}}),_c('v-radio',{attrs:{\"label\":\"accuracy\",\"value\":\"accuracy\"}}),_c('v-radio',{attrs:{\"id\":\"mcc\",\"label\":\"mcc\",\"value\":\"mcc\"}}),_c('v-radio',{attrs:{\"label\":\"f1\",\"value\":\"f1\"}}),_c('v-radio',{attrs:{\"label\":\"precision\",\"value\":\"precision\"}}),_c('v-radio',{attrs:{\"label\":\"recall\",\"value\":\"recall\"}})],1),_c('v-radio-group',{attrs:{\"label\":\"Selection Mode\"},model:{value:(_vm.selection_mode),callback:function ($$v) {_vm.selection_mode=$$v},expression:\"selection_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall curve \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"selection curve\",\"value\":\"selected\"}})],1)],1)],1)],1),_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar values = ref.values;\nvar isOpen = ref.isOpen;\nreturn [(values.length && !isOpen)?_c('span',{staticClass:\"multiselect__single\"},[_vm._v(\" \"+_vm._s(values.length)+\" options selected \")]):_vm._e()]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n  union,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { range, selection } from 'd3';\n\nexport default Vue.extend({\n  name: 'Rejected_Curve',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const hover = {\n      info: '',\n      idx: '',\n      line_idx: ''\n    };\n    const click = {\n      classifier: '',\n      left_range: '',\n      right_range: ''\n    };\n    const lineHover = {\n      info: '',\n      line_idx: ''\n    };\n    const evaluationKeys = 'c_accuracy' as 'mcc'| 'f1' | 'precision'| 'recall'| 'accuracy' | 'c_accuracy'\n\n    const bandwidthHover = {\n      bandwidth: '',\n    }\n    const barHover  = {\n      threshold: '',\n    }\n    const accHover  = {\n      threshold: '',\n    }\n    const currentThresholds = {\n      threshold: '',\n    }\n    const selection_mode = 'overall' as 'overall' | 'selected'\n\n    const curveClassifier = [...this.boxProps.classifiers][3];\n    const upperColors = [\"rgb(37,102,118)\", \"rgb(138,225,249)\"]\n    const lowerColors = [\"rgb(181,29,73)\", \"rgb(251,137,155)\"]\n    const middleColors = [\"rgb(64,57,150)\",\"rgb(119,136,153)\"]\n\n\n    return {\n      selectedPred: {},\n      classifierBuckets: {},\n      selection_mode,\n      leftRate: 0,\n      rightRate: 1,\n      multilClassifier: 'no',\n      thresholdList: [],\n      currentThresholds,\n      tmp_threshold: 0.50,\n      barHover,\n      evaluationKeys,\n      accHover,\n      bandwidthHover,\n      leftThreshold: 0.00,\n      rightThreshold: 1.00,\n      streamData: {},\n      value: [],\n      height,\n      hover,\n      click,\n      lineHover,\n      margin,\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      classNumber:[...this.boxProps.classes].length,\n      curveClassifier,\n      numberOfBins: 0.50,\n      thresholdRangeRecords:{},\n      upperColors,\n      middleColors,\n      lowerColors,\n    };\n  },\n  computed: {\n    thresholds():string[] {\n      let threshold = 0.00\n      let interval = 0.02\n      let thresholds = []\n      while (threshold <= 1){\n        thresholds.push(threshold.toFixed(2))\n        threshold += interval\n      }\n      return thresholds\n    },\n\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    options(): any[] {\n      let options = []\n      const classifiers = this.classifiers\n      classifiers.forEach((c)=>{\n        options.push({name: c});\n      })\n      return options\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThresholdDict;\n    },\n    classifierBandWidthDict(): string[] {\n      return this.boxProps.classifierBandWidthDict;\n    },\n    classes(): string[] {\n      this.classNumber = [...this.boxProps.classes].length\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];  \n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    thresholdClassifierNameList():string[] {\n      return this.$store.state.thresholdClassifierNameList\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    predictionKeys(): string[] {\n      const predictionKeys = this.classifiers.slice();\n      return predictionKeys;\n    },\n    continuousPredictionKeys():string[]{\n      if (this.$store.state.datasetType == \"continuous\") {\n        var continuousPredictionKeys = []\n        this.predictionKeys.forEach((c)=>{\n          continuousPredictionKeys.push(c+\"_\"+this.$store.state.classifierThresholdDict[c]/100)\n        })\n        return continuousPredictionKeys\n      } else {\n        return this.predictionKeys;\n      }\n    },\n    continuousClassifierName():{} {\n      var continuousClassifierName = {}\n      this.classifiers.forEach((c)=>{\n        if (this.$store.state.datasetType == \"continuous\") {\n          continuousClassifierName[c] = c + \"_\" + this.$store.state.classifierThresholdDict[c]/100\n        } else {\n          continuousClassifierName[c] = c;\n        }\n      })\n      return continuousClassifierName;\n    },\n    thresholdRange():{\n[classifier:string]:{\nname:String,\nthreshold:Number,\nleft_range:Number,\nright_range:Number,\n},\n}{\nconstthresholdRange:{\n[classifier:string]:{\nname:String,\nthreshold:Number,\nleft_range:Number,\nright_range:Number,\n},\n}={};\nthis.classifiers.forEach((c)=>{\nletcur_acc=0\nthresholdRange[this.continuousClassifierName[c]]={\nname:c,\nthreshold:Object.keys(this.classifierThresholds).includes(c)?this.classifierThresholds[c]:0,\nleft_range: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] / 100 - 0.05 : 0,\nright_range: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] / 100 + 0.05: 0,\n};\n});\nreturnthresholdRange\n},\n    predictions(): {} {\n      let interval = 0.02\n      let diff_interval  = 0.02\n\n      let classifierBuckets = {}\n      let predictions = {}\n      \n\n      this.classifiers.forEach((c)=>{\n        let buckets = {}\n        let begin = 0.00\n        while (begin < 1) {\n          let tmp_key = begin.toFixed(2) + '-' + (begin+interval).toFixed(2)\n          buckets[tmp_key] = []\n          begin += interval\n        }\n        this.instances.forEach((id)=>{\n          let continuous_value = (instanceById(id).continuous_predictions[c])\n          let bucket_idx = Math.floor(continuous_value * 100 / 2)\n          let tmp_key = ((bucket_idx) * interval).toFixed(2) + '-' + ((bucket_idx+1) * interval).toFixed(2)\n          if (bucket_idx == 50) {\n            tmp_key = '0.98-1.00'\n          }\n          if (!((parseFloat(continuous_value) - (bucket_idx * interval)) > 0) && bucket_idx != 0) {\n            tmp_key = ((bucket_idx-1) * interval).toFixed(2) + '-' + ((bucket_idx ) * interval).toFixed(2)\n          }\n          buckets[tmp_key].push({'id':id, 'value':parseFloat(continuous_value).toFixed(3)})\n        })\n        classifierBuckets[c] = buckets\n      })\n\n      this.classifierBuckets = classifierBuckets;\n\n\n      const calcuate_res = (c, cur_threshold, left_edge, right_edge) =>{\n        let res = {\n          'left_edge': left_edge.toFixed(2),\n          'right_edge': right_edge.toFixed(2),\n          'rejec_rate':0,\n          'c_acc':0,\n          'acc':0,\n          'recall':0,\n          'precision':0,\n          'mcc':0,\n          'f1':0,\n          'm_tp':0,\n          'm_tn':0,\n          'm_fn':0,\n          'm_fp':0,\n          'm':0,\n          'tp':0,\n          'tn':0,\n          'fp':0,\n          'fn':0,\n          'tp_instances':[],\n          'm_tp_instances':[],\n          'totoal':0\n        }\n        this.instances.forEach((id)=>{\n          let continuous_value = (instanceById(id).continuous_predictions[c])\n          res['totoal'] += 1\n          if (continuous_value > left_edge && continuous_value < right_edge) {\n              res['m'] += 1\n              if (instanceById(id).actual == this.classes[1]) {\n                if (continuous_value >= cur_threshold) {\n                  res['m_tp'] += 1\n                  res['m_tp_instances'].push({'id':id, 'value':continuous_value})\n                } else {\n                  res['m_fn'] += 1\n                }\n              } else {\n                if (continuous_value < cur_threshold) {\n                  res['m_tn'] += 1\n                } else {\n                  res['m_fp'] += 1\n                }\n              }\n          } else if (continuous_value >= right_edge){\n            if (instanceById(id).actual == this.classes[1]){\n              res[\"tp\"] += 1\n              res['tp_instances'].push({'id':id, 'value':continuous_value})\n            } else {\n              res[\"fp\"] += 1\n            }\n          } else{\n            if (instanceById(id).actual == this.classes[0]) {\n              res[\"tn\"] += 1\n            } else {\n              res[\"fn\"] += 1\n            }\n          }\n        })\n        res['rejec_rate'] = res['m'] / res['totoal']\n        res['c_acc'] =(res['totoal'] - res['m']) == 0? 1 : (res['tp'] + res['tn']) / (res['totoal'] - res['m'])\n        res['acc'] = (res['tp'] + res['tn']) / res['totoal']\n        res['precision'] =  (( res['tp']  +  res['fp']) == 0? 0:(res['tp']) / ( res['tp']  +  res['fp']))\n        res['recall'] = (( res['tp']  +  res['fn']) == 0 ? 0:(res['tp']) / ( res['tp']  +  res['fn']))\n        res['f1']  = (res['recall'] + res['precision']) ==0 ? 0: (2*res['recall']*res['precision']) / (res['recall'] + res['precision'])\n        if (res['rejec_rate'] == 1) {\n          res['mcc'] = 1\n        } else {\n          if ((Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn))) == 0) {\n            res['mcc'] = 0;\n          } else {\n            res['mcc'] = res['rejec_rate'] == 1? 1:((res.tp*res.tn-res.fp*res.fn) / Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn)))\n          }\n        }\n        \n        return res\n      }\n\n      const get_res = (c, threshold, left_edge, right_edge, last_res) =>{\n        if (parseFloat(left_edge.toFixed(2)) == parseFloat(right_edge.toFixed(2))) {\n          let res = calcuate_res(c, threshold, left_edge, right_edge)\n          return res\n        }\n        let res = {\n          'left_edge': parseFloat(left_edge.toFixed(2)),\n          'right_edge': parseFloat(right_edge.toFixed(2)),\n          'rejec_rate':0,\n          'c_acc':0,\n          'acc':0,\n          'recall':0,\n          'precision':0,\n          'mcc':0,\n          'f1':0,\n          'm_tp':last_res.m_tp,\n          'm_tn':last_res.m_tn,\n          'm_fn':last_res.m_fn,\n          'm_fp':last_res.m_fp,\n          'm':last_res.m,\n          'tp':last_res.tp,\n          'tn':last_res.tn,\n          'fp':last_res.fp,\n          'fn':last_res.fn,\n          'totoal':last_res.totoal\n        }\n        // left side\n        let tmp_left_key = (Math.abs(left_edge).toFixed(2)) + '-' + (parseFloat(last_res['left_edge'].toString()).toFixed(2))\n        let tmp_left_next_key = tmp_left_key\n        if (parseFloat(Math.abs(left_edge).toFixed(2)) > 0) {\n          tmp_left_next_key = (Math.abs(left_edge-0.02).toFixed(2)) + '-'+ (Math.abs(left_edge).toFixed(2))\n        }\n        let left_instances = [...classifierBuckets[c][tmp_left_key],classifierBuckets[c][tmp_left_next_key]]\n        let tmp_right_key = (parseFloat(last_res['right_edge'].toString()).toFixed(2)) + '-' + right_edge.toFixed(2)\n        let tmp_right_before_key = tmp_right_key\n        if (parseFloat(Math.abs(last_res['right_edge']).toFixed(2)) > 0) {\n          tmp_right_before_key =(parseFloat((last_res['right_edge']-0.02).toString()).toFixed(2)) + '-' + (parseFloat(last_res['right_edge'].toString()).toFixed(2)) \n        }\n        \n        let right_instances = [...classifierBuckets[c][tmp_right_key],...classifierBuckets[c][tmp_right_before_key]]\n\n        left_instances.forEach((id)=>{\n          if (res.left_edge > 0) {\n            if (parseFloat(id.value) > res.left_edge && parseFloat(id.value) <= last_res.left_edge) {\n              \n              if(instanceById(id.id).actual == this.classes[1]) {\n                if (res['fn'] > 0) {\n                  res['fn'] -= 1\n                  res['m_fn'] += 1\n                  res['m'] += 1\n                }\n              } else {\n                if (res['tn'] > 0) {\n                  res['tn'] -=1\n                  res['m_tn'] += 1\n                  res['m'] += 1\n                }\n              }\n            }\n          } else {\n            if (parseFloat(id.value) >= res.left_edge && parseFloat(id.value) <= last_res.left_edge) {\n              if(instanceById(id.id).actual == this.classes[1]) {\n                if (res['fn'] > 0) {\n                  res['fn'] -= 1\n                  res['m_fn'] += 1\n                  res['m'] += 1\n                }\n              } else {\n                if (res['tn'] > 0) {\n                  res['tn'] -=1\n                  res['m_tn'] += 1\n                  res['m'] += 1\n                }\n              }\n            }\n          }\n          \n          \n        })\n        right_instances.forEach((id)=>{\n          if(res.right_edge < 1) {\n            if (parseFloat(id.value) > last_res.right_edge && parseFloat(id.value) <= res.right_edge){   \n              if(instanceById(id.id).actual == this.classes[1]) {\n                if (res['tp'] > 0) {\n                  res['tp'] -= 1\n                  res['m_tp'] += 1\n                  res['m'] += 1       \n                } \n              } else {\n                if (res['fp']>0) {\n                  res['fp'] -=1\n                  res['m_fp'] += 1\n                  res['m'] += 1         \n                }\n              }\n            }\n          } else {\n            if (parseFloat(id.value) >= last_res.right_edge && parseFloat(id.value) <= res.right_edge){\n                \n              if(instanceById(id.id).actual == this.classes[1]) {\n                if (res['tp']>0) {\n                  res['tp'] -= 1\n                  res['m_tp'] += 1\n                  res['m'] += 1         \n                }\n                  \n              } else {\n                if (res['fp']>0) {\n                  res['fp'] -=1\n                  res['m_fp'] += 1\n                  res['m'] += 1         \n                }\n              }\n            }\n          }\n          \n        }) \n\n        res['rejec_rate'] = res['m'] / res['totoal']\n        res['c_acc'] =(res['totoal'] - res['m']) == 0? 1 : (res['tp'] + res['tn']) / (res['totoal'] - res['m'])\n        res['acc'] = (res['tp'] + res['tn']) / res['totoal']\n        res['precision'] =  res['rejec_rate'] == 1?1:(( res['tp']  +  res['fp']) != 0? (res['tp']) / ( res['tp']  +  res['fp']) : res['tp'] > 0? 1:0)\n        res['recall'] = res['rejec_rate'] == 1? 1:(( res['tp']  +  res['fn']) != 0 ? (res['tp']) / ( res['tp']  +  res['fn']) : res['tp'] > 0? 1 :0)\n        res['f1']  = (res['recall'] + res['precision']) ==0 ? 0: (2*res['recall']*res['precision']) / (res['recall'] + res['precision'])\n        if (res['rejec_rate'] == 1) {\n          res['mcc']  = 1\n        } else {\n          if ((Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn))) == 0 ) {\n            res['mcc'] = 0;\n          } else {\n            res['mcc'] =  ((res.tp*res.tn-res.fp*res.fn) / Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn)))\n          }\n        }\n        \n        return res\n      }\n\n      let new_predictions = {}\n      this.classifiers.forEach((c)=>{\n        new_predictions[c] = {}\n        let threshold = 0.00\n        while (threshold <= 1) {\n          new_predictions[c][threshold.toFixed(2)] = []\n          let left_diff = threshold\n          let right_diff = threshold\n          let last_res = {}\n          while (parseFloat(left_diff.toFixed(2)) >=0 && parseFloat(right_diff.toFixed(2)) <= 1) {\n            let tmp_res = get_res(c, threshold, left_diff, right_diff, last_res)\n            new_predictions[c][threshold.toFixed(2)].push(tmp_res)\n            right_diff += diff_interval\n            left_diff -= diff_interval\n            last_res = tmp_res\n          }\n          threshold += interval\n        }\n      })\n\n   \n      return new_predictions\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.continuousPredictionKeys)\n        .range([0, this.width*0.8])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 200])\n          .range([0, 200])\n          .clamp(true);\n      return xScale;      \n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Rejected_Curve') {\n          if (view.config) {\n            let value  = view.config;\n            this.value = []\n            value.classifiers.forEach((c)=>{\n              if (this.classifiers.includes(c)) {\n                this.value.push({'name':c})\n              }\n            })\n            this.selection_mode = value.selection\n            this.evaluationKeys = value.evaluation\n          }\n        }\n      })\n      this.drawWithinInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Rejected_Curve\", \n                    \"config\": {\n                      \"classifiers\":this.value.map((c)=>c.name),\n                      \"selection\":this.selection_mode,\n                      \"evaluation\":this.evaluationKeys}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    click() {\n      this.$store.dispatch(\"changedOuterBandWidth\", this.click)\n    },\n    selection_mode( ) {\n      if (this.selection_mode == 'selected') {\n        this.updateSelectedPred();\n        this.drawSelectionChart();  \n      } else {\n        this.drawStreamChart();\n      }\n    },\n    leftRate() {\n      if (this.selection_mode == 'selected') {\n        this.updateSelectedPred();\n        this.drawSelectionChart();  \n      } else {\n        this.drawStreamChart();\n      }\n    },\n    rightRate() {\n      if (this.selection_mode == 'selected') {\n        this.updateSelectedPred();\n        this.drawSelectionChart();  \n      } else {\n        this.drawStreamChart();\n      }\n    },\n    classifierThresholds() {\n      if (this.multilClassifier == 'yes') {\n        this.drawStreamChart();\n      }\n    },\n    currentThresholds() {\n      this.thresholdList.push(this.currentThresholds.threshold)\n    },\n    thresholdList() {\n      this.drawStreamChart()\n    },\n    evaluationKeys() { \n      if (this.selection_mode == 'selected') {\n        this.updateSelectedPred();\n        this.drawSelectionChart();  \n      } else {\n        this.drawStreamChart();\n      }\n    },\n    value() {\n      if (this.value.length > 1) {\n        this.multilClassifier = 'yes'\n      } else {\n        this.multilClassifier = 'no'\n      }\n      this.selection_mode = 'overall'\n      this.drawWithinInitial();\n      this.drawStreamChart();\n    },\n    hover() { \n      this.drawHover();\n    },\n    lineHover() {\n      this.drawLineHover();\n    },\n    numberOfBins() {\n      this.selection_mode = 'overall'\n      this.updatenumberOfBins();\n    },\n    tmp_threshold() {\n      this.drawStreamChart();\n    },\n    instances() {\n      this.drawWithinInitial();\n      if (this.selection_mode == 'selected') {\n        this.updateSelectedPred();\n        this.drawSelectionChart();  \n      } else {\n        this.drawStreamChart();\n      }\n    },\n\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Rejected_Curve') {\n        if (view.config) {\n          let value  = view.config;\n          this.value = []\n          value.classifiers.forEach((c)=>{\n            if (this.classifiers.includes(c)) {\n              this.value.push({'name':c})\n            }\n          })\n          this.selection_mode = value.selection\n          this.evaluationKeys = value.evaluation\n        }\n      }\n    })\n    this.drawWithinInitial();\n  },\n  methods: {\n    clearHover() { \n      this.hover = ({'info':'', 'idx':'', 'line_idx': ''});\n    },\n    updateSelectedPred() {\n      let interval = 0.02\n      let diff_interval  = 0.02\n\n      let classifierBuckets = this.classifierBuckets\n      let predictions = {}\n      let selectedClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n\n\n      const calcuate_res = (c, cur_threshold, left_edge, right_edge, instances) =>{\n        let res = {\n          'left_edge': left_edge.toFixed(2),\n          'right_edge': right_edge.toFixed(2),\n          'rejec_rate':0,\n          'c_acc':0,\n          'acc':0,\n          'recall':0,\n          'precision':0,\n          'mcc':0,\n          'f1':0,\n          'm_tp':0,\n          'm_tn':0,\n          'm_fn':0,\n          'm_fp':0,\n          'm':0,\n          'tp':0,\n          'tn':0,\n          'fp':0,\n          'fn':0,\n          'tp_instances':[],\n          'm_tp_instances':[],\n          'totoal':0\n        }\n        instances.forEach((id)=>{\n          let continuous_value = (instanceById(id).continuous_predictions[c])\n          res['totoal'] += 1\n          if (continuous_value > left_edge && continuous_value < right_edge) {\n              res['m'] += 1\n              if (instanceById(id).actual == this.classes[1]) {\n                if (continuous_value >= cur_threshold) {\n                  res['m_tp'] += 1\n                  res['m_tp_instances'].push({'id':id, 'value':continuous_value})\n                } else {\n                  res['m_fn'] += 1\n                }\n              } else {\n                if (continuous_value < cur_threshold) {\n                  res['m_tn'] += 1\n                } else {\n                  res['m_fp'] += 1\n                }\n              }\n          } else if (continuous_value >= right_edge){\n            if (instanceById(id).actual == this.classes[1]){\n              res[\"tp\"] += 1\n              res['tp_instances'].push({'id':id, 'value':continuous_value})\n            } else {\n              res[\"fp\"] += 1\n            }\n          } else{\n            if (instanceById(id).actual == this.classes[0]) {\n              res[\"tn\"] += 1\n            } else {\n              res[\"fn\"] += 1\n            }\n          }\n        })\n        res['rejec_rate'] = res['m'] / res['totoal']\n        res['c_acc'] =(res['totoal'] - res['m']) == 0? 1 : (res['tp'] + res['tn']) / (res['totoal'] - res['m'])\n        res['acc'] = (res['tp'] + res['tn']) / res['totoal']\n        res['precision'] =  (( res['tp']  +  res['fp']) == 0? 0:(res['tp']) / ( res['tp']  +  res['fp']))\n        res['recall'] = (( res['tp']  +  res['fn']) == 0 ? 0:(res['tp']) / ( res['tp']  +  res['fn']))\n        res['f1']  = (res['recall'] + res['precision']) ==0 ? 0: (2*res['recall']*res['precision']) / (res['recall'] + res['precision'])\n        if (res['rejec_rate'] == 1) {\n          res['mcc'] = 1\n        } else {\n          if ((Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn))) == 0) {\n            res['mcc'] = 0;\n          } else {\n            res['mcc'] = res['rejec_rate'] == 1? 1:((res.tp*res.tn-res.fp*res.fn) / Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn)))\n          }\n        }\n        return res\n      }\n\n      let c = selectedClassifier\n      const {first, second} = this.selections;\n      let selectionList = [[...first.instances], [...second.instances]]\n      \n      let threshold = 0.00\n      selectionList.forEach((tmp_selection, idx)=>{\n        predictions[idx] = {}\n        threshold = 0.00\n        while (threshold <= 1) {\n          predictions[idx][threshold.toFixed(2)] = []\n          let left_diff = threshold\n          let right_diff = threshold\n          while (parseFloat(left_diff.toFixed(2)) >=0 && parseFloat(right_diff.toFixed(2)) <= 1) {\n            let tmp_res = calcuate_res(c, threshold, left_diff, right_diff, tmp_selection)\n            predictions[idx][threshold.toFixed(2)].push(tmp_res)\n            right_diff += diff_interval\n            left_diff -= diff_interval\n          }\n          threshold += interval\n        }\n      })\n\n      this.selectedPred = predictions\n      \n      \n    },\n    updatenumberOfBins() {\n      const chart = d3.select(this.$refs.svg);\n      const svg_curve = chart.select(\".svg-curve\")\n      const thresholdBin = chart.select('.slider-threshold-bin').attr('transform', 'translate(' + this.xScale((this.numberOfBins * 20)*(200/20)) + ', -7.5)') \n\n      if (this.thresholds.includes((parseFloat(this.numberOfBins)).toFixed(2))) {\n        const thresholdBinText = chart.select('.bin-text').text(\"Threshold: \" + this.numberOfBins)\n        this.tmp_threshold = (parseFloat(this.numberOfBins)).toFixed(2)\n      }\n    },\n\n    drawLineHover() {\n      const chart = d3.select(this.$refs.svg);\n      const classifier = this.value[0].name\n\n      let tmp_thresholdList = []\n      this.thresholdList.forEach((t)=>{\n        tmp_thresholdList.push(t)\n      })\n      tmp_thresholdList.push(this.tmp_threshold)\n\n\n      if (this.lineHover.line_idx) {\n        tmp_thresholdList.forEach((t,idx)=>{\n          if (idx!=this.lineHover.line_idx) {\n            let predictions = this.predictions[classifier][parseFloat(t).toFixed(2)]\n            chart.select('.line-threshold-'+idx).attr('opacity',0.2)\n            chart.select('.text-threshold-'+idx).attr('opacity',0.2)\n            predictions.forEach((c,i)=>{\n              chart.select(\".dot-\"+idx+'-'+i).attr('opacity',0.2)\n            })\n\n          }\n        })        \n      } else {\n        tmp_thresholdList.forEach((t,idx)=>{\n          let predictions = this.predictions[classifier][parseFloat(t).toFixed(2)]\n          chart.select('.line-threshold-'+idx).attr('opacity',1)\n          chart.select('.text-threshold-'+idx).attr('opacity',1)\n          predictions.forEach((c,i)=>{\n              chart.select(\".dot-\"+idx+'-'+i).attr('opacity',1)\n          })\n        })     \n      }\n\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      if (this.hover.info) {\n        chart.select('.hover-box').attr('visibility','visible')\n        chart.select('.hover-left').attr('visibility','visible').text('Left bound: '+ this.hover.info.left_edge)\n        chart.select('.hover-right').attr('visibility','visible').text('Right bound: '+ this.hover.info.right_edge)\n        chart.select('.hover-rej').attr('visibility','visible').text('Rej rate: '+ this.hover.info.rejec_rate.toFixed(3))\n        chart.select('.hover-acc').attr('visibility','visible')\n            .text(this.evaluationKeys == 'c_accuracy'?'Acc(Conditional): '+ this.hover.info.c_acc.toFixed(3)\n                 : this.evaluationKeys == 'acc'?'Acc: '+ this.hover.info.acc.toFixed(3)\n                 : this.evaluationKeys == 'precision'?'Precision: '+ this.hover.info.precision.toFixed(3) \n                 : this.evaluationKeys == 'recall'?'Recall: '+ this.hover.info.recall.toFixed(3)\n                 : this.evaluationKeys == 'mcc'?'MCC: '+ this.hover.info.mcc.toFixed(3)\n                 :'F1: '+ this.hover.info.f1.toFixed(3))\n      } else {\n        chart.select('.hover-box').attr('visibility','hidden')\n        chart.select('.hover-left').attr('visibility','hidden')\n        chart.select('.hover-right').attr('visibility','hidden')\n        chart.select('.hover-acc').attr('visibility','hidden')\n        chart.select('.hover-rej').attr('visibility','hidden')\n      }\n    },\n\n    \n    drawWithinInitial() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr(\"class\",\"initail_svg\")\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom)*1.2}`)\n      const svg = svgAll.append('g')\n          .attr('transform', `translate(${0}, ${this.margin.top*1.2})`); \n      const svg_curves = svgAll.append('g')\n          .attr(\"class\",\"svg-curve\")\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top*1.2})`);  \n\n\n      const legend2 = svg  \n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${(this.width - this.margin.left)},\n              ${-this.margin.top})`);\n\n      const thresholdBins =  legend2.append(\"g\")\n              .attr(\"transform\",  \"translate(\"+(this.width / 3-200-80)+\",\" + 0 +\")\")\n\n\n      const drawLegend = () => {\n        thresholdBins.append('line')\n            .attr('class', 'track')\n            .style(\"stroke\", \"lightgrey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"6\")\n            .attr('x1', this.xScale.range()[0])\n            .attr('x2', this.xScale.range()[1])\n            .attr('y1', 0)\n            .attr('y2', 0)\n\n        let head1 = thresholdBins.append('rect')\n            .attr('width',20)\n            .attr('height',15)\n            .attr('rx',6)\n            .attr('ry',6) \n            .style('fill', 'steelblue')\n            .style('stroke', 'none')\n            .attr('class','slider-threshold-bin')\n            .attr('transform', 'translate(100,-7.5)')\n            .call(d3.drag()\n              .on('start.interrupt', function () {\n                head1.interrupt();\n              })\n              .on('start drag',  \n              (d:string)=>this.numberOfBins = ((this.xScale.invert(d3.event.x) * (20 / 200) ) / 20).toFixed(2)//\n              ))\n             ;  \n          thresholdBins.append('text')\n            .attr(\"class\",\"bin-text\")\n            .attr(\"transform\",  \"translate(\"+(-100)+\",\" +0 +\")\")\n            .attr('font-size', '24px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text(\"Threshold: \"+this.numberOfBins)   \n\n\n          // add button\n          thresholdBins.append('rect')\n            .attr('width',40)\n            .attr('height',20)\n            .attr('rx',6)\n            .attr('ry',6) \n            .attr(\"fill\",\"#f2f2f2\")\n            .attr(\"stroke\",\"lightgrey\")\n            .attr('class','add-button')\n            .attr('transform', 'translate(210,-7.5)')\n            .on('click', (d,i) => this.currentThresholds =  ({threshold: this.tmp_threshold}));\n          thresholdBins.append('text')\n          .attr(\"class\",\"add-text\")\n          .attr(\"transform\",  \"translate(\"+(230)+\",\" +2 +\")\")\n          .attr('font-size', '18px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(\"add\")   \n          .attr(\"fill\",\"grey\")\n            .on('click', (d,i) => this.currentThresholds = ({threshold: this.tmp_threshold}));\n            \n        \n      };\n\n      const drawHover = () =>{\n        thresholdBins.append(\"rect\")\n          .attr(\"class\",\"hover-box\")\n          .attr(\"width\",240)\n          .attr(\"height\",100)\n          .attr(\"x\", -this.width + 200)\n          .attr(\"y\", -20)\n          .attr(\"fill\",\"white\")\n          .attr(\"stroke\",\"black\")\n          .attr('visibility', 'hidden')\n        thresholdBins.append(\"text\")\n          .attr(\"class\",\"hover-left\")\n          .attr(\"x\", -this.width + 202)\n          .attr(\"y\", 0)\n          .attr('font-size',20)\n          .text('Left bound')\n          .attr('visibility', 'hidden')\n          \n        thresholdBins.append(\"text\")\n          .attr(\"class\",\"hover-right\")\n          .attr(\"x\", -this.width + 202)\n          .attr(\"y\", 20)\n          .text('Right bound')\n          .attr('font-size',20)\n          .attr('visibility', 'hidden')\n\n\n        thresholdBins.append(\"text\")\n          .attr(\"class\",\"hover-rej\")\n          .attr(\"x\", -this.width + 202)\n          .attr(\"y\", 40)\n          .text('Rej Rate')\n          .attr('font-size',20)\n          .attr('visibility', 'hidden')\n\n\n        thresholdBins.append(\"text\")\n          .attr(\"class\",\"hover-acc\")\n          .attr(\"x\", -this.width + 202)\n          .attr(\"y\", 60)\n          .text('Acc(conditional)')\n          .attr('font-size',20)\n          .attr('visibility', 'hidden')\n\n          \n      }\n\n      drawHover();\n\n     if (this.multilClassifier != 'yes') {\n       drawLegend();\n     } \n      \n    },\n\n    drawStreamChart() {     \n\n      const chart = d3.select(this.$refs.svg);\n      const selectedClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n      \n      const svg_curves = chart.select(\".svg-curve\")\n\n      svg_curves.selectAll('*').remove();\n\n      const instances = this.instances;\n      const thresholds = this.thresholds;\n      const evaluationSelection = this.evaluationKeys;\n\n\n      \n      const evaluationKeys = this.evaluationKeys\n\n      const x = d3.scaleLinear()\n          .domain([this.leftRate, this.rightRate])\n          .range([0, this.width * 0.9]);\n\n      const y = d3.scaleLinear()\n        .domain([evaluationKeys == 'mcc'? -1:0, 1])\n        .range([this.height, 0]);\n\n      const classifier = this.value[0].name\n\n      const sequentialScale = d3.scaleSequential<string>( d3.interpolateCool)\n            .domain([0, (this.thresholdList.length + 1)*2])\n            .interpolator(function (x) { \n              return d3.interpolateCool(0.8*x);} );\n      \n      let tmp_thresholdList = []\n      this.thresholdList.forEach((t)=>{\n        tmp_thresholdList.push(t)\n      })\n      tmp_thresholdList.push(this.tmp_threshold)\n\n\n      const drawCurves = () =>{\n        tmp_thresholdList.forEach((t, idx)=>{\n          let predictions = this.predictions[classifier][parseFloat(t).toFixed(2)]\n          let mappedPredictions = predictions.filter((n)=>n.rejec_rate >= this.leftRate && n.rejec_rate <= this.rightRate)\n          let sortedPredictions = mappedPredictions.sort((n1,n2) => {\n              if ( (n1.rejec_rate ) < (n2.rejec_rate)) {\n                  return 1;\n              }\n\n              if ( (n1.rejec_rate ) > (n2.rejec_rate)) {\n                  return -1;\n              }\n\n              return 0;\n          });    \n          if (evaluationKeys == 'mcc') {\n            sortedPredictions = sortedPredictions.filter((i)=>i.rejec_rate <= 0.8)\n          }\n          function line() {\n                return d3.line()(sortedPredictions.map(function(p,j) { \n                  let y_value = evaluationKeys == 'c_accuracy'? y(p.c_acc) \n                    : evaluationKeys == 'f1'? y(p.f1)\n                    : evaluationKeys == 'precision'? y(p.precision)\n                    : evaluationKeys == 'recall'? y(p.recall)\n                    : evaluationKeys == 'mcc'? y(p.mcc)\n                    : y(p.acc)\n                  return [x(p.rejec_rate), y_value]; \n                }));\n          }\n        \n          svg_curves.append(\"path\")\n                .attr('class', '')\n                .attr(\"class\", \"line-threshold-\"+idx)\n                .attr(\"d\",  line())\n                .style(\"fill\", \"none\")\n                .attr(\"stroke\", sequentialScale(idx+1))\n                .style(\"stroke-width\", 3)\n\n          svg_curves.selectAll(\".dot\")\n              .data(sortedPredictions)\n            .enter().append(\"circle\") // Uses the enter().append() method\n              .attr(\"class\",(d,i)=> \"dot-\"+idx+'-'+i) // Assign a class for styling\n              .attr(\"cx\", d=> { return x(d['rejec_rate']) })\n              .attr(\"cy\", (d)=> { \n                let y_value = evaluationKeys == 'c_accuracy'? y(d['c_acc']) \n                    : evaluationKeys == 'f1'? y(d['f1'])\n                    : evaluationKeys == 'precision'? y(d['precision'])\n                    : evaluationKeys == 'recall'? y(d['recall'])\n                    : evaluationKeys == 'mcc'? y(d['mcc'])\n                    : y(d['acc'])\n                return y_value })\n              .attr(\"r\", 5)\n              .attr('fill', sequentialScale(idx+1))\n              .attr('stroke','steelblue')\n              .on('mouseenter', (d,i)=>this.hover = ({info: d, idx: i, line_idx: idx}))\n              .on('mouseleave', (d,i)=>this.hover = ({info: '', idx: '', line_idx: ''})) \n              .on('click',(d,i)=>this.click = ({'classifier':classifier, 'left_range':d['left_edge'], 'right_range':d['right_edge'] })) \n              .attr(\"opacity\",1);\n\n          // add legend\n          svg_curves.append('text')\n            .attr('transform', () => {\n              const xOffset = this.width - 100;\n              const yOffset = this.height + 20 * (idx ) + this.margin.bottom;\n              return `translate(${xOffset}, ${yOffset})`;\n            })\n            .attr(\"class\", \"text-threshold-\"+idx)\n            .style('text-anchor', 'middle')\n            .style('font-size', '24px')\n            .attr('fill', sequentialScale(idx+1))\n            .text('Threshold ' + t)\n            .on('mouseenter', ()=>this.lineHover = ({info: '', line_idx: idx}))\n            .on('mouseleave', ()=>this.lineHover = ({info: '',  line_idx: ''})) \n            ;\n        })\n      };\n\n\n      const drawMultiClassifeirCurves = () =>{\n        const sequentialScale = d3.scaleSequential<string>( d3.interpolatePlasma)\n            .domain([0, this.classifiers.length])\n            .interpolator(function (x) { return d3.interpolatePlasma(.8*x);} );\n        this.value.forEach((c, idx)=>{\n          let classifier = c.name\n          let t =  (Math.floor(this.classifierThresholds[classifier] / 2 ) * 2 / 100).toFixed(2)\n          let predictions = this.predictions[classifier][parseFloat(t).toFixed(2)]\n          let mappedPredictions = predictions.filter((n)=>n.rejec_rate >= this.leftRate && n.rejec_rate <= this.rightRate)\n          let sortedPredictions = mappedPredictions.sort((n1,n2) => {\n              if ( (n1.rejec_rate ) < (n2.rejec_rate)) {\n                  return 1;\n              }\n\n              if ( (n1.rejec_rate ) > (n2.rejec_rate)) {\n                  return -1;\n              }\n\n              return 0;\n          });    \n          if (evaluationKeys == 'mcc') {\n            sortedPredictions = sortedPredictions.filter((i)=>i.rejec_rate <= 0.8)\n          }\n          function line() {\n                return d3.line()(sortedPredictions.map(function(p,j) { \n                  let y_value = evaluationKeys == 'c_accuracy'? y(p.c_acc) \n                    : evaluationKeys == 'f1'? y(p.f1)\n                    : evaluationKeys == 'precision'? y(p.precision)\n                    : evaluationKeys == 'recall'? y(p.recall)\n                    : evaluationKeys == 'mcc'? y(p.mcc)\n                    : y(p.acc)\n                  return [x(p.rejec_rate), y_value]; \n                }));\n          }\n        \n          svg_curves.append(\"path\")\n                .attr('class', '')\n                .attr(\"class\", \"line-threshold-\"+idx)\n                .attr(\"d\",  line())\n                .style(\"fill\", \"none\")\n                .attr(\"stroke\", sequentialScale(idx+1))\n                .style(\"stroke-width\", 3)\n                // .style(\"opacity\", 1)   \n\n\n          svg_curves.selectAll(\".dot\")\n              .data(sortedPredictions)\n            .enter().append(\"circle\") // Uses the enter().append() method\n              .attr(\"class\",(d,i)=> \"dot-\"+idx+'-'+i) // Assign a class for styling\n              .attr(\"cx\", d=> { return x(d['rejec_rate']) })\n              .attr(\"cy\", (d)=> { \n                let y_value = evaluationKeys == 'c_accuracy'? y(d['c_acc']) \n                    : evaluationKeys == 'f1'? y(d['f1'])\n                    : evaluationKeys == 'precision'? y(d['precision'])\n                    : evaluationKeys == 'recall'? y(d['recall'])\n                    : evaluationKeys == 'mcc'? y(d['mcc'])\n                    : y(d['acc'])\n                return y_value })\n              .attr(\"r\", 5)\n              .attr('fill', sequentialScale(idx+1))\n              .attr('stroke', sequentialScale(idx+1))\n              .on('mouseenter', (d,i)=>this.hover = ({info: d, idx: i, line_idx: idx}))\n              .on('mouseleave', (d,i)=>this.hover = ({info: '', idx: '', line_idx: ''}))  \n              .on('click',(d,i)=>this.click = ({'classifier':classifier, 'left_range':d['left_edge'], 'right_range':d['right_edge'] })) \n              .attr(\"opacity\",1);\n\n          // add legend\n          svg_curves.append('text')\n            .attr('transform', () => {\n              const xOffset = this.width - 100;\n              const yOffset = this.height + 20 * (idx ) + this.margin.bottom;\n              return `translate(${xOffset}, ${yOffset})`;\n            })\n            .attr(\"class\", \"text-threshold-\"+idx)\n            .style('text-anchor', 'middle')\n            .style('font-size', '24px')\n            .attr('fill', sequentialScale(idx+1))\n            .text(classifier)\n            .on('mouseenter', ()=>this.lineHover = ({info: '', line_idx: idx}))\n            .on('mouseleave', ()=>this.lineHover = ({info: '',  line_idx: ''})) \n            ;\n        })\n      };\n      \n      const drawTitles = () => {\n         svg_curves.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.4;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Rejection Rate');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 1.5)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text( evaluationKeys == 'c_accuracy'? 'Conditional Accuracy'\n                  : evaluationKeys == 'f1'? 'F1'\n                  : evaluationKeys == 'precision'? 'Precision'\n                  : evaluationKeys == 'recall'?'Recall'\n                  : evaluationKeys == 'mcc'? 'MCC'\n                  : 'Accuracy');\n\n        svg_curves.append('text')\n          .attr(\"class\",\"curve-title\")\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( this.multilClassifier == 'no' ?'Performance (' + selectedClassifier + ')' : 'Performance');  \n      };\n\n      const drawAxes = () => {\n        let rated_domain = [\"0.00\", \"0.10\",\"0.20\",\"0.30\",\"0.40\",\"0.50\",\"0.60\",\"0.70\",\"0.80\",\"0.90\",\"1.00\"]\n        let mapped_rate_domain = rated_domain.filter((i)=>parseFloat(i) >= this.leftRate && parseFloat(i) <= this.rightRate)\n        \n        let xRates = d3.scaleBand<string>()\n          .domain(mapped_rate_domain)\n          .range([0, this.width*0.9])\n\n        const xTAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(xRates)\n              .tickSizeOuter(0),\n          )\n          .attr(\"class\",\"xAxis-curve\");\n\n        svg_curves.append('g')\n          .call(xTAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start')\n          .on('click', (d:string) => {\n            this.leftRate = parseFloat(d).toFixed(2)})\n          .on('contextmenu', (d: string) => this.rightRate = parseFloat(d).toFixed(2));\n\n       \n        const yTAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis)\n          .attr('font-size', 20);\n\n        svg_curves.append('rect')\n          .attr('width',40)\n          .attr('height', 20)\n          .attr('x', -this.margin.left + 30)\n          .attr('y', this.height)\n          .attr('fill','lightgrey')\n          .attr('stroke','grey')\n          .on('click', (d: string) => {\n            this.leftRate = 0\n            this.rightRate = 1\n            })\n        svg_curves.append('text')\n          .attr('x', -this.margin.left + 35)\n          .attr('y', this.height+15)\n          .attr('fill','black')\n          .attr('font-size',20)\n          .text('set')\n          .on('click', (d: string) => {\n            this.leftRate = 0\n            this.rightRate = 1\n            })\n      };\n\n      \n      drawAxes();\n      drawTitles();\n      if (this.multilClassifier == 'yes') {\n        drawMultiClassifeirCurves();\n      } else {\n        drawCurves();\n      }\n            \n    },\n\n    drawSelectionChart() {\n\n      const chart = d3.select(this.$refs.svg);\n      const selectedClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n      \n      const svg_curves = chart.select(\".svg-curve\")\n\n      svg_curves.selectAll('*').remove();\n\n      const instances = this.instances;\n      const thresholds = this.thresholds;\n      const evaluationSelection = this.evaluationKeys;\n      const evaluationKeys = this.evaluationKeys\n\n      const x = d3.scaleLinear()\n          .domain([this.leftRate, this.rightRate])\n          .range([0, this.width * 0.9]);\n\n      const y = d3.scaleLinear()\n        .domain([evaluationKeys == 'mcc'? -1:0, 1])\n        .range([this.height, 0]);\n\n      const {first, second} = this.selections;\n      let selectionList = [[...first.instances], [...second.instances]]\n\n      const drawCurves = () =>{\n        let t =  (Math.floor(this.classifierThresholds[selectedClassifier] / 2 ) * 2 / 100).toFixed(2)\n        let colors = [this.selection1Color, this.selection2Color]\n        selectionList.forEach((tmp_selection, idx)=>{\n          let classifier = selectedClassifier\n          let t =  (Math.floor(this.classifierThresholds[classifier] / 2 ) * 2 / 100).toFixed(2)\n          let predictions = this.selectedPred[idx][parseFloat(t).toFixed(2)]\n          let mappedPredictions = predictions.filter((n)=>n.rejec_rate >= this.leftRate && n.rejec_rate <= this.rightRate)\n          let sortedPredictions = mappedPredictions.sort((n1,n2) => {\n              if ( (n1.rejec_rate ) < (n2.rejec_rate)) {\n                  return 1;\n              }\n\n              if ( (n1.rejec_rate ) > (n2.rejec_rate)) {\n                  return -1;\n              }\n\n              return 0;\n          });    \n          if (evaluationKeys == 'mcc') {\n            sortedPredictions = sortedPredictions.filter((i)=>i.rejec_rate <= 0.8)\n          }\n          function line() {\n                return d3.line()(sortedPredictions.map(function(p,j) { \n                  let y_value = evaluationKeys == 'c_accuracy'? y(p.c_acc) \n                    : evaluationKeys == 'f1'? y(p.f1)\n                    : evaluationKeys == 'precision'? y(p.precision)\n                    : evaluationKeys == 'recall'? y(p.recall)\n                    : evaluationKeys == 'mcc'? y(p.mcc)\n                    : y(p.acc)\n                  return [x(p.rejec_rate), y_value]; \n                }));\n          }\n        \n          svg_curves.append(\"path\")\n                .attr('class', '')\n                .attr(\"class\", \"line-threshold-\"+idx)\n                .attr(\"d\",  line())\n                .style(\"fill\", \"none\")\n                .attr(\"stroke\", colors[idx])\n                .style(\"stroke-width\", 3)\n                // .style(\"opacity\", 1)   \n\n\n          svg_curves.selectAll(\".dot\")\n              .data(sortedPredictions)\n            .enter().append(\"circle\") // Uses the enter().append() method\n              .attr(\"class\",(d,i)=> \"dot-\"+idx+'-'+i) // Assign a class for styling\n              .attr(\"cx\", d=> { return x(d['rejec_rate']) })\n              .attr(\"cy\", (d)=> { \n                let y_value = evaluationKeys == 'c_accuracy'? y(d['c_acc']) \n                    : evaluationKeys == 'f1'? y(d['f1'])\n                    : evaluationKeys == 'precision'? y(d['precision'])\n                    : evaluationKeys == 'recall'? y(d['recall'])\n                    : evaluationKeys == 'mcc'? y(d['mcc'])\n                    : y(d['acc'])\n                return y_value })\n              .attr(\"r\", 5)\n              .attr('fill', colors[idx])\n              .attr('stroke', colors[idx])\n              .on('mouseenter', (d,i)=>this.hover = ({info: d, idx: i, line_idx: idx}))\n              .on('mouseleave', (d,i)=>this.hover = ({info: '', idx: '', line_idx: ''}))  \n              .on('click',(d,i)=>this.click = ({'classifier':classifier, 'left_range':d['left_edge'], 'right_range':d['right_edge'] })) \n              .attr(\"opacity\",1);\n\n          // add legend\n          svg_curves.append('text')\n            .attr('transform', () => {\n              const xOffset = this.width - 100;\n              const yOffset = this.height + 20 * (idx ) + this.margin.bottom;\n              return `translate(${xOffset}, ${yOffset})`;\n            })\n            .attr(\"class\", \"text-threshold-\"+idx)\n            .style('text-anchor', 'middle')\n            .style('font-size', '24px')\n            .attr('fill', colors[idx])\n            .text('Selection'+(idx+1))\n            .on('mouseenter', ()=>this.lineHover = ({info: '', line_idx: idx}))\n            .on('mouseleave', ()=>this.lineHover = ({info: '',  line_idx: ''})) \n            ;\n        })\n\n      };\n\n      const drawTitles = () => {\n         svg_curves.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.4;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Rejection Rate');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 1.5)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text( evaluationKeys == 'c_accuracy'? 'Conditional Accuracy'\n                  : evaluationKeys == 'f1'? 'F1'\n                  : evaluationKeys == 'precision'? 'Precision'\n                  : evaluationKeys == 'recall'?'Recall'\n                  : evaluationKeys == 'mcc'? 'MCC'\n                  : 'Accuracy');\n\n        svg_curves.append('text')\n          .attr(\"class\",\"curve-title\")\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( this.multilClassifier == 'no' ?'Performance (' + selectedClassifier + ')' : this.selection_mode == 'selected'? 'Performance (' + selectedClassifier + ')': 'Performance');  \n      };\n\n      const drawAxes = () => {\n        let rated_domain = [\"0.00\", \"0.10\",\"0.20\",\"0.30\",\"0.40\",\"0.50\",\"0.60\",\"0.70\",\"0.80\",\"0.90\",\"1.00\"]\n        let mapped_rate_domain = rated_domain.filter((i)=>parseFloat(i) >= this.leftRate && parseFloat(i) <= this.rightRate)\n        \n        let xRates = d3.scaleBand<string>()\n          .domain(mapped_rate_domain)\n          .range([0, this.width*0.9])\n\n        const xTAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(xRates)\n              .tickSizeOuter(0),\n          )\n          .attr(\"class\",\"xAxis-curve\");\n\n        svg_curves.append('g')\n          .call(xTAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start')\n          .on('click', (d:string) => {\n            this.leftRate = parseFloat(d).toFixed(2)})\n          .on('contextmenu', (d: string) => this.rightRate = parseFloat(d).toFixed(2));\n        const yTAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis)\n          .attr('font-size', 20);\n\n        svg_curves.append('rect')\n          .attr('width',40)\n          .attr('height', 20)\n          .attr('x', -this.margin.left + 30)\n          .attr('y', this.height)\n          .attr('fill','lightgrey')\n          .attr('stroke','grey')\n          .on('click', (d: string) => {\n            this.leftRate = 0\n            this.rightRate = 1\n            })\n        svg_curves.append('text')\n          .attr('x', -this.margin.left + 35)\n          .attr('y', this.height+15)\n          .attr('fill','black')\n          .attr('font-size',20)\n          .text('set')\n          .on('click', (d: string) => {\n            this.leftRate = 0\n            this.rightRate = 1\n            })\n      };\n\n      \n      drawAxes();\n      drawTitles();\n      drawCurves();\n\n    },\n\n    select(\n      bandwidth: number,\n      threshold:number,\n      whichOverlap: 'first' | 'second',\n      bandwidthRange:string,\n      type:string\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;;\n\n\n      let instances = this.streamData[bandwidth][\"middle_instances\"][this.thresholds[threshold]].instances\n      let leftEdge = (parseFloat(this.thresholds[threshold]) - parseFloat(bandwidthRange['left'])).toFixed(2)\n      let rightEdge = (parseFloat(this.thresholds[threshold]) + parseFloat(bandwidthRange['right'])).toFixed(2)\n\n      let description = `Instances which ${constraint.classifier} got uncertain under${leftEdge} and ${rightEdge}`;\n\n\n      if (type ==  'certainty') {\n        let tmp_instances = [...this.streamData[bandwidth][\"ci_tp_instances\"][this.thresholds[threshold]].instances];\n        [...this.streamData[bandwidth][\"ci_fp_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        [...this.streamData[bandwidth][\"ci_tn_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        [...this.streamData[bandwidth][\"ci_fn_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        instances = new Set(tmp_instances)\n        description = `Instances which ${constraint.classifier} got certain under${leftEdge} and ${rightEdge}`;\n        }\n\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RejectedCurve.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RejectedCurve.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RejectedCurve.vue?vue&type=template&id=f44c4014&scoped=true&\"\nimport script from \"./RejectedCurve.vue?vue&type=script&lang=ts&\"\nexport * from \"./RejectedCurve.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RejectedCurve.vue?vue&type=style&index=0&id=f44c4014&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f44c4014\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Performance_Overall from '@/components/boxes/OverallClassifierPerformance.vue';\nimport Performance_Curves from '@/components/boxes/OverallClassifierPerfCurves.vue';\nimport Trinary_Performance_Confidence from '@/components/boxes/OverallClassifierConfidence.vue';\nimport Reliability_Curve from '@/components/boxes/ReliabilityCurve.vue';\nimport Trinary_Instance_Distribuion from  '@/components/boxes/TrinaryInstanceDistribuion.vue';\nimport Trinary_Bandwidth_Assessment from '@/components/boxes/BandwidthAssessment.vue';\nimport Performance_Selection from '@/components/boxes/SelectionClassifierPerformance.vue';\nimport Performance_Per_Class from '@/components/boxes/DetailedClassifierPerformance.vue';\nimport ConfusionMatrixGrid from '@/components/boxes/ConfusionMatrixGrid.vue';\nimport draggable from 'vuedraggable';\nimport CumulativeAccuracy from '@/components/boxes/OverallClassifierAccuracy.vue';\nimport Sidebar from '@/components/sidebar/Sidebar.vue';\nimport PairwiseClassifierConsensus from '@/components/boxes/PairwiseClassifierConsensus.vue';\nimport MetricsTable from '@/components/boxes/StandardMetrics.vue';\nimport MetricsParallel from '@/components/boxes/ParallelMetrics.vue';\nimport UncertaintyHeatMap from '@/components/boxes/UncertaintyHeatMap.vue';\nimport InstanceList from '@/components/boxes/InstanceList.vue';\nimport Histogram from '@/components/boxes/FeatureHistogram.vue';\nimport ScatterPlot from '@/components/boxes/ScatterPlot.vue';\nimport FocusItem from '@/components/boxes/FocusItem.vue';\nimport Rejected_Curve from '@/components/boxes/RejectedCurve.vue'\nimport {\n  Visualization,\n  VisualizationType,\n} from '../types';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  name: 'RigidTileHome',\n  components: {\n    Histogram,\n    UncertaintyHeatMap,\n    Performance_Overall,\n    Performance_Curves,\n    Trinary_Performance_Confidence,\n    Reliability_Curve,\n    Trinary_Bandwidth_Assessment,\n    Rejected_Curve,\n    Trinary_Instance_Distribuion,\n    Performance_Selection,\n    Performance_Per_Class,\n    ConfusionMatrixGrid,\n    draggable,\n    CumulativeAccuracy,\n    Sidebar,\n    PairwiseClassifierConsensus,\n    MetricsTable,\n    MetricsParallel,\n    InstanceList,\n    ScatterPlot,\n    FocusItem,\n  },\n  data() {\n    const visualizations: Visualization[] = [];\n    const visualizationsWithoutExternalHandle = [\n      VisualizationType.CA,\n      VisualizationType.CC,\n      VisualizationType.CB,\n      VisualizationType.RC,\n      VisualizationType.BA,\n      VisualizationType.REC,\n      VisualizationType.TID,\n      VisualizationType.UM,\n      VisualizationType.SCP,\n      VisualizationType.COV,\n      VisualizationType.CMG,\n      VisualizationType.FH,\n      VisualizationType.OCA,\n      VisualizationType.PCC,\n      VisualizationType.SP,\n      VisualizationType.SM,\n      VisualizationType.SMP,\n      VisualizationType.ITL,\n      VisualizationType.FI\n    ];\n    return {\n      handleIcon: '',\n      visualizations,\n      visualizationsWithoutExternalHandle,\n    };\n  },\n  computed: {\n    viewWidth() {\n      return this.$store.getters.viewWidth;\n    },\n    storeVisualizations(): Visualization[] {\n      return this.$store.getters.visualizations;\n    },\n  },\n  watch: {\n    storeVisualizations() {\n      this.visualizations = this.storeVisualizations;\n      return;\n    },\n  },\n  methods: {\n    viewWidthByName(tileName: string) {\n      if (tileName === 'InstanceList' ){\n        return '100%';\n      }\n      return this.viewWidth;\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RigidTileHome.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RigidTileHome.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RigidTileHome.vue?vue&type=template&id=02fadef4&scoped=true&\"\nimport script from \"./RigidTileHome.vue?vue&type=script&lang=ts&\"\nexport * from \"./RigidTileHome.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RigidTileHome.vue?vue&type=style&index=0&id=02fadef4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02fadef4\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport DatasetSelectorPopup from \"./components/left-drawer/DatasetSelectorPopup.vue\";\nimport Navbar from \"@/components/left-drawer/Navbar.vue\";\nimport RigidTileHome from \"@/views/RigidTileHome.vue\";\nimport Vue from \"vue\";\nimport { mapState } from \"vuex\";\nimport VueSimpleAlert from \"vue-simple-alert\";\nimport { ButtonPlugin } from \"@syncfusion/ej2-vue-buttons\";\nimport { enableRipple } from \"@syncfusion/ej2-base\";\nimport Multiselect from \"vue-multiselect\";\n// import loading from 'vue-full-loading'\n\nVue.use(VueSimpleAlert);\nenableRipple(true);\nVue.use(ButtonPlugin);\n\nimport { EntityType, SelectionAction, VisualizationType } from \"./types\";\nexport default Vue.extend({\n    name: \"App\",\n    components: {\n        DatasetSelectorPopup,\n        Navbar,\n        RigidTileHome,\n        Multiselect\n    },\n    data() {\n        return {\n            load_dialog: false,\n            value_classifier: null\n        };\n    },\n    mounted() {\n        this.$store.dispatch(\"loadFirstDataset\");\n        window.addEventListener(\"keydown\", e =>\n            this.$store.dispatch(\"changedToggleShift\", e)\n        );\n        window.addEventListener(\"keyup\", e =>\n            this.$store.dispatch(\"changedToggleShift\", e)\n        );\n    },\n    computed: {\n        helpButtons(): any[] {\n            return [\n                { name: \"Boxer Overview\" },\n                { name: \"Boxer Views Description\" },\n                { name: \"Boxer Demo Introduction\" }\n            ];\n        },\n        viewsMapping(): any[] {\n            if (this.datasetType == \"continuous\") {\n                return [\n                    {\n                        view: VisualizationType.CA,\n                        view_name: \"Performance (Overall)\"\n                    },\n                    {\n                        view: VisualizationType.SCP,\n                        view_name: \"Performance (Selection)\"\n                    },\n                    {\n                        view: VisualizationType.CC,\n                        view_name: \"Performance (Curves)\"\n                    },\n                    {\n                        view: VisualizationType.RC,\n                        view_name: \"Reliability (Curves)\"\n                    },\n                    {\n                        view: VisualizationType.CB,\n                        view_name: \"(Trinary) Performance Confidence\"\n                    },\n                    {\n                        view: VisualizationType.BA,\n                        view_name: \"(Trinary) Bandwidth Assessment\"\n                    },\n                    {\n                        view: VisualizationType.REC,\n                        view_name: \"(Trinary) Rejected Curve\"\n                    },\n                    {\n                        view: VisualizationType.TID,\n                        view_name: \"(Trinary) Instance Distribuion\"\n                    },\n                    {\n                        view: VisualizationType.UM,\n                        view_name: \"Uncertainty HeatMap\"\n                    },\n                    { view: VisualizationType.SP, view_name: \"Scatter Plot\" },\n                    {\n                        view: VisualizationType.FH,\n                        view_name: \"Feature Histogram\"\n                    },\n                    {\n                        view: VisualizationType.CMG,\n                        view_name: \"Confusion Matrix Grid\"\n                    },\n                    {\n                        view: VisualizationType.PCC,\n                        view_name: \"Pairwise Classifier Consensus\"\n                    },\n                    {\n                        view: VisualizationType.OCA,\n                        view_name: \"Cumulative Accuracy\"\n                    },\n                    { view: VisualizationType.SM, view_name: \"Metrics Table\" },\n                    {\n                        view: VisualizationType.SMP,\n                        view_name: \"Metrics Parallel\"\n                    },\n                    { view: VisualizationType.ITL, view_name: \"Instance List\" },\n                    { view: VisualizationType.FI, view_name: \"Focus Item\" }\n                ];\n            }\n            return [\n                {\n                    view: VisualizationType.CA,\n                    view_name: \"Performance (Overall)\"\n                },\n                {\n                    view: VisualizationType.SCP,\n                    view_name: \"Performance (Selection)\"\n                },\n                {\n                    view: VisualizationType.COV,\n                    view_name: \"Performance (Per Class)\"\n                },\n                { view: VisualizationType.FH, view_name: \"Feature Histogram\" },\n                {\n                    view: VisualizationType.CMG,\n                    view_name: \"Confusion Matrix Grid\"\n                },\n                {\n                    view: VisualizationType.PCC,\n                    view_name: \"Pairwise Classifier Consensus\"\n                },\n                {\n                    view: VisualizationType.OCA,\n                    view_name: \"Cumulative Accuracy\"\n                },\n                { view: VisualizationType.SM, view_name: \"Metrics Table\" },\n                { view: VisualizationType.SMP, view_name: \"Metrics Parallel\" },\n                { view: VisualizationType.ITL, view_name: \"Instance List\" },\n                { view: VisualizationType.FI, view_name: \"Focus Item\" }\n            ];\n        },\n        classifiers(): string[] {\n            return [...this.$store.getters.classifiers];\n        },\n        classes(): string[] {\n            return [...this.$store.getters.classes];\n        },\n        views(): string[] {\n            return this.$store.state.views.all;\n        },\n        corsError() {\n            return !this.$store.state.corsError;\n        },\n        ...mapState([\"chosenDataset\"]),\n        snackbar() {\n            return !this.$store.getters.intersectionMode;\n        },\n        datasetType(): string {\n            return this.$store.state.datasetType;\n        }\n    },\n    watch: {\n        value_classifier() {\n            const payload: {\n                entityType: EntityType;\n                newFilter: {\n                    type: SelectionAction;\n                    set: Set<string>;\n                };\n            } = {\n                entityType: EntityType.Classifier,\n                newFilter: {\n                    type: SelectionAction.Exclude,\n                    set: new Set(this.value_classifier)\n                }\n            };\n            this.$store.dispatch(\"changedFilter\", payload);\n            if (this.datasetType == \"continuous\") {\n                this.$store.dispatch(\"changedContinuousMetrics\");\n            }\n        },\n        chosenDataset() {\n            this.load_dialog = false;\n        },\n        corsError() {\n            this.$alert(\n                \"Dataset load failed. Please make sure turn on the CORS extension\"\n            );\n        }\n    },\n    methods: {\n        btnClick(name) {\n            if (name == \"Git Repo\") {\n                window.open(\"https://github.com/uwgraphics/Boxer/\");\n            } else if (name == \"Related Use case\") {\n                let url = this.$store.state.chosenFixedDataset.related_use_case;\n                window.open(url);\n            } else if (name == \"Boxer Views Description\") {\n                window.open(\n                    \"https://pages.graphics.cs.wisc.edu/BoxerDocs/docs/user_guide/view_description/\"\n                );\n            } else if (name == \"Boxer Demo Introduction\") {\n                window.open(\n                    \"https://pages.graphics.cs.wisc.edu/BoxerDocs/docs/publication/demo/\"\n                );\n            } else {\n                window.open(\"https://pages.graphics.cs.wisc.edu/BoxerDocs/\");\n            }\n        },\n        change_grid_size() {\n            this.$store.dispatch(\"changedGridSize\");\n        },\n        save_views() {\n            this.$store.dispatch(\"saveViews\");\n            this.$store.dispatch(\"wrtieConfig\");\n        },\n        reload_views() {\n            this.$store.dispatch(\"reloadViews\");\n        },\n        open_repo() {\n            this.$store.dispatch(\"openRepo\");\n        },\n        resume_views() {\n            this.$store.dispatch(\"resumeViews\");\n        },\n        buttonPush(b) {\n            console.log(\"DOWN\", b);\n        },\n        buttonUp(b) {\n            console.log(\"UP\", b);\n        },\n        toggleIsClosed() {\n            const nav = document.getElementById(\"nav-1\");\n            if (nav === null) {\n                return;\n            }\n            nav.classList.toggle(\"is-closed\");\n        }\n    }\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=ff96ecdc&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"vue-multiselect/dist/vue-multiselect.min.css?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=ff96ecdc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ff96ecdc\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VApp,VBtn,VDialog,VIcon,VList,VListItem,VListItemTitle,VMenu,VSnackbar})\n","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from './views/Home.vue';\nimport FlexHome from './views/FlexHome.vue';\n\nVue.use(Router);\n\nexport default new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n  ],\n});\n","import Vue from 'vue';\n// import './plugins/vuetify';\nimport vuetify from '@/plugins/vuetify';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: (h) => h(App),\n}).$mount('#app');\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardMetrics.vue?vue&type=style&index=0&id=29ea7f8d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardMetrics.vue?vue&type=style&index=0&id=29ea7f8d&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConstrainedInstanceList.vue?vue&type=style&index=0&id=6acec799&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConstrainedInstanceList.vue?vue&type=style&index=0&id=6acec799&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinaryInstanceDistribuion.vue?vue&type=style&index=0&id=72316b6c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinaryInstanceDistribuion.vue?vue&type=style&index=0&id=72316b6c&scoped=true&lang=css&\""],"sourceRoot":""}