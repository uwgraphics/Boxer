{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/sidebar/FocusItemSide.vue?4159","webpack:///./src/components/boxes/ScatterPlot.vue?89f5","webpack:///./src/components/boxes/OverallClassifierPerformance.vue?7328","webpack:///./src/components/boxes/ParallelMetrics.vue?197f","webpack:///./src/components/sidebar/SetHistory.vue?c8ac","webpack:///./src/components/boxes/OverallClassifierPerfCurves.vue?d119","webpack:///./src/components/boxes/InstanceList.vue?aa7f","webpack:///./src/components/sidebar/Sidebar.vue?3732","webpack:///./src/components/sidebar/InstanceList.vue?91dd","webpack:///./src/components/boxes/ConfusionMatrixGrid.vue?a036","webpack:///./src/components/boxes/BandwidthAssessment.vue?4990","webpack:///./src/components/boxes/ConfusionMatrixMinimal.vue?6347","webpack:///./src/components/boxes/UncertaintyHeatMap.vue?4ea1","webpack:///./src/App.vue?4f2c","webpack:///./src/components/boxes/OverallClassifierConfidence.vue?8d4a","webpack:///./src/components/boxes/FocusItem.vue?4699","webpack:///./src/components/boxes/ReliabilityCurve.vue?8d1c","webpack:///./src/components/boxes/PairwiseClassifierConsensus.vue?a6b0","webpack:///./src/components/boxes/OverallClassifierAccuracy.vue?5f06","webpack:///./src/components/boxes/FeatureHistogram.vue?492b","webpack:///./src/components/boxes/SelectionClassifierPerformance.vue?d29c","webpack:///./src/views/RigidTileHome.vue?d553","webpack:///./src/components/boxes/RejectedCurve.vue?365e","webpack:///./src/components/boxes/DetailedClassifierPerformance.vue?cb40","webpack:///./src/plugins/vuetify.ts","webpack:///./src/App.vue?3378","webpack:///./src/components/left-drawer/DatasetSelectorPopup.vue?02f0","webpack:///./src/components/left-drawer/DatasetSelectorPopup.vue?7eed","webpack:///./src/components/left-drawer/DatasetSelectorPopup.vue?841b","webpack:///./src/components/left-drawer/DatasetSelectorPopup.vue","webpack:///./src/components/left-drawer/Navbar.vue?6066","webpack:///./src/components/left-drawer/DatasetSelector.vue?f44d","webpack:///./src/components/left-drawer/DatasetSelector.vue?7039","webpack:///./src/components/left-drawer/DatasetSelector.vue?30ae","webpack:///./src/components/left-drawer/DatasetSelector.vue","webpack:///./src/components/left-drawer/Navbar.vue?22b6","webpack:///./src/components/left-drawer/Navbar.vue?e349","webpack:///./src/components/left-drawer/Navbar.vue","webpack:///./src/views/RigidTileHome.vue?d07a","webpack:///./src/types.ts","webpack:///./src/components/constraints/types.ts","webpack:///./src/components/boxes/OverallClassifierPerformance.vue?f30c","webpack:///./src/components/constraints/utils.ts","webpack:///./src/theme.ts","webpack:///./src/store.ts","webpack:///./src/utils.ts","webpack:///./src/components/boxes/OverallClassifierPerformance.vue?a3cf","webpack:///./src/components/boxes/OverallClassifierPerformance.vue?5391","webpack:///./src/components/boxes/OverallClassifierPerformance.vue","webpack:///./src/components/boxes/OverallClassifierPerfCurves.vue?652a","webpack:///./src/components/boxes/OverallClassifierPerfCurves.vue?a7f6","webpack:///./src/components/boxes/OverallClassifierPerfCurves.vue?2d3b","webpack:///./src/components/boxes/OverallClassifierPerfCurves.vue","webpack:///./src/components/boxes/OverallClassifierConfidence.vue?3954","webpack:///./src/components/boxes/OverallClassifierConfidence.vue?5191","webpack:///./src/components/boxes/OverallClassifierConfidence.vue?afea","webpack:///./src/components/boxes/OverallClassifierConfidence.vue","webpack:///./src/components/boxes/ReliabilityCurve.vue?1ccb","webpack:///./src/components/boxes/ReliabilityCurve.vue?ebaf","webpack:///./src/components/boxes/ReliabilityCurve.vue?3c1e","webpack:///./src/components/boxes/ReliabilityCurve.vue","webpack:///./src/components/boxes/TrinaryInstanceDistribuion.vue?af68","webpack:///./src/components/boxes/TrinaryInstanceDistribuion.vue?f6b8","webpack:///./src/components/boxes/TrinaryInstanceDistribuion.vue?44a1","webpack:///./src/components/boxes/TrinaryInstanceDistribuion.vue","webpack:///./src/components/boxes/BandwidthAssessment.vue?247f","webpack:///./src/components/boxes/BandwidthAssessment.vue?4f86","webpack:///./src/components/boxes/BandwidthAssessment.vue?54e7","webpack:///./src/components/boxes/BandwidthAssessment.vue","webpack:///./src/components/boxes/SelectionClassifierPerformance.vue?4ddf","webpack:///./src/components/boxes/SelectionClassifierPerformance.vue?e67b","webpack:///./src/components/boxes/SelectionClassifierPerformance.vue?e851","webpack:///./src/components/boxes/SelectionClassifierPerformance.vue","webpack:///./src/components/boxes/DetailedClassifierPerformance.vue?ae8a","webpack:///./src/components/boxes/DetailedClassifierPerformance.vue?82c2","webpack:///./src/components/boxes/DetailedClassifierPerformance.vue?44f4","webpack:///./src/components/boxes/DetailedClassifierPerformance.vue","webpack:///./src/components/boxes/ConfusionMatrixGrid.vue?4646","webpack:///./src/components/ColorLegend.vue?9d69","webpack:///./src/components/ColorLegend.vue?b807","webpack:///./src/components/ColorLegend.vue?9022","webpack:///./src/components/ColorLegend.vue","webpack:///./src/components/boxes/ConfusionMatrixMinimal.vue?0c46","webpack:///./src/components/boxes/ConfusionMatrixMinimal.vue?fcc7","webpack:///./src/components/boxes/ConfusionMatrixMinimal.vue?dffe","webpack:///./src/components/boxes/ConfusionMatrixMinimal.vue","webpack:///./src/components/boxes/ConfusionMatrixGrid.vue?40de","webpack:///./src/components/boxes/ConfusionMatrixGrid.vue?de1f","webpack:///./src/components/boxes/ConfusionMatrixGrid.vue","webpack:///./src/components/boxes/OverallClassifierAccuracy.vue?2c53","webpack:///./src/components/boxes/OverallClassifierAccuracy.vue?a4d1","webpack:///./src/components/boxes/OverallClassifierAccuracy.vue?e70c","webpack:///./src/components/boxes/OverallClassifierAccuracy.vue","webpack:///./src/components/sidebar/Sidebar.vue?0f06","webpack:///./src/components/sidebar/filters/ClassFilter.vue?a704","webpack:///./src/components/sidebar/filters/ClassFilter.vue?ede7","webpack:///./src/components/sidebar/filters/ClassFilter.vue?cf5b","webpack:///./src/components/sidebar/filters/ClassFilter.vue","webpack:///./src/components/sidebar/filters/ClassifierFilter.vue?6f3e","webpack:///./src/components/sidebar/filters/ClassifierFilter.vue?9c28","webpack:///./src/components/sidebar/filters/ClassifierFilter.vue?7d05","webpack:///./src/components/sidebar/filters/ClassifierFilter.vue","webpack:///./src/components/sidebar/InstanceList.vue?e4db","webpack:///./src/components/sidebar/InstanceList.vue?80d2","webpack:///./src/components/sidebar/InstanceList.vue?2d2b","webpack:///./src/components/sidebar/InstanceList.vue","webpack:///./src/components/sidebar/SetHistory.vue?d307","webpack:///./src/components/sidebar/InstanceVennDiagram.vue?7457","webpack:///./src/components/sidebar/InstanceVennDiagram.vue?62a8","webpack:///./src/components/sidebar/InstanceVennDiagram.vue?a221","webpack:///./src/components/sidebar/InstanceVennDiagram.vue","webpack:///./src/components/QueryGenerator.vue?a8f0","webpack:///./src/components/constraints/ActualTargetClass.vue?04f4","webpack:///./src/components/constraints/ActualTargetClass.vue?c9a0","webpack:///./src/components/constraints/ActualTargetClass.vue?ebe5","webpack:///./src/components/constraints/ActualTargetClass.vue","webpack:///./src/components/constraints/ChooseRule.vue?9b85","webpack:///./src/components/constraints/ChooseRule.vue?4b8c","webpack:///./src/components/constraints/ChooseRule.vue?90d8","webpack:///./src/components/constraints/ChooseRule.vue","webpack:///./src/components/constraints/ClassifierPredicted.vue?6865","webpack:///./src/components/constraints/ClassifierPredicted.vue?1570","webpack:///./src/components/constraints/ClassifierPredicted.vue?6968","webpack:///./src/components/constraints/ClassifierPredicted.vue","webpack:///./src/components/constraints/ClassifierRight.vue?cf92","webpack:///./src/components/constraints/ClassifierRight.vue?0822","webpack:///./src/components/constraints/ClassifierRight.vue?9486","webpack:///./src/components/constraints/ClassifierRight.vue","webpack:///./src/components/constraints/ClassifiersAgree.vue?c06d","webpack:///./src/components/constraints/ClassifiersAgree.vue?8540","webpack:///./src/components/constraints/ClassifiersAgree.vue?18cb","webpack:///./src/components/constraints/ClassifiersAgree.vue","webpack:///./src/components/constraints/FeatureEquals.vue?a518","webpack:///./src/components/constraints/FeatureEquals.vue?291d","webpack:///./src/components/constraints/FeatureEquals.vue?d835","webpack:///./src/components/constraints/FeatureEquals.vue","webpack:///./src/components/constraints/FeatureGreaterThan.vue?6051","webpack:///./src/components/constraints/FeatureGreaterThan.vue?e607","webpack:///./src/components/constraints/FeatureGreaterThan.vue?adb2","webpack:///./src/components/constraints/FeatureGreaterThan.vue","webpack:///./src/components/constraints/FeatureLessThan.vue?4c28","webpack:///./src/components/constraints/FeatureLessThan.vue?6853","webpack:///./src/components/constraints/FeatureLessThan.vue?ce7f","webpack:///./src/components/constraints/FeatureLessThan.vue","webpack:///./src/components/ConstrainedInstanceList.vue?d451","webpack:///./src/components/ConstrainedInstanceList.vue?3bf9","webpack:///./src/components/ConstrainedInstanceList.vue?9466","webpack:///./src/components/ConstrainedInstanceList.vue","webpack:///./src/components/QueryGenerator.vue?ec6b","webpack:///./src/components/QueryGenerator.vue?d3a6","webpack:///./src/components/QueryGenerator.vue","webpack:///./src/components/sidebar/SetHistory.vue?c629","webpack:///./src/components/sidebar/SetHistory.vue?efef","webpack:///./src/components/sidebar/SetHistory.vue","webpack:///./src/components/sidebar/FocusItemSide.vue?8d77","webpack:///./src/components/sidebar/FocusItemSide.vue?f0e8","webpack:///./src/components/sidebar/FocusItemSide.vue?9b23","webpack:///./src/components/sidebar/FocusItemSide.vue","webpack:///./src/components/sidebar/ViewList.vue?4212","webpack:///./src/components/sidebar/ViewList.vue?89be","webpack:///./src/components/sidebar/ViewList.vue?caa0","webpack:///./src/components/sidebar/ViewList.vue","webpack:///./src/components/sidebar/continuous/ModeSelection.vue?1802","webpack:///./src/components/sidebar/continuous/ModeSelection.vue?8145","webpack:///./src/components/sidebar/continuous/ModeSelection.vue?5dd9","webpack:///./src/components/sidebar/continuous/ModeSelection.vue","webpack:///./src/components/sidebar/continuous/UncertainAdjuster.vue?1aee","webpack:///./src/components/sidebar/continuous/UncertainAdjuster.vue?4f0a","webpack:///./src/components/sidebar/continuous/UncertainAdjuster.vue?3a20","webpack:///./src/components/sidebar/continuous/UncertainAdjuster.vue","webpack:///./src/components/sidebar/sampling/RandomSampling.vue?9de3","webpack:///./src/components/sidebar/sampling/RandomSampling.vue?67f6","webpack:///./src/components/sidebar/sampling/RandomSampling.vue?2184","webpack:///./src/components/sidebar/sampling/RandomSampling.vue","webpack:///./src/components/sidebar/sampling/BootstrapSampling.vue?cb53","webpack:///./src/components/sidebar/sampling/BootstrapSampling.vue?e167","webpack:///./src/components/sidebar/sampling/BootstrapSampling.vue?7e73","webpack:///./src/components/sidebar/sampling/BootstrapSampling.vue","webpack:///./src/components/sidebar/sampling/StratifiedSampling.vue?d4df","webpack:///./src/components/sidebar/sampling/StratifiedSampling.vue?5312","webpack:///./src/components/sidebar/sampling/StratifiedSampling.vue?90df","webpack:///./src/components/sidebar/sampling/StratifiedSampling.vue","webpack:///./src/components/sidebar/validation/KfoldValidation.vue?bba1","webpack:///./src/components/sidebar/validation/KfoldValidation.vue?d27f","webpack:///./src/components/sidebar/validation/KfoldValidation.vue?c172","webpack:///./src/components/sidebar/validation/KfoldValidation.vue","webpack:///./src/components/sidebar/Sidebar.vue?ecf0","webpack:///./src/components/sidebar/Sidebar.vue?4ff3","webpack:///./src/components/sidebar/Sidebar.vue","webpack:///./src/components/boxes/PairwiseClassifierConsensus.vue?a214","webpack:///./src/components/boxes/PairwiseClassifierConsensus.vue?e97d","webpack:///./src/components/boxes/PairwiseClassifierConsensus.vue?f827","webpack:///./src/components/boxes/PairwiseClassifierConsensus.vue","webpack:///./src/components/boxes/StandardMetrics.vue?1982","webpack:///./src/components/boxes/StandardMetrics.vue?3590","webpack:///./src/components/boxes/StandardMetrics.vue?387e","webpack:///./src/components/boxes/StandardMetrics.vue","webpack:///./src/components/boxes/ParallelMetrics.vue?70cd","webpack:///./src/components/boxes/ParallelMetrics.vue?c1b3","webpack:///./src/components/boxes/ParallelMetrics.vue?4f8f","webpack:///./src/components/boxes/ParallelMetrics.vue","webpack:///./src/components/boxes/UncertaintyHeatMap.vue?ec44","webpack:///./src/components/boxes/UncertaintyHeatMap.vue?4fd6","webpack:///./src/components/boxes/UncertaintyHeatMap.vue?05fa","webpack:///./src/components/boxes/UncertaintyHeatMap.vue","webpack:///./src/components/boxes/InstanceList.vue?2507","webpack:///./src/components/boxes/InstanceList.vue?0597","webpack:///./src/components/boxes/InstanceList.vue?9ded","webpack:///./src/components/boxes/InstanceList.vue","webpack:///./src/components/boxes/FeatureHistogram.vue?9b96","webpack:///./src/components/boxes/FeatureHistogram.vue?57f9","webpack:///./src/components/boxes/FeatureHistogram.vue?5678","webpack:///./src/components/boxes/FeatureHistogram.vue","webpack:///./src/components/boxes/ScatterPlot.vue?87cb","webpack:///./src/components/boxes/ScatterPlot.vue?4005","webpack:///./src/components/boxes/ScatterPlot.vue?20ac","webpack:///./src/components/boxes/ScatterPlot.vue","webpack:///./src/components/boxes/FocusItem.vue?5ead","webpack:///./src/components/boxes/FocusItem.vue?0884","webpack:///./src/components/boxes/FocusItem.vue?552c","webpack:///./src/components/boxes/FocusItem.vue","webpack:///./src/components/boxes/RejectedCurve.vue?f307","webpack:///./src/components/boxes/RejectedCurve.vue?747b","webpack:///./src/components/boxes/RejectedCurve.vue?8ea0","webpack:///./src/components/boxes/RejectedCurve.vue","webpack:///./src/views/RigidTileHome.vue?9272","webpack:///./src/views/RigidTileHome.vue?fc84","webpack:///./src/views/RigidTileHome.vue","webpack:///./src/App.vue?afb0","webpack:///./src/App.vue?53be","webpack:///./src/App.vue","webpack:///./src/router.ts","webpack:///./src/main.ts","webpack:///./src/components/boxes/StandardMetrics.vue?e4df","webpack:///./src/components/ConstrainedInstanceList.vue?737d","webpack:///./src/components/boxes/TrinaryInstanceDistribuion.vue?b97d"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","use","opts","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","fn","ref","on","_g","_v","model","callback","$$v","load_dialog","expression","_s","$store","state","chosenDataset","change_grid_size","_b","_l","view","dispatch","view_name","classifiers","value_classifier","$event","save_views","reload_views","staticStyle","snackbar","button","btnClick","staticRenderFns","keys","datasets","dataset","changedDatasetByName","test","domProps","customDatasetURL","changedDataset","extend","components","VueInstantLoadingSpinner","methods","console","log","$refs","Spinner","show","setTimeout","hide","component","VBtn","VCard","VCardText","VCardTitle","VFlex","VLayout","VList","VListItem","VListItemContent","VListItemTitle","VTextField","panel","slot","DatasetSelectorPopup","datasetFilepath","VDialog","VIcon","DatasetSelector","drawer","links","text","route","VExpansionPanel","VExpansionPanelContent","EntityType","FilterAction","SelectionAction","SelectionStrategy","SetCompose","VisualizationType","PlaceHolder","Rule","views","$set","getters","v","class","style","viewWidthByName","visualizationsWithoutExternalHandle","includes","_e","handleIcon","tag","boxProps","onClose","accuracySorting","evaluationSelection","classNumber","datasetType","weightedPerformance","average","array","sum","blankConstraint","constraint","negation","rule","NONE","classifier","classifier2","target","feature","numericValue","bucketCategorical","featureName","instances","buckets","featureByName","type","error","categories","forEach","category","createConstraint","FEATURE_EQ","predicate","createSimplePredicate","instancesFromPredicate","bucketCount","bucketNumeric","bucketCounts","bucketCountNormalized","countTotal","values","bucketCountsNormalized","getBins","numberOfBins","featureValues","map","id","instanceById","features","xMin","Math","min","xMax","max","bins","d3","domain","thresholds","bin","x0","x1","binnedInstances","index","compareFeatureInterestingness","interestingness","candidate","baseline","interests","expected","observed","interest","lowerBound","upperBound","averageInterest","firstOverlapSelection","store","overlapSelections","first","allFeatures","allInstances","allowedTypes","isAllowedType","filter","featuresWithInterest","allCounts","selectedCounts","sort","f1","f2","f","composePredicates","p1","p2","operation","PredicateIntersection","predicates","PredicateUnion","a","b","notB","aAndNotB","aUnionB","complement","constraintToString","ACTUAL","AGREE","FEATURE_GT","FEATURE_LT","PREDICTED","RIGHT","params","assign","createFilter","trueFilter","isConstraintComplete","actual","predictions","negatedFilter","constraints","metric","filterFromConstraint","filterFromPredicate","filters","every","filtersAnd","filtersOr","some","filteredInstances","selectedInstances","predicateAbstraction","validConstraints","filteredClasses","filteredClassifiers","instancesIds","abstractDataFeatures","allEqual","validPredicates","predicatePrecision","intersection","part","whole","precision","predicatesWithPrecisions","pred","reduce","total","good","goodDark","goodLight","bad","badDark","badLight","highlight","categorical","usual","white","second","background","focus","fs","Store","saveStatus","resumeStatus","saveConfig","resumedBandwidths","viewsConfig","chosenFixedDataset","fixedDataset","corsError","currentChosenSample","weightMode","currentChosenFold","sampleList","sampleDict","selectedSampleSet","validationList","addedThresholdClassifiers","curAddedThresholdClassifier","addedBandWidthClassifiers","withinClassifierBandWidthList","withinClassifierName","classifierBandWidthDict","bandWidthChangedClassifierName","outerBandWidth","classifierThresholdList","classifierThresholdDict","thresholdClassifierNameList","chosenClassifierThresholdTuple","single_threshold","curveChosenClassifierThresholdTuple","viewWidth","baseDataset","baseSelection","description","Set","className","weight","classes","hoverInstance","continuous_metrics","weighted_metrics","Exclude","set","instance","selectionHistory","focusItemId","focusSet","focusDotEmphasis","modelSelections","modelSelectionHistory","selectionStrategy","Any","all","CA","SCP","COV","CMG","FH","UM","OCA","PCC","SM","SMP","ITL","SP","FI","open","intersectionMode","mutations","new_status","config","new_dataset","flag","new_flag","cors_error","new_error","new_metrics","metrics","continuous_classifierThreshold","new_classifierThreshold","new_mode","newUncertainBandwidth","newWithinClassifier","newClassifierName","newuncertainClassifier","new_bandWidth","new_allclassifierThreshold","new_allthresholdClassifiers","new_bands","width","intersect","new_config","payload","whichOverlap","selection","newOverlapSelections","tmpSample","newHistory","newAddedThresholdClassifiers","newAddedBandWidthClassifiers","newCurAddedThresholdClassifier","status","newAddedClassifier","newAdditionalClassifiers","newDataset","entityType","newFilter","actions","context","views_recommendation","commit","bandwidths","tmp","left_range","parseFloat","split","right_range","filePath","readFile","err","JSON","parse","selections","openViews","checkedViews","toString","toFixed","fileContent","stringify","writeFile","selection_attribute","barCells","x","y","height","color","circle_visibility","cx","cy","selection_type","focused","append","attr","new_cors_error","new_sample_value","new_validation","new_chosen_sample","new_chosen_fold","new_data_type","uncertainBandwidth","classifierThreshold","keyEvent","pastViews","newViews","datasetList","firstDataset","oldSelectionHistory","newSelectionHistory","lastSelection","unionDescription","cleanSelectionHistory","datasetURL","datasetPath","endsWith","filenames","Promise","filename","url","fileType","pop","fetch","then","response","ok","reject","catch","manifest","resultsData","featuresData","checkData","ManifestResultsClassifier","mClassifiers","rCLassifiers","columns","mismatch","xor","size","resultsFeaturesRows","resultsMissingValues","rData","cellString","pathPieces","featureNames","tmp_features","instancesList","uniqueList","item","pos","indexOf","CC","RC","CB","BA","REC","TID","continuous_predictions","tmp_thresholdsClassifier","tmp_classifierThresholds","splitL","substring","threshold","rId","fId","addRandomClassifier","randomClassifier","unshift","randomClass","floor","random","addMajorityClassifier","majorityClassifier","classCounts","majorityClass","addOracle","oracle","featureObjects","testFeatureObjects","parsedDataset","dummyClassifiers","preContinuousMetrics","instant_variables","changed_variables","changed_instances_set","instanceWeights","tmp_instances","cur_set","cur_instances","cur_value","count","real_tp","tp","m_tp","real_tn","tn","m_tn","real_fp","fp","m_fp","real_fn","m_fn","accuracy","recall","sqrt","mcc","abs","cur_threshold","cur_left_edge","cur_right_edge","mse","m_tp_instances","m_tn_instances","m_fp_instances","m_fn_instances","tp_instances","tn_instances","fp_instances","fn_instances","cur_uncertain","predict_prob","add","precentage","ins_per","origin_classifier","legend","classifierValues","classifierThresholdKey","formatDecimal","x_roc","y_roc","value_roc","x_pr","y_pr","acc","line_roc","line_pr","auc_area","begin","end","diff","coordinates","last_acc","last_value","PerfCalculation","predict","addNewValues","adaptSampling","low","high","pre","cur","mid","tmp_perf","mid_value","idx","perf","lastx","lasty","cor","curClassifier","curThreshold","tmp_predictions","mostRecentSelection","allClassifiers","realClassifiers","thresholdClassifier","classesToExclude","difference","classifiersToExclude","trainOrTest","fold","testing","training","additionC","microf1","macrof1","predicted","false","true","actualClass","predictedClass","totalTrue","cur_predictions","cur_actuals","restClass","precisionSum","recallSum","f1Sum","tpSum","fpSum","fnSum","microPrecision","microRecall","visualizations","visualizationTemplate","elem","has","generateRandomId","prefix","suffix","substr","overlapCount","overlap","overlapFraction","union","props","required","Function","margin","top","right","bottom","left","hover","focusColor","svg","rightColor","rightHoverColor","selection1Color","selection2Color","wrongColor","wrongHoverColor","computed","scope","evaluationKeys","accuracyAscending","c1","c2","macro_f1","micro_f1","accuracyDescending","predictionKeys","continuousPredictionKeys","continuousClassifierName","wrong","set_combiniation","set1","set2","res","set2_list","continuousMetrics","total_data","curAcClass","curPredClass","total_tp","total_fp","total_tn","total_fn","total_f1","cur_tp","cur_fp","cur_tn","cur_fn","cur_pre","cur_recall","total_recall","total_pre","range","paddingOuter","paddingInner","watch","drawInitial","drawHover","chart","rightBars","selectAll","wrongBars","yAxisMarkerLine","select","yAxisMarkerTextRight","yAxisMarkerTextWrong","textSelection1","textSelection2","rectHover","moveDuration","disappearDuration","hoverText","classifierName","typeString","overlappingInstances","transition","duration","bandwidth","remove","mg_top","drawAxes","xAxis","g","tickSizeOuter","yAxis","ticks","tickFormat","drawTitles","xOffset","yOffset","drawLegend","drawBars","join","barWidth","clearHover","bar1","yAxisMarkerText","drawSelections","selectionBarWidth","selectionType","weightedInstanceSize","setAdd","list_1","list_2","rightYOffset","totalInstances","fractionOfTotalInstances","rightHeight","wrongHeight","hasFocusItem","cur_selection","selection_attributes","preventDefault","stopPropagation","curType","VExpansionPanelHeader","VExpansionPanels","VRadio","VRadioGroup","selection_mode","options","isOpen","search","pointSelection","pointRemove","thresholdToidx","selectedCurves","curclick","selectedEval","classifierThresholds","parseInt","storeMetrics","entries","evaluation","drawAddedPoint","drawCurrentThreshold","clearPointSelection","drawPointSelection","selectedDot","updateThreshold","chosenClassifiers","changedClassifier","selected_type","sequentialScale","interpolator","xValue","yValue","classifierDict","cur_cordinate","curveData","curCurve","drawInitalCurves","area_dict","line","path","cordinate","enter","drawSelectedCurves","calculatedSelectedCurves","outSelections","calculate_value","auc","last_change_index","update_flag","tmp_max_acc","distribution","normalization_switch","interval","hover_distribution","maxIntervals","normalization","rightColor1","wrongColor1","rightHoverColor1","wrongHoverColor1","nameTocontinuous","thresholdRange","bandWidthClassifiers","left_edge","right_edge","confidenceIndex","confidence","allIntervals","origin_c","ci_tp","ci_fn","ci_tn","ci_fp","ci_mn","ci_mp","ci_pred","ci_tp_instances","ci_fp_instances","ci_tn_instances","ci_fn_instances","ci_mp_instances","ci_mn_instances","all_instances","continuous_pred","conf","continuous_value","interval_index","latter_index","latter_confi","padding","yScale","drawOriginalDistribution","drawDistributionHover","drawDistSelections","lowerConfi","upperConfi","dataUpdateWithRange","drawConfidence","rightBars2","wrongBars2","midBars","midBars2","hoverRect","yAxisMarkerTextMiddle","yAxisMarkerTextRight_s1","yAxisMarkerTextWrong_s1","yAxisMarkerTextMiddle_s1","yAxisMarkerTextRight_s2","yAxisMarkerTextWrong_s2","yAxisMarkerTextMiddle_s2","rightOverLap","wrongOverLap","middleOverLap","predBars","yAxisMarkerTextPred","yAxisMarkerTextPred_s1","yAxisMarkerTextPred_s2","confi_index","svgAll","drawSliders","rangeSliders","confidenceData","get_confidence_data","confidenceDict","selectedConfidenceDict","selectionData","get_selected_confidence_data","tmpconfidenceDict","each","scale","barNames","barInstances1","barInstances2","colors","y_shift","selectionColors","selectIndex","drawSelectedConfidence","curConfidenceData","confidenceInstanceSizeOne","confidenceInstanceSizeTwo","select_type","maxSelectionSize","yThreshold","drawAxis","drawLine","drawLegends","drawDistributionAxis","drawDistributionBar","clearDistributionHover","barPredSelection1","barPredSelection2","circlePredSelection1","circlePredSelection2","yAxisMarkerTextRect_s1","yAxisMarkerTextRect_s2","barRightSelection1","barRightSelection2","barWrongSelection1","barWrongSelection2","barMiddleSelection1","barMiddleSelection2","barRight2Selection1","barRight2Selection2","barWrong2Selection1","barWrong2Selection2","barMiddle2Selection1","barMiddle2Selection2","circleRightSelection1","circleRightSelection2","circleWrongSelection1","circleWrongSelection2","circleMiddleSelection1","circleMiddleSelection2","circleRight2Selection1","circleRight2Selection2","circleWrong2Selection1","circleWrong2Selection2","circleMiddle2Selection1","circleMiddle2Selection2","confidenceInstancesSize","middleHeight","lower_confi","upper_confi","VSwitch","click","confidenceClassifierDict","correct","selectedSets","seleted_type","svg_distribution","confidenceCountData","selectedDataDict","calculatedCurves","cordinates","curConfidenceCountData","value2","confidenceStandard","selectedconfidenceData","selectedconfidenceDict","drawDistribution","tmp_list","drawCurves","dict","drawDistributionSelections","selectionHeight","instances_list","all_instances_list","name_list","instances_types","interval_instances","distribution_mode","hoverNormalization","selection1Right","selection1Wrong","selection1mid","selection2Right","selection2Wrong","selection2mid","right_wrong","right_right","wrong_wrong","wrong_right","middle_wrong","middle_right","middle_tp","middle_tn","middle_fp","middle_fn","total_size","right_size","wrong_size","middle_right_size","middle_wrong_size","value_dict","xScale","clamp","drawHoverNormalization","drawNormalization","slection","rightwrongBars","wrongrightBars","middleYesBars","yAxisMarkerRect","yAxisMarkerLine1","yAxisMarkerLine2","yAxisMarkerLine3","yAxisMarkerLine4","yAxisMarkerText1","yAxisMarkerText2","yAxisMarkerText3","yAxisMarkerText4","yAxisMarkerText5","yAxisMarkerText1s1","yAxisMarkerText2s1","yAxisMarkerText3s1","yAxisMarkerText4s1","yAxisMarkerText5s1","yAxisMarkerText1s2","yAxisMarkerText2s2","yAxisMarkerText3s2","yAxisMarkerText4s2","yAxisMarkerText5s2","clearHoverNormalization","left_diff","right_diff","drawSelectedLegend","selectionSets","drawDistributeBars","drawSelectedBars","selectedDistribution","get_selected_distribution","selectedDis","selectionWidth","middleYesHeight","instancesNo","overlappingInstancesNo","vis","concat","type_dict","selectedClassifier","thresholdRangeChange","bandwidthHover","barHover","accHover","curveClassifier","upperColors","lowerColors","middleColors","currentSetbandwidth","currentBandwidth","currentRemovedbandwidth","withinClassifierBandwidths","leftThreshold","rightThreshold","streamData","thresholdRangeRecords","accumulations","ci_m","ci_m_y","ci_m_n","middle_instances","middle_y_instances","middle_n_instances","cur_pred","drawWithinInitial","drawBarHover","drawAccHover","drawBandwidthHover","updateThresholdBound","updateTmpChartData","drawStreamChart","tmpwithinClassifierBandwidths","updateStreamChartData","updateAdjusterBar","updatenumberOfBins","tick","num","removeBandwidthHover","sortedBandWidth","n1","n2","curveText","hoverClassifier","curveBars","yAxisMarkerLineCurveLow","yAxisMarkerLineCurveUp","yAxisMarkerLineCurveBar","yAxisMarkerLineCurve","yAxisMarkerTextCurveBar","yAxisMarkerTextCurve","yAxisMarkerTextCurveLow","yAxisMarkerTextCurveUp","yAxisMarkerTextClassifier","yAxisMarkerTextS1","yAxisMarkerTextS2","allSelectedClassifier","xThreshold","threshold_idx","svg_curves","legend2","thresholdBins","accLegend","head1","interrupt","round","invert","drawAdjuster","sqrt3","triangleRight","draw","moveTo","lineTo","closePath","triangleLeft","leftTrgl","rightTrgl","dis","head2","xTAxis","yUnceratiny","yTAxis","yTAxis_acc","barThresholds","drawMiddelLine","clearBarHover","clearAccHover","clearThresholdBound","clearBandwitdth","addDefault","curveOffset","bandwidthRange","leftEdge","rightEdge","pred_prob","e","select1Bars","select2Bars","calculate_auc","calculate_mse","precison","drawHoverExternal","isNaN","bar1Color","bar1HoverColor","bar2Color","bar2HoverColor","rightsize1","rightsize2","String","x0Name","x1Name","curData","_x0n","_data","_x1n","rec","curData_reverse","_data_reverse","hoverdata","cur_dict","selectedBarText","hoverData","rangeRound","barMultitp","multibars","barMultitpRe","multirebars","filterDummyClassifiers","dimensions","Number","default","title","drawGradient","linearGradient","gradientId","percentBetweenColors","drawTitle","onHoverChange","validator","colorScales","hoverInfo","sideLength","updateMaxBucketedInstances","bucketedInstances","nClasses","actualIndex","predictedIndex","bucketIndex","cellHeight","cellWidth","bucketSizes","diagonal","nondiagonal","bucket","onMainDiagonal","maxBucketedInstances","colorScaleDiagonal","colorScaleNonDiagonal","applyColorScale","classCross","cells","translateCell","updateUserSelection","drawMatrixCells","drawHoverOutline","drawSelection1","html","drawSelection2","elemPerRow","row","col","cellDescription","ColorLegend","ConfusionMatrixMinimal","predictedClassLegend","colorLegend","actualClassLegend","matrixGrid","actualClassScale","allBucketedInstances","bucketedInstancesByClassifier","cartesian","classifierClassCross","correctlyClassified","misclassified","grid","sideBar","topBar","matricesPerRow","ceil","classifierMax","maxBucketedInstancesByClassifier","nRows","predictedClassScale","xIndices","yIndices","drawGrid","drawColorLegend","drawSidebar","drawTopBar","gradientsData","colorDark","colorLight","defineGradients","defs","gradients","drawGradients","agreeAxis","disagreeAxis","updateHoverCell","rowIndex","colIndex","matrices","matrixCells","drawCells","numberOfInstances","cachedBucketedInstancesByClassifier","selectionBarHeight","dotRadius","drawMatrixTitles","hoverCircles","barSelection1","barSelection2","dotSelection1","dotSelection2","dotThreshold","instancesByCross","dotOpacity","constraintRow","constraintColumn","VCheckbox","sorting","agreementKeys","agreements","reverse","correctClassifiers","numberOfCorrectClassifiers","cumulativeAgreements","key2","barYOffset","barHeight","drawCircle","circleXOffset","circleYOffset","circleR","coordinateXOffset","coordinateYOffset","xVal","yVal","datum","bars","circles","hoverCountIndex","applyFilter","checkedBoxes","Class","Classifier","headers","pagination","styleTableRow","changedHoverInstance","clearHoverInstance","sortBy","rowsPerPage","replace","comparators","aBelongs","bBelongs","common","firstColor","secondColor","firstSelection","secondSelection","isFirst","isSecond","VDataTable","continuousChange","overlapSelectionDescription","setOverlapSelection","clearOverlapSelections","composeUserSelections","icon","items","directives","rawName","composing","firstSecondUnion","xTotal","xSelection","rectComplement","rectUnion","rectFirstOnly","rectIntersection","rectSecondOnly","firstOnly","firstSecondIntersection","secondOnly","drawLines","leftLine","rightLine","drawText","textComplement","textUnion","textFirstOnly","textIntersection","textSecondOnly","percentageText","defineGradient","gradient","barTotal","barUnion","interBarHeight","percentage","operand1","operand2","composition","dialog","red","action","tooltip","green","addNewConstraint","orange","gray","rules","regularBoxProps","constrainedInstanceListBoxProps","placeholders","VMenu","featureValuesMax","featureValuesMin","featureValuesStep","featureType","valuesWithoutDuplicates","defaultBounds","minMaxBounds","bounds","boundsInterval","boundsRatio","featureValueBounds","step","VAutocomplete","VSlider","allowedFeatures","instancePercentage","ActualTargetClass","ChooseRule","ClassifierRight","ClassifierPredicted","ClassifiersAgree","ConstrainedInstanceList","FeatureEquals","FeatureGreaterThan","FeatureLessThan","yellow","buttons","discardQuery","resetQuery","saveQuery","constrainedInstances","closeDialog","isQueryComplete","alert","descriptions","fullDescription","VContainer","VSubheader","VTooltip","InstanceVennDiagram","QueryGenerator","operations","OR","function","AND","MINUS","XOR","find","op","undefined","record","subset","allInstance","firstInstance","secondInstance","intersectionInstance","unionInstance","complementInstance","prevInstance","nextInstance","randInstance","emphasize","image","sortby","sortBySel","descending","show_predictions","show_features","string_length","currentIndex","Image","src","Infinity","VImg","VListItemSubtitle","VListItemIcon","addTag","sliderRange","curveClassifiers","drawUpdateRangesCurve","drawUpdateRanges","newTag","classifierThresholdCurve","pre_value","range_text","cur_from","head","curAddedBandWidthClassifier","origin_value","added_value","drawResumedBandwidths","updateValues","drawOuterRanges","filteredClassifier","classifierFilters","pre_values","cur_values","deleted_values","new_added_values","from","to","cur_to","sample_value","setOverlapSampling","onButtonClick","styleDataChosen","addSampling","sampling","partition","partition1","randomIntegers","partition2","tmpValue","randomArrays","randomSet","decription","tmp_payload","svg_random","sample_size","sample_time","samples","time_count","tmp_sample","svg_bootstrap","categorial_features","weight_dicts","cur_feature","sampled_value","classList","cate_dict","tmp_feature_sample","cate","tmp_sample_size","tmp_samples","svg_stratified","validation_value","parameters","k_size","shuffle","k_fold_datasets","fold_size","test_list","train_list","start_id","end_id","svg_validation","RandomSampling","BootstrapSampling","StratifiedSampling","ClassFilter","ClassifierFilter","InstanceList","SetHistory","FocusItem","ViewList","ContinuousMode","UncertainAdjuster","KfoldValidation","consensusType","agreeColor","backgroundColor","disagreeColor","hoverColor","neutralColor","agreeScale","consensusMax","consensus","agree","disagree","consensusKeys","disagreeScale","keyCross","drawBackgroundRect","drawSquares","whichTriangle","c1Index","c2Index","display_mode","continuous_dict","m_accuracy","m_mcc","m_precision","m_recall","m_f1","additionMetrics","storeContinuousMetrics","standardClassifier","new_continuous_dict","addtionalStoreMetrics","evaluationMethods","drawParelle","vueThis","continuous","fakeyClassifiers","rect_width","showHover","removeHover","curdata","showSelected","allpaths","allpathtexts","allRects","allRectTexts","curtops","fakeData","pathColormap","k","selector_id","colorscale","legendheight","legendwidth","canvas","node","ctx","getContext","legendscale","createImageData","putImageData","correlationMode","chosenData","correlation_mode","correlations","numericTypes","isNumeric","numericFeatures","categoricalFeatures","selectedClassifiers","cur_classifier","confidenceRange","group","variable","uncertain_size","acc1","acc2","acc3","updateCorrelations","drawCorrelation","drawTitels","ndots","midpoint","dimgrey","upinterp","midcolor","lowinterp","cinterp","yv","drawLengends","InitialCorrelations","viewTitile","myGroups","myVars","corr","tooltiptext1","tooltiptext2","tooltiptext3","tooltiptext4","mouseover","mousemove","uncertainty","mouseleave","shorten","clickCount","clickTimer","continuousClassifierList","lsort","predOrFeature","ret","localeCompare","stringFeature","clearTimeout","setFocus","inFocus","chosenFeature","pureCategoricalFeatures","binLimits","hoverCategory","hoverActual","selected1","selected2","categoryFeatures","panel2","panel3","panel4","categoricalFeaturesNum","numericFeaturesNum","normalizationMode","binCounts","binMax","getInstance","filteredF","finalF","rawData","nonSort","bucketedinstances","predclass","totalAscending","totalDescending","showActualClassDistribution","yMax","maxByCategory","bucketKeys","barstmp","barstmp2","barsActual","barstmpcircle","barstmp2circle","barstmprect1","barstmprect2","barsActualRect","yText","xClass","yClass","xCate","yCate","xAxistmp","xAxistmp2","yAxistmp","yAxistmp2","showtext","translateCelltmp","translateCelltmp2","cellstmp","selecttmp","cellstmp2","selecttmp2","barWidthtmp","barYOffsettmp","barHeighttmp","barWidthtmp2","barYOffsettmp2","barHeighttmp2","constraintLowerBound","constraintUpperBound","VSelect","value_y","zoom","obejct","max_value","classifierValue","featureIntervals","featureYIntervals","preCorrelations","prefeatureIntervals","prefeatureYIntervals","premax_value","classifierThreshods","feature_y","featureList","featureYList","feature_min","feature_max","featureY_min","featureY_max","feature_value","featureY_value","feature_diff","featureY_diff","beginY","scatter_matrix","featureY","feature_idx","featureY_idx","drawRects","drawZoomin","drawOverallView","feature_name","featureY_name","idToIndex","essentials","info","line_idx","lineHover","currentThresholds","selectedPred","classifierBuckets","leftRate","rightRate","multilClassifier","thresholdList","tmp_threshold","diff_interval","tmp_key","bucket_idx","calcuate_res","get_res","last_res","totoal","tmp_left_key","tmp_left_next_key","left_instances","tmp_right_key","tmp_right_before_key","right_instances","new_predictions","tmp_res","updateSelectedPred","drawSelectionChart","drawLineHover","selectionList","tmp_selection","tmp_thresholdList","rejec_rate","c_acc","mappedPredictions","sortedPredictions","y_value","drawMultiClassifeirCurves","rated_domain","mapped_rate_domain","xRates","Histogram","UncertaintyHeatMap","Performance_Overall","Performance_Curves","Trinary_Performance_Confidence","Reliability_Curve","Trinary_Bandwidth_Assessment","Rejected_Curve","Trinary_Instance_Distribuion","Performance_Selection","Performance_Per_Class","ConfusionMatrixGrid","draggable","CumulativeAccuracy","Sidebar","PairwiseClassifierConsensus","MetricsTable","MetricsParallel","ScatterPlot","storeVisualizations","tileName","Navbar","RigidTileHome","Multiselect","addEventListener","$alert","related_use_case","nav","document","getElementById","toggle","VApp","VSnackbar","base","routes","productionTip","router","vuetify","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,GAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,yBAA4jB,EAAG,G,oCCA/jB,yBAA0jB,EAAG,G,sGCA7jB,yBAA2kB,EAAG,G,oCCA9kB,yBAA8jB,EAAG,G,oCCAjkB,yBAAyjB,EAAG,G,oCCA5jB,yBAA0kB,EAAG,G,+ECA7kB,yBAA2jB,EAAG,G,sDCA9jB,yBAAsjB,EAAG,G,oICAzjB,yBAA2jB,EAAG,G,oCCA9jB,yBAAkkB,EAAG,G,sDCArkB,yBAAkkB,EAAG,G,oCCArkB,yBAAqkB,EAAG,G,sFCAxkB,yBAAikB,EAAG,G,oCCApkB,yBAAwgB,EAAG,G,+ECA3gB,yBAA0kB,EAAG,G,oCCA7kB,yBAAwjB,EAAG,G,sDCA3jB,yBAA+jB,EAAG,G,kCCAlkB,yBAA0kB,EAAG,G,oCCA7kB,yBAAwkB,EAAG,G,6DCA3kB,yBAA+jB,EAAG,G,oCCAlkB,yBAA6kB,EAAG,G,oFCAhlB,yBAAuiB,EAAG,G,6MCA1iB,yBAA4jB,EAAG,G,yDCA/jB,yBAA4kB,EAAG,G,qECe/kB,OAAIyC,IAAI,QAER,MAAMC,EAAO,GAEE,UAAI,OAAQA,GCnBvBC,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,YAAY,OAAOC,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,YAAYuB,GAAG,SAASC,GAChR,IAAIC,EAAKD,EAAIC,GACb,MAAO,CAACR,EAAG,QAAQJ,EAAIa,GAAG,CAACN,MAAM,CAAC,IAAM,GAAG,MAAQ,KAAKK,GAAI,CAACR,EAAG,SAAS,CAACJ,EAAIc,GAAG,UAAU,QAAQC,MAAM,CAAClC,MAAOmB,EAAe,YAAEgB,SAAS,SAAUC,GAAMjB,EAAIkB,YAAYD,GAAKE,WAAW,gBAAgB,CAACf,EAAG,yBAAyB,GAAGA,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACN,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAIqB,OAAOC,MAAMC,cAAcnD,SAASgC,EAAG,QAAQ,CAACE,YAAY,QAAQC,MAAM,CAAC,IAAM,GAAG,MAAQ,IAAIK,GAAG,CAAC,MAAQZ,EAAIwB,mBAAmB,CAACpB,EAAG,SAAS,CAACJ,EAAIc,GAAG,cAAc,GAAGV,EAAG,SAAS,CAACE,YAAY,cAAcC,MAAM,CAAC,iBAAiB,GAAG,WAAa,sBAAsBC,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,YAAYuB,GAAG,SAASC,GACrmB,IAAIC,EAAKD,EAAIC,GACTL,EAAQI,EAAIJ,MAChB,MAAO,CAACH,EAAG,QAAQJ,EAAIa,GAAGb,EAAIyB,GAAG,CAACnB,YAAY,QAAQ,QAAQC,GAAM,GAAOK,GAAI,CAACZ,EAAIc,GAAG,mBAAmB,CAACV,EAAG,SAASJ,EAAI0B,GAAI1B,EAAgB,cAAE,SAAS2B,GAAM,OAAOvB,EAAG,cAAc,CAACjB,IAAIwC,EAAKA,KAAKf,GAAG,CAAC,MAAQ,WAAc,OAAOZ,EAAIqB,OAAOO,SAAS,WAAYD,EAAKA,SAAW,CAACvB,EAAG,oBAAoB,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,GAAG,MAAQ,UAAU,CAACP,EAAIc,GAAGd,EAAIoB,GAAGO,EAAKE,eAAe,IAAI,MAAK,IAAI,GAAGzB,EAAG,cAAc,CAACE,YAAY,qBAAqBC,MAAM,CAAC,YAAc,uBAAuB,QAAUP,EAAI8B,YAAY,SAAW,IAAIf,MAAM,CAAClC,MAAOmB,EAAoB,iBAAEgB,SAAS,SAAUC,GAAMjB,EAAI+B,iBAAiBd,GAAKE,WAAW,sBAAsBf,EAAG,QAAQ,CAACE,YAAY,QAAQM,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIiC,gBAAgB,CAACjC,EAAIc,GAAG,iBAAiBV,EAAG,QAAQ,CAACE,YAAY,QAAQM,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIkC,kBAAkB,CAAClC,EAAIc,GAAG,oBAAoB,GAAGV,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,6BAA6BC,MAAM,CAAC,GAAK,UAAU,CAACH,EAAG,WAAW,GAAGA,EAAG,iBAAiBA,EAAG,aAAa,CAAC+B,YAAY,CAAC,aAAa,UAAU5B,MAAM,CAAC,QAAU,GAAGQ,MAAM,CAAClC,MAAOmB,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAIoC,SAASnB,GAAKE,WAAW,aAAa,CAACf,EAAG,OAAO,CAACJ,EAAIc,GAAG,yBAAyB,GAAGV,EAAG,SAAS,CAACE,YAAY,cAAcC,MAAM,CAAC,iBAAiB,GAAG,WAAa,sBAAsBC,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,YAAYuB,GAAG,SAASC,GACz3C,IAAIC,EAAKD,EAAIC,GACTL,EAAQI,EAAIJ,MAChB,MAAO,CAACH,EAAG,QAAQJ,EAAIa,GAAGb,EAAIyB,GAAG,CAACnB,YAAY,QAAQ,QAAQC,GAAM,GAAOK,GAAI,CAACZ,EAAIc,GAAG,kBAAkB,CAACV,EAAG,SAASJ,EAAI0B,GAAI1B,EAAe,aAAE,SAASqC,GAAQ,OAAOjC,EAAG,cAAc,CAACjB,IAAIkD,EAAOjE,KAAKwC,GAAG,CAAC,MAAQ,WAAc,OAAOZ,EAAIsC,SAASD,EAAOjE,SAAW,CAACgC,EAAG,oBAAoB,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,GAAG,MAAQ,UAAU,CAACP,EAAIc,GAAGd,EAAIoB,GAAGiB,EAAOjE,UAAU,IAAI,MAAK,IAAI,IAAI,MAC/XmE,EAAkB,GCTlB,EAAS,WAAa,IAAIvC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACA,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,QAAQ,CAACH,EAAG,8BAA8B,CAACO,IAAI,aAAa,GAAGP,EAAG,eAAe,CAACA,EAAG,KAAK,CAACJ,EAAIc,GAAG,oBAAoBV,EAAG,cAAc,CAACA,EAAG,SAASJ,EAAI0B,GAAIjF,OAAO+F,KAAKvC,KAAKoB,OAAOC,MAAMmB,WAAW,SAASC,GAAS,OAAOtC,EAAG,cAAc,CAACjB,IAAIuD,EAAQ9B,GAAG,CAAC,MAAQ,SAASoB,GAAShC,EAAI2C,qBAAqBD,GAAU1C,EAAI4C,UAAW,CAACxC,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACyC,SAAS,CAAC,YAAc7C,EAAIoB,GAAGsB,OAAa,IAAI,MAAK,GAAGtC,EAAG,WAAW,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,IAAM,KAAK,CAACH,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,2BAA2B,QAAU,IAAIQ,MAAM,CAAClC,MAAOmB,EAAoB,iBAAEgB,SAAS,SAAUC,GAAMjB,EAAI8C,iBAAiB7B,GAAKE,WAAW,uBAAuB,GAAGf,EAAG,SAAS,CAACG,MAAM,CAAC,IAAM,KAAK,CAACH,EAAG,QAAQ,CAACQ,GAAG,CAAC,MAAQ,WAAcZ,EAAI+C,eAAe/C,EAAI8C,kBAAmB9C,EAAI8C,iBAAmB,GAAI9C,EAAI4C,UAAU,CAAC5C,EAAIc,GAAG,aAAa,IAAI,IAAI,IAAI,IACt+B,EAAkB,G,wBC8CP,SAAIkC,OAAO,CACxB5E,KAAM,uBACN6E,WAAY,CACVC,2BAAA,MAEF,OACE,MAAO,CACLJ,iBAAkB,KAGtBK,QAAS,OAAF,QACLP,KAAM,WACJQ,QAAQC,IAAI,aACZpD,KAAKqD,MAAMC,QAAQC,OACnBC,WAAW,WACTxD,KAAKqD,MAAMC,QAAQG,QACnBtE,KAAKa,MAAO,OAEb,eAAW,CACZ,iBACA,4BCnEya,I,6ICO3a0D,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,EAAiB,QAehC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,UAAA,OAAUC,WAAA,OAAWC,QAAA,KAAMC,UAAA,KAAQC,QAAA,KAAMC,YAAA,KAAUC,iBAAA,OAAiBC,eAAA,OAAeC,aAAA,OCjC5H,IAAI,EAAS,WAAa,IAAItE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,oBAAoB,CAACG,MAAM,CAAC,OAAS,IAAIQ,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIc,GAAG,cAAcV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAACG,MAAM,CAAC,KAAO,UAAUiE,KAAK,UAAU,CAACxE,EAAIc,GAAG,iBAAiBV,EAAG,oBAAoB,IAAI,IAAI,IACva,EAAkB,GCDlB,EAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,WAAW,GAAG,UAAY,KAAK,CAACH,EAAG,cAAc,CAACA,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAIqB,OAAOC,MAAMC,cAAcnD,SAASgC,EAAG,wBAAwB,CAACJ,EAAIc,GAAG,sBAAsB,IAAI,GAAGV,EAAG,WAAW,CAACG,MAAM,CAAC,YAAY,QAAQ,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,YAAY,IAAM,GAAG,MAAQ,GAAG,MAAQ,0BAA0BiE,KAAK,aAAa,CAACpE,EAAG,SAAS,CAACJ,EAAIc,GAAG,UAAU,GAAGV,EAAG,yBAAyB,GAAGJ,EAAIc,GAAG,uBAAuB,IAAI,IACnlB,EAAkB,GC8BP,SAAIkC,OAAO,CACxB5E,KAAM,kBACN6E,WAAY,CACVwB,wBAEF,OACE,MAAO,CACLC,gBAAiB,iCCtCmZ,I,wBCOta,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAShC,IAAkB,EAAW,CAACd,OAAA,KAAKC,QAAA,KAAMc,UAAA,KAAQC,QAAA,KAAMV,QAAA,OCRxC,aAAIlB,OAAO,CACtB5E,KAAM,SACN6E,WAAY,CACV4B,mBAEF,OACE,MAAO,CACLC,QAAQ,EACRP,MAAO,GACPQ,MAAO,CACL,CACEC,KAAM,YACNC,MAAO,cAET,CACED,KAAM,gBACNC,MAAO,kBAET,CACED,KAAM,mBACNC,MAAO,qBAET,CACED,KAAM,YACNC,MAAO,cAET,CACED,KAAM,qBACNC,MAAO,uBAET,CACED,KAAM,uBACNC,MAAO,yBAET,CACED,KAAM,OACNC,MAAO,KAET,CACED,KAAM,YACNC,MAAO,mBC3D8Y,I,wBCO7Z,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,IAAiB,QAMhC,IAAkB,EAAW,CAACC,kBAAA,KAAgBC,yBAAA,OCxB9C,ICWYC,EA0CAC,EAwGAC,EA8BAC,EAKAC,EAiBAC,ECtMAC,EAOAC,EFlBR,EAAS,WAAa,IAAI3F,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,YAAY,CAACE,YAAY,4BAA4BC,MAAM,CAAC,IAAM,MAAM,OAAS,WAAWQ,MAAM,CAAClC,MAAOmB,EAAIqB,OAAOC,MAAMsE,MAAU,KAAE5E,SAAS,SAAUC,GAAMjB,EAAI6F,KAAK7F,EAAIqB,OAAOC,MAAMsE,MAAO,OAAQ3E,IAAME,WAAW,4BAA4BnB,EAAI0B,GAAI1B,EAAIqB,OAAOyE,QAAsB,gBAAE,SAASC,EAAEzJ,GAAG,OAAO8D,EAAG,MAAM,CAACjB,IAAI7C,EAAE0J,MAAM,uBAAuBC,MAAQ,UAAajG,EAAIkG,gBAAgBH,EAAE3H,MAAS,KAAO,CAAG4B,EAAImG,oCAAoCC,SAASL,EAAE3H,MAA2K4B,EAAIqG,KAAxKjG,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,UAAU,CAACN,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAIsG,eAAelG,EAAG,MAAM,CAACE,YAAY,cAAc,CAACN,EAAIc,GAAGd,EAAIoB,GAAG2E,EAAE3H,WAAoBgC,EAAG2F,EAAE3H,KAAK,CAACmI,IAAI,YAAYjG,YAAY,gBAAgBC,MAAM,CAAC,SAAWwF,EAAES,SAAS,QAAU,WAAc,OAAOxG,EAAIqB,OAAOO,SAAS,YAAatF,QAAU,MAAK,GAAG8D,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,YAAY,IAAI,IACt+B,GAAkB,GGDlB,GAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,4BAA4B,KAAKV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,oBAAoBQ,MAAM,CAAClC,MAAOmB,EAAmB,gBAAEgB,SAAS,SAAUC,GAAMjB,EAAI0G,gBAAgBzF,GAAKE,WAAW,oBAAoB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,YAAY,MAAQ,eAAeH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,aAAa,MAAQ,gBAAgBH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,eAAe,MAAQ,kBAAkBH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,OAAO,MAAQ,OAAO,IAAI,GAAGH,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,qBAAqBQ,MAAM,CAAClC,MAAOmB,EAAuB,oBAAEgB,SAAS,SAAUC,GAAMjB,EAAI2G,oBAAoB1F,GAAKE,WAAW,wBAAwB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,WAAW,MAAQ,cAAcH,EAAG,UAAU,CAACG,MAAM,CAAC,GAAK,MAAM,MAAQ,MAAM,MAAQ,SAAUP,EAAI4G,YAAc,GAAwB,cAAnB5G,EAAI6G,YAA6BzG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,UAAU,MAAQ,aAAaP,EAAIqG,KAAMrG,EAAI4G,YAAc,GAAwB,cAAnB5G,EAAI6G,YAA6BzG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,UAAU,MAAQ,aAAaP,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,YAA6BzG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,QAAQP,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,YAA6BzG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,YAAY,MAAQ,eAAeP,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,YAA6BzG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAAS,MAAQ,YAAYP,EAAIqG,MAAM,IAAI,GAAGjG,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,oBAAoBQ,MAAM,CAAClC,MAAOmB,EAAuB,oBAAEgB,SAAS,SAAUC,GAAMjB,EAAI8G,oBAAoB7F,GAAKE,WAAW,wBAAwB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAAS,MAAQ,YAAYH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,WAAW,MAAQ,eAAe,IAAI,MAAM,IAAI,GAAGH,EAAG,MAAM,CAACO,IAAI,SAAS,IACr1E,GAAkB,G,0BCoCf,SAASoG,GAAQC,GACtB,OAAOC,GAAID,GAASA,EAAMxK,OAGrB,SAAS0K,KACd,MAAMC,EAAyB,CAC7BC,UAAU,EACVC,KAAM1B,EAAK2B,KACXC,WAAY,GACZC,YAAa,GACbC,OAAQ,GACRC,QAAS,GACT7I,MAAO,GACP8I,aAAc,GAEhB,OAAOR,EAGF,SAASS,GAAkBC,EAAqBC,GACrD,MAAMC,EAAmB,GAEnBL,EAAUM,GAAcH,GAC9B,MAAqB,gBAAjBH,EAAQO,MACV7E,QAAQ8E,MAASL,EAAH,iCACPE,IAGTL,EAAQS,WAAWC,QAASC,IAC1B,MAAMlB,EAAamB,GAAiB,CAClCjB,KAAM1B,EAAK4C,WACXb,QAASG,EACThJ,MAAOwJ,IAEHG,EAAYC,GAAsBtB,GACxCY,EAAQM,GAAYK,GAAuBF,EAAWV,KAGjDC,GAGF,SAASY,GAAYd,EAAqBC,GAC/C,MAAMJ,EAAUM,GAAcH,GAC9B,IAAIE,EAAmB,GACF,gBAAjBL,EAAQO,KACVF,EAAUH,GAAkBC,EAAaC,GAChC,CAAC,WAAY,SAAS1B,SAASsB,EAAQO,MAChDF,EAAUa,GAAcf,EAAaC,GAErC1E,QAAQ8E,MAAML,EAAa,kDAE7B,MAAMgB,EAA6B,GAInC,OAHApM,OAAO+F,KAAKuF,GAASK,QAASjJ,IAC5B0J,EAAa1J,GAAO4I,EAAQ5I,GAAK3C,SAE5BqM,EAGF,SAASC,GAAsBjB,EAAqBC,GACzD,MAAMe,EAAeF,GAAYd,EAAaC,GACxCiB,EAAa9B,GAAIxK,OAAOuM,OAAOH,IAC/BI,EAAuC,GAI7C,OAHAxM,OAAO+F,KAAKqG,GAAcT,QAASjJ,IACjC8J,EAAuB9J,GAAO0J,EAAa1J,GAAO4J,IAE7CE,EAGF,SAASL,GAAcf,EAAqBC,GACjD,MAAMC,EAAmB,GAEnBL,EAAUM,GAAcH,GAC9B,IAAK,CAAC,WAAY,SAASzB,SAASsB,EAAQO,MAE1C,OADA7E,QAAQ8E,MAASL,EAAH,6BACPE,EAGT,MAAMmB,EAAU,KACd,MAAMC,EAAe,GACfC,EAAgBtB,EAAUuB,IAAKC,GAAOC,GAAaD,GAAIE,SAAS3B,IAChE4B,EAAOC,KAAKC,OAAOP,GACnBQ,EAAOF,KAAKG,OAAOT,GAEnBU,EAAOC,GAAA,OACVC,OAAO,CAACP,EAAMG,IACdK,WAAWd,GACXtK,MAAOyK,IACN,MAAMhN,EAAIiN,GAAaD,GACjBzK,EAAQvC,EAAEkN,SAAS3B,GACzB,OAAOhJ,GANEkL,CAQVjC,GAMH,OAJAgC,EAAK1B,QAAS8B,WACLA,EAAIC,UACJD,EAAIE,KAENN,GAOT,OAJAZ,IAAUd,QAAQ,CAACiC,EAAiBC,KAClCvC,EAAQuC,GAASD,IAGZtC,EAGF,SAASwC,KACd,MAAMC,EAAkB,CAACC,EAAyBC,KAChD,MAAMC,EAAsB,GAC5BlO,OAAO+F,KAAKiI,GAAWrC,QAASjJ,IAC9B,MAAMyL,EAAWF,EAASvL,GAC1B,GAAiB,IAAbyL,EACF,OAEF,MAAMC,EAAWJ,EAAUtL,GAC3B,IAAI2L,EAAW,EACf,GAAID,EAAWD,EAAU,CACvB,MAAMG,EAAa,EACbC,EAAaJ,EACnBE,GAAYD,EAAWE,IAAeC,EAAaD,GACnDD,EAAW,EAAIA,OACV,GAAID,EAAWD,EAAU,CAC9B,MAAMG,EAAaH,EACbI,EAAa,EACnBF,GAAYD,EAAWE,IAAeC,EAAaD,GAErDJ,EAAU7N,KAAKgO,KAEjB,MAAMG,EAAkBlE,GAAQ4D,GAChC,OAAOM,GAGHC,EAAwBC,GAAM7J,MAAM8J,kBAAkBC,MAC5D,IAAKH,EAEH,YADA9H,QAAQ8E,MAAM,2CAGhB,MAAMM,EAAY0C,EAAsB1C,UACxC,IAAKA,EAEH,YADApF,QAAQ8E,MAAM,uDAGhB,MAAMJ,EAAYY,GAAuBF,GAEnC8C,EAAwB,IAAIH,GAAMrF,QAAQ0D,UAC1C+B,EAAe,IAAIJ,GAAMrF,QAAQgC,WAEjC0D,EAAe,CAAC,cAAe,WAAY,SAC3CC,EAAiBrN,GAAiBoN,EAAapF,SAAS4B,GAAc5J,GAAM6J,MAC5EuB,EAAW8B,EAAYI,OAAOD,GAE9BE,EAAuBnC,EAASH,IAAKjL,IACzC,MAAMwN,EAAY9C,GAAsB1K,EAAMmN,GACxCM,EAAiB/C,GAAsB1K,EAAM0J,GACnD,MAAO,CACL1J,OACAoM,gBAAiBA,EAAgBqB,EAAgBD,MAGrDD,EAAqBG,KAAK,CAACC,EAAIC,IAAOA,EAAGxB,gBAAkBuB,EAAGvB,iBAC9DpH,QAAQC,IAAI,mBACZsI,EAAqBvD,QAAS6D,IAC5B7I,QAAQC,IAAI4I,EAAEzB,gBAAiByB,EAAE7N,QAI9B,SAAS8N,GACdC,EACAC,EACAC,GAEA,OAAQA,GACN,IAAK,eACH,MAAMC,EAA2C,CAC/CrE,KAAM,MACNsE,WAAY,CAACJ,EAAIC,IAEnB,OAAOE,EACT,IAAK,QACH,MAAME,EAAoC,CACxCvE,KAAM,KACNsE,WAAY,CAACJ,EAAIC,IAEnB,OAAOI,EACT,IAAK,aACH,MAAMC,EAAIN,EACJO,EAAIN,EACJO,EAAyB,CAC7B1E,KAAM,UACNO,UAAWkE,GAEPE,EAA8B,CAClC3E,KAAM,MACNsE,WAAY,CAACE,EAAGE,IAElB,OAAOC,EACT,IAAK,aACH,MAAMC,EAA6B,CACjC5E,KAAM,KACNsE,WAAY,CAACJ,EAAIC,IAEbU,EAA+B,CACnC7E,KAAM,UACNO,UAAWqE,GAEb,OAAOC,GAIN,SAASC,GAAmB5F,GACjC,MAAM,WACJI,EAAU,YACVC,EAAW,QACXE,EAAO,SACPN,EAAQ,KACRC,EAAI,OACJI,EAAM,MACN5I,GACEsI,EAEJ,OAAQE,GACN,KAAK1B,EAAKqH,OACR,OAAI5F,EACK,6BAA6BK,EAE7B,yBAAyBA,EAEpC,KAAK9B,EAAKsH,MACR,OAAI7F,EACK,eAAeG,SAAkBC,aAEjC,eAAeD,SAAkBC,UAE5C,KAAK7B,EAAK4C,WACR,OAAInB,EACK,GAAGM,QAAc7I,IAEjB,GAAG6I,OAAa7I,IAE3B,KAAK8G,EAAKuH,WACR,OAAI9F,EACK,GAAGM,QAAc7I,IAEjB,GAAG6I,OAAa7I,IAE3B,KAAK8G,EAAKwH,WACR,OAAI/F,EACK,GAAGM,QAAc7I,IAEjB,GAAG6I,OAAa7I,IAE3B,KAAK8G,EAAKyH,UACR,OAAIhG,EACK,GAAGG,qBAA8BE,IAEjC,GAAGF,eAAwBE,IAEtC,KAAK9B,EAAK0H,MACR,OAAIjG,EACQG,EAAH,aAEGA,EAAH,aAEX,QACE,MAAO,yDAIN,SAASe,GAAiBgF,GAC/B,MAAMpP,EAAIgJ,KACV,OAAOzK,OAAO8Q,OAAOrP,EAAGoP,GAGnB,SAASE,GAAarG,GAC3B,MAAMsG,EAAsBnE,IAAe,EAC3C,IAAIoC,EAAS+B,EAEb,IAAKC,GAAqBvG,GACxB,OAAOuE,EAGT,MAAM,SACJtE,EAAQ,KACRC,EAAI,WACJE,EAAU,YACVC,EAAW,OACXC,EAAM,QACNC,EAAO,MACP7I,GACEsI,EAEJ,OAAQA,EAAWE,MACjB,KAAK1B,EAAKqH,OACRtB,EAAUpC,IACR,MAAMhN,EAAIiN,GAAaD,GACvB,OAAOhN,EAAEqR,SAAWlG,GAEtB,MACF,KAAK9B,EAAKsH,MACRvB,EAAUpC,IACR,MAAMhN,EAAIiN,GAAaD,GACvB,OAAOhN,EAAEsR,YAAYrG,KAAgBjL,EAAEsR,YAAYpG,IAErD,MACF,KAAK7B,EAAK4C,WACRmD,EAAUpC,IACR,MAAMhN,EAAIiN,GAAaD,GACvB,OAAOhN,EAAEkN,SAAS9B,KAAa7I,GAEjC,MACF,KAAK8G,EAAKuH,WACRxB,EAAUpC,IACR,MAAMhN,EAAIiN,GAAaD,GACvB,OAAOhN,EAAEkN,SAAS9B,GAAW7I,GAE/B,MACF,KAAK8G,EAAKwH,WACRzB,EAAUpC,IACR,MAAMhN,EAAIiN,GAAaD,GACvB,OAAOhN,EAAEkN,SAAS9B,GAAW7I,GAE/B,MACF,KAAK8G,EAAKyH,UACR1B,EAAUpC,IACR,MAAMhN,EAAIiN,GAAaD,GACvB,OAAOhN,EAAEsR,YAAYrG,KAAgBE,GAEvC,MACF,KAAK9B,EAAK0H,MACR3B,EAAUpC,IACR,MAAMhN,EAAIiN,GAAaD,GACvB,OAAOhN,EAAEsR,YAAYrG,KAAgBjL,EAAEqR,QAEzC,MACF,QACEvK,QAAQ8E,MAAM,wCACd,MAGJ,MAAM2F,EAAyBvE,IAAgBoC,EAAOpC,GACtD,OAAQlC,EAAWyG,EAAgBnC,EAG9B,SAASjD,GAAsBvK,GACpC,MAAO,CACL+J,KAAM,SACN6F,YAAa,CAAC5P,GACd6P,OAAQ,IAIL,SAASC,GAAqB9P,GACnC,OAAOsP,GAAatP,GAGf,SAAS+P,GAAoBzO,GAClC,OAAQA,EAAEyI,MACR,IAAK,SACH,MAAMiG,EAAU1O,EAAEsO,YAAYzE,IAAI2E,IAClC,OAAQ1E,GAAe4E,EAAQC,MAAOlC,GAAMA,EAAE3C,IAChD,IAAK,UACH,MAAMoC,EAASuC,GAAoBzO,EAAEgJ,WACrC,OAAQc,IAAgBoC,EAAOpC,GACjC,IAAK,MACH,MAAM8E,EAAa5O,EAAE+M,WAAWlD,IAAI4E,IACpC,OAAQ3E,GAAe8E,EAAWD,MAAOlC,GAAMA,EAAE3C,IACnD,IAAK,KACH,MAAM+E,EAAY7O,EAAE+M,WAAWlD,IAAI4E,IACnC,OAAQ3E,GAAe+E,EAAUC,KAAMrC,GAAMA,EAAE3C,KAI9C,SAASZ,GAAuBlJ,EAAcsI,GACnD,MAAMyD,EAAyB,IAAIJ,GAAMrF,QAAQyI,mBAC5CzG,IACHA,EAAYyD,GAEd,MAAMG,EAASuC,GAAoBzO,GAC7BgP,EAAoB1G,EAAU4D,OAAOA,GAC3C,OAAO8C,EAGF,SAASd,GAAqBvG,GACnC,MAAM,KACJE,EAAI,WACJE,EAAU,YACVC,EAAW,OACXC,EAAM,QACNC,EAAO,MACP7I,GACEsI,EAEJ,OAAQE,GACN,KAAK1B,EAAKqH,OACR,QAAOvF,EACT,KAAK9B,EAAKsH,MACR,SAAO1F,IAAcC,GACvB,KAAK7B,EAAK4C,WACV,KAAK5C,EAAKuH,WACV,KAAKvH,EAAKwH,WACR,SAAOzF,IAAW7I,GACpB,KAAK8G,EAAKyH,UACR,SAAO7F,IAAcE,GACvB,KAAK9B,EAAK0H,MACR,QAAO9F,EACT,QACE,OAAO,GAIN,SAASkH,GAAqBjP,GACnC,MAAMkP,EAAiC,GAIjClF,GAFwB2B,GAAMrF,QAAQ6I,gBACVxD,GAAMrF,QAAQ8I,oBACrB,IAAIzD,GAAMrF,QAAQ0D,WACvCqF,EAAyBnG,GAAuBlJ,GAChDsI,EAAY+G,EAAaxF,IAAIE,IA6E7BuF,EAAuB,KAC3BtF,EAASpB,QAAShK,IAChB,MAAM2Q,EAAe/H,GAAeA,EAAMmH,MAAOpI,GAAMA,IAAMiB,EAAM,IAC7DiF,EAAIjE,GAAc5J,GAClB4K,EAASlB,EAAUuB,IAAK/M,GAAMA,EAAEkN,SAASpL,IAC/C,OAAQ6N,EAAEhE,MACR,IAAK,UACL,IAAK,cACH,GAAI8G,EAAS/F,GAAS,CACpB,MAAM7B,EAAamB,GAAiB,CAClCjB,KAAM1B,EAAK4C,WACXb,QAAStJ,EACTS,MAAOmK,EAAO,KAEhB0F,EAAiB5R,KAAKqK,GAExB,MACF,IAAK,UACH/D,QAAQ8E,MAAM,2DACd,MACF,IAAK,WACL,IAAK,QACH,MAAMyB,EAAMD,KAAKC,OAAOX,GAClBa,EAAMH,KAAKG,OAAOb,GACxB,GAAIW,IAAQE,EAAK,CACf,MAAM1C,EAAamB,GAAiB,CAClCjB,KAAM1B,EAAK4C,WACXb,QAAStJ,EACTuJ,aAAcqB,EAAO,KAEvB0F,EAAiB5R,KAAKqK,OACjB,CACL,MAAM4D,EAAazC,GAAiB,CAClCjB,KAAM1B,EAAKwH,WACX/F,UAAU,EACVM,QAAStJ,EACTuJ,aAAcgC,IAEVqB,EAAa1C,GAAiB,CAClCjB,KAAM1B,EAAKuH,WACX9F,UAAU,EACVM,QAAStJ,EACTuJ,aAAckC,IAEhB6E,EAAiB5R,KAAKiO,GACtB2D,EAAiB5R,KAAKkO,GAExB,UAKR8D,IAEA1L,QAAQC,IAAI,oBAAqBqL,GAGjC,MAAMM,EAAkBN,EAAiBrF,IAAIZ,IAGvCwG,EAAqB,CAACxE,EAAsBC,KAChD,MAAMwE,EAAehD,GAAkBzB,EAAWC,EAAU,gBACtDyE,EAAOzG,GAAuBwG,GAC9BE,EAAQ1G,GAAuB+B,GAC/B4E,EAAYF,EAAK3S,OAAS4S,EAAM5S,OACtC,OAAO6S,GAEHC,EAA2BN,EAAgB3F,IAAKkG,IAAS,CAC7D/G,UAAW+G,EACXF,UAAWJ,EAAmBM,EAAM/P,MAWtC,OAPA8P,EAAyBxD,KAAK,CAACK,EAAIC,IAAOA,EAAGiD,UAAYlD,EAAGkD,WAE5DjM,QAAQC,IAAI,6BACZiM,EAAyBlH,QAASmH,OAI3Bb,EAGF,SAASzH,GAAID,GAClB,OAAOA,EAAMwI,OAAO,CAACC,EAAOhD,IAAMgD,EAAQhD,EAAG,IH5lB/C,SAAYrH,GACV,mBACA,6BACA,0BAHF,CAAYA,MAAU,KA0CtB,SAAYC,GACV,oBACA,wBACA,oBACA,0BAJF,CAAYA,MAAY,KAwGxB,SAAYC,GACV,uBACA,uBAFF,CAAYA,MAAe,KA8B3B,SAAYC,GACV,oBACA,oBAFF,CAAYA,MAAiB,KAK7B,SAAYC,GACV,eACA,mBACA,aACA,eAJF,CAAYA,MAAU,KAiBtB,SAAYC,GACV,8BACA,iCACA,iCACA,6BACA,yCACA,4BACA,uCACA,0BACA,wCACA,+BACA,oBACA,6BACA,8BACA,uCACA,uBACA,2BACA,wBACA,sBACA,oBAnBF,CAAYA,MAAiB,KCtM7B,SAAYC,GACV,iCACA,2BACA,qBACA,+BAJF,CAAYA,MAAW,KAOvB,SAAYC,GACV,gCACA,+BACA,iCACA,uCACA,oCACA,aACA,mDACA,kCARF,CAAYA,MAAI,KGlBhB,MAAM+J,GAAO,UACPC,GAAW,UACXC,GAAY,UAMZC,GAAa,UACbC,GAAa,UACbC,GAAa,UACbC,GAAY,UACZC,GAAc,CAClB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAGIC,GAAQR,GACRS,GAAQ,UAER,GAAQ,UAEP,IAAI,GAAS,CAClBN,OACAC,WACAC,YACAE,eACAP,QACAC,YACAC,aACAI,aACA5E,kBAAmB,CACjBC,MAAO,UACP+E,OAAQ,UACRC,WAAY,aAEdH,SACAC,SACAG,MAAK,ICzBP,MAAMC,GAAK,EAAQ,QAEnB,OAAI1Q,IAAI,QAIR,MAAM4C,GACH,GAIY,WAAI,OAAK+N,MAAM,CAC5BlP,MAAO,CACLmP,WAAW,EACXC,aAAa,EACbC,WAAW,CACT,kBAAoB,GACpB,UAAY,GACZ,mBAAqB,GACrB,6BAA+B,GAC/B,eAAiB,GACjB,mBAAqB,GACrB,+BAAiC,GACjC,6BAA+B,GAC/B,WAAa,GACb,WAAa,IAEfC,kBAAkB,GAClBC,YAAa,GACbC,mBAAoB,GACpBC,aAAc,MACdC,UAAW,GACXC,oBAAqB,GACrBC,WAAY,KACZC,kBAAkB,GAClBC,WAAY,GACZC,WAAY,GACZC,kBAAmB,CACjBjG,MAAO,KACP+E,OAAQ,MAEVmB,eAAgB,GAChBC,0BAA2B,GAC3BC,4BAA6B,GAC7BC,0BAA2B,GAC3BC,8BAA+B,GAC/BC,qBAAsB,GACtBC,wBAAyB,GACzBC,+BAA+B,GAC/BC,eAAe,GACfC,wBAAwB,GACxBC,wBAAwB,GACxBC,4BAA4B,GAC5BC,+BAAgC,CAC9B5K,WAAY,GACZ6K,iBAAkB,GAEpBC,oCAAoC,CAClC9K,WAAW,GACX6K,iBAAkB,GAEpBvL,YAAa,WACbyL,UAAW,MACXC,YAAa,OACbC,cAAe,CACbC,YAAa,cACbnJ,IAAK,EACLxB,UAAW,IAAI4K,IACftU,KAAM,cACNmJ,WAAW,OACXoL,UAAU,OACVC,OAAO,GAETrR,cAAe,CACbnD,KAAM,GACNyU,QAAS,GACT/Q,YAAa,GACb0H,SAAU,GACV1B,UAAW,IAQbrF,YACAqQ,cAAe,GACfC,mBAAmB,GACnBC,iBAAkB,GAClB9E,QAAS,CACPlI,MAAO,CACLiC,KAAM3C,EAAgB2N,QACtBC,IAAK,IAAIR,KAEXnL,WAAY,CACVU,KAAM3C,EAAgB2N,QACtBC,IAAK,IAAIR,KAEXS,SAAU,CACRlL,KAAM3C,EAAgB2N,QACtBC,IAAK,IAAIR,MAQbtH,kBAAmB,CACjBC,MAAO,KACP+E,OAAQ,MAEVgD,iBAAkB,GAElBC,YAAa,KACbC,SAAU,KACVC,kBAAkB,EAElBC,gBAAiB,KACjBC,sBAAuB,GACvBC,kBAAmBnO,EAAkBoO,IACrC/N,MAAO,CACLgO,IAAK,CACHnO,EAAkBoO,GAClBpO,EAAkBqO,IAClBrO,EAAkBsO,IAClBtO,EAAkBuO,IAClBvO,EAAkBwO,GAClBxO,EAAkByO,GAClBzO,EAAkB0O,IAClB1O,EAAkB2O,IAClB3O,EAAkB4O,GAClB5O,EAAkB6O,IAClB7O,EAAkB8O,IAClB9O,EAAkB+O,GAClB/O,EAAkBgP,IAEpBC,KAAM,CACJjP,EAAkBoO,GAClBpO,EAAkBwO,KAMtBU,kBAAkB,GAEpBC,UAAW,CACT,eAAetT,EAAOuT,GACpB,OAAI3B,IAAI5R,EAAO,aAAcuT,IAE/B,gBAAgBvT,EAAOuT,GACrB,OAAI3B,IAAI5R,EAAO,eAAgBuT,IAEjC,cAAcvT,EAAOwT,GACnB,OAAI5B,IAAI5R,EAAMqP,WAAYmE,EAAO,QAASA,EAAO,YAEnD,sBAAsBpS,EAASqS,GAC7B,OAAI7B,IAAIxQ,EAAS,qBAAsBqS,IAEzC,gBAAgBC,EAAMC,GACpB,OAAI/B,IAAI8B,EAAM,eAAgBC,IAEhC,aAAaC,EAAYC,GACvB,OAAIjC,IAAIgC,EAAY,YAAaC,IAEnC,qBAAqBpC,EAAoBqC,GACvC,OAAIlC,IAAIH,EAAoB,qBAAsBqC,IAEpD,iBAAiBC,EAASD,GACxB,OAAIlC,IAAImC,EAAS,mBAAoBD,IAEvC,uCAAuCE,EAAgCC,GACrE,OAAIrC,IAAIoC,EAAgC,sCAAuCC,IAEjF,kCAAkCD,EAAgCC,GAChE,OAAIrC,IAAIoC,EAAgC,iCAAkCC,IAE5E,cAAcjU,EAAOkU,GACnB,OAAItC,IAAI5R,EAAO,aAAckU,IAE/B,2BAA2BlU,EAAOmU,GAChC,OAAIvC,IAAI5R,EAAO,0BAA0BmU,IAE3C,iCAAiCnU,EAAOoU,GACtC,OAAIxC,IAAI5R,EAAO,gCAAiCoU,IAElD,wBAAwBpU,EAAOqU,GAC7B,OAAIzC,IAAI5R,EAAO,uBAAwBqU,IAEzC,8BAA8BrU,EAAOsU,GACnC,OAAI1C,IAAI5R,EAAO,iCAAiCsU,IAElD,kBAAkBtU,EAAOuU,GACvB,OAAI3C,IAAI5R,EAAO,iBAAkBuU,IAEnC,2BAA2BvU,EAAOwU,GAChC,OAAI5C,IAAI5R,EAAO,0BAA2BwU,IAE5C,+BAA+BxU,EAAOyU,GACpC,OAAI7C,IAAI5R,EAAO,8BAA8ByU,IAE/C,qBAAqBzU,EAAO0U,GAC1B,OAAI9C,IAAI5R,EAAO,oBAAoB0U,IAErC,aAAc1U,EAAOsE,GACnB,OAAIsN,IAAI5R,EAAMsE,MAAO,MAAMA,IAE7B,aAAatE,EAAO2U,GAClB,OAAI/C,IAAI5R,EAAO,YAAa2U,IAE9B,0BAA0B3U,EAAO4U,GAC/B,OAAIhD,IAAI5R,EAAO,mBAAoB4U,IAErC,iBAAiB5U,EAAOkR,GACtB,OAAIU,IAAI5R,EAAO,gBAAiBkR,IAElC,aAAalR,EAAOsE,GAClB,OAAIsN,IAAI5R,EAAMsE,MAAO,OAAQA,IAE/B,eAAetE,EAAQ6U,GACrB,OAAIjD,IAAI5R,EAAO,cAAe6U,IAEhC,oBACE7U,EACA8U,GAKA,MAAM,aAACC,EAAY,UAAEC,GAAaF,EAC5BG,EAAuB9Z,OAAO8Q,OAAO,GAAIjM,EAAM8J,mBACrDmL,EAAqBF,GAAgBC,EACrC,OAAIpD,IAAI5R,EAAO,oBAAqBiV,GACpCnT,QAAQC,IAAI,OAAOgT,qBAAiC/U,EAAM8J,kBAAkBiL,KAE9E,mBACE/U,EACA8U,GAKA,MAAM,aAACC,EAAY,UAAEC,GAAaF,EAC5BG,EAAuB9Z,OAAO8Q,OAAO,GAAIjM,EAAMgQ,mBACrDiF,EAAqBF,GAAgBC,EACrC,OAAIpD,IAAI5R,EAAO,oBAAqBiV,IAEtC,eAAejV,EAAO8P,GACpB,OAAI8B,IAAI5R,EAAO,aAAc8P,IAE/B,mBAAmB9P,EAAOiQ,GACxB,OAAI2B,IAAI5R,EAAO,iBAAkBiQ,IAEnC,uBAAuBjQ,EAAO2P,GAC5B,OAAIiC,IAAI5R,EAAO,sBAAsB2P,IAEvC,qBAAqB3P,EAAO6P,GAC1B,OAAI+B,IAAI5R,EAAO,oBAAqB6P,IAEtC,cACE7P,EACA8U,GAKA,MAAMI,EAAYJ,EAAQE,UAC1B,OAAIpD,IAAI5R,EAAO,aAAckV,GAC7B,OAAItD,IAAI5R,EAAO,cAAe,WAEhC,oBAAoBA,EAAOmV,GACzB,OAAIvD,IAAI5R,EAAO,mBAAoBmV,GACnC,MAAMjO,EAAYlH,EAAM8R,iBAAiB,GAAG5K,UACxCA,GACFiG,GAAqBjG,IAGzB,6BAA6BlH,EAAOoV,GAClC,OAAIxD,IAAI5R,EAAO,4BAA6BoV,IAE9C,6BAA6BpV,EAAOqV,GAClC,OAAIzD,IAAI5R,EAAO,4BAA6BqV,IAE9C,+BAA+BrV,EAAOsV,GACpC,OAAI1D,IAAI5R,EAAO,8BAA+BsV,IAEhD,gBAAgBtV,EAAOgI,GACrB,OAAI4J,IAAI5R,EAAO,cAAegI,IAEhC,eAAehI,EAAOgI,GACpB,OAAI4J,IAAI5R,EAAO,WAAYgI,IAE7B,YAAYhI,EAAOuV,GACjB,OAAI3D,IAAI5R,EAAM,mBAAoBuV,IAEpC,mBAAmBvV,EAAOwV,GACxB,OAAI5D,IAAI5R,EAAO,kBAAmBwV,IAEpC,yBAAyBxV,EAAOyV,GAC9B,OAAI7D,IAAI5R,EAAO,wBAAyByV,IAE1C,kBACEzV,EACA8U,GAIC,MAAM,UAACE,GAAaF,EACpB,OAAIlD,IAAI5R,EAAO,kBAAkBgV,IAEpC,iBAAiBhV,EAAO0V,GACtB,OAAI9D,IAAI5R,EAAO,gBAAiB0V,IAElC,iBAAiB1V,EAAOgI,GACtB,OAAI4J,IAAI5R,EAAO,gBAAiBgI,IAElC,UACEhI,EACA8U,GAQA,OAAIlD,IAAI5R,EAAM4M,QAASkI,EAAQa,WAAYb,EAAQc,aAGvDC,QAAS,CACP,YAAYC,GACV,MAAMC,EAAuBpX,KAAKqB,MAAMwP,mBAAmB,wBAAwBzH,IAAKnL,GAAIA,EAAEE,MAAMsN,OAAQxN,GAAO,cAAHA,GAAoB,cAAHA,GACjIkZ,EAAQE,OAAO,eAAgBD,GAC/B,MAAMpN,EAAahK,KAAKqB,MAAMwP,mBAAmB,wBAAwBpF,OAAQxN,GAAY,cAARA,EAAEE,MACjFmZ,EAAatX,KAAKqB,MAAMwP,mBAAmB,wBAAwBpF,OAAQxN,GAAY,cAARA,EAAEE,MAEvF,GAAI6L,EAAWzN,OAAS,EAAG,CACzB,IAAIgb,EAAO,GACP1V,EAAcrF,OAAO+F,KAAK4U,EAAQ9V,MAAM2Q,yBAC5CnQ,EAAYsG,QAASlK,IACfzB,OAAO+F,KAAKyH,EAAW,GAAG6K,QAAQ1O,SAASlI,IAAS,IAAHA,IACnDsZ,EAAItZ,GAAM+L,EAAW,GAAG6K,OAAO5W,MAGnCkZ,EAAQE,OAAO,6BAA6BE,GAE9C,GAAID,EAAW/a,OAAS,EAAG,CACzB,IAAIoU,EAAoB,GACxBnU,OAAO+F,KAAKvC,KAAK6F,QAAQmM,yBAAyB7J,QAASlK,IACzD,GAAS,IAALA,EAAS,CACX,IAAIuZ,EAAaC,WAAYH,EAAW,GAAGzC,OAAO5W,GAAGyZ,MAAM,KAAK,IAC5DC,EAAcF,WAAYH,EAAW,GAAGzC,OAAO5W,GAAGyZ,MAAM,KAAK,IACjE/G,EAAkB1S,GAAK,CACrB,WAAauZ,EAAY,YAAcG,MAK7CR,EAAQE,OAAO,uBAAuB1G,GAExCwG,EAAQE,OAAO,iBAAkBrX,KAAKqB,MAAMwP,mBAAmB,yBAC/DsG,EAAQE,OAAO,kBAAmBF,EAAQ9V,MAAMoP,aAAa,IAE/D,kBAAkB0G,EAASjB,GACzBiB,EAAQE,OAAO,gBAAiBnB,IAElC,YAAYiB,GACV,MAAMS,EAAW,oBACjBpU,WAAW,KACT8M,GAAGuH,SAASD,EAAU,SAAS,SAASE,EAAK/b,GAC3C,IAAI8Y,EAASkD,KAAKC,MAAMjc,GACxB,MAAMqb,EAAuBvC,EAAO,wBAAwBzL,IAAKnL,GAAIA,EAAEE,MAAMsN,OAAQxN,GAAO,cAAHA,GAAoB,cAAHA,GAC1GkZ,EAAQE,OAAO,eAAgBD,GAC/B,MAAMpN,EAAa6K,EAAO,wBAAwBpJ,OAAQxN,GAAY,cAARA,EAAEE,MAC1DmZ,EAAazC,EAAO,wBAAwBpJ,OAAQxN,GAAY,cAARA,EAAEE,MAC1D8Z,EAAapD,EAAO,wBAAwBpJ,OAAQxN,GAAY,cAARA,EAAEE,MAUhE,GARA8Z,EAAW,GAAG,UAAU,aAAe,IAAIxF,IAAIwF,EAAW,GAAG,UAAU,cACvEd,EAAQxV,SAAS,4BAA6BsW,EAAW,GAAGpD,QAC5DsC,EAAQxV,SAAS,6BAA8B,SAG3CqI,EAAWzN,OAAS,GACtB4a,EAAQE,OAAO,6BAA6BrN,EAAW,GAAG6K,QAExDyC,EAAW/a,OAAS,EAAG,CACzB,IAAIoU,EAAoB,GACxBnU,OAAO+F,KAAK4U,EAAQ9V,MAAM2Q,yBAAyB7J,QAASlK,IAC1D,IAAIuZ,EAAaC,WAAYH,EAAW,GAAGzC,OAAO5W,GAAGyZ,MAAM,KAAK,IAC5DC,EAAcF,WAAYH,EAAW,GAAGzC,OAAO5W,GAAGyZ,MAAM,KAAK,IACjE/G,EAAkB1S,GAAK,CACrB,WAAauZ,EAAY,YAAcG,KAG3CR,EAAQE,OAAO,uBAAuB1G,GAExCwG,EAAQE,OAAO,iBAAkBxC,EAAO,yBACxCsC,EAAQE,OAAO,kBAAmBF,EAAQ9V,MAAMoP,aAAa,OAG/D,MAEJ,UAAU0G,GACRA,EAAQE,OAAO,iBAAkBF,EAAQ9V,MAAMmP,WAAW,IAE5D,YAAY2G,GACV,MAAMS,EAAW,oBACjBpU,WAAW,KACT,MAAM0U,EAAYf,EAAQ9V,MAAMsE,MAAM8O,KAChC0D,EAAe3b,OAAO+F,KAAK4U,EAAQ9V,MAAMqP,YAC/C,IAAImE,EAAS,CAAE,qBAAuB,IACtCqD,EAAU/P,QAASlK,IACG,cAAhBA,EAAEma,aACAD,EAAahS,SAAS,GACxB0O,EAAO,wBAAwBhY,KAAK,CAAC,KAAOoB,EAAE,OAASkZ,EAAQ9V,MAAMqP,WAAWzS,KAEhF4W,EAAO,wBAAwBhY,KAAK,CAAC,KAAOoB,OAIlD,IAAIga,EAAa,GACjB,IAAK,IAAI/Y,KAAOiY,EAAQ9V,MAAM8R,iBAAiB,GAE3C8E,EAAW/Y,GADF,aAAPA,EACgB,IAAIiY,EAAQ9V,MAAM8R,iBAAiB,GAAGjU,IAEtCiY,EAAQ9V,MAAM8R,iBAAiB,GAAGjU,GAIxD,GADA2V,EAAO,wBAAwBhY,KAAK,CAAC,KAAO,aAAa,OAASob,IAChC,cAA9Bd,EAAQ9V,MAAMuF,YAA8B,CAC9CiO,EAAO,wBAAwBhY,KAAK,CAAC,KAAO,aAAc,OAASsa,EAAQ9V,MAAM2Q,0BACjF,IAAIsF,EAAa,GACbtF,EAA0BmF,EAAQ9V,MAAM2Q,wBAC5CxV,OAAO+F,KAAKyP,GAAyB7J,QAASlK,IAC5CqZ,EAAWrZ,GAAM+B,KAAK6F,QAAQiN,mBAAmB7U,GAAgB,cAAEoa,QAAQ,GAAK,IAAOrY,KAAK6F,QAAQiN,mBAAmB7U,GAAiB,eAAEoa,QAAQ,KAEpJxD,EAAO,wBAAwBhY,KAAK,CAAC,KAAO,aAAc,OAASya,IAErE,MAAMgB,EAAcP,KAAKQ,UAAU1D,GACnCvE,GAAGkI,UAAUZ,EAAUU,GAAa,gBACnC,MAEL,eAAenB,EAASsB,GACtB,MAAMC,EAAWD,EAAoBC,SAC/BC,EAAIF,EAAoBE,EACxBC,EAAIH,EAAoBG,EACxB5C,EAAQyC,EAAoBzC,MAC5B6C,EAASJ,EAAoBI,OAC7Bpa,EAAKga,EAAoBha,EACzBqa,EAAQL,EAAoBK,MAE5BC,EAAoBN,EAAoBM,kBACxCC,EAAKP,EAAoBO,GACzBC,EAAKR,EAAoBQ,GACzBC,EAAiBT,EAAoBS,eACrCC,EAAUV,EAAoBU,QAGpCT,EAASU,OAAO,QACbC,KAAK,QAAQ,kBAAkBH,GAC/BG,KAAK,IAAKV,GACVU,KAAK,IAAKT,GACVS,KAAK,QAASrD,GACdqD,KAAK,SAASR,GACdQ,KAAK,OAAQP,GACbO,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,QAE1BX,EAASU,OAAO,UACbC,KAAK,QAAS,oBAAoBH,GAClCG,KAAK,KAAML,GACXK,KAAK,KAAMJ,GACXI,KAAK,IAAK5a,GACVuH,MAAM,OAAQ8S,GACdO,KAAK,SAAU,QACfA,KAAK,aAAcN,GAGtBL,EAASU,OAAO,UACXC,KAAK,QAAQ,mBAAmBH,GAChCG,KAAK,KAAML,GACXK,KAAK,KAAMT,EAAIC,EAAO,GACtBQ,KAAK,IAAKrZ,KAAKqB,MAAMiS,iBAAqB,EAAF7U,EAAKA,EAAE,KAC/CuH,MAAM,OAAQ,GAAOqK,OACrBgJ,KAAK,SAAU,SACfA,KAAK,eAAgB,GACrBA,KAAK,aAAcF,EAAQ,UAAU,WAG5C,WAAWhC,GACTA,EAAQE,OAAO,eAAe,GAC9B7T,WAAW,KACT2T,EAAQE,OAAO,eAAe,IAC7B,MAEL,eAAeF,GACbA,EAAQE,OAAO,eAAgBrX,KAAKqB,MAAMiS,mBAE5C,iBAAiB6D,EAASmC,GACxBnC,EAAQE,OAAO,eAAgBiC,IAEjC,sBACEnC,EACAhB,GAKAgB,EAAQE,OAAO,gBAAiBlB,GAChCgB,EAAQxV,SAAS,4BACjBwV,EAAQxV,SAAS,4BAEnB,mBAAmBwV,EAASoC,GAC1BpC,EAAQE,OAAO,iBAAiBkC,IAElC,sBAAsBpC,EAASqC,GAC7BrC,EAAQE,OAAO,qBAAqBmC,IAEtC,0BAA0BrC,EAASsC,GACjCtC,EAAQE,OAAO,yBAA0BoC,IAE3C,yBAAyBtC,EAASuC,GAChCvC,EAAQE,OAAO,uBAAwBqC,GACvCvC,EAAQxV,SAAS,4BACjBwV,EAAQxV,SAAS,0BAEnB,gBAAgBwV,EAASwC,GACvBxC,EAAQE,OAAO,cAAcsC,IAE/B,iCAAkCxC,EAASvY,GACzCuY,EAAQE,OAAO,+BAAgCzY,GAC/CuY,EAAQxV,SAAS,4BAEnB,iCAAiCwV,EAASvY,GACxCuY,EAAQE,OAAO,+BAA+BzY,IAEhD,sBAAsBuY,EAASvY,GAC7BuY,EAAQE,OAAO,oBAAqBzY,IAEtC,mCAAmCuY,EAASvY,GAC1CuY,EAAQE,OAAO,iCAAkCzY,IAEnD,+BAA+BuY,EAASyC,GACtCzC,EAAQE,OAAO,6BAA6BuC,GAC5CzC,EAAQxV,SAAS,4BAEnB,qCAAqCwV,EAASzF,GAC5CyF,EAAQE,OAAO,mCAAoC3F,IAErD,4BAA4ByF,EAASxF,GACnCwF,EAAQE,OAAO,0BAA2B1F,IAE5C,2BAA2BwF,EAAStF,GAClCsF,EAAQE,OAAO,gCAAgCxF,IAEjD,2CAA2CsF,EAAS0C,GAClD1C,EAAQE,OAAO,yCAAyCwC,GACxD1C,EAAQE,OAAO,oCAAoCwC,GACnD1C,EAAQxV,SAAS,6BAEnB,2BAA2BwV,EAAQ0C,GACjC1C,EAAQE,OAAO,oCAAoCwC,GACnD1C,EAAQxV,SAAS,6BAEnB,gBAAgBwV,GACkB,QAA5BA,EAAQ9V,MAAMgR,UAChB8E,EAAQE,OAAO,eAAsB,IAAM,EAAK,KAEhDF,EAAQE,OAAO,eAAgB,QAGnC,mBAAmBF,EAAS2C,GACL,UAAjBA,EAAS5a,KACXiY,EAAQE,OAAO,4BAA+C,UAAlByC,EAAS9R,OAGzD,uBACEmP,EACAhB,GAKAgB,EAAQE,OAAO,qBAAsBlB,IAEvC,wBACEgB,EACAhB,GAKAgB,EAAQE,OAAO,sBAAuBlB,IAExC,mBAAmBgB,GACjBA,EAAQE,OAAO,mBAAoB,KAErC,SAASF,EAASzV,GAChB,MAAMqY,EAAY5C,EAAQ9V,MAAMsE,MAAM8O,KAChCuF,EAAW,IAAID,EAAWrY,GAChCyV,EAAQE,OAAO,eAAgB2C,IAEjC,UAAU7C,EAAS9M,GACjB,MAAM0P,EAAY5C,EAAQ9V,MAAMsE,MAAM8O,KAChCuF,EAAWD,EAAUtO,OAAO,CAAC/J,EAAMrF,IAAMA,IAAMgO,GACrD8M,EAAQE,OAAO,eAAgB2C,IAEjC,iBAAiB7C,GACf,MAAM8C,EAAczd,OAAO+F,KAAK4U,EAAQ9V,MAAMmB,UAC9C,GAA2B,IAAvByX,EAAY1d,OAEd,YADA4G,QAAQ8E,MAAM,4DAGhB,MAAMiS,EAAeD,EAAY,GACjC9C,EAAQxV,SAAS,uBAAwBuY,IAE3C,0BAA0B/C,EAAShB,GAEjC,GADAhT,QAAQC,IAAI+S,GACRgB,EAAQ9V,MAAMqT,kBAAoByC,EAAQ9V,MAAM8R,iBAAiB5W,OAAS,EAAG,CAC/E,MAAM4d,EAAsBhD,EAAQ9V,MAAM8R,iBACpCkD,EAA6B,CACjC7D,YAAa2D,EAAQ3D,YACrBnJ,GAAI8Q,EAAoB5d,OACxBsL,UAAWsO,EAAQtO,UACnB1J,KAAM,UACNwU,OAAQ,GAENwD,EAAQ5N,YACV8N,EAAU9N,UAAY4N,EAAQ5N,WAEhC,MAAM6R,EAAsB,CAAC/D,KAAc8D,GAC3ChD,EAAQE,OAAO,sBAAuB+C,OACjC,CACLjX,QAAQC,IAAI,cACZ,MAAM+W,EAAsBhD,EAAQ9V,MAAM8R,iBACpCkH,EAAgBlD,EAAQ9V,MAAM8R,iBAAiB,GACrD,IAAItL,EAAY,IAAI4K,IAAI,IAAI4H,EAAcxS,aAAcsO,EAAQtO,YAC5DyS,EAAmB,SAAWD,EAAchR,GAAK,KAAO8M,EAAQ3D,YAAc,IAClF,MAAM6D,EAA6B,CACjC7D,YAAa8H,EACbjR,GAAI8Q,EAAoB5d,OACxBsL,UAAWA,EACX1J,KAAM,UACNwU,OAAO,GAELwD,EAAQ5N,WAAa8R,EAAc9R,YACrC8N,EAAU9N,UAAY0D,GAAkBkK,EAAQ5N,UAAW8R,EAAc9R,UAAW,UAEtF,MAAM6R,EAAsB,CAAC/D,KAAc8D,GAC3ChD,EAAQE,OAAO,sBAAuB+C,KAG1C,sBAAsBjD,GACpB,MACMoD,EAA2C,CAC/C,CACElR,GAAI,EACJlL,KAAM,WACNqU,YAAa,mBACb3K,UAAW,IAAI4K,IAAIjW,OAAO+F,KAAK4U,EAAQ9V,MAAMC,cAAcuG,YAC3D8K,OAAO,IAIXwE,EAAQE,OAAO,sBAAuBkD,GACL,cAA7BpD,EAAQ9V,MAAMuF,aAChBuQ,EAAQxV,SAAS,yBAEnB,MAAM4Q,EAAgBgI,EAAsB,GAC5CpD,EAAQE,OAAO,mBAAoB9E,GACnC4E,EAAQE,OAAO,sBAAuB,CAAEjB,aAAc,QAASC,UAAW,OAC1Ec,EAAQE,OAAO,sBAAuB,CAAEjB,aAAc,SAAUC,UAAW,QAE7E,qBAAqBc,EAAS5E,GAC5B4E,EAAQE,OAAO,mBAAoB9E,IAerC,eAAe4E,EAASqD,GAMtBrD,EAAQE,OAAO,kBAAkB,MACjC,IAAIoD,EAAcD,EAAWE,SAAS,KAAOF,EAAaA,EAAa,IACvE,MAAMG,EAAY,CAChB,gBACA,cACA,gBAEFC,QAAQjH,IAAIgH,EAAUvR,IAAKyR,IACzB,MAAMC,EAAML,EAAcI,EACpBE,EAAWF,EAASnD,MAAM,KAAKsD,MACrC,OAAOC,MAAMH,GACVI,KAAMC,GACAA,EAASC,GAGPD,EAASpW,OAFP6V,QAAQS,OAAOF,EAASvE,SAIlCsE,KAAMnf,IACL,OAAQgf,GACN,IAAK,MACH,OAAOjR,GAAA,KAAY/N,GACrB,IAAK,OACH,OAAOgc,KAAKC,MAAMjc,GACpB,QACE,OAAOA,KAGZuf,MAAMrT,IACL9E,QAAQC,IAAI,qCACZ+T,EAAQxV,SAAS,mBAAoB,cAEvCuZ,KAAMnf,IACR,IAAKwf,EAAUC,EAAaC,GAAgB1f,EAC5C,MAAM2f,EAAY,KAChB,MAAMC,EAA4B,KAChC,MAAMC,EAAe,IAAInJ,IAAI8I,EAAS1Z,aAChCga,EAAe,IAAIpJ,IAAI+I,EAAYM,QAAQrQ,OAAQkN,IAAe,CAAC,KAAM,UAAUxS,SAASwS,KAC5FoD,EAAWC,GAAIJ,EAAcC,GAC/BE,EAASE,KAAO,GAClB9Y,QAAQ8E,MAAM,0FAGlB0T,IAEA,MAAMO,EAAsB,KACtBV,EAAYjf,SAAWkf,EAAalf,QACtC4G,QAAQ8E,MAAM,yDAGlBiU,IAEA,MAAMC,EAAuB,KAC3B,MAAMC,EAAqCZ,EAC3Chf,OAAOuM,OAAOqT,GAAOjU,QAAS1J,IAC5BjC,OAAOuM,OAAOtK,GAAG0J,QAASkU,IACL,KAAfA,GACFlZ,QAAQ8E,MAAM,kCAKtBkU,KAEFT,IAEA,MAAMY,EAAa7B,EAAY/C,MAAM,KAC/BvZ,EAAOme,EAAWA,EAAW/f,OAAS,GACtCqW,EAAoB2I,EAAS3I,QAAQxJ,IAAKnL,GAAWA,EAAEma,YACvDvW,EAAwB0Z,EAAS1Z,YAAYuH,IAAKnL,GAAWA,EAAEma,YAC/DmE,EAAyB/f,OAAO+F,KAAKgZ,EAAShS,UAAUkC,OAAQO,GAAY,OAANA,GAE5E,GAAIuQ,EAAapW,SAAS,SAAU,CAClC,IAAIqW,EAAe,GACnBf,EAAatT,QAAS6D,IACpBA,EAAE,gBAAkBA,EAAE,SAASzP,OAC/BigB,EAAa3f,KAAKmP,KAEpByP,EAAee,EACfjB,EAAS,YAAY,gBAAkB,CACrC,YAAe,cACf,KAAQ,SAIZ,MAAMkB,EAAgBjB,EAAYpS,IAAK/M,GAAIA,EAAEwF,EAAY,KACnD6a,EAAcD,EAAchR,QAAO,SAASkR,EAAMC,GACpD,OAAOH,EAAcI,QAAQF,IAASC,KAI1C5c,KAAKqB,MAAMsE,MAAMgO,IAAM,CACrBnO,EAAkBgP,GAClBhP,EAAkBoO,GAClBpO,EAAkBqO,IAClBrO,EAAkBsO,IAClBtO,EAAkBuO,IAClBvO,EAAkBwO,GAClBxO,EAAkB0O,IAClB1O,EAAkB2O,IAClB3O,EAAkB+O,GAClB/O,EAAkB4O,GAClB5O,EAAkB6O,IAClB7O,EAAkB8O,KAGpBtU,KAAKqB,MAAMuF,YAAc,WACrB8V,EAAWngB,OAASqW,EAAQrW,SAC9ByD,KAAKqB,MAAMuF,YAAc,aACzB5G,KAAKqB,MAAMsE,MAAMgO,IAAM,CACrBnO,EAAkBgP,GAClBhP,EAAkBoO,GAClBpO,EAAkBqO,IAClBrO,EAAkBsX,GAClBtX,EAAkBuX,GAClBvX,EAAkBwX,GAClBxX,EAAkByX,GAClBzX,EAAkB0X,IAClB1X,EAAkB2X,IAClB3X,EAAkByO,GAClBzO,EAAkBuO,IAClBvO,EAAkBwO,GAClBxO,EAAkB0O,IAClB1O,EAAkB2O,IAClB3O,EAAkB+O,GAClB/O,EAAkB4O,GAClB5O,EAAkB6O,IAClB7O,EAAkB8O,MAItB,MAAMzM,EAAsC,GAC5C2T,EAAYrT,QAAQ,CAClB/K,EAKAiN,KAEA,MAAM+S,EAAyB,GACzB5F,EAAa,GACbG,EAAc,GAOpB,GANA9V,EAAYsG,QAASlK,IACjBmf,EAAuBnf,GAAKwZ,WAAWra,EAAOa,IAAIoa,QAAQ,GAAK,GAC/Db,EAAWvZ,GAAK,IAChB0Z,EAAY1Z,GAAK,MAGS,cAA1B+B,KAAKqB,MAAMuF,YAA6B,CAC1C,IAAIyW,EAA2B,GAC/Bxb,EAAYsG,QAASlK,IACnBof,EAAyBxgB,KAAKoB,WAEhCkZ,EAAQE,OAAO,iCAAiCgG,GAEhD,IAAIC,EAA2B,GAC/Bzb,EAAYsG,QAASlK,IACnBqf,EAAyBrf,GAAK,KAEhCkZ,EAAQE,OAAO,6BAA6BiG,GAC5Czb,EAAYsG,QAASlK,IACfwZ,WAAWra,EAAOa,IAAM+B,KAAKqB,MAAM2Q,wBAAwB/T,GAAK,IAClEb,EAAOa,GAAK2U,EAAQ,GAEpBxV,EAAOa,GAAK2U,EAAQ,KAKxB5S,KAAKqB,MAAM4Q,4BAA4B9J,QAASlK,IAC9C,IAAIsf,EAAStf,EAAEyZ,MAAM,KACjBpQ,EAAYrJ,EAAEuf,UAAU,EAAEvf,EAAE1B,OAAOghB,EAAOA,EAAOhhB,OAAO,GAAGA,OAAO,GAClEkhB,EAAYhG,WAAW8F,EAAOA,EAAOhhB,OAAO,IAC5Ckb,WAAW2F,EAAuB9V,IAAemW,EAAY,IAC/DrgB,EAAOa,GAAK2U,EAAQ,GAEpBxV,EAAOa,GAAK2U,EAAQ,KAM1B,MAAOvJ,GAAIqU,EAAG,OAAEhQ,GAA0BtQ,EAAfuQ,EAAW,gBAAIvQ,EAApC,iBACA,EAAyBqe,EAAapR,IAArChB,GAAIsU,GAAG,EAAKpU,EAAQ,kBAArB,QACFmU,IAAQC,EAIZ9V,EAAUwC,GAAS,CACjBqD,SACAC,cACAyP,yBACA5F,aACAG,cACApO,YATApG,QAAQ8E,MAAM,oDAAoDyV,EAAIC,KAa1E,MAAMC,EAAsB,KAC1B,MAAMC,EAAmB,oBACzBhc,EAAYic,QAAQD,GACpBrhB,OAAOuM,OAAOlB,GAAWM,QAAS9L,IAChC,MAAM0hB,EAAcnL,EAAQnJ,KAAKuU,MAAMvU,KAAKwU,SAAWrL,EAAQrW,SAC/DF,EAAEsR,YAAYkQ,GAAoBE,KAGtCH,IAEA,MAAMM,EAAwB,KAC5B,MAAMC,EAAqB,sBAC3Btc,EAAYic,QAAQK,GACpB,MAAMC,EAA+C,GACrDxL,EAAQzK,QAASuK,GAAc0L,EAAY1L,GAAa,GACxDlW,OAAOuM,OAAOlB,GAAWM,QAAS9L,GAAM+hB,EAAY/hB,EAAEqR,WACtD,IAAI2Q,EAAgB7hB,OAAO+F,KAAK6b,GAAa,GAC7C5hB,OAAO+F,KAAK6b,GAAajW,QAASuK,IAC5B0L,EAAY1L,GAAa0L,EAAYC,KACvCA,EAAgB3L,KAGpBlW,OAAOuM,OAAOlB,GAAWM,QAASkB,GAAOA,EAAGsE,YAAYwQ,GAAsBE,IAEhFH,IAEA,MAAMI,EAAY,KAChB,MAAMC,EAAS,SACf1c,EAAYic,QAAQS,GACpB/hB,OAAOuM,OAAOlB,GAAWM,QAAS9L,GAAMA,EAAEsR,YAAY4Q,GAAUliB,EAAEqR,SAEpE4Q,IAEA,MAAME,EAEFjD,EAAShS,SACPkV,EAAqB,KACzB,MAAMlT,EAAe,CACnB,cACA,WACA,UACA,UACA,SAEF/O,OAAO+F,KAAKic,GAAgBrW,QAASP,IACnC,MAAMoE,EAAIwS,EAAe5W,GACpBoE,EAAEwG,aACLrP,QAAQ8E,MAAM,WAAWL,yBAEtB2D,EAAapF,SAAS6F,EAAEhE,OAC3B7E,QAAQ8E,MAAM,WAAWL,8CAAwDoE,EAAEhE,oBAIzFyW,IAEA,MAAMC,EAAgB,CACpBvgB,OACAyU,UACA/Q,cACA0H,SAAUiV,EACV3W,aAEErL,OAAO+F,KAAKic,GAAgBrY,SAAS,iBACvCgR,EAAQ9V,MAAMiR,YAAc,OAE5B6E,EAAQ9V,MAAMiR,YAAc,OAEqB,GAAhD9V,OAAO+F,KAAK4U,EAAQ9V,MAAM+P,YAAY7U,SACvC4a,EAAQ9V,MAAMiR,YAAc,UAG9B6E,EAAQE,OAAO,mBAAoBqH,GACnCvH,EAAQxV,SAAS,yBAGa,cAA1B3B,KAAKqB,MAAMuF,aACbuQ,EAAQxV,SAAS,+BAKvB,mBAAmBwV,GACjBA,EAAQE,OAAO,gBAAgB,OAEjC,sBAAsBF,GACpBA,EAAQE,OAAO,gBAAgB,OAE/B,MAAMlE,EAAoBnT,KAAKqB,MAAM8R,iBAC/BtL,EAAsB,IAAI7H,KAAK6F,QAAQyI,mBACvCqQ,EAAmB,CACvB,SACA,sBACA,qBAEI9c,EAAwB,IAAK7B,KAAK6F,QAAQ8I,qBAC1CiQ,EAAuB5e,KAAK6F,QAAQiN,mBAE1C,GAAgD,GAA5CtW,OAAO+F,KAAKqc,GAAsBriB,OACpC,OAGF,IAAIsiB,EAAoB,CAAC,QAAS,QAAS,YAAa,OAAQ,OAAQ,WAAY,UAAW,WAAY,MACrG,gBAAiB,gBAAiB,gBAAiB,iBACnD,eAAe,eAAe,eAAe,eAAgB,iBAAkB,iBAAkB,iBAAkB,iBAAkB,WACvIC,EAAoB,CAAC,KAAK,KAAK,KAAK,KAAM,OAAQ,OAAQ,OAAQ,OACtE,WAAY,MAAO,YAAa,SAAU,MACtCC,EAAwC,CAAC,eAAe,eAAe,eAAe,eAAgB,iBAAkB,iBAAkB,iBAAkB,kBAC5JpR,EAAc,GAEdqR,EAAkB,GAEtBnX,EAAUM,QAASlK,IACjB+gB,EAAgB/gB,GAAK,IAGvBkV,EAAiBhL,QAASxK,IACxB,IAAIshB,EAAgB,IAAIthB,EAAEkK,WACtB8K,EAAS8E,WAAY9Z,EAAQ,OAAEya,YACnC6G,EAAc9W,QAAS9L,IACrB2iB,EAAgB3iB,IAAMsW,MAI1B9Q,EAAYsG,QAASlK,IACf0gB,EAAiBxY,SAASlI,IAC5B0P,EAAY1P,GAAK,GACjB4gB,EAAkB1W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB3gB,GAAG6H,KAE9CgZ,EAAkB3W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB3gB,GAAG6H,OAG9C6H,EAAY1P,GAAK,GACjB4gB,EAAkB1W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB3gB,GAAG6H,MAGhDiZ,EAAsB5W,QAAS+W,IAC7B,IAAIC,EAAgB,IAAIxR,EAAY1P,GAAGihB,IACnCE,EAAYF,EAAQ1B,UAAU,EAAI0B,EAAc,OAAE,IAClDG,EAAQ,EACZF,EAAchX,QAAS9L,IACrBgjB,GAASL,EAAgB3iB,KAE3BsR,EAAY1P,GAAGmhB,GAAaC,IAE9B,IAAIC,EAAU3R,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGuhB,KAC7CC,EAAU9R,EAAY1P,GAAGyhB,GAAK/R,EAAY1P,GAAG0hB,KAC7CC,EAAUjS,EAAY1P,GAAG4hB,GAAKlS,EAAY1P,GAAG6hB,KAC7CC,EAAUpS,EAAY1P,GAAGwC,GAAKkN,EAAY1P,GAAG+hB,KACjDrS,EAAY1P,GAAGgiB,UAAaX,EAAUG,IAAYH,EAAUM,EAAUH,EAAUM,GAChFpS,EAAY1P,GAAGmR,UAAY,GAAckQ,EAAUM,GACnDjS,EAAY1P,GAAGiiB,OAAS,GAAaZ,EAAUS,GAC/CpS,EAAY1P,GAAG6N,GAAM6B,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAAU,EAAK,EAAI,EAAIvS,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAAUvS,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAC1E,GAArGzW,KAAK0W,MAAMb,EAAUM,IAAYN,EAAUS,IAAYN,EAAUG,IAAYH,EAAUM,MAC1FpS,EAAY1P,GAAGmiB,IAAM,IAElBd,EAAQM,IAAUN,EAAQS,IAAUN,EAAQG,IAAUH,EAAQM,IAAY,IAC7EpS,EAAY1P,GAAGmiB,KAAQd,EAAQG,EAAQG,EAAQG,GAAWtW,KAAK0W,MAAMb,EAAUM,IAAYN,EAAUS,IAAYN,EAAUG,IAAYH,EAAUM,OAIrJ5I,EAAQE,OAAO,mBAAoB1J,IAErC,wBAAwBwJ,GAEtB,MAAMvE,EAAoB,IAAI5S,KAAK6F,QAAQ6I,iBACrCiQ,EAAmB,CACvB,SACA,sBACA,qBAEI9c,EAAwB,IAAK7B,KAAK6F,QAAQ8I,qBAC1C9G,EAAsB,IAAI7H,KAAK6F,QAAQyI,mBACvC0D,EAA0BhS,KAAKqB,MAAM2Q,wBACrCJ,EAA0B5R,KAAKqB,MAAMuQ,wBACrCgN,EAAuB5e,KAAK6F,QAAQiN,mBAC1C,IAAIvB,EAA4BvR,KAAKqB,MAAMkQ,0BACvCsN,EAAoB,CAAC,QAAS,QAAS,YAAa,OAAQ,OAAQ,WAAY,UAAW,WAAY,OACvGC,EAAoB,CAAC,gBAAiB,gBAAiB,gBAAiB,iBAC5E,KAAK,KAAK,KAAK,KAAM,OAAQ,OAAQ,OAAQ,OAC7C,eAAe,eAAe,eAAe,eAAgB,iBAAkB,iBAAkB,iBAAkB,iBACnH,WAAY,MAAO,YAAa,SAAU,KAAM,MAAO,WAEnDnR,EAAc,GAClB9L,EAAYsG,QAASlK,IACnB,GAAI0gB,EAAiBxY,SAASlI,GAC5B0P,EAAY1P,GAAK,GACjB4gB,EAAkB1W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB3gB,GAAG6H,KAE9CgZ,EAAkB3W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB3gB,GAAG6H,UAG3C,GAAI2D,KAAK4W,IAAIzB,EAAqB3gB,GAAGqiB,cAAgBtO,EAAwB/T,GAAI,KAAO,QACtFzB,OAAO+F,KAAKqP,GAAyBzL,SAASlI,IAAMwL,KAAK4W,IAAIzB,EAAqB3gB,GAAGsiB,cAAgB3O,EAAwB3T,GAAGuZ,YAAc,SAC9Ihb,OAAO+F,KAAKqP,GAAyBzL,SAASlI,IAAMwL,KAAK4W,IAAIzB,EAAqB3gB,GAAGuiB,eAAiB5O,EAAwB3T,GAAG0Z,aAAe,MACnJhK,EAAY1P,GAAK,GACjB4gB,EAAkB1W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB3gB,GAAG6H,KAE9CgZ,EAAkB3W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB3gB,GAAG6H,SAE3C,CACL,IAAI2a,EAAM,EACV9S,EAAY1P,GAAK,GACjB4gB,EAAkB1W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB3gB,GAAG6H,KAE9CgZ,EAAkB3W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB3gB,GAAG6H,KAE9C6H,EAAY1P,GAAGuhB,KAAO,EACtB7R,EAAY1P,GAAG0hB,KAAO,EACtBhS,EAAY1P,GAAG6hB,KAAO,EACtBnS,EAAY1P,GAAG+hB,KAAO,EACtBrS,EAAY1P,GAAGshB,GAAK,EACpB5R,EAAY1P,GAAGyhB,GAAK,EACpB/R,EAAY1P,GAAG4hB,GAAK,EACpBlS,EAAY1P,GAAGwC,GAAK,EACpBkN,EAAY1P,GAAGyiB,eAAiB,IAAIjO,IACpC9E,EAAY1P,GAAG0iB,eAAiB,IAAIlO,IACpC9E,EAAY1P,GAAG2iB,eAAiB,IAAInO,IACpC9E,EAAY1P,GAAG4iB,eAAiB,IAAIpO,IACpC9E,EAAY1P,GAAG6iB,aAAe,IAAIrO,IAClC9E,EAAY1P,GAAG8iB,aAAe,IAAItO,IAClC9E,EAAY1P,GAAG+iB,aAAe,IAAIvO,IAClC9E,EAAY1P,GAAGgjB,aAAe,IAAIxO,IAClC9E,EAAY1P,GAAGqiB,cAAgBtO,EAAwB/T,GAAG,IAEtDzB,OAAO+F,KAAKqP,GAAyBzL,SAASlI,IAChD0P,EAAY1P,GAAGsiB,cAAgB3O,EAAwB3T,GAAGuZ,WAC1D7J,EAAY1P,GAAGuiB,eAAiB5O,EAAwB3T,GAAG0Z,cAE3DhK,EAAY1P,GAAGsiB,cAAiB5S,EAAY1P,GAAGqiB,cAAgB,IAAO,EAAG,EAAI3S,EAAY1P,GAAGqiB,cAAgB,IAC5G3S,EAAY1P,GAAGuiB,eAAkB7S,EAAY1P,GAAGqiB,cAAgB,IAAO,EAAI,EAAI3S,EAAY1P,GAAGqiB,cAAgB,KAEhH3S,EAAY1P,GAAGsiB,cAAgB9I,WAAW9J,EAAY1P,GAAGsiB,cAAclI,QAAQ,IAC/E1K,EAAY1P,GAAGuiB,eAAiB/I,WAAW9J,EAAY1P,GAAGuiB,eAAenI,QAAQ,IACjF1K,EAAY1P,GAAGijB,cAAiBvT,EAAY1P,GAAgB,cAAEoa,QAAQ,GAAK,IAAO1K,EAAY1P,GAAiB,eAAEoa,QAAQ,GACzHxQ,EAAUM,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACjBqE,EAASrR,EAAEqR,QAAUkF,EAAQ,GAAK,EAAI,EACtCuO,EAAe9kB,EAAE+gB,uBAAuBnf,GAC9CwiB,IAAcpkB,EAAE+gB,uBAAuBnf,GAAKyP,IAAWrR,EAAE+gB,uBAAuBnf,GAAKyP,GACjFyT,EAAexT,EAAY1P,GAAGuiB,gBAAkBW,EAAexT,EAAY1P,GAAGsiB,cAClE,GAAV7S,EACEyT,EAAexT,EAAY1P,GAAGqiB,eAChC3S,EAAY1P,GAAG0hB,MAAQ,EACvBhS,EAAY1P,GAAG0iB,eAAeS,IAAI/X,KAElCsE,EAAY1P,GAAG6hB,MAAQ,EACvBnS,EAAY1P,GAAG2iB,eAAeQ,IAAI/X,IAGhC8X,GAAgBxT,EAAY1P,GAAGqiB,eACjC3S,EAAY1P,GAAGuhB,MAAQ,EACvB7R,EAAY1P,GAAGyiB,eAAeU,IAAI/X,KAElCsE,EAAY1P,GAAG+hB,MAAQ,EACvBrS,EAAY1P,GAAG4iB,eAAeO,IAAI/X,IAIxB,GAAVqE,EACEyT,EAAexT,EAAY1P,GAAGsiB,eAChC5S,EAAY1P,GAAGyhB,IAAM,EACrB/R,EAAY1P,GAAG8iB,aAAaK,IAAI/X,KAEhCsE,EAAY1P,GAAG4hB,IAAM,EACrBlS,EAAY1P,GAAG+iB,aAAaI,IAAI/X,IAG9B8X,GAAgBxT,EAAY1P,GAAGuiB,gBACjC7S,EAAY1P,GAAGshB,IAAM,EACrB5R,EAAY1P,GAAG6iB,aAAaM,IAAI/X,KAEhCsE,EAAY1P,GAAGwC,IAAM,EACrBkN,EAAY1P,GAAGgjB,aAAaG,IAAI/X,MAMxC,IAAIiW,EAAU3R,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGuhB,KAC7CC,EAAU9R,EAAY1P,GAAGyhB,GAAK/R,EAAY1P,GAAG0hB,KAC7CC,EAAUjS,EAAY1P,GAAG4hB,GAAKlS,EAAY1P,GAAG6hB,KAC7CC,EAAUpS,EAAY1P,GAAGwC,GAAKkN,EAAY1P,GAAG+hB,KAC7CqB,IAAe1T,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAG4hB,GAAKlS,EAAY1P,GAAGyhB,GAAK/R,EAAY1P,GAAGwC,IAAOoH,EAAUtL,QAAQ8b,QAAQ,GAC/H1K,EAAY1P,GAAGqjB,QAAUD,EACzB1T,EAAY1P,GAAGwiB,IAAMA,EACrB9S,EAAY1P,GAAGgiB,UAAaX,EAAUG,IAAYH,EAAUM,EAAUH,EAAUM,GAChFpS,EAAY1P,GAAGmR,UAAY,GAAckQ,EAAUM,GACnDjS,EAAY1P,GAAGiiB,OAAS,GAAaZ,EAAUS,GAC/CpS,EAAY1P,GAAG6N,GAAM6B,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAAU,EAAK,EAAI,EAAIvS,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAAUvS,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAC1E,GAArGzW,KAAK0W,MAAMb,EAAUM,IAAYN,EAAUS,IAAYN,EAAUG,IAAYH,EAAUM,MAC1FpS,EAAY1P,GAAGmiB,IAAM,IAElBd,EAAQM,IAAUN,EAAQS,IAAUN,EAAQG,IAAUH,EAAQM,IAAY,IAC7EpS,EAAY1P,GAAGmiB,KAAQd,EAAQG,EAAQG,EAAQG,GAAWtW,KAAK0W,MAAMb,EAAUM,IAAYN,EAAUS,IAAYN,EAAUG,IAAYH,EAAUM,QAKrH,OAA9BxO,IACFA,EAA4B,IAE9BA,EAA0BpJ,QAASlK,IAEjC,GADAA,EAAIA,EAAEE,KACF3B,OAAO+F,KAAKqc,GAAsBzY,SAASlI,GAC7C0P,EAAY1P,GAAK,GACjB4gB,EAAkB1W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB3gB,GAAG6H,KAE9CgZ,EAAkB3W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB3gB,GAAG6H,SAEzC,CACL,IAAIyb,EAAoBtjB,EAAEuf,UAAU,EAAEvf,EAAE1B,OAAO,GAC3CkhB,EAAYhG,WAAWxZ,EAAEuf,UAAUvf,EAAE1B,OAAO,EAAE0B,EAAEujB,SACpD7T,EAAY1P,GAAK,GACjB4gB,EAAkB1W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB2C,GAAmBzb,KAE9DgZ,EAAkB3W,QAASrC,IACzB6H,EAAY1P,GAAG6H,GAAK8Y,EAAqB2C,GAAmBzb,KAE9D6H,EAAY1P,GAAGuhB,KAAO,EACtB7R,EAAY1P,GAAG0hB,KAAO,EACtBhS,EAAY1P,GAAG6hB,KAAO,EACtBnS,EAAY1P,GAAG+hB,KAAO,EACtBrS,EAAY1P,GAAGshB,GAAK,EACpB5R,EAAY1P,GAAGyhB,GAAK,EACpB/R,EAAY1P,GAAG4hB,GAAK,EACpBlS,EAAY1P,GAAGwC,GAAK,EACpBkN,EAAY1P,GAAGyiB,eAAiB,IAAIjO,IACpC9E,EAAY1P,GAAG0iB,eAAiB,IAAIlO,IACpC9E,EAAY1P,GAAG2iB,eAAiB,IAAInO,IACpC9E,EAAY1P,GAAG4iB,eAAiB,IAAIpO,IACpC9E,EAAY1P,GAAG6iB,aAAe,IAAIrO,IAClC9E,EAAY1P,GAAG8iB,aAAe,IAAItO,IAClC9E,EAAY1P,GAAG+iB,aAAe,IAAIvO,IAClC9E,EAAY1P,GAAGgjB,aAAe,IAAIxO,IAClC9E,EAAY1P,GAAGqiB,cAAgB7C,EAC3BjhB,OAAO+F,KAAKqP,GAAyBzL,SAASlI,KAChD0P,EAAY1P,GAAGsiB,cAAgB3O,EAAwB3T,GAAGuZ,WAC1D7J,EAAY1P,GAAGuiB,eAAiB5O,EAAwB3T,GAAG0Z,aAE7DhK,EAAY1P,GAAGsiB,cAAgB5S,EAAY1P,GAAGqiB,cAAgB,IAAO,EAAI,EAAI3S,EAAY1P,GAAGqiB,cAAgB,IAC5G3S,EAAY1P,GAAGuiB,eAAiB7S,EAAY1P,GAAGqiB,cAAgB,IAAO,EAAI,EAAI3S,EAAY1P,GAAGqiB,cAAgB,IAC7G3S,EAAY1P,GAAGijB,cAAgBvT,EAAY1P,GAAGsiB,cAAgB,IAAM5S,EAAY1P,GAAGuiB,eAEnF7S,EAAY1P,GAAGsiB,cAAgB9I,WAAW9J,EAAY1P,GAAGsiB,cAAclI,QAAQ,IAC/E1K,EAAY1P,GAAGuiB,eAAiB/I,WAAW9J,EAAY1P,GAAGuiB,eAAenI,QAAQ,IACjFxQ,EAAUM,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACjBqE,EAASrR,EAAEqR,QAAUkF,EAAQ,GAAK,EAAI,EACtCuO,EAAe9kB,EAAE+gB,uBAAuBmE,GAC1CJ,GAAgBxT,EAAY1P,GAAGuiB,gBAAkBW,GAAgBxT,EAAY1P,GAAGsiB,cACpE,GAAV7S,EACEyT,EAAexT,EAAY1P,GAAGqiB,eAChC3S,EAAY1P,GAAG0hB,MAAQ,EACvBhS,EAAY1P,GAAG0iB,eAAeS,IAAI/X,KAElCsE,EAAY1P,GAAG6hB,MAAQ,EACvBnS,EAAY1P,GAAG2iB,eAAeQ,IAAI/X,IAGhC8X,GAAgBxT,EAAY1P,GAAGqiB,eACjC3S,EAAY1P,GAAGuhB,MAAQ,EACvB7R,EAAY1P,GAAGyiB,eAAeU,IAAI/X,KAElCsE,EAAY1P,GAAG+hB,MAAQ,EACvBrS,EAAY1P,GAAG4iB,eAAeO,IAAI/X,IAIxB,GAAVqE,EACEyT,EAAexT,EAAY1P,GAAGsiB,eAChC5S,EAAY1P,GAAGyhB,IAAM,EACrB/R,EAAY1P,GAAG8iB,aAAaK,IAAI/X,KAEhCsE,EAAY1P,GAAG4hB,IAAM,EACrBlS,EAAY1P,GAAG+iB,aAAaI,IAAI/X,IAG9B8X,GAAgBxT,EAAY1P,GAAGuiB,gBACjC7S,EAAY1P,GAAGshB,IAAM,EACrB5R,EAAY1P,GAAG6iB,aAAaM,IAAI/X,KAEhCsE,EAAY1P,GAAGwC,IAAM,EACrBkN,EAAY1P,GAAGgjB,aAAaG,IAAI/X,MAMxC,IAAIiW,EAAU3R,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGuhB,KAC7CC,EAAU9R,EAAY1P,GAAGyhB,GAAK/R,EAAY1P,GAAG0hB,KAC7CC,EAAUjS,EAAY1P,GAAG4hB,GAAKlS,EAAY1P,GAAG6hB,KAC7CC,EAAUpS,EAAY1P,GAAGwC,GAAKkN,EAAY1P,GAAG+hB,KAC7CqB,IAAe1T,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAG4hB,GAAKlS,EAAY1P,GAAGyhB,GAAK/R,EAAY1P,GAAGwC,IAAOoH,EAAUtL,QAAQ8b,QAAQ,GAC/H1K,EAAY1P,GAAGqjB,QAAUD,EACzB1T,EAAY1P,GAAGgiB,UAAaX,EAAUG,IAAYH,EAAUM,EAAUH,EAAUM,GAChFpS,EAAY1P,GAAGmR,UAAY,GAAckQ,EAAUM,GACnDjS,EAAY1P,GAAGiiB,OAAS,GAAaZ,EAAUS,GAC/CpS,EAAY1P,GAAG6N,GAAM6B,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAAU,EAAK,EAAI,EAAIvS,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAAUvS,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAC1E,GAArGzW,KAAK0W,MAAMb,EAAUM,IAAYN,EAAUS,IAAYN,EAAUG,IAAYH,EAAUM,MAC1FpS,EAAY1P,GAAGmiB,IAAM,IAElBd,EAAQM,IAAUN,EAAQS,IAAUN,EAAQG,IAAUH,EAAQM,IAAY,IAC7EpS,EAAY1P,GAAGmiB,KAAQd,EAAQG,EAAQG,EAAQG,GAAWtW,KAAK0W,MAAMb,EAAUM,IAAYN,EAAUS,IAAYN,EAAUG,IAAYH,EAAUM,QAIvJ5I,EAAQE,OAAO,uBAAwB1J,IAEzC,yBAAyBwJ,GAEvB,MAAMxJ,EAuCF,GAEJ,IAAI8T,EAAmB,GACvB,MAAM7O,EAAoB,IAAI5S,KAAK6F,QAAQ6I,iBACrC7M,EAAwB,IAAI7B,KAAK6F,QAAQ8I,qBACzC9G,EAAsB,IAAI7H,KAAK6F,QAAQyI,mBACvC0D,EAA0BhS,KAAKqB,MAAM2Q,wBACrCJ,EAA0B5R,KAAKqB,MAAMuQ,wBAC3C,IAAI8P,EAAyB,GAC7B,MAAMC,EAAgB7X,GAAA,KAAU,OAChC,IAAK,IAAIzN,KAAK2V,EACZ0P,EAAuB7kB,KAAKR,GAG9BwF,EAAYsG,QAASlK,IACnB0P,EAAY1P,GAAK,CACf2jB,MAAO,GACPC,MAAO,GACPC,UAAU,GACVC,KAAM,GACNC,KAAM,GACNC,IAAK,GACLC,SAAU,GACVC,QAAS,GACTC,SAAU,EACV9B,cAAe,EACfY,cAAe,GACfX,cAAe,EACfC,eAAgB,EAChBjB,GAAI,EACJG,GAAI,EACJG,GAAI,EACJpf,GAAI,EACJ+e,KAAM,EACNG,KAAM,EACNG,KAAM,EACNE,KAAM,EACNc,aAAc,IAAIrO,IAClBsO,aAAc,IAAItO,IAClBwO,aAAc,IAAIxO,IAClBuO,aAAc,IAAIvO,IAClBiO,eAAgB,IAAIjO,IACpBkO,eAAgB,IAAIlO,IACpBoO,eAAgB,IAAIpO,IACpBmO,eAAgB,IAAInO,IACpBwN,SAAU,EACVG,IAAK,EACLhR,UAAW,EACX8Q,OAAQ,EACRpU,GAAI,EACJ2U,IAAI,EACJa,QAAQ,KAEVG,EAAiBxjB,GAAK,KAIxB,IAAIokB,EAAQ,EACRC,EAAM,EACNC,EAAO,IACX,MAAMF,GAASC,EACbzgB,EAAYsG,QAASlK,IACnBwjB,EAAiBxjB,GAAGpB,KAAKwlB,EAAMhK,QAAQ,MAEzCgK,GAASE,EAGX1gB,EAAYsG,QAASlK,IACnB,IAAIukB,EAAc,GACd/B,EAAM,EACVgB,EAAiBxjB,GAAG4N,OACiB,GAAjC6V,EAAuBnlB,OAAaoR,EAAY1P,GAAGqiB,cAAgB,EAClE3S,EAAY1P,GAAGqiB,cAAgBtO,EAAwB/T,GAAG,IAC3DzB,OAAO+F,KAAKqP,GAAyBzL,SAASlI,IAChD0P,EAAY1P,GAAGsiB,cAAgB3O,EAAwB3T,GAAGuZ,WAC1D7J,EAAY1P,GAAGuiB,eAAiB5O,EAAwB3T,GAAG0Z,cAE3DhK,EAAY1P,GAAGsiB,cAAiB5S,EAAY1P,GAAGqiB,cAAgB,IAAQ,EAAI,EAAI3S,EAAY1P,GAAGqiB,cAAgB,IAC9G3S,EAAY1P,GAAGuiB,eAAiB7S,EAAY1P,GAAGqiB,cAAgB,IAAO,EAAI,EAAI3S,EAAY1P,GAAGqiB,cAAgB,KAE/G3S,EAAY1P,GAAGsiB,cAAgB9I,WAAW9J,EAAY1P,GAAGsiB,cAAclI,QAAQ,IAC/E1K,EAAY1P,GAAGuiB,eAAiB/I,WAAW9J,EAAY1P,GAAGuiB,eAAenI,QAAQ,IACjF1K,EAAY1P,GAAGijB,cAAgBvT,EAAY1P,GAAGsiB,cAAgB,IAAM5S,EAAY1P,GAAGuiB,eACnF3Y,EAAUM,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACjBqE,EAASrR,EAAEqR,QAAUkF,EAAQ,GAAK,EAAI,EACtCuO,EAAe9kB,EAAE+gB,uBAAuBnf,GAC9CwiB,IAAcpkB,EAAE+gB,uBAAuBnf,GAAKyP,IAAWrR,EAAE+gB,uBAAuBnf,GAAKyP,GACjFyT,EAAexT,EAAY1P,GAAGuiB,gBAAkBW,EAAexT,EAAY1P,GAAGsiB,cAClE,GAAV7S,EACEyT,EAAexT,EAAY1P,GAAGqiB,eAChC3S,EAAY1P,GAAG0hB,MAAQ,EACvBhS,EAAY1P,GAAG0iB,eAAeS,IAAI/X,KAElCsE,EAAY1P,GAAG6hB,MAAQ,EACvBnS,EAAY1P,GAAG2iB,eAAeQ,IAAI/X,IAGhC8X,GAAgBxT,EAAY1P,GAAGqiB,eACjC3S,EAAY1P,GAAGuhB,MAAQ,EACvB7R,EAAY1P,GAAGyiB,eAAeU,IAAI/X,KAElCsE,EAAY1P,GAAG+hB,MAAQ,EACvBrS,EAAY1P,GAAG4iB,eAAeO,IAAI/X,IAIxB,GAAVqE,EACEyT,EAAexT,EAAY1P,GAAGqiB,eAChC3S,EAAY1P,GAAGyhB,IAAM,EACrB/R,EAAY1P,GAAG8iB,aAAaK,IAAI/X,KAEhCsE,EAAY1P,GAAG4hB,IAAM,EACrBlS,EAAY1P,GAAG+iB,aAAaI,IAAI/X,IAG9B8X,GAAgBxT,EAAY1P,GAAGqiB,eACjC3S,EAAY1P,GAAGshB,IAAM,EACrB5R,EAAY1P,GAAG6iB,aAAaM,IAAI/X,KAEhCsE,EAAY1P,GAAGwC,IAAM,EACrBkN,EAAY1P,GAAGgjB,aAAaG,IAAI/X,MAMxC,IAAIiW,EAAU3R,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGuhB,KAC7CC,EAAU9R,EAAY1P,GAAGyhB,GAAK/R,EAAY1P,GAAG0hB,KAC7CC,EAAUjS,EAAY1P,GAAG4hB,GAAKlS,EAAY1P,GAAG6hB,KAC7CC,EAAUpS,EAAY1P,GAAGwC,GAAKkN,EAAY1P,GAAG+hB,KAC7CqB,IAAe1T,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAG4hB,GAAKlS,EAAY1P,GAAGyhB,GAAK/R,EAAY1P,GAAGwC,IAAOoH,EAAUtL,QAAQ8b,QAAQ,GAC/H1K,EAAY1P,GAAGqjB,QAAUD,EACzB1T,EAAY1P,GAAGwiB,IAAMA,EACrB9S,EAAY1P,GAAGgiB,UAAaX,EAAUG,IAAYH,EAAUM,EAAUH,EAAUM,GAChFpS,EAAY1P,GAAGmR,UAAY,GAAckQ,EAAUM,GACnDjS,EAAY1P,GAAGiiB,OAAS,GAAaZ,EAAUS,GAC/CpS,EAAY1P,GAAG6N,GAAM6B,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAAU,EAAK,EAAI,EAAIvS,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAAUvS,EAAY1P,GAAGmR,UAAYzB,EAAY1P,GAAGiiB,QAC1E,GAArGzW,KAAK0W,MAAMb,EAAUM,IAAYN,EAAUS,IAAYN,EAAUG,IAAYH,EAAUM,MAC1FpS,EAAY1P,GAAGmiB,IAAM,IAElBd,EAAQM,IAAUN,EAAQS,IAAUN,EAAQG,IAAUH,EAAQM,IAAY,IAC7EpS,EAAY1P,GAAGmiB,KAAQd,EAAQG,EAAQG,EAAQG,GAAWtW,KAAK0W,MAAMb,EAAUM,IAAYN,EAAUS,IAAYN,EAAUG,IAAYH,EAAUM,KAGnJ,IAAI0C,EAAW,EACXC,EAAa,IACbC,EAAmB/jB,IACrB,IAAI2gB,EAAK,EACLM,EAAK,EACLpf,EAAK,EACLif,EAAK,EAkBT,OAjBA7X,EAAUM,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACjBuZ,EAAUvmB,EAAE+gB,uBAAuBnf,GAAKwZ,WAAW7Y,GAASgU,EAAQ,GAAKA,EAAQ,GACnFvW,EAAEqR,QAAUkF,EAAQ,GAClBgQ,GAAWvmB,EAAEqR,OACf6R,GAAI,EAEJ9e,GAAI,EAGFmiB,GAAWvmB,EAAEqR,OACfgS,GAAI,EAEJG,GAAI,IAIH,CAACN,EAAIG,EAAIG,EAAIpf,IAElBoiB,EAAe,CAACtD,EAAWG,EAAWG,EAAWpf,EAAW7B,KAC9D4jB,EAAY3lB,KAAK,CAAC,EAAIgjB,GAAIA,EAAGH,GAAK,EAAIH,GAAIA,EAAG9e,KAC7CkN,EAAY1P,GAAG2jB,MAAM/kB,KAAMgjB,GAAIA,EAAGH,IAClC/R,EAAY1P,GAAG4jB,MAAMhlB,KAAM0iB,GAAIA,EAAG9e,IAClCkN,EAAY1P,GAAG6jB,UAAUjlB,KAAK+B,GAC9B+O,EAAY1P,GAAG8jB,KAAKllB,KAAM0iB,GAAIA,EAAG9e,IACjCkN,EAAY1P,GAAG+jB,KAAKnlB,KAAM0iB,GAAIA,EAAGM,IACjClS,EAAY1P,GAAGgkB,IAAIplB,MAAM6iB,EAAGH,IAAKG,EAAGH,EAAG9e,EAAGof,KAG5C,SAASiD,EAAcC,EAAKC,EAAMC,EAAKC,EAAK7D,GAC1C,KAAIA,EAAQ,MAGR5V,KAAK4W,IAAK4C,EAAKC,GAAOD,EAAM,GAAK,CACnC,IAAIE,IAAQ1L,WAAWuL,GAAQvL,WAAWsL,IAAQ,GAAG3K,WACjDgL,EAAWT,EAAgBQ,GAC3BE,GAAaD,EAAS,GAAGA,EAAS,KAAKA,EAAS,GAAGA,EAAS,GAAGA,EAAS,GAAGA,EAAS,IAEpF3Z,KAAK4W,IAAIgD,EAAYJ,GAAOA,EAAM,KACpCH,EAAcC,EAAKI,EAAKF,EAAKI,EAAWhE,EAAQ,GAChDwD,EAAaO,EAAS,GAAIA,EAAS,GAAIA,EAAS,GAAIA,EAAS,GAAI3L,WAAW0L,KAE1E1Z,KAAK4W,IAAI6C,EAAMG,GAAaH,EAAM,KACpCL,EAAaO,EAAS,GAAIA,EAAS,GAAIA,EAAS,GAAIA,EAAS,GAAI3L,WAAW0L,IAC5EL,EAAcK,EAAKH,EAAKK,EAAWH,EAAK7D,EAAQ,KAMtDoC,EAAiBxjB,GAAGkK,QAAQ,CAACvJ,EAAO0kB,KAClC1kB,EAAQ+iB,EAAc/iB,GACtB,IAAI2kB,EAAOZ,EAAgB/jB,GACvB2gB,EAAKgE,EAAK,GACV7D,EAAK6D,EAAK,GACV1D,EAAK0D,EAAK,GACV9iB,EAAK8iB,EAAK,GAEd,GAAW,GAAPD,EACFb,GAAY/C,EAAGH,IAAKG,EAAGH,EAAG9e,EAAGof,GAC7B6C,EAAa9jB,MACR,CACL,IAAIskB,GAAOxD,EAAGH,IAAKG,EAAGH,EAAG9e,EAAGof,GAC5BiD,EAAcJ,EAAY9jB,EAAO6jB,EAAUS,EAAK,GAChDT,EAAWS,EACXR,EAAa9jB,EAGfikB,EAAatD,EAAIG,EAAIG,EAAIpf,EAAI7B,KAG/B+O,EAAY1P,GAAGmkB,SAAW,EAC1B,IAAIoB,EAAQ,EACRC,EAAQ,EACZjB,EAAY3W,MAAK,SAAS8M,EAAGC,GAC3B,OAAO9O,GAAA,KAAa6O,EAAEA,EAAGC,EAAED,MAE7B6J,EAAYra,QAASub,IACnB/V,EAAY1P,GAAGmkB,WAAesB,EAAI9K,EAAI6K,IAAUC,EAAI/K,EAAI6K,GAAS,EACjEA,EAAQE,EAAI/K,EACZ8K,EAAQC,EAAI9K,MAIhBzB,EAAQE,OAAO,uBAAwB1J,IAGzC,yBAAyBwJ,GACvB,MAAMwM,EAAgB3jB,KAAKqB,MAAM6Q,+BAA+B5K,WAC1Dsc,EAAe5jB,KAAKqB,MAAM6Q,+BAA+BC,iBAE/D,IAAImL,EAA4Btd,KAAKqB,MAAM2Q,wBACvCqL,EAA2Brd,KAAKqB,MAAM4Q,4BAA4B7I,IAAKlL,GAAIA,GAC/Eof,EAAyBqG,GAAiBC,EAC1CzM,EAAQE,OAAO,6BAA6BiG,GAC5CnG,EAAQxV,SAAS,2BAEjB,IAAK,IAAItF,KAAKghB,EAA0B,CACtC,IAAIpf,EAAIof,EAAyBhhB,GACH,GAA1B4B,EAAE4e,QAAQ8G,KACZtG,EAAyBhhB,GAAKsnB,EAAgB,IAAMC,GAGxDzM,EAAQE,OAAO,iCAAiCgG,GAEhD,MAAMzK,EAAU5S,KAAKqB,MAAMC,cAAcsR,QACnC/Q,EAAc7B,KAAKqB,MAAMC,cAAcO,YACvCgG,EAAY7H,KAAKqB,MAAMC,cAAcuG,UAE3C,IAAK,IAAItK,KAAKsE,EAAa,CACzB,IAAI5D,EAAI4D,EAAYtE,GACpB,GAAIU,GAAG0lB,EACL,SAEF,IAAIE,EAAkB,GACtB,IAAK,IAAIxnB,KAAKwL,EAAW,CACvB,MAAMuV,EAAyBvV,EAAUxL,GAAG+gB,uBACxC3F,WAAW2F,EAAuBnf,IAAM2lB,EAAe,KACzDC,EAAgBhnB,KAAK+V,EAAQ,IAC7B/K,EAAUxL,GAAGsR,YAAY1P,GAAK2U,EAAQ,KAEtCiR,EAAgBhnB,KAAK+V,EAAQ,IAC7B/K,EAAUxL,GAAGsR,YAAY1P,GAAK2U,EAAQ,OAK9C,cACEuE,EACAhB,GAQAgB,EAAQE,OAAO,YAAalB,IAE9B,qBAAqBgB,EAAS9N,GAC5B8N,EAAQE,OAAO,mBAAoBhO,IAErC,2BAA2B8N,EAASf,GAClC,MAAM0N,EAAsB3M,EAAQ9V,MAAM8R,iBAAiB,GAC3DgE,EAAQxV,SAAS,0BAA2B,CAC1C0U,UAAWyN,EACX1N,kBAGJ,aAAae,EAAS9N,GACpB8N,EAAQE,OAAO,kBAAmBhO,IAEpC,eAAe8N,EAAS9N,GACtB8N,EAAQE,OAAO,iBAAkBhO,KAGrCxD,QAAS,CACP,oCAAoCxE,GAClC,OAAOA,EAAM+Q,qCAEf,wBAAwB/Q,GACtB,OAAOA,EAAMuQ,yBAEf,8BAA8BvQ,GAC5B,OAAOA,EAAMqQ,+BAEf,qBAAqBrQ,GACnB,OAAOA,EAAMsQ,sBAEf,wBAAwBtQ,GACtB,OAAOA,EAAM2Q,yBAEf,4BAA4B3Q,GAC1B,OAAOA,EAAM4Q,6BAEf,wBAAwB5Q,EAAMwE,GAC5B,MAAMke,EAA2B,IAAIle,EAAQ8I,qBACvCgQ,EAAmB,CACvB,SACA,sBACA,qBAEIqF,EAAkBD,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,IAAS,IAAHA,GAChFgmB,EAAgDD,EAAgB5a,IAAKnL,IAClE,CACLqJ,WAAYrJ,EACZkU,iBAAkB,MAGtB,OAAO8R,GAET,+BAA+B5iB,GAC7B,OAAO,IAAIoR,IAAIpR,EAAMC,cAAcO,cAErC,YAAYR,GACV,OAAOA,EAAMuF,aAEf,aAAavF,GACX,OAAOA,EAAMyP,cAEf,UAAUzP,GACR,OAAOA,EAAMgR,WAEf,iBAAiBhR,GACf,OAAOA,EAAMqT,kBAEf,QAAQrT,GACN,OAAO,IAAIoR,IAAIpR,EAAMC,cAAcsR,UAErC,YAAYvR,GACV,OAAO,IAAIoR,IAAIpR,EAAMC,cAAcO,cAErC,QAAQR,GACN,OAAQgI,GAAehI,EAAMC,cAAciI,SAASF,IAEtD,SAAShI,GACP,OAAO,IAAIoR,IAAIjW,OAAO+F,KAAKlB,EAAMC,cAAciI,YAEjD,SAASlI,GACP,OAAQgI,GAAehI,EAAMC,cAAcuG,UAAUwB,IAEvD,UAAUhI,GACR,OAAOA,EAAMkR,cAAc1K,WAE7B,gBAAgBxG,EAAOwE,GACrB,MAAMqe,EAAmB7iB,EAAM4M,QAAQlI,MAAMkN,IACvCL,EAAU/M,EAAQ+M,QAClBlE,EAAkByV,GAAWvR,EAASsR,GAC5C,OAAOxV,GAET,oBAAoBrN,EAAOwE,GACzB,MAAMue,EAAuB/iB,EAAM4M,QAAQ3G,WAAW2L,IAChDpR,EAAcgE,EAAQhE,YACtB8M,EAAsBwV,GAAWtiB,EAAauiB,GACpD,OAAOzV,GAET,kBAAkBtN,EAAOwE,GACvB,IAAIyI,EAA8B,IAAIzI,EAAQgC,WAC9C,MAAMwc,EAAc,gBACpB,OAAQhjB,EAAMiR,aACZ,IAAK,OAC4B,IAA3BjR,EAAM6P,kBACR7P,EAAMiQ,eAAenJ,QAASmc,IACxBA,EAAKnmB,MAAQkD,EAAM6P,oBACrB5C,EAAoB,IAAIgW,EAAKC,YAIjCjW,EAAoBA,EAAkB7C,OAAQpP,GACK,SAA1CiN,GAAajN,GAAGkN,SAAS8a,IACY,MAA1C/a,GAAajN,GAAGkN,SAAS8a,IAG/B,MACF,IAAK,QAC4B,IAA3BhjB,EAAM6P,kBACN7P,EAAMiQ,eAAenJ,QAASmc,IACxBA,EAAKnmB,MAAQkD,EAAM6P,oBACrB5C,EAAoB,IAAIgW,EAAKE,aAInClW,EAAoBA,EAAkB7C,OAAQpP,GACK,UAA1CiN,GAAajN,GAAGkN,SAAS8a,IACY,MAA1C/a,GAAajN,GAAGkN,SAAS8a,IAG/B,MACF,IAAK,SACH/V,EAAoB,IAAIjN,EAAM+P,WAAW,cACzC,MAEJ,OAAO,IAAIqB,IAAInE,IAEjB,gBAAgBjN,EAAOwE,GAGrB,MAAM+M,EAAoB,IAAI/M,EAAQ6I,iBAChC7M,EAAwBR,EAAMkQ,0BAC9B1J,EAAsB,IAAIhC,EAAQyI,mBAElC8G,EAEF,GAuHJ,OArHAvT,EAAYsG,QAASsc,IAEnB,IAAIxmB,EAAIwmB,EAAU,QACdnd,EAAarJ,EAAEuf,UAAU,EAAEvf,EAAE1B,OAAO,GACpCkhB,EAAYhG,WAAWxZ,EAAEuf,UAAUvf,EAAE1B,OAAO,EAAE0B,EAAE1B,SAEpD6Y,EAAQnX,GAAK,CACXgiB,UAAW,EACXgC,IAAK,CAAEnb,SAAU,GACjBsZ,IAAK,CAAEtZ,SAAU,GACjBgF,GAAI,CAAEhF,SAAU,GAChB4d,QAAS,CAAE5d,SAAU,GACrB6d,QAAS,CAAE7d,SAAU,GACrBsI,UAAW,CAAEtI,SAAU,GACvBoZ,OAAQ,CAAEpZ,SAAU,GACpB8d,UAAW,GACXlX,OAAQ,GACRmX,MAAO,GACPC,KAAM,GACNvF,GAAI,GACJM,GAAI,GACJpf,GAAI,GACJif,GAAI,IAEN,MAAM1hB,EAAIoX,EAAQnX,GAElB2U,EAAQzK,QAAS4c,IACf/mB,EAAE0P,OAAOqX,GAAe,IAAItS,IAAI5K,EAAU4D,OAAQpP,GAAMiN,GAAajN,GAAGqR,SAAWqX,MAErFnS,EAAQzK,QAAS6c,IACfhnB,EAAE4mB,UAAUI,GAAkB,IAAIvS,IAAI5K,EAAU4D,OAAQpP,GACtD2oB,GAAkBpS,EAAQ,GAAKtJ,GAAajN,GAAG+gB,uBAAuB9V,IAAemW,EACzDnU,GAAajN,GAAG+gB,uBAAuB9V,GAAcmW,MAMrF7K,EAAQzK,QAAS4c,IACf/mB,EAAE8mB,KAAKC,GAAe9V,GAAajR,EAAE0P,OAAOqX,GAAc/mB,EAAE4mB,UAAUG,MAExEnS,EAAQzK,QAAS4c,IACf/mB,EAAE6mB,MAAME,GAAeZ,GAAWnmB,EAAE4mB,UAAUG,GAAc/mB,EAAE0P,OAAOqX,MAGvEnS,EAAQzK,QAAS4c,IACf/mB,EAAEuhB,GAAGwF,GAAgB,IAAItS,IACzBzU,EAAE6hB,GAAGkF,GAAgB,IAAItS,IACzBzU,EAAEyC,GAAGskB,GAAgB,IAAItS,IACzBzU,EAAE0hB,GAAGqF,GAAgB,IAAItS,MAG3B5K,EAAUM,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACvB,IAAIpL,EAAIqJ,EACJjL,EAAEqR,QAAUkF,EAAQ,GAChBvW,EAAE+gB,uBAAuBnf,IAAMwf,EACjCzf,EAAEuhB,GAAG3M,EAAQ,IAAIwO,IAAI/X,GAErBrL,EAAEyC,GAAGmS,EAAQ,IAAIwO,IAAI/X,GAGrBhN,EAAE+gB,uBAAuBnf,GAAKwf,EAChCzf,EAAE0hB,GAAG9M,EAAQ,IAAIwO,IAAI/X,GAErBrL,EAAE6hB,GAAGjN,EAAQ,IAAIwO,IAAI/X,KAM3B,IAAI4b,EAAY,EAChBrS,EAAQzK,QAAS4c,IACfE,GAAajnB,EAAE8mB,KAAKC,GAAa9I,OAEnCje,EAAEiiB,SAAWgF,EAAYpd,EAAUtL,OAInC,IAAImW,EAAYE,EAAQ,GACxB5U,EAAEoR,UAAUsD,GAAc1U,EAAEuhB,GAAG7M,GAAWuJ,MAAQje,EAAEuhB,GAAG7M,GAAWuJ,KAAOje,EAAE6hB,GAAGnN,GAAWuJ,MACzFje,EAAEoR,UAAUwD,EAAQ,IAAM,EAAE5U,EAAEoR,UAAUsD,GACxC1U,EAAEoR,UAAUtI,QAAU9I,EAAEoR,UAAUsD,GAM9BA,EAAYE,EAAQ,GACxB5U,EAAEkiB,OAAOxN,GAAc1U,EAAEuhB,GAAG7M,GAAWuJ,MAAQje,EAAEuhB,GAAG7M,GAAWuJ,KAAOje,EAAEyC,GAAGiS,GAAWuJ,MACtFje,EAAEkiB,OAAOtN,EAAQ,IAAM,EAAE5U,EAAEkiB,OAAOxN,GAClC1U,EAAEkiB,OAAOpZ,QAAU9I,EAAEkiB,OAAOxN,GAIxBA,EAAYE,EAAQ,GACxB,MAAMrT,EAAIvB,EAAEoR,UAAUsD,GAChBjU,EAAIT,EAAEkiB,OAAOxN,GACnB1U,EAAE8N,GAAG4G,GAAa,EAAInT,EAAId,GAAKc,EAAId,GACnCT,EAAE8N,GAAG8G,EAAQ,IAAM,GAAK,EAAErT,IAAI,EAAEd,IAAM,EAAEc,EAAEd,GAC1CT,EAAE8N,GAAGhF,QAAU9I,EAAE8N,GAAG4G,GAIhBA,EAAYE,EAAQ,GAAxB,IACI2M,EAAKvhB,EAAEuhB,GAAG7M,GAAWuJ,KACrByD,EAAK1hB,EAAE0hB,GAAGhN,GAAWuJ,KACrB4D,EAAK7hB,EAAE6hB,GAAGnN,GAAWuJ,KACrBxb,EAAKzC,EAAEyC,GAAGiS,GAAWuJ,KACyC,GAA7DxS,KAAK0W,MAAMZ,EAAKM,IAAON,EAAK9e,IAAOif,EAAKG,IAAOH,EAAKjf,MACvDzC,EAAEoiB,IAAItZ,QAAU,IAEbyY,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,IACrCzC,EAAEoiB,IAAItZ,SAAYyY,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,OAIpE2U,GAET,QAAQ/T,EAAOwE,GAGb,MAAM+M,EAAoB,IAAI/M,EAAQ6I,iBAChC7M,EAAwB,IAAIgE,EAAQ8I,qBACpC9G,EAAsB,IAAIhC,EAAQyI,mBAElC8G,EAEF,GAuMJ,OAtMAvT,EAAYsG,QAASb,IAEnB8N,EAAQ9N,GAAc,CACpB2Y,UAAW,EACXgC,IAAK,CAAEnb,SAAU,GACjBsZ,IAAK,CAAEtZ,SAAU,GACjBgF,GAAI,CAAEhF,SAAU,GAChB4d,QAAS,CAAE5d,SAAU,GACrB6d,QAAS,CAAE7d,SAAU,GACrBsI,UAAW,CAAEtI,SAAU,GACvBoZ,OAAQ,CAAEpZ,SAAU,GACpB8d,UAAW,GACXlX,OAAQ,GACRmX,MAAO,GACPC,KAAM,GACNvF,GAAI,GACJM,GAAI,GACJpf,GAAI,GACJif,GAAI,IAEN,MAAM1hB,EAAIoX,EAAQ9N,GAElBsL,EAAQzK,QAAS4c,IACf/mB,EAAE0P,OAAOqX,GAAe,IAAItS,IAAI5K,EAAU4D,OAAQpP,GAAMiN,GAAajN,GAAGqR,SAAWqX,MAErFnS,EAAQzK,QAAS6c,IACfhnB,EAAE4mB,UAAUI,GAAkB,IAAIvS,IAAI5K,EAAU4D,OAAQpP,GACtDiN,GAAajN,GAAGsR,YAAYrG,KAAgB0d,MAI5CpS,EAAQrW,OAAS,GACnBqW,EAAQzK,QAAS4c,IACf,IAAIG,EAAkB,IAAIlnB,EAAE4mB,UAAUG,IAClCI,EAAc,IAAInnB,EAAE0P,OAAOqX,IAC/B/mB,EAAE8mB,KAAKC,GAAe9V,GAAajR,EAAE0P,OAAOqX,GAAc/mB,EAAE4mB,UAAUG,IACtE/mB,EAAEuhB,GAAGwF,GAAe/mB,EAAE8mB,KAAKC,GAC3B/mB,EAAE6hB,GAAGkF,GAAe,IAAItS,IAAIyS,EAAgBzZ,OAAQpP,IAAO8oB,EAAYhf,SAAS9J,KAChF2B,EAAEyC,GAAGskB,GAAe,IAAItS,IAAI0S,EAAY1Z,OAAQpP,IAAO6oB,EAAgB/e,SAAS9J,OAElFuW,EAAQzK,QAAS4c,IACf/mB,EAAE6mB,MAAME,GAAeZ,GAAWnmB,EAAE4mB,UAAUG,GAAc/mB,EAAE0P,OAAOqX,MAGvEnS,EAAQzK,QAAS4c,IACf/mB,EAAE0hB,GAAGqF,GAAgB,IAAItS,IACzBG,EAAQzK,QAASid,IACXA,GAAaL,IACf/mB,EAAE0hB,GAAGqF,GAAgB,IAAItS,IAAI,IAAIzU,EAAE0hB,GAAGqF,MAAiB/mB,EAAEuhB,GAAG6F,YAKlExS,EAAQzK,QAAS4c,IACf/mB,EAAE8mB,KAAKC,GAAe9V,GAAajR,EAAE0P,OAAOqX,GAAc/mB,EAAE4mB,UAAUG,MAExEnS,EAAQzK,QAAS4c,IACf/mB,EAAE6mB,MAAME,GAAeZ,GAAWnmB,EAAE4mB,UAAUG,GAAc/mB,EAAE0P,OAAOqX,MAGvEnS,EAAQzK,QAAS4c,IACf/mB,EAAEuhB,GAAGwF,GAAgB,IAAItS,IACzBzU,EAAE6hB,GAAGkF,GAAgB,IAAItS,IACzBzU,EAAEyC,GAAGskB,GAAgB,IAAItS,IACzBzU,EAAE0hB,GAAGqF,GAAgB,IAAItS,MAG3B5K,EAAUM,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACvB,IAAIpL,EAAIqJ,EACJjL,EAAEqR,QAAUkF,EAAQ,GAChBvW,EAAEsR,YAAY1P,IAAM5B,EAAEqR,OACxB1P,EAAEuhB,GAAG3M,EAAQ,IAAIwO,IAAI/X,GAErBrL,EAAEyC,GAAGmS,EAAQ,IAAIwO,IAAI/X,GAGnBhN,EAAEsR,YAAY1P,IAAM5B,EAAEqR,OACxB1P,EAAE0hB,GAAG9M,EAAQ,IAAIwO,IAAI/X,GAErBrL,EAAE6hB,GAAGjN,EAAQ,IAAIwO,IAAI/X,MAM/B,IAAI4b,EAAY,EAQhB,GAPArS,EAAQzK,QAAS4c,IACfE,GAAajnB,EAAE8mB,KAAKC,GAAa9I,OAEnCje,EAAEiiB,SAAWgF,EAAYpd,EAAUtL,OAI/BqW,EAAQrW,OAAS,EAAG,CACtB,IAAI8oB,EAAe,EACnBzS,EAAQzK,QAASuK,IACf1U,EAAEoR,UAAUsD,GAAa1U,EAAEuhB,GAAG7M,GAAWuJ,MAAQje,EAAEuhB,GAAG7M,GAAWuJ,KAAOje,EAAE6hB,GAAGnN,GAAWuJ,MACxFoJ,GAAgBrnB,EAAEoR,UAAUsD,KAE9B1U,EAAEoR,UAAUtI,QAAUue,EAAezS,EAAQrW,WACxC,CACL,IAAImW,EAAYE,EAAQ,GACxB5U,EAAEoR,UAAUsD,GAAc1U,EAAEuhB,GAAG7M,GAAWuJ,MAAQje,EAAEuhB,GAAG7M,GAAWuJ,KAAOje,EAAE6hB,GAAGnN,GAAWuJ,MACzFje,EAAEoR,UAAUwD,EAAQ,IAAM,EAAE5U,EAAEoR,UAAUsD,GACxC1U,EAAEoR,UAAUtI,QAAU9I,EAAEoR,UAAUsD,GAMpC,GAAIE,EAAQrW,OAAS,EAAG,CACtB,IAAI+oB,EAAY,EAChB1S,EAAQzK,QAASuK,IACf1U,EAAEkiB,OAAOxN,GAAa1U,EAAEuhB,GAAG7M,GAAWuJ,MAAQje,EAAEuhB,GAAG7M,GAAWuJ,KAAOje,EAAEyC,GAAGiS,GAAWuJ,MACrFqJ,GAAatnB,EAAEkiB,OAAOxN,KAExB1U,EAAEkiB,OAAOpZ,QAAUwe,EAAY1S,EAAQrW,WAClC,CACDmW,EAAYE,EAAQ,GACxB5U,EAAEkiB,OAAOxN,GAAc1U,EAAEuhB,GAAG7M,GAAWuJ,MAAQje,EAAEuhB,GAAG7M,GAAWuJ,KAAOje,EAAEyC,GAAGiS,GAAWuJ,MACtFje,EAAEkiB,OAAOtN,EAAQ,IAAM,EAAE5U,EAAEkiB,OAAOxN,GAClC1U,EAAEkiB,OAAOpZ,QAAU9I,EAAEkiB,OAAOxN,GAI9B,GAAIE,EAAQrW,OAAS,EAAG,CACtB,IAAIgpB,EAAQ,EACZ3S,EAAQzK,QAASuK,IACf,MAAMnT,EAAIvB,EAAEoR,UAAUsD,GAChBjU,EAAIT,EAAEkiB,OAAOxN,GACnB1U,EAAE8N,GAAG4G,GAAa,EAAInT,EAAId,GAAKc,EAAId,GACnC8mB,GAASvnB,EAAE8N,GAAG4G,KAEhB1U,EAAE8N,GAAGhF,QAAUye,EAAQ3S,EAAQrW,WAC1B,CACDmW,EAAYE,EAAQ,GACxB,MAAMrT,EAAIvB,EAAEoR,UAAUsD,GAChBjU,EAAIT,EAAEkiB,OAAOxN,GACnB1U,EAAE8N,GAAG4G,GAAa,EAAInT,EAAId,GAAKc,EAAId,GACnCT,EAAE8N,GAAG8G,EAAQ,IAAM,GAAK,EAAErT,IAAI,EAAEd,IAAM,EAAEc,EAAEd,GAC1CT,EAAE8N,GAAGhF,QAAU9I,EAAE8N,GAAG4G,GAKtB,IAAI8S,EAAQ,EACRC,EAAQ,EACRC,EAAQ,EACZ9S,EAAQzK,QAASuK,IACf8S,GAASxnB,EAAEuhB,GAAG7M,GAAWuJ,KACzBwJ,GAASznB,EAAE6hB,GAAGnN,GAAWuJ,KACzByJ,GAAS1nB,EAAEyC,GAAGiS,GAAWuJ,OAE3B,IAAI0J,EAAiBH,GAASA,EAAQC,GAClCG,EAAcJ,GAASA,EAAQE,GAOnC,GANA1nB,EAAE0mB,QAAQ5d,QAAU9I,EAAE8N,GAAGhF,QAGzB9I,EAAE2mB,QAAQ7d,QAAU,EAAI6e,EAAiBC,GAAeD,EAAiBC,GAGrEhT,EAAQrW,OAAS,EAAG,CACtB,IAAIgjB,EAAK,EACLG,EAAK,EACLG,EAAK,EACLpf,EAAK,EACTmS,EAAQzK,QAASuK,IACf6M,GAAMvhB,EAAEuhB,GAAG7M,GAAWuJ,KACtByD,GAAM1hB,EAAE0hB,GAAGhN,GAAWuJ,KACtB4D,GAAM7hB,EAAE6hB,GAAGnN,GAAWuJ,KACtBxb,GAAMzC,EAAEyC,GAAGiS,GAAWuJ,OAE0C,GAA7DxS,KAAK0W,MAAMZ,EAAKM,IAAON,EAAK9e,IAAOif,EAAKG,IAAOH,EAAKjf,IAErDzC,EAAEoiB,IAAItZ,QADHyY,EAAKG,EAAKH,EAAK9e,EAAM,GACP,EAED,EAGlBzC,EAAEoiB,IAAItZ,SAAWyY,EAAKG,EAAKH,EAAK9e,GAAOgJ,KAAK0W,MAAMZ,EAAKM,IAAON,EAAK9e,IAAOif,EAAKG,IAAOH,EAAKjf,QAExF,CACDiS,EAAYE,EAAQ,GACpB2M,EAAKvhB,EAAEuhB,GAAG7M,GAAWuJ,KACrByD,EAAK1hB,EAAE0hB,GAAGhN,GAAWuJ,KACrB4D,EAAK7hB,EAAE6hB,GAAGnN,GAAWuJ,KACrBxb,EAAKzC,EAAEyC,GAAGiS,GAAWuJ,KACyC,GAA7DxS,KAAK0W,MAAMZ,EAAKM,IAAON,EAAK9e,IAAOif,EAAKG,IAAOH,EAAKjf,MACvDzC,EAAEoiB,IAAItZ,QAAU,IAEbyY,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,IACrCzC,EAAEoiB,IAAItZ,SAAYyY,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,QAMtE2U,GAET,mBAAmB/T,GACjB,OAAOA,EAAMyR,oBAEf,iBAAiBzR,GACf,OAAOA,EAAM0R,kBAEf,eAAe1R,EAAOwE,GACpB,MAAMggB,EAAkC,GAClC3N,EAAY7W,EAAMsE,MAAM8O,KA+C9B,OA9CAyD,EAAU/P,QAASzG,IAEjB,MAAMokB,EAAwB,KACrB,CACL3nB,KAAMuD,EACN6E,SAAU,CACRqM,QAAS/M,EAAQ6I,gBACjB7M,YAAagE,EAAQ8I,oBACrB9G,UAAWhC,EAAQyI,kBACnB/E,SAAU1D,EAAQ0D,SAClB0I,4BAA6BpM,EAAQoM,4BACrCL,wBAAwB/L,EAAQ+L,wBAChCF,8BAA+B7L,EAAQ6L,iCAM7C,OAAQhQ,GACN,KAAK8D,EAAkBoO,GACvB,KAAKpO,EAAkBqO,IACvB,KAAKrO,EAAkBsO,IACvB,KAAKtO,EAAkBsX,GACvB,KAAKtX,EAAkBwX,GACvB,KAAKxX,EAAkBuX,GACvB,KAAKvX,EAAkByX,GACvB,KAAKzX,EAAkB0X,IACvB,KAAK1X,EAAkB2X,IACvB,KAAK3X,EAAkByO,GACvB,KAAKzO,EAAkBuO,IACvB,KAAKvO,EAAkBwO,GACvB,KAAKxO,EAAkB0O,IACvB,KAAK1O,EAAkB2O,IACvB,KAAK3O,EAAkB6O,IACvB,KAAK7O,EAAkB+O,GACvB,KAAK/O,EAAkB4O,GACvB,KAAK5O,EAAkB8O,IACvB,KAAK9O,EAAkBgP,GACrBqR,EAAehpB,KAAKipB,KACpB,MACF,QACE3iB,QAAQ8E,MAAM,gBAAiBvG,EAAM,mBACrC,SAICmkB,MC5pEN,SAAS1B,GAAW3X,EAAaC,GACtC,OAAO,IAAIgG,IAAI,IAAIjG,GAAGf,OAAQsa,IAAUtZ,EAAEuZ,IAAID,KAGzC,SAAShe,GAAc5J,GAC5B,OAAO+M,GAAMrF,QAAQ4B,QAAQtJ,GAGxB,SAAS8nB,GAAiBC,EAAS,wBACxC,MAAMC,EAAS1c,KAAKwU,SAAS7F,WAAWgO,OAAO,GACzC/c,EAAK6c,EAASC,EACpB,OAAO9c,EAGF,SAASC,GAAaD,GAC3B,OAAO6B,GAAMrF,QAAQqN,SAAS7J,GAGzB,SAAS4F,GAAazC,EAAaC,GACxC,OAAO,IAAIgG,IAAI,IAAIjG,GAAGf,OAAQsa,GAAStZ,EAAEuZ,IAAID,KAoBxC,SAASM,GAAa7Z,EAAaC,GACxC,MAAM6Z,EAAUrX,GAAazC,EAAGC,GAChC,OAAO6Z,EAAQrK,KAIV,SAASsK,GAAgB/Z,EAAaC,GAC3C,OAAe,IAAXA,EAAEwP,KACG,EAEFoK,GAAa7Z,EAAGC,GAAKA,EAAEwP,KAUzB,SAASuK,GAAMha,EAAaC,GACjC,OAAO,IAAIgG,IAAI,IAAIjG,KAAMC,IAWpB,SAASuP,GAAIxP,EAAaC,GAC/B,MAAMrP,EAASopB,GAAMrC,GAAW3X,EAAGC,GAAI0X,GAAW1X,EAAGD,IACrD,OAAOpP,ECTM,cAAI2F,OAAO,CACxB5E,KAAM,sBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,IAAKC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KACjDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCtgB,EAAkB,GAClBC,EAAsB,WACtBG,EAAsB,SACtBogB,EAAQ,CACZjf,KAAM,GACNV,WAAY,IAER4f,EAAa,GAAO7W,MAC1B,MAAO,CACL8W,IAAK,GACL1gB,kBACAC,sBACAG,sBACAgS,SACAoO,QACAL,SACAtiB,MAAO,GACP8iB,WAAY,UACZC,gBAAiB,UACjBC,gBAAiB,UACjBC,gBAAiB,UACjBvR,QACAwR,WAAY,UACZC,gBAAiB,UACjB9gB,YAAY,IAAI3G,KAAKuG,SAASqM,SAASrW,OACvC2qB,eAGJQ,SAAU,CACR,4BACE,GAAqC,cAAjC1nB,KAAKoB,OAAOC,MAAMuF,YACpB,MAAO,GAET,IAAI2K,EAA4BvR,KAAKoB,OAAOC,MAAMkQ,0BAIlD,OAHkC,OAA9BA,IACFA,EAA4B,IAEvBA,GAET,cACE,IAAI3K,EAAc5G,KAAKoB,OAAOC,MAAMuF,YACpC,OAAOA,GAET,qBACE,OAAO5G,KAAKoB,OAAOC,MAAMyR,oBAE3B,mBACE,OAAO9S,KAAKoB,OAAOC,MAAM0R,kBAE3B,UAEE,OADA/S,KAAK2G,YAAc,IAAI3G,KAAKuG,SAASqM,SAASrW,OACvC,IAAIyD,KAAKuG,SAASqM,UAE3B,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,8BACE,OAAO+B,KAAKuG,SAAS0L,6BAEvB,WACE,MAAO,IAAIjS,KAAKuG,SAASgD,WAE3B,YACE,MAAO,IAAIvJ,KAAKuG,SAASsB,YAE3B,iBACE,IAAI8f,EAAQ3nB,KAAK4nB,eACjB,MAAMC,EAAoB,CAACC,EAAYC,IACxB,MAATJ,EACK3nB,KAAK2N,YAAYma,GAAIhc,GAAK9L,KAAK2N,YAAYoa,GAAIjc,GACpC,WAAT6b,EACF3nB,KAAK2N,YAAYma,GAAIE,SAAWhoB,KAAK2N,YAAYoa,GAAIC,SAC1C,WAATL,EACF3nB,KAAK2N,YAAYma,GAAIG,SAAWjoB,KAAK2N,YAAYoa,GAAIE,SAC1C,OAATN,EACF3nB,KAAK2N,YAAYma,GAAI1H,IAAMpgB,KAAK2N,YAAYoa,GAAI3H,IACrC,aAATuH,EACF3nB,KAAK2N,YAAYma,GAAI1Y,UAAYpP,KAAK2N,YAAYoa,GAAI3Y,UAC3C,UAATuY,EACF3nB,KAAK2N,YAAYma,GAAI5H,OAASlgB,KAAK2N,YAAYoa,GAAI7H,OAErDlgB,KAAK2N,YAAYma,GAAIhB,MAAM7K,KAAOjc,KAAK2N,YAAYoa,GAAIjB,MAAM7K,KAEhEiM,EAAqB,CAACJ,EAAYC,KAC9BF,EAAkBC,EAAIC,GAGhC,IAAII,EAAiBnoB,KAAK6B,YAAYlC,QACtC,GAAqC,cAAjCK,KAAKoB,OAAOC,MAAMuF,YAA6B,CACjD,IAAIwhB,EAA2B,GAC/BD,EAAehgB,QAASlK,IACtBmqB,EAAyBvrB,KAAKoB,EAAE,IAAI+B,KAAKgS,wBAAwB/T,GAAG,OAEtE+B,KAAKuR,0BAA0BpJ,QAASlK,IACtCmqB,EAAyBvrB,KAAKoB,EAAEE,QAElCgqB,EAAiBC,EAEnB,OAAQpoB,KAAKyG,iBACX,IAAK,YACH0hB,EAAetc,KAAKgc,GACpB,MACF,IAAK,aACHM,EAAetc,KAAKqc,GACpB,MACF,IAAK,eACHC,EAAetc,OACf,MAEJ,OAAOsc,GAET,0BACE,OAAOnoB,KAAKoB,OAAOC,MAAM2Q,yBAE3B,2BACE,OAAOhS,KAAKmoB,gBAEd,iBACE,IAAIP,EAAiB,GACrB,OAAQ5nB,KAAK0G,qBACX,IAAK,WACHkhB,EAAiB,WACjB,MACF,IAAK,KACHA,EAAiB,KACjB,MACF,IAAK,UACHA,EAAiB,UACjB,MACF,IAAK,UACHA,EAAiB,UACjB,MACF,IAAK,MACHA,EAAiB,MACjB,MACF,IAAK,YACHA,EAAiB,YACjB,MACF,IAAK,SACHA,EAAiB,SACjB,MAEJ,OAAOA,GAET,oBACE,IAAIja,EAAc,GACdgR,EAAmB,CACrB,SACA,sBACA,qBAEE7L,EAAiD,UAA5B9S,KAAK6G,oBAAkC7G,KAAKoB,OAAOC,MAAMyR,mBAAqB9S,KAAKoB,OAAOC,MAAM0R,iBACrHsV,EAA2B,GAC/B,IAAK,IAAIpqB,KAAK6U,EACP6L,EAAiBxY,SAASlI,KACL,OAApBA,EAAEuf,UAAU,EAAE,GAChB6K,EAAyBpqB,GAAKA,EAAI,IAAM+B,KAAKgS,wBAAwB/T,GAAG,IAExEoqB,EAAyBpqB,GAAKA,GAIpC,IAAK,IAAIA,KAAKoqB,EACZ1a,EAAY0a,EAAyBpqB,IAAM,CACzC6oB,MAAO,IAAIrU,IACX6V,MAAO,IAAI7V,IACXoN,GAAI,IAAIpN,IACRhS,GAAI,IAAIgS,IACR8M,GAAI,IAAI9M,IACRiN,GAAI,IAAIjN,IACR3G,GAAI,EACJmc,SAAU,EACVD,SAAS,EACT5H,IAAK,EACLhR,UAAW,EACX8Q,OAAQ,EACRD,SAAS,GAIb,IAAK,IAAIhiB,KAAK6U,EACZ,IAAK6L,EAAiBxY,SAASlI,GAAI,CACjC0P,EAAY0a,EAAyBpqB,IAAI4hB,GAAK0I,EAAiBzV,EAAmB7U,GAAG+iB,aAAclO,EAAmB7U,GAAG2iB,gBACzHjT,EAAY0a,EAAyBpqB,IAAIshB,GAAKgJ,EAAiBzV,EAAmB7U,GAAG6iB,aAAchO,EAAmB7U,GAAGyiB,gBACzH/S,EAAY0a,EAAyBpqB,IAAIwC,GAAK8nB,EAAiBzV,EAAmB7U,GAAGgjB,aAAcnO,EAAmB7U,GAAG4iB,gBACzHlT,EAAY0a,EAAyBpqB,IAAIyhB,GAAK6I,EAAiBzV,EAAmB7U,GAAG8iB,aAAcjO,EAAmB7U,GAAG0iB,gBACzHhT,EAAY0a,EAAyBpqB,IAAI6oB,MAAQyB,EAAiB5a,EAAY0a,EAAyBpqB,IAAIshB,GAAI5R,EAAY0a,EAAyBpqB,IAAIyhB,IACxJ/R,EAAY0a,EAAyBpqB,IAAIqqB,MAAQC,EAAiB5a,EAAY0a,EAAyBpqB,IAAI4hB,GAAIlS,EAAY0a,EAAyBpqB,IAAIwC,IAC/IkN,EAAY0a,EAAyBpqB,IAAIshB,GAAGtD,KAC5CtO,EAAY0a,EAAyBpqB,IAAI4hB,GAAG5D,KAC5CtO,EAAY0a,EAAyBpqB,IAAIwC,GAAGwb,KAC5CtO,EAAY0a,EAAyBpqB,IAAIyhB,GAAGzD,KACrDtO,EAAY0a,EAAyBpqB,IAAImR,UAAY0D,EAAmB7U,GAAGmR,UAC3EzB,EAAY0a,EAAyBpqB,IAAIiiB,OAASpN,EAAmB7U,GAAGiiB,OACxEvS,EAAY0a,EAAyBpqB,IAAIgiB,SAAWnN,EAAmB7U,GAAGgiB,SAC1EtS,EAAY0a,EAAyBpqB,IAAI6N,GAAKgH,EAAmB7U,GAAG6N,GACpE6B,EAAY0a,EAAyBpqB,IAAImiB,IAAMtN,EAAmB7U,GAAGmiB,IAIzE,SAASmI,EAAiBC,EAAMC,GAC9B,IAAIC,EAAM,IAAIF,GACVG,EAAY,IAAIF,GAIpB,OAHAE,EAAUxgB,QAAS9L,IACjBqsB,EAAI7rB,KAAKR,KAEJ,IAAIoW,IAAIiW,GAEjB,OAAO/a,GAET,cACE,IAAIA,EAAc,GAClB,GAAwB,cAApB3N,KAAK4G,YACP,OAAO5G,KAAK4oB,kBACP,CACL,IAAIP,EAA2B,GAC/BroB,KAAK6B,YAAYsG,QAASlK,IACxBoqB,EAAyBpqB,GAAKA,IAGhC+B,KAAK6B,YAAYsG,QAASlK,IACxB0P,EAAY0a,EAAyBpqB,IAAM,CACzC6oB,MAAO,IAAIrU,IACX6V,MAAO,IAAI7V,IACXoN,GAAI,IAAIpN,IACRhS,GAAI,IAAIgS,IACR8M,GAAI,IAAI9M,IACRiN,GAAI,IAAIjN,IACR3G,GAAI,EACJmc,SAAU,EACVD,SAAS,EACT5H,IAAK,EACLhR,UAAW,EACX8Q,OAAQ,EACRD,SAAS,KAKb,IAAI4I,EAAa,GACjB7oB,KAAK6B,YAAYsG,QAASlK,IACxB4qB,EAAW5qB,GAAK,GAChB+B,KAAK4S,QAAQzK,QAASjK,IACpB2qB,EAAW5qB,GAAGC,GAAK,CAAC,MAAQ,GAAG,MAAQ,GAAG,GAAK,GAAG,GAAK,GAAG,GAAK,GAAG,GAAK,GAAG,KAAO,GAAG,OAAS,QAGjG8B,KAAK6H,UAAUM,QAASkB,IACtB,IAAIhN,EAAKiN,GAAaD,GACtBrJ,KAAK6B,YAAYsG,QAASlK,IACxB,IAAI6qB,EAAazsB,EAAEqR,OACfqb,EAAe1sB,EAAEsR,YAAY1P,GAC7B0lB,EAAgB1lB,EACpB4qB,EAAWlF,GAAeoF,GAAczZ,KAAKzS,KAAKwM,GAClDwf,EAAWlF,GAAemF,GAAYpb,OAAO7Q,KAAKwM,GAE9ChN,EAAEsR,YAAY1P,IAAM5B,EAAEqR,QACxBmb,EAAW5qB,GAAG6qB,GAAYhC,MAAMjqB,KAAKwM,GACrCwf,EAAWlF,GAAemF,GAAYvJ,GAAG1iB,KAAKwM,GAC9CrJ,KAAK4S,QAAQzK,QAAS5K,IAChBA,GAAKwrB,GACPF,EAAWlF,GAAepmB,GAAGmiB,GAAG7iB,KAAKwM,OAIzCwf,EAAW5qB,GAAG6qB,GAAYR,MAAMzrB,KAAKwM,GACrCwf,EAAW5qB,GAAG8qB,GAAclJ,GAAGhjB,KAAKwM,GACpCwf,EAAWlF,GAAemF,GAAYroB,GAAG5D,KAAKwM,QAK9BrJ,KAAK6H,UAAUtL,OA2ErC,OA1EAyD,KAAK6H,UAAUM,QAASkB,IACtB,MAAMhN,EAAIiN,GAAaD,GACvBrJ,KAAK6B,YAAYsG,QAASlK,IACpB5B,EAAEsR,YAAY1P,KAAO5B,EAAEqR,OACzBC,EAAY0a,EAAyBpqB,IAAI6oB,MAAM1F,IAAI/X,GAEnDsE,EAAY0a,EAAyBpqB,IAAIqqB,MAAMlH,IAAI/X,GAEjDhN,EAAEqR,QAAU1N,KAAK4S,QAAQ,GACrBvW,EAAEsR,YAAY1P,IAAM5B,EAAEqR,OACxBC,EAAY0a,EAAyBpqB,IAAIshB,GAAG6B,IAAI/X,GAEhDsE,EAAY0a,EAAyBpqB,IAAIwC,GAAG2gB,IAAI/X,GAG9ChN,EAAEsR,YAAY1P,IAAM5B,EAAEqR,OACxBC,EAAY0a,EAAyBpqB,IAAIyhB,GAAG0B,IAAI/X,GAEhDsE,EAAY0a,EAAyBpqB,IAAI4hB,GAAGuB,IAAI/X,OAO1DrJ,KAAK6B,YAAYsG,QAASlK,IACxB,IAAIshB,EAAK5R,EAAY0a,EAAyBpqB,IAAIshB,GAAGtD,KACjD4D,EAAKlS,EAAY0a,EAAyBpqB,IAAI4hB,GAAG5D,KACjDxb,EAAKkN,EAAY0a,EAAyBpqB,IAAIwC,GAAGwb,KACjDyD,EAAK/R,EAAY0a,EAAyBpqB,IAAIyhB,GAAGzD,KACrDtO,EAAY0a,EAAyBpqB,IAAImR,UAAYmQ,GAAMA,EAAKM,GAChElS,EAAY0a,EAAyBpqB,IAAIiiB,OAASX,GAAOA,EAAK9e,GAC9DkN,EAAY0a,EAAyBpqB,IAAIgiB,UAAYV,EAAKG,IAAOH,EAAKG,EAAIG,EAAKpf,GAC/EkN,EAAY0a,EAAyBpqB,IAAI6N,GAAK,EAAK6B,EAAY0a,EAAyBpqB,IAAImR,UAAazB,EAAY0a,EAAyBpqB,IAAIiiB,QAAWvS,EAAY0a,EAAyBpqB,IAAImR,UAAazB,EAAY0a,EAAyBpqB,IAAIiiB,QAE1PvS,EAAY0a,EAAyBpqB,IAAImiB,KADtCb,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,GACY8e,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAEvD,IAK/CT,KAAK4S,QAAQrW,OAAS,GACxByD,KAAK6B,YAAYsG,QAASlK,IACtB,IAAI+qB,EAAW,EACXC,EAAW,EACXC,EAAW,EACXC,EAAW,EAEXC,EAAW,EACfppB,KAAK4S,QAAQzK,QAAS5K,IACpB,IAAI8rB,EAASR,EAAW5qB,GAAGV,GAAGgiB,GAAGhjB,OAC7B+sB,EAAST,EAAW5qB,GAAGV,GAAGsiB,GAAGtjB,OAC7BgtB,EAASV,EAAW5qB,GAAGV,GAAGmiB,GAAGnjB,OAC7BitB,EAASX,EAAW5qB,GAAGV,GAAGkD,GAAGlE,OACjCysB,GAAaK,EACbJ,GAAYK,EACZJ,GAAaK,EACbJ,GAAYK,EACZ,IAAIC,EAAUJ,GAAUA,EAASC,GAC7BI,EAAaL,GAAUA,EAASG,GACpCJ,GAAcK,EAAUC,GAAe,EAAI,EAAI,EAAID,EAAUC,GAAcD,EAAUC,KAEvF/b,EAAY0a,EAAyBpqB,IAAIgqB,SAAWmB,EAAWppB,KAAK4S,QAAQrW,OAC5E,IAAIotB,EAAcX,GAAYA,EAAWG,GACrCS,EAAWZ,GAAYA,EAAWC,GACtCtb,EAAY0a,EAAyBpqB,IAAI+pB,SAAY2B,EAAeC,GAAe,EAAG,EAAID,EAAeC,EAAY,GAAKD,EAAeC,GAEvIjc,EAAY0a,EAAyBpqB,IAAImiB,KADtC4I,EAASC,IAAWD,EAASG,IAAWD,EAASD,IAAWC,EAASC,IAAa,GACpCH,EAASE,EAASD,EAASE,GAAY1f,KAAK0W,MAAM6I,EAASC,IAAWD,EAASG,IAAWD,EAASD,IAAWC,EAASC,IAEzH,IAIhDxb,IAKX,cAAsB,OAAQ3N,KAAKoB,OAAOC,MAAM+R,aAChD,WAAmB,OAAOpT,KAAKoB,OAAOC,MAAMgS,UAC5C,mBAA4B,OAAOrT,KAAKoB,OAAOC,MAAMiS,kBAErD,aAIE,OAAOtT,KAAKoB,OAAOC,MAAM8J,mBAE3B,IACE,MAAMwN,EAAI7O,GAAA,OACPC,OAAO/J,KAAKooB,0BACZyB,MAAM,CAAC,EAAG7pB,KAAKgW,QACf8T,aAAa,GACbC,aAAa,IAChB,OAAOpR,GAET,IACE,MAAMC,EAAI9O,GAAA,OACPC,OAAO,CAAwB,OAAvB/J,KAAK4nB,gBAA0B,EAAI,EAAG,IAC9CiC,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,IAGXoR,MAAO,CACL,sBACEhqB,KAAKiqB,eAEP,kBACEjqB,KAAKiqB,eAEP,sBACEjqB,KAAKiqB,eAEP,QACEjqB,KAAKkqB,aAEP,0BACElqB,KAAKiqB,eAEP,YACEjqB,KAAKiqB,eAEP,aACEjqB,KAAKiqB,eAEP,mBACkC,YAA5BjqB,KAAK6G,qBACP7G,KAAKiqB,eAGT,qBACEjqB,KAAKiqB,eAEP,cACEjqB,KAAKiqB,eAEP,WACEjqB,KAAKiqB,eAEP,mBACEjqB,KAAKiqB,gBAGT,UACEjqB,KAAKiqB,eAEP/mB,QAAS,CACP,aACElD,KAAKinB,MAAQ,CAAEjf,KAAM,GAAIV,WAAY,KAEvC,YAEE,MAAM6iB,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BiD,EAAYD,EAAME,UAAU,cAC5BC,EAAYH,EAAME,UAAU,cAC5BE,EAAkBJ,EAAMK,OAAO,uBAC/BC,EAAuBN,EAAMK,OAAO,6BACpCE,EAAuBP,EAAMK,OAAO,8BACpC,MAAEpf,EAAK,OAAE+E,GAAWnQ,KAAKiY,WACzB0S,EAAkBR,EAAMK,OAAO,kCAC/BI,EAAkBT,EAAMK,OAAO,kCAC/BK,EAAaV,EAAMK,OAAO,uBAE1BM,EAAe,IACfC,EAAoB,IACpBpJ,EAAgB7X,GAAA,KAAU,OAC1BkhB,EAAa,CAACC,EAAuBC,EAAoB7U,KAC7D,MAAMxO,EAAY7H,KAAK2N,YAAYsd,GAAgBC,GAE1B,aAArBlrB,KAAK4nB,gBACU5nB,KAAK2N,YAAYsd,GAAgB,MAAMhP,KAAKjc,KAAK2N,YAAYsd,GAAgB,MAAMhP,MACrE,UAArBjc,KAAK4nB,gBACG5nB,KAAK2N,YAAYsd,GAAgB,MAAMhP,KAAKjc,KAAK2N,YAAYsd,GAAgB,MAAMhP,MAEnFjc,KAAK6H,UAAUtL,OACnC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GACrD,OAAO8U,EAAqBlP,OAGzB7Q,GAAS+E,IAAoC,OAAvBnQ,KAAK4nB,gBAAkD,WAAvB5nB,KAAK4nB,gBAAsD,WAAvB5nB,KAAK4nB,gBAAqD,MAAvB5nB,KAAK4nB,gBACrIiD,EAAUO,aACPC,SAASP,GACTzR,KAAK,UAAW,GAChBA,KAAK,YAAc,2BAChBrZ,KAAK2Y,EAAE3Y,KAAKinB,MAAM3f,6BAClBtH,KAAK4Y,EAAE,GAAK,OAEfxN,GAAgC,OAAvBpL,KAAK4nB,gBAAkD,WAAvB5nB,KAAK4nB,gBAAsD,WAAvB5nB,KAAK4nB,gBAAqD,MAAvB5nB,KAAK4nB,gBAKhG,UAApB5nB,KAAKinB,MAAMjf,MACb2iB,EAAeS,aACdC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAc,2BAChBrZ,KAAK2Y,EAAE3Y,KAAKinB,MAAM3f,YAAY,oBAC9BtH,KAAK4Y,EAAE,GAAK,OACf7T,KAAK,QAAQ4c,EAAcqJ,EAAUhrB,KAAKinB,MAAM3f,WAAgC,aAArBtH,KAAK4nB,gBAC1C,UAArB5nB,KAAK4nB,eADuF,KACxD,QAASxc,EAAMvD,aAC/B,UAApB7H,KAAKinB,MAAMjf,MACb2iB,EAAeS,aACdC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAc,2BAChBrZ,KAAK2Y,EAAE3Y,KAAKinB,MAAM3f,YAAY,oBAC9BtH,KAAK4Y,EAAE,GAAK,OACf7T,KAAK,QAAQ4c,EAAcqJ,EAAUhrB,KAAKinB,MAAM3f,WAAgC,aAArBtH,KAAK4nB,eAA6B,KACvE,UAArB5nB,KAAK4nB,eAAyB,KAAM,QAASxc,EAAMvD,cArBvD8iB,EAAeS,aACZC,SAASN,GACT1R,KAAK,eAAgB,GAqBrBlJ,GAAgC,OAAvBnQ,KAAK4nB,gBAAkD,WAAvB5nB,KAAK4nB,gBAAsD,WAAvB5nB,KAAK4nB,gBAAqD,MAAvB5nB,KAAK4nB,gBAKhG,UAApB5nB,KAAKinB,MAAMjf,MACb4iB,EAAeQ,aACdC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAc,2BAChBrZ,KAAK2Y,EAAE3Y,KAAKinB,MAAM3f,YAAY,oBAC9BtH,KAAK4Y,EAAE,GAAI,OACd7T,KAAK,QAAQ4c,EAAcqJ,EAAUhrB,KAAKinB,MAAM3f,WAAgC,aAArBtH,KAAK4nB,gBAC1C,UAArB5nB,KAAK4nB,eADuF,KACxD,QAASzX,EAAOtI,aAChC,UAApB7H,KAAKinB,MAAMjf,MACb4iB,EAAeQ,aACdC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAc,2BAChBrZ,KAAK2Y,EAAE3Y,KAAKinB,MAAM3f,YAAY,oBAC9BtH,KAAK4Y,EAAE,GAAI,OACd7T,KAAK,QAAQ4c,EAAcqJ,EAAUhrB,KAAKinB,MAAM3f,WAAgC,aAArBtH,KAAK4nB,eAA6B,KACvE,UAArB5nB,KAAK4nB,eAAyB,KAAM,QAASzX,EAAOtI,cArBxD+iB,EAAeQ,aACZC,SAASN,GACT1R,KAAK,eAAgB,GAqBF,UAApBrZ,KAAKinB,MAAMjf,KACboiB,EAAUruB,KAAKiE,KAAKooB,0BACjB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKinB,MAAM3f,WACbtH,KAAKqnB,gBACLrnB,KAAKonB,YAEbgD,EAAU/Q,KAAK,OAAQrZ,KAAKonB,YAGN,UAApBpnB,KAAKinB,MAAMjf,KACbsiB,EAAUvuB,KAAKiE,KAAKooB,0BACjB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKinB,MAAM3f,WACbtH,KAAKynB,gBACLznB,KAAKwnB,YAEb8C,EAAUjR,KAAK,OAAQrZ,KAAKwnB,YAI1BxnB,KAAKinB,MAAMjf,MACbuiB,EACGa,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAA6B,MAAvBrZ,KAAK4nB,eAAyB5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAYwE,IAC3B,aAAvB9L,KAAK4nB,eAAgC5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY8H,WAC7D,UAAvBpP,KAAK4nB,eAA6B5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY4Y,QAC1D,WAAvBlgB,KAAK4nB,eAA8B5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY2gB,UAC3D,WAAvBjoB,KAAK4nB,eAA8B5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY0gB,UAC3D,OAAvBhoB,KAAK4nB,eAA0B5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY8Y,KAC9EpgB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY2Y,WAErF5G,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAA6B,MAAvBrZ,KAAK4nB,eAAyB5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAYwE,IAC3B,aAAvB9L,KAAK4nB,eAAgC5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY8H,WAC7D,UAAvBpP,KAAK4nB,eAA6B5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY4Y,QAC1D,WAAvBlgB,KAAK4nB,eAA8B5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY2gB,UAC3D,WAAvBjoB,KAAK4nB,eAA8B5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY0gB,UAC3D,OAAvBhoB,KAAK4nB,eAA0B5nB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY8Y,KAC9EpgB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY2Y,WAExFwK,EACGW,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAoC,MAAvBrZ,KAAK4nB,eACtB,2BACE5nB,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,mBAC7CtrB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAYwE,IAAM,MAC/B,aAAvB9L,KAAK4nB,eACN,2BACE5nB,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,mBAC7CtrB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY8H,WAAa,MACtC,UAAvBpP,KAAK4nB,eACN,2BACE5nB,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,mBAC7CtrB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY4Y,QAAU,MACnC,WAAvBlgB,KAAK4nB,eACN,2BACE5nB,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,mBAC7CtrB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY2gB,UAAY,MACrC,WAAvBjoB,KAAK4nB,eACN,2BACE5nB,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,mBAC7CtrB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY0gB,UAAY,MACrC,OAAvBhoB,KAAK4nB,eACN,2BACE5nB,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,mBAC7CtrB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY8Y,KAAO,MACtD,2BACApgB,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,mBAC7CtrB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAYwf,MAAM7K,KAAOjc,KAAK6H,UAAUtL,QAAU,OACxFwI,KAA4B,MAAvB/E,KAAK4nB,gBAAyE,IAA7C5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAYwE,IAAUuM,QAAQ,GAA9D,IACL,aAAvBrY,KAAK4nB,gBAAuF,IAApD5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY8H,WAAiBiJ,QAAQ,GAArE,IACb,UAAvBrY,KAAK4nB,gBAAiF,IAAjD5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY4Y,QAAc7H,QAAQ,GAAlE,IACV,WAAvBrY,KAAK4nB,gBAAoF,IAAnD5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY2gB,UAAgB5P,QAAQ,GAApE,IACX,WAAvBrY,KAAK4nB,gBAAoF,IAAnD5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY0gB,UAAgB3P,QAAQ,GAApE,IACX,OAAvBrY,KAAK4nB,gBAA2E,IAA9C5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY8Y,KAAW/H,QAAQ,GAA/D,KACyB,IAAnDrY,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY2Y,UAAgB5H,QAAQ,GAApE,KAEkB,YAAvBrY,KAAK4nB,gBACN8C,EACEU,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAoC,MAAvBrZ,KAAK4nB,eACxB,6BACI5nB,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,qBAC5CtrB,KAAK4Y,EAAG,GAAI,EAAI5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAYiY,GAAGtD,MAAQjc,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAYiY,GAAGtD,KAAOjc,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAG5D,QAAS,MAC3K,6BACCjc,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,qBAC7CtrB,KAAK4Y,EAAE5Y,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAYwf,MAAM7K,KAAOjc,KAAK6H,UAAUtL,QAAU,OACxFwI,KAA4B,MAAvB/E,KAAK4nB,gBACD,IAAiD,IAA7C5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAYwE,IAAUuM,QAAQ,GAAlE,IACwB,aAAvBrY,KAAK4nB,gBACF,IAAwD,IAApD5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY8H,WAAiBiJ,QAAQ,GAAzE,IACwB,UAAvBrY,KAAK4nB,gBACF,IAAqD,IAAjD5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY4Y,QAAc7H,QAAQ,GAAtE,IACwB,WAAvBrY,KAAK4nB,gBACF,IAAuD,IAAnD5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY2gB,UAAgB5P,QAAQ,GAAxE,IACwB,WAAvBrY,KAAK4nB,gBACF,IAAuD,IAAnD5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY0gB,UAAgB3P,QAAQ,GAAxE,IACwB,OAAvBrY,KAAK4nB,gBACF,IAAkD,IAA9C5nB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY8Y,KAAW/H,QAAQ,GAAnE,KACK,IAAuD,IAAnDrY,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY2Y,UAAgB5H,QAAQ,GAAxE,OAIXkS,EACGa,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1BoR,EACGW,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBqR,EACGU,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBsR,EAAeS,aACZC,SAASN,GACT1R,KAAK,eAAgB,GACxBuR,EAAeQ,aACZC,SAASN,GACT1R,KAAK,eAAgB,GACxBwR,EAAUO,aACPC,SAASN,GACT1R,KAAK,UAAW,KAGvB,cAEEvP,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,IAAIC,EAAS,IAEb,MAAMrE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS2S,EAASxrB,KAAK4mB,OAAOG,UACtC3N,OAAO,KACLC,KAAK,YAAa,aAAamS,WAS9B7S,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EAET6S,EAAW,KACf,MAAMC,EAASC,GAAWA,EACvBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAc6O,GACXiT,cAAc,IAGrBzE,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SAEvB,MAAMwS,EAASF,GAAWA,EACvBhvB,KAAKmN,GAAA,KAAY8O,GACfkT,MAAM,GACNC,WAAWjiB,GAAA,KAAU,SAG1Bqd,EAAI/N,OAAO,KACRzc,KAAKkvB,GACLxS,KAAK,YAAa,KAEvBoS,IAEA,MAAMO,EAAa,KACjB7E,EAAI/N,OAAO,QACRC,KAAK,YAAa,KACjB,MAAM4S,EAAUjsB,KAAKgW,MAAQ,EACvBkW,EAAUlsB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,cAERoiB,EAAI/N,OAAO,QACRC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,GACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAA4B,YAAvB/E,KAAK4nB,eAA8B,wBACf,OAAvB5nB,KAAK4nB,eAAyB,YACP,aAAvB5nB,KAAK4nB,gBACkB,UAAvB5nB,KAAK4nB,eAD+B,wBAEb,WAAvB5nB,KAAK4nB,eAA6B,iBACX,WAAvB5nB,KAAK4nB,eAA6B,iBAAiB,YACxDT,EAAI/N,OAAO,QAERC,KAAK,IAAKrZ,KAAKgW,MAAQ,GACvBqD,KAAK,KAAM,KACXA,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,MAAkC,UAA5B/E,KAAK6G,oBAAkC,GAAK,cAAuC,YAAvB7G,KAAK4nB,eAA8B,WAC5E,OAAvB5nB,KAAK4nB,eAAyB,MACP,aAAvB5nB,KAAK4nB,eAA+B,YACb,UAAvB5nB,KAAK4nB,eAA4B,SACV,WAAvB5nB,KAAK4nB,eAA6B,WACX,WAAvB5nB,KAAK4nB,eAA6B,WAAW,QAGpDoE,IACA,MAAMG,EAAa,KACjB,MAAMnW,EAAQhW,KAAKgW,MAAQ,EACrB6C,EAAS7Y,KAAK4mB,OAAOC,IAAM,EAE3BrF,EAAS2F,EAAI/N,OAAO,KACrBC,KAAK,QAAS,UACdA,KAAK,YAAa,6BACF,EAAbrZ,KAAKgW,MAAY,qBACT,GAAP6C,MAET2I,EAAOpI,OAAO,QACXC,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAQrZ,KAAKwnB,YAClBxhB,MAAM,aAAqC,YAAvBhG,KAAK4nB,gBACiB,aAAvB5nB,KAAK4nB,gBACkB,UAAvB5nB,KAAK4nB,eAA4B,UAAU,UAGjEpG,EAAOpI,OAAO,QACXC,KAAK,IAAKR,EAAS,GACnBQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAQrZ,KAAKonB,YAClBphB,MAAM,aAAqC,YAAvBhG,KAAK4nB,gBACiB,aAAvB5nB,KAAK4nB,gBACkB,UAAvB5nB,KAAK4nB,eAA4B,UAAU,UAEjEpG,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAM6C,EAAS,MACtDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAA4B,YAAvB/E,KAAK4nB,eAA+B,gBACD,aAAvB5nB,KAAK4nB,eAAgC,KACd,UAAvB5nB,KAAK4nB,eAA4B,KAAM,IACxD5hB,MAAM,aAAqC,YAAvBhG,KAAK4nB,gBACiB,aAAvB5nB,KAAK4nB,gBACkB,UAAvB5nB,KAAK4nB,eAA4B,UAAU,UAEjEpG,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAe,EAAT6C,EAAa,MAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAA4B,YAAvB/E,KAAK4nB,eAA+B,uBACD,aAAvB5nB,KAAK4nB,gBACkB,UAAvB5nB,KAAK4nB,eADgC,KACE,IACxD5hB,MAAM,aAAqC,YAAvBhG,KAAK4nB,gBACiB,aAAvB5nB,KAAK4nB,gBACkB,UAAvB5nB,KAAK4nB,eAA4B,UAAU,WAG7DwE,EAAW,KACf,MAAM1T,EAAWyO,EAAIkD,UAAU,SAC5BtuB,KAAKiE,KAAKooB,0BACViE,KAAK,KACHhT,KAAK,QAAS,QACdA,KAAK,YAAcnb,GAAc,aAAaya,EAAEza,UACrD8B,KAAKmnB,IAAMA,EAEX,MAAMmF,EAAW3T,EAAE2S,YACD5S,EAASU,OAAO,UAC/BC,KAAK,KAAMiT,EAAW,GACtBjT,KAAK,KAAOnb,GAAc8B,KAAK6Y,OAAO,IACtCQ,KAAK,IAAI,QACTA,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,QACf1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,QAASV,WAAYpJ,IAC1EyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,QAAS,UACnDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,QAAS,WACzD8H,MAAM,aAAe9H,IACpB,IAAIU,EAAgC,MAAvBoB,KAAK4nB,eAA0B5nB,KAAK2N,YAAYzP,GAAK,GACzC,OAAvB8B,KAAK4nB,eAA2B5nB,KAAK2N,YAAYzP,GAAM,IAChC,aAAvB8B,KAAK4nB,eAAiC5nB,KAAK2N,YAAYzP,GAAY,UAC5C,UAAvB8B,KAAK4nB,eAA8B5nB,KAAK2N,YAAYzP,GAAS,OACvC,WAAvB8B,KAAK4nB,eAA+B5nB,KAAK2N,YAAYzP,GAAW,SACzC,WAAvB8B,KAAK4nB,eAA+B5nB,KAAK2N,YAAYzP,GAAW,SAC/D8B,KAAK2N,YAAYzP,GAAW,SAC9B,OAAIU,EAAQ,IAAe,UACpB,WAnBX,IAqBI4tB,EAAO9T,EAASU,OAAO,QACxBC,KAAK,QAAS,aACdA,KAAK,IAAMnb,GAAqC,MAAvB8B,KAAK4nB,eAAyBhP,EAAE5Y,KAAK2N,YAAYzP,GAAG4N,IACjD,OAAvB9L,KAAK4nB,eAA0BhP,EAAE5Y,KAAK2N,YAAYzP,GAAGkiB,KAC9B,aAAvBpgB,KAAK4nB,eAAgChP,EAAE5Y,KAAK2N,YAAYzP,GAAGkR,WACpC,UAAvBpP,KAAK4nB,eAA6BhP,EAAE5Y,KAAK2N,YAAYzP,GAAGgiB,QACjC,WAAvBlgB,KAAK4nB,eAA8BhP,EAAE5Y,KAAK2N,YAAYzP,GAAG+pB,UAClC,WAAvBjoB,KAAK4nB,eAA8BhP,EAAE5Y,KAAK2N,YAAYzP,GAAG8pB,UAC1DpP,EAAE5Y,KAAK2N,YAAYzP,GAAG+hB,WAC1B5G,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAqC,MAAvB8B,KAAK4nB,eAAyB5nB,KAAK6Y,OAASD,EAAE5Y,KAAK2N,YAAYzP,GAAG4N,IACtE,OAAvB9L,KAAK4nB,eAA0B5nB,KAAK6Y,OAASD,EAAE5Y,KAAK2N,YAAYzP,GAAGkiB,KAC5C,aAAvBpgB,KAAK4nB,eAAgC5nB,KAAK6Y,OAASD,EAAE5Y,KAAK2N,YAAYzP,GAAGkR,WAClD,UAAvBpP,KAAK4nB,eAA6B5nB,KAAK6Y,OAASD,EAAE5Y,KAAK2N,YAAYzP,GAAGgiB,QAChD,WAAvBlgB,KAAK4nB,eAA8B5nB,KAAK6Y,OAASD,EAAE5Y,KAAK2N,YAAYzP,GAAG+pB,UAChD,WAAvBjoB,KAAK4nB,eAA8B5nB,KAAK6Y,OAASD,EAAE5Y,KAAK2N,YAAYzP,GAAG8pB,UACvEhoB,KAAK6Y,OAASD,EAAE5Y,KAAK2N,YAAYzP,GAAG+hB,WACtC5G,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,QAASV,WAAYpJ,IAC1EyC,GAAG,aAAcX,KAAKusB,YAEzB,GAA2B,YAAvBvsB,KAAK4nB,gBAAwD,aAAvB5nB,KAAK4nB,gBAAyD,UAAvB5nB,KAAK4nB,eAA4B,CAC9G4E,EAAK7rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,QAAS,UACvDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,QAAS,WAE1Dwa,EAASU,OAAO,QACbC,KAAK,QAAS,aACdA,KAAK,IAAMnb,GAAc0a,EAAE,IAC3BS,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAqC,aAAvB8B,KAAK4nB,eAAgC5nB,KAAK6Y,OAASD,EAAE,EAAE5Y,KAAK2N,YAAYzP,GAAGkR,WAC/E,UAAvBpP,KAAK4nB,eAA6B5nB,KAAK6Y,OAASD,EAAE,EAAE5Y,KAAK2N,YAAYzP,GAAGgiB,QACzElgB,KAAK6Y,OAASD,EAAE,EAAE5Y,KAAK2N,YAAYzP,GAAG+hB,WACxC5G,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,QAASV,WAAYpJ,IAC1EyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,QAAS,UACnDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,QAAS,WAC1Cwa,EAASU,OAAO,UACzBC,KAAK,KAAMiT,EAAW,GACtBjT,KAAK,KAAM,IACXA,KAAK,IAAI,QACTA,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,QACf1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,QAASV,WAAYpJ,IAC1EyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,QAAS,UACnDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,QAAS,WACzD8H,MAAM,aAAe9H,IACpB,IAAIU,EAAgC,aAAvBoB,KAAK4nB,eAAiC,EAAE5nB,KAAK2N,YAAYzP,GAAGkR,UAChD,UAAvBpP,KAAK4nB,eAA6B,EAAE5nB,KAAK2N,YAAYzP,GAAGgiB,OACxD,EAAElgB,KAAK2N,YAAYzP,GAAG+hB,SACxB,OAAa,GAATrhB,EAAmB,SACnBA,EAAQ,IAAe,UACpB,aAKjB2rB,EAAkB,KACtBpD,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,KAAMT,EAAE,IACbS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMT,EAAE,IACbS,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,SAGtBoT,EAAkB,KACtBtF,EAAI/N,OAAO,QACRC,KAAK,QAAS,4BACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKqnB,iBAClBhO,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,4BACdA,KAAK,cAAe,UACpBA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKynB,iBAClBpO,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,QAAS,KACdA,KAAK,SAAS,IACdA,KAAK,SAAS,QACdA,KAAK,OAAO,SACZA,KAAK,UAAW,GACnB8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,iCACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,aACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,iCACdA,KAAK,cAAe,UACpBA,KAAK,YAAa,IAClBA,KAAK,OAAQ,OACbA,KAAK,iBAAkB,SAG5B8S,IACAC,IACA7B,IACAkC,IAEAzsB,KAAKkqB,YACLlqB,KAAK0sB,kBAEP,iBAEE,MAAMvC,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAE7B0D,EAAaV,EAAMK,OAAO,wBAC1B,MAAEpf,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAEzBU,EAAI3Y,KAAK2Y,EACT2T,EAAW3T,EAAE2S,YACbqB,EAAoBhU,EAAE2S,YAAc,EACpCsB,EAAgB,CAAC,QAAS,SAC1B3U,EAAa,CAAC7M,EAAO+E,GAE3B,IAAI6O,EAAkB,GAClB1T,EAAe,IAAItL,KAAKoB,OAAOyE,QAAQyI,mBACvC6E,EAAmBnT,KAAKoB,OAAOC,MAAM8R,iBACzC7H,EAAanD,QAASlK,IACpB+gB,EAAgB/gB,GAAK,IAGS,YAA5B+B,KAAK6G,qBACPsM,EAAiBhL,QAASxK,IACxB,IAAIshB,EAAgB,IAAIthB,EAAEkK,WAEtB8K,EAAS8E,WAAY9Z,EAAQ,OAAEya,YACnC6G,EAAc9W,QAAS9L,IACrB2iB,EAAgB3iB,IAAMsW,MAK5B,MAAMka,EAAwBhlB,IAC5B,IAAIoU,EAAO,EAIX,OAHApU,EAAUM,QAAS9L,IACjB4f,GAAQ+C,EAAgB3iB,KAEnB4f,GAGH6Q,EAAS,CAACtE,EAAmBC,KACjC,IAAIsE,EAAS,IAAIvE,GACbwE,EAAS,IAAIvE,GAIjB,OAHAsE,EAAO5kB,QAAS9L,IACd2wB,EAAOnwB,KAAKR,KAEP,IAAIoW,IAAIua,IAGXC,EAAe,CAAChC,EAAuBC,EAAoB7U,KAC/D,MAAMxO,EAAY7H,KAAK2N,YAAYsd,GAAgBC,GACnD,IAAIgC,EAAiB,IAAIza,IAEvBya,EADuB,aAArBltB,KAAK4nB,eACUkF,EAAO9sB,KAAK2N,YAAYsd,GAAgB,MAAOjrB,KAAK2N,YAAYsd,GAAgB,OAClE,UAArBjrB,KAAK4nB,eACEkF,EAAO9sB,KAAK2N,YAAYsd,GAAgB,MAAOjrB,KAAK2N,YAAYsd,GAAgB,OAGhF,IAAIxY,IAAIzS,KAAK6H,WAEhC,MAAMsjB,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2BN,EAAqB,IAAI1B,IAAyB0B,EAAqB,IAAIK,IAC5G,OAAOltB,KAAK4Y,EAAEuU,IAEVC,EAAc,CAACnC,EAAuBC,EAAoB7U,KAC5CrW,KAAK2N,YAAYsd,GAAgBC,GACnD,OAAOlrB,KAAK6Y,OAASoU,EAAahC,EAAgBC,EAAW7U,IAEzDgX,EAAc,CAACpC,EAAuBC,EAAoB7U,KAC9D,MAAMxO,EAAY7H,KAAK2N,YAAYsd,GAAgBC,GACnD,IAAIgC,EAAiB,IAAIza,IAEvBya,EADuB,aAArBltB,KAAK4nB,eACUkF,EAAO9sB,KAAK2N,YAAYsd,GAAgB,MAAOjrB,KAAK2N,YAAYsd,GAAgB,OAClE,UAArBjrB,KAAK4nB,eACEkF,EAAO9sB,KAAK2N,YAAYsd,GAAgB,MAAOjrB,KAAK2N,YAAYsd,GAAgB,OAGhF,IAAIxY,IAAIzS,KAAK6H,WAEhC,MAAMsjB,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2BN,EAAqB,IAAI1B,IAAyB0B,EAAqB,IAAIK,IAC5G,OAAOltB,KAAK6Y,OAAS7Y,KAAK4Y,EAAEuU,IAExBG,EAAe,CAACrC,EAAuBC,EAAoB7U,KAC/D,MAAMxO,EAAY7H,KAAK2N,YAAYsd,GAAgBC,GAC7CC,EAAuBlc,GAAapH,EAAWwO,GACrD,IAAK,MAAMhN,KAAM8hB,EACf,GAAGnrB,KAAKoB,OAAOC,MAAM+R,cAAgB/J,EAAI,OAAO,EAElD,OAAO,GAeLrJ,KAAKinB,MAAMjf,OACgB,OAAvBhI,KAAK4nB,gBAAkD,WAAvB5nB,KAAK4nB,gBAAsD,WAAvB5nB,KAAK4nB,gBAAqD,MAAvB5nB,KAAK4nB,gBAChHiD,EAAUxR,KAAK,UAAW,GACzBA,KAAK,YAAc,6BACdrZ,KAAK2Y,EAAE3Y,KAAKinB,MAAM3f,+BAClBtH,KAAK4Y,EAAE,GAAK,QACdxN,GAAS+E,IACXnQ,KAAKkqB,aAGLW,EAAUxR,KAAK,UAAW,IAMH,WAAvBrZ,KAAK4nB,gBAAsD,WAAvB5nB,KAAK4nB,gBAAsD,MAAvB5nB,KAAK4nB,gBAAiD,OAAvB5nB,KAAK4nB,gBAChH3P,EAAW9P,QAAQ,CAAColB,EAAejK,KAC5BiK,EAKHvtB,KAAKooB,yBAAyBjgB,QAASjK,IACrC0uB,EAAczkB,QAAQ,CAACH,EAAM3L,KAC3B,IAAImxB,EAAuB,CACzB9U,SAAW1Y,KAAKmnB,IAChBxO,EAAIA,EAAEza,GAAKouB,EAAW,GAAKhJ,EAAI,GAAKqJ,EACpC/T,EAAY,SAAR5Q,EAAiB,EAAIilB,EAAa/uB,EAAuB,aAArB8B,KAAK4nB,gBACpB,UAArB5nB,KAAK4nB,eADiE,KAClC,QAAS2F,EAAc1lB,WAC/DmO,MAAQ2W,EACR9T,OAAiB,SAAR7Q,EAAiBqlB,EAAYnvB,EAAuB,aAArB8B,KAAK4nB,eAA6B,KACjD,UAArB5nB,KAAK4nB,eAAyB,KAAM,QAAS2F,EAAc1lB,WAC1DulB,EAAYlvB,EAAuB,aAArB8B,KAAK4nB,gBACC,UAArB5nB,KAAK4nB,eAD4C,KACb,QAAS2F,EAAc1lB,WAC/DpJ,EAAKkuB,EAAoB,EACzB7T,MAAe,GAAPwK,EAAUtjB,KAAKsnB,gBAAkBtnB,KAAKunB,gBAC9CxO,kBAA4B,SAAR/Q,EACyD,GADxCqlB,EAAYnvB,EAAuB,aAArB8B,KAAK4nB,eAA6B,KAC5D,UAArB5nB,KAAK4nB,eAAyB,KAAM,QAAS2F,EAAc1lB,YACnDwlB,EAAYnvB,EAAuB,aAArB8B,KAAK4nB,eAA6B,KACnC,UAArB5nB,KAAK4nB,eAAyB,KAAM,QAAS2F,EAAc1lB,WAAa7H,KAAK6Y,OAAO,IAFR,SAGzE,UAEsE,GADvEuU,EAAYlvB,EAAuB,aAArB8B,KAAK4nB,gBACA,UAArB5nB,KAAK4nB,eAD6C,KACd,QAAS2F,EAAc1lB,YACnDulB,EAAYlvB,EAAuB,aAArB8B,KAAK4nB,gBACN,UAArB5nB,KAAK4nB,eADmD,KACpB,QAAS2F,EAAc1lB,WAAa7H,KAAK6Y,OAAO,IAFR,SAGzE,UACPG,GAAKL,EAAEza,GAAKouB,EAAW,GAAMhJ,EAAM,IAAOqJ,EAC1C1T,GAAa,SAARjR,EAAiB,EAAI2kB,EAAoB,EAAG3sB,KAAK6Y,OAAS8T,EAAoB,EACnFzT,eAAgBoK,EAChBnK,QAA0BmU,EAAapvB,EAAtB,SAAR8J,EAAqD,aAArBhI,KAAK4nB,eAA6B,KAClD,UAArB5nB,KAAK4nB,eAAyB,KAAM,QACC,aAArB5nB,KAAK4nB,gBACA,UAArB5nB,KAAK4nB,eAD6C,KACd,QAFS2F,EAAc1lB,WAG/DjG,UAAY5B,KAAK7B,MAEnB6B,KAAKoB,OAAOO,SAAS,iBAAiB6rB,QArC1CxtB,KAAKmnB,IAAIkD,UAAU,kBAAkB/G,GAAKjK,KAAK,SAAU,KACzDrZ,KAAKmnB,IAAIkD,UAAU,oBAAoB/G,GAAKjK,KAAK,aAAa,UAC9DrZ,KAAKmnB,IAAIkD,UAAU,mBAAmB/G,GAAKjK,KAAK,aAAa,cA0CrE,OACE/R,EACAU,EACAoO,GAEAtM,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAMxmB,EAAaD,KACnBC,EAAWE,KAAO1B,EAAK0H,MACvBlG,EAAWI,WAAaA,EACxBJ,EAAWC,SAAqB,UAATa,EAEvB,MAAM2lB,EAAmC,aAAvB3tB,KAAK4nB,gBAAsD,UAAvB5nB,KAAK4nB,gBAAqC,SAAN5f,EACnE,YAArBhI,KAAK4nB,gBAAoC,SAAN5f,EAAe,QAC7B,aAArBhI,KAAK4nB,gBAAqC,SAAN5f,EAAe,KAC9B,UAArBhI,KAAK4nB,gBAAkC,SAAN5f,EAAe,KAAK,QAHmD,KAMpGH,EAAY7H,KAAK2N,YAAYrG,GAAYqmB,GACzCnb,EAAc,mBAAmBlL,SAAkBU,IACnDO,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAQ,IAEJqI,EAAU,CACd3D,cACA3K,YACAU,aAGFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,OCxsC8X,M,gECQnb,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAWhC,IAAkB,GAAW,CAACnR,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,OC9BzH,IAAI,GAAS,WAAa,IAAIhuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,yBAAyB,KAAKV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,qBAAqBQ,MAAM,CAAClC,MAAOmB,EAAkB,eAAEgB,SAAS,SAAUC,GAAMjB,EAAI6nB,eAAe5mB,GAAKE,WAAW,mBAAmB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,MAAM,MAAQ,SAASH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,SAAS,IAAI,GAAGH,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,kBAAkBQ,MAAM,CAAClC,MAAOmB,EAAkB,eAAEgB,SAAS,SAAUC,GAAMjB,EAAIiuB,eAAehtB,GAAKE,WAAW,mBAAmB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,iBAAiB,MAAQ,aAAaH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,kBAAkB,MAAQ,eAAe,IAAI,MAAM,IAAI,GAAGH,EAAG,cAAc,CAACG,MAAM,CAAC,QAAUP,EAAIkuB,QAAQ,UAAW,EAAK,mBAAkB,EAAM,mBAAkB,EAAM,mBAAkB,EAAK,YAAc,YAAY,MAAQ,OAAO,WAAW,OAAO,mBAAkB,GAAM1tB,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,YAAYuB,GAAG,SAASC,GACr9C,IAAIqI,EAASrI,EAAIqI,OAEbmlB,GADSxtB,EAAIytB,OACJztB,EAAIwtB,QACjB,MAAO,CAAEnlB,EAAOxM,SAAW2xB,EAAQ/tB,EAAG,OAAO,CAACE,YAAY,uBAAuB,CAACN,EAAIc,GAAG,IAAId,EAAIoB,GAAG4H,EAAOxM,QAAQ,wBAAwBwD,EAAIqG,UAAUtF,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAInB,MAAMoC,GAAKE,WAAW,WAAWf,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,aAAaH,EAAG,MAAM,CAACO,IAAI,SAAS,IACtS,GAAkB,GCwEP,UAAIqC,OAAO,CACxB5E,KAAM,qBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KAChDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCa,EAAiB,MACjBX,EAAQ,CACZ3f,WAAY,GACZmW,UAAW,IAEP2Q,EAAiB,CACrB9mB,WAAW,GACXmW,UAAU,IAEN4Q,EAAc,CAClB/mB,WAAW,GACXmW,UAAU,IAENuQ,EAAiB,UAEvB,MAAO,CACLpvB,MAAO,GACP0vB,eAAgB,GAChBC,eAAe,GACfP,iBACAK,cACAD,iBACAnH,QACAW,iBACA/O,SACA+N,SACA4H,SAAS,GACTlqB,MAAO,GACP8iB,WAAY,UACZC,gBAAiB,UACjBrR,QACAyY,aAAa,GACbjH,WAAY,UACZC,gBAAiB,YAGrBC,SAAU,CACR,4BACE,MAAqC,cAAjC1nB,KAAKoB,OAAOC,MAAMuF,YACb,GAEF5G,KAAKoB,OAAOC,MAAMkQ,2BAE3B,UACE,MAAO,IAAIvR,KAAKuG,SAASqM,UAE3B,8BACE,OAAO5S,KAAKoB,OAAOC,MAAM4Q,6BAE3B,uBACE,IAAIyc,EAAuB,GAM3B,OALA1uB,KAAKiS,4BAA4B9J,QAASlK,IACxC,IAAIqJ,EAAarJ,EAAEyZ,MAAM,KAAK,GAC1B+F,GAAakR,SAAS1wB,EAAEyZ,MAAM,KAAK,IAAM,KAAKW,QAAQ,GAC1DqW,EAAqBpnB,GAAcmW,IAE9BiR,GAET,cACE,MAAM3K,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,UACE,IAAIgwB,EAAU,GACd,MAAMpsB,EAAc7B,KAAK6B,YAIzB,OAHAA,EAAYsG,QAASlK,IACnBgwB,EAAQpxB,KAAK,CAACsB,KAAMF,MAEfgwB,GAET,WACE,MAAO,IAAIjuB,KAAKuG,SAASgD,WAE3B,YACE,MAAO,IAAIvJ,KAAKuG,SAASsB,YAE3B,UACE,MAAM+mB,EAEF5uB,KAAKoB,OAAOyE,QAAQuP,QAElBA,EAAmC5Y,OAAOqyB,QAAQD,GAAcxlB,IAAI,EAAE9B,EAAYtJ,MAC/E,CACLsJ,aACA8N,QAASpX,KAGb,OAAOoX,GAET,QACE,MAAO,CAAC,IAAM,EAAG,GAAK,IAExB,cAWE,MAAMzH,EAUF3N,KAAKoB,OAAOyE,QAAQiN,mBACxB,OAAOnF,GAET,IACE,MAAMgL,EAAI7O,GAAA,OACPC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC,EAAG7pB,KAAKgW,QAClB,OAAO2C,GAET,IACE,MAAMC,EAAI9O,GAAA,OACPC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,GAET,gBAIE,OAAO5Y,KAAKoB,OAAOC,MAAM8J,mBAE3B,aACE,OAAOnL,KAAKoB,OAAOC,MAAMmP,YAE3B,eACE,OAAOxQ,KAAKoB,OAAOC,MAAMoP,eAG7BuZ,MAAO,CACL,eACE,IAAIpZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,sBAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKpB,MAAQ,GACbA,EAAMiD,YAAYsG,QAASlK,IACrB+B,KAAK6B,YAAYsE,SAASlI,IAC5B+B,KAAKpB,MAAM/B,KAAK,CAAC,KAAOoB,MAG5B+B,KAAK4nB,eAAiBhpB,EAAMkwB,WAC5B9uB,KAAKguB,eAAiBpvB,EAAMyX,aAIlCrW,KAAKiqB,eAEP,aACE,IAAIpV,EAAS,CAAC,KAAO,qBACP,OAAU,CACR,YAAgB7U,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,MACtC,WAAc6B,KAAK4nB,eACnB,UAAa5nB,KAAKguB,iBAClChuB,KAAKoB,OAAOO,SAAS,oBAAoBkT,IAE3C,QACE7U,KAAKiqB,eAEP,4BACEjqB,KAAK+uB,iBACL/uB,KAAKgvB,wBAEP,8BACEhvB,KAAK+uB,iBACL/uB,KAAKgvB,wBAEP,cACEhvB,KAAKiqB,eAEP,gBACEjqB,KAAKiqB,eAEP,iBACEjqB,KAAKiqB,eAEP,cACEjqB,KAAKivB,uBAEP,iBACEjvB,KAAK+uB,iBACL/uB,KAAKkvB,sBAEP,QACElvB,KAAKkqB,aAEP,iBACElqB,KAAKusB,aACLvsB,KAAKiqB,gBAGT,UACE,IAAIrZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,sBAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKpB,MAAQ,GACbA,EAAMiD,YAAYsG,QAASlK,IACrB+B,KAAK6B,YAAYsE,SAASlI,IAC5B+B,KAAKpB,MAAM/B,KAAK,CAAC,KAAOoB,MAG5B+B,KAAK4nB,eAAiBhpB,EAAMkwB,WAC5B9uB,KAAKguB,eAAiBpvB,EAAMyX,aAIlCrW,KAAKiqB,eAEP/mB,QAAS,CACP,aACElD,KAAKinB,MAAQ,CAAG3f,WAAY,GAAImW,UAAW,KAE7C,sBACE,MAAM0M,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B7f,EAAatH,KAAKouB,eAAe9mB,WACrBtH,KAAKouB,eAAe3Q,UAEtC0M,EAAMK,OAAO,QAAQljB,GAAY+R,KAAK,IAAI,GAAGA,KAAK,UAAU,GAC5D8Q,EAAMK,OAAO,cAAcljB,GAAY+R,KAAK,aAAa,WAE3D,iBACE,MAAM8Q,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACnC,IAAK,IAAI7f,KAActH,KAAK0uB,qBAC1B,IAAK,IAAIjR,KAAazd,KAAKsuB,eAAehnB,GAAa,CACrD,IAAIgc,EAAMtjB,KAAKsuB,eAAehnB,GAAYmW,GAC1C0M,EAAMK,OAAO,QAAQljB,EAAa,IAAMgc,GAAKjK,KAAK,IAAI,GAAGA,KAAK,UAAU,GACxE8Q,EAAMK,OAAO,cAAcljB,EAAa,IAAMgc,GAAKjK,KAAK,aAAa,UAGzErZ,KAAKuR,0BAA0BpJ,QAASb,IACtC,IAAIrJ,EAAIqJ,EAAWkW,UAAU,EAAElW,EAAW/K,OAAO,GAC7CkhB,EAAYhG,WAAWnQ,EAAWkW,UAAUlW,EAAW/K,OAAO,EAAE+K,EAAWka,SAC3E2N,EAAclxB,EAAI,IAAM+B,KAAKsuB,eAAerwB,GAAGwf,GACnD0M,EAAMK,OAAO,QAAQ2E,GAAa9V,KAAK,IAAI,GAAGA,KAAK,UAAU,GAC7D8Q,EAAMK,OAAO,cAAc2E,GAAa9V,KAAK,aAAa,cAG9D,qBACE,MAAM8Q,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B7f,EAAatH,KAAKouB,eAAe9mB,WACrBtH,KAAKouB,eAAe3Q,UAEtC0M,EAAMK,OAAO,QAAQljB,GAAY+R,KAAK,IAAI,GAAGA,KAAK,UAAU,GAC5D8Q,EAAMK,OAAO,cAAcljB,GAAY+R,KAAK,aAAa,WACzDrZ,KAAKovB,mBAEP,uBACE,MAAMjF,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BkI,EAAoBrvB,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,MAEhD,IAAK,IAAImJ,KAActH,KAAK0uB,qBAC1B,GAAIW,EAAkBlpB,SAASmB,GAAa,CAC1C,IAAImW,EAAYzd,KAAK0uB,qBAAqBpnB,GACtCgc,EAAMtjB,KAAKsuB,eAAehnB,GAAYmW,GAC1C0M,EAAMK,OAAO,QAAQljB,EAAa,IAAMgc,GAAKjK,KAAK,IAAI,GAAGA,KAAK,UAAU,GACxE8Q,EAAMK,OAAO,cAAcljB,EAAa,IAAMgc,GAAKjK,KAAK,aAAa,aAI3E,kBACE,MAAM/R,EAAatH,KAAKouB,eAAe9mB,WAAWoQ,MAAM,KAAK,GACvD9Y,EAAQ6Y,WAAWzX,KAAKouB,eAAe3Q,WAAWpF,QAAQ,GAChE,IAAIiX,EAAoB,CAAC,WAAahoB,EAAY,iBAAwC,IAApBmQ,WAAW7Y,IACjFoB,KAAKoB,OAAOO,SAAS,6CAA6C2tB,IAEpE,YACE,MAAMnF,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BS,EAAiB5nB,KAAK4nB,eACtBzpB,EAAO6B,KAAKinB,MAAM3f,WAClBjL,EAAI2D,KAAKinB,MAAMxJ,UACf5b,EAAc7B,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,MAE1C,GAA2B,WAAvB6B,KAAKguB,eACK,IAAR7vB,GACFgsB,EAAMK,OAAO,aAAanR,KAAK,UACT,OAAlBuO,GACFuC,EAAMK,OAAO,cAAcrsB,GAAMkb,KAAK,aAAa,WAGrD8Q,EAAMK,OAAO,kBAAkBrsB,GAAMkb,KAAK,IAAI,GAC9C8Q,EAAMK,OAAO,gBAAgBrsB,GAAM6H,MAAM,YAAa,QACtDnE,EAAYsG,QAASlK,IACfA,GAAIE,GACNgsB,EAAMK,OAAO,SAASvsB,GAAG+H,MAAM,UAAU,MAGpC,IAAL3J,IACF8tB,EAAMK,OAAO,SAASrsB,EAAK,IAAI9B,GAAGgd,KAAK,aAAa,WACpD8Q,EAAMK,OAAO,QAAQrsB,EAAK,IAAI9B,GAAGgd,KAAK,aAAa,WACnD8Q,EAAMK,OAAO,QAAQrsB,EAAK,IAAI9B,GAAGgd,KAAK,aAAa,WACnD8Q,EAAMK,OAAO,QAAQrsB,EAAK,IAAI9B,GAAGgd,KAAK,aAAa,WACnD8Q,EAAMK,OAAO,aAAanR,KAAK,aAAa,aAG9CxX,EAAYsG,QAASlK,IACnBksB,EAAMK,OAAO,SAASvsB,EAAE,IAAI5B,GAAGgd,KAAK,aAAa,UACjD8Q,EAAMK,OAAO,QAAQvsB,EAAE,IAAI5B,GAAGgd,KAAK,aAAa,UAChD8Q,EAAMK,OAAO,QAAQvsB,EAAE,IAAI5B,GAAGgd,KAAK,aAAa,UAChD8Q,EAAMK,OAAO,QAAQvsB,EAAE,IAAI5B,GAAGgd,KAAK,aAAa,UAChD8Q,EAAMK,OAAO,aAAanR,KAAK,aAAa,UAC5C8Q,EAAMK,OAAO,kBAAkBvsB,GAAGob,KAAK,IAAI,GAC3C8Q,EAAMK,OAAO,gBAAgBvsB,GAAG+H,MAAM,YAAa,QACnDmkB,EAAMK,OAAO,SAASvsB,GAAG+H,MAAM,UAAU,GACzCmkB,EAAMK,OAAO,cAAcvsB,GAAGob,KAAK,aAAa,gBAG/C,CACL,IAAIgG,EAAQ,EACZrf,KAAKuuB,eAAepmB,QAASwF,IAC3B0R,GAAS,EACT,IAAIkQ,EAAgB5hB,EAAYxP,KACpB,IAARA,GACFgsB,EAAMK,OAAO,aAAanR,KAAK,UACT,OAAlBuO,GACFuC,EAAMK,OAAO,cAAcrsB,EAAO,IAAMoxB,GAAelW,KAAK,aAAa,WAAWA,KAAK,IAAI,IAAM,GAAKgG,GAE1G8K,EAAMK,OAAO,kBAAkBrsB,GAAMkb,KAAK,IAAI,GAC9C8Q,EAAMK,OAAO,gBAAgBrsB,GAAM6H,MAAM,YAAa,QACtDnE,EAAYsG,QAASlK,IACfA,GAAIE,GACNgsB,EAAMK,OAAO,SAASvsB,EAAI,IAAMsxB,GAAevpB,MAAM,UAAU,MAG1D,IAAL3J,IACF8tB,EAAMK,OAAO,SAASrsB,EAAK,IAAI9B,GAAGgd,KAAK,aAAa,WACpD8Q,EAAMK,OAAO,QAAQrsB,EAAK,IAAI9B,GAAGgd,KAAK,aAAa,WACnD8Q,EAAMK,OAAO,QAAQrsB,EAAK,IAAI9B,GAAGgd,KAAK,aAAa,WACnD8Q,EAAMK,OAAO,QAAQrsB,EAAK,IAAI9B,GAAGgd,KAAK,aAAa,WACnD8Q,EAAMK,OAAO,aAAanR,KAAK,aAAa,aAG9CxX,EAAYsG,QAASlK,IACnBksB,EAAMK,OAAO,SAASvsB,EAAE,IAAI5B,GAAGgd,KAAK,aAAa,UACjD8Q,EAAMK,OAAO,QAAQvsB,EAAE,IAAI5B,GAAGgd,KAAK,aAAa,UAChD8Q,EAAMK,OAAO,QAAQvsB,EAAE,IAAI5B,GAAGgd,KAAK,aAAa,UAChD8Q,EAAMK,OAAO,QAAQvsB,EAAE,IAAI5B,GAAGgd,KAAK,aAAa,UAChD8Q,EAAMK,OAAO,aAAanR,KAAK,aAAa,UAC5C8Q,EAAMK,OAAO,kBAAkBvsB,GAAGob,KAAK,IAAI,GAC3C8Q,EAAMK,OAAO,gBAAgBvsB,GAAG+H,MAAM,YAAa,QACnDmkB,EAAMK,OAAO,SAASvsB,EAAI,IAAMsxB,GAAevpB,MAAM,UAAU,GAC/DmkB,EAAMK,OAAO,cAAcvsB,EAAG,IAAMsxB,GAAelW,KAAK,aAAa,gBAM/E,cAEEvP,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAMiE,EAAkB1lB,GAAA,KAA4BA,GAAA,MAC7CC,OAAO,CAAC,EAAG/J,KAAK6B,YAAYtF,SAC5BkzB,cAAa,SAAU9W,GAAK,OAAO7O,GAAA,KAAqB,GAAG6O,MAC5DgJ,EAAgB7X,GAAA,KAAU,OAG1B+O,GADQ7Y,KAAKgW,MACJhW,KAAK6Y,QAEd+O,GADS5nB,KAAK4mB,OACG5mB,KAAK4nB,gBACtB/lB,EAAc7B,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,MACpCuxB,EAAS5lB,GAAA,OACZC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC,EAAG7pB,KAAKgW,QACZ2Z,EAAS7lB,GAAA,OACZC,OAAO,EAAC/J,KAAK4nB,eAAuB,GAAI,IACxCiC,MAAM,CAAC7pB,KAAK6Y,OAAQ,IAEjBsO,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,UAC/C3N,OAAO,KACLC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAShnB,KAAK4mB,OAAOC,QAErE,IAAI+I,EAAiB,GACjBtM,EAAM,EACVzhB,EAAYsG,QAASlK,IACnBqlB,GAAO,EACPsM,EAAe3xB,GAAK,GACpB,IAAIohB,EAAQrf,KAAK2N,YAAY1P,GAAG2jB,MAAMrlB,OAClCF,EAAI,EACR2D,KAAKsuB,eAAerwB,GAAK,GACzB,MAAO5B,EAAIgjB,EAAO,CAChB,GAA2B,OAAvBrf,KAAK4nB,eAAyB,CAChC,IAAIiI,EAAgB,CAAC,EAAK7vB,KAAK2N,YAAY1P,GAAG2jB,MAAMvlB,GAAI,EAAI2D,KAAK2N,YAAY1P,GAAG4jB,MAAMxlB,GAAI,IAAM2D,KAAK2N,YAAY1P,GAAGgkB,IAAI5lB,GAAI,KAAO4B,EAAE,UAAY+B,KAAK2N,YAAY1P,GAAG6jB,UAAUzlB,GAAI,MAAQmzB,EAAgBlM,IAC3MsM,EAAe3xB,GAAGpB,KAAKgzB,OAClB,CACL,IAAIA,EAAgB,CAAC,EAAK7vB,KAAK2N,YAAY1P,GAAG8jB,KAAK1lB,GAAI,EAAI2D,KAAK2N,YAAY1P,GAAG+jB,KAAK3lB,GAAI,IAAM2D,KAAK2N,YAAY1P,GAAGgkB,IAAI5lB,GAAI,KAAO4B,EAAE,UAAY+B,KAAK2N,YAAY1P,GAAG6jB,UAAUzlB,GAAI,MAAQmzB,EAAgBlM,IACzMsM,EAAe3xB,GAAGpB,KAAKgzB,GAEzB7vB,KAAKsuB,eAAerwB,GAAGwZ,WAAWzX,KAAK2N,YAAY1P,GAAG6jB,UAAUzlB,IAAIgc,QAAQ,IAAOhc,EACnFA,GAAG,KAGP,IAAIyzB,EAAY,GACZzQ,EAAQ,EACZxd,EAAYsG,QAASlK,IACnBohB,GAAS,EACT,IAAI0Q,EAAW,CAAC,KAAO9xB,EAAE,KAAO2xB,EAAe3xB,GAAI,MAAQuxB,EAAgBnQ,IAC3EyQ,EAAUjzB,KAAKkzB,KAGjB,MAAMC,EAAmB,KACZJ,EAAe/tB,EAAY,IAAtC,IACIouB,EAAY,GAsBhB,SAASC,EAAKhyB,GACZ,IAAIC,EAAOD,EAAEC,KACb8xB,EAAU9xB,GAAQ,EAClBD,EAAIA,EAAEnC,KACN,IAAIo0B,EAAO,IACP3M,EAAQ,EACRC,EAAQ,EAWZ,OAVAvlB,EAAEiK,QAASioB,IACTD,EAAOA,EAAO,IAAMT,EAAOU,EAAUzX,GACrCwX,EAAOA,EAAO,IAAMR,EAAOS,EAAUxX,GACrCuX,GAAOA,KACPF,EAAU9xB,KAAWiyB,EAAUxX,EAAI6K,IAAUD,EAAO4M,EAAUzX,GAAM,EACpE6K,EAAQ4M,EAAUzX,EAClB8K,EAAQ2M,EAAUxX,IAEE,OAAlBgP,IACFuI,GAAQT,EAAO,GAAK,IAAMC,EAAO,IAC5BQ,EAIThJ,EAAI/N,OAAO,KACNC,KAAK,YAAa,eAAiBR,EAAS,KAC5Clc,KAAKmN,GAAA,KAAc4lB,IAGxBvI,EAAI/N,OAAO,KACNzc,KAAKmN,GAAA,KAAY6lB,IAEVxI,EACTkD,UAAU,UACVtuB,KAAK+zB,GACLO,QAAQjX,OAAO,QACfC,KAAK,IAAM6W,GACX7W,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,QAAQ6B,EAAEC,MAC9B6H,MAAM,OAAQ,QACdqT,KAAK,SAAUnb,GACPA,EAAE4a,OACV9S,MAAM,eAAgB,GACtBA,MAAM,UAAW,GAEPmhB,EAAIkD,UAAU,QACxBtuB,KAAK+zB,GACLO,QACAhG,UAAU,WACVtuB,MAAK,SAASmC,GACb,OAAOA,EAAE,WACRmyB,QACAjX,OAAO,UACTC,KAAK,QAAQ,CAACnb,EAAE7B,IACR,OAAO6B,EAAE,QAAQ,IAAI7B,GAC7Bgd,KAAK,MAAM,SAASnb,EAAG7B,GACtB,OAAOqzB,EAAOxxB,EAAE,SACjBmb,KAAK,MAAM,SAASnb,GAAK,OAAOyxB,EAAOzxB,EAAE,SACzCmb,KAAK,IAAMnb,GACH,GAERmb,KAAK,OAAQnb,GACLA,EAAE,UACVyC,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKinB,MAAQ,CAAE3f,WAAYpJ,EAAE,QAASuf,UAAUphB,IACxEsE,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKinB,MAAQ,CAAE3f,WAAY,GAAImW,UAAUphB,IACjEsE,GAAG,QAAS,CAACzC,EAAE7B,IAAM2D,KAAKouB,eAAiB,CAAE9mB,WAAYpJ,EAAE,QAAQ,IAAI7B,EAAGohB,UAAUvf,EAAE,eACtFyC,GAAG,cAAe,CAACzC,EAAE7B,KACpByN,GAAA,KAAS2jB,iBACTztB,KAAKquB,YAAc,CAAE/mB,WAAYpJ,EAAE,QAAQ,IAAI7B,EAAGohB,UAAUvf,EAAE,gBAE/Dmb,KAAK,UAAU,GAEA8N,EAAIkD,UAAU,cAC7BtuB,KAAK+zB,GACLO,QAEAhG,UAAU,SACVtuB,MAAK,SAASmC,GACb,OAAOA,EAAE,WACRmyB,QACAjX,OAAO,QACTC,KAAK,QAAQ,CAACnb,EAAE7B,IACR,aAAa6B,EAAE,QAAQ,IAAI7B,GACnCgd,KAAK,KAAK,SAASnb,EAAG7B,GACrB,OAAOqzB,EAAOxxB,EAAE,SACjBmb,KAAK,KAAK,SAASnb,GAAK,OAAOyxB,EAAOzxB,EAAE,SACxC6G,KAAM7G,GAAIA,EAAE,cACZmb,KAAK,YAAY,IACjBA,KAAK,aAAa,UAClB1Y,GAAG,cAAe,CAACzC,EAAE7B,KACpByN,GAAA,KAAS2jB,iBACTztB,KAAKquB,YAAc,CAAE/mB,WAAYpJ,EAAE,QAAQ,IAAI7B,EAAGohB,UAAUvf,EAAE,gBAKlDipB,EACb/N,OAAO,QACPC,KAAK,QAAQ,YACbA,KAAK,QAAQ,KACbA,KAAK,SAAS,KACdA,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB5nB,KAAKgW,MAAM,IAAK,KACtDqD,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB,IAAI,KAC1CvO,KAAK,OAAO,SACZA,KAAK,SAAS,SACdA,KAAK,aAAa,UAGA8N,EAAIkD,UAAU,SAChCtuB,KAAK+zB,GACLO,QACAhG,UAAU,SACVtuB,MAAK,SAASmC,GACb,OAAOA,EAAE,WACRmyB,QACAjX,OAAO,QACTC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,QAAQ6B,EAAE,QAAQ,IAAI7B,GAC1Cgd,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB5nB,KAAKgW,MAAM,IAAI,KACrDqD,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB,IAAK,KAC3C7iB,KAAK7G,GAAG,cAAcyjB,EAAczjB,EAAE,eACtC8H,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1BA,KAAK,aAAa,UAEI8N,EAAIkD,UAAU,SACpCtuB,KAAK+zB,GACLO,QACAhG,UAAU,SACVtuB,MAAK,SAASmC,GACb,OAAOA,EAAE,WACRmyB,QACAjX,OAAO,QACTC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,OAAO6B,EAAE,QAAQ,IAAI7B,GACzCgd,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB5nB,KAAKgW,MAAM,IAAI,KACrDqD,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB,IAAK,KAC3C7iB,KAAK7G,GAAwB,OAArB8B,KAAK4nB,eAAuB,QAAQjG,EAAczjB,EAAE,MAAQ,WAAWyjB,EAAczjB,EAAE,OAC/F8H,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1BA,KAAK,aAAa,UAEI8N,EAAIkD,UAAU,SACpCtuB,KAAK+zB,GACLO,QACAhG,UAAU,SACVtuB,MAAK,SAASmC,GACb,OAAOA,EAAE,WACRmyB,QACAjX,OAAO,QACTC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,OAAO6B,EAAE,QAAQ,IAAI7B,GACzCgd,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB5nB,KAAKgW,MAAM,IAAI,KACrDqD,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB,IAAK,KAC3C7iB,KAAK7G,GAAwB,OAArB8B,KAAK4nB,eAAuB,QAAQjG,EAAczjB,EAAE,MAAQ,cAAcyjB,EAAczjB,EAAE,OAClG8H,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1BA,KAAK,aAAa,UAEI8N,EAAIkD,UAAU,SACpCtuB,KAAK+zB,GACLO,QACAhG,UAAU,SACVtuB,MAAK,SAASmC,GACb,OAAOA,EAAE,WACRmyB,QACAjX,OAAO,QACTC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,OAAO6B,EAAE,QAAQ,IAAI7B,GACzCgd,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB5nB,KAAKgW,MAAM,IAAI,KACrDqD,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB,IAAK,KAC3C7iB,KAAK7G,GAAI,aAAayjB,EAAczjB,EAAE,SACtC8H,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1BA,KAAK,aAAa,UAIN8N,EACZkD,UAAU,UACVtuB,KAAK+zB,GACLO,QAAQjX,OAAO,QACfC,KAAK,QAASnb,GAAI,aAAaA,EAAEC,MACjCkb,KAAK,IAAKrZ,KAAKgW,MAAM,KACrBqD,KAAK,IAAK,KACVtU,KAAK7G,GAAG,QAAQyjB,EAAcsO,EAAU/xB,EAAEC,QAC1C6H,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1BA,KAAK,aAAa,WAGjB2S,EAAa,KACjB7E,EAAI/N,OAAO,QACRC,KAAK,YAAa,KACjB,MAAM4S,EAAUjsB,KAAKgW,MAAQ,EACvBkW,EAAUlsB,KAAK6Y,OAA8B,GAArB7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAA4B,OAAvB/E,KAAK4nB,eAAyB,MAAQ,UAC9CT,EAAI/N,OAAO,QACRC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,GACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAA4B,OAAvB/E,KAAK4nB,eAAyB,MAAQ,cAG1CuE,EAAa,KACInsB,KAAK4nB,eACNT,EACjBkD,UAAU,WACVtuB,KAAK+zB,GACLO,QAAQjX,OAAO,UACfC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,iBAAiB6B,EAAEC,MACvCkb,KAAK,KAA4B,OAAvBrZ,KAAK4nB,eAAyB,GAAK5nB,KAAKgW,MAAM,KACxDqD,KAAK,KAAK,CAACnb,EAAE7B,IAAI,GAAK,GAAFA,GACpBgd,KAAK,IAAK,GACVrT,MAAM,OAAQ9H,GAAGA,EAAE4a,OACnBnY,GAAG,aAAazC,GAAG8B,KAAKinB,MAAQ,CAAE3f,WAAWpJ,EAAEC,KAAMsf,UAAU,KAC/D9c,GAAG,aAAcX,KAAKusB,YAGPpF,EACfkD,UAAU,UACVtuB,KAAK+zB,GACLO,QAAQjX,OAAO,QACfC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,eAAe6B,EAAEC,MACrCkb,KAAK,IAA4B,OAAvBrZ,KAAK4nB,eAAyB,GAAK5nB,KAAKgW,MAAM,IACxDqD,KAAK,IAAK,CAACnb,EAAE7B,IAAI,GAAK,GAAFA,GACpB0I,KAAK7G,GAAGA,EAAEC,MACV6H,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1B1Y,GAAG,aAAczC,GAAG8B,KAAKinB,MAAQ,CAAE3f,WAAWpJ,EAAEC,KAAMsf,UAAU,KAChE9c,GAAG,aAAcX,KAAKusB,YAEE,WAAvBvsB,KAAKguB,iBACN7G,EACE/N,OAAO,QACPC,KAAK,KAAO,IACZA,KAAK,KAAM,KACXA,KAAK,KAAM,KACXA,KAAK,KAAO,IACZA,KAAK,SAAU,QACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,IACvBrT,MAAM,mBAAmB,QAC5BmhB,EACG/N,OAAO,QACPC,KAAK,IAAM,IACXA,KAAK,IAAK,KACVrT,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1BtU,KAAK,eAERoiB,EACG/N,OAAO,QACPC,KAAK,KAAM,IACXA,KAAK,KAAM,KACXA,KAAK,KAAM,KACXA,KAAK,KAAM,IACXA,KAAK,SAAU,QACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,IAC1B8N,EACG/N,OAAO,QACPC,KAAK,IAAK,IACVA,KAAK,IAAK,KACVrT,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1BtU,KAAK,iBAINurB,EAAqB,KACzBtwB,KAAKuwB,2BAELpJ,EAAI/N,OAAO,KACNC,KAAK,YAAa,eAAiBR,EAAS,KAC5Clc,KAAKmN,GAAA,KAAc4lB,IAGxBvI,EAAI/N,OAAO,KACNzc,KAAKmN,GAAA,KAAY6lB,IAGtB3vB,KAAKuuB,eAAepmB,QAASwF,IAC3B,IAAIiiB,EAAiB,GACjBtM,EAAM,EACNiM,EAAgB5hB,EAAYxP,KAChC0D,EAAYsG,QAASlK,IACnBqlB,GAAO,EACPsM,EAAe3xB,GAAK,GACpB,IAAIohB,EAAQ1R,EAAY1P,GAAG2jB,MAAMrlB,OAC7BF,EAAI,EACR,MAAOA,EAAIgjB,EAAO,CAChB,GAA2B,OAAvBrf,KAAK4nB,eAAyB,CAChC,IAAIiI,EAAgB,CAAC,EAAKliB,EAAY1P,GAAG2jB,MAAMvlB,GAAI,EAAIsR,EAAY1P,GAAG4jB,MAAMxlB,GAAI,KAAO4B,EAAE,UAAY0P,EAAY1P,GAAG6jB,UAAUzlB,GAAI,MAAQmzB,EAAgBlM,IAC1JsM,EAAe3xB,GAAGpB,KAAKgzB,OAClB,CACL,IAAIA,EAAgB,CAAC,EAAKliB,EAAY1P,GAAG8jB,KAAK1lB,GAAI,EAAIsR,EAAY1P,GAAG+jB,KAAK3lB,GAAG,KAAO4B,EAAE,UAAY0P,EAAY1P,GAAG6jB,UAAUzlB,GAAI,MAAQmzB,EAAgBlM,IACvJsM,EAAe3xB,GAAGpB,KAAKgzB,GAEzBxzB,GAAG,KAGP,IAAIyzB,EAAY,GACZzQ,EAAQ,EACZxd,EAAYsG,QAASlK,IACnBohB,GAAS,EACT,IAAI0Q,EAAW,CAAC,KAAO9xB,EAAE,KAAO2xB,EAAe3xB,GAAI,MAAQuxB,EAAgBnQ,IAC3EyQ,EAAUjzB,KAAKkzB,KAGNH,EAAe/tB,EAAY,IAAtC,IACIouB,EAAY,GAsBhB,SAASC,EAAKhyB,GACZ,IAAIC,EAAOD,EAAEC,KACb8xB,EAAU9xB,GAAQ,EAClBD,EAAIA,EAAEnC,KACN,IAAIo0B,EAAO,IACP3M,EAAQ,EACRC,EAAQ,EAWZ,OAVAvlB,EAAEiK,QAASioB,IACTD,EAAOA,EAAO,IAAMT,EAAOU,EAAUzX,GACrCwX,EAAOA,EAAO,IAAMR,EAAOS,EAAUxX,GACrCuX,GAAOA,KACPF,EAAU9xB,KAAWiyB,EAAUxX,EAAI6K,IAAUD,EAAO4M,EAAUzX,GAAM,EACpE6K,EAAQ4M,EAAUzX,EAClB8K,EAAQ2M,EAAUxX,IAEE,OAAlBgP,IACFuI,GAAQT,EAAO,GAAK,IAAMC,EAAO,IAC5BQ,EAGGhJ,EACTkD,UAAU,UACVtuB,KAAK+zB,GACLO,QAAQjX,OAAO,QACfC,KAAK,IAAM6W,GACX7W,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,QAAQ6B,EAAEC,KAAO,IAAMoxB,GAC3CvpB,MAAM,OAAQ,QACdqT,KAAK,SAAUnb,GACPA,EAAE4a,OACV9S,MAAM,eAAgB,GACtBA,MAAM,mBAAqC,KAAjBupB,EAAsB,OAAW,QAC3DvpB,MAAM,UAAW,GAEPmhB,EAAIkD,UAAU,QACxBtuB,KAAK+zB,GACLO,QAEAhG,UAAU,WACVtuB,MAAK,SAASmC,GACb,OAAOA,EAAE,WACRmyB,QACAjX,OAAO,UACTC,KAAK,QAAQ,CAACnb,EAAE7B,IACR,OAAO6B,EAAE,QAAQ,IAAI7B,GAC7Bgd,KAAK,MAAM,SAASnb,EAAG7B,GACtB,OAAOqzB,EAAOxxB,EAAE,SACjBmb,KAAK,MAAM,SAASnb,GAAK,OAAOyxB,EAAOzxB,EAAE,SACzCmb,KAAK,IAAK,GACVA,KAAK,OAAQnb,GACLA,EAAE,UACVyC,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKinB,MAAQ,CAAE3f,WAAYpJ,EAAE,QAASuf,UAAUphB,IACxEsE,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKinB,MAAQ,CAAE3f,WAAY,GAAImW,UAAUphB,IACjEsE,GAAG,QAAS,CAACzC,EAAE7B,IAAM2D,KAAKouB,eAAiB,CAAE9mB,WAAYpJ,EAAE,QAAQ,IAAI7B,EAAGohB,UAAUvf,EAAE,eACtFyC,GAAG,cAAe,CAACzC,EAAE7B,KACpByN,GAAA,KAAS2jB,iBACTztB,KAAKquB,YAAc,CAAE/mB,WAAYpJ,EAAE,QAAQ,IAAI7B,EAAGohB,UAAUvf,EAAE,gBAE/Dmb,KAAK,UAAU,GAEA8N,EAAIkD,UAAU,cAC7BtuB,KAAK+zB,GACLO,QACAhG,UAAU,SACVtuB,MAAK,SAASmC,GACb,OAAOA,EAAE,WACRmyB,QACAjX,OAAO,QACTC,KAAK,QAAQ,CAACnb,EAAE7B,IACR,aAAa6B,EAAE,QAAQ,IAAI7B,GACnCgd,KAAK,KAAK,SAASnb,EAAG7B,GACrB,OAAOqzB,EAAOxxB,EAAE,SACjBmb,KAAK,KAAK,SAASnb,GAAK,OAAOyxB,EAAOzxB,EAAE,SACxC6G,KAAM7G,GAAIA,EAAE,cACZmb,KAAK,YAAY,IACjBA,KAAK,aAAa,UAClB1Y,GAAG,cAAe,CAACzC,EAAE7B,KACpByN,GAAA,KAAS2jB,iBACTztB,KAAKquB,YAAc,CAAE/mB,WAAYpJ,EAAE,QAAQ,IAAI7B,EAAGohB,UAAUvf,EAAE,gBAKlDipB,EACb/N,OAAO,QACPC,KAAK,QAAQ,YACbA,KAAK,QAAQ,KACbA,KAAK,SAAS,IACdA,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB5nB,KAAKgW,MAAM,IAAK,KACtDqD,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB,IAAI,KAC1CvO,KAAK,OAAO,SACZA,KAAK,SAAS,SACdA,KAAK,aAAa,UAIA8N,EAAIkD,UAAU,SAChCtuB,KAAK+zB,GACLO,QACAhG,UAAU,SACVtuB,MAAK,SAASmC,GACb,OAAOA,EAAE,WACRmyB,QACAjX,OAAO,QACTC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,QAAQ6B,EAAE,QAAQ,IAAI7B,GAC1Cgd,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB5nB,KAAKgW,MAAM,IAAI,KACrDqD,KAAK,IAA0B,OAArBrZ,KAAK4nB,eAAuB,IAAK,KAC3C7iB,KAAK7G,GAAG,cAAcyjB,EAAczjB,EAAE,eACtC8H,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1BA,KAAK,aAAa,UAGN8N,EACZkD,UAAU,UACVtuB,KAAK+zB,GACLO,QAAQjX,OAAO,QACfC,KAAK,QAASnb,GAAI,aAAaA,EAAEC,KAAO,IAAMoxB,GAC9ClW,KAAK,IAAKrZ,KAAKgW,MAAM,KACrBqD,KAAK,IAAK,KACVtU,KAAK7G,GAAG,YAAcqxB,EAAgB,SAAS5N,EAAcsO,EAAU/xB,EAAEC,QACzE6H,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1BA,KAAK,aAAa,UACrBgG,GAAS,KAKb2M,IACAG,IAC0B,WAAtBnsB,KAAKguB,eACPgC,IAEAM,IAEFtwB,KAAK+uB,iBACL/uB,KAAKgvB,wBAGP,2BACE,MAAMntB,EAAc7B,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,OACpC,MAACiN,EAAK,OAAE+E,GAAUnQ,KAAKwwB,cAC7BxwB,KAAKuuB,eAAiB,GAEtB,MAAMkC,EAAkB,CAACnpB,EAAmB+O,KAC1C,IAAI1I,EAAc,GACd6U,EAAc,GACdf,EAAmB,GACnBiP,EAAM,EACNjO,EAAW,EACXkO,EAAoB,EACpBC,EAAc,EACdC,EAAc,EAClB,MAAM5yB,EAAIqJ,EACJqa,EAAgB7X,GAAA,KAAU,OAChC6D,EAAY1P,GAAK,CACf2jB,MAAO,GACPC,MAAO,GACPC,UAAU,GACVC,KAAM,GACNC,KAAM,GACNI,SAAU,GAEZX,EAAiBxjB,GAAK,GACtBoY,EAAUlO,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GAClBoY,EAAiBxjB,GAAGkI,SAAS9J,EAAE+gB,uBAAuBnf,KACzDwjB,EAAiBxjB,GAAGpB,KAAKR,EAAE+gB,uBAAuBnf,MAEtDwjB,EAAiBxjB,GAAG4N,OACpB4V,EAAiBxjB,GAAGkK,QAASvJ,IAC3BA,EAAQ+iB,EAAc/iB,GACtB,IAAI2gB,EAAK,EACLM,EAAK,EACLpf,EAAK,EACLif,EAAK,EACTrJ,EAAUlO,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACjBuZ,EAAUvmB,EAAE+gB,uBAAuBnf,GAAKwZ,WAAW7Y,GAASoB,KAAK4S,QAAQ,GAAK5S,KAAK4S,QAAQ,GAC7FvW,EAAEqR,QAAU1N,KAAK4S,QAAQ,GACvBgQ,GAAWvmB,EAAEqR,OACf6R,GAAI,EAEJ9e,GAAI,EAGFmiB,GAAWvmB,EAAEqR,OACfgS,GAAI,EAEJG,GAAI,IAINN,EAAKkD,IACPmO,EAAc,GAEG,GAAfA,GAAoBrR,GAAMkD,IAC5BkO,GAAqB,EACrBlO,EAAWlD,GAETA,EAAGG,EAAKmR,IACVA,EAActR,EAAGG,GAGnB8C,EAAY3lB,KAAK,CAAC,EAAIgjB,GAAIA,EAAGH,GAAK,EAAIH,GAAIA,EAAG9e,KAC7CkN,EAAY1P,GAAG2jB,MAAM/kB,KAAMgjB,GAAIA,EAAGH,IAClC/R,EAAY1P,GAAG4jB,MAAMhlB,KAAM0iB,GAAIA,EAAG9e,IAClCkN,EAAY1P,GAAG6jB,UAAUjlB,KAAK+B,GAC9B+O,EAAY1P,GAAG8jB,KAAKllB,KAAM0iB,GAAIA,EAAG9e,IACjCkN,EAAY1P,GAAG+jB,KAAKnlB,KAAM0iB,GAAIA,EAAGM,MAInC,IAAI2D,EAAQ,EACRC,EAAQ,EASZ,OARAjB,EAAY3W,MAAK,SAAS8M,EAAGC,GAC3B,OAAO9O,GAAA,KAAa6O,EAAEA,EAAGC,EAAED,MAE7B6J,EAAYra,QAASub,IACnBgN,IAAUhN,EAAI9K,EAAI6K,IAAUC,EAAI/K,EAAI6K,GAAS,EAC7CA,EAAQE,EAAI/K,EACZ8K,EAAQC,EAAI9K,IAEPjL,EAAY1P,IAGrB,GAAImN,EAAO,CACT,IAAIuC,EAAc,CAAC,KAAQ,KAC3B9L,EAAYsG,QAASlK,IACnB0P,EAAY1P,GAAKwyB,EAAgBxyB,EAAGmN,EAAMvD,aAE5C7H,KAAKuuB,eAAe1xB,KAAK8Q,GAE3B,GAAIwC,EAAQ,CACV,IAAIxC,EAAc,CAAC,KAAQ,KAC3B9L,EAAYsG,QAASlK,IACnB0P,EAAY1P,GAAKwyB,EAAgBxyB,EAAGkS,EAAOtI,aAE7C7H,KAAKuuB,eAAe1xB,KAAK8Q,QCtlCqZ,MCQlb,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAWhC,IAAkB,GAAW,CAAC1I,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,OC9BzH,IAAI,GAAS,WAAa,IAAIhuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,uCAAuC,KAAKV,EAAG,6BAA6BA,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,qBAAqBQ,MAAM,CAAClC,MAAOmB,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAI+wB,aAAa9vB,GAAKE,WAAW,iBAAiB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,wBAAwB,MAAQ,cAAcH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,uBAAuB,MAAQ,cAAc,IAAI,KAAKH,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,kBAAkBQ,MAAM,CAAClC,MAAOmB,EAAkB,eAAEgB,SAAS,SAAUC,GAAMjB,EAAIiuB,eAAehtB,GAAKE,WAAW,mBAAmB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,sBAAsB,MAAQ,aAAaH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,uBAAuB,MAAQ,eAAe,IAAI,MAAM,IAAI,GAAGH,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,YAAY,CAAwB,WAAtBP,EAAIiuB,eAA6B7tB,EAAG,WAAW,CAACE,YAAY,OAAO6B,YAAY,CAAC,YAAY,QAAQ5B,MAAM,CAAC,MAAQ,aAAaQ,MAAM,CAAClC,MAAOmB,EAAwB,qBAAEgB,SAAS,SAAUC,GAAMjB,EAAIgxB,qBAAqB/vB,GAAKE,WAAW,0BAA0BnB,EAAIqG,MAAM,GAAGjG,EAAG,MAAM,CAACO,IAAI,SAAS,IACrpD,GAAkB,GC0EP,UAAIqC,OAAO,CACxB5E,KAAM,iCACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KAChDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCE,EAAQ,CACZjf,KAAM,GACNqO,UAAU,GACV/O,WAAY,GACZ0pB,SAAS,IAELC,EAAqB,CACzBjpB,KAAM,GACNV,WAAY,GACZ0pB,SAAS,IAELF,EAAe,UAErB,MAAO,CACL9C,eAAe,UACfkD,aAAa,EACbJ,eACAG,qBACAE,cAAc,KACdtY,SACAoO,QACAL,SACA4H,SAAS,GACTlqB,MAAO,GACP8iB,WAAY,UACZpR,QACAyY,aAAa,GACbjH,WAAY,UACZ4J,YAAa,UACbC,YAAa,UACbC,iBAAkB,UAClBC,iBAAkB,UAClBlK,gBAAiB,UACjBI,gBAAiB,UACjBH,gBAAiB,UACjBC,gBAAiB,UACjBiK,iBAAkB,KAGtB9J,SAAU,CACR,4BACE,MAAqC,cAAjC1nB,KAAKoB,OAAOC,MAAMuF,YACb,GAEF5G,KAAKoB,OAAOC,MAAMkQ,0BAA0BnI,IAAKnL,GAAIA,EAAEE,OAEhE,4BACE,GAA0D,GAAtD6B,KAAKoB,OAAOC,MAAMoQ,0BAA0BlV,OAAa,CAC3D,MAAMqC,EAAQpC,OAAO+F,KAAKvC,KAAKoB,OAAOC,MAAM2Q,yBAAyB5I,IAAKnL,IACxE,IAAIwf,EAAazd,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAChE,MAAO,CAAC,KAAQA,EAAI,KAAQwf,EAAU,IAAQ,EAAI,EAAIA,EAAU,KAAMpF,QAAQ,GAAK,KAAQoF,EAAU,IAAO,EAAI,EAAGA,EAAU,KAAOpF,QAAQ,GAAK,OAEnJ,OAAOzZ,EAET,OAAOoB,KAAKoB,OAAOC,MAAMoQ,2BAE3Bsf,qBAAsB,CACpB,MAC4B,OAAtB/wB,KAAKmxB,cACPnxB,KAAKmxB,cAAgB,KAErBnxB,KAAKmxB,cAAgB,OAGzB,MACE,MAA8B,QAAvBnxB,KAAKmxB,gBAGhB,uBACE,IAAItvB,EAAc,GAOlB,OANA7B,KAAK6B,YAAYsG,QAASlK,IACxB4D,EAAYhF,KAAKoB,KAEnB+B,KAAKuR,0BAA0BpJ,QAASb,IACpCzF,EAAYhF,KAAKyK,KAEdzF,GAET,0BACE,GAAyB,YAArB7B,KAAK8wB,aAA4B,CACnC,MAAMW,EAAiBzxB,KAAKuG,SAASqL,wBAC/B/P,EAAc7B,KAAK0xB,qBAazB,OAZ0C,GAAtCl1B,OAAO+F,KAAKkvB,GAAgBl1B,QAAesF,EAAYtF,QAAUC,OAAO+F,KAAKkvB,GAAgBl1B,QAC7FsF,EAAYsG,QAASlK,IACdzB,OAAO+F,KAAKkvB,GAAgBtrB,SAASlI,KACxCwzB,EAAexzB,GAAK,CAClBE,KAAKF,EACLwf,UAAWjhB,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAI+B,KAAK0uB,qBAAqBzwB,GAAK,EAC/FuZ,WAAchb,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAQ+B,KAAK0uB,qBAAqBzwB,GAAK,IAAM,IAAO,EAAI,EAAI+B,KAAK0uB,qBAAqBzwB,GAAK,IAAM,IAA7F,EACnE0Z,YAAcnb,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAQ+B,KAAK0uB,qBAAqBzwB,GAAK,IAAM,IAAO,EAAI,EAAI+B,KAAK0uB,qBAAqBzwB,GAAK,IAAM,IAA7F,MAKtEwzB,EAET,IAAIla,EAAM,GACN1V,EAAc7B,KAAKyR,0BAA0BrI,IAAKnL,GAC7CA,EAAEE,MAcX,OAZA0D,EAAYsG,QAASlK,IACFA,EAAEyZ,MAAM,KAAK,GAA9B,IACIia,EAAYla,WAAWxZ,EAAEuf,UAAUvf,EAAE1B,OAAO,GAAI0B,EAAE1B,OAAO,IAAI8b,QAAQ,GACrEuZ,EAAana,WAAWxZ,EAAEuf,UAAUvf,EAAE1B,OAAO,EAAG0B,EAAE1B,OAAO,IAAI8b,QAAQ,GACrEiI,IAAmB7I,WAAWma,GAAcna,WAAWka,IAAc,GAAGtZ,QAAQ,GACpFd,EAAItZ,GAAK,CACPE,KAAKF,EACLwf,UAAU6C,EACV9I,WAAYma,EACZha,YAAaia,KAGVra,GAET,iCACE,OAAOvX,KAAKoB,OAAOC,MAAMwQ,gCAE3B,uBACE,OAAO7R,KAAKoB,OAAOC,MAAM2Q,yBAE3B,UACE,MAAO,IAAIhS,KAAKuG,SAASqM,UAE3B,aACE,MAAO,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,QAEpE,kBACE,IAAIif,EAAmB,GACvB,IAAK,IAAIx1B,KAAK2D,KAAK8xB,WACjBD,EAAgB7xB,KAAK8xB,WAAWz1B,IAAMsyB,SAAStyB,GAEjD,OAAOw1B,GAET,cACE,MAAM9N,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,2BACE,GAAqC,cAAjC+B,KAAKoB,OAAOC,MAAMuF,YAA6B,CACjD,IAAIwhB,EAA2B,GAQ/B,OAPApoB,KAAK6B,YAAYsG,QAASlK,IACxBmqB,EAAyBvrB,KAAKoB,EAAE,IAAI+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAG,KACjF+B,KAAKwxB,iBAAiBvzB,GAAKA,EAAE,IAAI+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAG,MAEhF+B,KAAKuR,0BAA0BpJ,QAASlK,IACtCmqB,EAAyBvrB,KAAKoB,KAEzBmqB,EAEP,OAAOpoB,KAAKmoB,gBAGhB,WACE,MAAO,IAAInoB,KAAKuG,SAASgD,WAE3B,YACE,MAAO,IAAIvJ,KAAKuG,SAASsB,YAG3B,UACE,MAAM+mB,EAEF5uB,KAAKoB,OAAOyE,QAAQuP,QAElBA,EAAmC5Y,OAAOqyB,QAAQD,GAAcxlB,IAAI,EAAE9B,EAAYtJ,MAC/E,CACLsJ,aACA8N,QAASpX,KAGb,OAAOoX,GAET,cAkDE,MAAMzH,EAiDF,GACJ,IAAIokB,EAAe,GAyNnB,MAtNyB,WAArB/xB,KAAK8wB,aACL9wB,KAAKyR,0BAA0BtJ,QAAS6pB,IACxC,IAAI/zB,EAAI+zB,EAAS7zB,KACbmJ,EAAarJ,EAAEyZ,MAAM,KAAK,GAC1Bia,EAAYla,WAAWxZ,EAAEuf,UAAUvf,EAAE1B,OAAO,GAAI0B,EAAE1B,OAAO,IAAI8b,QAAQ,GACrEuZ,EAAana,WAAWxZ,EAAEuf,UAAUvf,EAAE1B,OAAO,EAAG0B,EAAE1B,OAAO,IAAI8b,QAAQ,GACrEiI,GAAkB7I,WAAWma,GAAcna,WAAWka,IAAc,EACxEhkB,EAAY1P,GAAK,CACfE,KAAKF,EACLwf,UAAW6C,EACX2B,IAAK,EACLgQ,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,QAAS,GACTC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,cAAe,GACfC,gBAAiB,IAEnB/yB,KAAK8xB,WAAW3pB,QAAS6qB,IACvBrlB,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,iBAAiB+0B,GAAQ,CACtCnrB,UAAW,IAAI4K,OAGnBzS,KAAK6H,UAAUM,QAASkB,IACtB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuB9V,GAClDgC,GAAaD,GAAIqE,OAAUpE,GAAaD,GAAIsE,YAAYrG,GACtEqG,EAAY1P,GAAG80B,gBAAgBl2B,KAAK4a,WAAWwb,IAC/C,IAAIjC,GAAYiC,EAAiBvb,MAAM,KAAK,GAAG8F,UAAU,EAAE,GAAG,IAAIpF,WAC7B,KAAhC6a,EAAiBvb,MAAM,KAAK,KAC/BsZ,EAAW,OAEb,IAAIkC,EAAiBlzB,KAAK6xB,gBAAgBb,GAC1C,GAAIkC,EAAiB,GAAKA,EAAiBlzB,KAAK8xB,WAAWv1B,OAAQ,CACjE,IAAI42B,EAAeD,EAAiB,EAChCE,EAAe3b,WAAWzX,KAAK8xB,WAAWqB,IAC1C1pB,KAAK4W,IAAI+S,EAAe3b,WAAYwb,IAAqBxpB,KAAK4W,IAAI5I,WAAYwb,GAAoBxb,WAAWuZ,MAC/GA,EAAWhxB,KAAK8xB,WAAWqB,IAI/BxlB,EAAY1P,GAAG,iBAAiB+yB,GAAUnpB,UAAUuZ,IAAI/X,GACpD4pB,EAAmBtB,GAAasB,EAAmBrB,EAC/CqB,GAAsBtlB,EAAY1P,GAAY,UAAI,IACpD0P,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAE1DsE,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAErD4pB,GAAoBrB,EACzBtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CjF,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAE1DsE,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAGxDC,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CjF,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAE1DsE,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,KAKhErJ,KAAK8xB,WAAW3pB,QAAS6qB,IACvBrlB,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/E8V,EAAal1B,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,KAAOtO,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,KAAOtO,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,KAAOtO,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,QAGjP,IAAK,IAAI5f,KAAKsR,EAAY1P,GAAG,SAC3B0P,EAAY1P,GAAG,WAAWpB,KAAK8Q,EAAY1P,GAAG,SAAS5B,GAAKsR,EAAY1P,GAAG,SAAS5B,GAAKsR,EAAY1P,GAAG,SAAS5B,GACnFsR,EAAY1P,GAAG,SAAS5B,GAAKsR,EAAY1P,GAAG,SAAS5B,GAAKsR,EAAY1P,GAAG,SAAS5B,MAOlH2D,KAAK6B,YAAYsG,QAASlK,IAC1B,IAAI0zB,EAAgE,GAApDn1B,OAAO+F,KAAKvC,KAAK4R,yBAAyBrV,OAAa,IAAMyD,KAAK4R,wBAAwB3T,GAAGuZ,WACzGoa,EAAiE,GAApDp1B,OAAO+F,KAAKvC,KAAK4R,yBAAyBrV,OAAa,IAAMyD,KAAK4R,wBAAwB3T,GAAG0Z,YAE9GhK,EAAY1P,GAAK,CACfE,KAAKF,EACLwf,UAAWjhB,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAI+B,KAAK0uB,qBAAqBzwB,GAAK,EAC/FgkB,IAAK,EACLgQ,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,QAAS,GACTC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,cAAe,GACfC,gBAAiB,IAEnB/yB,KAAK8xB,WAAW3pB,QAAS6qB,IACvBrlB,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,iBAAiB+0B,GAAQ,CACtCnrB,UAAW,IAAI4K,OAGnBzS,KAAK6H,UAAUM,QAASkB,IACtB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuBnf,GAClDqL,GAAaD,GAAIqE,OAAUpE,GAAaD,GAAIsE,YAAY1P,GACtE0P,EAAY1P,GAAG80B,gBAAgBl2B,KAAK4a,WAAWwb,IAC/C,IAAIjC,GAAYiC,EAAiBvb,MAAM,KAAK,GAAG8F,UAAU,EAAE,GAAG,IAAIpF,WAC7B,KAAhC6a,EAAiBvb,MAAM,KAAK,KAC/BsZ,EAAW,OAEb,IAAIkC,EAAiBlzB,KAAK6xB,gBAAgBb,GAC1C,GAAIkC,EAAiB,GAAKA,EAAiBlzB,KAAK8xB,WAAWv1B,OAAQ,CACjE,IAAI42B,EAAeD,EAAiB,EAChCE,EAAe3b,WAAWzX,KAAK8xB,WAAWqB,IAC1C1pB,KAAK4W,IAAI+S,EAAe3b,WAAYwb,IAAqBxpB,KAAK4W,IAAI5I,WAAYwb,GAAoBxb,WAAWuZ,MAC/GA,EAAWhxB,KAAK8xB,WAAWqB,IAI/BxlB,EAAY1P,GAAG,iBAAiB+yB,GAAUnpB,UAAUuZ,IAAI/X,GACpD4pB,EAAmBtB,GAAasB,EAAmBrB,EAC/CqB,GAAsBtlB,EAAY1P,GAAY,UAAI,IACpD0P,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAE1DsE,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAErD4pB,GAAoBrB,EACzBtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CjF,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAE1DsE,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAGxDC,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CjF,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAE1DsE,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,KAKhErJ,KAAK8xB,WAAW3pB,QAAS6qB,IACvBrlB,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/E8V,EAAal1B,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,KAAOtO,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,KAAOtO,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,KAAOtO,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,QAGjP,IAAK,IAAI5f,KAAKsR,EAAY1P,GAAG,SAC3B0P,EAAY1P,GAAG,WAAWpB,KAAK8Q,EAAY1P,GAAG,SAAS5B,GAAKsR,EAAY1P,GAAG,SAAS5B,GAAKsR,EAAY1P,GAAG,SAAS5B,GACnFsR,EAAY1P,GAAG,SAAS5B,GAAKsR,EAAY1P,GAAG,SAAS5B,GAAKsR,EAAY1P,GAAG,SAAS5B,MAMtH2D,KAAKkxB,aAAqC,GAAtBpnB,GAAA,KAAOioB,GAC3B/xB,KAAK2Y,EAAE5O,OAAO,CAAC,EAAuB,EAArBD,GAAA,KAAOioB,KACjBpkB,GAET,aAIE,OAAO3N,KAAKoB,OAAOC,MAAM8J,mBAE3B,IACE,IAAItJ,EAAc7B,KAAKyR,0BAA0BrI,IAAKnL,IACpDA,EAAEE,OAEJ,MAAMwa,EAAI7O,GAAA,OACP+f,MAAM,CAAC,EAAG7pB,KAAKgW,MAAQnU,EAAYtF,SACnCwN,OAAO,CAAC,EAAE,MACb,OAAO4O,GAET,SACE,IAAI9W,EAAc7B,KAAKyR,0BAA0BrI,IAAKnL,IACpDA,EAAEE,OAEJ,MAAMwa,EAAI7O,GAAA,OACP+f,MAAM,CAAC,EAAG7pB,KAAKgW,MAAQnU,EAAYtF,SACnCwN,OAAO,CAAC,EAAE,IACb,OAAO4O,GAET,IACE,MAAMC,EAAI9O,GAAA,OACP+f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACpBwa,QAAQ,IAAKtpB,OAAO/J,KAAK8xB,YAC5B,OAAOlZ,GAET,SACE,MAAM0a,EAASxpB,GAAA,OACVC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC7pB,KAAK6Y,OAAO,IACxB,OAAOya,GAET,aACE,OAAOtzB,KAAKoB,OAAOC,MAAMmP,YAE3B,eACE,OAAOxQ,KAAKoB,OAAOC,MAAMoP,eAG7BuZ,MAAO,CACL,eACE,IAAIpZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,kCAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKguB,eAAiBpvB,EAAMyX,UAC5BrW,KAAK8wB,aAAelyB,EAAMkyB,gBAIhC9wB,KAAKiqB,eAEP,aACE,IAAIpV,EAAS,CAAC,KAAO,iCACP,OAAU,CACR,UAAY7U,KAAKguB,eACjB,aAAehuB,KAAK8wB,eACpC9wB,KAAKoB,OAAOO,SAAS,oBAAoBkT,IAE3C,4BACE7U,KAAKiqB,eAEP,iBACEjqB,KAAKiqB,eAEP,gBAC2B,YAArBjqB,KAAK8wB,aACP9wB,KAAKuzB,2BAELvzB,KAAKiqB,eAGT,qBACEjqB,KAAKwzB,yBAEP,QACExzB,KAAKkqB,aAEP,YAC2B,YAArBlqB,KAAK8wB,aACP9wB,KAAKuzB,2BAELvzB,KAAKiqB,eAGT,aAC6B,YAAvBjqB,KAAKguB,gBACPhuB,KAAKiqB,cAEPjqB,KAAK0sB,iBACL1sB,KAAKyzB,sBAEP,eAC2B,YAArBzzB,KAAK8wB,aACP9wB,KAAKuzB,2BAELvzB,KAAKiqB,gBAIX,UACE,IAAIrZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,kCAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKguB,eAAiBpvB,EAAMyX,UAC5BrW,KAAK8wB,aAAelyB,EAAMkyB,gBAIhC9wB,KAAKiqB,eAEP/mB,QAAS,CACP,sBACE,MAAMoE,EAAatH,KAAK6R,+BAGlB8f,EAAW3xB,KAAK4R,wBAAwBtK,GAAYkQ,WACpDoa,EAAa5xB,KAAK4R,wBAAwBtK,GAAYqQ,YAC5D,IAAI+b,EAAa,EACbC,EAAa,EACb1Q,GAAO,GACXjjB,KAAK8xB,WAAW3pB,QAASlK,IACnB0zB,GAAa1zB,GAAK0zB,EAAY1O,IAChCyQ,EAAazQ,GAEX2O,GAAc3zB,GAAK2zB,EAAa3O,IAClC0Q,EAAa11B,GAEfglB,EAAMhlB,IAIR,IAAK,IAAI5B,KAAK2D,KAAK8xB,WAAY,CAC7B,IAAIkB,EAAOhzB,KAAK8xB,WAAWz1B,GACvB8iB,EAAgB,IAAInf,KAAK2N,YAAYrG,GAAY,iBAAiB0rB,GAAMnrB,WACxEmpB,EAAWgC,EACXA,GAAQU,GAAcV,GAAQW,IAChC3zB,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAe,IAAIvgB,IACzEzS,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAe,IAAIvgB,IACzEzS,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAe,IAAIvgB,IACzEzS,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAe,IAAIvgB,IACzEzS,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAe,IAAIvgB,IACzEzS,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAe,IAAIvgB,IACzE0M,EAAchX,QAASkB,IACrB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuB9V,GAClDgC,GAAaD,GAAIqE,OAAUpE,GAAaD,GAAIsE,YAAYrG,GAClE2rB,EAAmBtB,GAAasB,EAAmBrB,EAC/CqB,GAAoBjzB,KAAK2N,YAAYrG,GAAYmW,WAAahG,WAAYuZ,GAAYhxB,KAAK2N,YAAYrG,GAAYmW,UAAY,IACjIzd,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,UAAUuZ,IAAI/X,GAExErJ,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,UAAUuZ,IAAI/X,GAEnE4pB,GAAoBrB,EACzBtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1C5S,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,UAAUuZ,IAAI/X,GAExErJ,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,UAAUuZ,IAAI/X,GAGtEC,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1C5S,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,UAAUuZ,IAAI/X,GAExErJ,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,UAAUuZ,IAAI/X,KAI9ErJ,KAAK2N,YAAYrG,GAAY2qB,MAAM51B,GAAK2D,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAa/W,KAC3Gjc,KAAK2N,YAAYrG,GAAY6qB,MAAM91B,GAAK2D,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAa/W,KAC3Gjc,KAAK2N,YAAYrG,GAAY8qB,MAAM/1B,GAAK2D,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAa/W,KAC3Gjc,KAAK2N,YAAYrG,GAAY4qB,MAAM71B,GAAK2D,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAa/W,KAC3Gjc,KAAK2N,YAAYrG,GAAYgrB,MAAMj2B,GAAK2D,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAa/W,KAC3Gjc,KAAK2N,YAAYrG,GAAY+qB,MAAMh2B,GAAK2D,KAAK2N,YAAYrG,GAAY,mBAAmB0rB,GAAM,aAAa/W,KAC3Gjc,KAAK2N,YAAYrG,GAAYirB,QAAQl2B,GAAM2D,KAAK2N,YAAYrG,GAAY2qB,MAAM51B,GAAK2D,KAAK2N,YAAYrG,GAAY6qB,MAAM91B,GAAK2D,KAAK2N,YAAYrG,GAAY8qB,MAAM/1B,GACtJ2D,KAAK2N,YAAYrG,GAAY4qB,MAAM71B,GAAK2D,KAAK2N,YAAYrG,GAAYgrB,MAAMj2B,GAAK2D,KAAK2N,YAAYrG,GAAY+qB,MAAMh2B,MAIjI,sBACE,MAAMiL,EAAatH,KAAK6R,+BAElByhB,GADYtzB,KAAK6H,UACR7H,KAAKszB,QACdnJ,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAEnCgD,EAAMK,OAAO,4BAA4BljB,GAAY+R,KAAK,YAAcnb,GAC/D,eAAgBo1B,EAAQtzB,KAAK4R,wBAAwB5R,KAAK6R,gCAAgC2F,WAAWa,QAAQ,IAA7G,eACT8R,EAAMK,OAAO,0BAA0BljB,GAAY+R,KAAK,YAAcnb,GAC7D,eAAgBo1B,EAAQtzB,KAAK4R,wBAAwB5R,KAAK6R,gCAAgC8F,YAAYU,QAAQ,IAA9G,eACT8R,EAAMK,OAAO,gBAAgBljB,GAAY+R,KAAK,KAAMnb,GAAWo1B,EAAQtzB,KAAK4R,wBAAwB5R,KAAK6R,gCAAgC2F,WAAWa,QAAQ,KACjJgB,KAAK,KAAMnb,GAAWo1B,EAAQtzB,KAAK4R,wBAAwB5R,KAAK6R,gCAAgC8F,YAAYU,QAAQ,KAE/HrY,KAAK4zB,sBACL5zB,KAAK6zB,kBAEP,yBACE7zB,KAAKixB,mBAAqB,CAAEjpB,KAAM,GAAIV,WAAY,GAAI0pB,SAAS,KAEjE,aACEhxB,KAAKinB,MAAQ,CAAEjf,KAAM,GAAIqO,UAAW,GAAI/O,WAAY,GAAG0pB,SAAS,KAElE,YACE,MAAM7G,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BiD,EAAYD,EAAME,UAAU,eAC5BC,EAAYH,EAAME,UAAU,eAC5ByJ,EAAa3J,EAAME,UAAU,eAC7B0J,EAAa5J,EAAME,UAAU,eAC7B2J,EAAU7J,EAAME,UAAU,gBAC1B4J,EAAW9J,EAAME,UAAU,gBAC3B6J,EAAY/J,EAAMK,OAAO,uBACzBC,EAAuBN,EAAMK,OAAO,8BACpCE,EAAuBP,EAAMK,OAAO,8BACpC2J,EAAwBhK,EAAMK,OAAO,+BACrC4J,EAA0BjK,EAAMK,OAAO,iCACvC6J,EAA0BlK,EAAMK,OAAO,iCACvC8J,EAA2BnK,EAAMK,OAAO,kCACxC+J,EAA0BpK,EAAMK,OAAO,iCACvCgK,EAA0BrK,EAAMK,OAAO,iCACvCiK,EAA2BtK,EAAMK,OAAO,mCAExC,MAAEpf,EAAK,OAAE+E,GAAWnQ,KAAKiY,WACzByc,EAAe,CAACzJ,EAAsB6G,EAAmBzb,EAAuBrO,KACpF,MAAMH,EAAkB,GAANG,EAAShI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAE1E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAG/C8W,GAFgC,GAANnlB,GAAUhI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,OAC1Pjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAY7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAY7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,WAC7L,MAAtB7H,KAAKmxB,cAAwBhG,EAAqBlP,KAClC,GAAlBpU,EAAUoU,KAAY,GAAiC,IAA5BkP,EAAqBlP,KAAcpU,EAAUoU,MAAM5D,QAAQ,IACrH,OAAO8U,GAGHwH,EAAe,CAAC1J,EAAuB6G,EAAmBzb,EAAwBrO,KACtF,MAAMH,EAAoB,GAARG,EAAWhI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAE5E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAI/C8W,GAHgC,GAANnlB,GAAUhI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,OAC1Pjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAY7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAY7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,WAE7L,MAAtB7H,KAAKmxB,cAAwBhG,EAAqBlP,KAClC,GAAlBpU,EAAUoU,KAAY,GAAiC,IAA5BkP,EAAqBlP,KAAYpU,EAAUoU,MAAM5D,QAAQ,IACnH,OAAO8U,GAGHyH,EAAgB,CAAC3J,EAAuB6G,EAAmBzb,EAAwBrO,KACvF,MAAMH,EAAoB,GAARG,EAAWhI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAE5E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAI/C8W,GAHgC,GAANnlB,GAAUhI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,OAC1Pjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAY7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAY7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,WAE7L,MAAtB7H,KAAKmxB,cAAwBhG,EAAqBlP,KAClC,GAAlBpU,EAAUoU,KAAY,GAAiC,IAA5BkP,EAAqBlP,KAAYpU,EAAUoU,MAAM5D,QAAQ,IACnH,OAAQ8U,GAEJtrB,EAAc7B,KAAMyR,0BAA0BrI,IAAKnL,GAChDA,EAAEE,MAEX,IAAIutB,EAAQ5hB,GAAA,OACP+f,MAAM,CAAC,EAAG7pB,KAAKgW,QACfqd,QAAQ,IACRtpB,OAAOlI,GAIY,WAApB7B,KAAKinB,MAAMjf,MAA6C,IAAxBhI,KAAKinB,MAAM5Q,UAC7C+T,EACG/Q,KAAK,OAASnb,GACbA,EAAE,gBAAkB8B,KAAKinB,MAAM3f,YAAcpJ,EAAE,gBAAkB8B,KAAKinB,MAAM+J,SACxEhxB,KAAKqnB,gBACLrnB,KAAKonB,YAEc,WAAvBpnB,KAAKguB,gBACP5D,EAAU/Q,KAAK,OAAQrZ,KAAKonB,YAER,WAApBpnB,KAAKinB,MAAMjf,MAA6C,IAAxBhI,KAAKinB,MAAM5Q,UAC7CiU,EACGjR,KAAK,OAASnb,GACbA,EAAE,gBAAkB8B,KAAKinB,MAAM3f,YAAcpJ,EAAE,gBAAkB8B,KAAKinB,MAAM+J,SACxEhxB,KAAKynB,gBACLznB,KAAKwnB,YAEc,WAAvBxnB,KAAKguB,gBACP1D,EAAUjR,KAAK,OAAQrZ,KAAKwnB,YAER,YAApBxnB,KAAKinB,MAAMjf,MAA8C,IAAxBhI,KAAKinB,MAAM5Q,UAC9C2d,EACG3a,KAAK,OAASnb,GACbA,EAAE,gBAAkB8B,KAAKinB,MAAM3f,YAAcpJ,EAAE,gBAAkB8B,KAAKinB,MAAM+J,SACxE,OACA,aAEmB,WAAvBhxB,KAAKguB,gBACPgG,EAAQ3a,KAAK,OAAQ,aAGD,WAApBrZ,KAAKinB,MAAMjf,MAA6C,IAAxBhI,KAAKinB,MAAM5Q,UAC7Cyd,EACGza,KAAK,OAASnb,GACbA,EAAE,gBAAkB8B,KAAKinB,MAAM3f,YAAcpJ,EAAE,gBAAkB8B,KAAKinB,MAAM+J,SACxEhxB,KAAKsxB,iBACLtxB,KAAKoxB,aAEc,WAAvBpxB,KAAKguB,gBACP8F,EAAWza,KAAK,OAAQrZ,KAAKoxB,aAGT,WAApBpxB,KAAKinB,MAAMjf,MAA6C,IAAxBhI,KAAKinB,MAAM5Q,UAC7C0d,EACG1a,KAAK,OAASnb,GACbA,EAAE,gBAAkB8B,KAAKinB,MAAM3f,YAAcpJ,EAAE,gBAAkB8B,KAAKinB,MAAM+J,SACxEhxB,KAAKuxB,iBACLvxB,KAAKqxB,aAEc,WAAvBrxB,KAAKguB,gBACP+F,EAAW1a,KAAK,OAAQrZ,KAAKqxB,aAGT,YAApBrxB,KAAKinB,MAAMjf,MAA8C,IAAxBhI,KAAKinB,MAAM5Q,UAC9C4d,EACG5a,KAAK,OAASnb,GACbA,EAAE,gBAAkB8B,KAAKinB,MAAM3f,YAAcpJ,EAAE,gBAAkB8B,KAAKinB,MAAM+J,SACxE,OACA,aAEmB,WAAvBhxB,KAAKguB,gBACPiG,EAAS5a,KAAK,OAAQ,aAK1B,MAAMyR,EAAe,IACfC,EAAoB,IAEtB/qB,KAAKinB,MAAMjf,MACbksB,EACI9I,aACCC,SAASP,GACTzR,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,KAAO,OACvE+R,KAAK,UAAW,GACC,UAAnBrZ,KAAKinB,MAAMjf,MAAuC,UAAnBhI,KAAKinB,MAAMjf,MAAuC,WAAnBhI,KAAKinB,MAAMjf,MAE1EyiB,EACGW,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YACJ,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACpDvC,KAA2B,OAAtB/E,KAAKmxB,cAAwB,SAAW,OAASnxB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY,mBAAmBtH,KAAKinB,MAAM+J,UAAUnpB,UAAc,MAEvJssB,EACK/I,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAA2B,OAAtB/E,KAAKmxB,cAAwB,SAAW,MAAOnxB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY,mBAAmBtH,KAAKinB,MAAM+J,UAAUnpB,UAAc,MAEvJ6iB,EACKU,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAA2B,OAAtB/E,KAAKmxB,cAAwB,SAAW,MAAOnxB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY,mBAAmBtH,KAAKinB,MAAM+J,UAAUnpB,UAAc,MACnJuD,IACFgpB,EACGhJ,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,OAAO,aACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAQ2vB,EAAa10B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,IAEzFysB,EACKlJ,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,OAAO,aACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAQ6vB,EAAc50B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,IAE5FwsB,EACKjJ,aACAC,SAASP,GACTzR,KAAK,OAAO,aACZA,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAQ4vB,EAAa30B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,KAEzFsI,IACFokB,EACGnJ,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,OAAOrZ,KAAKunB,iBACjBlO,KAAK,YAAc,cAAiBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAO,SACxEvC,KAAK,QAAQ2vB,EAAa10B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,IAE1F4sB,EACKrJ,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,OAAOrZ,KAAKunB,iBACjBlO,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAK,SACrEvC,KAAK,QAAQ6vB,EAAc50B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,IAE7F2sB,EACKpJ,aACAC,SAASP,GACTzR,KAAK,OAAOrZ,KAAKunB,iBACjBlO,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAQ4vB,EAAa30B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,OAI9F4iB,EACGW,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAA2B,OAAtB/E,KAAKmxB,cAAwB,SAAW,OAAWnxB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY,mBAAmBtH,KAAKinB,MAAM+J,UAAUnpB,UAAc,MAEzJssB,EACK/I,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAA2B,OAAtB/E,KAAKmxB,cAAwB,SAAW,OAAWnxB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY,mBAAmBtH,KAAKinB,MAAM+J,UAAUnpB,UAAc,MAE3J6iB,EACKU,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAA2B,OAAtB/E,KAAKmxB,cAAwB,SAAW,OAAWnxB,KAAK2N,YAAY3N,KAAKinB,MAAM3f,YAAY,mBAAmBtH,KAAKinB,MAAM+J,UAAUnpB,UAAc,MACvJuD,IACFgpB,EACGhJ,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,OAAO,aACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAQ2vB,EAAa10B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,IAEzFysB,EACKlJ,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,OAAO,aACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAQ6vB,EAAc50B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,IAE5FwsB,EACKjJ,aACAC,SAASP,GACTzR,KAAK,OAAO,aACZA,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAQ4vB,EAAa30B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,KAEzFsI,IACFokB,EACGnJ,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,OAAOrZ,KAAKunB,iBACjBlO,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAQ2vB,EAAa10B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,IAE1F4sB,EACKrJ,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,OAAOrZ,KAAKunB,iBACjBlO,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAK,SACrEvC,KAAK,QAAQ6vB,EAAc50B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,IAE7F2sB,EACKpJ,aACAC,SAASP,GACTzR,KAAK,OAAOrZ,KAAKunB,iBACjBlO,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAQ4vB,EAAa30B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,QAMhG4iB,EACGW,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxB8a,EACG/I,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBqR,EACGU,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxB+a,EACGhJ,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBib,EACGlJ,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBgb,EACGjJ,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBkb,EACGnJ,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBob,EACGrJ,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBmb,EACGpJ,aACAC,SAASN,GACT1R,KAAK,eAAgB,GASxB6a,EACG9I,aACAC,SAASN,GACT1R,KAAK,UAAW,KAGvB,wBACE,MAAM8Q,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B0N,EAAW1K,EAAME,UAAU,iBAC3B6J,EAAY/J,EAAMK,OAAO,4BACzBsK,EAAsB3K,EAAMK,OAAO,4BACnCuK,EAAyB5K,EAAMK,OAAO,+BACtCwK,EAAyB7K,EAAMK,OAAO,+BACtCD,EAAkBJ,EAAMK,OAAO,4BAC/BM,EAAe,IACfC,EAAoB,KACpB,MAAE3f,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAEzByc,EAAe,CAACzJ,EAAsB6G,EAAmBzb,EAAuBrO,KACpF,MAAMH,EAAY,IAAI4K,IAAI,IAAIzS,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAC/D7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,YAG9E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2BhC,EAAqBlP,KACtD,OAAOkR,GAET,IAAItrB,EAAc,GAClB7B,KAAK6B,YAAYsG,QAASlK,IACxB4D,EAAYhF,KAAKoB,KAEnB+B,KAAKuR,0BAA0BpJ,QAASb,IACpCzF,EAAYhF,KAAKyK,KAErB,MAAMokB,EAAQ5hB,GAAA,OACT+f,MAAM,CAAC,EAAG7pB,KAAKgW,QACfqd,QAAQ,IACRtpB,OAAOlI,GAEZ,IAAIozB,EAAc,IAClB,IAAK,IAAI54B,KAAK2D,KAAK8xB,WACjB,GAAI9xB,KAAK8xB,WAAWz1B,IAAM2D,KAAKixB,mBAAmBD,SAAU,CAC1DiE,EAAc54B,EACd,MAIiC,SAAjC2D,KAAKixB,mBAAmBjpB,KAC1B6sB,EACGxb,KAAK,OAASnb,GACbA,EAAE,gBAAkB8B,KAAKixB,mBAAmB3pB,YAAcpJ,EAAE,gBAAkB8B,KAAKixB,mBAAmBD,SAClGhxB,KAAKqnB,gBACLrnB,KAAKonB,YAEbyN,EAASxb,KAAK,OAAQrZ,KAAKonB,YAGzBpnB,KAAKixB,mBAAmBjpB,MAC1BksB,EACI9I,aACCC,SAASP,GACTzR,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKixB,mBAAmB3pB,YAAY,IAAM,OACnF+R,KAAK,UAAW,GAErBkR,EACGa,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,YAAc,aAAeqS,EAAM1rB,KAAKixB,mBAAmB3pB,YAAc,OAC9E+R,KAAK,KAAMrZ,KAAK2Y,EAAE3Y,KAAK2N,YAAY3N,KAAKixB,mBAAmB3pB,YAAY,WAAW2tB,KAClF5b,KAAK,MAAM,IACXA,KAAK,KAAkB,IAAZrZ,KAAK6Y,QAChBQ,KAAK,KAAMrZ,KAAK2Y,EAAE3Y,KAAK2N,YAAY3N,KAAKixB,mBAAmB3pB,YAAY,WAAW2tB,KAErFH,EACK1J,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAc,aAAgBqS,EAAM1rB,KAAKixB,mBAAmB3pB,YAAe,SAChFvC,KAAK,QAAS/E,KAAK2N,YAAY3N,KAAKixB,mBAAmB3pB,YAAY,WAAW2tB,IAE/E7pB,GACF2pB,EACG3J,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,OAAO,aACZA,KAAK,YAAc,aAAgBqS,EAAM1rB,KAAKixB,mBAAmB3pB,YAAe,SAChFvC,KAAK,QAAQ2vB,EAAa10B,KAAKixB,mBAAmB3pB,WAAWtH,KAAKixB,mBAAmBD,SAAU5lB,EAAMvD,UAAW,IAEjHsI,GACF6kB,EACG5J,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,OAAOrZ,KAAKunB,iBACjBlO,KAAK,YAAc,aAAiBqS,EAAM1rB,KAAKixB,mBAAmB3pB,YAAgB,SAClFvC,KAAK,QAAQ2vB,EAAa10B,KAAKixB,mBAAmB3pB,WAAWtH,KAAKixB,mBAAmBD,SAAU7gB,EAAOtI,UAAW,MAItH0iB,EACGa,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAE1Byb,EACG1J,aACAC,SAASN,GACT1R,KAAK,eAAgB,GAExB0b,EACG3J,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxB2b,EACG5J,aACAC,SAASN,GACT1R,KAAK,eAAgB,GAExB6a,EACG9I,aACAC,SAASN,GACT1R,KAAK,UAAW,KAIvB,cAEEvP,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAM2J,EAASprB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC7CC,KAAK,QAAQ,WACbA,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAA2B,EAArB7mB,KAAK4mB,OAAOG,UAK5CI,GAHiB+N,EAAO9b,OAAO,KAChCC,KAAK,QAAQ,kBACbA,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,KAAK,MAA2B,IAArBhnB,KAAK4mB,OAAOG,WAC3DmO,EAAO9b,OAAO,KACrBC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,KAAK,MAA2B,IAArBhnB,KAAK4mB,OAAOG,YAEjEllB,EAAc7B,KAAMyR,0BAA0BrI,IAAKnL,GAChDA,EAAEE,MAELwa,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EACTC,EAAS7Y,KAAK6Y,OACJ7Y,KAAKgW,MAAQnU,EAAYtF,OACzC,IAAImvB,EAAQ5hB,GAAA,OACP+f,MAAM,CAAC,EAAG7pB,KAAKgW,QACfqd,QAAQ,IACRtpB,OAAOlI,GAKZ,MAAMszB,EAAc,KAClB,IAAI7B,EAAStzB,KAAKszB,OACd7B,EAAiBzxB,KAAK4R,wBAGdnI,KAAK0W,KAAK,GAEtB,MAAMiV,EAAejO,EAAI/N,OAAO,KAAKiR,UAAU,KAC5CtuB,KAAK8F,GACLwuB,QAAQjX,OAAO,KACbC,KAAK,aAAa,SAASnb,GAAY,MAAO,aAAgBwtB,EAAMxtB,GAAM,OAElEk3B,EAAahc,OAAO,QAC9BC,KAAK,QAASnb,GAAW,eAAeA,GACxC8H,MAAM,SAAU,QAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAM,GACXA,KAAK,KAAM,GACXA,KAAK,KAAMnb,GACHo1B,EAAQ7B,EAAevzB,GAAGsZ,aAClC6B,KAAK,KAAMnb,GACHo1B,EAAQ7B,EAAevzB,GAAGyZ,cAEzByd,EAAahc,OAAO,UAC7BpT,MAAM,OAAQ,OACdqT,KAAK,IAAIT,EAAE0S,YAAY,GACvBtlB,MAAM,SAAU,QAChBqT,KAAK,QAASnb,GAAW,0BAA0BA,GACnDmb,KAAK,YAAcnb,GACX,eAAgBo1B,EAAQ7B,EAAevzB,GAAGsZ,YAA1C,eAER6B,KAAK,KAAMnb,GAAW,8BAA8BA,GAG3Ck3B,EAAahc,OAAO,UAC7BpT,MAAM,OAAQ,SACdqT,KAAK,IAAIT,EAAE0S,YAAc,GACzBtlB,MAAM,SAAU,QAChBqT,KAAK,QAASnb,GAAW,wBAAwBA,GACjDmb,KAAK,YAAcnb,GACX,eAAgBo1B,EAAQ7B,EAAevzB,GAAGyZ,aAA1C,eAER0B,KAAK,KAAMnb,GAAW,+BAA+BA,GAElCk3B,EAAahc,OAAO,UACvCC,KAAK,QAAS,sBACdA,KAAK,YAAcnb,GACX,eAAgBo1B,EAAO7B,EAAevzB,GAAGuf,WAAzC,eAERpE,KAAK,IAAIT,EAAE0S,YAAY,GACvBjS,KAAK,OAAQ,YACbA,KAAK,iBAAkB,IAGtB2S,EAAa,KACjB7E,EAAIkD,UAAU,UACXtuB,KAAK8F,GACLwuB,QAAQjX,OAAO,QACXpT,MAAM,cAAe,UACrBqT,KAAK,YAAa,cAClBA,KAAK,aAAa,SAASnb,GAC5B,MAAO,cAAgBwtB,EAAMxtB,GAAG,IAAM,KAAK2a,EAAO,IAA3C,kBACN9T,KAAM7G,GAAWA,GACjB8H,MAAM,OAAQ,SACdA,MAAM,YAAa,KAMtBmmB,EAAa,KACjB,MAAMnW,EAAQhW,KAAKgW,MAAQ,EACrB6C,EAAS7Y,KAAK4mB,OAAOC,IAAM,IAC3BrF,EAAS2F,EACZ/N,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YAAoC,YAAvBrZ,KAAKguB,eACvB,6BACGhuB,KAAKgW,MAAQA,qBACL,GAAP6C,KACH,6BACE7Y,KAAKgW,MAAQA,qBACL,GAAP6C,MAGkB,YAAvB7Y,KAAKguB,gBACPxM,EAAOpI,OAAO,QACXC,KAAK,QAASrD,GACdqD,KAAK,SAAUR,GACfQ,KAAK,OAAQrZ,KAAKsnB,iBAClBjO,KAAK,SAAS,SACjBmI,EAAOpI,OAAO,QACXC,KAAK,IAAKrD,GACVqD,KAAK,QAASrD,GACdqD,KAAK,SAAUR,GACfQ,KAAK,OAAQrZ,KAAKsnB,iBAClBjO,KAAK,SAAS,SACjBmI,EAAOpI,OAAO,QACXC,KAAK,IAAKR,GACVQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,GACfQ,KAAK,OAAQrZ,KAAKunB,iBAClBlO,KAAK,SAAS,SACjBmI,EAAOpI,OAAO,QACXC,KAAK,IAAKR,GACVQ,KAAK,IAAKrD,GACVqD,KAAK,QAASrD,GACdqD,KAAK,SAAUR,GACfQ,KAAK,OAAQrZ,KAAKunB,iBAClBlO,KAAK,SAAS,SAEjBmI,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAM6C,EAAS,MACtDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,gBACTyc,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,EAAI,MAAM6C,EAAS,MAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,cACTyc,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAM6C,EAAS,EAAI,MAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,gBACTyc,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,EAAI,MAAM6C,EAAS,EAAI,MAC9DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,gBAETyc,EAAOpI,OAAO,QACXC,KAAK,QAASrD,GACdqD,KAAK,SAAUR,GACfQ,KAAK,OAAQrZ,KAAKwnB,YAErBhG,EAAOpI,OAAO,QACXC,KAAK,IAAKR,GACVQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,GACfQ,KAAK,OAAQrZ,KAAKonB,YAErB5F,EAAOpI,OAAO,QACXC,KAAK,IAAY,EAAPR,GACVQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,GACfQ,KAAK,OAAQ,aAEhBmI,EAAOpI,OAAO,QACXC,KAAK,IAAY,EAAPR,GACVQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,GACfQ,KAAK,OAAQrZ,KAAKqxB,aAErB7P,EAAOpI,OAAO,QACXC,KAAK,IAAY,EAAPR,GACVQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,GACfQ,KAAK,OAAQrZ,KAAKoxB,aAGrB5P,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAM6C,EAAS,MACtDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MAETyc,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAe,EAAT6C,EAAa,MAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,MAERyc,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAe,IAAT6C,MAC7CQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,aAERyc,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAe,IAAT6C,MAC7CQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MAETyc,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAe,IAAT6C,MAC7CQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,QAINwlB,EAAkB,KACtBpD,EAAI/N,OAAO,QACRC,KAAK,QAAS,uBACdA,KAAK,KAAMV,EAAE,IACbU,KAAK,KAAK,GACVA,KAAK,KAAMV,EAAE,IACbU,KAAK,KAAkB,IAAZrZ,KAAK6Y,QAChBQ,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,uBACdA,KAAK,KAAMV,EAAE,IACbU,KAAK,KAAK,GACVA,KAAK,KAAMV,EAAE,IACbU,KAAK,KAAkB,IAAZrZ,KAAK6Y,QAChBQ,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,QAE1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,yBACdA,KAAK,KAAMV,EAAE,IACbU,KAAK,KAAK,GACVA,KAAK,KAAMV,EAAE,IACbU,KAAK,KAAkB,IAAZrZ,KAAK6Y,QAChBQ,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,yBACdA,KAAK,KAAMV,EAAE,IACbU,KAAK,KAAK,GACVA,KAAK,KAAMV,EAAE,IACbU,KAAK,KAAkB,IAAZrZ,KAAK6Y,QAChBQ,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,SAGtBoT,EAAkB,KACtBtF,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,QAAQ,KACbA,KAAK,SAAS,IACdA,KAAK,OAAO,SACZA,KAAK,SAAS,QACdA,KAAK,KAAK,IAEVA,KAAK,UAAW,GAEnB8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,6BACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKqnB,iBAClBhO,KAAK,iBAAkB,WAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKqnB,iBAClBhO,KAAK,iBAAkB,WAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKqnB,iBAClBhO,KAAK,iBAAkB,WAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,6BACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKynB,iBAClBpO,KAAK,iBAAkB,WAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKynB,iBAClBpO,KAAK,iBAAkB,WACzB8N,EAAI/N,OAAO,QACTC,KAAK,QAAS,gCACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKynB,iBAClBpO,KAAK,iBAAkB,WAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,8BACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,QACbA,KAAK,iBAAkB,WAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,iCACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,QACbA,KAAK,iBAAkB,WAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,iCACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,QACbA,KAAK,iBAAkB,YAG5B8b,IACAnJ,IACAG,IAEA5B,IACAkC,IACAzsB,KAAK6zB,iBACwB,WAAvB7zB,KAAKguB,gBACThuB,KAAKkqB,aAIT,iBACE,MAAMC,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BA,EAAMgD,EAAMK,OAAO,mBACnB2G,EAAgBnxB,KAAKmxB,cAC3BhK,EAAIkD,UAAU,KAAKkB,SAEnB,MAAM5S,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EACTsY,EAAelxB,KAAKkxB,aAEpBvjB,EAAc3N,KAAK2N,YACnBsK,EAAajY,KAAKiY,YAClB,MAAC7M,EAAK,OAAE+E,GAAUnQ,KAAKiY,WACvB6Z,EAAc9xB,KAAK8xB,WACnBjwB,EAAc7B,KAAKyR,0BAA0BrI,IAAKnL,GAC/CA,EAAEE,MAGX,IAAIutB,EAAQ5hB,GAAA,OACP+f,MAAM,CAAC,EAAG7pB,KAAKgW,QACfqd,QAAQ,IACRtpB,OAAOlI,GAEA7B,KAAKgW,MACJhW,KAAK6Y,OAElB,IAAIwc,EAAiBC,IACjBC,EAAiB,GACjBC,EAAyB,GAK7B,GAJA3zB,EAAYsG,QAAQ,CAAClK,EAAE5B,KACrBk5B,EAAet3B,GAAKo3B,EAAeh5B,GAAGN,OAGb,YAAvBiE,KAAKguB,gBAAgCxxB,OAAO+F,KAAKvC,KAAKiY,YAAY1b,OAAS,EAAG,CAEhF,GADA84B,EAAiB,GACbjqB,EAAO,CACT,MAAMqqB,EAAgBC,EAA6B,KACnDL,EAAex4B,KAAK44B,GACpB,IAAIE,EAAoB,GACxB9zB,EAAYsG,QAAQ,CAAClK,EAAE5B,KACrBs5B,EAAkB13B,GAAKw3B,EAAcp5B,GAAG,UAE1Cm5B,EAAuB34B,KAAK84B,GAE9B,GAAIxlB,EAAQ,CACV,MAAMslB,EAAgBC,EAA6B,KACnDL,EAAex4B,KAAK44B,GACpB,IAAIE,EAAoB,GACxB9zB,EAAYsG,QAAQ,CAAClK,EAAE5B,KACrBs5B,EAAkB13B,GAAKw3B,EAAcp5B,GAAG,UAE1Cm5B,EAAuB34B,KAAK84B,IAIhC,MAAM9B,EAAiB,KACrB,IAAIhI,EAAQ,GACZ,IAAK,IAAIxvB,KAAKwF,EAAa,CACzB,IAAI1D,EAAO0D,EAAYxF,GAEvBwvB,EAAM1tB,GAAQ2L,GAAA,OACX+f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACpB9O,OAAO/J,KAAK8xB,YAEjB,MAAMpZ,EAAYyO,EAAI/N,OAAO,KAAKiR,UAAU,KACzCtuB,KAAK8F,GACLwuB,QAAQjX,OAAO,KACbC,KAAK,aAAa,SAASnb,GAC1B,MAAO,aAAewtB,EAAMxtB,GAAK,SAAUmsB,UAAU,QACtDtuB,MAAK,SAASmC,GAAa,OAAOq3B,EAAer3B,MACjDmyB,QAELlJ,EAAIkD,UAAU,UACXtuB,KAAK8F,GAAawuB,QAClBjX,OAAO,KACPpT,MAAM,OAAQ,cACdA,MAAM,cAAe,OACrBA,MAAM,oBAAoB,eAC1BqT,KAAK,aAAa,SAASnb,GAAY,MAAO,aAAgBwtB,EAAMxtB,GAAM,OAC1E03B,MAAK,SAAS13B,GACb4L,GAAA,KAAU9J,MAAMrD,KAAKmN,GAAA,KAA2B+hB,EAAM3tB,IAAI23B,MAAMhK,EAAM3tB,QAG1E,MAAM43B,EAAW,CAAC,QAAS,SAAU,SAC/BC,EAAgB,CAAC,cAAe,cAAe,eAC/CC,EAAgB,CAAC,cAAe,cAAe,eAC/CC,EAAS,CAACj2B,KAAKonB,WAAY,YAAapnB,KAAKwnB,YACnDsO,EAAS3tB,QAAQ,CAAChK,EAAKkM,KACrBqO,EACGU,OAAO,QACPC,KAAK,QAAS,OAAQlb,EAAO,KAC7Bkb,KAAK,YAAcnb,IAClB,IAAImhB,EAAQ,EACRriB,EAAQ,EACZ,MAAOqiB,EAAQhV,EACbrN,GAASkB,EAAE63B,EAAc1W,IACzBA,GAAS,EAEX,MAAO,aAAe1G,EAAE3b,GAAS,QAClCqc,KAAK,SAAS,SAASnb,GACtB,OAAOya,EAAEza,EAAE63B,EAAc1rB,QAC1BgP,KAAK,KAAK,SAASnb,GAClB,OAAO0a,EAAE1a,EAAE,kBACZmb,KAAK,UAAU,SAASnb,GACvB,OAAO0a,EAAE0S,eAEVjS,KAAK,OAAO4c,EAAO5rB,IACnB1J,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM7J,EAAK,IAAKmJ,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACtHzX,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAeC,EAAM,QAAQD,EAAE,cAAcka,aACtFzX,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAeC,EAAM,SAASD,EAAE,cAAcka,aAChGM,EACGU,OAAO,UACPC,KAAK,IAAIT,EAAE0S,YAAY,GACvBjS,KAAK,QAAS,OAAQlb,EAAR,YACdkb,KAAK,YAAcnb,IAClB,IAAImhB,EAAQ,EACRriB,EAAQ,EACZ,MAAOqiB,EAAQhV,EACbrN,GAASkB,EAAE63B,EAAc1W,IACzBA,GAAS,EAEX,IAAI6W,GAAWtd,EAAE0S,YAAY,EAAIjhB,GAASuO,EAAE0S,YAAY,GACxD,MAAO,aAAe3S,EAAE3b,GAAS,IAAIk5B,EAAQ,MAC9C7c,KAAK,KAAKT,EAAE0S,YAAY,GACxBjS,KAAK,MAAM,SAASnb,GACnB,OAAO0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAa,KAC5CjS,KAAK,aAAenb,GACZya,EAAEza,EAAE63B,EAAc1rB,KAAWuO,EAAE0S,YAAY,GAAMptB,EAAE63B,EAAc1rB,IAAW,EAAG,UAAU,UACjGgP,KAAK,OAAQ4c,EAAO5rB,IACpB1J,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM7J,EAAK,IAAImJ,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACrHzX,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAeC,EAAM,QAAQD,EAAE,cAAcka,aACtFzX,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAeC,EAAM,SAASD,EAAE,cAAcka,aAEhGM,EACGU,OAAO,QACPC,KAAK,QAAS,OAAQlb,EAAO,KAC7Bkb,KAAK,aAAa,SAASnb,GAC1B,IAAImhB,EAAQ,EACRriB,EAAQ,EACZ,MAAOqiB,EAAQ,EACbriB,GAASkB,EAAE63B,EAAc1W,IACzBA,GAAS,EAEXA,EAAQ,EACR,MAAOA,EAAQhV,EACbrN,GAASkB,EAAE83B,EAAc3W,IACzBA,GAAS,EAEX,MAAO,aAAe1G,EAAE3b,GAAS,SAClCqc,KAAK,SAAS,SAASnb,GACtB,OAAOya,EAAEza,EAAE83B,EAAc3rB,QAC1BgP,KAAK,KAAK,SAASnb,GAClB,OAAO0a,EAAE1a,EAAE,kBACZmb,KAAK,UAAU,SAASnb,GACvB,OAAO0a,EAAE0S,eAEVjS,KAAK,OAAQ4c,EAAO5rB,IACpB1J,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAO7J,EAAK,IAAKmJ,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACvHzX,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAeC,EAAK,IAAK,QAAQD,EAAE,cAAcka,aAC1FzX,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAeC,EAAK,IAAK,SAASD,EAAE,cAAcka,aAEpGM,EACGU,OAAO,UACPC,KAAK,IAAIT,EAAE0S,YAAY,GACvBjS,KAAK,QAAS,OAAQlb,EAAR,YACdkb,KAAK,aAAa,SAASnb,GAC1B,IAAImhB,EAAQ,EACRriB,EAAQ,EACZ,MAAOqiB,EAAQ,EACbriB,GAASkB,EAAE63B,EAAc1W,IACzBA,GAAS,EAEXA,EAAQ,EACR,MAAOA,EAAQhV,EACbrN,GAASkB,EAAE83B,EAAc3W,IACzBA,GAAS,EAEX,IAAI6W,GAAWtd,EAAE0S,YAAY,EAAIjhB,GAASuO,EAAE0S,YAAY,GACxD,MAAO,aAAe3S,EAAE3b,GAAS,IAAIk5B,EAAQ,OAC9C7c,KAAK,KAAKT,EAAE0S,YAAY,GACxBjS,KAAK,MAAM,SAASnb,GACnB,OAAO0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAa,KAC5CjS,KAAK,aAAenb,GACZya,EAAEza,EAAE83B,EAAc3rB,KAAWuO,EAAE0S,YAAY,GAAMptB,EAAE83B,EAAc3rB,IAAW,EAAG,UAAU,UACjGgP,KAAK,OAAQ4c,EAAO5rB,IACpB1J,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM7J,EAAK,IAAKmJ,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACtHzX,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAeC,EAAK,IAAK,QAAQD,EAAE,cAAcka,aAC1FzX,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAeC,EAAK,IAAI,SAASD,EAAE,cAAcka,eAKrG,MAAMH,EAAa,KACjB,MAAM0U,EAAoB/T,EAAE0S,YAAc,EACpCrT,EAAa,CAAC,eAAgB,gBAC9Bke,EAAkB,CAACn2B,KAAKsnB,gBAAiBtnB,KAAKunB,iBAEpDuO,EAAS3tB,QAAQ,CAAChK,EAAMkM,KACtB4N,EAAW9P,QAAQ,CAACkO,EAAW+f,KAC7B1d,EAASU,OAAO,QACbC,KAAK,QAAS,OAASlb,EAAOkY,GAC9BgD,KAAK,YAAcnb,IAClB,IAAImhB,EAAQ,EACRriB,EAAQ,EACZ,MAAOqiB,EAAQhV,EACbrN,GAASkB,EAAE63B,EAAc1W,IACzBA,GAAS,EAEX,MAAO,aAAe1G,EAAE3b,GAAS,QAClCqc,KAAK,KAAI,SAASnb,GACjB,OAAO0a,EAAE1a,EAAE,eAAe,GAAM0a,EAAE0S,YAAaqB,GAAqB,EAAEyJ,MAEvE/c,KAAK,SAAUsT,GACftT,KAAK,OAAQ8c,EAAgBC,IAC7B/c,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,QACzBX,EAASU,OAAO,UACdC,KAAK,QAAS,UAAYlb,EAAOkY,GACjCgD,KAAK,YAAcnb,IAClB,IAAImhB,EAAQ,EACRriB,EAAQ,EACZ,MAAOqiB,EAAQhV,EACbrN,GAASkB,EAAE63B,EAAc1W,IACzBA,GAAS,EAEX,MAAO,aAAe1G,EAAE3b,GAAS,QAClCqc,KAAK,MAAK,SAASnb,GAClB,OAAO0a,EAAE1a,EAAE,eAAe,GAAM0a,EAAE0S,YAAaqB,GAAqB,EAAEyJ,GAAezJ,EAAkB,KAExGtT,KAAK,KAAKsT,EAAkB,GAC5BtT,KAAK,IAAKsT,EAAoB,GAC9BtT,KAAK,OAAQ8c,EAAgBC,IAC7B/c,KAAK,aAAa,UAErBX,EAASU,OAAO,QACbC,KAAK,QAAS,OAAQlb,EAAO,IAAMkY,GACnCgD,KAAK,aAAa,SAASnb,GAC1B,IAAImhB,EAAQ,EACRriB,EAAQ,EACZ,MAAOqiB,EAAQ,EACbriB,GAASkB,EAAE63B,EAAc1W,IACzBA,GAAS,EAEXA,EAAQ,EACR,MAAOA,EAAQhV,EACbrN,GAASkB,EAAE83B,EAAc3W,IACzBA,GAAS,EAEX,MAAO,aAAe1G,EAAE3b,GAAS,SAClCqc,KAAK,IAAKnb,GAAI0a,EAAE1a,EAAE,eAAiB,GAAM0a,EAAE0S,YAAaqB,GAAqB,EAAEyJ,IAC/E/c,KAAK,SAAUsT,GACftT,KAAK,OAAQ8c,EAAgBC,IAC7B/c,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,QAC1BX,EAASU,OAAO,UACbC,KAAK,QAAS,UAAYlb,EAAO,IAAMkY,GACvCgD,KAAK,aAAa,SAASnb,GAC1B,IAAImhB,EAAQ,EACRriB,EAAQ,EACZ,MAAOqiB,EAAQ,EACbriB,GAASkB,EAAE63B,EAAc1W,IACzBA,GAAS,EAEXA,EAAQ,EACR,MAAOA,EAAQhV,EACbrN,GAASkB,EAAE83B,EAAc3W,IACzBA,GAAS,EAEX,MAAO,aAAe1G,EAAE3b,GAAS,SAClCqc,KAAK,MAAK,SAASnb,GAClB,OAAO0a,EAAE1a,EAAE,eAAe,GAAM0a,EAAE0S,YAAaqB,GAAqB,EAAEyJ,GAAezJ,EAAkB,KAExGtT,KAAK,KAAKsT,EAAkB,GAC5BtT,KAAK,IAAKsT,EAAoB,GAC9BtT,KAAK,OAAQ8c,EAAgBC,IAC7B/c,KAAK,aAAa,eAI3BpB,KAGIoe,EAAyB,KAC7B,IAAIxK,EAAQ,GAEZ,IAAK,IAAIxvB,KAAKwF,EAAa,CACzB,IAAI1D,EAAO0D,EAAYxF,GAEvBwvB,EAAM1tB,GAAQ2L,GAAA,OACX+f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACpB9O,OAAO/J,KAAK8xB,YAGjB0D,EAAuBrtB,QAASotB,IAC9B,MAAM7c,EAAYyO,EAAI/N,OAAO,KAAKiR,UAAU,KACzCtuB,KAAK8F,GACLwuB,QAAQjX,OAAO,KACbC,KAAK,aAAa,SAASnb,GAC1B,MAAO,aAAewtB,EAAMxtB,GAAK,SAAUmsB,UAAU,QACtDtuB,MAAK,SAASmC,GAAa,OAAOq3B,EAAer3B,MACjDmyB,QAEL3X,EACGU,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,SAAS,SAASnb,GACtB,OAAOya,EAAEza,EAAE,mBACZmb,KAAK,KAAK,SAASnb,GAClB,MAAoB,KAAbA,EAAE,QAAiB0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,EACnC1S,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,OAC9DjS,KAAK,UAAU,SAASnb,GACvB,OAAO0a,EAAE0S,YAAY,KAEtBjS,KAAK,OAASnb,GAAiB,KAAbA,EAAE,QAAgB8B,KAAKsnB,gBAAgBtnB,KAAKunB,iBAC9DlO,KAAK,SAAS,SACd1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,SAAUqO,UAAWnY,EAAE,QAASoJ,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aAC5IzX,GAAG,aAAcX,KAAKusB,YAGzB7T,EACGU,OAAO,QACPC,KAAK,QAAS,eACdA,KAAK,aAAa,SAASnb,GACxB,MAAO,aAAgBya,EAAEza,EAAE,gBAAmB,SACjDmb,KAAK,SAAS,SAASnb,GACtB,OAAOya,EAAEza,EAAE,mBACZmb,KAAK,KAAK,SAASnb,GAClB,MAAoB,KAAbA,EAAE,QAAiB0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,EACnC1S,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,OAC9DjS,KAAK,UAAU,SAASnb,GACvB,OAAO0a,EAAE0S,YAAY,KAEtBjS,KAAK,OAASnb,GAAiB,KAAbA,EAAE,QAAgB8B,KAAKsnB,gBAAgBtnB,KAAKunB,iBAC9DlO,KAAK,SAAS,SACd1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,UAAWqO,UAAWnY,EAAE,QAAQoJ,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aAC5IzX,GAAG,aAAcX,KAAKusB,YAEzB7T,EACGU,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAKnb,GAAG,cAAcA,EAAE,cAAc,IAAIA,EAAE,eACjDmb,KAAK,aAAa,SAASnb,GACxB,MAAO,aAAgBya,EAAEza,EAAE,eAAeA,EAAE,gBAAmB,SAClEmb,KAAK,SAAS,SAASnb,GACtB,OAAOya,EAAEza,EAAE,mBACZmb,KAAK,KAAK,SAASnb,GAClB,MAAoB,KAAbA,EAAE,QAAiB0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,EACnC1S,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,OAC9DjS,KAAK,UAAU,SAASnb,GACvB,OAAO0a,EAAE0S,YAAY,KAEtBjS,KAAK,OAASnb,GAAiB,KAAbA,EAAE,QAAgB8B,KAAKsnB,gBAAgBtnB,KAAKunB,iBAC9DlO,KAAK,SAAS,SACd1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,SAAUqO,UAAWnY,EAAE,QAAQoJ,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aAC3IzX,GAAG,aAAcX,KAAKusB,YAGzB7T,EACGU,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAKnb,GAAG,cAAcA,EAAE,cAAc,IAAIA,EAAE,eACjDmb,KAAK,aAAa,SAASnb,GACxB,MAAO,cAAiBya,EAAEza,EAAE,gBAAmB,SAClDmb,KAAK,SAAS,SAASnb,GACtB,OAAOya,EAAEza,EAAE,mBACZmb,KAAK,KAAK,SAASnb,GAClB,MAAoB,KAAbA,EAAE,QAAiB0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,EACnC1S,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,OAC9DjS,KAAK,UAAU,SAASnb,GACvB,OAAO0a,EAAE0S,YAAY,KAEtBjS,KAAK,OAASnb,GAAiB,KAAbA,EAAE,QAAgB8B,KAAKsnB,gBAAgBtnB,KAAKunB,iBAC9DlO,KAAK,SAAS,SACd1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,SAAUqO,UAAWnY,EAAE,QAAQoJ,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aAC3IzX,GAAG,aAAcX,KAAKusB,YAGzB7T,EACGU,OAAO,QACPC,KAAK,QAAS,eACdA,KAAK,aAAa,SAASnb,GACxB,MAAO,eAAiBya,EAAEza,EAAE,gBAAgBya,EAAEza,EAAE,iBAAmB,SACtEmb,KAAK,SAAS,SAASnb,GACtB,OAAOya,EAAEza,EAAE,mBACZmb,KAAK,KAAK,SAASnb,GAClB,MAAoB,KAAbA,EAAE,QAAiB0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,EACnC1S,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,OAC9DjS,KAAK,UAAU,SAASnb,GACvB,OAAO0a,EAAE0S,YAAY,KAEtBjS,KAAK,OAASnb,GAAiB,KAAbA,EAAE,QAAgB8B,KAAKsnB,gBAAgBtnB,KAAKunB,iBAC9DlO,KAAK,SAAS,SACd1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,UAAWqO,UAAWnY,EAAE,QAAQoJ,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aAC5IzX,GAAG,aAAcX,KAAKusB,YAGzB7T,EACGU,OAAO,QACPC,KAAK,QAAS,cACdA,KAAK,KAAKnb,GAAG,cAAcA,EAAE,cAAc,IAAIA,EAAE,eACjDmb,KAAK,aAAa,SAASnb,GACxB,MAAO,eAAiBya,EAAEza,EAAE,gBAAgBya,EAAEza,EAAE,gBAAgBya,EAAEza,EAAE,iBAAmB,SAC1Fmb,KAAK,SAAS,SAASnb,GACtB,OAAOya,EAAEza,EAAE,mBACZmb,KAAK,KAAK,SAASnb,GAClB,MAAoB,KAAbA,EAAE,QAAiB0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,EACnC1S,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,OAC9DjS,KAAK,UAAU,SAASnb,GACvB,OAAO0a,EAAE0S,YAAY,KAEtBjS,KAAK,OAASnb,GAAiB,KAAbA,EAAE,QAAgB8B,KAAKsnB,gBAAgBtnB,KAAKunB,iBAC9DlO,KAAK,SAAS,SACd1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,SAAUqO,UAAWnY,EAAE,QAAQoJ,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aAC3IzX,GAAG,aAAcX,KAAKusB,YAEzB7T,EACGU,OAAO,UACPC,KAAK,IAAIT,EAAE0S,YAAY,IACvBjS,KAAK,QAAS,qBACdA,KAAK,KAAKT,EAAE0S,YAAY,GACxBjS,KAAK,MAAM,SAASnb,GACnB,OAAO0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAa,KAC5CjS,KAAK,aAAenb,GAAMya,EAAEza,EAAE,gBAAkB0a,EAAE0S,YAAY,GAAK3S,EAAEza,EAAE,gBAAkB,EAAG,UAAU,UACtGmb,KAAK,OAAQrZ,KAAKoxB,aAClBzwB,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,SAAUV,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACtHzX,GAAG,aAAcX,KAAKusB,YAGzB7T,EACGU,OAAO,UACPC,KAAK,IAAIT,EAAE0S,YAAY,IACvBjS,KAAK,QAAS,sBACdA,KAAK,aAAa,SAASnb,GACxB,MAAO,aAAgBya,EAAEza,EAAE,gBAAmB,SACjDmb,KAAK,KAAKT,EAAE0S,YAAY,GACxBjS,KAAK,MAAM,SAASnb,GACnB,OAAO0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAa,KAC5CjS,KAAK,aAAenb,GAAMya,EAAEza,EAAE,gBAAkB0a,EAAE0S,YAAY,GAAK3S,EAAEza,EAAE,gBAAkB,EAAG,UAAU,UACtGmb,KAAK,OAAQ,aACb1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,UAAWV,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACvHzX,GAAG,aAAcX,KAAKusB,YAEzB7T,EACGU,OAAO,UACPC,KAAK,IAAIT,EAAE0S,YAAY,IACvBjS,KAAK,QAAS,qBACdA,KAAK,aAAa,SAASnb,GACxB,MAAO,aAAgBya,EAAEza,EAAE,eAAeA,EAAE,gBAAmB,SAClEmb,KAAK,KAAKT,EAAE0S,YAAY,GACxBjS,KAAK,MAAM,SAASnb,GACnB,OAAO0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAa,KAC5CjS,KAAK,aAAenb,GAAKya,EAAEza,EAAE,gBAAkB0a,EAAE0S,YAAY,GAAK3S,EAAEza,EAAE,gBAAkB,EAAG,UAAU,UACrGmb,KAAK,OAAQrZ,KAAKwnB,YAClB7mB,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,SAAUV,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACtHzX,GAAG,aAAcX,KAAKusB,YAEzB7T,EACGU,OAAO,UACPC,KAAK,IAAIT,EAAE0S,YAAY,IACvBjS,KAAK,QAAS,qBACdA,KAAK,MAAMT,EAAE0S,YAAY,IACzBjS,KAAK,MAAM,SAASnb,GACnB,OAAO0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAa,KAC5CjS,KAAK,aAAenb,GAAMya,EAAEza,EAAE,gBAAkB0a,EAAE0S,YAAY,GAAK3S,EAAEza,EAAE,gBAAkB,EAAG,UAAU,UACtGmb,KAAK,OAAQrZ,KAAKoxB,aAClBzwB,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,SAAUV,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACtHzX,GAAG,aAAcX,KAAKusB,YAEzB7T,EACGU,OAAO,UACPC,KAAK,IAAIT,EAAE0S,YAAY,IACvBjS,KAAK,QAAS,sBACdA,KAAK,aAAa,SAASnb,GACxB,MAAO,eAAiBya,EAAEza,EAAE,gBAAgBya,EAAEza,EAAE,iBAAmB,SACtEmb,KAAK,MAAMT,EAAE0S,YAAY,IACzBjS,KAAK,MAAM,SAASnb,GACnB,OAAO0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAa,KAC5CjS,KAAK,aAAenb,GAAMya,EAAEza,EAAE,gBAAkB0a,EAAE0S,YAAY,GAAK3S,EAAEza,EAAE,gBAAkB,EAAG,UAAU,UACtGmb,KAAK,OAAQ,aACb1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,UAAWV,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACvHzX,GAAG,aAAcX,KAAKusB,YAEzB7T,EACGU,OAAO,UACPC,KAAK,IAAIT,EAAE0S,YAAY,IACvBjS,KAAK,QAAS,qBACdA,KAAK,aAAa,SAASnb,GACxB,MAAO,eAAiBya,EAAEza,EAAE,gBAAgBya,EAAEza,EAAE,gBAAgBya,EAAEza,EAAE,iBAAmB,SAC1Fmb,KAAK,MAAMT,EAAE0S,YAAY,IACzBjS,KAAK,MAAM,SAASnb,GACnB,OAAO0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAa,KAC5CjS,KAAK,aAAenb,GAAMya,EAAEza,EAAE,gBAAkB0a,EAAE0S,YAAY,GAAK3S,EAAEza,EAAE,gBAAkB,EAAG,UAAU,UACtGmb,KAAK,OAAQrZ,KAAKqxB,aAClB1wB,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,SAAUV,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACtHzX,GAAG,aAAcX,KAAKusB,YAGzBpF,EAAIkD,UAAU,UACXtuB,KAAK8F,GAAawuB,QAClBjX,OAAO,KACPpT,MAAM,OAAQ,cACdA,MAAM,cAAe,OACrBA,MAAM,oBAAoB,eAC1BqT,KAAK,aAAa,SAASnb,GAAY,MAAO,aAAgBwtB,EAAMxtB,GAAM,OAC1E03B,MAAK,SAAS13B,GACb4L,GAAA,KAAU9J,MAAMrD,KAAKmN,GAAA,KAA2B+hB,EAAM3tB,IAAI23B,MAAMhK,EAAM3tB,WAc9E,SAASo3B,IACP,IAAID,EAAiB,GACjBE,EAAiB,GA+BrB,OA9BA1zB,EAAYsG,QAASlK,IACnB,IAAIg0B,EAAQtkB,EAAY1P,GAAGg0B,MACvBE,EAAQxkB,EAAY1P,GAAGk0B,MACvBC,EAAQzkB,EAAY1P,GAAGm0B,MACvBF,EAAQvkB,EAAY1P,GAAGi0B,MACvBI,EAAQ3kB,EAAY1P,GAAGq0B,MACvBD,EAAQ1kB,EAAY1P,GAAGo0B,MACvBiE,EAAoB,GACxB,GAAqB,OAAjBnF,EACF,IAAK,IAAI90B,KAAKy1B,EAAY,CACxB,IAAIyE,GAA6BtE,EAAM51B,GAAK+1B,EAAM/1B,GAAKi2B,EAAMj2B,GAAK81B,EAAM91B,GAAK61B,EAAM71B,GAAKg2B,EAAMh2B,IAAM,IAChGm6B,GAA6BrE,EAAM91B,GAAK61B,EAAM71B,GAAKg2B,EAAMh2B,GAAK41B,EAAM51B,GAAK+1B,EAAM/1B,GAAKi2B,EAAMj2B,IAAM,IACpGi6B,EAAkBz5B,KAAK,CAAC,WAAaoB,EAAE,WAAa6zB,EAAWz1B,GACvD,YAA2C,GAA7Bk6B,EAAgC,EAAItE,EAAM51B,GAAK60B,EAAeqF,EAC5E,YAA2C,GAA7BA,EAAgC,EAAInE,EAAM/1B,GAAK60B,EAAeqF,EAC5E,YAA2C,GAA7BC,EAAgC,EAAIrE,EAAM91B,GAAK60B,EAAesF,EAC5E,YAA2C,GAA7BA,EAAgC,EAAGtE,EAAM71B,GAAK60B,EAAesF,EAC3E,YAA2C,GAA7BD,EAAgC,EAAGjE,EAAMj2B,GAAK60B,EAAeqF,EAC3E,YAA2C,GAA7BC,EAAgC,EAAGnE,EAAMh2B,GAAK60B,EAAesF,EAC3E,UAAY7oB,EAAY1P,GAAGwf,iBAGrC,IAAK,IAAIphB,KAAKy1B,EACZwE,EAAkBz5B,KAAK,CAAC,WAAaoB,EAAE,WAAa6zB,EAAWz1B,GAAI,YAAc41B,EAAM51B,GAAI,YAAc81B,EAAM91B,GAAG,YAAc+1B,EAAM/1B,GAAI,YAAc61B,EAAM71B,GAAG,YAAci2B,EAAMj2B,GAAI,YAAcg2B,EAAMh2B,GAAI,UAAYsR,EAAY1P,GAAGwf,YAIhP4X,EAAex4B,KAAK,CAAC,KAAOoB,EAAG,KAAOq4B,EAAkB,UAAY3oB,EAAY1P,GAAGwf,YACnF8X,EAAet3B,GAAKq4B,IAEfjB,EAGT,SAASK,EAA6Be,GAGpC,MAAM,MAAErrB,EAAK,OAAE+E,GAAW8H,EACpB5B,EAA2B,KAAfogB,EAAqBrrB,EAAMvD,UAAYsI,EAAOtI,UAChE,IAAIwtB,EAAiB,GAEjBqB,EAAmB,EAyBvB,OAxBA70B,EAAYsG,QAASlK,IACnB6zB,EAAW3pB,QAAS9L,IAClB,IAAI41B,EAAQhjB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACrE8b,EAAQljB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACrE+b,EAAQnjB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACrE6b,EAAQjjB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACrEic,EAAQrjB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACrEgc,EAAQpjB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACzEqgB,EAAmB5sB,GAAA,KAAO,CAACmoB,EAAMhW,KAAMkW,EAAMlW,KAAMmW,EAAMnW,KAAMiW,EAAMjW,KAAMqW,EAAMrW,KAAMoW,EAAMpW,OAASya,EAAoB5sB,GAAA,KAAO,CAACmoB,EAAMhW,KAAMkW,EAAMlW,KAAMmW,EAAMnW,KAAMiW,EAAMjW,KAAMqW,EAAMrW,KAAMoW,EAAMpW,OAASya,MAGjN70B,EAAYsG,QAASlK,IACnB,IAAIq4B,EAAoB,GACxBxE,EAAW3pB,QAAS9L,IAClB,IAAI41B,EAAQhjB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACrE8b,EAAQljB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACrE+b,EAAQnjB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACrE6b,EAAQjjB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACrEic,EAAQrjB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACrEgc,EAAQpjB,GAAatB,EAAY1P,GAAG,mBAAmB5B,GAAGwL,UAAWwO,GACzEigB,EAAkBz5B,KAAK,CAAC,WAAaoB,EAAE,WAAa5B,EAAG,KAAOo6B,EAAa,YAAcxE,EAAMhW,KAAOiV,EAAewF,EAAkB,YAAcvE,EAAMlW,KAAOiV,EAAewF,EAAiB,YAActE,EAAMnW,KAAOiV,EAAewF,EAAkB,YAAcxE,EAAMjW,KAAOiV,EAAewF,EAAiB,YAAcpE,EAAMrW,KAAOiV,EAAewF,EAAkB,YAAcrE,EAAMpW,KAAOiV,EAAewF,EAAkB,UAAY/oB,EAAY1P,GAAGwf,cAE9c4X,EAAex4B,KAAK,CAAC,KAAOoB,EAAG,KAAOq4B,EAAkB,UAAY3oB,EAAY1P,GAAGwf,cAE9E4X,EA3EkB,WAAvBr1B,KAAKguB,gBACP6F,IACA7zB,KAAK0sB,kBAEL2J,KA2EJ,uBACE,MAAMlM,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BA,EAAMgD,EAAMK,OAAO,mBACzBrD,EAAIkD,UAAU,KAAKkB,SAEnB,MAAM5S,EAAI3Y,KAAK2Y,EAGT9W,GAFI7B,KAAK4Y,EAEK5Y,KAAKyR,0BAA0BrI,IAAKnL,GAC/CA,EAAEE,OAGX,IAAIutB,EAAQ5hB,GAAA,OACP+f,MAAM,CAAC,EAAG7pB,KAAKgW,QACfqd,QAAQ,IACRtpB,OAAOlI,GAEZ,MAAM80B,EAAa7sB,GAAA,OAChBC,OAAO/J,KAAK8xB,YACZjI,MAAM,CAAC7pB,KAAK6Y,OAAO,IAGhB+d,EAAW,KACf,IAAI/K,EAAQ,GACZ,IAAK,IAAIxvB,KAAKwF,EAAa,CACzB,IAAI1D,EAAO0D,EAAYxF,GAEvBwvB,EAAM1tB,GAAQ2L,GAAA,OACX+f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACpB9O,OAAO/J,KAAK8xB,YAIjB3K,EAAIkD,UAAU,UACXtuB,KAAK8F,GAAawuB,QAClBjX,OAAO,KACPpT,MAAM,OAAQ,cACdA,MAAM,cAAe,OACrBA,MAAM,oBAAoB,eAC1BqT,KAAK,aAAa,SAASnb,GAAY,MAAO,aAAgBwtB,EAAMxtB,GAAM,OAC1E03B,MAAK,SAAS13B,GACb4L,GAAA,KAAU9J,MAAMrD,KAAKmN,GAAA,KAA2B+hB,EAAM3tB,IAAI23B,MAAMhK,EAAM3tB,SAItE24B,EAAW,KACf,IAAI/E,EAAa9xB,KAAK8xB,WAClBnkB,EAAc3N,KAAK2N,YACvB,SAASuiB,EAAKhyB,GACR,OAAO4L,GAAA,MAAAA,CAAUgoB,EAAW1oB,KAAI,SAAS7J,EAAEhC,GACzC,MAAO,CAAC,EAAImuB,EAAMxtB,GAAKya,EAAGhL,EAAYzP,GAAG,SAASX,GAAGoQ,EAAYzP,GAAG,SAASX,IAAMo5B,EAAWrL,YAAc,EAAKqL,EAAWp3B,QAIpIsC,EAAYsG,QAASjK,IACjBipB,EAAI/N,OAAO,QACRC,KAAK,QAAS,kBACdA,KAAK,IAAM6W,EAAKhyB,IAChB8H,MAAM,OAAQ,QACdqT,KAAK,SAAU,aACfrT,MAAM,eAAgB,GACtBA,MAAM,UAAW,MAIpB8wB,EAAc,KACH3P,EACZ/N,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YACL,6BACGrZ,KAAKgW,yBACO,EAAZhW,KAAK6Y,WAIXsO,EAAI/N,OAAO,QACRC,KAAK,YAAa,aAAarZ,KAAKgW,MAAQ,OAA2B,GAAlBhW,KAAK4mB,OAAOC,QACjExN,KAAK,QAAS,KACdA,KAAK,SAAU,GACfA,KAAK,OAAQ,aAGhB8N,EAAI/N,OAAO,QACRC,KAAK,YAAa,aAAarZ,KAAKgW,MAAQ,QAA4B,GAAlBhW,KAAK4mB,OAAOC,QAClExN,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,gBAGb6xB,IACAC,IACAC,KASF,2BACEhtB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAQ,WACbA,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAA2B,EAAlB7Y,KAAK4mB,OAAOC,IAAU7mB,KAAK4mB,OAAOG,UACnD3N,OAAO,KACLC,KAAK,QAAQ,kBACbA,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,KAAK,MAAMhnB,KAAK4mB,OAAOG,WACjEpO,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EAET/W,EAAc7B,KAAK6B,YAEnB6pB,EAAQ5hB,GAAA,OACT+f,MAAM,CAAC,EAAG7pB,KAAKgW,QACfqd,QAAQ,IACRtpB,OAAO/J,KAAK6B,aAEjB,IAAIgqB,EAAQ,GACZ,IAAK,IAAIxvB,KAAKwF,EAAa,CACvB,IAAI1D,EAAO0D,EAAYxF,GAEvBwvB,EAAM1tB,GAAQ2L,GAAA,OACX+f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACpB9O,OAAO/J,KAAK8xB,YAGL9xB,KAAKgW,MAAnB,MACM6C,EAAS7Y,KAAK6Y,OACdqY,EAAelxB,KAAKkxB,aAE1B,IAAImE,EAAiB,GACjBE,EAAiB,GACrBv1B,KAAK6B,YAAYsG,QAASlK,IACxB,IAAIs0B,EAAUvyB,KAAK2N,YAAY1P,GAAGs0B,QAC9B+D,EAAoB,GACxB,IAAK,IAAIj6B,KAAK2D,KAAK8xB,WACS,OAAtB9xB,KAAKmxB,cACPmF,EAAkBz5B,KAAK,CAAC,WAAaoB,EAAE,WAAa+B,KAAK8xB,WAAWz1B,GAAI,cAA8B,GAAdk2B,EAAQl2B,GAAS,EAAI60B,EAAc,UAAYlxB,KAAK2N,YAAY1P,GAAGwf,YAE3J6Y,EAAkBz5B,KAAK,CAAC,WAAaoB,EAAE,WAAa+B,KAAK8xB,WAAWz1B,GAAI,cAAgBk2B,EAAQl2B,GAAG,UAAY2D,KAAK2N,YAAY1P,GAAGwf,YAGvI4X,EAAex4B,KAAK,CAAC,KAAOoB,EAAG,KAAOq4B,EAAkB,UAAYt2B,KAAK2N,YAAY1P,GAAGwf,YACxF8X,EAAet3B,GAAKq4B,IAGtB,MAAM5d,EAAYyO,EAAI/N,OAAO,KAAKiR,UAAU,KACvCtuB,KAAK8F,GACLwuB,QAAQjX,OAAO,KACbC,KAAK,aAAa,SAASnb,GAC1B,MAAO,aAAewtB,EAAMxtB,GAAK,SACpCmsB,UAAU,QACRtuB,KAAMmC,GACAq3B,EAAer3B,IACrBmyB,QAED0G,EAAuB,KAC3B5P,EAAIkD,UAAU,UACXtuB,KAAK8F,GAAawuB,QAClBjX,OAAO,KACPpT,MAAM,OAAQ,cACdA,MAAM,cAAe,OACrBA,MAAM,oBAAoB,eAC1BqT,KAAK,aAAa,SAASnb,GAAY,MAAO,aAAgBwtB,EAAMxtB,GAAM,OAC1E03B,MAAK,SAAS13B,GACb4L,GAAA,KAAU9J,MAAMrD,KAAKmN,GAAA,KAA2B+hB,EAAM3tB,IAAI23B,MAAMhK,EAAM3tB,SAItE8tB,EAAa,KACjB,IAAInqB,EAAc7B,KAAK6B,YACvBslB,EAAIkD,UAAU,UACXtuB,KAAK8F,GACLwuB,QAAQjX,OAAO,QACXpT,MAAM,cAAe,UACrBqT,KAAK,aAAa,SAASnb,GAC5B,MAAO,aAAewtB,EAAMxtB,GAAK,KAAK2a,EAAO,IAAI,OAChD9T,KAAM7G,GACEA,GACR8H,MAAM,OAAQ,SACdA,MAAM,YAAa,SAGtBmmB,EAAa,KACjB,MAAMnW,EAAQhW,KAAKgW,MAAQ,EACrB6C,EAAS7Y,KAAK4mB,OAAOC,IAAM,IAE3BrF,EAAS2F,EACZ/N,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YAAa,6BACfrZ,KAAKgW,yBACG,GAAP6C,MAET2I,EAAOpI,OAAO,QACXC,KAAK,QAASrD,GACdqD,KAAK,SAAiB,EAAPR,GACfQ,KAAK,OAAQrZ,KAAKonB,YAErB5F,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAM6C,MAC7CQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,eAIJiyB,EAAsB,KAC1Bte,EACGU,OAAO,QACPC,KAAK,QAAS,gBACdA,KAAK,SAAS,SAASnb,GACrB,OAAOya,EAAEza,EAAE,qBACbmb,KAAK,KAAK,SAASnb,GAClB,OAAO0a,EAAE1a,EAAE,kBACZmb,KAAK,UAAU,SAASnb,GACvB,OAAO0a,EAAE0S,eAEVjS,KAAK,OAAOrZ,KAAKonB,YACjBzmB,GAAG,aAAezC,GAAc8B,KAAKixB,mBAAqB,CAAEjpB,KAAM,OAAQV,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACjIzX,GAAG,aAAcX,KAAKi3B,wBACtBt2B,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAe,OAAQ,QAAQA,EAAE,cAAcka,aACxFzX,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAe,OAAQ,SAASA,EAAE,cAAcka,aAElGM,EACGU,OAAO,UACPC,KAAK,QAAS,mBACdA,KAAK,MAAM,SAASnb,GACnB,OAAO0a,EAAE1a,EAAE,eAAiB0a,EAAE0S,YAAY,KAC3CjS,KAAK,KAAMT,EAAE0S,YAAY,GACzBjS,KAAK,IAAIT,EAAE0S,YAAY,GACvBtlB,MAAM,OAAQhG,KAAKonB,YACnB/N,KAAK,cAAa,SAASnb,GACzB,OAAOya,EAAEza,EAAE,kBAAoB0a,EAAE0S,YAAc,GAAKptB,EAAE,iBAAmB,EAAI,UAAY,YAG9F,MAAM+Z,EAAa,KACjB,MAAM0U,EAAoB/T,EAAE0S,YAAc,EACpC6K,EAAmB,CAACn2B,KAAKsnB,gBAAiBtnB,KAAKunB,iBAErD4O,EAAgBhuB,QAAQ,CAAC2Q,EAAOzO,KAC9BqO,EAASU,OAAO,QACbC,KAAK,QAAS,2BAA6BhP,EAAM,IACjDgP,KAAK,KAAI,SAASnb,GACjB,OAAO0a,EAAE1a,EAAE,eAAiB,GAAM0a,EAAE0S,YAAcqB,EAAoBA,EAAoBtiB,KAE3FgP,KAAK,SAAUsT,GACftT,KAAK,OAAQP,GACbO,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,QAE1BX,EAASU,OAAO,UACbC,KAAK,QAAS,0BAA4BhP,EAAM,IAChDgP,KAAK,MAAM,SAASnb,GACnB,OAAO0a,EAAE1a,EAAE,eAAiB,GAAM0a,EAAE0S,YAAaqB,EAAkB,EAAIA,EAAoBtiB,KAE5FgP,KAAK,KAAKsT,EAAkB,GAC5BtT,KAAK,IAAKsT,EAAoB,GAC9B3mB,MAAM,OAAQ8S,GACdO,KAAK,aAAa,aAGzBpB,KAGIsS,EAAkB,KACtBpD,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,KAAMV,EAAE,IACbU,KAAK,KAAK,GACVA,KAAK,KAAMV,EAAE,IACbU,KAAK,KAAkB,IAAZrZ,KAAK6Y,QAChBQ,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,SAGtBoT,EAAkB,KACtBtF,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,QAAQ,KACbA,KAAK,SAAS,IACdA,KAAK,OAAO,SACZA,KAAK,SAAS,QACdA,KAAK,KAAK,IACVA,KAAK,UAAW,GAEnB8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKqnB,iBAClBhO,KAAK,iBAAkB,WAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,8BACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,aACbA,KAAK,iBAAkB,WAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,8BACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,OACbA,KAAK,iBAAkB,YAG5B8S,IACAH,IACA+K,IACAC,IACAzM,IACAkC,IACAzsB,KAAKyzB,qBACLzzB,KAAKwzB,yBAGP,qBACE,MAAMrJ,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BvO,EAAI5Y,KAAK4Y,EACT+T,EAAoB/T,EAAE0S,YAAc,EACpC4L,EAAoB/M,EAAME,UAAU,6BACpC8M,EAAoBhN,EAAME,UAAU,6BACpC+M,EAAuBjN,EAAME,UAAU,4BACvCgN,EAAuBlN,EAAME,UAAU,4BACvCiN,EAAyBnN,EAAME,UAAU,+BACzCkN,EAAyBpN,EAAME,UAAU,+BAEzC6G,GADgBpnB,GAAA,KAAU,OACX9J,KAAKkxB,cACpBC,EAAgBnxB,KAAKmxB,eAGrB,MAAE/lB,EAAK,OAAE+E,IAFLnQ,KAAK2Y,EAEW3Y,KAAKiY,YAGzBmV,EAAc,CAACnC,EAAuB6G,EAAmBzb,EAAwBrO,KACrF,MAAMH,EAAY,IAAI4K,IAAI,IAAIzS,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAC/D7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,YAG9E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2C,OAAhBgE,EAAuBhG,EAAqBlP,KAAyB,GAAlBpU,EAAUoU,KAAW,EAAIkP,EAAqBlP,KAAOiV,EAAerpB,EAAUoU,KAClK,OAAOjc,KAAK2Y,EAAEwU,IAIVuH,EAAe,CAACzJ,EAAsB6G,EAAmBzb,EAAuBrO,KACpF,MAAMH,EAAY,IAAI4K,IAAI,IAAIzS,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAC/D7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,aAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,YAG9E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2C,OAAhBgE,EAAuBhG,EAAqBlP,KAAyB,GAAlBpU,EAAUoU,KAAW,EAAIkP,EAAqBlP,KAAOiV,EAAerpB,EAAUoU,KAClK,OAAOkR,GAIT,IAAIzB,EAAQ5hB,GAAA,OACP+f,MAAM,CAAC,EAAG7pB,KAAKgW,QACfqd,QAAQ,IACRtpB,OAAO/J,KAAK6B,aAEZuJ,GAICpL,KAAKixB,mBAAmBjpB,MAC1BsvB,EACKje,KAAK,eAAgB,GACrBA,KAAK,OAAO,aACZA,KAAK,YAAc,aAAgBqS,EAAM1rB,KAAKixB,mBAAmB3pB,YAAe,SAChFvC,KAAK,QAAQ2vB,EAAa10B,KAAKixB,mBAAmB3pB,WAAWtH,KAAKixB,mBAAmBD,SAAU5lB,EAAMvD,UAAW,IAGvHqvB,EACG7d,KAAK,QAAUnb,GAAckvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAC/FuvB,EACG/d,KAAK,aAAcnb,GAAckvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,GACzE,EAApB8kB,GACCS,EAAYlvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAAO,EAAG,SAAU,aAhB1FqvB,EAAkB7d,KAAK,QAAS,KAChC+d,EAAqB/d,KAAK,aAAa,WAoBpClJ,GAICnQ,KAAKixB,mBAAmBjpB,MAC1BuvB,EACOle,KAAK,eAAgB,GACrBA,KAAK,OAAO,OACZA,KAAK,YAAc,aAAgBqS,EAAM1rB,KAAKixB,mBAAmB3pB,YAAe,SAChFvC,KAAK,QAAQ2vB,EAAa10B,KAAKixB,mBAAmB3pB,WAAWtH,KAAKixB,mBAAmBD,SAAU7gB,EAAOtI,UAAW,IAG1HsvB,EACG9d,KAAK,QAAUnb,GAAckvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,IAChGwvB,EACGhe,KAAK,aAAcnb,GAAckvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,GAC1E,EAApB8kB,GACCS,EAAYlvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,IAAO,EAAG,SAAU,aAhB3FsvB,EAAkB9d,KAAK,QAAS,KAChCge,EAAqBhe,KAAK,aAAa,YAmB3C,iBAEE,MAAM8Q,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BvO,EAAI5Y,KAAK4Y,EACT+T,EAAoB/T,EAAE0S,YAAc,EACpCkM,EAAqBrN,EAAME,UAAU,0BACrCoN,EAAqBtN,EAAME,UAAU,0BACrCqN,EAAqBvN,EAAME,UAAU,0BACrCsN,EAAqBxN,EAAME,UAAU,0BACrCuN,EAAsBzN,EAAME,UAAU,2BACtCwN,EAAsB1N,EAAME,UAAU,2BAEtCyN,EAAsB3N,EAAME,UAAU,2BACtC0N,EAAsB5N,EAAME,UAAU,2BACtC2N,EAAsB7N,EAAME,UAAU,2BACtC4N,EAAsB9N,EAAME,UAAU,2BACtC6N,EAAuB/N,EAAME,UAAU,4BACvC8N,EAAuBhO,EAAME,UAAU,4BAEvC+N,EAAwBjO,EAAME,UAAU,6BACxCgO,EAAwBlO,EAAME,UAAU,6BACxCiO,EAAwBnO,EAAME,UAAU,6BACxCkO,EAAwBpO,EAAME,UAAU,6BACxCmO,EAAyBrO,EAAME,UAAU,8BACzCoO,EAAyBtO,EAAME,UAAU,8BAEzCqO,EAAyBvO,EAAME,UAAU,8BACzCsO,EAAyBxO,EAAME,UAAU,8BACzCuO,EAAyBzO,EAAME,UAAU,8BACzCwO,EAAyB1O,EAAME,UAAU,8BACzCyO,EAA0B3O,EAAME,UAAU,+BAC1C0O,EAA0B5O,EAAME,UAAU,+BAE1C+J,EAA0BjK,EAAMK,OAAO,iCACvC6J,EAA0BlK,EAAMK,OAAO,iCACvC8J,EAA2BnK,EAAMK,OAAO,kCACxC+J,EAA0BpK,EAAMK,OAAO,iCACvCgK,EAA0BrK,EAAMK,OAAO,iCACvCiK,EAA2BtK,EAAMK,OAAO,mCAOxC,MAAEpf,EAAK,OAAE+E,IANGga,EAAMK,OAAO,uBAGT1gB,GAAA,KAAU,OACtB9J,KAAK2Y,EAEW3Y,KAAKiY,YACzBgV,EAAe,CAAChC,EAAsB6G,EAAmBzb,EAAuBrO,KACpF,MAAMH,EAAkB,GAANG,EAAShI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAE1E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAC/C2iB,EAA2Bh5B,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAChPjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAMnQkR,EAAiD,MAAtBntB,KAAKmxB,cAAwBhG,EAAqBlP,KAClC,GAAlBpU,EAAUoU,KAAY,EAAIkP,EAAqBlP,KAAOjc,KAAKkxB,cAAgB8H,EAA0B,KAEpI,OAAOh5B,KAAK2Y,EAAEwU,IAEVC,EAAc,CAACnC,EAAuB6G,EAAmBzb,EAAwBrO,IAC9EilB,EAAahC,EAAe6G,EAAYzb,EAAUrO,GAGrDqlB,EAAc,CAACpC,EAAuB6G,EAAmBzb,EAAwBrO,KACrF,MAAMH,EAAoB,GAARG,EAAWhI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAE5E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAC/C2iB,EAA2Bh5B,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAChPjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAMnQkR,EAAiD,MAAtBntB,KAAKmxB,cAAwBhG,EAAqBlP,KAClC,GAAlBpU,EAAUoU,KAAY,EAAIkP,EAAqBlP,KAAOjc,KAAKkxB,cAAgB8H,EAA0B,KAEpI,OAAQh5B,KAAK2Y,EAAEwU,IAGX8L,EAAe,CAAChO,EAAuB6G,EAAmBzb,EAAwBrO,KACtF,MAAMH,EAAoB,GAARG,EAAWhI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAE5E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAC/C2iB,EAA2Bh5B,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAChPjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAMnQkR,EAAiD,MAAtBntB,KAAKmxB,cAAwBhG,EAAqBlP,KAClC,GAAlBpU,EAAUoU,KAAY,EAAIkP,EAAqBlP,KAAOjc,KAAKkxB,cAAgB8H,EAA0B,KAEpI,OAAQh5B,KAAK2Y,EAAEwU,IAGXuH,EAAe,CAACzJ,EAAsB6G,EAAmBzb,EAAuBrO,KACpF,MAAMH,EAAkB,GAANG,EAAShI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAE1E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAC/C2iB,EAA2Bh5B,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAChPjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAMnQkR,EAAiD,MAAtBntB,KAAKmxB,cAAwBhG,EAAqBlP,KAClC,GAAlBpU,EAAUoU,KAAY,EAAIkP,EAAqBlP,KAAOjc,KAAKkxB,cAAgB8H,EAA0B,KACpI,OAAO7L,GAGHwH,EAAe,CAAC1J,EAAuB6G,EAAmBzb,EAAwBrO,KACtF,MAAMH,EAAoB,GAARG,EAAWhI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAG5E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAC/C2iB,EAA2Bh5B,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAChPjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAInQkR,EAAiD,MAAtBntB,KAAKmxB,cAAwBhG,EAAqBlP,KAClC,GAAlBpU,EAAUoU,KAAY,EAAIkP,EAAqBlP,KAAOjc,KAAKkxB,cAAgB8H,EAA0B,KACpI,OAAO7L,GAGHyH,EAAgB,CAAC3J,EAAuB6G,EAAmBzb,EAAwBrO,KACvF,MAAMH,EAAoB,GAARG,EAAWhI,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAChE7H,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAE5E7H,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAC/C2iB,EAA2Bh5B,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAChPjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,KAAOjc,KAAK2N,YAAYsd,GAAgB,mBAAmB6G,GAAYjqB,UAAUoU,MAKnQkR,EAAiD,MAAtBntB,KAAKmxB,cAAwBhG,EAAqBlP,KAClC,GAAlBpU,EAAUoU,KAAY,EAAIkP,EAAqBlP,KAAOjc,KAAKkxB,cAAgB8H,EAA0B,KACpI,OAAQ7L,GAGV,IAAIzB,EAAQ5hB,GAAA,OACP+f,MAAM,CAAC,EAAG7pB,KAAKgW,QACfqd,QAAQ,IACRtpB,OAAO/J,KAAK6B,aAEZuJ,GAiBoB,UAAnBpL,KAAKinB,MAAMjf,MAAuC,UAAnBhI,KAAKinB,MAAMjf,MAAuC,WAAnBhI,KAAKinB,MAAMjf,MAC3EosB,EACK/a,KAAK,eAAgB,GACrBA,KAAK,OAAO,aACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAIuD,EAAa10B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,IAErIysB,EACOjb,KAAK,eAAgB,GACrBA,KAAK,OAAO,aACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAGyD,EAAc50B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,IAEvIwsB,EACOhb,KAAK,OAAO,aACZA,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAGwD,EAAa30B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,KAC1G,UAAnB7H,KAAKinB,MAAMjf,MAAuC,UAAnBhI,KAAKinB,MAAMjf,MAAuC,WAAnBhI,KAAKinB,MAAMjf,OAClFosB,EACK/a,KAAK,eAAgB,GACrBA,KAAK,OAAO,aACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAGuD,EAAa10B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,IAEpIysB,EACOjb,KAAK,eAAgB,GACrBA,KAAK,OAAO,aACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAGyD,EAAc50B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,IAEvIwsB,EACOhb,KAAK,OAAO,aACZA,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAGwD,EAAa30B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU5lB,EAAMvD,UAAW,KAIxI2vB,EACGne,KAAK,QAAUnb,GAAckvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAC/F6vB,EACGre,KAAK,QAAUnb,GAAcmvB,EAAYnvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAC/F+vB,EACGve,KAAK,QAAUnb,GAAc+6B,EAAa/6B,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAEhGiwB,EAEGze,KAAK,QAAUnb,GAAckvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAU,IAC9FmwB,EAEG3e,KAAK,QAAUnb,GAAcmvB,EAAYnvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAC/FqwB,EAEG7e,KAAK,QAAUnb,GAAc+6B,EAAa/6B,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAEhGuwB,EACG/e,KAAK,aAAcnb,GAAckvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,GACzE,EAApB8kB,GACCS,EAAYlvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAAO,EAAG,SAAU,WAC1FywB,EACGjf,KAAK,aAAcnb,GAAcmvB,EAAYnvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,GACzE,EAApB8kB,GACCU,EAAYnvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAAM,EAAG,SAAU,WACzF2wB,EACGnf,KAAK,aAAcnb,GAAc+6B,EAAa/6B,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,GAC1E,EAApB8kB,GACCsM,EAAa/6B,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAAM,EAAG,SAAU,WAE1F6wB,EACGrf,KAAK,aAAcnb,GAAekvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAU,GACzE,EAApB8kB,GACCS,EAAYlvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAU,IAAM,EAAG,SAAU,WACxF+wB,EACGvf,KAAK,aAAcnb,GAAemvB,EAAYnvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,GAC1E,EAApB8kB,GACCU,EAAYnvB,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAAM,EAAG,SAAU,WACzFixB,EACGzf,KAAK,aAAcnb,GAAe+6B,EAAa/6B,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,GAC3E,EAApB8kB,GACCsM,EAAa/6B,EAAE,cAAeA,EAAE,cAAekN,EAAMvD,UAAW,IAAM,EAAG,SAAU,aAhG1F2vB,EAAmBne,KAAK,QAAS,KACjCqe,EAAmBre,KAAK,QAAS,KACjCue,EAAoBve,KAAK,QAAS,KAElCye,EAAoBze,KAAK,QAAS,KAClC2e,EAAoB3e,KAAK,QAAS,KAClC6e,EAAqB7e,KAAK,QAAS,KAEnC+e,EAAsB/e,KAAK,aAAa,UACxCif,EAAsBjf,KAAK,aAAa,UACxCmf,EAAuBnf,KAAK,aAAa,UAEzCqf,EAAuBrf,KAAK,aAAa,UACzCuf,EAAuBvf,KAAK,aAAa,UACzCyf,EAAwBzf,KAAK,aAAa,WAwFvClJ,GAiBoB,UAAnBnQ,KAAKinB,MAAMjf,MAAuC,UAAnBhI,KAAKinB,MAAMjf,MAAuC,WAAnBhI,KAAKinB,MAAMjf,MAC3EusB,EACKlb,KAAK,eAAgB,GACrBA,KAAK,OAAO,OACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAGuD,EAAa10B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,IAErI4sB,EACOpb,KAAK,eAAgB,GACrBA,KAAK,OAAO,OACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAGyD,EAAc50B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,IAExI2sB,EACOnb,KAAK,OAAO,OACZA,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAGwD,EAAa30B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,KAC3G,UAAnB7H,KAAKinB,MAAMjf,MAAuC,UAAnBhI,KAAKinB,MAAMjf,MAAuC,WAAnBhI,KAAKinB,MAAMjf,OAClFusB,EACKlb,KAAK,eAAgB,GACrBA,KAAK,OAAO,OACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAGuD,EAAa10B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,IAErI4sB,EACOpb,KAAK,eAAgB,GACrBA,KAAK,OAAO,OACZA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAGyD,EAAc50B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,IAExI2sB,EACOnb,KAAK,OAAO,OACZA,KAAK,eAAgB,GACrBA,KAAK,YAAc,cAAgBqS,EAAM1rB,KAAKinB,MAAM3f,YAAY,IAAM,SACtEvC,KAAK,QAAS/E,KAAKmxB,eAAiB,MAAO,MAAQ,GAAGwD,EAAa30B,KAAKinB,MAAM3f,WAAWtH,KAAKinB,MAAM+J,SAAU7gB,EAAOtI,UAAW,KAEzI4vB,EACCpe,KAAK,QAAUnb,GAAckvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAU,IAC7F8vB,EACGte,KAAK,QAAUnb,GAAcmvB,EAAYnvB,EAAE,cAAeA,EAAE,cAAciS,EAAOtI,UAAU,IAC9FgwB,EACGxe,KAAK,QAAUnb,GAAc+6B,EAAa/6B,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,IAGjGkwB,EAEG1e,KAAK,QAAUnb,GAAckvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAU,IAC/FowB,EAEG5e,KAAK,QAAUnb,GAAcmvB,EAAYnvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,IAChGswB,EAEG9e,KAAK,QAAUnb,GAAc+6B,EAAa/6B,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,IAGjGwwB,EACGhf,KAAK,aAAcnb,GAAckvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAU,GACzE,EAApB8kB,GACCS,EAAYlvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAU,IAAM,EAAI,SAAU,WAC1F0wB,EACGlf,KAAK,aAAcnb,GAAcmvB,EAAYnvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,GAC1E,EAApB8kB,GACEU,EAAYnvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,IAAM,EAAG,SAAU,WAC3F4wB,EACGpf,KAAK,aAAcnb,GAAc+6B,EAAa/6B,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,GAC3E,EAApB8kB,GACCsM,EAAa/6B,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,IAAM,EAAG,SAAU,WAG3F8wB,EACGtf,KAAK,aAAcnb,GAAekvB,EAAYlvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAU,GAC1E,EAApB8kB,GACCS,EAAYlvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAU,IAAM,EAAI,SAAU,WAE1FgxB,EACGxf,KAAK,aAAcnb,GAAemvB,EAAYnvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,GAC3E,EAApB8kB,GACCU,EAAYnvB,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,IAAM,EAAG,SAAU,WAC1FkxB,EACG1f,KAAK,aAAcnb,GAAe+6B,EAAa/6B,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,GAC5E,EAApB8kB,GACCsM,EAAa/6B,EAAE,cAAeA,EAAE,cAAeiS,EAAOtI,UAAW,IAAM,EAAG,SAAU,aAlG3F4vB,EAAmBpe,KAAK,QAAS,KACjCse,EAAmBte,KAAK,QAAS,KACjCwe,EAAoBxe,KAAK,QAAS,KAElC0e,EAAoB1e,KAAK,QAAS,KAClC4e,EAAoB5e,KAAK,QAAS,KAClC8e,EAAqB9e,KAAK,QAAS,KAEnCgf,EAAsBhf,KAAK,aAAa,UACxCkf,EAAsBlf,KAAK,aAAa,UACxCof,EAAuBpf,KAAK,aAAa,UAEzCsf,EAAuBtf,KAAK,aAAa,UACzCwf,EAAuBxf,KAAK,aAAa,UACzC0f,EAAwB1f,KAAK,aAAa,YAwF9C,OACE/R,EACAU,EACAoO,EACA4a,GAEAlnB,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAMxmB,EAAaD,KACnBC,EAAWE,KAAO1B,EAAK0H,MACvBlG,EAAWI,WAAaA,EACxBJ,EAAWC,SAAqB,UAATa,EAEvB,IAAIH,EAAY,IAAI4K,IACpB,GAAY,QAARzK,EAAgB,CAClB,MAAM2lB,EAAgB,SAAN3lB,EAAe,kBACR,UAANA,EAAe,kBACT,SAANA,EAAc,kBACR,UAANA,EAAgB,kBACV,UAANA,EAAgB,kBAChB,kBACjBH,EAAY7H,KAAK2N,YAAYrG,GAAYqmB,GAASqD,GAAUnpB,eAE5DA,EAAY,IAAI4K,IAAI,IAAIzS,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,aACnD7H,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,aAC1D7H,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,aAC1D7H,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,aAC1D7H,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,aAC1D7H,KAAK2N,YAAYrG,GAAY,mBAAmB0pB,GAAUnpB,YAIpE7H,KAAK6xB,gBAAgBb,GAA5C,MACMkI,EAAczhB,WAAWuZ,GAAY,IAAO,EAAI,EAAIvZ,WAAWuZ,GAAY,IAC3EmI,EAAc1hB,WAAWuZ,GAAY,IAAO,EAAI,EAAIvZ,WAAWuZ,GAAY,IAC3Exe,EAAc,mBAAmBlL,SAAkBU,yBAA4BkxB,EAAY7gB,QAAQ,WAAW8gB,EAAY9gB,QAAQ,KAClI9P,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAQ,IAEJqI,EAAU,CACd3D,cACA3K,YACAU,aAGFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,OClgG6X,M,yBCQlb,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACnR,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,KAAYqL,WAAA,OC/BrI,IAAI,GAAS,WAAa,IAAIr5B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,wBAAwB,KAAKV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,kBAAkBQ,MAAM,CAAClC,MAAOmB,EAAkB,eAAEgB,SAAS,SAAUC,GAAMjB,EAAIiuB,eAAehtB,GAAKE,WAAW,mBAAmB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,iBAAiB,MAAQ,aAAaH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,kBAAkB,MAAQ,eAAe,IAAI,MAAM,IAAI,GAAGH,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,YAAY,CAACH,EAAG,cAAc,CAACG,MAAM,CAAC,QAAUP,EAAIkuB,QAAQ,UAAW,EAAK,mBAAkB,EAAM,mBAAkB,EAAM,mBAAkB,EAAK,YAAc,YAAY,MAAQ,OAAO,WAAW,OAAO,mBAAkB,GAAMntB,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAInB,MAAMoC,GAAKE,WAAW,YAAY,GAAGf,EAAG,MAAM,CAACO,IAAI,SAAS,IAC9uC,GAAkB,GCkEP,UAAIqC,OAAO,CACxB5E,KAAM,oBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KAChDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCtgB,EAAkB,aAClBwgB,EAAQ,CACZ3f,WAAY,IAER+xB,EAAQ,CACZ/xB,WAAY,GACZmW,UAAW,IAEPuQ,EAAiB,UAEvB,MAAO,CACL7G,IAAK,GACLmS,yBAA0B,GAC1B16B,MAAO,GACPovB,iBACAvnB,kBACAoS,SACAoO,QACAoS,QACAzS,SACA4H,SAAS,GACTlqB,MAAO,GACP8iB,WAAY,UACZpR,QACAyY,aAAa,GACbjH,WAAY,UACZ4J,YAAa,UACbC,YAAa,UACbC,iBAAkB,UAClBC,iBAAkB,UAClBlK,gBAAiB,UACjBI,gBAAiB,UACjBH,gBAAiB,UACjBC,gBAAiB,YAGrBG,SAAU,CACR,aACE,OAAO1nB,KAAKoB,OAAOC,MAAMmP,YAE3B,UACE,IAAIyd,EAAU,GACd,MAAMpsB,EAAc7B,KAAK6B,YAIzB,OAHAA,EAAYsG,QAASlK,IACnBgwB,EAAQpxB,KAAK,CAACsB,KAAMF,MAEfgwB,GAET,uBACE,OAAOjuB,KAAKoB,OAAOC,MAAM2Q,yBAE3B,UACE,MAAO,IAAIhS,KAAKuG,SAASqM,UAE3B,aACE,MAAO,CAAC,IAAI,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,QAEpE,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,WACE,MAAO,IAAI+B,KAAKuG,SAASgD,WAE3B,YACE,MAAO,IAAIvJ,KAAKuG,SAASsB,YAE3B,kBACE,IAAIgqB,EAAmB,GACvB,IAAK,IAAIx1B,KAAK2D,KAAK8xB,WACjBD,EAAgB7xB,KAAK8xB,WAAWz1B,IAAMsyB,SAAStyB,GAEjD,OAAOw1B,GAET,UACE,MAAMjD,EAEF5uB,KAAKoB,OAAOyE,QAAQuP,QAElBA,EAAmC5Y,OAAOqyB,QAAQD,GAAcxlB,IAAI,EAAE9B,EAAYtJ,MAC/E,CACLsJ,aACA8N,QAASpX,KAGb,OAAOoX,GAET,cAgCE,MAAMzH,EA+BF,GAGJ,IAAIokB,EAAe,GA0EnB,OAzEA/xB,KAAK6B,YAAYsG,QAASlK,IAExB0P,EAAY1P,GAAK,CACfE,KAAKF,EACLwf,UAAWjhB,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAI+B,KAAK0uB,qBAAqBzwB,GAAK,EAC/FgkB,IAAK,EACLgQ,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPI,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBI,gBAAiB,IAEnB/yB,KAAK8xB,WAAW3pB,QAAS6qB,IACvBrlB,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,KAEjB9E,EAAY1P,GAAG,mBAAmB+0B,GAAQ,CACxCnrB,UAAW,IAAI4K,OAGnBzS,KAAK6H,UAAUM,QAASkB,IACtB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuBnf,GAC5Ds7B,EAAUjwB,GAAaD,GAAIqE,QAAUpE,GAAaD,GAAIsE,YAAY1P,GAAI,EAAI,EAC9E0P,EAAY1P,GAAG80B,gBAAgBl2B,KAAK4a,WAAWwb,IAC/C,IAAIjC,GAAYiC,EAAiBvb,MAAM,KAAK,GAAG8F,UAAU,EAAE,GAAG,IAAIpF,WAC7B,KAAhC6a,EAAiBvb,MAAM,KAAK,KAC/BsZ,EAAW,OAEb,IAAIkC,EAAiBlzB,KAAK6xB,gBAAgBb,GAC1C,GAAIkC,EAAiB,GAAKA,EAAiBlzB,KAAK8xB,WAAWv1B,OAAQ,CACjE,IAAI42B,EAAeD,EAAiB,EAChCE,EAAe3b,WAAWzX,KAAK8xB,WAAWqB,IAC1C1pB,KAAK4W,IAAI+S,EAAe3b,WAAYwb,IAAqBxpB,KAAK4W,IAAI5I,WAAYwb,GAAoBxb,WAAWuZ,MAC/GA,EAAWhxB,KAAK8xB,WAAWqB,IAIhB,GAAXoG,EACEjwB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CjF,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAE1DsE,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAKxDC,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CjF,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAE1DsE,EAAY1P,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,KAKhErJ,KAAK8xB,WAAW3pB,QAAS6qB,IACvBrlB,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/EtO,EAAY1P,GAAG,SAASpB,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,MAC/E8V,EAAal1B,KAAK8Q,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,KAAOtO,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,KAAOtO,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,KAAOtO,EAAY1P,GAAG,mBAAmB+0B,GAAMnrB,UAAUoU,UAGnPjc,KAAK2Y,EAAE5O,OAAO,CAAC,EAAuB,EAArBD,GAAA,KAAOioB,KACjBpkB,GAET,iBACE,IAAI0nB,EAAiB,GACjBE,EAAiB,GAarB,OAZAv1B,KAAK6B,YAAYsG,QAASlK,IACxB,IAAIg0B,EAAQjyB,KAAK2N,YAAY1P,GAAGg0B,MAC5BE,EAAQnyB,KAAK2N,YAAY1P,GAAGk0B,MAC5BC,EAAQpyB,KAAK2N,YAAY1P,GAAGm0B,MAC5BF,EAAQlyB,KAAK2N,YAAY1P,GAAGi0B,MAC5BoE,EAAoB,GACxB,IAAK,IAAIj6B,KAAK2D,KAAK8xB,WACjBwE,EAAkBz5B,KAAK,CAAC,WAAaoB,EAAE,WAAa+B,KAAK8xB,WAAWz1B,GAAI,YAAc41B,EAAM51B,GAAI,YAAc81B,EAAM91B,GAAI,YAAc+1B,EAAM/1B,GAAI,YAAc61B,EAAM71B,KAEtKg5B,EAAex4B,KAAK,CAAC,KAAOoB,EAAG,KAAOq4B,EAAkB,UAAYt2B,KAAK2N,YAAY1P,GAAGwf,YACxF8X,EAAet3B,GAAKq4B,IAEff,GAET,aAIE,OAAOv1B,KAAKoB,OAAOC,MAAM8J,mBAE3B,cAAsB,OAAQnL,KAAKoB,OAAOC,MAAM+R,aAChD,mBAA2B,OAAQpT,KAAKoB,OAAOC,MAAMiS,kBACrD,IACE,MAAMqF,EAAI7O,GAAA,OACP+f,MAAM,CAAC,EAAG7pB,KAAKgW,MAAQhW,KAAK6B,YAAYtF,SACxCwN,OAAO,CAAC,EAAE,MACb,OAAO4O,GAET,SACE,MAAMA,EAAI7O,GAAA,OACP+f,MAAM,CAAC,EAAG7pB,KAAKgW,MAAQhW,KAAK6B,YAAYtF,SACxCwN,OAAO,CAAC,EAAE,IACb,OAAO4O,GAET,IACE,MAAMC,EAAI9O,GAAA,OACP+f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACpBwa,QAAQ,IAAKtpB,OAAO/J,KAAK8xB,YAC5B,OAAOlZ,GAET,gBAIE,OAAO5Y,KAAKoB,OAAOC,MAAM8J,mBAE3B,eACE,OAAOnL,KAAKoB,OAAOC,MAAMoP,eAG7BuZ,MAAO,CACL,eACE,IAAIpZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,qBAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKpB,MAAQ,GACbA,EAAMiD,YAAYsG,QAASlK,IACrB+B,KAAK6B,YAAYsE,SAASlI,IAC5B+B,KAAKpB,MAAM/B,KAAK,CAAC,KAAOoB,MAG5B+B,KAAKguB,eAAiBpvB,EAAMyX,aAIlCrW,KAAKiqB,eAEP,aACE,IAAIpV,EAAS,CAAC,KAAO,oBACP,OAAU,CACR,YAAc7U,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,MACpC,UAAY6B,KAAKguB,iBACjChuB,KAAKoB,OAAOO,SAAS,oBAAoBkT,IAE3C,QACE7U,KAAKovB,mBAEP,aACEpvB,KAAKiqB,eAEP,QACEjqB,KAAKiqB,eAEP,iBACEjqB,KAAKiqB,eAEP,gBAC6B,WAAvBjqB,KAAKguB,gBACPhuB,KAAKiqB,eAGT,QACEjqB,KAAKkqB,aAEP,YACElqB,KAAKiqB,eAEP,cACEjqB,KAAKiqB,eAEP,mBACEjqB,KAAKiqB,gBAGT,UACE,IAAIrZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,qBAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKpB,MAAQ,GACbA,EAAMiD,YAAYsG,QAASlK,IACrB+B,KAAK6B,YAAYsE,SAASlI,IAC5B+B,KAAKpB,MAAM/B,KAAK,CAAC,KAAOoB,MAG5B+B,KAAKguB,eAAiBpvB,EAAMyX,aAIlCrW,KAAKiqB,eAEP/mB,QAAS,CACP,kBACE,MAAMoE,EAAatH,KAAKq5B,MAAM/xB,WACxB1I,EAAQ6Y,WAAWzX,KAAKq5B,MAAM5b,WAAWpF,QAAQ,GACvD,IAAIiX,EAAoB,CAAC,WAAahoB,EAAY,iBAAwC,IAApBmQ,WAAW7Y,IACjFoB,KAAKoB,OAAOO,SAAS,6CAA6C2tB,IAEpE,aACEtvB,KAAKinB,MAAQ,CAAG3f,WAAY,KAE9B,YACE,MAAMnJ,EAAO6B,KAAKinB,MAAM3f,WACxB,IAAIzF,EAAc,CAAC,YACnB7B,KAAK6B,YAAYsG,QAASlK,IACxB4D,EAAYhF,KAAKoB,KAEnB,MAAM,MAACmN,EAAK,OAAE+E,GAAUnQ,KAAKwwB,cAC7B,GAA2B,WAAvBxwB,KAAKguB,eACsB,IAAzBhuB,KAAKinB,MAAM3f,YACbwC,GAAA,KAAU,kBAAkB3L,GAAMkb,KAAK,IAAI,GAC3CvP,GAAA,KAAU,gBAAgB3L,GAAM6H,MAAM,YAAa,QACnDnE,EAAYsG,QAASlK,IACfA,GAAKE,IACP2L,GAAA,KAAa,SAAS7L,GAAG+H,MAAM,UAAU,IACzC8D,GAAA,KAAa,QAAQ7L,GAAG+H,MAAM,UAAU,QAI5CnE,EAAYsG,QAASlK,IACnB6L,GAAA,KAAa,SAAS7L,GAAG+H,MAAM,UAAU,GACzC8D,GAAA,KAAa,QAAQ7L,GAAG+H,MAAM,UAAU,GACxC8D,GAAA,KAAU,kBAAkB7L,GAAGob,KAAK,IAAI,GACxCvP,GAAA,KAAU,gBAAgB7L,GAAG+H,MAAM,YAAa,cAG/C,CACL,IAAIwzB,EAAe,GACfpuB,GACFouB,EAAa38B,KAAK,GAEhBsT,GACFqpB,EAAa38B,KAAK,GAEpB28B,EAAarxB,QAASsxB,IACS,IAAzBz5B,KAAKinB,MAAM3f,YACbwC,GAAA,KAAU,kBAAkB3L,GAAMkb,KAAK,IAAI,GAC3CvP,GAAA,KAAU,gBAAgB3L,GAAM6H,MAAM,YAAa,QACnD8D,GAAA,KAAa,SAAS3L,EAAO,IAAMs7B,GAAczzB,MAAM,UAAU,GACjE8D,GAAA,KAAa,QAAQ3L,EAAO,IAAMs7B,GAAczzB,MAAM,UAAU,GAChEnE,EAAYsG,QAASlK,IACfA,GAAKE,IACP2L,GAAA,KAAa,SAAS7L,EAAI,IAAMw7B,GAAczzB,MAAM,UAAU,IAC9D8D,GAAA,KAAa,QAAQ7L,EAAI,IAAMw7B,GAAczzB,MAAM,UAAU,QAIjEnE,EAAYsG,QAASlK,IACnB6L,GAAA,KAAa,SAAS7L,EAAI,IAAMw7B,GAAczzB,MAAM,UAAU,GAC9D8D,GAAA,KAAa,QAAQ7L,EAAI,IAAMw7B,GAAczzB,MAAM,UAAU,GAC7D8D,GAAA,KAAU,kBAAkB7L,GAAGob,KAAK,IAAI,GACxCvP,GAAA,KAAU,gBAAgB7L,GAAG+H,MAAM,YAAa,cAM1D,cAEE8D,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOG,UAC7B3N,OAAO,KACLC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAShnB,KAAK4mB,OAAOG,WAE/D2S,EAAkB5vB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OACtDC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBACS,IAApD9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,WAChD3N,OAAO,KACLC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAA2B,GAAlBhnB,KAAK4mB,OAAOC,QAE/D2I,EAAkB1lB,GAAA,KAA4BA,GAAA,MAC7CC,OAAO,CAAC,EAAG/J,KAAK6B,YAAYtF,SAC5BkzB,cAAa,SAAU9W,GAAK,OAAO7O,GAAA,KAAqB,GAAG6O,MAE5D9W,EAAc7B,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,MAE9B6B,KAAKgW,MAAjB,IACI6C,EAAS7Y,KAAK6Y,OAClB,IAAIwc,EAAiB,GACjBsE,EAAsB,GACtBpE,EAAiB,GACjBqE,EAAmB,GACnBva,EAAS,EAEb,MAAMwa,EAAmB,KACvB,IAAIxa,EAAQ,EACZxd,EAAYsG,QAASlK,IACnBohB,GAAS,EACT,IAAI4S,EAAQjyB,KAAK2N,YAAY1P,GAAGg0B,MAC5BE,EAAQnyB,KAAK2N,YAAY1P,GAAGk0B,MAC5BC,EAAQpyB,KAAK2N,YAAY1P,GAAGm0B,MAC5BF,EAAQlyB,KAAK2N,YAAY1P,GAAGi0B,MAC5BoE,EAAoB,GACpBwD,EAAa,GACbC,EAAyB,GAC7B,IAAK,IAAI19B,KAAK2D,KAAK8xB,WACjB,GAAKG,EAAM51B,GAAK+1B,EAAM/1B,GAAK81B,EAAM91B,GAAK61B,EAAM71B,IAAO,IAAM41B,EAAM51B,GAAK+1B,EAAM/1B,IAAM2D,KAAK6H,UAAUoU,KAAO,IACpG8d,EAAuBl9B,KAAK,CAAC,KAAOoB,EAAG,MAAQuxB,EAAgBnQ,GAAO,WAAaphB,EAAE,WAAa+B,KAAK8xB,WAAWz1B,GAAK,MAAS,WAI7H,CACH,IAAIuC,EAASqzB,EAAM51B,GAAK+1B,EAAM/1B,GAAK81B,EAAM91B,GAAK61B,EAAM71B,IAAO,EAAI,MAAQ41B,EAAM51B,GAAK+1B,EAAM/1B,KAAO41B,EAAM51B,GAAK+1B,EAAM/1B,GAAK81B,EAAM91B,GAAK61B,EAAM71B,IAClI29B,EAAS/H,EAAM51B,GAAK+1B,EAAM/1B,GAAK81B,EAAM91B,GAAK61B,EAAM71B,GACpDi6B,EAAkBz5B,KAAK,CAAC,KAAOoB,EAAG,MAAQuxB,EAAgBnQ,GAAO,WAAaphB,EAAE,WAAa+B,KAAK8xB,WAAWz1B,GAAI,YAAc41B,EAAM51B,GAAI,YAAc81B,EAAM91B,GAAG,YAAc+1B,EAAM/1B,GAAI,YAAc61B,EAAM71B,GAAI,UAAY2D,KAAK2N,YAAY1P,GAAGwf,UAAW,MAAS7e,IACpQk7B,EAAWj9B,KAAK,CAACmD,KAAK8xB,WAAWz1B,GAAIuC,IACrCm7B,EAAuBl9B,KAAK,CAAC,KAAOoB,EAAG,MAAQuxB,EAAgBnQ,GAAO,WAAaphB,EAAE,WAAa+B,KAAK8xB,WAAWz1B,GAAK,MAAS29B,IAGpI3E,EAAex4B,KAAK,CAAC,KAAOoB,EAAG,MAAQuxB,EAAgBnQ,GAAQ,WAAaya,EAAY,KAAOxD,EAAkB,UAAYt2B,KAAK2N,YAAY1P,GAAGwf,YACjJkc,EAAoB98B,KAAK,CAAC,KAAOoB,EAAG,MAAQuxB,EAAgBnQ,GAAQ,KAAO0a,EAAuB,UAAY/5B,KAAK2N,YAAY1P,GAAGwf,YAClI8X,EAAet3B,GAAKq4B,IAGtB,IAAI2D,EAAqB,GACzB,IAAK,IAAI59B,KAAK2D,KAAK8xB,WAAY,CAC7B,IAAIlzB,EAAQ6Y,WAAWzX,KAAK8xB,WAAWz1B,IACvC49B,EAAmBp9B,KAAK,CAAC,KAAO,WAAY,MAAQ,OAAO,WAAa,WAAW,WAAamD,KAAK8xB,WAAWz1B,GAAI,YAAc2D,KAAK6H,UAAUtL,OAAS,EAAG,YAAc,EAAE,YAAc,EAAG,YAAcyD,KAAK6H,UAAUtL,OAAS,EAAE,UAAY,GAAI,MAAQqC,IAEhQy2B,EAAex4B,KAAK,CAAC,KAAO,WAAY,MAAQ,OAAQ,KAAOo9B,EAAmB,UAAY,MAG1F1J,EAA2B,KAC/B,MAAM,MAACnlB,EAAK,OAAE+E,GAAUnQ,KAAKwwB,cACXxwB,KAAK6H,UACvB,IAAIqyB,EAAyB,GACzBC,EAAyB,GAE7B,MAAM1J,EAAkB,CAACnpB,EAAmB+O,KAC1C,IAAIpY,EAAIqJ,EACJ2qB,EAAQ,GACRE,EAAQ,GACRC,EAAQ,GACRF,EAAQ,GACZ,IAAK,IAAI5O,KAAOtjB,KAAK8xB,WAAY,CAC/B,IAAIz1B,EAAI2D,KAAK8xB,WAAWxO,GACxB2O,EAAMp1B,KAAKoS,GAAajP,KAAK2N,YAAY1P,GAAGu0B,gBAAgBn2B,GAAGwL,UAAWwO,GAAW4F,MACrFkW,EAAMt1B,KAAKoS,GAAajP,KAAK2N,YAAY1P,GAAGy0B,gBAAgBr2B,GAAGwL,UAAWwO,GAAW4F,MACrFmW,EAAMv1B,KAAKoS,GAAajP,KAAK2N,YAAY1P,GAAGw0B,gBAAgBp2B,GAAGwL,UAAWwO,GAAW4F,MACrFiW,EAAMr1B,KAAKoS,GAAajP,KAAK2N,YAAY1P,GAAG00B,gBAAgBt2B,GAAGwL,UAAWwO,GAAW4F,MAEvF,IAAIqa,EAAoB,GACpBwD,EAAa,GACjB,IAAK,IAAIz9B,KAAK2D,KAAK8xB,WAAY,CAC7B,GAAKG,EAAM51B,GAAK+1B,EAAM/1B,GAAK81B,EAAM91B,GAAK61B,EAAM71B,IAAO,EACjD,SAEF,IAAIuC,EAASqzB,EAAM51B,GAAK+1B,EAAM/1B,GAAK81B,EAAM91B,GAAK61B,EAAM71B,IAAO,EAAI,MAAQ41B,EAAM51B,GAAK+1B,EAAM/1B,KAAO41B,EAAM51B,GAAK+1B,EAAM/1B,GAAK81B,EAAM91B,GAAK61B,EAAM71B,IACzH41B,EAAM51B,GAAK+1B,EAAM/1B,GAAK81B,EAAM91B,GAAK61B,EAAM71B,GACpDi6B,EAAkBz5B,KAAK,CAAC,KAAOoB,EAAG,MAAQuxB,EAAgBnQ,GAAO,WAAaphB,EAAE,WAAa+B,KAAK8xB,WAAWz1B,GAAI,YAAc41B,EAAM51B,GAAI,YAAc81B,EAAM91B,GAAG,YAAc+1B,EAAM/1B,GAAI,YAAc61B,EAAM71B,GAAI,UAAY2D,KAAK2N,YAAY1P,GAAGwf,UAAW,MAAS7e,IACpQk7B,EAAWj9B,KAAK,CAACmD,KAAK8xB,WAAWz1B,GAAIuC,IAGvC,OADAs7B,EAAuBr9B,KAAK,CAAC,KAAOoB,EAAG,MAAQuxB,EAAgBnQ,GAAQ,WAAaya,EAAY,KAAOxD,EAAkB,UAAYt2B,KAAK2N,YAAY1P,GAAGwf,YAClJ6Y,GAGTjX,EAAQ,EAER,IAAI4a,EAAqB,GAEzB,GAAI7uB,EAAO,CAMT,IAAK,IAAI/O,KALTgjB,EAAQ,EACRxd,EAAYsG,QAASlK,IACnBohB,GAAS,EACT8a,EAAuBl8B,GAAKwyB,EAAgBxyB,EAAGmN,EAAMvD,aAEzC7H,KAAK8xB,WAAY,CAC7B,IAAIlzB,EAAQ6Y,WAAWzX,KAAK8xB,WAAWz1B,IACvC49B,EAAmBp9B,KAAK,CAAC,KAAO,WAAY,MAAQ,OAAO,WAAa,WAAW,WAAamD,KAAK8xB,WAAWz1B,GAAI,YAAc2D,KAAK6H,UAAUtL,OAAS,EAAG,YAAc,EAAE,YAAc,EAAG,YAAcyD,KAAK6H,UAAUtL,OAAS,EAAE,UAAY,GAAI,MAAQqC,IAEhQs7B,EAAuBr9B,KAAK,CAAC,KAAO,WAAY,MAAQ,OAAQ,KAAOo9B,EAAmB,UAAY,KACtGL,EAAiB/8B,KAAK,CAAC,eAAiB,EAAG,KAAQq9B,EAAwB,KAAQC,IAErF,GAAIhqB,EAAQ,CAQV,GAPAkP,EAAQ,EACR8a,EAAyB,GACzBD,EAAyB,GACzBr4B,EAAYsG,QAASlK,IACnBohB,GAAS,EACT8a,EAAuBl8B,GAAKwyB,EAAgBxyB,EAAGkS,EAAOtI,cAElDuD,EAAO,CACX,IAAI6uB,EAAqB,GACzB,IAAK,IAAI59B,KAAK2D,KAAK8xB,WAAY,CAC7B,IAAIlzB,EAAQ6Y,WAAWzX,KAAK8xB,WAAWz1B,IACvC49B,EAAmBp9B,KAAK,CAAC,KAAO,WAAY,MAAQ,OAAO,WAAa,WAAW,WAAamD,KAAK8xB,WAAWz1B,GAAI,YAAc2D,KAAK6H,UAAUtL,OAAS,EAAG,YAAc,EAAE,YAAc,EAAG,YAAcyD,KAAK6H,UAAUtL,OAAS,EAAE,UAAY,GAAI,MAAQqC,IAEhQs7B,EAAuBr9B,KAAK,CAAC,KAAO,WAAY,MAAQ,OAAQ,KAAOo9B,EAAmB,UAAY,KAExGL,EAAiB/8B,KAAK,CAAC,eAAiB,EAAG,KAAQq9B,EAAwB,KAAQC,MAKjFC,EAAmB,KAEvB,IAAId,EAA2B,GAE/B,IAAK,IAAIj9B,KAAK2D,KAAK8xB,WAAW,CAC5B,IAAIuI,EAAW,GACX98B,EAAI,EACRsE,EAAYsG,QAASjK,IACnBm8B,EAASx9B,KAAK88B,EAAoBp8B,GAAGxB,KAAKM,IAC1CkB,GAAG,IAEL+7B,EAAyBt5B,KAAK8xB,WAAWz1B,IAAMg+B,EAEjD,MAAM3K,EAAU/D,GAAWA,EACxBtS,KAAK,YAAa,gBAA0B,GAAPR,MACrClc,KACCmN,GAAA,KAAc4hB,GACXE,cAAc,IAGf+D,EAAS7lB,GAAA,OACZC,OAAO,CAAC,EAAE/J,KAAK6H,UAAUtL,SACzBstB,MAAM,CAAa,GAAZ7pB,KAAK6Y,OAAY,IAErB6S,EAAQ5hB,GAAA,OACX+f,MAAM,CAAC,EAAG7pB,KAAKgW,QACf8T,aAAa,GACb/f,OAAO/J,KAAK8xB,YAETnZ,EAAI7O,GAAA,OACP+f,MAAM,CAAC,EAAG7pB,KAAKgW,MAAQhW,KAAK8xB,WAAWv1B,SACvCutB,aAAa,IACbC,aAAa,GACbhgB,OAAOlI,GACJ+W,EAAI9O,GAAA,OACLC,OAAO,CAAC,EAAG/J,KAAK6H,UAAUtL,SAC1BstB,MAAM,CAAa,GAAZ7pB,KAAK6Y,OAAY,IAEvByT,EAAW3T,EAAE2S,YAGnBoO,EAAiBtgB,OAAO,KACrBC,KAAK,QAAQ,aACb1c,KAAK+yB,GACLrF,UAAU,QACVhR,KAAK,cAAe,SAGvBqgB,EAAiBtgB,OAAO,KACnBC,KAAK,QAAQ,aACb1c,KAAKmN,GAAA,KAAY6lB,IAEtB,MAAMjX,EAAYghB,EAAiBtgB,OAAO,KAAKC,KAAK,QAAQ,aAC3DgR,UAAU,KACRtuB,KAAKiE,KAAK8xB,YACVzB,QAAQjX,OAAO,KACbC,KAAK,aAAa,SAASnb,GAC1B,MAAO,aAAewtB,EAAMxtB,GAAK,SAClCmsB,UAAU,QACVtuB,MAAK,SAASmC,GACb,OAAOo7B,EAAyBp7B,MACjCmyB,QAELrwB,KAAKmnB,IAAMuS,EAEX15B,KAAKs5B,yBAA2BA,EAEhC5gB,EACGU,OAAO,QACPC,KAAK,aAAa,SAASnb,GACxB,MAAO,aAAeya,EAAEza,EAAE,eAAiB,SAC9Cmb,KAAK,QAAQnb,GAAG,aAAaA,EAAE,cAAc,IAAIA,EAAE,eACnDmb,KAAK,QAASiT,GACdjT,KAAK,SAAUnb,GAAkB,GAAd8B,KAAK6Y,OAAcD,EAAE1a,EAAE,WAC1Cmb,KAAK,IAAMnb,GACH0a,EAAE1a,EAAE,WACZmb,KAAK,OAAQnb,GAAWA,EAAE,UAC1ByC,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,SAAUV,WAAYpJ,EAAE,cAAe8yB,SAAU9yB,EAAE,cAAcka,aACtHzX,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAgB,QAAQA,EAAE,cAAcka,aACjFzX,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAE,cAAgB,SAASA,EAAE,cAAcka,cAGvFkiB,EAAa,KACjB,MAAM5K,EAAS5lB,GAAA,OACdC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC,EAAG7pB,KAAKgW,QACV2Z,EAAS7lB,GAAA,OACZC,OAAO,CAAC,EAAE,IACV8f,MAAM,CAAa,EAAZ7pB,KAAK6Y,OAAS,EAAG,IAW3B,SAASqX,EAAKhyB,GACDA,EAAEC,KACbD,EAAIA,EAAEnC,KACN,IAAIo0B,EAAO,KAGP7M,EAAM,EAgBV,OAfAplB,EAAEiK,QAASioB,IACe,MAAnBA,EAAUxxB,OAAoC,GAAnBwxB,EAAUxxB,OAAsB,GAAP0kB,GAInD6M,EADS,GAAP7M,EACK6M,EAAOT,EAAOU,EAAU0B,YAAc,IAAMnC,EAAOS,EAAUxxB,OAE7DuxB,EAAO,KAAMT,EAAOU,EAAU0B,YAAa,IAAMnC,EAAOS,EAAUxxB,OAEnEwxB,EAAU0B,WACV1B,EAAUxxB,MAClB0kB,GAAO,GATTA,GAAO,IAaJ6M,EA9BThJ,EAAI/N,OAAO,KACNC,KAAK,YAAa,eAAwB,EAAPR,EAAS,EAAI,KAChDlc,KAAKmN,GAAA,KAAc4lB,IAGxBvI,EAAI/N,OAAO,KACNzc,KAAKmN,GAAA,KAAY6lB,IA2BVxI,EACTkD,UAAU,UACVtuB,KAAKs5B,GACLhF,QAAQjX,OAAO,QACfC,KAAK,IAAM6W,GACX7W,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,QAAQ6B,EAAEC,MAC9Bkb,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,QAAQ6B,EAAEC,MAC9B6H,MAAM,OAAQ,QACdqT,KAAK,SAAUnb,GACPA,EAAE4a,OACV9S,MAAM,eAAgB,GACtBA,MAAM,UAAW,GACjBA,MAAM,mBAAoB9H,GAAiB,YAAbA,EAAE,QAAuB,OAAW,QAExDipB,EAAIkD,UAAU,QACxBtuB,KAAKs5B,GACLhF,QACAhG,UAAU,WACVtuB,MAAK,SAASmC,GACb,OAAOA,EAAE,WACRmyB,QACAjX,OAAO,UACTC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,OAAO6B,EAAE,SAC7Bmb,KAAK,MAAM,SAASnb,EAAG7B,GACtB,IAAIsc,EAAIlB,WAAWvZ,EAAE,eACrB,OAAOwxB,EAAO/W,MACfU,KAAK,MAAM,SAASnb,EAAE7B,GACrB,IACIuc,EAAI1a,EAAE,SACV,OAAOyxB,EAAO/W,MACfS,KAAK,IAAK,GACVA,KAAK,OAAQnb,GAAIA,EAAE,UACnBmb,KAAK,WAAU,SAASnb,EAAE7B,GACzB,OAAqB,MAAd6B,EAAE,UAAiC,GAAbA,EAAE,SAAe,EAAI,KAEnDyC,GAAG,QAAS,CAACzC,EAAE7B,IAAK2D,KAAKq5B,MAAQ,CAAC,UAAYn7B,EAAE,cAAe,WAAaA,EAAE,iBAI7EoyB,EAAqB,KACzB,MAAMZ,EAAS5lB,GAAA,OACdC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC,EAAG7pB,KAAKgW,QACV2Z,EAAS7lB,GAAA,OACZC,OAAO,CAAC,EAAE,IACV8f,MAAM,CAAa,EAAZ7pB,KAAK6Y,OAAS,EAAG,IAW3B,SAASqX,EAAKhyB,GACDA,EAAEC,KACbD,EAAIA,EAAEnC,KACN,IAAIo0B,EAAO,KAGP7M,EAAM,EAeV,OAdAplB,EAAEiK,QAASioB,IACe,MAAnBA,EAAUxxB,OAAoC,GAAnBwxB,EAAUxxB,OAAsB,GAAP0kB,IACvDA,EAAM,EACN6M,GAAc,MAGdA,EADS,GAAP7M,EACK6M,EAAOT,EAAOU,EAAU0B,YAAc,IAAMnC,EAAOS,EAAUxxB,OAE7DuxB,EAAO,KAAMT,EAAOU,EAAU0B,YAAa,IAAMnC,EAAOS,EAAUxxB,OAEnEwxB,EAAU0B,WACV1B,EAAUxxB,MAClB0kB,GAAO,IAEF6M,EA7BThJ,EAAI/N,OAAO,KACNC,KAAK,YAAa,eAAwB,EAAPR,EAAS,EAAI,KAChDlc,KAAKmN,GAAA,KAAc4lB,IAGxBvI,EAAI/N,OAAO,KACNzc,KAAKmN,GAAA,KAAY6lB,IA0BtB,IAAIsK,EAAsB,GAC1B,IAAK,IAAI59B,KAAK2D,KAAK8xB,WAAY,CAC3B,IAAIlzB,EAAQ6Y,WAAWzX,KAAK8xB,WAAWz1B,IACvC49B,EAAmBp9B,KAAK,CAAC,KAAO,WAAY,MAAQ,OAAO,WAAa,WAAW,WAAamD,KAAK8xB,WAAWz1B,GAAI,YAAc2D,KAAK6H,UAAUtL,OAAS,EAAG,YAAc,EAAE,YAAc,EAAG,YAAcyD,KAAK6H,UAAUtL,OAAS,EAAE,UAAY,GAAI,MAAQqC,IAElQg7B,EAAkBzxB,QAASpM,IACzB,IAAIs5B,EAAiBt5B,EAAKA,KAEtBmd,GADiBnd,EAAKw+B,KACLx+B,EAAKmd,gBACdiO,EACTkD,UAAU,UACVtuB,KAAKs5B,GACLhF,QAAQjX,OAAO,QACfC,KAAK,IAAM6W,GACX7W,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,QAAQ6B,EAAE,QAAU,IAAMgb,GAC9ClT,MAAM,OAAQ,QACdqT,KAAK,SAAS,CAACnb,EAAE7B,IACE,QAAd6B,EAAE,SAA2BA,EAAE,SACT,GAAtB8B,KAAKpB,MAAMrC,OACY,GAAlB2c,EAAqBlZ,KAAKsnB,gBACV,GAAlBpO,EAAqBlZ,KAAKunB,gBAC1BrpB,EAAE,SAEFA,EAAE,UACV8H,MAAM,eAAgB,GACtBA,MAAM,UAAW,GACjBA,MAAM,mBAAsC,KAAlBkT,EAAuB,OAAW,QAGlDiO,EAAIkD,UAAU,QACxBtuB,KAAKs5B,GACLhF,QACAhG,UAAU,WACVtuB,MAAK,SAASmC,GACb,OAAOA,EAAE,WACRmyB,QACAjX,OAAO,UACTC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,OAAO6B,EAAE,QAAU,IAAMgb,GAC7CG,KAAK,MAAM,SAASnb,EAAG7B,GACtB,IAAIsc,EAAIlB,WAAWvZ,EAAE,eACrB,OAAOwxB,EAAO/W,MACfU,KAAK,MAAM,SAASnb,EAAE7B,GACrB,IACIuc,EAAI1a,EAAE,SACV,OAAOyxB,EAAO/W,MACfS,KAAK,IAAK,GACVA,KAAK,OAAQnb,GACM,QAAdA,EAAE,SAA2BA,EAAE,SACT,GAAtB8B,KAAKpB,MAAMrC,OACY,GAAlB2c,EAAqBlZ,KAAKsnB,gBACV,GAAlBpO,EAAqBlZ,KAAKunB,gBAC1BrpB,EAAE,SAEFA,EAAE,UACVmb,KAAK,WAAU,SAASnb,EAAE7B,GACzB,OAAqB,MAAd6B,EAAE,SAAmB,EAAI,KAEjCyC,GAAG,QAAS,CAACzC,EAAE7B,IAAK2D,KAAKq5B,MAAQ,CAAC,UAAYn7B,EAAE,cAAe,WAAaA,EAAE,mBAGxD,WAAvB8B,KAAKguB,gBACT6L,IACAS,IACAF,IACAp6B,KAAKw6B,+BAELjK,IACAD,IACAuJ,IACAO,IACAp6B,KAAKw6B,8BAGP,MAAMxO,EAAa,KACjB7E,EAAI/N,OAAO,QACRC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,GACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,yBACRoiB,EAAI/N,OAAO,QACRC,KAAK,YAAa,KACjB,MAAM4S,EAAWjsB,KAAU,MAAI,EACzBksB,EAA0B,GAAflsB,KAAW,OAC5B,MAAO,aAAaisB,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,yBAEVinB,IAEA,MAAMG,EAAa,KACInsB,KAAK4nB,eACC,WAAvB5nB,KAAKguB,iBACPqH,EAAiBuE,EAAiB,GAAG79B,MAEnBorB,EACjBkD,UAAU,WACVtuB,KAAKs5B,GACLhF,QAAQjX,OAAO,UACfC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,iBAAiB6B,EAAEC,MACvCkb,KAAK,KAA4B,OAAvBrZ,KAAK4nB,eAAyB,GAAK,IAC7CvO,KAAK,KAAK,CAACnb,EAAE7B,IAAM,GAAFA,EAAO2D,KAAK4mB,OAAOC,KACpCxN,KAAK,IAAK,GACVrT,MAAM,OAAQ9H,GAAGA,EAAE4a,OACnBnY,GAAG,aAAczC,GAAG8B,KAAKinB,MAAQ,CAAE3f,WAAWpJ,EAAEC,OAC9CwC,GAAG,aAAcX,KAAKusB,YAGTpF,EACfkD,UAAU,UACVtuB,KAAKs5B,GACLhF,QAAQjX,OAAO,QACfC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,eAAe6B,EAAEC,MACrCkb,KAAK,IAA4B,OAAvBrZ,KAAK4nB,eAAyB,GAAK,IAC7CvO,KAAK,IAAK,CAACnb,EAAE7B,IAAM,GAAFA,EAAO2D,KAAK4mB,OAAOC,KACpC9hB,KAAK7G,GAAGA,EAAEC,MACV6H,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1B1Y,GAAG,aAAczC,GAAG8B,KAAKinB,MAAQ,CAAE3f,WAAWpJ,EAAEC,OAC9CwC,GAAG,aAAcX,KAAKusB,YAEC,WAAvBvsB,KAAKguB,iBACP7G,EACE/N,OAAO,QACPC,KAAK,MAAUrZ,KAAK4mB,OAAOC,KAC3BxN,KAAK,KAAM,KACXA,KAAK,KAAM,KACXA,KAAK,MAAUrZ,KAAK4mB,OAAOC,KAC3BxN,KAAK,SAAU,QACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,IACvBrT,MAAM,mBAAmB,QAC5BmhB,EACG/N,OAAO,QACPC,KAAK,KAASrZ,KAAK4mB,OAAOC,KAC1BxN,KAAK,IAAK,KACVrT,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1BtU,KAAK,eAERoiB,EACG/N,OAAO,QACPC,KAAK,KAAM,GAAMrZ,KAAK4mB,OAAOC,KAC7BxN,KAAK,KAAM,KACXA,KAAK,KAAM,KACXA,KAAK,KAAM,GAAMrZ,KAAK4mB,OAAOC,KAC7BxN,KAAK,SAAU,QACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,IAC1B8N,EACG/N,OAAO,QACPC,KAAK,IAAK,GAAMrZ,KAAK4mB,OAAOC,KAC5BxN,KAAK,IAAK,KACVrT,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1BtU,KAAK,iBAIZonB,KAEF,6BACgBriB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAnC,MAEM,MAAE/b,EAAK,OAAE+E,GAAWnQ,KAAKiY,WACzBqhB,EAA2Bt5B,KAAKs5B,yBAChCz3B,EAAc7B,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,MAEpCutB,EAAQ5hB,GAAA,OACT+f,MAAM,CAAC,EAAG7pB,KAAKgW,QACf8T,aAAa,GACb/f,OAAO/J,KAAK8xB,YACXnZ,EAAI7O,GAAA,OACL+f,MAAM,CAAC,EAAG7pB,KAAKgW,MAAQhW,KAAK8xB,WAAWv1B,SACvCutB,aAAa,IACbC,aAAa,GACbhgB,OAAOlI,GACN+W,EAAI9O,GAAA,OACHC,OAAO,CAAC,EAAG/J,KAAK6H,UAAUtL,SAC1BstB,MAAM,CAAE,EAAe,GAAZ7pB,KAAK6Y,SAGjByT,EAAW3T,EAAE2S,YAEbmP,EAAkB,CAACxP,EAAuB6G,EAAoBzb,KAClE,IAAIqkB,EAAiB,GACjBC,EAAqB,GACrBC,EAAY,CAAC,kBAAmB,kBAAmB,kBAAmB,mBAC1EA,EAAUzyB,QAASpK,IACjB,IAAIkhB,EAAe,IAAIjf,KAAK2N,YAAYsd,GAAgBltB,GAAG+zB,GAAYjqB,WACvEoX,EAAc9W,QAAS9L,IACrBs+B,EAAmB99B,KAAKR,GACf,mBAAL0B,GAA+B,mBAALA,GAC5B28B,EAAe79B,KAAKR,OAI1B,IAAIwL,EAAY,IAAI4K,IAAIkoB,GACpBxP,EAAuBlc,GAAapH,EAAWwO,GACnD,OAAOuC,EAAEuS,EAAqBlP,OAG1BqR,EAAe,CAACrC,EAAuB6G,EAAoBzb,KAC/D,IAAIqkB,EAAiB,GACjBC,EAAqB,GACrBC,EAAY,CAAC,kBAAmB,kBAAmB,kBAAmB,mBAC1EA,EAAUzyB,QAASpK,IACjB,IAAIkhB,EAAe,IAAIjf,KAAK2N,YAAYsd,GAAgBltB,GAAG+zB,GAAYjqB,WACvEoX,EAAc9W,QAAS9L,IACrBs+B,EAAmB99B,KAAKR,GACf,mBAAL0B,GAA+B,mBAALA,GAC5B28B,EAAe79B,KAAKR,OAI1B,IAAIwL,EAAY,IAAI4K,IAAIkoB,GACpBxP,EAAuBlc,GAAapH,EAAWwO,GACnD,IAAK,MAAMhN,KAAM8hB,EACf,GAAGnrB,KAAKoB,OAAOC,MAAM+R,cAAgB/J,EAAI,OAAO,EAElD,OAAO,GAGH4O,EAAa,CAAC7M,EAAO+E,GAE3B8H,EAAW9P,QAAQ,CAAColB,EAAejK,KAC5BiK,EAIHvtB,KAAK8xB,WAAW3pB,QAASlK,IACvBq7B,EAAyBr7B,GAAGkK,QAASjK,IACnC,IAAIsvB,EAAuB,CACvB9U,SAAW1Y,KAAKmnB,IAChBxO,EAAI+S,EAAMztB,GAAK0a,EAAEza,EAAE,gBAAkBolB,EAAI,GAAKgJ,EAAW,EACzD1T,EAAkB,GAAd5Y,KAAK6Y,OAAgB4hB,EAAgBv8B,EAAE,cAAeA,EAAE,cAAeqvB,EAAc1lB,WACzFmO,MAAQsW,EAAW,EACnBzT,OAAS4hB,EAAgBv8B,EAAE,cAAeA,EAAE,cAAeqvB,EAAc1lB,WACzEpJ,EAAK6tB,EAAW,EAChBxT,MAAe,GAAPwK,EAAUtjB,KAAKsnB,gBAAkBtnB,KAAKunB,gBAC9CxO,kBAAoB0hB,EAAgBv8B,EAAE,cAAeA,EAAE,cAAeqvB,EAAc1lB,WAAa,GAAK4yB,EAAgBv8B,EAAE,cAAeA,EAAE,cAAeqvB,EAAc1lB,WAA2B,IAAd7H,KAAK6Y,OAAgB,UAAW,SACnNG,GAAK0S,EAAMztB,GAAK0a,EAAEza,EAAE,eAAiBouB,EAAW,GAAMhJ,EAAM,IAAOgJ,EAAW,EAC9ErT,GAAoB,GAAdjZ,KAAK6Y,OAAgByT,EAAW,EACtCpT,eAAgBoK,EAChBnK,QAASmU,EAAapvB,EAAE,cAAeA,EAAE,cAAeqvB,EAAc1lB,WACtEjG,UAAY5B,KAAK7B,MAEnB6B,KAAKoB,OAAOO,SAAS,iBAAiB6rB,QApB5CxtB,KAAKmnB,IAAIkD,UAAU,kBAAkB/G,GAAKjK,KAAK,SAAU,KACzDrZ,KAAKmnB,IAAIkD,UAAU,oBAAoB/G,GAAKjK,KAAK,aAAa,cA0BpE,OACE/R,EACA8O,EACA4a,GAEAlnB,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAMxmB,EAAaD,KACnBC,EAAWE,KAAO1B,EAAK0H,MACvBlG,EAAWI,WAAaA,EAExB,IAAI2X,EAAgB,GAChB4b,EAAkB,CAAC,kBAAmB,kBAAmB,kBAAmB,mBAChFA,EAAgB1yB,QAASH,IACvB,IAAI8yB,EAAqB,IAAI96B,KAAK2N,YAAYrG,GAAYU,GAAMgpB,GAAUnpB,WAC1EizB,EAAmB3yB,QAAS9L,IAC1B4iB,EAAcpiB,KAAKR,OAGvB,MAAMwL,EAAY,IAAI4K,IAAIwM,GAEpBzM,EAAc,mBAAmBlL,iBAA0B0pB,IAC3DzoB,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAQ,IAEJqI,EAAU,CACd3D,cACA3K,YACAU,aAGFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,OChoCkX,MCQva,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAWhC,IAAkB,GAAW,CAACnR,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,OC9BzH,IAAI,GAAS,WAAa,IAAIhuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,qCAAqC,KAAKV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,kBAAkBQ,MAAM,CAAClC,MAAOmB,EAAkB,eAAEgB,SAAS,SAAUC,GAAMjB,EAAIiuB,eAAehtB,GAAKE,WAAW,mBAAmB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,sBAAsB,MAAQ,aAAaH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,uBAAuB,MAAQ,eAAe,IAAI,GAAGH,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,qBAAqBQ,MAAM,CAAClC,MAAOmB,EAAqB,kBAAEgB,SAAS,SAAUC,GAAMjB,EAAIg7B,kBAAkB/5B,GAAKE,WAAW,sBAAsB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,YAAY,MAAQ,WAAWH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,iBAAiB,MAAQ,kBAAkB,IAAI,GAAGH,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,oBAAoBQ,MAAM,CAAClC,MAAOmB,EAAuB,oBAAEgB,SAAS,SAAUC,GAAMjB,EAAI8G,oBAAoB7F,GAAKE,WAAW,wBAAwB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAAS,MAAQ,YAAYH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,WAAW,MAAQ,eAAe,IAAI,MAAM,IAAI,GAAGH,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,aAAaQ,MAAM,CAAClC,MAAOmB,EAAwB,qBAAEgB,SAAS,SAAUC,GAAMjB,EAAIgxB,qBAAqB/vB,GAAKE,WAAW,0BAA0Bf,EAAG,MAAM,CAACO,IAAI,SAAS,IACl0D,GAAkB,GC8DP,UAAIqC,OAAO,CACxB5E,KAAM,+BACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,IAAKC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KACjDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCE,EAAQ,CACZjf,KAAM,GACNV,WAAY,IAER0zB,EAAqB,CACzBhzB,KAAM,GACNqO,UAAW,GACX/O,WAAY,IAIRT,EAAsB,SAE5B,MAAO,CACLsgB,IAAK,GACLtgB,sBACAmnB,eAAe,UACf+M,kBAAmB,QACnBtJ,eAAgB,GAChBN,cAAc,KACdtY,SACAoO,QACA+T,qBACApU,SACAtiB,MAAO,GACP8iB,WAAY,UACZC,gBAAiB,UACjBC,gBAAiB,UACjBC,gBAAiB,UACjBvR,QACAwR,WAAY,UACZC,gBAAiB,UACjBwT,gBAAiB,UACjBC,gBAAiB,UACjBC,cAAe,UACfC,gBAAiB,UACjBC,gBAAiB,UACjBC,cAAe,UACf30B,YAAY,IAAI3G,KAAKuG,SAASqM,SAASrW,SAG3CmrB,SAAU,CACR,qBACE,OAAO1nB,KAAKoB,OAAOC,MAAMyR,oBAE3B,mBACE,OAAO9S,KAAKoB,OAAOC,MAAM0R,kBAE3B,4BACE,MAAqC,cAAjC/S,KAAKoB,OAAOC,MAAMuF,YACb,GAEF5G,KAAKoB,OAAOC,MAAMkQ,0BAA0BnI,IAAKnL,GAAIA,EAAEE,OAEhE,4BACE,GAA0D,GAAtD6B,KAAKoB,OAAOC,MAAMoQ,0BAA0BlV,OAAa,CAC3D,MAAMqC,EAAQpC,OAAO+F,KAAKvC,KAAKoB,OAAOC,MAAM2Q,yBAAyB5I,IAAKnL,IACxE,IAAIwf,EAAazd,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAChE,MAAO,CAAC,KAAQA,EAAI,KAAQwf,EAAU,IAAQ,EAAI,EAAIA,EAAU,KAAMpF,QAAQ,GAAK,KAAQoF,EAAU,IAAO,EAAI,EAAGA,EAAU,KAAOpF,QAAQ,GAAK,OAEnJ,OAAOzZ,EAET,OAAOoB,KAAKoB,OAAOC,MAAMoQ,2BAE3Bsf,qBAAsB,CACpB,MAC4B,OAAtB/wB,KAAKmxB,cACPnxB,KAAKmxB,cAAgB,KAErBnxB,KAAKmxB,cAAgB,OAGzB,MACE,MAA8B,QAAvBnxB,KAAKmxB,gBAGhB,0BACE,OAAOnxB,KAAKuG,SAASqL,yBAEvB,iCACE,OAAO5R,KAAKoB,OAAOC,MAAMwQ,gCAE3B,UAEE,OADA7R,KAAK2G,YAAc,IAAI3G,KAAKuG,SAASqM,SAASrW,OACvC,IAAIyD,KAAKuG,SAASqM,UAE3B,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,8BACE,OAAO+B,KAAKoB,OAAOC,MAAM4Q,6BAE3B,WACE,MAAO,IAAIjS,KAAKuG,SAASgD,WAE3B,YACE,MAAO,IAAIvJ,KAAKuG,SAASsB,YAE3B,iBAEc7H,KAAK4nB,eAEjB,MAOMO,EAAiBnoB,KAAK6B,YAAYlC,QAExC,OAAOwoB,GAET,2BACE,OAAOnoB,KAAKyR,0BAA0BrI,IAAKnL,GAClCA,EAAEE,OAGb,iBACE,MAAO,YAET,0BACE,OAAO6B,KAAKoB,OAAOC,MAAM2Q,yBAE3B,2BACE,IAAIqW,EAA2B,GAQ/B,OAPAroB,KAAK6B,YAAYsG,QAASlK,IACa,cAAjC+B,KAAKoB,OAAOC,MAAMuF,YACpByhB,EAAyBpqB,GAAKA,EAAI,IAAM+B,KAAKgS,wBAAwB/T,GAAG,IAExEoqB,EAAyBpqB,GAAKA,IAG3BoqB,GAET,cAwBE,MAAM1a,EAuBF,GAEJ3N,KAAKyR,0BAA0BtJ,QAASlK,IACtC,IAAIqJ,EAAarJ,EAAEE,KAAKuZ,MAAM,KAAK,GACnC/J,EAAY1P,EAAEE,MAAQ,CACpBA,KAAMF,EAAEE,KACRsf,UAAWjhB,OAAO+F,KAAMvC,KAAKgS,yBAAyB7L,SAASmB,GAAatH,KAAKgS,wBAAwB1K,GAAc,EACvHwf,MAAO,IAAIrU,IACX8oB,YAAa,IAAI9oB,IACjB+oB,YAAa,IAAI/oB,IACjB6V,MAAO,IAAI7V,IACXgpB,YAAa,IAAIhpB,IACjBipB,YAAa,IAAIjpB,IACjBkpB,aAAc,IAAIlpB,IAClBmpB,aAAc,IAAInpB,IAClBopB,UAAW,IAAIppB,IACfqpB,UAAW,IAAIrpB,IACfspB,UAAW,IAAItpB,IACfupB,UAAW,IAAIvpB,IACfwN,SAAS,EACTgc,WAAW,EACXC,WAAW,EACXC,WAAW,EACXC,kBAAkB,EAClBC,kBAAkB,KAItB,MAAMvpB,EAAiD,UAA5B9S,KAAK6G,oBAAkC7G,KAAKoB,OAAOC,MAAMyR,mBAAqB9S,KAAKoB,OAAOC,MAAM0R,iBAGrHupB,EAAa,CACjB,UAAc,iBACd,UAAc,iBACd,UAAc,iBACd,UAAc,iBACd,YAAe,eACf,YAAe,eACf,YAAe,eACf,YAAe,eACf,KAAO,OACP,KAAO,OACP,KAAO,OACP,KAAO,OACP,GAAK,KACL,GAAK,KACL,GAAK,KACL,GAAK,MAmHP,OAjHAt8B,KAAKyR,0BAA0BtJ,QAASlK,IACtC,IAAIqJ,EAAarJ,EAAEE,KAAKuZ,MAAM,KAAK,GAC/Bia,EAAYla,WAAWxZ,EAAEE,KAAKqf,UAAUvf,EAAEE,KAAK5B,OAAO,GAAI0B,EAAEE,KAAK5B,OAAO,IAAI8b,QAAQ,GACpFuZ,EAAana,WAAWxZ,EAAEE,KAAKqf,UAAUvf,EAAEE,KAAK5B,OAAO,EAAG0B,EAAEE,KAAK5B,OAAO,IAAI8b,QAAQ,GACpFiI,GAAkB7I,WAAWma,GAAcna,WAAWka,IAAc,EACxE,GAAIA,GAAa7e,EAAmBxL,GAAY,iBAAiB+Q,QAAQ,IAAMuZ,GAAc9e,EAAmBxL,GAAY,kBAAkB+Q,QAAQ,GAAI,CACxJ1K,EAAY1P,EAAEE,MAAMsf,UAAY6C,EAChC,IAAK,IAAIphB,KAAOo9B,EACd3uB,EAAY1P,EAAEE,MAAMe,GAAO4T,EAAmBxL,GAAYg1B,EAAWp9B,IAEvEyO,EAAY1P,EAAEE,MAAM,cAAgB2U,EAAmBxL,GAAY,MAAQwL,EAAmBxL,GAAY,MAC1GqG,EAAY1P,EAAEE,MAAM,cAAgB2U,EAAmBxL,GAAY,MAAQwL,EAAmBxL,GAAY,MAC1GqG,EAAY1P,EAAEE,MAAM,qBAAuB2U,EAAmBxL,GAAY,QAAUwL,EAAmBxL,GAAY,QACnHqG,EAAY1P,EAAEE,MAAM,qBAAuB2U,EAAmBxL,GAAY,QAAUwL,EAAmBxL,GAAY,YAE9G,CAmCL,GAlCAtH,KAAK6H,UAAUM,QAASkB,IACtB,MAAMhN,EAAIiN,GAAaD,GACjBqE,EAASrR,EAAEqR,QAAU1N,KAAK4S,QAAQ,GAAK,EAAI,EAC3CuO,EAAe9kB,EAAE+gB,uBAAuB9V,GAC1C6Z,EAAeyQ,GAAczQ,EAAewQ,EAChC,GAAVjkB,EACEyT,EAAexT,EAAY1P,EAAEE,MAAMsf,UACrC9P,EAAY1P,EAAEE,MAAM29B,UAAU1a,IAAI/X,GAElCsE,EAAY1P,EAAEE,MAAM49B,UAAU3a,IAAI/X,GAGhC8X,GAAgBxT,EAAY1P,EAAEE,MAAMsf,UACtC9P,EAAY1P,EAAEE,MAAM09B,UAAUza,IAAI/X,GAElCsE,EAAY1P,EAAEE,MAAM69B,UAAU5a,IAAI/X,GAIxB,GAAVqE,EACEyT,EAAewQ,EACjBhkB,EAAY1P,EAAEE,MAAMs9B,YAAYra,IAAI/X,GAEpCsE,EAAY1P,EAAEE,MAAMu9B,YAAYta,IAAI/X,GAGlC8X,GAAgByQ,EAClBjkB,EAAY1P,EAAEE,MAAMq9B,YAAYpa,IAAI/X,GAEpCsE,EAAY1P,EAAEE,MAAMo9B,YAAYna,IAAI/X,KAKZ,UAA5BrJ,KAAK6G,oBACP8G,EAAY1P,EAAEE,MAAM,QAAUwP,EAAY1P,EAAEE,MAAM,aAAa8d,KAC/DtO,EAAY1P,EAAEE,MAAM,QAAUwP,EAAY1P,EAAEE,MAAM,aAAa8d,KAC/DtO,EAAY1P,EAAEE,MAAM,QAAUwP,EAAY1P,EAAEE,MAAM,aAAa8d,KAC/DtO,EAAY1P,EAAEE,MAAM,QAAUwP,EAAY1P,EAAEE,MAAM,aAAa8d,KAC/DtO,EAAY1P,EAAEE,MAAM,MAAQwP,EAAY1P,EAAEE,MAAM,eAAe8d,KAC/DtO,EAAY1P,EAAEE,MAAM,MAAQwP,EAAY1P,EAAEE,MAAM,eAAe8d,KAC/DtO,EAAY1P,EAAEE,MAAM,MAAQwP,EAAY1P,EAAEE,MAAM,eAAe8d,KAC/DtO,EAAY1P,EAAEE,MAAM,MAAQwP,EAAY1P,EAAEE,MAAM,eAAe8d,SAC1D,CACL,IAAI+C,EAAkB,GAClB7L,EAAoBnT,KAAKoB,OAAOC,MAAM8R,iBACtC4L,EAA0B,CAC5B,CAAC,cAAe,MAChB,CAAC,cAAe,MAChB,CAAC,cAAe,MAChB,CAAC,cAAe,MAChB,CAAC,YAAa,QACd,CAAC,YAAa,QACd,CAAC,YAAa,QACd,CAAC,YAAa,SAGhB/e,KAAK6H,UAAUM,QAASlK,IACtB+gB,EAAgB/gB,GAAK,IAGvBkV,EAAiBhL,QAASxK,IACxB,IAAIshB,EAAgB,IAAIthB,EAAEkK,WACtB8K,EAAS8E,WAAY9Z,EAAQ,OAAEya,YACnC6G,EAAc9W,QAAS9L,IACrB2iB,EAAgB3iB,IAAMsW,MAG1BoM,EAAsB5W,QAAS+W,IAC7B,IAAIC,EAAgB,IAAIxR,EAAY1P,EAAEE,MAAM+gB,EAAQ,KAChDE,EAAYF,EAAQ,GACpBG,EAAQ,EACZF,EAAchX,QAAS9L,IACrBgjB,GAASL,EAAgB3iB,KAE3BsR,EAAY1P,EAAEE,MAAMihB,GAAaC,IAGrC1R,EAAY1P,EAAEE,MAAM,cAAgBwP,EAAY1P,EAAEE,MAAM,MAAQwP,EAAY1P,EAAEE,MAAM,MACpFwP,EAAY1P,EAAEE,MAAM,cAAgBwP,EAAY1P,EAAEE,MAAM,MAAQwP,EAAY1P,EAAEE,MAAM,MACpFwP,EAAY1P,EAAEE,MAAM,qBAAuBwP,EAAY1P,EAAEE,MAAM,QAAUwP,EAAY1P,EAAEE,MAAM,QAC7FwP,EAAY1P,EAAEE,MAAM,qBAAuBwP,EAAY1P,EAAEE,MAAM,QAAUwP,EAAY1P,EAAEE,MAAM,QAG/FwP,EAAY1P,EAAEE,MAAM,gBAAkB,IAAIsU,IAAI,IAAI9E,EAAY1P,EAAEE,MAAM,gBAAiBwP,EAAY1P,EAAEE,MAAM,eAC3GwP,EAAY1P,EAAEE,MAAM,gBAAkB,IAAIsU,IAAI,IAAI9E,EAAY1P,EAAEE,MAAM,gBAAiBwP,EAAY1P,EAAEE,MAAM,eAC3GwP,EAAY1P,EAAEE,MAAM,SAAW,IAAIsU,IAAI,IAAI9E,EAAY1P,EAAEE,MAAM,kBAAmBwP,EAAY1P,EAAEE,MAAM,iBACtGwP,EAAY1P,EAAEE,MAAM,SAAW,IAAIsU,IAAI,IAAI9E,EAAY1P,EAAEE,MAAM,kBAAmBwP,EAAY1P,EAAEE,MAAM,iBACtGwP,EAAY1P,EAAEE,MAAM,cAAiBwP,EAAY1P,EAAEE,MAAM,cAAiBwP,EAAY1P,EAAEE,MAAM,cAChEwP,EAAY1P,EAAEE,MAAM,qBAAuBwP,EAAY1P,EAAEE,MAAM,uBAG/F6B,KAAKyR,0BAA0BtJ,QAASlK,IACtC0P,EAAY1P,EAAEE,MAAM8hB,SAAYtS,EAAY1P,EAAEE,MAAM+9B,YAAcvuB,EAAY1P,EAAEE,MAAM+9B,WAAavuB,EAAY1P,EAAEE,MAAMg+B,cAIlHxuB,GAET,aAIE,OAAO3N,KAAKoB,OAAOC,MAAM8J,mBAE3B,cAAsB,OAAQnL,KAAKoB,OAAOC,MAAM+R,aAChD,mBAA2B,OAAQpT,KAAKoB,OAAOC,MAAMiS,kBACrD,IACE,MAAMqF,EAAI7O,GAAA,OACPC,OAAO/J,KAAKooB,0BACZyB,MAAM,CAAC,EAAc,GAAX7pB,KAAKgW,QACf8T,aAAa,GACbC,aAAa,IAChB,OAAOpR,GAET,IACE,MAAMC,EAAI9O,GAAA,OACPC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,GAET,SACE,MAAM2jB,EAASzyB,GAAA,OACVC,OAAO,CAAC,EAAG,MACX8f,MAAM,CAAC,GAAI,MACX2S,OAAM,GACX,OAAOD,GAET,SACE,MAAMjJ,EAASxpB,GAAA,OACR+f,MAAM,CAAE7pB,KAAK6Y,OAAO7Y,KAAK4mB,OAAOG,OAAS,IACzCsM,QAAQ,IAAKtpB,OAAO/J,KAAKmoB,gBAChC,OAAOmL,GAET,aACE,OAAOtzB,KAAKoB,OAAOC,MAAMmP,YAE3B,eACE,OAAOxQ,KAAKoB,OAAOC,MAAMoP,eAG7BuZ,MAAO,CACL,eACE,IAAIpZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,gCAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKguB,eAAiBpvB,EAAMyX,UAC5BrW,KAAK+6B,kBAAoBn8B,EAAMkyB,gBAIrC9wB,KAAKiqB,eAEP,aACE,IAAIpV,EAAS,CAAC,KAAO,+BACP,OAAU,CACR,UAAY7U,KAAKguB,eACjB,aAAehuB,KAAK+6B,oBACpC/6B,KAAKoB,OAAOO,SAAS,oBAAoBkT,IAE3C,sBACE7U,KAAKiqB,eAEP,4BACEjqB,KAAKiqB,eAEP,iBACkC,YAA5BjqB,KAAK6G,qBAA4D,YAAvB7G,KAAKguB,iBACjDhuB,KAAK6G,oBAAsB,UAE7B7G,KAAKiqB,eAEP,mBACkC,YAA5BjqB,KAAK6G,qBACP7G,KAAKiqB,eAGT,oBACEjqB,KAAKiqB,eAEP,qBACEjqB,KAAKy8B,0BAEP,gBAC4B,OAAtBz8B,KAAKmxB,cACPnxB,KAAK08B,oBAEL18B,KAAKiqB,eAGT,kBACEjqB,KAAKiqB,eAEP,sBACEjqB,KAAKiqB,eAEP,QACEjqB,KAAKkqB,aAEP,YACElqB,KAAKiqB,eAEP,aAC4B,OAAtBjqB,KAAKmxB,cACPnxB,KAAK08B,oBAEL18B,KAAKiqB,eAGT,cACEjqB,KAAKiqB,eAEP,mBACEjqB,KAAKiqB,gBAGT,UACE,IAAIrZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,gCAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKguB,eAAiBpvB,EAAMyX,UAC5BrW,KAAK+6B,kBAAoBn8B,EAAMkyB,gBAIrC9wB,KAAKiqB,eAEP/mB,QAAS,CACP,aACElD,KAAKinB,MAAQ,CAAEjf,KAAM,GAAI20B,SAAS,GAAIr1B,WAAY,KAEpD,0BACEtH,KAAKg7B,mBAAqB,CAAEhzB,KAAM,GAAIV,WAAY,KAEpD,YAEE,MAAM6iB,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BiD,EAAYD,EAAME,UAAU,oBAC5BC,EAAYH,EAAME,UAAU,oBAC5BuS,EAAiBzS,EAAME,UAAU,oBACjCwS,EAAiB1S,EAAME,UAAU,oBACjCyS,EAAgB3S,EAAME,UAAU,mBAChC0S,EAAkB5S,EAAMK,OAAO,uBAC/BwS,EAAmB7S,EAAMK,OAAO,yBAChCyS,EAAmB9S,EAAMK,OAAO,yBAChC0S,EAAmB/S,EAAMK,OAAO,yBAChC2S,EAAmBhT,EAAMK,OAAO,yBAChC4S,EAAmBjT,EAAMK,OAAO,yBAChC6S,EAAmBlT,EAAMK,OAAO,yBAChC8S,EAAmBnT,EAAMK,OAAO,yBAChC+S,EAAmBpT,EAAMK,OAAO,yBAChCgT,EAAmBrT,EAAMK,OAAO,yBAChCiT,EAAqBtT,EAAMK,OAAO,4BAClCkT,EAAqBvT,EAAMK,OAAO,4BAClCmT,EAAqBxT,EAAMK,OAAO,4BAClCoT,EAAqBzT,EAAMK,OAAO,4BAClCqT,EAAqB1T,EAAMK,OAAO,4BAClCsT,EAAqB3T,EAAMK,OAAO,4BAClCuT,EAAqB5T,EAAMK,OAAO,4BAClCwT,EAAqB7T,EAAMK,OAAO,4BAClCyT,EAAqB9T,EAAMK,OAAO,4BAClC0T,EAAqB/T,EAAMK,OAAO,6BAClC,MAAEpf,EAAK,OAAE+E,GAAWnQ,KAAKiY,WACzBtK,EAAc3N,KAAK2N,YAEnBqd,EAAY,CAACC,EAAuBC,EAAoB7U,KAC5D,IAAIxO,EAAY8F,EAAYsd,GAAgBC,GAC1B,UAAdA,IACFrjB,EAAY,IAAI4K,IAAI,IAAI9E,EAAYsd,GAAgB,mBAAmBtd,EAAYsd,GAAgB,mBAErG,IAAIiC,EAAiB,EACrBA,EAAiBvf,EAAYsd,GAAgBgR,WAC7C,MAAM9Q,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2BhC,EAAqBlP,KAAOiR,EAAiB,IAC9E,OAAOC,EAAyB9U,QAAQ,IAGlB,gBAApBrY,KAAKinB,MAAMjf,MAAkD,IAAxBhI,KAAKinB,MAAM5Q,UAClD+T,EAAUruB,KAAKiE,KAAKooB,0BACjB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKinB,MAAM3f,WACbtH,KAAKqnB,gBACLrnB,KAAKonB,YAEc,WAAvBpnB,KAAKguB,gBACP5D,EAAU/Q,KAAK,OAAQrZ,KAAKonB,YAGR,gBAApBpnB,KAAKinB,MAAMjf,MAAkD,IAAxBhI,KAAKinB,MAAM5Q,UAClDiU,EAAUvuB,KAAKiE,KAAKooB,0BACjB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKinB,MAAM3f,WACbtH,KAAKqnB,gBACLrnB,KAAKonB,YAEc,WAAvBpnB,KAAKguB,gBACP1D,EAAUjR,KAAK,OAAQrZ,KAAKonB,YAGR,gBAApBpnB,KAAKinB,MAAMjf,MAAkD,IAAxBhI,KAAKinB,MAAM5Q,UAClDwmB,EAAe9gC,KAAKiE,KAAKooB,0BACtB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKinB,MAAM3f,WACbtH,KAAKynB,gBACLznB,KAAKwnB,YAEc,WAAvBxnB,KAAKguB,gBACP6O,EAAexjB,KAAK,OAAQrZ,KAAKwnB,YAGb,gBAApBxnB,KAAKinB,MAAMjf,MAAkD,IAAxBhI,KAAKinB,MAAM5Q,UACjDumB,EAAe7gC,KAAKiE,KAAKooB,0BACvB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKinB,MAAM3f,WACbtH,KAAKynB,gBACLznB,KAAKwnB,YAEc,WAAvBxnB,KAAKguB,gBACP4O,EAAevjB,KAAK,OAAQrZ,KAAKwnB,YAGb,eAApBxnB,KAAKinB,MAAMjf,MAAiD,IAAxBhI,KAAKinB,MAAM5Q,UACjDymB,EAAc/gC,KAAKiE,KAAKooB,0BACrB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKinB,MAAM3f,WACb,OACA,aAEmB,WAAvBtH,KAAKguB,gBACP8O,EAAczjB,KAAK,OAAO,aAI9B,MAAMyR,EAAe,IACfC,EAAoB,IACtB/qB,KAAKinB,MAAMjf,MACX+0B,EACG3R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GAC1B2jB,EACG5R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KACJrZ,KAAK4Y,EAAEjL,EAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAKlS,EAAY3N,KAAKinB,MAAM3f,YAAY20B,aACnF5iB,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMrZ,KAAK4Y,EAAEjL,EAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAKlS,EAAY3N,KAAKinB,MAAM3f,YAAY20B,aAChGgB,EACG7R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAgC,eAA1BrZ,KAAK+6B,kBACf/6B,KAAK4Y,GAAGjL,EAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAGlS,EAAY3N,KAAKinB,MAAM3f,YAAYoY,IAAM/R,EAAY3N,KAAKinB,MAAM3f,YAAY20B,YACzHj8B,KAAK4Y,GAAGjL,EAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAGlS,EAAY3N,KAAKinB,MAAM3f,YAAY7G,IAAMkN,EAAY3N,KAAKinB,MAAM3f,YAAY20B,aAC5H5iB,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAgC,eAA1BrZ,KAAK+6B,kBACf/6B,KAAK4Y,GAAGjL,EAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAGlS,EAAY3N,KAAKinB,MAAM3f,YAAYoY,IAAM/R,EAAY3N,KAAKinB,MAAM3f,YAAY20B,YACzHj8B,KAAK4Y,GAAGjL,EAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAGlS,EAAY3N,KAAKinB,MAAM3f,YAAY7G,IAAMkN,EAAY3N,KAAKinB,MAAM3f,YAAY20B,aAC/HiB,EACG9R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAiC,eAA1BrZ,KAAK+6B,kBAChB/6B,KAAK4Y,GAAGjL,EAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAGlS,EAAY3N,KAAKinB,MAAM3f,YAAYoY,GAAG/R,EAAY3N,KAAKinB,MAAM3f,YAAY+0B,kBAAkB1uB,EAAY3N,KAAKinB,MAAM3f,YAAY80B,mBAAqBzuB,EAAY3N,KAAKinB,MAAM3f,YAAY20B,YACnOj8B,KAAK4Y,GAAGjL,EAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAGlS,EAAY3N,KAAKinB,MAAM3f,YAAY7G,GAAGkN,EAAY3N,KAAKinB,MAAM3f,YAAY+0B,kBAAkB1uB,EAAY3N,KAAKinB,MAAM3f,YAAY80B,mBAAqBzuB,EAAY3N,KAAKinB,MAAM3f,YAAY20B,aACtO5iB,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAiC,eAA1BrZ,KAAK+6B,kBAChB/6B,KAAK4Y,GAAGjL,EAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAGlS,EAAY3N,KAAKinB,MAAM3f,YAAYoY,GAAG/R,EAAY3N,KAAKinB,MAAM3f,YAAY+0B,kBAAkB1uB,EAAY3N,KAAKinB,MAAM3f,YAAY80B,mBAAqBzuB,EAAY3N,KAAKinB,MAAM3f,YAAY20B,YACnOj8B,KAAK4Y,GAAGjL,EAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAGlS,EAAY3N,KAAKinB,MAAM3f,YAAY7G,GAAGkN,EAAY3N,KAAKinB,MAAM3f,YAAY+0B,kBAAkB1uB,EAAY3N,KAAKinB,MAAM3f,YAAY80B,mBAAqBzuB,EAAY3N,KAAKinB,MAAM3f,YAAY20B,aACzOkB,EACG/R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAMrZ,KAAK6Y,OAAS7Y,KAAK4Y,EAAGjL,EAAY3N,KAAKinB,MAAM3f,YAAc,GAAIqG,EAAY3N,KAAKinB,MAAM3f,YAAY20B,aAC7G5iB,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMrZ,KAAK6Y,OAAS7Y,KAAK4Y,EAAGjL,EAAY3N,KAAKinB,MAAM3f,YAAc,GAAIqG,EAAY3N,KAAKinB,MAAM3f,YAAY20B,aAEhHmB,EACGhS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAW4I,EAAY3N,KAAKinB,MAAM3f,YAAYiY,GAAK5R,EAAY3N,KAAKinB,MAAM3f,YAAY20B,WAAa,KAAK5jB,QAAQ,GAAzG,KACfglB,EACKjS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAA+B,eAA1B/E,KAAK+6B,kBACT,QAAWptB,EAAY3N,KAAKinB,MAAM3f,YAAY7G,GAAKkN,EAAY3N,KAAKinB,MAAM3f,YAAY20B,WAAa,KAAK5jB,QAAQ,GAAzG,IACN,QAAW1K,EAAY3N,KAAKinB,MAAM3f,YAAYoY,GAAK/R,EAAY3N,KAAKinB,MAAM3f,YAAY20B,WAAa,KAAK5jB,QAAQ,GAAzG,KACdilB,EACKlS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAM,QAAW4I,EAAY3N,KAAKinB,MAAM3f,YAAY80B,kBAAkBzuB,EAAY3N,KAAKinB,MAAM3f,YAAY+0B,mBAAqB1uB,EAAY3N,KAAKinB,MAAM3f,YAAY20B,WAAa,KAAK5jB,QAAQ,GAA/K,KACjBklB,EACGnS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAA+B,eAA1B/E,KAAK+6B,kBACT,QAAWptB,EAAY3N,KAAKinB,MAAM3f,YAAYoY,GAAK/R,EAAY3N,KAAKinB,MAAM3f,YAAY20B,WAAa,KAAK5jB,QAAQ,GAAzG,IACN,QAAW1K,EAAY3N,KAAKinB,MAAM3f,YAAY7G,GAAKkN,EAAY3N,KAAKinB,MAAM3f,YAAY20B,WAAa,KAAK5jB,QAAQ,GAAzG,KACZmlB,EACKpS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAW4I,EAAY3N,KAAKinB,MAAM3f,YAAYuY,GAAKlS,EAAY3N,KAAKinB,MAAM3f,YAAY20B,WAAa,KAAK5jB,QAAQ,GAAzG,KAEbjN,IACFqyB,EACCrS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe8D,EAAMvD,YACtE61B,EACKtS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAA+B,eAA1B/E,KAAK+6B,kBACT,QAAQ/P,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe8D,EAAMvD,WAC7D,QAAQmjB,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe8D,EAAMvD,YACrE81B,EACKvS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKinB,MAAM3f,WAAY,SAAU8D,EAAMvD,YACnE+1B,EACGxS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAA+B,eAA1B/E,KAAK+6B,kBACT,QAAQ/P,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe8D,EAAMvD,WAC7D,QAAQmjB,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe8D,EAAMvD,YACnEg2B,EACKzS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe8D,EAAMvD,aAEpEsI,IACF2tB,EACC1S,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe6I,EAAOtI,YACvEk2B,EACK3S,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAA+B,eAA1B/E,KAAK+6B,kBACT,QAAQ/P,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe6I,EAAOtI,WAC9D,QAAQmjB,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe6I,EAAOtI,YACtEm2B,EACK5S,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKinB,MAAM3f,WAAY,SAAU6I,EAAOtI,YACpEo2B,EACG7S,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAA+B,eAA1B/E,KAAK+6B,kBACT,QAAQ/P,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe6I,EAAOtI,WAC9D,QAAQmjB,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe6I,EAAOtI,YACpEq2B,EACK9S,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKinB,MAAM3f,WAAY,cAAe6I,EAAOtI,eAK3Ek1B,EACK3R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GAC5B2jB,EACG5R,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1B4jB,EACG7R,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1B6jB,EACG9R,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1B8jB,EACG/R,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1B+jB,EACGhS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBgkB,EACGjS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBikB,EACGlS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBkkB,EACGnS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBmkB,EACGpS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBokB,EACGrS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBqkB,EACGtS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBskB,EACGvS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBukB,EACGxS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBwkB,EACGzS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBykB,EACG1S,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxB0kB,EACG3S,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxB2kB,EACG5S,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxB4kB,EACG7S,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxB6kB,EACG9S,aACAC,SAASN,GACT1R,KAAK,eAAgB,KAG5B,yBACE,MAAM8Q,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BiD,EAAYD,EAAME,UAAU,yBAC5BC,EAAYH,EAAME,UAAU,yBAC5BuS,EAAiBzS,EAAME,UAAU,yBACjCwS,EAAiB1S,EAAME,UAAU,yBACjCyS,EAAgB3S,EAAME,UAAU,wBAChC0S,EAAkB5S,EAAMK,OAAO,4BAC/BwS,EAAmB7S,EAAMK,OAAO,8BAChCyS,EAAmB9S,EAAMK,OAAO,8BAChC0S,EAAmB/S,EAAMK,OAAO,8BAChC2S,EAAmBhT,EAAMK,OAAO,8BAChC4S,EAAmBjT,EAAMK,OAAO,8BAChC6S,EAAmBlT,EAAMK,OAAO,8BAChC8S,EAAmBnT,EAAMK,OAAO,8BAChC+S,EAAmBpT,EAAMK,OAAO,8BAChCgT,EAAmBrT,EAAMK,OAAO,8BAChCiT,EAAqBtT,EAAMK,OAAO,iCAClCkT,EAAqBvT,EAAMK,OAAO,iCAClCmT,EAAqBxT,EAAMK,OAAO,iCAClCoT,EAAqBzT,EAAMK,OAAO,iCAClCqT,EAAqB1T,EAAMK,OAAO,iCAClCsT,EAAqB3T,EAAMK,OAAO,iCAClCuT,EAAqB5T,EAAMK,OAAO,iCAClCwT,EAAqB7T,EAAMK,OAAO,iCAClCyT,EAAqB9T,EAAMK,OAAO,iCAClC0T,EAAqB/T,EAAMK,OAAO,kCAClC,MAAEpf,EAAK,OAAE+E,GAAWnQ,KAAKiY,WACzBtK,EAAc3N,KAAK2N,YAEnBqd,EAAY,CAACC,EAAuBC,EAAoB7U,KAC5D,IAAIxO,EAAY8F,EAAYsd,GAAgBC,GAC1B,UAAdA,IACFrjB,EAAY,IAAI4K,IAAI,IAAI9E,EAAYsd,GAAgB,mBAAmBtd,EAAYsd,GAAgB,mBAGpFtd,EAAYsd,GAAgBgR,WAC7C,MAAM9Q,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA6C,GAAlBtlB,EAAUoU,KAAW,EAAGkP,EAAqBlP,KAAOpU,EAAUoU,KAAO,IACtG,OAAOkR,EAAyB9U,QAAQ,IAGL,gBAAjCrY,KAAKg7B,mBAAmBhzB,KAC1BoiB,EAAUruB,KAAKiE,KAAKooB,0BACjB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKg7B,mBAAmB1zB,WAC1BtH,KAAKqnB,gBACLrnB,KAAKonB,YAEbgD,EAAU/Q,KAAK,OAAQrZ,KAAKonB,YAGO,gBAAjCpnB,KAAKg7B,mBAAmBhzB,KAC1BsiB,EAAUvuB,KAAKiE,KAAKooB,0BACjB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKg7B,mBAAmB1zB,WAC1BtH,KAAKqnB,gBACLrnB,KAAKonB,YAEbkD,EAAUjR,KAAK,OAAQrZ,KAAKonB,YAGO,gBAAjCpnB,KAAKg7B,mBAAmBhzB,KAC1B60B,EAAe9gC,KAAKiE,KAAKooB,0BACtB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKg7B,mBAAmB1zB,WAC1BtH,KAAKynB,gBACLznB,KAAKwnB,YAEbqV,EAAexjB,KAAK,OAAQrZ,KAAKwnB,YAGE,gBAAjCxnB,KAAKg7B,mBAAmBhzB,KACzB40B,EAAe7gC,KAAKiE,KAAKooB,0BACvB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKg7B,mBAAmB1zB,WAC1BtH,KAAKynB,gBACLznB,KAAKwnB,YAEZoV,EAAevjB,KAAK,OAAQrZ,KAAKwnB,YAGC,eAAjCxnB,KAAKg7B,mBAAmBhzB,KAC1B80B,EAAc/gC,KAAKiE,KAAKooB,0BACrB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKg7B,mBAAmB1zB,WAC1B,OACA,aAERw1B,EAAczjB,KAAK,OAAO,aAI5B,MAAMyR,EAAe,IACfC,EAAoB,IACtB/qB,KAAKg7B,mBAAmBhzB,MACxB+0B,EACG3R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GAC1B2jB,EACG5R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAOrZ,KAAK4Y,EAAE,KACnBS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMrZ,KAAK4Y,EAAE,KACrBqkB,EACG7R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAMrZ,KAAK4Y,EAAE,KAClBS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMrZ,KAAK4Y,EAAE,KAErBskB,EACG9R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAOrZ,KAAK4Y,EAAE,KACnBS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAOrZ,KAAK4Y,EAAE,KACtBukB,EACG/R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAOrZ,KAAK4Y,EAAE,KACnBS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAOrZ,KAAK4Y,EAAE,KAEtBwkB,EACGhS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,WACRs4B,EACKjS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAA+B,eAA1B/E,KAAK+6B,kBAAqC,UAAY,WAEhEuC,EACKlS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,kBACVw4B,EACGnS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAA+B,eAA1B/E,KAAK+6B,kBAAqC,UAAY,WAC9DyC,EACKpS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,WAENqG,IACFqyB,EACCrS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKg7B,mBAAmB1zB,WAAY,cAAe8D,EAAMvD,YACnF61B,EACKtS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKg7B,mBAAmB1zB,WAAY,cAAe8D,EAAMvD,YACrF81B,EACKvS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKg7B,mBAAmB1zB,WAAY,SAAU8D,EAAMvD,YAChF+1B,EACGxS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKg7B,mBAAmB1zB,WAAY,cAAe8D,EAAMvD,YACnFg2B,EACKzS,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKg7B,mBAAmB1zB,WAAY,cAAe8D,EAAMvD,aAEjFsI,IACF2tB,EACC1S,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKg7B,mBAAmB1zB,WAAY,cAAe6I,EAAOtI,YACpFk2B,EACK3S,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKg7B,mBAAmB1zB,WAAY,cAAe6I,EAAOtI,YACtFm2B,EACK5S,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKg7B,mBAAmB1zB,WAAY,SAAU6I,EAAOtI,YACjFo2B,EACG7S,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKg7B,mBAAmB1zB,WAAY,cAAe6I,EAAOtI,YACpFq2B,EACK9S,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK,QAAQimB,EAAUhrB,KAAKg7B,mBAAmB1zB,WAAY,cAAe6I,EAAOtI,eAKxFk1B,EACK3R,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GAC5B2jB,EACG5R,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1B4jB,EACG7R,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1B6jB,EACG9R,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1B8jB,EACG/R,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1B+jB,EACGhS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBgkB,EACGjS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBikB,EACGlS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBkkB,EACGnS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBmkB,EACGpS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBokB,EACGrS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBqkB,EACGtS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBskB,EACGvS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBukB,EACGxS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBwkB,EACGzS,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBykB,EACG1S,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxB0kB,EACG3S,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxB2kB,EACG5S,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxB4kB,EACG7S,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxB6kB,EACG9S,aACAC,SAASN,GACT1R,KAAK,eAAgB,KAG5B,oBACEvP,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SACzC,MAAM5S,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EACTsc,EAASprB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC7CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACZrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBACQ,KAApD9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,WAC7CI,EAAM+N,EAAO9b,OAAO,KACrBC,KAAK,YAAa,aAA8B,IAAjBrZ,KAAK4mB,OAAOI,SAA6B,IAAhBhnB,KAAK4mB,OAAOC,QAGnE4E,EAAW,KACf,MAAMC,EAASC,GAAWA,EACvBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAc6O,GACXiT,cAAc,IAGrBzE,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SAEvB,MAAMwS,EAASF,GAAWA,EACvBhvB,KAAKmN,GAAA,KAAY8O,GACfkT,MAAM,GACNC,WAAWjiB,GAAA,KAAU,SAG1Bqd,EAAI/N,OAAO,KACRzc,KAAKkvB,GACLxS,KAAK,YAAa,KAEvBoS,IAEA,MAAMO,EAAa,KAEjB7E,EAAI/N,OAAO,QACRC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,GACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,yBACRoiB,EAAI/N,OAAO,QACRC,KAAK,IAAkB,GAAbrZ,KAAKgW,OACfqD,KAAK,KAAM,KACXA,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAM,0BAEXinB,IAEA,MAAMG,EAAa,KACjB,MAAMnW,EAAQhW,KAAKgW,MAAQ,EACrB6C,EAAS7Y,KAAK4mB,OAAOC,IAAM,EAG3BrF,EAAS1X,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACjCqD,OAAO,OACPpR,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YAAa,6BACfrZ,KAAK4mB,OAAOI,KAAoB,GAAbhnB,KAAKgW,yBACxB6C,EAAS,MAEjB2I,EAAOpI,OAAO,QACXC,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAQrZ,KAAKonB,YAClBphB,MAAM,aAAc,WAGvBwb,EAAOpI,OAAO,QACXC,KAAK,IAAKR,EAAS,GACnBQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAOrZ,KAAKwnB,YACjBxhB,MAAM,aAAc,WAEvBwb,EAAOpI,OAAO,QACXC,KAAK,IAAKR,GACVQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAO,aACZrT,MAAM,aAAc,WAEvBwb,EAAOpI,OAAO,QACbC,KAAK,IAAY,IAAPR,GACRQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAQrZ,KAAKonB,YAClBphB,MAAM,aAAc,WAGvBwb,EAAOpI,OAAO,QACXC,KAAK,IAAa,EAARR,GACVQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAQrZ,KAAKwnB,YAClBxhB,MAAM,aAAc,WAGvBwb,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAM6C,EAAS,MACtDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MACNiB,MAAM,aAAe,WAExBwb,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAe,EAAT6C,EAAa,MAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MACNiB,MAAM,aAAc,WAEvBwb,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAe,EAAT6C,EAAa,MAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,aACNiB,MAAM,aAAc,WACtBwb,EAAOpI,OAAO,QACZC,KAAK,YAAa,aAAarD,EAAQ,MAAe,EAAT6C,EAAa,MAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MACNiB,MAAM,aAAc,WAEvBwb,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAe,EAAT6C,EAAa,MAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MACNiB,MAAM,aAAc,YAEzBmmB,IAEA,MAAMC,EAAW,KACf,MAAM1T,EAAWyO,EAAIkD,UAAU,SAC5BtuB,KAAKiE,KAAKooB,0BACViE,KAAK,KACHhT,KAAK,QAAS,QACdA,KAAK,aAAa,SAAUnb,GAC3B,MAAO,aAAaya,EAAEza,YAE5B8B,KAAKmnB,IAAMA,EAEX,MAAMmF,EAAW3T,EAAE2S,YAEnB5S,EAASU,OAAO,QACXC,KAAK,QAAS,wBACdA,KAAK,IAAMnb,GAAc0a,EAAE,IAC3BS,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAAS,GAC5CQ,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKg7B,mBAAqB,CAAEhzB,KAAM,cAAeV,WAAYpJ,IAC7FyC,GAAG,aAAcX,KAAKm+B,yBACtBx9B,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAGpEwa,EAASU,OAAO,QACXC,KAAK,QAAS,wBACdA,KAAK,IAAMnb,GAAc8B,KAAK6Y,OAAS,GACvCQ,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAAS,GAC5CQ,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKg7B,mBAAqB,CAAEhzB,KAAM,cAAeV,WAAYpJ,IAC7FyC,GAAG,aAAcX,KAAKm+B,yBACtBx9B,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAIpEwa,EAASU,OAAO,QACXC,KAAK,QAAS,uBACdA,KAAK,IAAMnb,GAAc8B,KAAK6Y,OAAS,EAAI,GAC3CQ,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAAS,GAC5CQ,KAAK,OAAQ,aACbA,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKg7B,mBAAqB,CAAEhzB,KAAM,aAAcV,WAAYpJ,IAC5FyC,GAAG,aAAcX,KAAKm+B,yBACtBx9B,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,UACxDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,WAGnEwa,EAASU,OAAO,QACbC,KAAK,QAAS,wBACdA,KAAK,IAAMnb,GAAa8B,KAAK6Y,OAAS,EAAI,GAC1CQ,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAAS,GAC5CQ,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKg7B,mBAAqB,CAAEhzB,KAAM,cAAeV,WAAYpJ,IAC7FyC,GAAG,aAAcX,KAAKm+B,yBACtBx9B,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAIlEwa,EAASU,OAAO,QACbC,KAAK,QAAS,wBACdA,KAAK,IAAMnb,GAAa8B,KAAK6Y,OAAS,EAAI,GAC1CQ,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAAS,GAC5CQ,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKg7B,mBAAqB,CAAEhzB,KAAM,cAAeV,WAAYpJ,IAC7FyC,GAAG,aAAcX,KAAKm+B,yBACtBx9B,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,YAO9DqsB,EAAkB,KACtBpD,EAAI/N,OAAO,QACRC,KAAK,QAAS,6BACdA,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,6BACdA,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,QAE1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,6BACdA,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,6BACdA,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,SAItBoT,EAAkB,KACtBtF,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,QAAS,OACdA,KAAK,SAAU,OACfA,KAAK,IAAIrZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,KACtCzN,KAAK,OAAQ,SACbA,KAAK,SAAS,aACdA,KAAK,eAAe,OACpBA,KAAK,iBAAkB,QACvB+R,aACAC,SAAS,KACThS,KAAK,eAAgB,GAExB8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,6BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,QACrEzN,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKqnB,iBAClBhO,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,6BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,SACrEzN,KAAK,YAAa,IAClBA,KAAK,OAAkC,eAA1BrZ,KAAK+6B,kBACjB/6B,KAAKynB,gBACJznB,KAAKqnB,iBACPhO,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,6BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,SACrEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,QACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,6BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,UACrEzN,KAAK,YAAa,IAClBA,KAAK,OAAkC,eAA1BrZ,KAAK+6B,kBACjB/6B,KAAKqnB,gBACJrnB,KAAKynB,iBACPpO,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,6BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,UACrEzN,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKynB,iBAClBpO,KAAK,iBAAkB,QAE1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,KAAM,QACpEzN,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,aACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,SACrEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,aACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,SACrEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,QACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,UACrEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,aACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,KAAM,UACpEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,aACbA,KAAK,iBAAkB,QAE1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,IAAK,QACnEzN,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,OACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,IAAK,SACnEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,OACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,IAAK,SACnEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,QACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,IAAK,UACnEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,OACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,gCACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,IAAK,UACnEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,OACbA,KAAK,iBAAkB,SAG5B+S,IACA7B,IACAkC,IAEAzsB,KAAKyzB,qBACLzzB,KAAKy8B,0BAGP,cAEE3yB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAM2J,EAASprB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC7CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACZrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBACQ,KAApD9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,WAC7CI,EAAM+N,EAAO9b,OAAO,KACrBC,KAAK,YAAa,aAA8B,IAAjBrZ,KAAK4mB,OAAOI,SAA6B,IAAhBhnB,KAAK4mB,OAAOC,QAEnElO,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EACTyP,EAA2BroB,KAAKqoB,yBAItC,GAA+C,GAA3C7rB,OAAO+F,KAAKvC,KAAKyxB,gBAAgBl1B,OAAa,CAChD,MAAMk1B,EAOF,GACJzxB,KAAK6B,YAAYsG,QAASlK,IAExBwzB,EAAepJ,EAAyBpqB,IAAM,CAC5CE,KAAKF,EACLwf,UAAWjhB,OAAO+F,KAAMvC,KAAKgS,yBAAyB7L,SAASlI,GAAI+B,KAAKgS,wBAAwB/T,GAAK,EACrGuZ,WAAehb,OAAO+F,KAAMvC,KAAKgS,yBAAyB7L,SAASlI,GAA8D,GAApDzB,OAAO+F,KAAKvC,KAAK4R,yBAAyBrV,OAAeyD,KAAKgS,wBAAwB/T,GAAK,IAAM,IAAO+B,KAAK4R,wBAAwB3T,GAAGuZ,WAA7I,EACxEG,YAAenb,OAAO+F,KAAMvC,KAAKgS,yBAAyB7L,SAASlI,GAA8D,GAApDzB,OAAO+F,KAAKvC,KAAK4R,yBAAyBrV,OAAeyD,KAAKgS,wBAAwB/T,GAAK,IAAM,IAAO+B,KAAK4R,wBAAwB3T,GAAG0Z,YAA7I,KAG5E3X,KAAKyxB,eAAiBA,EAGxB,IAAK,IAAIxzB,KAAK+B,KAAKyxB,eAAe,CAChC,IAAIlU,EAAStf,EAAEyZ,MAAM,KACjBpQ,EAAYrJ,EAAEuf,UAAU,EAAEvf,EAAE1B,OAAOghB,EAAOA,EAAOhhB,OAAO,GAAGA,OAAO,GAClEkhB,EAAYhG,WAAW8F,EAAOA,EAAOhhB,OAAO,IAC5Cib,EAAaxX,KAAKyxB,eAAexzB,GAAGuZ,WACpCG,EAAc3X,KAAKyxB,eAAexzB,GAAG0Z,YACzC,GAAI8F,GAAazd,KAAKgS,wBAAwB1K,GAAY,IACxD,SAEF,IAAI82B,EAAY3gB,EAAYjG,EACxB6mB,EAAa1mB,EAAc8F,SACxBzd,KAAKyxB,eAAexzB,GAC3B+B,KAAKyxB,eAAepJ,EAAyB/gB,IAAe,CAC1DnJ,KAAKmJ,EACLmW,UAAWzd,KAAKgS,wBAAwB1K,GACxCkQ,WAAaxX,KAAKgS,wBAAwB1K,GAAY,IAAM82B,EAC5DzmB,YAAa3X,KAAKgS,wBAAwB1K,GAAc,IAAM+2B,GAGlE,MAAM1wB,EAAc3N,KAAK2N,YAEnB8d,EAAW,KACf,MAAMC,EAASC,GAAWA,EACvBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAc6O,GACXiT,cAAc,IAGrBzE,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SAEvB,MAAMwS,EAASF,GAAWA,EACvBhvB,KAAKmN,GAAA,KAAY8O,GACfkT,MAAM,GACNC,WAAWjiB,GAAA,KAAU,SAG1Bqd,EAAI/N,OAAO,KACRzc,KAAKkvB,GACLxS,KAAK,YAAa,KAEvBoS,IAEA,MAAMO,EAAa,KAEjB7E,EAAI/N,OAAO,QACRC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,GACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,yBACRoiB,EAAI/N,OAAO,QACRC,KAAK,IAAkB,GAAbrZ,KAAKgW,OACfqD,KAAK,KAAM,KACXA,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAM,0BAEXinB,IAEA,MAAMG,EAAa,KACjB,MAAMnW,EAAQhW,KAAKgW,MAAQ,EACrB6C,EAAS7Y,KAAK4mB,OAAOC,IAAM,EAG3BrF,EAAS1X,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACjCqD,OAAO,OACPpR,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YAAa,6BACfrZ,KAAK4mB,OAAOI,KAAoB,GAAbhnB,KAAKgW,yBACxB6C,EAAS,MAEjB2I,EAAOpI,OAAO,QACXC,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAQrZ,KAAKonB,YAClBphB,MAAM,aAAc,WAGvBwb,EAAOpI,OAAO,QACXC,KAAK,IAAKR,EAAS,GACnBQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAkC,SAA1BrZ,KAAK+6B,kBAA8B/6B,KAAKwnB,WAAaxnB,KAAKonB,YACvEphB,MAAM,aAAc,WAEO,gBAA1BhG,KAAK+6B,mBACPvZ,EAAOpI,OAAO,QACbC,KAAK,IAAKR,GACVQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAO,aACZrT,MAAM,aAAc,WAIvBwb,EAAOpI,OAAO,QACbC,KAAK,IAA+B,gBAA1BrZ,KAAK+6B,kBAA4C,IAAPliB,EAAaA,GAC/DQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAkC,SAA1BrZ,KAAK+6B,kBAA8B/6B,KAAKwnB,WAAaxnB,KAAKonB,YACvEphB,MAAM,aAAc,WAGvBwb,EAAOpI,OAAO,QACXC,KAAK,IAA+B,gBAA1BrZ,KAAK+6B,kBAA4C,EAAPliB,EAAkB,IAAPA,GAC/DQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAQrZ,KAAKwnB,YAClBxhB,MAAM,aAAc,WAGvBwb,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAM6C,EAAS,MACtDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MACNiB,MAAM,aAAe,WAEM,gBAA1BhG,KAAK+6B,mBACLvZ,EAAOpI,OAAO,QACbC,KAAK,YAAc,aAAarD,EAAQ,MAAe,EAAT6C,EAAa,MAC3DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,aACNiB,MAAM,aAAc,WAEzBwb,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAe,EAAT6C,EAAa,MAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAA+B,SAA1B/E,KAAK+6B,kBAA8B,KAAK,MAC7C/0B,MAAM,aAAc,WAGtBwb,EAAOpI,OAAO,QACZC,KAAK,YAAuC,gBAA1BrZ,KAAK+6B,kBAAqC,aAAa/kB,EAAQ,MAAe,EAAT6C,EAAa,KACvC,aAAa7C,EAAQ,MAAe,EAAT6C,EAAa,MACrGQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAgC,SAA1B/E,KAAK+6B,kBAA6B,KAAK,MAC7C/0B,MAAM,aAAc,WAEvBwb,EAAOpI,OAAO,QACXC,KAAK,YAAuC,gBAA1BrZ,KAAK+6B,kBAAqC,aAAa/kB,EAAQ,MAAe,EAAT6C,EAAa,KACvC,aAAa7C,EAAQ,MAAe,EAAT6C,EAAa,MACrGQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MACNiB,MAAM,aAAc,YAMnBs4B,EAAqB,KACzB,MAAMtoB,EAAQhW,KAAKgW,MAAQ,EACrB6C,EAAS7Y,KAAK4mB,OAAOC,IAAM,EAC3B0X,EAAgB,CAAC,EAAE,GACnB/c,EAAS1X,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC/BqD,OAAO,OACPpR,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YAAa,+BACfrZ,KAAK4mB,OAAOI,KAAoB,GAAbhnB,KAAKgW,2BACxB6C,EAAS,MAEnB0lB,EAAcp2B,QAAS+Q,IACrB,MAAMsI,EAAS1X,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACjCqD,OAAO,OACPpR,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YAAa,+BACfrZ,KAAK4mB,OAAOI,KAAoB,GAAbhnB,KAAKgW,MAAc,EAAmBA,EAAQ,yBACjE6C,EAAS,MAEjB2I,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,WACvCqD,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,IAAImU,GACVlT,MAAM,aAAe,WAExBwb,EAAOpI,OAAO,QACXC,KAAK,QAASrD,EAAQ,GACtBqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAA0B,GAAlBH,EAAqBlZ,KAAKi7B,gBAAkBj7B,KAAKo7B,iBAC9Dp1B,MAAM,aAAc,WAGvBwb,EAAOpI,OAAO,QACXC,KAAK,IAAKR,EAAS,GACnBQ,KAAK,QAASrD,EAAQ,GACtBqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAyB,GAAlBH,EAAqBlZ,KAAKk7B,gBAAkBl7B,KAAKq7B,iBAC7Dr1B,MAAM,aAAc,WAEvBwb,EAAOpI,OAAO,QACXC,KAAK,IAAKR,GACVQ,KAAK,QAASrD,EAAQ,GACtBqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAyB,GAAlBH,EAAqBlZ,KAAKm7B,cAAgBn7B,KAAKs7B,eAC3Dt1B,MAAM,aAAc,WAEvBwb,EAAOpI,OAAO,QACbC,KAAK,IAAY,IAAPR,GACRQ,KAAK,QAASrD,EAAQ,GACtBqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAA0B,GAAlBH,EAAqBlZ,KAAKi7B,gBAAkBj7B,KAAKo7B,iBAC9Dp1B,MAAM,aAAc,WAGvBwb,EAAOpI,OAAO,QACXC,KAAK,IAAa,EAARR,GACVQ,KAAK,QAASrD,EAAQ,GACtBqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAA0B,GAAlBH,EAAqBlZ,KAAKk7B,gBAAkBl7B,KAAKq7B,iBAC9Dr1B,MAAM,aAAc,aAEzBwb,EAAOpI,OAAO,QACXC,KAAK,YAAa,gBAAmBR,EAAS,MAC9CQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MACNiB,MAAM,aAAe,WAExBwb,EAAOpI,OAAO,QACXC,KAAK,YAAa,gBAA4B,EAATR,EAAa,MAClDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MACNiB,MAAM,aAAc,WAEvBwb,EAAOpI,OAAO,QACXC,KAAK,YAAa,gBAA4B,EAATR,EAAa,MAClDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,aACNiB,MAAM,aAAc,WACvBwb,EAAOpI,OAAO,QACXC,KAAK,YAAa,gBAA4B,EAATR,EAAa,MAClDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MACNiB,MAAM,aAAc,WAEvBwb,EAAOpI,OAAO,QACXC,KAAK,YAAa,gBAA4B,EAATR,EAAa,MAClDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,MACNiB,MAAM,aAAc,YAGE,WAAvBhG,KAAKguB,eACP7B,IAEAmS,IAIF,MAAMlS,EAAW,KACf,MAAM1T,EAAWyO,EAAIkD,UAAU,SAC5BtuB,KAAKiE,KAAKooB,0BACViE,KAAK,KACHhT,KAAK,QAAS,QACdA,KAAK,aAAa,SAAUnb,GAC3B,MAAO,aAAaya,EAAEza,YAE5B8B,KAAKmnB,IAAMA,EAEX,MAAMmF,EAAW3T,EAAE2S,YAEnB5S,EAASU,OAAO,QACXC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAc0a,EAAE,IAC3BS,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAG+9B,aACjF5iB,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAEpEwa,EAASU,OAAO,QACXC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAc8B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAK,GAAIyP,EAAYzP,GAAG+9B,aAC9E5iB,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGuC,GAAKkN,EAAYzP,GAAG+9B,aACjF5iB,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAGpEwa,EAASU,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAa8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGg+B,WAAavuB,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,aACzJ5iB,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAG+9B,aACjF5iB,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAElEwa,EAASU,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAa0a,EAAEjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG+9B,aAC7D5iB,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG+9B,aACjF5iB,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAGlEwa,EAASU,OAAO,QACXC,KAAK,QAAS,kBACdA,KAAK,IAAMnb,GAAc8B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAa,WAAIyP,EAAYzP,GAAG+9B,aACtF5iB,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,aACnI5iB,KAAK,OAAQ,aACbA,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,aAAcV,WAAYpJ,IAC/EyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,UACxDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,WAEnEwa,EAASU,OAAO,UACXC,KAAK,QAAS,0BACdA,KAAK,KAAMiT,EAAS,EAAIA,EAAS,GACjCjT,KAAK,KAAOnb,GAAc0a,EAAE,GAAG0T,EAAS,GACxCjT,KAAK,IAAIiT,EAAS,GAClBjT,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,QACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAC/Dmb,KAAK,aAAcnb,GAAe8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAG+9B,YAAe,GACnEj8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAG+9B,YAAe3P,EAAS,EAAE,UAAU,UAG7H5T,EAASU,OAAO,UACXC,KAAK,QAAS,0BACdA,KAAK,KAAKiT,EAAS,GACnBjT,KAAK,KAAOnb,GAAc8B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAK,GAAIyP,EAAYzP,GAAG+9B,YAAY3P,EAAS,GACpGjT,KAAK,IAAIiT,EAAS,GAClBjT,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,QACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAC/Dmb,KAAK,aAAcnb,GAAe8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGuC,GAAKkN,EAAYzP,GAAG+9B,YAAe,GACnEj8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGuC,GAAKkN,EAAYzP,GAAG+9B,YAAe3P,EAAS,EAAE,UAAU,UAI7H5T,EAASU,OAAO,UACbC,KAAK,QAAS,0BACdA,KAAK,KAAKiT,EAAS,EAAGA,EAAS,GAC7BjT,KAAK,KAAOnb,GAAc8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGg+B,WAAavuB,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YAAY3P,EAAS,GAChLjT,KAAK,IAAIiT,EAAS,GAClBjT,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,QACfrT,MAAM,cAAe,UACvBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAC/Dmb,KAAK,aAAcnb,GAAe8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAG+9B,YAAe,GACjEj8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAG+9B,YAAe3P,EAAS,EAAE,UAAU,UAG7H5T,EAASU,OAAO,UACbC,KAAK,QAAS,0BACdA,KAAK,KAAKiT,EAAS,GACjBjT,KAAK,KAAOnb,GAAc0a,EAAE,GAAG0T,EAAS,GACxCjT,KAAK,IAAIiT,EAAS,GAClBjT,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,QACfrT,MAAM,cAAe,UACvBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAC/Dmb,KAAK,aAAcnb,GAAe8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG+9B,YAAe,GACjEj8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG+9B,YAAe3P,EAAS,EAAE,UAAU,UAI7H5T,EAASU,OAAO,UACXC,KAAK,QAAS,yBACdA,KAAK,KAAKiT,EAAS,EAAIA,EAAS,GAChCjT,KAAK,KAAQnb,GAAc8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGg+B,WAAWvuB,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YAAY3P,EAAS,GAC/KjT,KAAK,IAAIiT,EAAS,GAClBjT,KAAK,OAAQ,aACbA,KAAK,SAAU,QACfrT,MAAM,cAAe,UACrBqT,KAAK,aAAcnb,GAAe8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YAAe,GACrHj8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YAAe3P,EAAS,EAAE,UAAU,UAE1K3rB,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,aAAcV,WAAYpJ,IAC/EyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,UACxDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,YAG/DsgC,EAAqB,KACzB,MAAM9lB,EAAWyO,EAAIkD,UAAU,SAC5BtuB,KAAKiE,KAAKooB,0BACViE,KAAK,KACHhT,KAAK,QAAS,QACdA,KAAK,aAAa,SAAUnb,GAC3B,MAAO,aAAaya,EAAEza,YAE5B8B,KAAKmnB,IAAMA,EACX,MAAMmF,EAAW3T,EAAE2S,YAEnB5S,EAASU,OAAO,QACXC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAc0a,EAAE,IAC3BS,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAwC,eAA1B8B,KAAK+6B,kBAAoC/6B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAG+9B,YACnDj8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGshB,MAAQ7R,EAAYzP,GAAG+9B,aAClJ5iB,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAGpEwa,EAASU,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAwC,eAA1B8B,KAAK+6B,kBAAqC/6B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAK,GAAIyP,EAAYzP,GAAG+9B,YACpDj8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGshB,MAAQ7R,EAAYzP,GAAG+9B,aAC/I5iB,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAwC,eAA1B8B,KAAK+6B,kBAAqC/6B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAG+9B,YACnDj8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAGyhB,MAAQhS,EAAYzP,GAAG+9B,aACnJ5iB,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAElEwa,EAASU,OAAO,QACXC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAuC,eAA1B8B,KAAK+6B,kBAAqC/6B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YAC7Ij8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAGshB,KAAK7R,EAAYzP,GAAGyhB,MAAQhS,EAAYzP,GAAG+9B,aACrL5iB,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAuC,eAA1B8B,KAAK+6B,kBAAqC/6B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGuC,GAAKkN,EAAYzP,GAAG+9B,YAClDj8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGuC,GAAKkN,EAAYzP,GAAG4hB,MAAQnS,EAAYzP,GAAG+9B,aACnJ5iB,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAGpEwa,EAASU,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAuC,eAA1B8B,KAAK+6B,kBAAqCniB,EAAEjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG+9B,YACrCrjB,GAAGjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG8hB,MAAQrS,EAAYzP,GAAG+9B,aAC/H5iB,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAwC,eAA1B8B,KAAK+6B,kBAAoC/6B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG+9B,YACnDj8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG8hB,MAAQrS,EAAYzP,GAAG+9B,aAClJ5iB,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAEpC,eAA1B8B,KAAK+6B,mBACPriB,EAASU,OAAO,QACbC,KAAK,QAAS,kBACdA,KAAK,IAAMnb,GAAc8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGwhB,IAAM/R,EAAYzP,GAAG+9B,aAClG5iB,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,aACnI5iB,KAAK,OAAQ,aACbA,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,aAAcV,WAAYpJ,IAC/EyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,UACxDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,WAInEwa,EAASU,OAAO,UACXC,KAAK,QAAS,0BACdA,KAAK,KAAKiT,EAAS,EAAIA,EAAS,GAChCjT,KAAK,KAAOnb,GAAc0a,EAAE,GAAG0T,EAAS,GACxCjT,KAAK,IAAIiT,EAAS,GAClBjT,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,QACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAC/Dmb,KAAK,aAAcnb,GAAe8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAG+9B,YAAe,GACnEj8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAG+9B,YAAe3P,EAAS,EAAE,UAAU,UAG7H5T,EAASU,OAAO,UACXC,KAAK,QAAS,0BACdA,KAAK,KAAKiT,EAAS,EAAIA,EAAW,GAClCjT,KAAK,KAAOnb,GAAuC,eAA1B8B,KAAK+6B,kBAAqC/6B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YAC9Ij8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAGshB,KAAK7R,EAAYzP,GAAGyhB,MAAQhS,EAAYzP,GAAG+9B,aACrL5iB,KAAK,IAAIiT,EAAS,GAClBjT,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,QACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAC/Dmb,KAAK,aAAcnb,GAAe8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGuC,GAAKkN,EAAYzP,GAAG+9B,YAAe,GACnEj8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGuC,GAAKkN,EAAYzP,GAAG+9B,YAAe3P,EAAS,EAAE,UAAU,UAI7H5T,EAASU,OAAO,UACbC,KAAK,QAAS,0BACdA,KAAK,KAAKiT,EAAS,GACnBjT,KAAK,KAAOnb,GAAwC,eAA1B8B,KAAK+6B,kBAAqC/6B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAK,GAAIyP,EAAYzP,GAAG+9B,YACrDj8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGshB,MAAQ7R,EAAYzP,GAAG+9B,aAE7I5iB,KAAK,IAAIiT,EAAS,GAClBjT,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,SAAU,QACfrT,MAAM,cAAe,UACvBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAC/Dmb,KAAK,aAAcnb,GAAe8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAG+9B,YAAe,GACjEj8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAG+9B,YAAe3P,EAAS,EAAE,UAAU,UAG7H5T,EAASU,OAAO,UACbC,KAAK,QAAS,0BACdA,KAAK,KAAKiT,EAAS,GACjBjT,KAAK,KAAOnb,GAAc0a,EAAE,GAAG0T,EAAS,GACxCjT,KAAK,IAAIiT,EAAS,GAClBjT,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,SAAU,QACfrT,MAAM,cAAe,UACvBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,UACzDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,cAAe,WAC/Dmb,KAAK,aAAcnb,GAAe8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG+9B,YAAe,GACjEj8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG+9B,YAAe3P,EAAS,EAAE,UAAU,UAG/F,eAA1BtsB,KAAK+6B,mBACLriB,EAASU,OAAO,UACbC,KAAK,QAAS,yBACdA,KAAK,KAAKiT,EAAS,EAAIA,EAAS,GAChCjT,KAAK,KAAOnb,GAAc8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGwhB,IAAM/R,EAAYzP,GAAG+9B,aACnG5iB,KAAK,IAAIiT,EAAS,GAClBjT,KAAK,OAAQ,aACbA,KAAK,SAAU,QACfrT,MAAM,cAAe,UACrBqT,KAAK,aAAcnb,GAAe8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YAAe,GACrHj8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YAAe3P,EAAS,EAAE,UAAU,UAE1K3rB,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,aAAcV,WAAYpJ,IAC/EyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,UACxDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,YAKjEugC,EAAmB,KACvB,MAAM/lB,EAAWyO,EAAIkD,UAAU,SAC5BtuB,KAAKiE,KAAKooB,0BACViE,KAAK,KACHhT,KAAK,QAAS,QACdA,KAAK,aAAa,SAAUnb,GAC3B,MAAO,aAAaya,EAAEza,YAEtBouB,EAAW3T,EAAE2S,aACb,MAAClgB,EAAK,OAAE+E,GAAUnQ,KAAKiY,WACvBpW,EAAc7B,KAAKooB,yBACzB,IAAIsW,EAAuB,GAgJ3B,SAASC,EAA0BpP,GACjC,MAAMlZ,EAA6B,KAAjBkZ,EAAsBnkB,EAAMvD,UAAYsI,EAAOtI,UACjE,IAAI+2B,EAAc,GAsBlB,OArBA/8B,EAAYsG,QAASlK,IACnB,IAAIu9B,EAAcvsB,GAAaoH,EAAW1I,EAAY1P,GAAGu9B,aACrDD,EAActsB,GAAaoH,EAAW1I,EAAY1P,GAAGs9B,aACrDE,EAAcxsB,GAAaoH,EAAW1I,EAAY1P,GAAGw9B,aACrDC,EAAczsB,GAAaoH,EAAW1I,EAAY1P,GAAGy9B,aACrDE,EAAe3sB,GAAaoH,EAAW1I,EAAY1P,GAAG29B,cACtDD,EAAe1sB,GAAaoH,EAAW1I,EAAY1P,GAAG09B,cACtD7U,EAAQ7X,GAAaoH,EAAW1I,EAAY1P,GAAG6oB,OAC/CwB,EAAQrZ,GAAaoH,EAAW1I,EAAY1P,GAAGqqB,OACnDsW,EAAY3gC,GAAK,CACf,YAAcu9B,EACd,YAAcD,EACd,YAAcE,EACd,YAAcC,EACd,aAAeE,EACf,aAAeD,EACf,MAAQ7U,EACR,MAAQwB,EACR,cAAgBiH,KAGbqP,EAvKLxzB,GACFszB,EAAqB7hC,KAAK8hC,EAA0B,MAElDxuB,GACFuuB,EAAqB7hC,KAAK8hC,EAA0B,MAGtDjmB,EAASU,OAAO,QACXC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAc0a,EAAE,IAC3BS,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGqhB,GAAKvf,KAAK6H,UAAUtL,SACjF8c,KAAK,OAAQrZ,KAAKonB,YAClB/N,KAAK,UAAU,IACf1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YAI3B7T,EAASU,OAAO,QACXC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAc8B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAK,GAAI8B,KAAK6H,UAAUtL,SAC9E8c,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGuC,GAAKT,KAAK6H,UAAUtL,SACjF8c,KAAK,OAAQrZ,KAAKwnB,YAClBnO,KAAK,UAAU,IACf1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YAG3B7T,EAASU,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAa8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGg+B,WAAavuB,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqBr8B,KAAK6H,UAAUtL,SACzJ8c,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAGwhB,GAAK1f,KAAK6H,UAAUtL,SACjF8c,KAAK,OAAQrZ,KAAKonB,YAChB/N,KAAK,UAAU,IACjB1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YAEzB7T,EAASU,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAAa0a,EAAEjL,EAAYzP,GAAG2hB,GAAK7f,KAAK6H,UAAUtL,SAC7D8c,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEjL,EAAYzP,GAAG2hB,GAAK7f,KAAK6H,UAAUtL,SACjF8c,KAAK,OAAQrZ,KAAKwnB,YAChBnO,KAAK,UAAU,IACjB1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeV,WAAYpJ,IAChFyC,GAAG,aAAcX,KAAKusB,YAIzB7T,EAASU,OAAO,QACXC,KAAK,QAAS,kBACdA,KAAK,IAAMnb,GAAc8B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAa,WAAI8B,KAAK6H,UAAUtL,SACtF8c,KAAK,SAAS,SAASnb,GACtB,OAAOouB,KAERjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqBr8B,KAAK6H,UAAUtL,SACnI8c,KAAK,OAAQ,aACbrT,MAAM,cAAe,UACrBA,MAAM,UAAU,IAChBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,aAAcV,WAAYpJ,IAC/EyC,GAAG,aAAcX,KAAKusB,YAG3BmS,EAAqBv2B,QAAS2oB,IAC1BpY,EAASU,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAA+C,KAAjC4yB,EAAa5yB,GAAGqxB,cAAqBjD,EAAW,EAAIA,EAAW,GACxFjT,KAAK,IAAMnb,GAAc0a,GAAGkY,EAAa5yB,GAAGoqB,MAAMrM,KAAO6U,EAAa5yB,GAAG09B,aAAa3f,KAAK6U,EAAa5yB,GAAGy9B,aAAa1f,KAAO6U,EAAa5yB,GAAGq9B,YAAYtf,KAAO6U,EAAa5yB,GAAGs9B,YAAYvf,MAAQjc,KAAK6H,UAAUtL,SACrN8c,KAAK,SAAS,SAASnb,GACtB,OAAOouB,EAAW,KAEnBjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEkY,EAAa5yB,GAAGs9B,YAAYvf,KAAOjc,KAAK6H,UAAUtL,SAChG8c,KAAK,OAASnb,GAA+C,KAAjC4yB,EAAa5yB,GAAGqxB,cAAsBvvB,KAAKi7B,gBAAgBj7B,KAAKo7B,iBAC5F/hB,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAcqO,UAAWya,EAAa5yB,GAAGqxB,cAAejoB,WAAYpJ,IACzHyC,GAAG,aAAcX,KAAKusB,YAE3B7T,EAASU,OAAO,QACXC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAA+C,KAAjC4yB,EAAa5yB,GAAGqxB,cAAqBjD,EAAW,EAAIA,EAAW,GACxFjT,KAAK,IAAMnb,GAAc0a,GAAGkY,EAAa5yB,GAAGoqB,MAAMrM,KAAO6U,EAAa5yB,GAAG09B,aAAa3f,KAAK6U,EAAa5yB,GAAGy9B,aAAa1f,KAAO6U,EAAa5yB,GAAGq9B,YAAYtf,MAAQjc,KAAK6H,UAAUtL,SAClL8c,KAAK,SAAS,SAASnb,GACtB,OAAOouB,EAAW,KAEnBjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEkY,EAAa5yB,GAAGq9B,YAAYtf,KAAOjc,KAAK6H,UAAUtL,SAChG8c,KAAK,OAASnb,GAA+C,KAAjC4yB,EAAa5yB,GAAGqxB,cAAsBvvB,KAAKk7B,gBAAgBl7B,KAAKq7B,iBAC5FhiB,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeqO,UAAWya,EAAa5yB,GAAGqxB,cAAcjoB,WAAYpJ,IACzHyC,GAAG,aAAcX,KAAKusB,YAG3B7T,EAASU,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAA+C,KAAjC4yB,EAAa5yB,GAAGqxB,cAAqBjD,EAAW,EAAIA,EAAW,GACxFjT,KAAK,IAAMnb,GAAc0a,GAAGkY,EAAa5yB,GAAGw9B,YAAYzf,KAAO6U,EAAa5yB,GAAGu9B,YAAYxf,MAAQjc,KAAK6H,UAAUtL,SAClH8c,KAAK,QAASiT,EAAW,GACzBjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEkY,EAAa5yB,GAAGu9B,YAAYxf,KAAOjc,KAAK6H,UAAUtL,SAChG8c,KAAK,OAASnb,GAA+C,KAAjC4yB,EAAa5yB,GAAGqxB,cAAsBvvB,KAAKi7B,gBAAgBj7B,KAAKo7B,iBAC5F/hB,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAcqO,UAAWya,EAAa5yB,GAAGqxB,cAAcjoB,WAAYpJ,IACxHyC,GAAG,aAAcX,KAAKusB,YAGzB7T,EAASU,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IAAMnb,GAA+C,KAAjC4yB,EAAa5yB,GAAGqxB,cAAqBjD,EAAW,EAAIA,EAAW,GACxFjT,KAAK,IAAMnb,GAAa0a,EAAEkY,EAAa5yB,GAAGw9B,YAAYzf,KAAOjc,KAAK6H,UAAUtL,SAC5E8c,KAAK,QAASiT,EAAW,GACzBjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,EAAEkY,EAAa5yB,GAAGw9B,YAAYzf,KAAOjc,KAAK6H,UAAUtL,SAChG8c,KAAK,OAASnb,GAA+C,KAAjC4yB,EAAa5yB,GAAGqxB,cAAsBvvB,KAAKk7B,gBAAgBl7B,KAAKq7B,iBAC5FhiB,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,cAAeqO,UAAWya,EAAa5yB,GAAGqxB,cAAcjoB,WAAYpJ,IACzHyC,GAAG,aAAcX,KAAKusB,YAGzB7T,EAASU,OAAO,QACXC,KAAK,QAAS,kBACdA,KAAK,IAAMnb,GAA+C,KAAjC4yB,EAAa5yB,GAAGqxB,cAAqBjD,EAAW,EAAIA,EAAW,GACxFjT,KAAK,IAAMnb,GAAc0a,GAAGkY,EAAa5yB,GAAGoqB,MAAMrM,KAAO6U,EAAa5yB,GAAG09B,aAAa3f,KAAK6U,EAAa5yB,GAAGy9B,aAAa1f,MAAQjc,KAAK6H,UAAUtL,SAC/I8c,KAAK,SAAS,SAASnb,GACtB,OAAOouB,EAAW,KAEnBjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,OAASD,GAAGkY,EAAa5yB,GAAG09B,aAAa3f,KAAK6U,EAAa5yB,GAAGy9B,aAAa1f,MAAQjc,KAAK6H,UAAUtL,SACrI8c,KAAK,OAASnb,GAA+C,KAAjC4yB,EAAa5yB,GAAGqxB,cAAsBvvB,KAAKm7B,cAAcn7B,KAAKs7B,eAC1FjiB,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,aAAcqO,UAAWya,EAAa5yB,GAAGqxB,cAAcjoB,WAAYpJ,IACxHyC,GAAG,aAAcX,KAAKusB,eAkCzBhC,EAAkB,KACtBpD,EAAI/N,OAAO,QACRC,KAAK,QAAS,wBACdA,KAAK,KAAMT,EAAE,IACbS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMT,EAAE,IACbS,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,UAAW,OAChBA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,wBACdA,KAAK,KAAMT,EAAE,IACbS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMT,EAAE,IACbS,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,UAAW,OAChBA,KAAK,iBAAkB,QAE1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,wBACdA,KAAK,KAAMT,EAAE,IACbS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMT,EAAE,IACbS,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,UAAW,OAChBA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,wBACdA,KAAK,KAAMT,EAAE,IACbS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMT,EAAE,IACbS,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,UAAW,OAChBA,KAAK,iBAAkB,SAItBoT,EAAkB,KACtBtF,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,QAAS,OACdA,KAAK,SAAU,OACfA,KAAK,IAAIrZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,KACtCzN,KAAK,OAAQ,SACbA,KAAK,SAAS,aACdA,KAAK,eAAe,OACpBA,KAAK,iBAAkB,QACvB+R,aACAC,SAAS,KACThS,KAAK,eAAgB,GAExB8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,wBACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,QACrEzN,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKqnB,iBAClBhO,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,wBACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,SACrEzN,KAAK,YAAa,IAClBA,KAAK,OAAkC,SAA1BrZ,KAAK+6B,kBAA8B/6B,KAAKynB,gBAAkBznB,KAAKqnB,iBAC5EhO,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,wBACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,SACrEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,QACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,wBACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,UACrEzN,KAAK,YAAa,IAClBA,KAAK,OAAkC,SAA1BrZ,KAAK+6B,kBAA8B/6B,KAAKqnB,gBAAkBrnB,KAAKynB,iBAC5EpO,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,wBACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,UACrEzN,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKynB,iBAClBpO,KAAK,iBAAkB,QAE1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,KAAM,QAEpEzN,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,aACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,SAErEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,aACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,SAErEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,QACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,UAErEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,aACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,KAAM,UAEpEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,aACbA,KAAK,iBAAkB,QAE1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,IAAK,QAEnEzN,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,OACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,IAAK,SAEnEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,OACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,IAAK,SAEnEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,QACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,IAAK,UAEnEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,OACbA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BACdA,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,IAAK,UAEnEzN,KAAK,YAAa,IAClBA,KAAK,OAAQ,OACbA,KAAK,iBAAkB,SAGD,WAAvBrZ,KAAKguB,eACuB,SAA1BhuB,KAAK+6B,mBACP3O,IACApsB,KAAK0sB,mBAEL8R,IACAx+B,KAAK0sB,kBAGP+R,IAGFlU,IACAkC,IAEAzsB,KAAKkqB,aAGP,qBACgBpgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACbrd,GAAA,KAAU,OADhC,MAEM+0B,EAAiB7+B,KAAK2Y,EAAE2S,YAAc,GAEtC,MAAElgB,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAEzBtK,EAAc3N,KAAK2N,YAEnBsf,EAAe,CAAChC,EAAuBC,EAAoB7U,KAC/D,MAAMxO,EAAY8F,EAAYsd,GAAgBC,GAE7Bvd,EAAYsd,GAAgBgR,WAE7C,MAAM9Q,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA6C,GAAlBtlB,EAAUoU,KAAW,EAAKkP,EAAqBlP,KAAOpU,EAAUoU,KACjG,OAAOjc,KAAK4Y,EAAEuU,IAEVC,EAAc,CAACnC,EAAuBC,EAAoB7U,KAC5C1I,EAAYsd,GAAgBC,GAC9C,OAAQlrB,KAAK6Y,OAASoU,EAAahC,EAAgBC,EAAW7U,IAAc,GAWxEgX,EAAc,CAACpC,EAAuBC,EAAoB7U,KAC9D,MAAMxO,EAAY8F,EAAYsd,GAAgBC,GAE7Bvd,EAAYsd,GAAgBgR,WAC7C,MAAM9Q,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA6C,GAAlBtlB,EAAUoU,KAAW,EAAKkP,EAAqBlP,KAAOpU,EAAUoU,KACjG,OAAQjc,KAAK6Y,OAAS7Y,KAAK4Y,EAAEuU,IAA4B,GAarD2R,EAAkB,CAAC7T,EAAuBC,EAAoB7U,KAClE,MAAMxO,EAAY,IAAI4K,IAAI,IAAI9E,EAAYsd,GAAgB2Q,eACpDmD,EAAc,IAAItsB,IAAI,IAAK9E,EAAYsd,GAAgB0Q,eAE5ChuB,EAAYsd,GAAgBgR,WAC7C,MAAM9Q,EAAuBlc,GAAapH,EAAWwO,GAC/C2oB,EAAyB/vB,GAAa8vB,EAAa1oB,GACnD8W,EAA4BtlB,EAAUoU,KAAO8iB,EAAY9iB,MAAS,EAAG,GAAIkP,EAAqBlP,KAAO+iB,EAAuB/iB,OAASpU,EAAUoU,KAAO8iB,EAAY9iB,MACxK,OAAQjc,KAAK6Y,OAAS7Y,KAAK4Y,EAAEuU,IAA4B,GAGrDxU,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EACT0T,EAAW3T,EAAE2S,YACbqB,EAAoBhU,EAAE2S,YAAc,EACpCsB,EAAiB,CAAC,cAAe,cAAe,cAAe,cAAe,UAC9E3U,EAAa,CAAC7M,EAAO+E,GAE3B8H,EAAW9P,QAAQ,CAAColB,EAAejK,KAC5BiK,EAIHvtB,KAAKooB,yBAAyBjgB,QAASjK,IACrC0uB,EAAczkB,QAAQ,CAACH,EAAM3L,KAC3B,IAAImxB,EAAuB,CACvB9U,SAAW1Y,KAAKmnB,IAChBxO,EAAIA,EAAEza,GAAKouB,EAAW,GAAKhJ,EAAI,GAAKqJ,EACpC/T,EAAY,eAAR5Q,EAAwB4Q,EAAE,GAClB,eAAR5Q,EAAwBhI,KAAK6Y,OAAS,EAC9B,eAAR7Q,EAAwBhI,KAAK6Y,OAAS,EAAI,EAClC,eAAR7Q,EAAuBhI,KAAK6Y,OAAS,EAAI,EACzC7Y,KAAK6Y,OAAS,EAAI,EACtB7C,MAAQ2W,EACR9T,OAAiB,eAAR7Q,GAAiC,eAARA,EAAwBolB,EAAYlvB,EAAG8J,EAAMulB,EAAc1lB,WAC/E,eAARG,GAAiC,eAARA,EAAwBqlB,EAAYnvB,EAAG8J,EAAMulB,EAAc1lB,WACpFi3B,EAAgB5gC,EAAE8J,EAAMulB,EAAc1lB,WAC5CpJ,EAAKkuB,EAAoB,EACzB7T,MAAe,GAAPwK,EAAUtjB,KAAKsnB,gBAAkBtnB,KAAKunB,gBAC9CxO,mBAA8B,eAAR/Q,GAAiC,eAARA,IAA0BolB,EAAYlvB,EAAG8J,EAAMulB,EAAc1lB,WAAa,GAAKulB,EAAYlvB,EAAE8J,EAAMulB,EAAc1lB,WAAag3B,IAC9I,eAAR72B,GAAiC,eAARA,IAA0BqlB,EAAYnvB,EAAE8J,EAAMulB,EAAc1lB,WAAa,GAAKwlB,EAAYnvB,EAAE8J,EAAMulB,EAAc1lB,WAAag3B,GACvJC,EAAgB5gC,EAAE8J,EAAMulB,EAAc1lB,WAAa,GAAKi3B,EAAgB5gC,EAAE8J,EAAMulB,EAAc1lB,WAAag3B,EAAkB,UAAU,SAC7J7lB,GAAKL,EAAEza,GAAKouB,EAAW,GAAMhJ,EAAM,IAAOqJ,EAC1C1T,GAAa,eAARjR,EAAwB4Q,EAAE,GACnB,eAAR5Q,EAAwBhI,KAAK6Y,OAAS,EAC9B,eAAR7Q,EAAwBhI,KAAK6Y,OAAS,EAAI,EAClC,eAAR7Q,EAAuBhI,KAAK6Y,OAAS,EAAI,EACzC7Y,KAAK6Y,OAAS,EAAI,EACtBK,eAAgBoK,EAChB1hB,UAAY5B,KAAK7B,MAEnB6B,KAAKoB,OAAOO,SAAS,iBAAiB6rB,QA/B5CxtB,KAAKmnB,IAAIkD,UAAU,kBAAkB/G,GAAKjK,KAAK,SAAU,KACzDrZ,KAAKmnB,IAAIkD,UAAU,oBAAoB/G,GAAKjK,KAAK,aAAa,cAsCpE,iBAEgBvP,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAEbrd,GAAA,KAAU,OAFhC,MAGM+0B,EAAiB7+B,KAAK2Y,EAAE2S,YAAc,GAEtC,MAAElgB,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAEzBtK,EAAc3N,KAAK2N,YAEzB,IAAIqR,EAAkB,GAClB1T,EAAe,IAAItL,KAAKoB,OAAOyE,QAAQyI,mBACvC6E,EAAmBnT,KAAKoB,OAAOC,MAAM8R,iBACzC7H,EAAanD,QAASlK,IACpB+gB,EAAgB/gB,GAAK,IAGS,YAA5B+B,KAAK6G,qBACPsM,EAAiBhL,QAASxK,IACxB,IAAIshB,EAAgB,IAAIthB,EAAEkK,WAEtB8K,EAAS8E,WAAY9Z,EAAQ,OAAEya,YACnC6G,EAAc9W,QAAS9L,IACrB2iB,EAAgB3iB,IAAMsW,MAK5B,MAAMka,EAAwBhlB,IAC5B,IAAIoU,EAAO,EAIX,OAHApU,EAAUM,QAAS9L,IACjB4f,GAAQ+C,EAAgB3iB,KAEnB4f,GAIHgR,EAAe,CAAChC,EAAuBC,EAAoB7U,KAC/D,MAAMxO,EAAY8F,EAAYsd,GAAgBC,GACxCgC,EAAkB,IAAIza,IAAIzS,KAAK6H,WAC/BsjB,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2BN,EAAqB,IAAI1B,IAAyB0B,EAAqB,IAAIK,IAC5G,OAAOltB,KAAK4Y,EAAEuU,IAEVC,EAAc,CAACnC,EAAuBC,EAAoB7U,KAC5C1I,EAAYsd,GAAgBC,GAC9C,OAAOlrB,KAAK6Y,OAASoU,EAAahC,EAAgBC,EAAW7U,IAUzDgX,EAAc,CAACpC,EAAuBC,EAAoB7U,KAC9D,MAAMxO,EAAY8F,EAAYsd,GAAgBC,GACxCgC,EAAiB,IAAIza,IAAIzS,KAAK6H,WAC9BsjB,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2BN,EAAqB,IAAI1B,IAAyB0B,EAAqB,IAAIK,IAC5G,OAAOltB,KAAK6Y,OAAS7Y,KAAK4Y,EAAEuU,IAaxB2R,EAAkB,CAAC7T,EAAuBC,EAAoB7U,KAClE,MAAMxO,EAAY,IAAI4K,IAAI,IAAI9E,EAAYsd,GAAgB2Q,eACpDmD,EAAc,IAAItsB,IAAI,IAAK9E,EAAYsd,GAAgB0Q,eACvDzO,EAAiB,IAAIza,IAAIzS,KAAK6H,WAC9BsjB,EAAuBlc,GAAapH,EAAWwO,GAC/C2oB,EAAyB/vB,GAAa8vB,EAAa1oB,GACnD8W,GAA4BN,EAAqB,IAAI1B,IAAyB0B,EAAqB,IAAImS,KACxEnS,EAAqB,IAAIK,IAC9D,OAAOltB,KAAK6Y,OAAS7Y,KAAK4Y,EAAEuU,IAYxBxU,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EACT0T,EAAW3T,EAAE2S,YACbqB,EAAoBhU,EAAE2S,YAAc,EACpCsB,EAAgB,CAAC,cAAe,cAAe,cAAe,cAAe,UAC7E3U,EAAa,CAAC7M,EAAO+E,GAE3B8H,EAAW9P,QAAQ,CAAColB,EAAejK,KAC5BiK,EAIHvtB,KAAKooB,yBAAyBjgB,QAASjK,IACrC0uB,EAAczkB,QAAQ,CAACH,EAAM3L,KAC3B,IAAI4iC,EAAM,SACE,UAARj3B,EACW,eAARA,GAAiC,eAARA,EACxBolB,EAAYlvB,EAAG8J,EAAMulB,EAAc1lB,WAAa,GAAKulB,EAAYlvB,EAAE8J,EAAMulB,EAAc1lB,WAAag3B,IACtGI,EAAM,WAEU,eAARj3B,GAAiC,eAARA,GAC/BqlB,EAAYnvB,EAAE8J,EAAMulB,EAAc1lB,WAAa,GAAKwlB,EAAYnvB,EAAE8J,EAAMulB,EAAc1lB,WAAag3B,IACrGI,EAAM,WAINH,EAAgB5gC,EAAE8J,EAAMulB,EAAc1lB,WAAa,GAAKi3B,EAAgB5gC,EAAE8J,EAAMulB,EAAc1lB,WAAag3B,IAC7GI,EAAM,WAKV,IAAIzR,EAAuB,CACvB9U,SAAW1Y,KAAKmnB,IAChBxO,EAAIA,EAAEza,GAAKouB,EAAW,GAAKhJ,EAAI,GAAKqJ,EACpC/T,EAAY,eAAR5Q,EAAwB4Q,EAAE,GAClB,eAAR5Q,GAAmD,SAA1BhI,KAAK+6B,kBAA+B/6B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAK,GAAIyP,EAAYzP,GAAG+9B,YAC1G,eAARj0B,GAAmD,SAA1BhI,KAAK+6B,kBAA+B/6B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YAClM,eAARj0B,GAAmD,SAA1BhI,KAAK+6B,kBAA+B/6B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGg+B,WAAavuB,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YACtL,eAARj0B,GAAmD,SAA1BhI,KAAK+6B,kBAA+B/6B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAK,GAAIyP,EAAYzP,GAAG+9B,YAC1G,eAARj0B,EAAwB4Q,EAAEjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG+9B,YACrD,UAARj0B,GAA8C,SAA1BhI,KAAK+6B,kBAA+B/6B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAa,WAAIyP,EAAYzP,GAAG+9B,YACrHj8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGwhB,IAAM/R,EAAYzP,GAAG+9B,YAC7EjmB,MAAQ2W,EACR9T,OAAiB,eAAR7Q,GAAiC,eAARA,EAAwBolB,EAAYlvB,EAAG8J,EAAMulB,EAAc1lB,WAC/E,eAARG,GAAiC,eAARA,EAAwBqlB,EAAYnvB,EAAG8J,EAAMulB,EAAc1lB,WACpFi3B,EAAgB5gC,EAAE8J,EAAMulB,EAAc1lB,WAC5CpJ,EAAKkuB,EAAoB,EACzB7T,MAAe,GAAPwK,EAAUtjB,KAAKsnB,gBAAkBtnB,KAAKunB,gBAC9CxO,kBAAmBkmB,EACnBjmB,GAAKL,EAAEza,GAAKouB,EAAW,GAAMhJ,EAAM,IAAOqJ,EAC1C1T,GAAa,eAARjR,EAAwB4Q,EAAE,GACnB,eAAR5Q,GAAmD,SAA1BhI,KAAK+6B,kBAA+B/6B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAK,GAAIyP,EAAYzP,GAAG+9B,YAC1G,eAARj0B,GAAmD,SAA1BhI,KAAK+6B,kBAA+B/6B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGwhB,GAAK/R,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YAClM,eAARj0B,GAAmD,SAA1BhI,KAAK+6B,kBAA+B/6B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGg+B,WAAavuB,EAAYzP,GAAGk+B,kBAAkBzuB,EAAYzP,GAAGm+B,mBAAqB1uB,EAAYzP,GAAG+9B,YACtL,eAARj0B,GAAmD,SAA1BhI,KAAK+6B,kBAA+B/6B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAK,GAAIyP,EAAYzP,GAAG+9B,YAC1G,eAARj0B,EAAwB4Q,EAAEjL,EAAYzP,GAAG2hB,GAAKlS,EAAYzP,GAAG+9B,YACrD,UAARj0B,GAA8C,SAA1BhI,KAAK+6B,kBAA+B/6B,KAAK6Y,OAASD,EAAGjL,EAAYzP,GAAa,WAAIyP,EAAYzP,GAAG+9B,YACrHj8B,KAAK6Y,OAASD,GAAGjL,EAAYzP,GAAGqhB,GAAK5R,EAAYzP,GAAGwhB,IAAM/R,EAAYzP,GAAG+9B,YAC7E/iB,eAAgBoK,EAChB1hB,UAAY5B,KAAK7B,MAEnB6B,KAAKoB,OAAOO,SAAS,iBAAiB6rB,QArD5CxtB,KAAKmnB,IAAIkD,UAAU,kBAAkB/G,GAAKjK,KAAK,SAAU,KACzDrZ,KAAKmnB,IAAIkD,UAAU,oBAAoB/G,GAAKjK,KAAK,aAAa,cA2DpE,OACE/R,EACAU,EACAoO,GAEAtM,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAMxmB,EAAaD,KACnBC,EAAWE,KAAO1B,EAAK0H,MACvBlG,EAAWI,WAAaA,EACxBJ,EAAWC,SAAqB,UAATa,EAEvB,IAAI2F,EAAc3N,KAAK2N,YACnB9F,EAAY8F,EAAYrG,GAAYU,GAC5B,cAARA,IACFH,EAAY,IAAI4K,IAAI,IAAI9E,EAAYrG,GAAYs0B,cAAcsD,OAAO,IAAIvxB,EAAYrG,GAAYq0B,iBAGnG,MAAMwD,EAAY,CAChB,YAAc,KACd,YAAc,KACd,YAAc,KACd,YAAc,MAEV3sB,EAAc,mBAAmBlL,SAAkB63B,EAAUn3B,KAC7DO,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAQ,IAEJqI,EAAU,CACd3D,cACA3K,YACAU,aAGFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,OCz3F4X,MCQjb,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACnR,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,KAAYqL,WAAA,OC/BrI,IAAI,GAAS,WAAa,IAAIr5B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,qCAAqC,KAAKV,EAAG,4BAA4B,CAACA,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,qBAAqBQ,MAAM,CAAClC,MAAOmB,EAAuB,oBAAEgB,SAAS,SAAUC,GAAMjB,EAAI2G,oBAAoB1F,GAAKE,WAAW,wBAAwB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,WAAW,MAAQ,cAAcH,EAAG,UAAU,CAACG,MAAM,CAAC,GAAK,MAAM,MAAQ,MAAM,MAAQ,SAASH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,QAAQH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,YAAY,MAAQ,eAAeH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAAS,MAAQ,aAAa,IAAI,IAAI,IAAI,GAAGH,EAAG,cAAc,CAACG,MAAM,CAAC,QAAUP,EAAIkuB,QAAQ,UAAW,EAAK,mBAAkB,EAAM,mBAAkB,EAAM,mBAAkB,EAAK,YAAc,YAAY,MAAQ,OAAO,WAAW,OAAO,mBAAkB,GAAM1tB,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,YAAYuB,GAAG,SAASC,GAC9xC,IAAIqI,EAASrI,EAAIqI,OACbmlB,EAASxtB,EAAIwtB,OACjB,MAAO,CAAEnlB,EAAOxM,SAAW2xB,EAAQ/tB,EAAG,OAAO,CAACE,YAAY,uBAAuB,CAACN,EAAIc,GAAG,IAAId,EAAIoB,GAAG4H,EAAOxM,QAAQ,wBAAwBwD,EAAIqG,UAAUtF,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAInB,MAAMoC,GAAKE,WAAW,WAAWf,EAAG,MAAM,CAACO,IAAI,SAAS,IACnQ,GAAkB,GC0DP,UAAIqC,OAAO,CACxB5E,KAAM,+BACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,IAAKC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KACjDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCE,EAAQ,CACZjf,KAAM,GACNV,WAAY,GACZ83B,mBAAoB,IAEhB/F,EAAQ,CACZ/xB,WAAY,GACZmW,UAAW,IAEP/W,EAAsB,WAEtB24B,EAAuB,CAC3Br3B,KAAM,GACNV,WAAW,GACXmW,UAAW,GACX7e,MAAO,EACPw/B,UAAU,IACVC,WAAW,KAEPiB,EAAiB,CACrBhU,UAAW,IAEPiU,EAAY,CAChB9hB,UAAW,IAEP+hB,EAAY,CAChB/hB,UAAW,IAEPgiB,EAAkB,IAAIz/B,KAAKuG,SAAS1E,aAAa,GACjDmI,EAAa,CAAC,OAAQ,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,QACrF01B,EAAc,CAAC,kBAAmB,oBAClCC,EAAc,CAAC,iBAAkB,oBACjCC,EAAe,CAAC,iBAAiB,oBACjCC,EAAsB,CAC1B7Y,KAAM,IACNF,MAAO,KAEHgZ,EAAmB,CACvB9Y,KAAM,IACNF,MAAO,KAEHiZ,EAA0B,GAC1BC,EAA6B,CAACH,GACpC,MAAO,CACLE,0BACAR,WACA74B,sBACA84B,WACAF,iBACAW,cAAe,EACfC,eAAgB,EAChBC,WAAY,GACZL,mBACAD,sBACAG,6BACAphC,MAAO,GACPia,SACAwgB,QACApS,QACAoY,uBACAzY,SACAtiB,MAAO,GACP8iB,WAAY,UACZC,gBAAiB,UACjBC,gBAAiB,UACjBC,gBAAiB,UACjBvR,QACAwR,WAAY,UACZC,gBAAiB,UACjB9gB,YAAY,IAAI3G,KAAKuG,SAASqM,SAASrW,OACvCkjC,kBACAv2B,aAAc,GACdc,aACAo2B,sBAAsB,GACtBV,cACAE,eACAD,gBAGJjY,SAAU,CACR,4BACE,OAAO1nB,KAAKoB,OAAOC,MAAMoQ,2BAE3B,kBACE,IAAIogB,EAAmB,GACvB,IAAK,IAAIx1B,KAAK2D,KAAKgK,WACjB6nB,EAAgB7xB,KAAKgK,WAAW3N,IAAMsyB,SAAStyB,GAEjD,OAAOw1B,GAET,UACE,IAAI5D,EAAU,GACd,MAAMpsB,EAAc7B,KAAK6B,YAIzB,OAHAA,EAAYsG,QAASlK,IACnBgwB,EAAQpxB,KAAK,CAACsB,KAAMF,MAEfgwB,GAET,uBACE,OAAOjuB,KAAKoB,OAAOC,MAAM2Q,yBAE3B,0BACE,OAAOhS,KAAKuG,SAASqL,yBAEvB,UAEE,OADA5R,KAAK2G,YAAc,IAAI3G,KAAKuG,SAASqM,SAASrW,OACvC,IAAIyD,KAAKuG,SAASqM,UAE3B,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,8BACE,OAAO+B,KAAKoB,OAAOC,MAAM4Q,6BAE3B,WACE,MAAO,IAAIjS,KAAKuG,SAASgD,WAE3B,YACE,MAAO,IAAIvJ,KAAKuG,SAASsB,YAE3B,iBACE,MAAMsgB,EAAiBnoB,KAAK6B,YAAYlC,QACxC,OAAOwoB,GAET,2BACE,GAAqC,cAAjCnoB,KAAKoB,OAAOC,MAAMuF,YAA6B,CACjD,IAAIwhB,EAA2B,GAI/B,OAHApoB,KAAKmoB,eAAehgB,QAASlK,IAC3BmqB,EAAyBvrB,KAAKoB,EAAE,IAAI+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAG,OAE5EmqB,EAEP,OAAOpoB,KAAKmoB,gBAGhB,2BACE,IAAIE,EAA2B,GAQ/B,OAPAroB,KAAK6B,YAAYsG,QAASlK,IACa,cAAjC+B,KAAKoB,OAAOC,MAAMuF,YACpByhB,EAAyBpqB,GAAKA,EAAI,IAAM+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAG,IAErFoqB,EAAyBpqB,GAAKA,IAG3BoqB,GAET,iBAQE,MAAMoJ,EAOF,GAUJ,OATAzxB,KAAK6B,YAAYsG,QAASlK,IAExBwzB,EAAezxB,KAAKqoB,yBAAyBpqB,IAAM,CACjDE,KAAKF,EACLwf,UAAWjhB,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAI+B,KAAK0uB,qBAAqBzwB,GAAK,EAC/FuZ,WAAahb,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAI+B,KAAK0uB,qBAAqBzwB,GAAK,IAAM,IAAO,EAC9G0Z,YAAcnb,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAI+B,KAAK0uB,qBAAqBzwB,GAAK,IAAM,IAAM,KAG3GwzB,GAET,gBAsDE,MAAM4O,EAqDF,GAGJ,IAAItO,EAAe,GA4FnB,OA3FA/xB,KAAK6B,YAAYsG,QAASlK,IAExBoiC,EAAcpiC,GAAK,CACjBE,KAAKF,EACLwf,UAAWjhB,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAI+B,KAAK0uB,qBAAqBzwB,GAAK,EAC/FgkB,IAAK,EACLgQ,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPkO,KAAM,GACNC,OAAS,GACTC,OAAS,GACThO,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjB8N,iBAAkB,GAClBC,mBAAoB,GACpBC,mBAAoB,GACpB5N,gBAAiB,IAEnB/yB,KAAKgK,WAAW7B,QAAStJ,IACvBwhC,EAAcpiC,GAAG,mBAAmBY,GAAK,CACvCgJ,UAAW,IAAI4K,KAEjB4tB,EAAcpiC,GAAG,mBAAmBY,GAAK,CACvCgJ,UAAW,IAAI4K,KAEjB4tB,EAAcpiC,GAAG,mBAAmBY,GAAK,CACvCgJ,UAAW,IAAI4K,KAEjB4tB,EAAcpiC,GAAG,mBAAmBY,GAAK,CACvCgJ,UAAW,IAAI4K,KAEjB4tB,EAAcpiC,GAAG,oBAAoBY,GAAK,CACxCgJ,UAAW,IAAI4K,KAEjB4tB,EAAcpiC,GAAG,sBAAsBY,GAAK,CAC1CgJ,UAAW,IAAI4K,KAEjB4tB,EAAcpiC,GAAG,sBAAsBY,GAAK,CAC1CgJ,UAAW,IAAI4K,KAEjB4tB,EAAcpiC,GAAG,mBAAmBY,GAAK,CACvCgJ,UAAW,IAAI4K,OAInBzS,KAAKgK,WAAW7B,QAAStJ,IACvB,IAAI8yB,EAAala,WAAY5Y,GAAKmB,KAAK6/B,oBAAoB7Y,KAAQ,EAAI,EAAIvP,WAAY5Y,IAAM4Y,WAAY5Y,GAAKmB,KAAK6/B,oBAAoB7Y,MACnI4K,EAAcna,WAAY5Y,GAAKmB,KAAK6/B,oBAAoB/Y,MAAS,EAAI,EAAIrP,WAAY5Y,IAAM4Y,WAAY5Y,GAAKmB,KAAK6/B,oBAAoB/Y,OACzI9mB,KAAK6H,UAAUM,QAASkB,IACtB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuBnf,GAC5D2iC,EAAW3N,GAAoBp0B,EAAImB,KAAK4S,QAAQ,GAAK5S,KAAK4S,QAAQ,GAClE2mB,EAAUjwB,GAAaD,GAAIqE,QAAUkzB,EAAU,EAAI,EACnD5P,EAAWnyB,EACXo0B,EAAmBtB,GAAasB,EAAmBrB,GACnDyO,EAAcpiC,GAAG,oBAAoBY,GAAGgJ,UAAUuZ,IAAI/X,GACtDg3B,EAAcpiC,GAAG80B,gBAAgBl0B,GAAGgJ,UAAUuZ,IAAI3J,WAAWwb,IAC9C,GAAXsG,EACF8G,EAAcpiC,GAAG,sBAAsBY,GAAGgJ,UAAUuZ,IAAI/X,GAExDg3B,EAAcpiC,GAAG,sBAAsBY,GAAGgJ,UAAUuZ,IAAI/X,IAEnD4pB,GAAoBrB,EACzBtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CytB,EAAcpiC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAE5Dg3B,EAAcpiC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAG1DC,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CytB,EAAcpiC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAE5Dg3B,EAAcpiC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,OAKpErJ,KAAKgK,WAAW7B,QAAStJ,IACvBwhC,EAAcpiC,GAAG,SAASpB,KAAKwjC,EAAcpiC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAChFokB,EAAcpiC,GAAG,SAASpB,KAAKwjC,EAAcpiC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAChFokB,EAAcpiC,GAAG,SAASpB,KAAKwjC,EAAcpiC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAChFokB,EAAcpiC,GAAG,SAASpB,KAAKwjC,EAAcpiC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAChFokB,EAAcpiC,GAAG,QAAQpB,KAAKwjC,EAAcpiC,GAAG,oBAAoBY,GAAGgJ,UAAUoU,MAChFokB,EAAcpiC,GAAG,UAAUpB,KAAKwjC,EAAcpiC,GAAG,sBAAsBY,GAAGgJ,UAAUoU,MACpFokB,EAAcpiC,GAAG,UAAUpB,KAAKwjC,EAAcpiC,GAAG,sBAAsBY,GAAGgJ,UAAUoU,MACpF8V,EAAal1B,KAAKwjC,EAAcpiC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,KAAOokB,EAAcpiC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,KAAOokB,EAAcpiC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,KAAOokB,EAAcpiC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,UAGxOokB,GAGT,aAIE,OAAOrgC,KAAKoB,OAAOC,MAAM8J,mBAE3B,aACE,MAAMyN,EAAI9O,GAAA,OACPC,OAAO,CAA6B,OAA5B/J,KAAK0G,qBAA+B,EAAG,EAAG,IAClDmjB,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,GAET,IACE,MAAMD,EAAI7O,GAAA,OACPC,OAAO/J,KAAKooB,0BACZyB,MAAM,CAAC,EAAc,GAAX7pB,KAAKgW,QACf8T,aAAa,GACbC,aAAa,IAChB,OAAOpR,GAET,IACE,MAAMC,EAAI9O,GAAA,OACPC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,GAET,SACE,MAAM2jB,EAASzyB,GAAA,OACVC,OAAO,CAAC,EAAG,MACX8f,MAAM,CAAC,EAAG,MACV2S,OAAM,GACX,OAAOD,GAET,aACE,OAAOv8B,KAAKoB,OAAOC,MAAMmP,YAE3B,eACE,OAAOxQ,KAAKoB,OAAOC,MAAMoP,eAG7BuZ,MAAO,CACL,eACE,IAAIpZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,gCAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKpB,MAAQ,GACbA,EAAMiD,YAAYsG,QAASlK,IACrB+B,KAAK6B,YAAYsE,SAASlI,IAC5B+B,KAAKpB,MAAM/B,KAAK,CAAC,KAAOoB,MAG5B+B,KAAK0G,oBAAsB9H,EAAMkwB,cAIvC9uB,KAAK6gC,qBAEP,aACE,IAAIhsB,EAAS,CAAC,KAAO,+BACP,OAAU,CACR,YAAc7U,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,MACpC,WAAa6B,KAAK0G,sBAClC1G,KAAKoB,OAAOO,SAAS,oBAAoBkT,IAE3C,QACE7U,KAAKovB,mBAEP,WACEpvB,KAAK8gC,gBAEP,WACE9gC,KAAK+gC,gBAEP,iBACE/gC,KAAKghC,sBAEP,iBACEhhC,KAAKihC,wBAEP,gBACEjhC,KAAKihC,wBAEP,sBACEjhC,KAAKggC,2BAA2BnjC,KAAK,CAAC,KAAOmD,KAAK6/B,oBAAoB7Y,KAAM,MAAShnB,KAAK6/B,oBAAoB/Y,SAEhH,mBACE9mB,KAAKkhC,qBACLlhC,KAAKmhC,mBAEP,0BACE,IAAIC,EAAgC,GACpCphC,KAAKggC,2BAA2B73B,QAASlK,IACnCA,EAAE+oB,MAAQhnB,KAAK+/B,wBAAwB/Y,MAAQ/oB,EAAE6oB,OAAS9mB,KAAK+/B,wBAAwBjZ,OAGzFsa,EAA8BvkC,KAAKoB,KAGvC+B,KAAKggC,2BAA6BoB,GAEpC,6BACEphC,KAAKqhC,wBACLrhC,KAAKmhC,mBAEP,sBACEnhC,KAAK6gC,oBACL7gC,KAAKmhC,mBAEP,QACMnhC,KAAKpB,MAAMrC,OAAS,IACtByD,KAAKpB,MAAQ,CAACoB,KAAKpB,MAAMoB,KAAKpB,MAAMrC,OAAO,KAE7CyD,KAAKqhC,wBACLrhC,KAAKmhC,mBAEP,QACEnhC,KAAKkqB,aAEP,uBACElqB,KAAK8/B,iBAAmB,CACtB,KAAO9/B,KAAKq/B,qBAAqBjB,UAAU/lB,QAAQ,GACnD,MAAQrY,KAAKq/B,qBAAqBhB,WAAWhmB,QAAQ,IAEvDrY,KAAKshC,qBAEP,eACEthC,KAAKihC,uBACLjhC,KAAKuhC,sBAEP,YACEvhC,KAAK6gC,oBACL7gC,KAAKqhC,wBACLrhC,KAAKmhC,mBAEP,aACEnhC,KAAK0sB,mBAGT,UACE,IAAI9b,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,gCAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKpB,MAAQ,GACbA,EAAMiD,YAAYsG,QAASlK,IACrB+B,KAAK6B,YAAYsE,SAASlI,IAC5B+B,KAAKpB,MAAM/B,KAAK,CAAC,KAAOoB,MAG5B+B,KAAK0G,oBAAsB9H,EAAMkwB,cAIvC9uB,KAAK6gC,qBAEP39B,QAAS,CACP,kBACE,MAAMoE,EAAatH,KAAKq5B,MAAM/xB,WACxB1I,EAAQ6Y,WAAWzX,KAAKq5B,MAAM5b,WAAWpF,QAAQ,GACvD,IAAIiX,EAAoB,CAAC,WAAahoB,EAAY,iBAAwC,IAApBmQ,WAAW7Y,IACjFoB,KAAKoB,OAAOO,SAAS,6CAA6C2tB,IAEpE,kBACEtvB,KAAKggC,2BAA6B,CAAChgC,KAAK6/B,sBAE1C,aACE7/B,KAAKggC,2BAA6B,CAChC,CAAChZ,KAAM,GAAIF,MAAO,IAClB,CAACE,KAAM,IAAKF,MAAO,KACnB,CAACE,KAAM,IAAKF,MAAO,OAEvB,aACE9mB,KAAKinB,MAAQ,CAAEjf,KAAM,GAAIV,WAAY,GAAI83B,mBAAoB,KAE/D,gBACEp/B,KAAKu/B,SAAW,CAAE9hB,UAAU,KAE9B,gBACEzd,KAAKw/B,SAAW,CAAE/hB,UAAU,KAE9B,sBACEzd,KAAKigC,cAAgB,EACrBjgC,KAAKkgC,eAAiB,EACtBlgC,KAAKkJ,aAAe,GACpBlJ,KAAKgK,WAAa,CAAC,EAAM,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACtEhK,KAAKqhC,wBACLrhC,KAAKmhC,mBAEP,qBACE,MAAMhX,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACjBgD,EAAMK,OAAO,cAEVL,EAAMK,OAAO,yBAAyBnR,KAAK,YAAa,aAAerZ,KAAKu8B,OAA2B,GAAnBv8B,KAAiB,cAAc,WAC/GmqB,EAAMK,OAAO,aAAazlB,KAAK,mBAAqB/E,KAAKkJ,eAEpF,uBACE,IAAImxB,EAAW,GACXmH,GAAS/pB,WAAWzX,KAAKkgC,gBAAkBzoB,WAAWzX,KAAKigC,gBAAkBxoB,WAAWzX,KAAKkJ,cAC7Fu4B,EAAMhqB,WAAWzX,KAAKigC,eAI1B,IAAK,IAAI5jC,KAAK,gBAAO2D,KAAKkJ,cAAe,CAEvC,GADS,EACLu4B,EAAMzhC,KAAKkgC,eAAgB,MAC/B,IAAI5f,EAAgB,GAAGmhB,EAAIppB,QAAQ,GAC9BgiB,EAASl0B,SAASma,IACrB+Z,EAASx9B,KAAKyjB,GAEhBmhB,GAAOD,EAGTxhC,KAAKgK,WAAaqwB,EAClBr6B,KAAKqhC,wBACLrhC,KAAKmhC,mBAEP,uBACE,MAAMhX,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACnCnnB,KAAKgK,WAAW7B,QAAQ,CAACtJ,EAAExC,KACzB2D,KAAKggC,2BAA2B73B,QAAQ,CAACmjB,EAAWrtB,KAClDksB,EAAMK,OAAO,uBAAuBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KAChE8Q,EAAMK,OAAO,0BAA0BvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KACnE8Q,EAAMK,OAAO,gBAAgBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KACzD8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KAC1D8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KAC1D8Q,EAAMK,OAAO,cAAcvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,UAI7D,qBACE,IAAIiS,EAAYtrB,KAAKs/B,eAAehU,UAAU5T,MAAM,KAAK,GACzD,MAAMyS,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAEE,cAAjCnnB,KAAKs/B,eAAehU,UACtBtrB,KAAK0hC,uBAEL1hC,KAAKgK,WAAW7B,QAAQ,CAACtJ,EAAExC,KACzB2D,KAAKggC,2BAA2B73B,QAAQ,CAACmjB,EAAWrtB,KAClDksB,EAAMK,OAAO,uBAAuBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OAChE8Q,EAAMK,OAAO,0BAA0BvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OACnE8Q,EAAMK,OAAO,gBAAgBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OACzD8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OAC1D8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OAC1D8Q,EAAMK,OAAO,cAAcvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,SAEzD8Q,EAAMK,OAAO,uBAAuBc,EAAY,IAAMjvB,GAAGgd,KAAK,UAAU,KACxE8Q,EAAMK,OAAO,0BAA0Bc,EAAY,IAAMjvB,GAAGgd,KAAK,UAAU,KAC3E8Q,EAAMK,OAAO,gBAAgBc,EAAY,IAAMjvB,GAAGgd,KAAK,UAAU,KACjE8Q,EAAMK,OAAO,iBAAiBc,EAAY,IAAMjvB,GAAGgd,KAAK,UAAU,KAClE8Q,EAAMK,OAAO,iBAAiBc,EAAY,IAAMjvB,GAAGgd,KAAK,UAAU,KAClE8Q,EAAMK,OAAO,cAAcc,EAAY,IAAMjvB,GAAGgd,KAAK,UAAU,QAIrE,eACE,MAAM8Q,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B1J,EAAYzd,KAAKw/B,SAAS/hB,UAAU/F,MAAM,KAAK,GAC/CyoB,EAAangC,KAAKmgC,WACxB,IAAIH,EAA6B,GACjChgC,KAAKggC,2BAA2B73B,QAAS9L,IACvC2jC,EAA2BnjC,KAAKR,KAElC,MAAMslC,EAAkB3B,EAA2Bn0B,KAAK,CAAC+1B,EAAGC,IAClDD,EAAG9a,MAAQ8a,EAAG5a,KAAS6a,EAAG/a,MAAQ+a,EAAG7a,KAChC,EAGL4a,EAAG9a,MAAQ8a,EAAG5a,KAAS6a,EAAG/a,MAAQ+a,EAAG7a,MAC/B,EAGL,GAIPhnB,KAAKw/B,SAAS/hB,WAChBzd,KAAKgK,WAAW7B,QAAQ,CAACtJ,EAAExC,KACzBslC,EAAgBx5B,QAAQ,CAACmjB,EAAWrtB,KAClCksB,EAAMK,OAAO,uBAAuBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OAChE8Q,EAAMK,OAAO,0BAA0BvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OACnE8Q,EAAMK,OAAO,gBAAgBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OACzD8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OAC1D8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OAC1D8Q,EAAMK,OAAO,cAAcvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,WAG3D8Q,EAAMK,OAAO,uBAAuBnR,KAAK,UAAW,GACpDsoB,EAAgBx5B,QAAQ,CAACmjB,EAAUrtB,KACjC,IAAI5B,EAAIohB,EACJ8B,EAAK4gB,EAAWliC,GAAGg0B,MAAM51B,GACzBwjB,EAAKsgB,EAAWliC,GAAGm0B,MAAM/1B,GACzBqjB,EAAKygB,EAAWliC,GAAGk0B,MAAM91B,GACzBoE,EAAK0/B,EAAWliC,GAAGi0B,MAAM71B,GAIzB+S,GAHM+wB,EAAWliC,GAAGsiC,OAAOlkC,GACrB8jC,EAAWliC,GAAGuiC,OAAOnkC,GACvB8jC,EAAWliC,GAAGqiC,KAAKjkC,GACVkjB,EAAGM,GAAK,EAAIN,GAAIA,EAAGM,GAAY,GAALN,EAAO,EAAE,GAChDW,EAAUX,EAAG9e,GAAK,EAAI8e,GAAIA,EAAG9e,GAAY,GAALif,EAAO,EAAE,EAC7C5T,EAAMsD,EAAY8Q,GAAU,EAAI,EAAE9Q,EAAU8Q,GAAW9Q,EAAY8Q,GAAQ9Q,EAAU8Q,GAAQ,EAAE,EAAE,EACjGE,EAAM,GACLb,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,IACpC2f,GAAQb,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,KAEhE0pB,EAAMK,OAAO,uBAAuBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KACxE8Q,EAAMK,OAAO,0BAA0BvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KAC3E8Q,EAAMK,OAAO,gBAAgBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KACjE8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KAClE8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KAClE8Q,EAAMK,OAAO,cAAcvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KAC/D8Q,EAAMK,OAAO,yBAAyBvsB,GAAG8G,KAAK,WAAY/E,KAAKmgC,WAAWliC,GAAGg0B,MAAMxU,GAAazd,KAAKmgC,WAAWliC,GAAGk0B,MAAM1U,GAAczd,KAAKmgC,WAAWliC,GAAGqiC,KAAK7iB,IAAazd,KAAK6H,UAAgB,QAAGwQ,QAAQ,IAAIgB,KAAK,UAAuC,YAA5BrZ,KAAK0G,oBAAmC,EAAE,GAC1QyjB,EAAMK,OAAO,4BAA4BvsB,GAChC8G,KAAiC,YAA5B/E,KAAK0G,oBAAkC,UAAW1G,KAAKmgC,WAAWliC,GAAGg0B,MAAMxU,GAAazd,KAAKmgC,WAAWliC,GAAGk0B,MAAM1U,KAAczd,KAAK6H,UAAUtL,OAAUyD,KAAKmgC,WAAWliC,GAAGqiC,KAAK7iB,KAAapF,QAAQ,GACxK,aAA5BrY,KAAK0G,oBAAmC,cAAe,EAAY2R,QAAQ,GAC/C,UAA5BrY,KAAK0G,oBAAgC,WAAY,EAAS2R,QAAQ,GACtC,OAA5BrY,KAAK0G,oBAA6B,QAAS,EAAM2R,QAAQ,GACzD,OAAQ,EAAKA,QAAQ,IAAIgB,KAAK,UAAW,GACxD8Q,EAAMK,OAAO,4BAA4BvsB,GAAG8G,KAAK,WAAY/E,KAAKmgC,WAAWliC,GAAGg0B,MAAMxU,GAAazd,KAAKmgC,WAAWliC,GAAGk0B,MAAM1U,IAAczd,KAAK6H,UAAgB,QAAGwQ,QAAQ,IAAIgB,KAAK,UAAuC,YAA5BrZ,KAAK0G,oBAAmC,EAAE,OAG1OyjB,EAAMK,OAAO,uBAAuBnR,KAAK,UAAW,GAEpDrZ,KAAKgK,WAAW7B,QAAQ,CAACtJ,EAAExC,KACzBslC,EAAgBx5B,QAAQ,CAACmjB,EAAWrtB,KAClCksB,EAAMK,OAAO,uBAAuBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KAChE8Q,EAAMK,OAAO,0BAA0BvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KACnE8Q,EAAMK,OAAO,gBAAgBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KACzD8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KAC1D8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KAC1D8Q,EAAMK,OAAO,cAAcvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KACvD8Q,EAAMK,OAAO,yBAAyBvsB,GAAG8G,KAAK9G,GAAGob,KAAK,UAAW,GACjE8Q,EAAMK,OAAO,4BAA4BvsB,GAAG8G,KAAK9G,GAAGob,KAAK,UAAW,GACpE8Q,EAAMK,OAAO,4BAA4BvsB,GAAG8G,KAAK9G,GAAGob,KAAK,UAAW,SAM5E,eACE,MAAMoE,EAAYzd,KAAKu/B,SAAS9hB,UAAU/F,MAAM,KAAK,GAC/CoqB,EAAY,CAACxW,EAAkB7N,EAAmBpH,KAEtD,MAAMxO,EAAY7H,KAAKmgC,WAAW7U,GAAW,oBAAoBtrB,KAAKgK,WAAWyT,IAAY5V,UACvFsjB,EAAuBlc,GAAapH,EAAWwO,GACrD,IAAI6W,EAAiB,EACrBA,EAAiBltB,KAAK6H,UAAUtL,OAChC,MAAM4wB,EAA2BhC,EAAqBlP,KAAOiR,EAC7D,OAAO,EAA2B7U,QAAQ,KAGtC,MAACjN,EAAK,OAAE+E,GAAUnQ,KAAKiY,WAC7B,IAAI+nB,EAA6B,GACjChgC,KAAKggC,2BAA2B73B,QAAS9L,IACvC2jC,EAA2BnjC,KAAKR,KAElC,MAAMslC,EAAkB3B,EAA2Bn0B,KAAK,CAAC+1B,EAAGC,IAClDD,EAAG9a,MAAQ8a,EAAG5a,KAAS6a,EAAG/a,MAAQ+a,EAAG7a,KAChC,EAGL4a,EAAG9a,MAAQ8a,EAAG5a,KAAS6a,EAAG/a,MAAQ+a,EAAG7a,MAC/B,EAGL,GAELmD,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAChBnnB,KAAKmgC,WAGpBngC,KAAKu/B,SAAS9hB,WAChBzd,KAAKgK,WAAW7B,QAAQ,CAACtJ,EAAExC,KACzBslC,EAAgBx5B,QAAQ,CAACmjB,EAAWrtB,KAClCksB,EAAMK,OAAO,uBAAuBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OAChE8Q,EAAMK,OAAO,oBAAoBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAY,KAC/D8Q,EAAMK,OAAO,oBAAoBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAY,KAC/D8Q,EAAMK,OAAO,qBAAqBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAY,KAChE8Q,EAAMK,OAAO,qBAAqBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAY,KAChE8Q,EAAMK,OAAO,0BAA0BvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OACnE8Q,EAAMK,OAAO,gBAAgBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OACzD8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OAC1D8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,OAC1D8Q,EAAMK,OAAO,cAAcvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,WAG3D8Q,EAAMK,OAAO,uBAAuBnR,KAAK,UAAW,GACpDsoB,EAAgBx5B,QAAQ,CAACmjB,EAAUrtB,KACjCksB,EAAMK,OAAO,uBAAuBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KACxE8Q,EAAMK,OAAO,oBAAoBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAY,KACvE8Q,EAAMK,OAAO,oBAAoBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAY,KACvE8Q,EAAMK,OAAO,qBAAqBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAY,KACxE8Q,EAAMK,OAAO,qBAAqBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAY,KACxE8Q,EAAMK,OAAO,0BAA0BvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KAC3E8Q,EAAMK,OAAO,gBAAgBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KACjE8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KAClE8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KAClE8Q,EAAMK,OAAO,cAAcvsB,EAAI,IAAMwf,GAAWpE,KAAK,UAAU,KAC/D8Q,EAAMK,OAAO,yBAAyBvsB,GAAG8G,KAAK,eAAgB/E,KAAKmgC,WAAWliC,GAAGqiC,KAAK7iB,GAAazd,KAAK6H,UAAUtL,QAAQ8b,QAAQ,IAAIgB,KAAK,UAAW,GAClJjO,EACF+e,EAAMK,OAAO,4BAA4BvsB,GAAG8G,KAAK,YAAa+8B,EAAU7jC,EAAEwf,EAAUrS,EAAMvD,YAAYwR,KAAK,UAAW,GAEtH8Q,EAAMK,OAAO,4BAA4BvsB,GAAGob,KAAK,UAAW,GAE1DlJ,EACFga,EAAMK,OAAO,4BAA4BvsB,GAAG8G,KAAK,YAAa+8B,EAAU7jC,EAAEwf,EAAUtN,EAAOtI,YAAYwR,KAAK,UAAW,GAEvH8Q,EAAMK,OAAO,4BAA4BvsB,GAAGob,KAAK,UAAW,OAKhE8Q,EAAMK,OAAO,uBAAuBnR,KAAK,UAAW,GAEpDrZ,KAAKgK,WAAW7B,QAAQ,CAACtJ,EAAExC,KACzBslC,EAAgBx5B,QAAQ,CAACmjB,EAAWrtB,KAClCksB,EAAMK,OAAO,uBAAuBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KAChE8Q,EAAMK,OAAO,oBAAoBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAY,KAC/D8Q,EAAMK,OAAO,oBAAoBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAY,KAC/D8Q,EAAMK,OAAO,qBAAqBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAY,KAChE8Q,EAAMK,OAAO,qBAAqBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAY,KAChE8Q,EAAMK,OAAO,0BAA0BvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KACnE8Q,EAAMK,OAAO,gBAAgBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KACzD8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KAC1D8Q,EAAMK,OAAO,iBAAiBvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KAC1D8Q,EAAMK,OAAO,cAAcvsB,EAAI,IAAM5B,GAAGgd,KAAK,UAAU,KACvD8Q,EAAMK,OAAO,yBAAyBvsB,GAAG8G,KAAK9G,GAAGob,KAAK,UAAW,GACjE8Q,EAAMK,OAAO,4BAA4BvsB,GAAG8G,KAAK9G,GAAGob,KAAK,UAAW,GACpE8Q,EAAMK,OAAO,4BAA4BvsB,GAAG8G,KAAK9G,GAAGob,KAAK,UAAW,SAK5E,YAEE,MAAM8Q,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B4a,EAAkB/hC,KAAKinB,MAAMmY,mBAC7B4C,EAAY7X,EAAME,UAAU,wBAAwB0X,GACpDE,EAA0B9X,EAAMK,OAAO,iCACvC0X,EAAyB/X,EAAMK,OAAO,gCACtC2X,EAA0BhY,EAAMK,OAAO,iCACvC4X,EAAuBjY,EAAMK,OAAO,6BACpC6X,EAA0BlY,EAAMK,OAAO,iCACvC8X,EAAuBnY,EAAMK,OAAO,6BACpC+X,EAA0BpY,EAAMK,OAAO,iCACvCgY,EAAyBrY,EAAMK,OAAO,gCACtCiY,EAA4BtY,EAAMK,OAAO,kCACzCkY,EAAoBvY,EAAMK,OAAO,0BACjCmY,EAAoBxY,EAAMK,OAAO,0BAEjCuS,EAAkB5S,EAAMK,OAAO,uBAE/BoY,EAAwB5iC,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,OAC9C,MAAEiN,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAEzB4qB,EAAa/4B,GAAA,OAChBC,OAAO/J,KAAKgK,YACZ6f,MAAM,CAAC,EAAc,GAAX7pB,KAAKgW,QACf8T,aAAa,IAEVgY,EAAY,CAAC7W,EAAuBC,EAAY7U,KACpD,MAAMxO,EAAY7H,KAAKqgC,cAAcpV,GAAgBwV,iBAAiBvV,GAAYrjB,UAClF,IAAIqlB,EAAiB,EACrBA,EAAiBltB,KAAK6H,UAAUtL,OAChC,MAAM4uB,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2BhC,EAAqBlP,KAAOiR,EAAiB,IAC9E,OAAOC,EAAyB9U,QAAQ,GAAK,KAI/CuqB,EAAsBz6B,QAASlK,IAC7BksB,EAAME,UAAU,wBAAwBpsB,GAAGob,KAAK,OAAQ,eAGlC,cAApBrZ,KAAKinB,MAAMjf,KACbg6B,EAAUjmC,KAAKiE,KAAKgK,YACjBqP,KAAK,OAAQ,CAACnb,EAAE7B,IACfA,IAAM2D,KAAKinB,MAAM3f,WACb,OACA,aAER06B,EAAU3oB,KAAK,OAAQ,aAGzB,MAAMyR,EAAe,IACfC,EAAoB,IACtB/qB,KAAKinB,MAAMjf,MACb+0B,EAAgB3R,aACbC,SAASP,GACTzR,KAAK,UAAW,GAChBA,KAAK,OAAO,SACZA,KAAK,YAAa,2BACfwpB,EAAW7iC,KAAKgK,WAAWhK,KAAKinB,MAAM3f,oCAG5Cm7B,EACGrX,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAa,2BACfwpB,EAAW7iC,KAAKgK,WAAWhK,KAAKinB,MAAM3f,aAAa,0BAEtDvC,KAAK,eAAiBg9B,GAEzBI,EACG/W,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAOrZ,KAAK4Y,EAAG5Y,KAAKqgC,cAAc0B,GAAiBzB,KAAKtgC,KAAKinB,MAAM3f,YAAgBtH,KAAK6H,UAAgB,SAC7GwR,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMrZ,KAAK4Y,EAAG5Y,KAAKqgC,cAAc0B,GAAiBzB,KAAKtgC,KAAKinB,MAAM3f,YAAgBtH,KAAK6H,UAAgB,SAC/Gw6B,EACGjX,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAa,2BACfwpB,EAAW7iC,KAAKgK,WAAWhK,KAAKinB,MAAM3f,aAAa,0BAEtDvC,KAAK,cAAmB/E,KAAKqgC,cAAc0B,GAAiBzB,KAAKtgC,KAAKinB,MAAM3f,YAAgBtH,KAAK6H,UAAgB,OAAI,KAAKwQ,QAAQ,GAA/G,KAEtB+pB,EACKhX,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAOrZ,KAAK4Y,GAAG5Y,KAAKqgC,cAAc0B,GAAiB9P,MAAMjyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiB5P,MAAMnyB,KAAKinB,MAAM3f,cAAgBtH,KAAK6H,UAAUtL,OAASyD,KAAKqgC,cAAc0B,GAAiBzB,KAAKtgC,KAAKinB,MAAM3f,eACxO+R,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMrZ,KAAK4Y,GAAG5Y,KAAKqgC,cAAc0B,GAAiB9P,MAAMjyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiB5P,MAAMnyB,KAAKinB,MAAM3f,cAAiBtH,KAAK6H,UAAUtL,OAASyD,KAAKqgC,cAAc0B,GAAiBzB,KAAKtgC,KAAKinB,MAAM3f,eAE7Og7B,EACGlX,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAa,2BACfwpB,EAAW7iC,KAAKgK,WAAWhK,KAAKinB,MAAM3f,aAAa,yBAEtDvC,KAAiC,YAA5B/E,KAAK0G,oBAAmC,QACjB,aAA5B1G,KAAK0G,oBAAoC,cACb,UAA5B1G,KAAK0G,oBAAiC,WACV,OAA5B1G,KAAK0G,oBAA8B,QACnC,OAAW1G,KAAKqgC,cAAc0B,GAAiB9P,MAAMjyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiB5P,MAAMnyB,KAAKinB,MAAM3f,cAAgBtH,KAAK6H,UAAUtL,OAASyD,KAAKqgC,cAAc0B,GAAiBzB,KAAKtgC,KAAKinB,MAAM3f,aAAe,KAAK+Q,QAAQ,GAArP,KAET4pB,EACK7W,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAOrZ,KAAK4Y,GAAG5Y,KAAKqgC,cAAc0B,GAAiB9P,MAAMjyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiB5P,MAAMnyB,KAAKinB,MAAM3f,aAAgBtH,KAAK6H,UAAgB,SACjLwR,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMrZ,KAAK4Y,GAAG5Y,KAAKqgC,cAAc0B,GAAiB9P,MAAMjyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiB5P,MAAMnyB,KAAKinB,MAAM3f,aAAgBtH,KAAK6H,UAAgB,SACtKwR,KAAK,aAAyC,YAA5BrZ,KAAK0G,oBAAmC,UAAU,UAGnF67B,EACGnX,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAa,2BACfwpB,EAAW7iC,KAAKgK,WAAWhK,KAAKinB,MAAM3f,aAAa,yBAEtDvC,KAAK,WAAc/E,KAAKqgC,cAAc0B,GAAiB9P,MAAMjyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiB5P,MAAMnyB,KAAKinB,MAAM3f,aAAgBtH,KAAK6H,UAAgB,OAAI,KAAKwQ,QAAQ,GAAnL,KACJgB,KAAK,aAAyC,YAA5BrZ,KAAK0G,oBAAmC,UAAU,UAIjFw7B,EACK9W,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAOrZ,KAAK4Y,GAAG5Y,KAAKqgC,cAAc0B,GAAiB9P,MAAMjyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiB5P,MAAMnyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiBzB,KAAKtgC,KAAKinB,MAAM3f,aAAgBtH,KAAK6H,UAAgB,SACnPwR,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMrZ,KAAK4Y,GAAG5Y,KAAKqgC,cAAc0B,GAAiB9P,MAAMjyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiB5P,MAAMnyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiBzB,KAAKtgC,KAAKinB,MAAM3f,aAAgBtH,KAAK6H,UAAgB,SACpPwR,KAAK,aAAyC,YAA5BrZ,KAAK0G,oBAAmC,UAAU,UAEvE87B,EACGpX,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAa,2BACfwpB,EAAW7iC,KAAKgK,WAAWhK,KAAKinB,MAAM3f,aAAa,yBAEtDvC,KAAK,WAAc/E,KAAKqgC,cAAc0B,GAAiB9P,MAAMjyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiB5P,MAAMnyB,KAAKinB,MAAM3f,YAActH,KAAKqgC,cAAc0B,GAAiBzB,KAAKtgC,KAAKinB,MAAM3f,aAAgBtH,KAAK6H,UAAgB,OAAI,KAAKwQ,QAAQ,GAArP,KACdgB,KAAK,aAAyC,YAA5BrZ,KAAK0G,oBAAmC,UAAU,UAEnE0E,GACFs3B,EACCtX,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAa,2BACfwpB,EAAW7iC,KAAKgK,WAAWhK,KAAKinB,MAAM3f,aAAa,yBAEtDvC,KAAK,QAAS+8B,EAAU9hC,KAAKinB,MAAMmY,mBAAoBp/B,KAAKgK,WAAYhK,KAAKinB,MAAM3f,YAAa8D,EAAMvD,YAErGsI,GACFwyB,EACGvX,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAa,6BACfwpB,EAAW7iC,KAAKgK,WAAWhK,KAAKinB,MAAM3f,aAAa,yBAEtDvC,KAAK,QAAS+8B,EAAU9hC,KAAKinB,MAAMmY,mBAAoBp/B,KAAKgK,WAAYhK,KAAKinB,MAAM3f,YAAa6I,EAAOtI,cAI5G46B,EACGrX,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBqpB,EACGtX,aACAC,SAASN,GACT1R,KAAK,eAAgB,GAExBspB,EACGvX,aACAC,SAASN,GACT1R,KAAK,eAAgB,GAExB0jB,EAAgB3R,aACbC,SAASN,GACT1R,KAAK,UAAW,GACnB8oB,EACG/W,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1B+oB,EACGhX,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1B6oB,EACG9W,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1B4oB,EACG7W,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1BgpB,EACGjX,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBipB,EACGlX,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBkpB,EACGnX,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBmpB,EACGpX,aACAC,SAASN,GACT1R,KAAK,eAAgB,KAG5B,oBACqBrZ,KAAKq/B,qBAAqB5hB,UACF,GAArBzd,KAAKpB,MAAMrC,QAAkByD,KAAKpB,MAAMoB,KAAKpB,MAAMrC,OAAS,GAAG4B,KADrF,MAEM6J,EAAOhI,KAAKq/B,qBAAqBr3B,KAEjCmiB,GAD0C,IAAlCnqB,KAAKq/B,qBAAqBr3B,MAAqByP,WAAWzX,KAAKq/B,qBAAqBzgC,OACpFkL,GAAA,KAAU9J,KAAKqD,MAAM8jB,MAChBrd,GAAA,KAAU,uBAAuB9B,GACjC8B,GAAA,KAAU,eAAe9B,GACxBmiB,EAAMK,OAAO,iBACbL,EAAMK,OAAO,iBACbL,EAAMK,OAAO,iBAErB,QAARxiB,GACF8B,GAAA,KAAU,4BAA+BuP,KAAK,YAAa,cAAgB,IAAM,IAAOrZ,KAAKq/B,qBAA8B,UAAE,IAAO,WACpIv1B,GAAA,KAAU,oBAAuB/E,KAAK,MAAQ/E,KAAKq/B,qBAAqBjB,WAAW/lB,QAAQ,GAAI,OAG/FvO,GAAA,KAAU,6BAAgCuP,KAAK,YAAa,cAAgB,IAAM,IAAOrZ,KAAKq/B,qBAA+B,WAAE,IAAO,WACtIv1B,GAAA,KAAU,qBAAwB/E,KAAO/E,KAAKq/B,qBAA+B,WAAEhnB,QAAQ,GAAG,OAG9F,qBACE,IAAI8nB,EAAa,GACbliC,EAAI,EACJqtB,EAAatrB,KAAK8/B,iBACtB,MAAMnc,EAAqC,GAArB3jB,KAAKpB,MAAMrC,OAAa,GAAKyD,KAAKpB,MAAMoB,KAAKpB,MAAMrC,OAAS,GAAG4B,KAG/EqxB,EAAkB1lB,GAAA,KAA4BA,GAAA,MAC7CC,OAAO,CAAC,EAAgD,GAA5C/J,KAAKggC,2BAA2BzjC,OAAS,KACrDkzB,cAAa,SAAU9W,GACtB,OAAO7O,GAAA,KAAqB6O,MAGpC,IAAI0G,EAAQ,EACZ,IAAK,IAAIngB,KAAOc,KAAKmgC,WAAY,CAC/B,GAAI9gB,GAASrf,KAAKggC,2BAA2BzjC,OAC3C,MAEF8iB,GAAS,EACT8gB,EAAWjhC,GAAOc,KAAKmgC,WAAWjhC,GAClCihC,EAAWjhC,GAAK4Z,MAAQ0W,EAAgBvxB,EAAE,GAC1CA,GAAK,EAGPkiC,EAAWliC,GAAM,CACf+oB,KAAMsE,EAAUtE,KAChBF,MAAOwE,EAAUxE,MACjBrJ,UAAWzd,KAAKgK,WAAW/L,GAC3B6kC,cAAe7kC,EACf6a,MAAO0W,EAAgBvxB,EAAE,GACzBg0B,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPkO,KAAM,GACNC,OAAS,GACTC,OAAS,GACThO,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjB8N,iBAAkB,GAClBC,mBAAoB,GACpBC,mBAAoB,IAGtB3gC,KAAKgK,WAAW7B,QAAStJ,IACrBshC,EAAWliC,GAAG,mBAAmBY,GAAK,CACtCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,mBAAmBY,GAAK,CACpCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,mBAAmBY,GAAK,CACpCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,mBAAmBY,GAAK,CACpCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,oBAAoBY,GAAK,CACrCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,sBAAsBY,GAAK,CACvCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,sBAAsBY,GAAK,CACvCgJ,UAAW,IAAI4K,OAInBzS,KAAKgK,WAAW7B,QAAStJ,IACvB,IAAI8yB,EAAala,WAAW5Y,GAAK4Y,WAAY6T,EAAUtE,MAAS,EAAI,EAAKvP,WAAW5Y,GAAK4Y,WAAY6T,EAAUtE,MAC3G4K,EAAcna,WAAW5Y,GAAK4Y,WAAY6T,EAAUxE,OAAU,EAAI,EAAKrP,WAAW5Y,GAAK4Y,WAAY6T,EAAUxE,OAEjH9mB,KAAK6H,UAAUM,QAASkB,IACtB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuBuG,GAC5Did,EAAW3N,GAAoBxb,WAAY5Y,GAAKmB,KAAK4S,QAAQ,GAAK5S,KAAK4S,QAAQ,GAC/E2mB,EAAUjwB,GAAaD,GAAIqE,QAAUkzB,EAAU,EAAI,EACnD5P,EAAWnyB,EACXo0B,EAAmBtB,GAAasB,EAAmBrB,GACnDuO,EAAWliC,GAAG,oBAAoBY,GAAGgJ,UAAUuZ,IAAI/X,GACpC,GAAXkwB,EACF4G,EAAWliC,GAAG,sBAAsBY,GAAGgJ,UAAUuZ,IAAI/X,GAErD82B,EAAWliC,GAAG,sBAAsBY,GAAGgJ,UAAUuZ,IAAI/X,IAEhD4pB,GAAoBrB,EACzBtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CutB,EAAWliC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAEzD82B,EAAWliC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAGvDC,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CutB,EAAWliC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAEzD82B,EAAWliC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,OAKjErJ,KAAKgK,WAAW7B,QAAStJ,IACvBshC,EAAWliC,GAAG,SAASpB,KAAKsjC,EAAWliC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAC1EkkB,EAAWliC,GAAG,SAASpB,KAAKsjC,EAAWliC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAC1EkkB,EAAWliC,GAAG,SAASpB,KAAKsjC,EAAWliC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAC1EkkB,EAAWliC,GAAG,SAASpB,KAAKsjC,EAAWliC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAC1EkkB,EAAWliC,GAAG,QAAQpB,KAAKsjC,EAAWliC,GAAG,oBAAoBY,GAAGgJ,UAAUoU,MAC1EkkB,EAAWliC,GAAG,UAAUpB,KAAKsjC,EAAWliC,GAAG,sBAAsBY,GAAGgJ,UAAUoU,MAC9EkkB,EAAWliC,GAAG,UAAUpB,KAAKsjC,EAAWliC,GAAG,sBAAsBY,GAAGgJ,UAAUoU,QAIhFjc,KAAKmgC,WAAcA,GAErB,wBACE,MAAMxc,EAAqC,GAArB3jB,KAAKpB,MAAMrC,OAAa,GAAKyD,KAAKpB,MAAMoB,KAAKpB,MAAMrC,OAAS,GAAG4B,KAC/EqxB,EAAkB1lB,GAAA,KAA4BA,GAAA,MAC7CC,OAAO,CAAC,EAA0C,EAAvC/J,KAAKggC,2BAA2BzjC,SAC3CkzB,cAAa,SAAU9W,GACtB,OAAO7O,GAAA,KAAqB6O,MACpC,IAAIwnB,EAAa,GACjBngC,KAAKggC,2BAA2B73B,QAAQ,CAACmjB,EAAWrtB,KAClDkiC,EAAWliC,GAAM,CACf+oB,KAAMsE,EAAUtE,KAChBF,MAAOwE,EAAUxE,MACjBrJ,UAAWzd,KAAKgK,WAAW/L,GAC3B6kC,cAAe7kC,EACf6a,MAAO0W,EAAgBvxB,EAAE,GACzBg0B,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPkO,KAAM,GACNC,OAAS,GACTC,OAAS,GACThO,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjBC,gBAAiB,GACjB8N,iBAAkB,GAClBC,mBAAoB,GACpBC,mBAAoB,IAEtB3gC,KAAKgK,WAAW7B,QAAStJ,IACvBshC,EAAWliC,GAAG,mBAAmBY,GAAK,CACpCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,mBAAmBY,GAAK,CACpCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,mBAAmBY,GAAK,CACpCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,mBAAmBY,GAAK,CACpCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,oBAAoBY,GAAK,CACrCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,sBAAsBY,GAAK,CACvCgJ,UAAW,IAAI4K,KAEjB0tB,EAAWliC,GAAG,sBAAsBY,GAAK,CACvCgJ,UAAW,IAAI4K,OAGnBzS,KAAKgK,WAAW7B,QAAStJ,IAGvB,IAAI8yB,EAAala,WAAW5Y,GAAK4Y,WAAY6T,EAAUtE,MAAS,EAAI,EAAKvP,WAAW5Y,GAAK4Y,WAAY6T,EAAUtE,MAC3G4K,EAAcna,WAAW5Y,GAAK4Y,WAAY6T,EAAUxE,OAAU,EAAI,EAAKrP,WAAW5Y,GAAK4Y,WAAY6T,EAAUxE,OAEjH9mB,KAAK6H,UAAUM,QAASkB,IACtB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuBuG,GAC5Did,EAAW3N,GAAoBxb,WAAY5Y,GAAKmB,KAAK4S,QAAQ,GAAK5S,KAAK4S,QAAQ,GAC/E2mB,EAAUjwB,GAAaD,GAAIqE,QAAUkzB,EAAU,EAAI,EAInD5P,EAAWnyB,EACXo0B,EAAmBtB,GAAasB,EAAmBrB,GACnDuO,EAAWliC,GAAG,oBAAoBY,GAAGgJ,UAAUuZ,IAAI/X,GAEpC,GAAXkwB,EACF4G,EAAWliC,GAAG,sBAAsBY,GAAGgJ,UAAUuZ,IAAI/X,GAErD82B,EAAWliC,GAAG,sBAAsBY,GAAGgJ,UAAUuZ,IAAI/X,IAEhD4pB,GAAoBrB,EACzBtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CutB,EAAWliC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAEzD82B,EAAWliC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAGvDC,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CutB,EAAWliC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,GAEzD82B,EAAWliC,GAAG,mBAAmB+yB,GAAUnpB,UAAUuZ,IAAI/X,OA6BjErJ,KAAKgK,WAAW7B,QAAStJ,IACvBshC,EAAWliC,GAAG,SAASpB,KAAKsjC,EAAWliC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAC1EkkB,EAAWliC,GAAG,SAASpB,KAAKsjC,EAAWliC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAC1EkkB,EAAWliC,GAAG,SAASpB,KAAKsjC,EAAWliC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAC1EkkB,EAAWliC,GAAG,SAASpB,KAAKsjC,EAAWliC,GAAG,mBAAmBY,GAAGgJ,UAAUoU,MAC1EkkB,EAAWliC,GAAG,QAAQpB,KAAKsjC,EAAWliC,GAAG,oBAAoBY,GAAGgJ,UAAUoU,MAC1EkkB,EAAWliC,GAAG,UAAUpB,KAAKsjC,EAAWliC,GAAG,sBAAsBY,GAAGgJ,UAAUoU,MAC9EkkB,EAAWliC,GAAG,UAAUpB,KAAKsjC,EAAWliC,GAAG,sBAAsBY,GAAGgJ,UAAUoU,UAGlFjc,KAAKmgC,WAAaA,GAEpB,oBACEr2B,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SACzC,MAAMttB,EAAI+B,KAAKpB,MAAMwK,IAAKtD,GAAIA,EAAE3H,MAAM6B,KAAKpB,MAAMrC,OAAS,GAMpDsmC,GALa7iC,KAAKgK,WACNhK,KAAK6H,UACD7H,KAAKqgC,cACjBrgC,KAAK2Y,EACL3Y,KAAK4Y,EACI9O,GAAA,OAClBC,OAAO/J,KAAKgK,YACZ6f,MAAM,CAAC,EAAc,GAAX7pB,KAAKgW,QACf8T,aAAa,IACbC,aAAa,KACR4M,EAAa32B,KAAK22B,WAGlBzB,GAFW2N,EAAWvX,YAEbxhB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC7CC,KAAK,QAAQ,eACbA,KAAK,QAAS,QACdA,KAAK,UAAW,kBACZrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBACQ,KAApD9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,YAC7CI,EAAM+N,EAAO9b,OAAO,KACrBC,KAAK,YAAa,gBAAmC,IAAhBrZ,KAAK4mB,OAAOC,QAChDkc,EAAa7N,EAAO9b,OAAO,KAC5BC,KAAK,QAAQ,aACbA,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAyB,IAAhBhnB,KAAK4mB,OAAOC,QAC/De,EAAiB5nB,KAAK0G,oBAGtBsP,EAAQhW,KAAKgW,MAAQ,EACrB6C,EAAS7Y,KAAK4mB,OAAOC,IAAM,EAC3Bmc,EAAU7b,EACX/N,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YAAa,6BACdrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,wBAClB,GAAPnO,MAELoqB,EAAiBD,EAAQ5pB,OAAO,KAC7BC,KAAK,YAAc,cAAsB,EAARrD,EAAU,IAAI,IAA5B,OAEtBktB,EAAYF,EAAQ5pB,OAAO,KACxBC,KAAK,YAAc,cAAsB,EAARrD,EAAU,KAAxB,QAEtBmW,EAAa,KACjB+W,EAAU9pB,OAAO,QACZC,KAAK,QAAS,QACdrT,MAAM,SAAU,QAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAM,IACXA,KAAK,KAAM,KACXA,KAAK,KAAM,GACXA,KAAK,KAAM,GACbA,KAAK,aAAyC,YAA5BrZ,KAAK0G,oBAAmC,UAAU,UAEvEw8B,EAAU9pB,OAAO,QACZC,KAAK,QAAS,QACdrT,MAAM,SAAU,QAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAM,IACXA,KAAK,KAAM,KACXA,KAAK,KAAM,IACXA,KAAK,KAAM,IAChB6pB,EAAU9pB,OAAO,QACZC,KAAK,QAAS,QACdrT,MAAM,SAAU,QAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAM,IACXA,KAAK,KAAM,KACXA,KAAK,KAAM,IACXA,KAAK,KAAM,IACbA,KAAK,aAAyC,YAA5BrZ,KAAK0G,oBAAmC,UAAU,UAEvEw8B,EAAU9pB,OAAO,QACZC,KAAK,QAAS,QACdrT,MAAM,SAAU,QAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAM,IACXA,KAAK,KAAM,IACXA,KAAK,KAAM,GACXA,KAAK,KAAM,IACbA,KAAK,aAAyC,YAA5BrZ,KAAK0G,oBAAmC,UAAU,UAEvEw8B,EAAU9pB,OAAO,QACdC,KAAK,QAAQ,YACbA,KAAK,YAAc,qBACnBA,KAAK,YAAa,QAClBA,KAAK,cAAe,QACpBA,KAAK,qBAAsB,UAC3BA,KAAK,OAAQ,aACbtU,KAAK,+BACLsU,KAAK,aAAyC,YAA5BrZ,KAAK0G,oBAAmC,UAAU,UAEvEw8B,EAAU9pB,OAAO,QACdC,KAAK,QAAQ,YACbA,KAAK,YAAc,sBACnBA,KAAK,YAAa,QAClBA,KAAK,cAAe,QACpBA,KAAK,qBAAsB,UAC3BA,KAAK,OAAQ,aACbtU,KAAiC,YAA5B/E,KAAK0G,oBAAkC,iCAChB,aAA5B1G,KAAK0G,oBAAoC,YACb,UAA5B1G,KAAK0G,oBAAiC,SACV,OAA5B1G,KAAK0G,oBAA6B,MAClC,MACHw8B,EAAU9pB,OAAO,QACdC,KAAK,QAAQ,YACbA,KAAK,YAAc,sBACnBA,KAAK,YAAa,QAClBA,KAAK,cAAe,QACpBA,KAAK,qBAAsB,UAC3BA,KAAK,OAAQ,aACbtU,KAAK,+BACLsU,KAAK,aAAyC,YAA5BrZ,KAAK0G,oBAAmC,UAAU,UAGvEu8B,EAAc7pB,OAAO,QAChBC,KAAK,QAAS,SACdrT,MAAM,SAAU,aAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAMrZ,KAAKu8B,OAAO1S,QAAQ,IAC/BxQ,KAAK,KAAMrZ,KAAKu8B,OAAO1S,QAAQ,IAC/BxQ,KAAK,KAAM,GACXA,KAAK,KAAM,GAEhB,IAAI8pB,EAAQF,EAAc7pB,OAAO,QAC5BC,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,KAAK,GACVA,KAAK,KAAK,GACVrT,MAAM,OAAQ,aACdA,MAAM,SAAU,QAChBqT,KAAK,QAAQ,wBACbA,KAAK,YAAa,uBAClB1c,KAAKmN,GAAA,OACHnJ,GAAG,mBAAmB,WACrBwiC,EAAMC,eAEPziC,GAAG,aACHzC,GAAW8B,KAAKkJ,aAAeO,KAAK45B,MAAuC,GAAjCrjC,KAAKu8B,OAAO+G,OAAOx5B,GAAA,KAAS6O,MAG3EsqB,EAAc7pB,OAAO,QACpBC,KAAK,QAAQ,YACbA,KAAK,YAAc,qBACnBA,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,mBAAmB/E,KAAKkJ,eAIlCijB,IAEA,MAAMoX,EAAe,KAEnBpc,EAAI/N,OAAO,QACVC,KAAK,QAAS,OACdA,KAAK,SAAU,IACfA,KAAK,OAAQ,SACbA,KAAK,SAAS,aACdA,KAAK,eAAe,OACpBA,KAAK,IAAI,KACTA,KAAK,IAAI,QAEV,IAAImqB,EAAQ/5B,KAAK0W,KAAK,GAClBsjB,EAAgB,CAClBC,KAAM,SAAUvsB,EAAS8E,GACrB,IAAItD,GAAKlP,KAAK0W,KAAKlE,GAAgB,EAARunB,IAC3BrsB,EAAQwsB,OAAY,GAAJhrB,EAAO,GACvBxB,EAAQysB,OAAOjrB,GAAI6qB,EAAQ7qB,GAC3BxB,EAAQysB,OAAOjrB,EAAG6qB,EAAQ7qB,GAC1BxB,EAAQ0sB,cAIRC,EAAe,CACjBJ,KAAM,SAAUvsB,EAAS8E,GACvB,IAAItD,GAAKlP,KAAK0W,KAAKlE,GAAgB,EAARunB,IAC3BrsB,EAAQwsB,OAAW,EAAJhrB,EAAO,GACtBxB,EAAQysB,QAAQjrB,GAAI6qB,EAAQ7qB,GAC5BxB,EAAQysB,QAAQjrB,EAAG6qB,EAAQ7qB,GAC3BxB,EAAQ0sB,cAIZ,IAAIE,EAAWj6B,GAAA,OAAY9B,KAAK87B,GAC7B7nB,KAAK,KACJ+nB,EAAYl6B,GAAA,OAAY9B,KAAKy7B,GAC9BxnB,KAAK,KAEJsgB,EAASv8B,KAAKu8B,OAuEd4G,GArESnjC,KAAKszB,OAEJnM,EAAI/N,OAAO,QACtBC,KAAK,KAAM,GACXA,KAAK,KAAM,GACXA,KAAK,IAAK,GACVA,KAAK,KAAM,KACXA,KAAK,QAAS,KACdA,KAAK,SAAU,IACfA,KAAK,OAAO,WACZA,KAAK,SAAS,aAEJ8N,EAAI/N,OAAO,QACrBC,KAAK,QAAQ,eACbtU,KAAK,kBACLsU,KAAK,KAAK,KACVA,KAAK,IAAI,GACTA,KAAK,YAAY,QACjBA,KAAK,OAAO,QAGE8N,EAAI/N,OAAO,QACzBC,KAAK,QAAQ,cACbA,KAAK,KAAM,GACXA,KAAK,KAAM,GACXA,KAAK,IAAK,KACVA,KAAK,KAAM,KACXA,KAAK,QAAS,IACdA,KAAK,SAAU,IACfA,KAAK,OAAO,WACZA,KAAK,SAAS,aACd1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,eAAeuP,KAAK,OAAO,QACrCvP,GAAA,KAAU,aAAauP,KAAK,OAAO,WAEpC1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,eAAeuP,KAAK,OAAO,WACrCvP,GAAA,KAAU,aAAauP,KAAK,OAAO,UAEpC1Y,GAAG,QAAS,CAACzC,EAAE7B,IAAM2D,KAAK6/B,oBAAsB,CAAE7Y,KAAMhnB,KAAKq/B,qBAAqBjB,UAAU/lB,QAAQ,GAAIyO,MAAO9mB,KAAKq/B,qBAAqBhB,WAAWhmB,QAAQ,KAE/I8O,EAAI/N,OAAO,QACxBC,KAAK,QAAQ,YACbtU,KAAK,OACLsU,KAAK,KAAK,KACVA,KAAK,IAAI,KACTA,KAAK,YAAY,QACjBA,KAAK,OAAO,QACZ1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,eAAeuP,KAAK,OAAO,QACrCvP,GAAA,KAAU,aAAauP,KAAK,OAAO,WAEpC1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,eAAeuP,KAAK,OAAO,WACrCvP,GAAA,KAAU,aAAauP,KAAK,OAAO,UAErC1Y,GAAG,QAAS,CAACzC,EAAE7B,IAAM2D,KAAK6/B,oBAAsB,CAAE7Y,KAAMhnB,KAAKq/B,qBAAqBjB,UAAU/lB,QAAQ,GAAIyO,MAAO9mB,KAAKq/B,qBAAqBhB,WAAWhmB,QAAQ,KAGjJ8O,EAAI/N,OAAO,QACrBC,KAAK,QAAS,SACdrT,MAAM,SAAU,QAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAM,GACXA,KAAK,KAAM,KACXA,KAAK,MAAO,KACZA,KAAK,MAAO,KAEH8N,EAAI/N,OAAO,QACpBC,KAAK,IAAK0qB,GACV/9B,MAAM,OAAQ,OACdA,MAAM,SAAU,QAChBqT,KAAK,QAAQ,2BACbA,KAAK,YAAanb,IACjB,IAAI+lC,EAAM,IAAO,IAAOjkC,KAAKq/B,qBAAqBjB,UAAY,GAAK,EACnE,MAAO,aAAa6F,EAAI,WAEzBtnC,KAAKmN,GAAA,OACHnJ,GAAG,mBAAmB,WACrBwiC,EAAMC,eAEPziC,GAAG,aACHzC,GAAW8B,KAAKq/B,qBAAuB,CAAC,KAAO,OAAQ,WAAa,MAAO,UAAYnhC,EAChF,MAAQq+B,EAAO+G,OAAOx5B,GAAA,KAAS6O,GAAG,UAAYlP,KAAK4W,KAAK5I,WAAW8kB,EAAO+G,OAAOx5B,GAAA,KAAS6O,IAAI,KAAO,IAAM,IAAK,WAAc3Y,KAAKq/B,qBAAqBhB,eAIhK6F,EAAQ/c,EAAI/N,OAAO,QACpBC,KAAK,IAAK2qB,GACVh+B,MAAM,OAAQ,SACdA,MAAM,SAAU,QAChBqT,KAAK,QAAQ,4BACbA,KAAK,YAAanb,IACjB,IAAI+lC,EAAM,IAAajkC,KAAKq/B,qBAAqBhB,WAAa,GAA9C,IAAmD,EACnE,MAAO,aAAa4F,EAAI,WAEzBtnC,KAAKmN,GAAA,OACHnJ,GAAG,mBAAmB,WACrBujC,EAAMd,eAEPziC,GAAG,aACHzC,GAAW8B,KAAKq/B,qBAAuB,CAAC,KAAO,QAAS,WAAa,MAAO,UAAYnhC,EAC/E,MAAQq+B,EAAO+G,OAAOx5B,GAAA,KAAS6O,GAAG,UAAa3Y,KAAKq/B,qBAAqBjB,UAAW,WAAa30B,KAAK4W,KAAK5I,WAAW8kB,EAAO+G,OAAOx5B,GAAA,KAAS6O,IAAI,KAAO,IAAM,OAExJwO,EAAI/N,OAAO,QAC5BC,KAAK,QAAQ,mBACbtU,KAAK,KAAM/E,KAAKq/B,qBAAqBjB,UAAU/lB,QAAQ,GAAI,KAC3DgB,KAAK,KAAK,KACVA,KAAK,IAAI,GACTA,KAAK,YAAY,QACjBA,KAAK,OAAO,QACM8N,EAAI/N,OAAO,QAC7BC,KAAK,QAAQ,oBACbtU,KAAK/E,KAAKq/B,qBAAqBhB,WAAWhmB,QAAQ,GAAG,KACrDgB,KAAK,KAAK,KACVA,KAAK,IAAI,IACTA,KAAK,YAAY,QACjBA,KAAK,OAAO,SAGb2S,EAAa,KAChB+W,EAAW3pB,OAAO,QAChBC,KAAK,YAAa,KACjB,MAAM4S,EAAuB,GAAbjsB,KAAKgW,MACfkW,EAAUlsB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,aAERg+B,EAAW3pB,OAAO,QACfC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,KACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,yBAERg+B,EAAW3pB,OAAO,QACfC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,GACzBQ,KAAK,IAAK,GAAiB,GAAbrZ,KAAKgW,OACnBqD,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAiC,YAA5B/E,KAAK0G,oBAAmC,YACjB,aAA5B1G,KAAK0G,oBAAoC,aACb,UAA5B1G,KAAK0G,oBAAiC,SACV,OAA5B1G,KAAK0G,oBAA8B,MACnC,MAEHq8B,EAAW3pB,OAAO,QACfC,KAAK,QAAQ,eACbA,KAAK,IAAkB,GAAbrZ,KAAKgW,OACfqD,KAAK,KAAM,KACXA,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAM,gBAAkB9G,EAAI,MAG3BwtB,EAAW,KACf,MAAM0Y,EAAUxY,GAAWA,EACxBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAc+4B,GACXjX,cAAc,IAElBvS,KAAK,QAAQ,eAEhB0pB,EAAW3pB,OAAO,KACfzc,KAAKwnC,GACL9qB,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SACpB1Y,GAAG,QAAUzC,GAAc8B,KAAKigC,cAAgBxoB,WAAWvZ,GAAGma,QAAQ,IACtE1X,GAAG,cAAgBzC,GAAc8B,KAAKkgC,eAAiBzoB,WAAWvZ,GAAGma,QAAQ,IAGhF,MAAM+rB,EAAct6B,GAAA,OACjBC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IAEjBwrB,EAAU1Y,GAAWA,EACxBhvB,KAAKmN,GAAA,KAAYs6B,GACftY,MAAM,GACNC,WAA6B,OAAlBnE,EAAyB9d,GAAA,KAAU,OAAOA,GAAA,KAAU,QAGpEi5B,EAAW3pB,OAAO,KACfzc,KAAK0nC,GACLhrB,KAAK,YAAa,IAErB,MAAMirB,EAAc3Y,GAAWA,EAC5BtS,KAAK,YAAa,aAAwB,GAAXrZ,KAAKgW,aACpCrZ,KAAKmN,GAAA,KAAY6sB,GACf7K,MAAM,GACNC,WAAWjiB,GAAA,KAAU,SAG1Bi5B,EAAW3pB,OAAO,KACfzc,KAAK2nC,GACLjrB,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,oBAClBA,KAAK,cAAe,UAoBzBoS,IACAO,IACAuX,KAEF,kBACE,MAAMpZ,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BiY,EAA0C,GAArBp/B,KAAKpB,MAAMrC,OAAa,GAAKyD,KAAKpB,MAAMoB,KAAKpB,MAAMrC,OAAS,GAAG4B,KACpF0kC,EAAa/4B,GAAA,OAClBC,OAAO/J,KAAKgK,YACZ6f,MAAM,CAAC,EAAc,GAAX7pB,KAAKgW,QACf8T,aAAa,IACbC,aAAa,IACR4M,EAAa32B,KAAK22B,WAClBoM,EAAa5Y,EAAMK,OAAO,cAChCuY,EAAW1Y,UAAU,KAAKkB,SAC1B,MAAMgZ,EAAgBxB,EAAW1Y,UAAU,SACxCtuB,KAAKiE,KAAKgK,YACVqiB,KAAK,KACHhT,KAAK,QAAS,cACdA,KAAK,aAAa,SAASnb,GAC1B,MAAO,aAAa2kC,EAAW3kC,YAG/B0a,GADI5Y,KAAK2Y,EACL3Y,KAAK4Y,GACT0T,EAAWuW,EAAWvX,YACtBqB,EAAoBkW,EAAWvX,YAAc,EAC7C6U,EAAangC,KAAKmgC,WAClBt4B,EAAY7H,KAAK6H,UACjBmC,EAAahK,KAAKgK,WAElBtD,GADgB1G,KAAKqgC,cACCrgC,KAAK0G,qBAC3B09B,EAAct6B,GAAA,OACfC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACzB,IAAImnB,EAA6B,GACjChgC,KAAKggC,2BAA2B73B,QAAS9L,IACvC2jC,EAA2BnjC,KAAKR,KAElC,IAAIyjC,EAAmB9/B,KAAK8/B,iBAExBtjC,OAAO+F,KAAK49B,GAAY5jC,OAASyjC,EAA2BzjC,QAC9DyjC,EAA2BnjC,KAAKijC,GAIlC,MAAM6B,EAAkB3B,EAA2Bn0B,KAAK,CAAC+1B,EAAGC,IAClDD,EAAG9a,MAAQ8a,EAAG5a,KAAS6a,EAAG/a,MAAQ+a,EAAG7a,KAChC,EAGL4a,EAAG9a,MAAQ8a,EAAG5a,KAAS6a,EAAG/a,MAAQ+a,EAAG7a,MAC/B,EAGL,GAELwd,EAAiB,KACrB,SAAStU,EAAKhyB,EAAE7B,GACZ,OAAOyN,GAAA,MAAAA,CAAUE,EAAWZ,KAAI,SAAS7J,EAAEhC,GACzC,GAA2B,YAAvBmJ,EACF,MAAO,CAACm8B,EAAWtjC,GAAG+sB,EAAS,EAAIqK,GAAYwJ,EAAW,GAAGlO,MAAM10B,GAAK4iC,EAAW,GAAGhO,MAAM50B,KAAKsK,EAAUtL,OAAS4jC,EAAW,GAAGG,KAAK/iC,MAClI,GAA2B,UAAvBmJ,EACT,MAAO,CAACm8B,EAAWtjC,GAAG+sB,EAAS,EAAIqK,EAAWwJ,EAAW,GAAGlO,MAAM10B,GAAK4iC,EAAW,GAAGjO,MAAM30B,IAAI,EAAI4iC,EAAW,GAAGlO,MAAM10B,IAAM4iC,EAAW,GAAGlO,MAAM10B,GAAK4iC,EAAW,GAAGjO,MAAM30B,IAA+B,GAA1B4iC,EAAW,GAAGlO,MAAM10B,GAAS,EAAG,IAC1M,GAA2B,aAAvBmJ,EACT,MAAO,CAACm8B,EAAWtjC,GAAG+sB,EAAS,EAAIqK,EAAWwJ,EAAW,GAAGlO,MAAM10B,GAAK4iC,EAAW,GAAG/N,MAAM70B,IAAM,EAAG,EAAG4iC,EAAW,GAAGlO,MAAM10B,IAAM4iC,EAAW,GAAGlO,MAAM10B,GAAK4iC,EAAW,GAAG/N,MAAM70B,MACzK,GAA2B,MAAvBmJ,EAA6B,CACtC,IAAI0I,EAAY+wB,EAAW,GAAGlO,MAAM10B,GAAK4iC,EAAW,GAAGjO,MAAM30B,IAAM,EAAG4iC,EAAW,GAAGlO,MAAM10B,IAAM4iC,EAAW,GAAGlO,MAAM10B,GAAK4iC,EAAW,GAAGjO,MAAM30B,IAA8B,GAA1B4iC,EAAW,GAAGlO,MAAM10B,GAAS,EAAE,EAC5K2iB,EAAUigB,EAAW,GAAGlO,MAAM10B,GAAK4iC,EAAW,GAAG/N,MAAM70B,IAAK,EAAI4iC,EAAW,GAAGlO,MAAM10B,IAAM4iC,EAAW,GAAGlO,MAAM10B,GAAK4iC,EAAW,GAAG/N,MAAM70B,IAAgC,GAA1B4iC,EAAW,GAAGlO,MAAM10B,GAAS,EAAE,EAChL,MAAO,CAACslC,EAAWtjC,GAAG+sB,EAAS,EAAIqK,EAAWvnB,EAAY8Q,GAAS,EAAG,EAAE9Q,EAAW8Q,GAAU9Q,EAAY8Q,GAAU9Q,EAAY8Q,GAAU,EAAG,EAAE,IACzI,CACL,IAAIX,EAAK4gB,EAAW,GAAGlO,MAAM10B,GACzBsiB,EAAKsgB,EAAW,GAAG/N,MAAM70B,GACzBmiB,EAAKygB,EAAW,GAAGhO,MAAM50B,GACzBkD,EAAK0/B,EAAW,GAAGjO,MAAM30B,GAC7B,OAAKgiB,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,EAC9B,CAACoiC,EAAWtjC,GAAG+sB,EAAS,EAAIqK,GAAapX,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,MAE9F,CAACoiC,EAAWtjC,GAAG+sB,EAAS,EAAIqK,EAAW,SAMxDoM,EAAW3pB,OAAO,QACbC,KAAK,QAAS,kBACdA,KAAK,IAAM6W,GACXlqB,MAAM,OAAQ,QACdqT,KAAK,SAAU,QACfrT,MAAM,eAAgB,GACtBA,MAAM,UAAW,IAGlBs0B,EAAa,KAEjBqH,EAAgBx5B,QAAQ,CAACmjB,EAAWrtB,KAClC,IAAIoM,EAAQpM,EACZsmC,EACGnrB,OAAO,QACPC,KAAK,QAAS,CAACnb,EAAE7B,IAAI,sBAAsB4B,EAAI,IAAM5B,GACrDgd,KAAK,IAAK,CAACnb,EAAE7B,IAAM+nC,EAAYpkC,KAAKmgC,WAAWliC,GAAGqiC,KAAKjkC,GAAK2D,KAAK6H,UAAUtL,SAC3E8c,KAAK,QAASiT,EAAW,KACzBjT,KAAK,SAAU,CAACnb,EAAE7B,IAAM2D,KAAK6Y,OAASurB,EAAYpkC,KAAKmgC,WAAWliC,GAAGqiC,KAAKjkC,GAAK2D,KAAK6H,UAAUtL,SAC9F8c,KAAK,OAAQrZ,KAAKmgC,WAAWliC,GAAG6a,OAChCO,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAc,CAACzC,EAAE7B,IAAM2D,KAAKu/B,SAAW,CAAE9hB,UAAW,aAAcphB,IACrEsE,GAAG,aAAcX,KAAKykC,eACtB9jC,GAAG,QAAS,CAACzC,EAAE7B,IAAM2D,KAAKwqB,OAAOvsB,EAAG5B,EAAG,QAASivB,IAChD3qB,GAAG,cAAe,CAACzC,EAAE7B,IAAM2D,KAAKwqB,OAAOvsB,EAAG5B,EAAG,SAAUivB,IACvD3qB,GAAG,WAAW,CAACzC,EAAE7B,IAAI2D,KAAKwqB,OAAOvsB,EAAG5B,EAAG,QAASivB,EAAW,cAE/CiZ,EACZnrB,OAAO,QACPC,KAAK,QAAS,CAACnb,EAAE7B,IAAI,eAAe4B,EAAI,IAAM5B,GAC9Cgd,KAAK,KAAOiT,EAAS,GAAKjiB,EAAQ,GAAG,GACrCgP,KAAK,KAAK,CAACnb,EAAE7B,IACLs6B,GAAY32B,KAAKmgC,WAAWliC,GAAGg0B,MAAM51B,GAAK2D,KAAKmgC,WAAWliC,GAAGk0B,MAAM91B,GAAM2D,KAAKmgC,WAAWliC,GAAGqiC,KAAKjkC,IAAK2D,KAAK6H,UAAgB,SAEnIwR,KAAK,KAAOiT,EAAS,GAAKjiB,EAAQ,GAAG,GACrCgP,KAAK,KAAM,CAACnb,EAAE7B,IAAMs6B,GAAY32B,KAAKmgC,WAAWliC,GAAGg0B,MAAM51B,GAAK2D,KAAKmgC,WAAWliC,GAAGk0B,MAAM91B,GAAK2D,KAAKmgC,WAAWliC,GAAGqiC,KAAKjkC,IAAK2D,KAAK6H,UAAgB,SAC9IwR,KAAK,SAAUrZ,KAAKmgC,WAAWliC,GAAG6a,OAClCO,KAAK,eAAgB,OACrB1Y,GAAG,aAAc,CAACzC,EAAE7B,IAAM2D,KAAKw/B,SAAW,CAAE/hB,UAAW,aAAcphB,IACrEsE,GAAG,aAAcX,KAAK0kC,eACtBrrB,KAAK,aAAoC,YAAvB3S,EAAmC,UAAU,UAC/D/F,GAAG,QAAS,CAACzC,EAAE7B,IAAK2D,KAAKq5B,MAAQ,CAAC,UAAYr5B,KAAKgK,WAAW3N,GAAI,WAAc+iC,IAIhEmF,EAChBnrB,OAAO,QACPC,KAAK,QAAS,CAACnb,EAAE7B,IAAI,gBAAgB4B,EAAI,IAAM5B,GAC/Cgd,KAAK,KAAOiT,EAAS,GAAKjiB,EAAQ,GAAG,GACrCgP,KAAK,KAAK,CAACnb,EAAE7B,KACZ,IAAIkjB,EAAK4gB,EAAWliC,GAAGg0B,MAAM51B,GACzBwjB,EAAKsgB,EAAWliC,GAAGm0B,MAAM/1B,GACzBqjB,EAAKygB,EAAWliC,GAAGk0B,MAAM91B,GACzBoE,EAAK0/B,EAAWliC,GAAGi0B,MAAM71B,GAGzB2B,GAFMmiC,EAAWliC,GAAGsiC,OAAOlkC,GACrB8jC,EAAWliC,GAAGuiC,OAAOnkC,GACvB8jC,EAAWliC,GAAGqiC,KAAKjkC,IAC3B,GAA2B,YAAvBqK,EACF,OAAOiwB,GAAYpX,EAAGG,IAAK1f,KAAK6H,UAAUtL,OAAOyB,IAC5C,GAA2B,UAAvB0I,EACT,OAAOiwB,EAAWpX,GAAIA,EAAG9e,IACpB,GAA2B,aAAvBiG,EACT,OAAOiwB,EAAWpX,GAAIA,EAAGM,IACpB,GAA2B,MAAvBnZ,EAA6B,CACtC,IAAI0I,EAAYmQ,GAAMA,EAAGM,GACrBK,EAAUX,GAAMA,EAAK9e,GACzB,OAAOk2B,EAAW,EAAEvnB,EAAU8Q,GAAU9Q,EAAY8Q,IAEpD,OACSyW,GADJpX,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,GACjB8e,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAEvD,KAKvB4Y,KAAK,KAAOiT,EAAS,GAAKjiB,EAAQ,GAAG,GACrCgP,KAAK,KAAM,CAACnb,EAAE7B,KACb,IAAIkjB,EAAK4gB,EAAWliC,GAAGg0B,MAAM51B,GACzBwjB,EAAKsgB,EAAWliC,GAAGm0B,MAAM/1B,GACzBqjB,EAAKygB,EAAWliC,GAAGk0B,MAAM91B,GACzBoE,EAAK0/B,EAAWliC,GAAGi0B,MAAM71B,GAGzB2B,GAFMmiC,EAAWliC,GAAGsiC,OAAOlkC,GACrB8jC,EAAWliC,GAAGuiC,OAAOnkC,GACvB8jC,EAAWliC,GAAGqiC,KAAKjkC,IAC3B,GAA2B,YAAvBqK,EACF,OAAOiwB,GAAYpX,EAAGG,IAAK1f,KAAK6H,UAAUtL,OAAOyB,IAC5C,GAA2B,UAAvB0I,EACT,OAAOiwB,EAAWpX,GAAIA,EAAG9e,IACpB,GAA2B,aAAvBiG,EACT,OAAOiwB,EAAWpX,GAAIA,EAAGM,IACpB,GAA2B,MAAvBnZ,EAA6B,CACtC,IAAI0I,EAAYmQ,GAAMA,EAAGM,GACrBK,EAAUX,GAAMA,EAAK9e,GACzB,OAAOk2B,EAAW,EAAEvnB,EAAU8Q,GAAU9Q,EAAY8Q,IAEpD,OACSyW,GADJpX,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,GACjB8e,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAEvD,KAIvB4Y,KAAK,SAAUrZ,KAAKmgC,WAAWliC,GAAG6a,OAClCO,KAAK,eAAgB,OACrB1Y,GAAG,aAAc,CAACzC,EAAE7B,IAAM2D,KAAKw/B,SAAW,CAAE/hB,UAAW,aAAcphB,IACrEsE,GAAG,aAAcX,KAAK0kC,eACtB/jC,GAAG,QAAS,CAACzC,EAAE7B,IAAK2D,KAAKq5B,MAAQ,CAAC,UAAYr5B,KAAKgK,WAAW3N,GAAI,WAAc+iC,IAGlEmF,EACdnrB,OAAO,QACPC,KAAK,QAAS,CAACnb,EAAE7B,IAAI,gBAAgB4B,EAAI,IAAM5B,GAC/Cgd,KAAK,KAAOiT,EAAS,GAAKjiB,EAAQ,GAAG,GACrCgP,KAAK,KAAK,CAACnb,EAAE7B,IACLs6B,GAAY32B,KAAKmgC,WAAWliC,GAAGg0B,MAAM51B,GAAK2D,KAAKmgC,WAAWliC,GAAGk0B,MAAM91B,IAAK2D,KAAK6H,UAAgB,SAErGwR,KAAK,KAAOiT,EAAS,GAAKjiB,EAAQ,GAAG,GACrCgP,KAAK,KAAM,CAACnb,EAAE7B,IAAMs6B,GAAY32B,KAAKmgC,WAAWliC,GAAGg0B,MAAM51B,GAAK2D,KAAKmgC,WAAWliC,GAAGk0B,MAAM91B,IAAK2D,KAAK6H,UAAgB,SACjHwR,KAAK,SAAUrZ,KAAKmgC,WAAWliC,GAAG6a,OAClCO,KAAK,eAAgB,OACrB1Y,GAAG,aAAc,CAACzC,EAAE7B,IAAM2D,KAAKw/B,SAAW,CAAE/hB,UAAW,aAAcphB,IACrEsE,GAAG,aAAcX,KAAK0kC,eACtBrrB,KAAK,aAAoC,YAAvB3S,EAAmC,UAAU,UAC/D/F,GAAG,QAAS,CAACzC,EAAE7B,IAAK2D,KAAKq5B,MAAQ,CAAC,UAAYr5B,KAAKgK,WAAW3N,GAAI,WAAc+iC,IAGnFmF,EAAcnrB,OAAO,QAClBC,KAAK,QAAS,CAACnb,EAAE7B,IAAI,aAAa4B,EAAI,IAAM5B,GAC5Cgd,KAAK,KAAOiT,EAAS,GAAKjiB,EAAQ,GAAG,GACrCgP,KAAK,KAAK,CAACnb,EAAE7B,IACLs6B,GAAY32B,KAAKmgC,WAAWliC,GAAGg0B,MAAM51B,GAAK2D,KAAKmgC,WAAWliC,GAAGk0B,MAAM91B,GAAM2D,KAAKmgC,WAAWliC,GAAGqiC,KAAKjkC,IAAK2D,KAAK6H,UAAgB,SAGnIwR,KAAK,KAAOiT,EAAS,GAAKjiB,EAAQ,GAAG,GACrCgP,KAAK,KAAM,CAACnb,EAAE7B,IAAMs6B,GAAY32B,KAAKmgC,WAAWliC,GAAGg0B,MAAM51B,GAAK2D,KAAKmgC,WAAWliC,GAAGk0B,MAAM91B,IAAK2D,KAAK6H,UAAgB,SACjHwR,KAAK,SAAUrZ,KAAKmgC,WAAWliC,GAAG6a,OAClCO,KAAK,eAAgB,OACrBA,KAAK,aAAoC,YAAvB3S,EAAmC,UAAU,UAElE2D,GAAS,IAGXs3B,EAAgBx5B,QAAQ,CAACmjB,EAAWrtB,KAClCsmC,EACGnrB,OAAO,UACPC,KAAK,IAAKiT,EAAW,IAAOqV,EAAgBplC,QAC5C8c,KAAK,QAAS,CAACnb,EAAE7B,IAAI,yBAAyB4B,EAAI,IAAM5B,GACxDgd,KAAK,KAAOiT,EAAW,IAAOqV,EAAgBplC,QAAU0B,EAAE,KAC1Dob,KAAK,KAAOrZ,KAAK6Y,OAAUyT,EAAW,IAAOqV,EAAgBplC,QAC7D8c,KAAK,aAAc,CAACnb,EAAE7B,IACiB,GAA9B2D,KAAKmgC,WAAWliC,GAAGqiC,KAAKjkC,IAAWslC,EAAgBplC,QAAS,GAAMyD,KAAK6Y,OAAQ8d,EAAW32B,KAAKmgC,WAAWliC,GAAGqiC,KAAKjkC,GAAK2D,KAAK6H,UAAUtL,QAAS,GAC3HyD,KAAK6Y,OAAQ8d,EAAW32B,KAAKmgC,WAAWliC,GAAGqiC,KAAKjkC,GAAK2D,KAAK6H,UAAUtL,QAAU+vB,EAAW,EAAM,UAAU,UAEtIjT,KAAK,OAAQrZ,KAAKmgC,WAAWliC,GAAG6a,OAChCO,KAAK,SAAU,SACfA,KAAK,eAAgB,SACrB1Y,GAAG,aAAc,CAACzC,EAAE7B,IAAM2D,KAAKu/B,SAAW,CAAE9hB,UAAW,aAAcphB,IACrEsE,GAAG,aAAcX,KAAKykC,eACtB9jC,GAAG,QAAS,CAACzC,EAAE7B,IAAM2D,KAAKwqB,OAAOvsB,EAAG5B,EAAG,QAASivB,IAChD3qB,GAAG,cAAe,CAACzC,EAAE7B,IAAM2D,KAAKwqB,OAAOvsB,EAAG5B,EAAG,SAAUivB,IACvD3qB,GAAG,WAAW,CAACzC,EAAE7B,IAAI2D,KAAKwqB,OAAOvsB,EAAG5B,EAAG,QAASivB,EAAW,cAG9DiZ,EAAcnrB,OAAO,QAClBC,KAAK,QAAS,CAACnb,EAAE7B,IAAI,+BAA+B4B,EAAI,IAAM5B,GAC9Dgd,KAAK,IAAMnb,GAAc0a,EAAE,IAC3BS,KAAK,IAAKiT,EAAW,IAAMK,GAC3BtT,KAAK,QAASsT,GACdtT,KAAK,OAAQrZ,KAAKsnB,iBAClBjO,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,aAAe,UAIvBkrB,EAAcnrB,OAAO,QAClBC,KAAK,QAAS,CAACnb,EAAE7B,IAAI,+BAA+B4B,EAAI,IAAM5B,GAC9Dgd,KAAK,IAAMnb,GAAc0a,EAAE,IAC3BS,KAAK,IAAKiT,EAAW,KACrBjT,KAAK,QAASsT,GACdtT,KAAK,OAAQrZ,KAAKunB,iBAClBlO,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,aAAc,aAKpB8S,EAAa,KACjB4W,EAAW1Y,UAAU,WAClBtuB,KAAKiE,KAAKggC,4BACV3P,QAAQjX,OAAO,UACfC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,aAAcA,GAClCgd,KAAK,KAAKrZ,KAAKgW,MAAM,IACrBqD,KAAK,KAAK,CAACnb,EAAE7B,IAAK2D,KAAK6Y,OAAe,IAAPxc,EAAI,IACnCgd,KAAK,IAAK,GACVrT,MAAM,OAAQ,CAAC9H,EAAE7B,IACT2D,KAAKmgC,WAAW9jC,GAAG,UAE3BsE,GAAG,aAAa,CAACzC,EAAE7B,KAClB2D,KAAKs/B,eAAiB,CAAEhU,UAAW,aAAajvB,KACjDsE,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKs/B,eAAiB,CAAEhU,UAAW,eAC3D3qB,GAAG,QAAS,CAACzC,EAAG7B,IAAM2D,KAAK+/B,wBAA0B7hC,GAExD6kC,EACG1Y,UAAU,UACVtuB,KAAKiE,KAAKggC,4BACV3P,QAAQjX,OAAO,QACfC,KAAK,QAAQ,CAACnb,EAAE7B,IAAI,kBAAmBA,GACvCgd,KAAK,IAAKrZ,KAAKgW,MAAM,KACrBqD,KAAK,IAAK,CAACnb,EAAE7B,IAAK2D,KAAK6Y,OAAe,IAAPxc,EAAI,IACnC0I,KAAK,CAAC7G,EAAE7B,IAAI,cAAe2D,KAAKmgC,WAAW9jC,GAAG,QAAU,IAAM2D,KAAKmgC,WAAW9jC,GAAG,UACjF2J,MAAM,YAAa,QACnBqT,KAAK,qBAAqB,UAC1B1Y,GAAG,aAAa,CAACzC,EAAE7B,IAAI2D,KAAKs/B,eAAiB,CAAEhU,UAAW,aAAajvB,IACvEsE,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKs/B,eAAiB,CAAEhU,UAAW,eAC3D3qB,GAAG,QAAS,CAACzC,EAAG7B,IAAM2D,KAAK+/B,wBAA0B7hC,IAKpD8tB,EAAa,KAChB+W,EAAW3pB,OAAO,QAChBC,KAAK,YAAa,KACjB,MAAM4S,EAAuB,GAAbjsB,KAAKgW,MACfkW,EAAUlsB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,aAERg+B,EAAW3pB,OAAO,QACfC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,KACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,yBAERg+B,EAAW3pB,OAAO,QACfC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,GACzBQ,KAAK,IAAK,GAAiB,GAAbrZ,KAAKgW,OACnBqD,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAiC,YAA5B/E,KAAK0G,oBAAmC,YACjB,aAA5B1G,KAAK0G,oBAAoC,YACb,UAA5B1G,KAAK0G,oBAAiC,UACV,OAA5B1G,KAAK0G,oBAA8B,OACnC,MAEHq8B,EAAW3pB,OAAO,QACfC,KAAK,QAAQ,eACbA,KAAK,IAAkB,GAAbrZ,KAAKgW,OACfqD,KAAK,KAAM,KACXA,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAM,gBAAkBq6B,EAAqB,MAE5C3T,EAAW,KACf,MAAM0Y,EAAUxY,GAAWA,EACxBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAc+4B,GACXjX,cAAc,IAElBvS,KAAK,QAAQ,eAEhB0pB,EAAW3pB,OAAO,KACfzc,KAAKwnC,GACL9qB,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SACpB1Y,GAAG,QAAUzC,GAAc8B,KAAKigC,cAAgBxoB,WAAWvZ,GAAGma,QAAQ,IACtE1X,GAAG,cAAgBzC,GAAc8B,KAAKkgC,eAAiBzoB,WAAWvZ,GAAGma,QAAQ,IAGhF,MAAM+rB,EAAct6B,GAAA,OACjBC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACjBwrB,EAAU1Y,GAAWA,EACxBhvB,KAAKmN,GAAA,KAAYs6B,GACftY,MAAM,GACNC,WAAWjiB,GAAA,KAAU,SAG1Bi5B,EAAW3pB,OAAO,KACfzc,KAAK0nC,GACLhrB,KAAK,YAAa,IAErB,MAAMirB,EAAc3Y,GAAWA,EAC5BtS,KAAK,YAAa,aAAwB,GAAXrZ,KAAKgW,aACpCrZ,KAAKmN,GAAA,KAAY6sB,GACf7K,MAAM,GACNC,WAAWjiB,GAAA,KAAU,SAG1Bi5B,EAAW3pB,OAAO,KACfzc,KAAK2nC,GACLjrB,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,oBAClBA,KAAK,cAAe,SAGvB0pB,EAAW3pB,OAAO,QACfC,KAAK,YAAa,mBAAuBrZ,KAAK6Y,WAC9CQ,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,OAAO,aACZ1Y,GAAG,QAAUzC,GAAc8B,KAAK2kC,uBAEnC5B,EAAW3pB,OAAO,QACfC,KAAK,YAAa,kBAAsBrZ,KAAK6Y,OAAS,OACtDQ,KAAK,QAAQ,oBACbA,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,SACNpE,GAAG,QAAUzC,GAAc8B,KAAK2kC,uBAGnC5B,EAAW3pB,OAAO,QACfC,KAAK,YAAa,aAAarZ,KAAKgW,MAAO,QAAQhW,KAAK6Y,WACxDQ,KAAK,QAAQ,KACbA,KAAK,SAAS,IACdA,KAAK,OAAO,aACZ1Y,GAAG,QAAUzC,GAAc8B,KAAK4kC,mBAEnC7B,EAAW3pB,OAAO,QACfC,KAAK,YAAa,aAAcrZ,KAAKgW,MAAM,OAAOhW,KAAK6Y,OAAS,OAChEQ,KAAK,QAAQ,oBACbA,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,cACNpE,GAAG,QAAUzC,GAAc8B,KAAK4kC,mBAGnC7B,EAAW3pB,OAAO,QACfC,KAAK,YAAa,aAAarZ,KAAKgW,MAAO,QAAQhW,KAAK6Y,OAAS,OACjEQ,KAAK,QAAQ,KACbA,KAAK,SAAS,IACdA,KAAK,OAAO,aACZ1Y,GAAG,QAAUzC,GAAc8B,KAAK6kC,cAEnC9B,EAAW3pB,OAAO,QACfC,KAAK,YAAa,aAAcrZ,KAAKgW,MAAM,OAAOhW,KAAK6Y,OAAQ,OAC/DQ,KAAK,QAAQ,oBACbA,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAM,eACNpE,GAAG,QAAUzC,GAAc8B,KAAK6kC,eAwC/BpY,EAAkB,KACtB,IAAItF,EAAM4b,EACV5b,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,QAAS,OACdA,KAAK,SAAmC,GAAzBsoB,EAAgBplC,QAC/B8c,KAAK,IAAIrZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,KACtCzN,KAAK,KAAK,IACVA,KAAK,OAAQ,SACbA,KAAK,SAAS,aACdA,KAAK,eAAe,OACpB+R,aACAC,SAAS,KACThS,KAAK,UAAW,GAEnB,IAAIhd,EAAI,EACRslC,EAAgBx5B,QAAQ,CAACmjB,EAAUrtB,KACjCkpB,EAAI/N,OAAO,QACRC,KAAK,QAAS,wBAAwBpb,GACtCob,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAO,KAAM,MAAc,GAAJzqB,EAAH,IAAW,KAEvFgd,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,QACbA,KAAK,iBAAkB,QACvBA,KAAK,UAAW,GAEnB8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BAA2Bpb,GACzCob,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,KAAK,MAAc,GAAJzqB,EAAH,IAAW,KACrFgd,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,aACbA,KAAK,iBAAkB,QACvBA,KAAK,UAAW,GAEnB8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,2BAA2Bpb,GACzCob,KAAK,YAAa,cAAerZ,KAAKgW,MAAMhW,KAAK4mB,OAAOE,MAAM,KAAM,MAAc,GAAJzqB,EAAH,IAAW,KACtFgd,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQ,OACbA,KAAK,iBAAkB,QACvBA,KAAK,UAAW,GACnBhd,OAMJovB,IACAO,IACAG,IACAmO,IACAkK,IACA/X,IACAzsB,KAAK0sB,kBAIP,iBAEE,MAAMvC,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,MAG7B,MAAE/b,EAAK,OAAE+E,IAFOrG,GAAA,KAAU,OAEN9J,KAAKiY,YACzBmsB,EAAct6B,GAAA,OACfC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IAEnBisB,EAAc,CAACxZ,EAAkB7N,EAAmBpH,KACxD,MAAMxO,EAAY7H,KAAKmgC,WAAW7U,GAAW,oBAAoBtrB,KAAKgK,WAAWyT,IAAY5V,UACvFsjB,EAAuBlc,GAAapH,EAAWwO,GACrD,IAAI6W,EAAiB,EACrBA,EAAiBltB,KAAK6H,UAAUtL,OAChC,MAAM4wB,EAA2BhC,EAAqBlP,KAAOiR,EAC7D,OAAOkX,EAAYjX,IAGrB,IAAI6S,EAA6B,GACjChgC,KAAKggC,2BAA2B73B,QAAS9L,IACvC2jC,EAA2BnjC,KAAKR,KAElC,MAAMslC,EAAkB3B,EAA2Bn0B,KAAK,CAAC+1B,EAAGC,IAClDD,EAAG9a,MAAQ8a,EAAG5a,KAAS6a,EAAG/a,MAAQ+a,EAAG7a,KAChC,EAGL4a,EAAG9a,MAAQ8a,EAAG5a,KAAS6a,EAAG/a,MAAQ+a,EAAG7a,MAC/B,EAEL,GAGX2a,EAAgBx5B,QAAQ,CAACmjB,EAAWrtB,KAClC+B,KAAKgK,WAAW7B,QAAQ,CAACtJ,EAAGxC,KACrB+O,EAGH+e,EAAMK,OAAO,gCAAgCvsB,EAAI,IAAM5B,GACpDgd,KAAK,SAAUnb,GAAa8B,KAAK6Y,OAAUisB,EAAY7mC,EAAE5B,EAAE+O,EAAMvD,YACjEwR,KAAK,IAAKnb,GAAc4mC,EAAY7mC,EAAE5B,EAAE+O,EAAMvD,YAC9CwR,KAAK,aAAe,WALvB8Q,EAAMK,OAAO,gCAAgCvsB,EAAI,IAAM5B,GAAGgd,KAAK,aAAe,UAO3ElJ,EAGHga,EAAMK,OAAO,gCAAgCvsB,EAAI,IAAM5B,GACpDgd,KAAK,SAAUnb,GAAc8B,KAAK6Y,OAASisB,EAAY7mC,EAAE5B,EAAE8T,EAAOtI,YAClEwR,KAAK,IAAKnb,GAAc4mC,EAAY7mC,EAAE5B,EAAE8T,EAAOtI,YAC/CwR,KAAK,aAAe,WALvB8Q,EAAMK,OAAO,gCAAgCvsB,EAAI,IAAM5B,GAAGgd,KAAK,aAAe,eAUtF,OACEiS,EACA7N,EACArH,EACA2uB,EACA/8B,GAEA8B,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAMxmB,EAAaD,KACnBC,EAAWE,KAAO1B,EAAK0H,MACvBlG,EAAWI,WAAkC,GAArBtH,KAAKpB,MAAMrC,OAAa,GAAKyD,KAAKpB,MAAMoB,KAAKpB,MAAMrC,OAAS,GAAG4B,KAGvF,IAAI0J,EAAY7H,KAAKmgC,WAAW7U,GAAW,oBAAoBtrB,KAAKgK,WAAWyT,IAAY5V,UACvFm9B,GAAYvtB,WAAWzX,KAAKgK,WAAWyT,IAAchG,WAAWstB,EAAe,UAAU1sB,QAAQ,GACjG4sB,GAAaxtB,WAAWzX,KAAKgK,WAAWyT,IAAchG,WAAWstB,EAAe,WAAW1sB,QAAQ,GAEnG7F,EAAc,mBAAmBtL,EAAWI,iCAAiC09B,SAAgBC,IAGjG,GAAa,aAATj9B,EAAsB,CACxB,IAAIiX,EAAgB,IAAIjf,KAAKmgC,WAAW7U,GAAW,mBAAmBtrB,KAAKgK,WAAWyT,IAAY5V,WAClG,IAAI7H,KAAKmgC,WAAW7U,GAAW,mBAAmBtrB,KAAKgK,WAAWyT,IAAY5V,WAAWM,QAASwU,IAChGsC,EAAcpiB,KAAK8f,KAErB,IAAI3c,KAAKmgC,WAAW7U,GAAW,mBAAmBtrB,KAAKgK,WAAWyT,IAAY5V,WAAWM,QAASwU,IAChGsC,EAAcpiB,KAAK8f,KAErB,IAAI3c,KAAKmgC,WAAW7U,GAAW,mBAAmBtrB,KAAKgK,WAAWyT,IAAY5V,WAAWM,QAASwU,IAChGsC,EAAcpiB,KAAK8f,KAErB9U,EAAY,IAAI4K,IAAIwM,GACpBzM,EAAc,mBAAmBtL,EAAWI,+BAA+B09B,SAAgBC,IAG7F,MAAM18B,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAQ,IAEJqI,EAAU,CACd3D,cACA3K,YACAU,aAGFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,OCr5EqX,MCQ1a,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAWhC,IAAkB,GAAW,CAACnR,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,OC9BzH,IAAI,GAAS,WAAa,IAAIhuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,8BAA8B,KAAKV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,oBAAoBQ,MAAM,CAAClC,MAAOmB,EAAmB,gBAAEgB,SAAS,SAAUC,GAAMjB,EAAI0G,gBAAgBzF,GAAKE,WAAW,oBAAoB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,YAAY,MAAQ,eAAeH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,aAAa,MAAQ,gBAAgBH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,eAAe,MAAQ,kBAAkBH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,OAAO,MAAQ,OAAO,IAAI,GAAGH,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,qBAAqBQ,MAAM,CAAClC,MAAOmB,EAAuB,oBAAEgB,SAAS,SAAUC,GAAMjB,EAAI2G,oBAAoB1F,GAAKE,WAAW,wBAAwB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,WAAW,MAAQ,cAAcH,EAAG,UAAU,CAACG,MAAM,CAAC,GAAK,MAAM,MAAQ,MAAM,MAAQ,SAAUP,EAAI4G,YAAc,EAAGxG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,UAAU,MAAQ,aAAaP,EAAIqG,KAAMrG,EAAI4G,YAAc,EAAGxG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,UAAU,MAAQ,aAAaP,EAAIqG,KAAMrG,EAAI4G,aAAe,EAAGxG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,QAAQP,EAAIqG,KAAMrG,EAAI4G,aAAe,EAAGxG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,YAAY,MAAQ,eAAeP,EAAIqG,KAAMrG,EAAI4G,aAAe,EAAGxG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAAS,MAAQ,YAAYP,EAAIqG,KAAyB,cAAnBrG,EAAI6G,YAA6BzG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,MAAM,MAAQ,SAASP,EAAIqG,KAAyB,cAAnBrG,EAAI6G,YAA6BzG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,MAAM,MAAQ,SAASP,EAAIqG,MAAM,IAAI,MAAM,IAAI,GAAGjG,EAAG,MAAM,CAACO,IAAI,SAAS,IAChgE,GAAkB,GCkEP,UAAIqC,OAAO,CACxB5E,KAAM,wBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,IAAKC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KACjDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCtgB,EAAkB,GAClBC,EAAsB,WACtBugB,EAAQ,CACZjf,KAAM,GACNV,WAAY,IAEd,MAAO,CACLb,kBACAC,sBACAmS,SACAoO,QACAL,SACAtiB,MAAO,GACP8iB,WAAY,UACZC,gBAAiB,UACjBC,gBAAiB,UACjBC,gBAAiB,UACjBvR,QACAwR,WAAY,UACZC,gBAAiB,UACjB9gB,YAAY,IAAI3G,KAAKuG,SAASqM,SAASrW,SAG3CmrB,SAAU,CACR,4BACE,MAAqC,cAAjC1nB,KAAKoB,OAAOC,MAAMuF,YACb,GAEF5G,KAAKoB,OAAOC,MAAMkQ,0BAA0BnI,IAAKnL,GAAIA,EAAEE,OAEhE,cACE,IAAIyI,EAAc5G,KAAKoB,OAAOC,MAAMuF,YACpC,OAAOA,GAET,UACE,MAAO,IAAI5G,KAAKuG,SAASqM,UAE3B,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,0BACE,OAAO+B,KAAKoB,OAAOC,MAAM2Q,yBAE3B,2BACE,GAAqC,cAAjChS,KAAKoB,OAAOC,MAAMuF,YAA6B,CAEjD,IAAIwhB,EAA2B,GAO7B,OANApoB,KAAKmoB,eAAehgB,QAASlK,IAC3BmqB,EAAyBvrB,KAAKoB,EAAE,IAAI+B,KAAKgS,wBAAwB/T,GAAG,OAEtE+B,KAAKuR,0BAA0BpJ,QAASlK,IACtCmqB,EAAyBvrB,KAAKoB,KAEzBmqB,EAGT,OAAOpoB,KAAKmoB,gBAGhB,2BACE,IAAIE,EAA2B,GAQ/B,OAPAroB,KAAK6B,YAAYsG,QAASlK,IACa,cAAjC+B,KAAKoB,OAAOC,MAAMuF,YACpByhB,EAAyBpqB,GAAKA,EAAI,IAAM+B,KAAKgS,wBAAwB/T,GAAG,IAExEoqB,EAAyBpqB,GAAKA,IAG3BoqB,GAET,WACE,MAAO,IAAIroB,KAAKuG,SAASgD,WAE3B,YACE,MAAO,IAAIvJ,KAAKuG,SAASsB,YAE3B,iBAEc7H,KAAK4nB,eAEjB,MAOMO,EAAiBnoB,KAAK6B,YAAYlC,QAExC,OAAOwoB,GAET,iBACE,IAAIP,EAAiB,GACrB,OAAQ5nB,KAAK0G,qBACX,IAAK,WACHkhB,EAAiB,WACjB,MACF,IAAK,KACHA,EAAiB,KACjB,MACF,IAAK,UACHA,EAAiB,UACjB,MACF,IAAK,UACHA,EAAiB,UACjB,MACF,IAAK,MACHA,EAAiB,MACjB,MACF,IAAK,YACHA,EAAiB,YACjB,MACF,IAAK,SACHA,EAAiB,SACjB,MACF,IAAK,MACHA,EAAiB,MACjB,MACF,IAAK,MACHA,EAAiB,MACjB,MAEJ,OAAOA,GAET,cAoBE,MAAMja,EAmBF,GAEJ3N,KAAK6B,YAAYsG,QAASlK,IACxB0P,EAAY3N,KAAKqoB,yBAAyBpqB,IAAM,CAC9Cwf,UAAYjhB,OAAO+F,KAAMvC,KAAKgS,yBAAyB7L,SAASlI,GAAI+B,KAAKgS,wBAAwB/T,GAAK,EACtG6oB,MAAO,IAAIrU,IACX6V,MAAO,IAAI7V,IACXoN,GAAI,IAAIpN,IACRhS,GAAI,IAAIgS,IACR8M,GAAI,IAAI9M,IACRiN,GAAI,IAAIjN,IACR3G,GAAI,EACJmc,SAAU,EACVD,SAAS,EACT5H,IAAK,EACLhR,UAAW,EACX8Q,OAAQ,EACRD,SAAS,EACTyQ,IAAI,EACJjQ,IAAI,KAGRzgB,KAAKuR,0BAA0BpJ,QAASlK,IACtC0P,EAAY1P,GAAK,CACfwf,UAAWxf,EAAEuf,UAAUvf,EAAE1B,OAAO,EAAE0B,EAAEujB,QACpCsF,MAAO,IAAIrU,IACX6V,MAAO,IAAI7V,IACXoN,GAAI,IAAIpN,IACRhS,GAAI,IAAIgS,IACR8M,GAAI,IAAI9M,IACRiN,GAAI,IAAIjN,IACR3G,GAAI,EACJmc,SAAU,EACVD,SAAS,EACT5H,IAAK,EACLhR,UAAW,EACX8Q,OAAQ,EACRD,SAAS,EACTyQ,IAAI,EACJjQ,IAAI,KAIRzgB,KAAK6H,UAAUM,QAASkB,IACtB,MAAMhN,EAAIiN,GAAaD,GACvBrJ,KAAK6B,YAAYsG,QAASlK,IACxB,IAAIqiB,EAAgB3S,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIwf,UAAY,IAC1EynB,EAAY7oC,EAAE+gB,uBAAuBnf,GACrCyP,EAASrR,EAAEqR,OACJrR,EAAEsR,YAAY1P,GACrByP,GAAU1N,KAAK4S,QAAQ,GACrBsyB,EAAY5kB,GACd3S,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIshB,GAAG6B,IAAI/X,GACrDsE,EAAY3N,KAAKqoB,yBAAyBpqB,IAAI6oB,MAAM1F,IAAI/X,KAExDsE,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIwC,GAAG2gB,IAAI/X,GACrDsE,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIqqB,MAAMlH,IAAI/X,IAItD67B,EAAY5kB,GACd3S,EAAY3N,KAAKqoB,yBAAyBpqB,IAAI4hB,GAAGuB,IAAI/X,GACrDsE,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIqqB,MAAMlH,IAAI/X,KAGxDsE,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIyhB,GAAG0B,IAAI/X,GACrDsE,EAAY3N,KAAKqoB,yBAAyBpqB,IAAI6oB,MAAM1F,IAAI/X,MAK9DrJ,KAAKuR,0BAA0BpJ,QAASb,IACtC,IAAIrJ,EAAIqJ,EAAWkW,UAAU,EAAElW,EAAW/K,OAAO,GAC7CsF,EAAc7B,KAAK6B,YACvB,GAAIA,EAAY4J,OAAO05B,GAAKA,IAAMlnC,GAAG1B,OAAS,EAAE,CAC9C,IAAI+jB,EAAgB7I,WAAWnQ,EAAWkW,UAAUlW,EAAW/K,OAAO,EAAE+K,EAAWka,SAC/E0jB,EAAY7oC,EAAE+gB,uBAAuBnf,GACrCyP,EAASrR,EAAEqR,OACJrR,EAAEsR,YAAY1P,GAErByP,GAAU1N,KAAK4S,QAAQ,GACrBsyB,EAAY5kB,GACd3S,EAAYrG,GAAYiY,GAAG6B,IAAI/X,GAC/BsE,EAAYrG,GAAYwf,MAAM1F,IAAI/X,KAElCsE,EAAYrG,GAAY7G,GAAG2gB,IAAI/X,GAC/BsE,EAAYrG,GAAYghB,MAAMlH,IAAI/X,IAGhC67B,EAAY5kB,GACd3S,EAAYrG,GAAYuY,GAAGuB,IAAI/X,GAC/BsE,EAAYrG,GAAYghB,MAAMlH,IAAI/X,KAElCsE,EAAYrG,GAAYoY,GAAG0B,IAAI/X,GAC/BsE,EAAYrG,GAAYwf,MAAM1F,IAAI/X,SAQ5C,IAAIwf,EAAa,GAoEjB,OAlEA7oB,KAAK6B,YAAYsG,QAASlK,IACxB,IAAIshB,EAAK5R,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIshB,GAAGtD,KACtD4D,EAAKlS,EAAY3N,KAAKqoB,yBAAyBpqB,IAAI4hB,GAAG5D,KACtDxb,EAAKkN,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIwC,GAAGwb,KACtDyD,EAAK/R,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIyhB,GAAGzD,KAC1DtO,EAAY3N,KAAKqoB,yBAAyBpqB,IAAImR,UAAYmQ,GAAMA,EAAKM,GACrElS,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIiiB,OAASX,GAAOA,EAAK9e,GACnEkN,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIgiB,SAAWtS,EAAY3N,KAAKqoB,yBAAyBpqB,IAAI6oB,MAAM7K,MAAQtO,EAAY3N,KAAKqoB,yBAAyBpqB,IAAI6oB,MAAM7K,KAAOtO,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIqqB,MAAMrM,MACpOtO,EAAY3N,KAAKqoB,yBAAyBpqB,IAAI6N,GAAK,EAAK6B,EAAY3N,KAAKqoB,yBAAyBpqB,IAAImR,UAAazB,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIiiB,QAAWvS,EAAY3N,KAAKqoB,yBAAyBpqB,IAAImR,UAAazB,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIiiB,QAEnRvS,EAAY3N,KAAKqoB,yBAAyBpqB,IAAImiB,KAD3Cb,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,GACiB8e,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAEvD,IAIxDT,KAAKuR,0BAA0BpJ,QAASlK,IACtC,IAAIshB,EAAK5R,EAAY1P,GAAGshB,GAAGtD,KACvB4D,EAAKlS,EAAY1P,GAAG4hB,GAAG5D,KACvBxb,EAAKkN,EAAY1P,GAAGwC,GAAGwb,KACvByD,EAAK/R,EAAY1P,GAAGyhB,GAAGzD,KAC3BtO,EAAY1P,GAAGmR,UAAYmQ,GAAMA,EAAKM,GACtClS,EAAY1P,GAAGiiB,OAASX,GAAOA,EAAK9e,GACpCkN,EAAY1P,GAAGgiB,SAAWtS,EAAY1P,GAAG6oB,MAAM7K,MAAQtO,EAAY1P,GAAG6oB,MAAM7K,KAAOtO,EAAY1P,GAAGqqB,MAAMrM,MACxGtO,EAAY1P,GAAG6N,GAAK,EAAK6B,EAAY1P,GAAGmR,UAAazB,EAAY1P,GAAGiiB,QAAWvS,EAAY1P,GAAGmR,UAAazB,EAAY1P,GAAGiiB,QAExHvS,EAAY1P,GAAGmiB,KADZb,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,GACd8e,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAEvD,IAIrBT,KAAK4S,QAAQrW,OAAS,GACxByD,KAAK6B,YAAYsG,QAASlK,IACtB,IAAI+qB,EAAW,EACXC,EAAW,EACXC,EAAW,EACXC,EAAW,EAEXC,EAAW,EACfppB,KAAK4S,QAAQzK,QAAS5K,IACpB,IAAI8rB,EAASR,EAAW5qB,GAAGV,GAAGgiB,GAAGhjB,OAC7B+sB,EAAST,EAAW5qB,GAAGV,GAAGsiB,GAAGtjB,OAC7BgtB,EAASV,EAAW5qB,GAAGV,GAAGmiB,GAAGnjB,OAC7BitB,EAASX,EAAW5qB,GAAGV,GAAGkD,GAAGlE,OAEjCysB,GAAaK,EACbJ,GAAYK,EACZJ,GAAaK,EACbJ,GAAYK,EAEZ,IAAIC,EAAUJ,GAAUA,EAASC,GAC7BI,EAAaL,GAAUA,EAASG,GACpCJ,GAAcK,EAAUC,GAAe,EAAI,EAAI,EAAID,EAAUC,GAAcD,EAAUC,KAEvF/b,EAAY3N,KAAKqoB,yBAAyBpqB,IAAIgqB,SAAWmB,EAAWppB,KAAK4S,QAAQrW,OACjF,IAAIotB,EAAcX,GAAYA,EAAWG,GACrCS,EAAWZ,GAAYA,EAAWC,GACtCtb,EAAY3N,KAAKqoB,yBAAyBpqB,IAAI+pB,SAAY2B,EAAeC,GAAe,EAAG,EAAID,EAAeC,EAAY,GAAKD,EAAeC,GAE5Ijc,EAAY3N,KAAKqoB,yBAAyBpqB,IAAImiB,KAD3C4I,EAASC,IAAWD,EAASG,IAAWD,EAASD,IAAWC,EAASC,IAAa,GAC/BH,EAASE,EAASD,EAASE,GAAY1f,KAAK0W,MAAM6I,EAASC,IAAWD,EAASG,IAAWD,EAASD,IAAWC,EAASC,IAEzH,IAIrDxb,GAGT,aAIE,OAAO3N,KAAKoB,OAAOC,MAAM8J,mBAE3B,IACE,MAAMwN,EAAI7O,GAAA,OACPC,OAAO/J,KAAKooB,0BACZyB,MAAM,CAAC,EAAG7pB,KAAKgW,QACf8T,aAAa,GACbC,aAAa,IAChB,OAAOpR,GAET,IACE,MAAMC,EAAI9O,GAAA,OACPC,OAAO,CAAwB,OAAvB/J,KAAK4nB,gBAA0B,EAAI,EACb,OAAvB5nB,KAAK4nB,eAAyB5nB,KAAK6H,UAAUtL,OAAS,IAC7DstB,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,IAGXoR,MAAO,CACL,4BACEhqB,KAAKiqB,eAEP,kBACEjqB,KAAKiqB,eAEP,sBACEjqB,KAAKiqB,eAEP,QACEjqB,KAAKkqB,aAEP,YACElqB,KAAKiqB,eAEP,aACEjqB,KAAK0sB,mBAGT,UACE1sB,KAAKiqB,eAEP/mB,QAAS,CACP,aACElD,KAAKinB,MAAQ,CAAEjf,KAAM,GAAIV,WAAY,KAEvC,YAEE,MAAM6iB,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7Bie,EAAcjb,EAAME,UAAU,0BAC9Bgb,EAAclb,EAAME,UAAU,0BAC9BE,EAAkBJ,EAAMK,OAAO,uBAC/BC,EAAuBN,EAAMK,OAAO,6BACbL,EAAMK,OAAO,6BAE1C,IAAIzlB,EAAO,GACX,MAAM+lB,EAAe,IACfC,EAAoB,KAEpB,MAAE3f,EAAK,OAAE+E,GAAWnQ,KAAKiY,WACzBqtB,EAAgB,CAACh+B,EAAmB+O,KACxC,IAAImM,EAAc,GACdf,EAAmB,GACnBiP,EAAM,EACV,MAAMzyB,EAAIqJ,EACJqa,EAAgB7X,GAAA,KAAU,OAChC2X,EAAiBxjB,GAAK,GACtBoY,EAAUlO,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GAClBoY,EAAiBxjB,GAAGkI,SAAS9J,EAAE+gB,uBAAuBnf,KACzDwjB,EAAiBxjB,GAAGpB,KAAKR,EAAE+gB,uBAAuBnf,MAEtDwjB,EAAiBxjB,GAAG4N,OACpB4V,EAAiBxjB,GAAGkK,QAASvJ,IAC3BA,EAAQ+iB,EAAc/iB,GACtB,IAAI2gB,EAAK,EACLM,EAAK,EACLpf,EAAK,EACLif,EAAK,EACTrJ,EAAUlO,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACjBuZ,EAAUvmB,EAAE+gB,uBAAuBnf,GAAKwZ,WAAW7Y,GAASoB,KAAK4S,QAAQ,GAAK5S,KAAK4S,QAAQ,GAC7FvW,EAAEqR,QAAU1N,KAAK4S,QAAQ,GACvBgQ,GAAWvmB,EAAEqR,OACf6R,GAAI,EAEJ9e,GAAI,EAGFmiB,GAAWvmB,EAAEqR,OACfgS,GAAI,EAEJG,GAAI,IAIV2C,EAAY3lB,KAAK,CAAC,EAAIgjB,GAAIA,EAAGH,GAAK,EAAIH,GAAIA,EAAG9e,OAG/C,IAAI+iB,EAAQ,EACRC,EAAQ,EASZ,OARAjB,EAAY3W,MAAK,SAAS8M,EAAGC,GAC3B,OAAO9O,GAAA,KAAa6O,EAAEA,EAAGC,EAAED,MAE7B6J,EAAYra,QAASub,IACnBgN,IAAUhN,EAAI9K,EAAI6K,IAAUC,EAAI/K,EAAI6K,GAAS,EAC7CA,EAAQE,EAAI/K,EACZ8K,EAAQC,EAAI9K,IAEP8X,GAEH6U,EAAgB,CAACj+B,EAAmB+O,KACxC,IAAIoK,EAAM,EAOV,OANApK,EAAUlO,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACjBqE,EAASrR,EAAEqR,QAAU1N,KAAK4S,QAAQ,GAAK,EAAI,EAC3C3U,EAAIqJ,EACVmZ,IAASpkB,EAAE+gB,uBAAuBnf,GAAKyP,IAAWrR,EAAE+gB,uBAAuBnf,GAAKyP,KAE3E+S,GAEHwM,EAAe,CAAC3lB,EAAmB+O,KAEvC,MAAMkJ,EAAKtQ,GAAajP,KAAK2N,YAAYrG,GAAYiY,GAAIlJ,GAAW4F,KAC9D4D,EAAK5Q,GAAajP,KAAK2N,YAAYrG,GAAYuY,GAAIxJ,GAAW4F,KAC9Dxb,EAAKwO,GAAajP,KAAK2N,YAAYrG,GAAY7G,GAAI4V,GAAW4F,KAC9DyD,EAAKzQ,GAAajP,KAAK2N,YAAYrG,GAAYoY,GAAIrJ,GAAW4F,KAC9D6K,EAAQ7X,GAAajP,KAAK2N,YAAYrG,GAAYwf,MAAOzQ,GAAW4F,KACpEupB,EAAWjmB,GAAMA,EAAKM,GACtBK,EAASX,GAAMA,EAAK9e,GAC1B,GAA2B,YAAvBT,KAAK4nB,eAEP,OADA7iB,GAAQ+hB,EAAQzQ,EAAU4F,KACnBjc,KAAK4Y,EAAEkO,EAAQzQ,EAAU4F,MAC3B,GAA2B,OAAvBjc,KAAK4nB,eACd,OAAKrI,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,GACrCsE,IAAUwa,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IACxDT,KAAK4Y,GAAI2G,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,OAErEsE,GAAQ,EACD/E,KAAK4Y,EAAE,IAEX,GAA2B,aAAvB5Y,KAAK4nB,eAEd,OADA7iB,GAAQygC,EACDxlC,KAAK4Y,EAAE4sB,GACT,GAA2B,OAAvBxlC,KAAK4nB,eAAyB,CACvC,MAAM8I,EAAM4U,EAAch+B,EAAY+O,GAEtC,OADAtR,GAAQ2rB,EACD1wB,KAAK4Y,EAAE8X,GACT,GAA2B,OAAvB1wB,KAAK4nB,eAAyB,CACvC,MAAMnH,EAAM8kB,EAAcj+B,EAAY+O,GAEtC,OADAtR,GAAQ0b,EACDzgB,KAAK4Y,EAAE6H,GACT,MAA2B,UAAvBzgB,KAAK4nB,gBACd7iB,GAAQmb,EACDlgB,KAAK4Y,EAAEsH,IACkB,MAAvBlgB,KAAK4nB,gBAGkB,WAAvB5nB,KAAK4nB,gBAGkB,WAAvB5nB,KAAK4nB,gBALd7iB,GAAS,EAAIygC,EAAWtlB,GAAUslB,EAAWtlB,GACtClgB,KAAK4Y,EAAE,EAAI4sB,EAAWtlB,GAAUslB,EAAWtlB,UAI7C,GAWe,YAApBlgB,KAAKinB,MAAMjf,KACbo9B,EAAYrpC,KAAKiE,KAAKooB,0BACnB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKinB,MAAM3f,WACbtH,KAAKqnB,gBACLrnB,KAAKsnB,iBAEb8d,EAAY/rB,KAAK,OAAQrZ,KAAKsnB,iBAGR,YAApBtnB,KAAKinB,MAAMjf,KACbq9B,EAAYtpC,KAAKiE,KAAKooB,0BACnB/O,KAAK,OAASnb,GACbA,IAAM8B,KAAKinB,MAAM3f,WACbtH,KAAKynB,gBACLznB,KAAKunB,iBAEb8d,EAAYhsB,KAAK,OAAQrZ,KAAKunB,iBAG5BvnB,KAAKinB,MAAMjf,KACU,WAAnBhI,KAAKinB,MAAMjf,MACbuiB,EACGa,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAM4T,EAAajtB,KAAKinB,MAAM3f,WAAY8D,EAAMvD,YACrDwR,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAM4T,EAAajtB,KAAKinB,MAAM3f,WAAY8D,EAAMvD,YACxD4iB,EACGW,aACA/R,KAAK,YAAa,iBAAoB4T,EAAajtB,KAAKinB,MAAM3f,WAAY8D,EAAMvD,eAChFwjB,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK0S,WAAW1S,GAAMsT,QAAQ,GAAG,MAEpCkS,EACGa,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAM4T,EAAajtB,KAAKinB,MAAM3f,WAAY6I,EAAOtI,YACtDwR,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAM4T,EAAajtB,KAAKinB,MAAM3f,WAAY6I,EAAOtI,YACzD4iB,EACGW,aACA/R,KAAK,YAAa,iBAAoB4T,EAAajtB,KAAKinB,MAAM3f,WAAY6I,EAAOtI,eACjFwjB,SAASP,GACTzR,KAAK,eAAgB,GACrBtU,KAAK0S,WAAW1S,GAAMsT,QAAQ,GAAG,MAKtCkS,EACGa,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1BoR,EACGW,aACAC,SAASN,GACT1R,KAAK,eAAgB,KAG5B,sBAIA,cACElW,QAAQC,IAAIpD,KAAK2N,aACjBxK,QAAQC,IAAIpD,KAAKooB,0BAEjBte,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,UAC/C3N,OAAO,KACLC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAShnB,KAAK4mB,OAAOC,QAE/DlO,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EAET6S,EAAW,KACf,MAAMC,EAASC,GAAWA,EACvBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAc6O,GACXiT,cAAc,IAGrBzE,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SAEvB,MAAMwS,EAASF,GAAWA,EACvBhvB,KAAKmN,GAAA,KAAY8O,GACfkT,MAAM,GACNC,WAAkC,OAAvB/rB,KAAK4nB,eAAyB9d,GAAA,KAAU,MAAOA,GAAA,KAAU,SAGzEqd,EAAI/N,OAAO,KACRzc,KAAKkvB,GACLxS,KAAK,YAAa,KAEvBoS,IAEA,MAAMO,EAAa,KACjB7E,EAAI/N,OAAO,QACRC,KAAK,YAAa,KACjB,MAAM4S,EAAUjsB,KAAKgW,MAAQ,EACvBkW,EAAUlsB,KAAK6Y,OAA8B,GAArB7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,cAERoiB,EAAI/N,OAAO,QACRC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,GACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAA4B,YAAvB/E,KAAK4nB,eAA8B,iBACf,OAAvB5nB,KAAK4nB,eAAyB,YACP,aAAvB5nB,KAAK4nB,eAA+B,kBACb,OAAvB5nB,KAAK4nB,eAAyB,YACP,OAAvB5nB,KAAK4nB,eAAyB,YACP,UAAvB5nB,KAAK4nB,eAA4B,eACV,WAAvB5nB,KAAK4nB,eAA6B,iBACX,WAAvB5nB,KAAK4nB,eAA6B,iBAAiB,aAE1DoE,IAEA,MAAMG,EAAa,KACjB,MAAMnW,EAAQhW,KAAKgW,MAAQ,EACrB6C,EAAS7Y,KAAK4mB,OAAOC,IAAM,EAG3BrF,EAAS1X,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACjCqD,OAAO,OACPpR,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YAAa,6BACfrZ,KAAK4mB,OAAOI,KAAoB,EAAbhnB,KAAKgW,MAAY,qBACpC6C,EAAS,MAEjB2I,EAAOpI,OAAO,QACXC,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAQrZ,KAAKsnB,iBAIrB9F,EAAOpI,OAAO,QACXC,KAAK,IAAKR,EAAS,GACnBQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAQrZ,KAAKunB,iBAGrB/F,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAM6C,EAAS,MACtDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,cAERyc,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAe,EAAT6C,EAAa,MAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,eAGVonB,IAEA,MAAMC,EAAW,KACf,MAAM1T,EAAWyO,EAAIkD,UAAU,SAC5BtuB,KAAKiE,KAAKooB,0BACViE,KAAK,KACHhT,KAAK,QAAS,QACdA,KAAK,YAAcnb,GAAc,aAAaya,EAAEza,WAG/C,MAAEkN,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAIzBqU,EAAW3T,EAAE2S,YAEbrT,EAAa,KAESU,EAAE2S,YAC5B5S,EAASU,OAAO,QACbC,KAAK,QAAS,yBACdA,KAAK,IAAK,GACVA,KAAK,QAASiT,EAAW,GACzBjT,KAAK,OAAQrZ,KAAKsnB,iBAClBjO,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrB1Y,GAAG,aAAezC,IACjB8B,KAAKinB,MAAQ,CAAEjf,KAAM,UAAWV,WAAYpJ,KAC7CyC,GAAG,aAAcX,KAAKusB,YACzB7T,EAASU,OAAO,QACbC,KAAK,QAAS,yBACdA,KAAK,IAAKiT,EAAW,GACrBjT,KAAK,QAASiT,EAAW,GACzBjT,KAAK,OAAQrZ,KAAKunB,iBAClBlO,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrB1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,UAAWV,WAAYpJ,IAC5EyC,GAAG,aAAcX,KAAKusB,YAKzB7T,EAASU,OAAO,UACbC,KAAK,QAAS,4BACdA,KAAK,KAAOiT,EAAW,GACvBjT,KAAK,KAAMrZ,KAAK6Y,OAAO,IACvBQ,KAAK,IAAI,QACTrT,MAAM,OAAQhG,KAAKsnB,iBACnBjO,KAAK,SAAU,QACf1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,UAAWV,WAAYpJ,IAC5EyC,GAAG,aAAcX,KAAKusB,YAExB7T,EAASU,OAAO,UACdC,KAAK,QAAS,4BACdA,KAAK,KAAMrZ,KAAK6Y,OAAO,IACvBQ,KAAK,KAAiB,EAAXiT,EAAe,GAC1BjT,KAAK,IAAI,QACTrT,MAAM,OAAQhG,KAAKunB,iBACnBlO,KAAK,SAAU,QACf1Y,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,UAAWV,WAAYpJ,IAC5EyC,GAAG,aAAcX,KAAKusB,aAG3BtU,KAGIsS,EAAkB,KACtBpD,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,KAAMT,EAAE,IACbS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMT,EAAE,IACbS,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,SAGtBoT,EAAkB,KACtBtF,EAAI/N,OAAO,QACRC,KAAK,QAAS,4BACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAKqnB,iBAClBhO,KAAK,iBAAkB,SAI5B+S,IACA7B,IACAkC,IAEAzsB,KAAK0sB,iBACL1sB,KAAKkqB,YACLlqB,KAAKylC,qBAEP,iBAEE,MAAMtb,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BqQ,EAAqBrN,EAAME,UAAU,0BACrCoN,EAAqBtN,EAAME,UAAU,0BAErC+N,EAAwBjO,EAAME,UAAU,6BACxCgO,EAAwBlO,EAAME,UAAU,8BAExC,MAAEjf,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAEzBgV,EAAe,CAAC3lB,EAAmB+O,KAEvC,MAAMkJ,EAAKtQ,GAAajP,KAAK2N,YAAYrG,GAAYiY,GAAIlJ,GAAW4F,KAC9D4D,EAAK5Q,GAAajP,KAAK2N,YAAYrG,GAAYuY,GAAIxJ,GAAW4F,KAC9Dxb,EAAKwO,GAAajP,KAAK2N,YAAYrG,GAAY7G,GAAI4V,GAAW4F,KAC9DyD,EAAKzQ,GAAajP,KAAK2N,YAAYrG,GAAYoY,GAAIrJ,GAAW4F,KAC9D6K,EAAQ7X,GAAajP,KAAK2N,YAAYrG,GAAYwf,MAAOzQ,GAAW4F,KACpEupB,EAAWjmB,GAAMA,EAAKM,GACtBK,EAASX,GAAMA,EAAK9e,GAC1B,GAA2B,YAAvBT,KAAK4nB,eACP,OAAO5nB,KAAK4Y,EAAEkO,EAAQzQ,EAAU4F,MAC3B,GAA2B,OAAvBjc,KAAK4nB,eACd,OAAKrI,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,EAC9BT,KAAK4Y,GAAI2G,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,KAE9DT,KAAK4Y,EAAE,GAEX,GAA2B,aAAvB5Y,KAAK4nB,eACd,OAAO5nB,KAAK4Y,EAAE4sB,GACT,GAA2B,OAAvBxlC,KAAK4nB,eAAyB,CACvC,MAAM8I,EAAM4U,EAAch+B,EAAY+O,GACtC,OAAOrW,KAAK4Y,EAAE8X,GACT,GAA2B,OAAvB1wB,KAAK4nB,eAAyB,CACvC,MAAMnH,EAAM8kB,EAAcj+B,EAAY+O,GACtC,OAAOrW,KAAK4Y,EAAE6H,GACT,MAA2B,UAAvBzgB,KAAK4nB,eACP5nB,KAAK4Y,EAAEsH,GACkB,MAAvBlgB,KAAK4nB,gBAEkB,WAAvB5nB,KAAK4nB,gBAEkB,WAAvB5nB,KAAK4nB,eAHP5nB,KAAK4Y,EAAE,EAAI4sB,EAAWtlB,GAAUslB,EAAWtlB,SAG7C,GAIHkN,EAAc,CAAC9lB,EAAmB+O,IAC/BrW,KAAK6Y,OAASoU,EAAa3lB,EAAY+O,GAG1CkvB,EAAgB,CAACj+B,EAAmB+O,KACxC,IAAIoK,EAAM,EAOV,OANApK,EAAUlO,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACjBqE,EAASrR,EAAEqR,QAAU1N,KAAK4S,QAAQ,GAAK,EAAI,EAC3C3U,EAAIqJ,EACVmZ,IAASpkB,EAAE+gB,uBAAuBnf,GAAKyP,IAAWrR,EAAE+gB,uBAAuBnf,GAAKyP,KAE3E+S,GAGH6kB,EAAgB,CAACh+B,EAAmB+O,KACxC,IAAImM,EAAc,GACdf,EAAmB,GACnBiP,EAAM,EACV,MAAMzyB,EAAIqJ,EACJqa,EAAgB7X,GAAA,KAAU,OAChC2X,EAAiBxjB,GAAK,GACtBoY,EAAUlO,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GAClBoY,EAAiBxjB,GAAGkI,SAAS9J,EAAE+gB,uBAAuBnf,KACzDwjB,EAAiBxjB,GAAGpB,KAAKR,EAAE+gB,uBAAuBnf,MAEtDwjB,EAAiBxjB,GAAG4N,OACpB4V,EAAiBxjB,GAAGkK,QAASvJ,IAC3BA,EAAQ+iB,EAAc/iB,GACtB,IAAI2gB,EAAK,EACLM,EAAK,EACLpf,EAAK,EACLif,EAAK,EACTrJ,EAAUlO,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACjBuZ,EAAUvmB,EAAE+gB,uBAAuBnf,GAAKwZ,WAAW7Y,GAASoB,KAAK4S,QAAQ,GAAK5S,KAAK4S,QAAQ,GAC7FvW,EAAEqR,QAAU1N,KAAK4S,QAAQ,GACvBgQ,GAAWvmB,EAAEqR,OACf6R,GAAI,EAEJ9e,GAAI,EAGFmiB,GAAWvmB,EAAEqR,OACfgS,GAAI,EAEJG,GAAI,IAIV2C,EAAY3lB,KAAK,CAAC,EAAIgjB,GAAIA,EAAGH,GAAK,EAAIH,GAAIA,EAAG9e,OAG/C,IAAI+iB,EAAQ,EACRC,EAAQ,EASZ,OARAjB,EAAY3W,MAAK,SAAS8M,EAAGC,GAC3B,OAAO9O,GAAA,KAAa6O,EAAEA,EAAGC,EAAED,MAE7B6J,EAAYra,QAASub,IACnBgN,IAAUhN,EAAI9K,EAAI6K,IAAUC,EAAI/K,EAAI6K,GAAS,EAC7CA,EAAQE,EAAI/K,EACZ8K,EAAQC,EAAI9K,IAEP8X,GAIJtlB,GAKHosB,EACGz7B,KAAKiE,KAAKooB,0BACV/O,KAAK,IAAMnb,GAAc+uB,EAAa/uB,EAAGkN,EAAMvD,YAC/CwR,KAAK,SAAWnb,GAAckvB,EAAYlvB,EAAGkN,EAAMvD,YAGtDuwB,EAAsB/e,KAAK,aAAenb,GACpCwnC,MAAOtY,EAAYlvB,EAAGkN,EAAMvD,aACc,GAAnCulB,EAAYlvB,EAAGkN,EAAMvD,YAC9BulB,EAAYlvB,EAAGkN,EAAMvD,WAAa7H,KAAK6Y,OAAO,IAElC,SADX,aAdL2e,EAAmBne,KAAK,SAAU,KAElC+e,EAAsB/e,KAAK,aAAa,WAkBrClJ,GAIHsnB,EACG17B,KAAKiE,KAAKooB,0BACV/O,KAAK,IAAMnb,GAAc+uB,EAAa/uB,EAAGiS,EAAOtI,YAChDwR,KAAK,SAAWnb,GAAckvB,EAAYlvB,EAAGiS,EAAOtI,YAGvDwwB,EAAsBhf,KAAK,aAAenb,GACpCwnC,MAAOtY,EAAYlvB,EAAGkN,EAAMvD,aACe,GAApCulB,EAAYlvB,EAAGiS,EAAOtI,YAC/BulB,EAAYlvB,EAAGiS,EAAOtI,WAAa7H,KAAK6Y,OAAO,IAGxC,SAFN,aAbL4e,EAAmBpe,KAAK,SAAU,KAClCgf,EAAsBhf,KAAK,aAAa,YAoB5C,OACE/R,EACAU,EACAoO,GAEAtM,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAMxmB,EAAaD,KACnBC,EAAWE,KAAO1B,EAAK0H,MACvBlG,EAAWI,WAAaA,EACxBJ,EAAWC,SAAqB,UAATa,EAEvB,MAAMH,EAAY7H,KAAK2N,YAAYrG,GAAYU,GACzCwK,EAAc,mBAAmBlL,SAAkBU,IACnDO,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAQ,IAEJqI,EAAU,CACd3D,cACA3K,YACAU,aAGFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,OCviCgY,MCQrb,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAWhC,IAAkB,GAAW,CAACnR,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,OC9BzH,IAAI,GAAS,WAAa,IAAIhuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,8BAA8B,KAAKV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,oBAAoBQ,MAAM,CAAClC,MAAOmB,EAAmB,gBAAEgB,SAAS,SAAUC,GAAMjB,EAAI0G,gBAAgBzF,GAAKE,WAAW,oBAAoB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,YAAY,MAAQ,eAAeH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,aAAa,MAAQ,gBAAgBH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,eAAe,MAAQ,kBAAkBH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,OAAO,MAAQ,OAAO,IAAI,GAAGH,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,qBAAqBQ,MAAM,CAAClC,MAAOmB,EAAuB,oBAAEgB,SAAS,SAAUC,GAAMjB,EAAI2G,oBAAoB1F,GAAKE,WAAW,wBAAwB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,WAAW,MAAQ,cAAcH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,YAAY,MAAQ,eAAeH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAAS,MAAQ,YAAYH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,QAAQH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,MAAM,MAAQ,UAAU,IAAI,MAAM,IAAI,GAAGH,EAAG,MAAM,CAACO,IAAI,SAAS,IACjiD,GAAkB,GCsDP,UAAIqC,OAAO,CACxB5E,KAAM,wBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,IAAKC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KACjDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCtgB,EAAkB,GAClBC,EAAsB,WACtBugB,EAAQ,CACZjf,KAAM,GACNV,WAAY,GACZsL,QAAS,GACThU,MAAO,GAET,MAAO,CACL6H,kBACAC,sBACAmS,SACAoO,QACAL,SACAtiB,MAAO,GACPqhC,UAAW,UACXC,eAAgB,UAChBte,gBAAiB,UACjBC,gBAAiB,UACjBvR,QACA6vB,UAAW,UACXC,eAAgB,YAGpBpe,SAAU,CACR,UACE,MAAO,IAAI1nB,KAAKuG,SAASqM,UAE3B,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,WACE,MAAO,IAAI+B,KAAKuG,SAASgD,WAE3B,YACE,MAAO,IAAIvJ,KAAKuG,SAASsB,YAE3B,iBACE,MAAMggB,EAAoB,CAACC,EAAYC,KAErC,IAAIge,EAAa,EACbC,EAAa,EAEjB,IAAK,IAAI3pC,KAAK2D,KAAK2N,YAAYma,GAC7Bie,GAAc/lC,KAAK2N,YAAYma,GAAIzrB,GAAGyqB,MAAM7K,KAE9C,IAAK,IAAI5f,KAAK2D,KAAK2N,YAAYoa,GAC7Bie,GAAchmC,KAAK2N,YAAYoa,GAAI1rB,GAAGyqB,MAAM7K,KAE9C,OAAO8pB,EAAaC,GAEhB9d,EAAqB,CAACJ,EAAYC,KAC9BF,EAAkBC,EAAIC,GAE1BI,EAAiBnoB,KAAK6B,YAAYlC,QACxC,OAAQK,KAAKyG,iBACX,IAAK,YACH0hB,EAAetc,KAAKgc,GACpB,MACF,IAAK,aACHM,EAAetc,KAAKqc,GACpB,MACF,IAAK,eACHC,EAAetc,OACf,MAEJ,OAAOsc,GAET,iBACE,IAAIP,EAAiB,GACrB,OAAQ5nB,KAAK0G,qBACX,IAAK,YACHkhB,EAAiB,YACjB,MACF,IAAK,SACHA,EAAiB,SACjB,MACF,IAAK,WACHA,EAAiB,WACjB,MACF,IAAK,KACHA,EAAiB,KACjB,MACF,IAAK,MACHA,EAAiB,MACjB,MAEJ,OAAOA,GAET,cAiBE,MAAMja,EAcF,GA4CJ,OA1CA3N,KAAK6B,YAAYsG,QAASlK,IACtB0P,EAAY1P,GAAK,GACjB+B,KAAK4S,QAAQzK,QAASjK,IACpByP,EAAY1P,GAAGC,GAAK,CACpB6H,MAAO,IAAIkgC,OACXnf,MAAO,IAAIrU,IACX6V,MAAO,IAAI7V,IACXoN,GAAI,IAAIpN,IACRhS,GAAI,IAAIgS,IACR8M,GAAI,IAAI9M,IACRiN,GAAI,IAAIjN,IACRnD,KAAM,IAAImD,IACV/E,OAAQ,IAAI+E,SAMlBzS,KAAK6H,UAAUM,QAASkB,IACtB,MAAMhN,EAAIiN,GAAaD,GACvBrJ,KAAK6B,YAAYsG,QAASlK,IACxB,IAAI6qB,EAAazsB,EAAEqR,OACfqb,EAAe1sB,EAAEsR,YAAY1P,GAC7B0lB,EAAgB1lB,EACpB0P,EAAYgW,GAAeoF,GAAczZ,KAAK8R,IAAI/X,GAClDsE,EAAYgW,GAAemF,GAAYpb,OAAO0T,IAAI/X,GAC9ChN,EAAEsR,YAAY1P,IAAM5B,EAAEqR,QACxBC,EAAY1P,GAAG6qB,GAAYhC,MAAM1F,IAAI/X,GACrCsE,EAAYgW,GAAemF,GAAYvJ,GAAG6B,IAAI/X,GAC9CrJ,KAAK4S,QAAQzK,QAAS5K,IAChBA,GAAKwrB,GACPpb,EAAYgW,GAAepmB,GAAGmiB,GAAG0B,IAAI/X,OAIzCsE,EAAY1P,GAAG6qB,GAAYR,MAAMlH,IAAI/X,GACrCsE,EAAY1P,GAAG8qB,GAAclJ,GAAGuB,IAAI/X,GACpCsE,EAAYgW,GAAemF,GAAYroB,GAAG2gB,IAAI/X,QAIpDlG,QAAQC,IAAIuK,GACLA,GAET,UACE,MAAMu4B,EAASlmC,KAAKmoB,eACdge,EAASnmC,KAAK4S,QACdwzB,EAAU,GAqChB,OApCAF,EAAO/9B,QAAQk+B,IACb,MAAMC,EAAQ,GACdH,EAAOh+B,QAAQo+B,IACb,IAAItjB,EAAMjjB,KAAK2N,YAAY04B,GAAME,GAAMhnB,GAAGtD,MAAQjc,KAAK2N,YAAY04B,GAAME,GAAMhnB,GAAGtD,KAAOjc,KAAK2N,YAAY04B,GAAME,GAAM1mB,GAAG5D,MACrHuqB,EAAMxmC,KAAK2N,YAAY04B,GAAME,GAAMhnB,GAAGtD,MAAQjc,KAAK2N,YAAY04B,GAAME,GAAMhnB,GAAGtD,KAAOjc,KAAK2N,YAAY04B,GAAME,GAAM9lC,GAAGwb,MACzH,GAA2B,aAAvBjc,KAAK4nB,eACN0e,EAAMzpC,KAAKomB,QACP,GAA2B,UAAvBjjB,KAAK4nB,eACb0e,EAAMzpC,KAAK2pC,QACP,GAA2B,MAAvBxmC,KAAK4nB,eAAwB,CACtC,IAAI9b,EAAOmX,EAAMujB,GAAQ,EAAI,EAAI,EAAIvjB,EAAMujB,GAAOvjB,EAAMujB,GACvDF,EAAMzpC,KAAKiP,QACP,GAA2B,OAAvB9L,KAAK4nB,eAAyB,CACvC,IAAIrI,EAAKvf,KAAK2N,YAAY04B,GAAME,GAAMhnB,GAAGtD,KACrC4D,EAAK7f,KAAK2N,YAAY04B,GAAME,GAAM1mB,GAAG5D,KACrCxb,EAAKT,KAAK2N,YAAY04B,GAAME,GAAM9lC,GAAGwb,KACrCyD,EAAK1f,KAAK2N,YAAY04B,GAAME,GAAM7mB,GAAGzD,KACzC,GAAkE,GAA7DxS,KAAK0W,MAAMZ,EAAKM,IAAON,EAAK9e,IAAOif,EAAKG,IAAOH,EAAKjf,IAAW,CACjE,IAAI2f,EAAO,EAERA,EADEb,EAAKG,EAAKH,EAAK9e,EAAM,GAChB,EAED,EAER6lC,EAAMzpC,KAAKujB,OACR,CACL,IAAIA,GAAOb,EAAKG,EAAKH,EAAK9e,GAAOgJ,KAAK0W,MAAMZ,EAAKM,IAAON,EAAK9e,IAAOif,EAAKG,IAAOH,EAAKjf,IACrF6lC,EAAMzpC,KAAKujB,QAER,CACL,IAAK6B,EAAMjiB,KAAK2N,YAAY04B,GAAME,GAAMzf,MAAM7K,MAAQjc,KAAK2N,YAAY04B,GAAME,GAAMzf,MAAM7K,KAAOjc,KAAK2N,YAAY04B,GAAME,GAAMje,MAAMrM,MACnIqqB,EAAMzpC,KAAKolB,MAGfmkB,EAAQvpC,KAAKypC,KAERF,GAET,kBACiBpmC,KAAKmoB,eACLnoB,KAAK4S,QADpB,MAEM6zB,EAAkB,GASxB,OARAzmC,KAAKomC,QAAQj+B,QAASlK,IACpB,MAAMyoC,EAAgB,GACtBzoC,EAAEkK,QAASjK,IACTwoC,EAAc7pC,KAAK,EAAEqB,KAEvBuoC,EAAgB5pC,KAAK6pC,KAEvBvjC,QAAQC,IAAIqjC,GACLA,GAET,YACE,MAAME,EAAY,GAChB,IAAK,IAAItqC,KAAK2D,KAAKmoB,eACjB,IAAK,IAAI5qB,KAAKyC,KAAK4S,QAAS,CAC1B,IAAIg0B,EAAW,CAAC,WAAa5mC,KAAKmoB,eAAe9rB,GAAG,MAAQ2D,KAAK4S,QAAQrV,GAAG,MAAQyC,KAAKomC,QAAQ/pC,GAAGkB,IACpGopC,EAAU9pC,KAAK+pC,GAGnB,OAAOD,GAEX,aAIE,OAAO3mC,KAAKoB,OAAOC,MAAM8J,mBAE3B,IACE,MAAMwN,EAAI7O,GAAA,OACPC,OAAO/J,KAAKmoB,gBACZ0B,MAAM,CAAC,EAAG7pB,KAAKgW,QACf8T,aAAa,GACbC,aAAa,IAChB,OAAOpR,GAET,IACE,MAAMC,EAAI9O,GAAA,OACPC,OAAO,CAAwB,OAAvB/J,KAAK4nB,gBAA0B,EAAI,EAAG,IAC9CiC,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,IAGXoR,MAAO,CACL,kBACEhqB,KAAKiqB,eAEP,sBACEjqB,KAAKiqB,eAEP,QACEjqB,KAAKkqB,aAEP,YACElqB,KAAKiqB,eAEP,aACEjqB,KAAK0sB,mBAGT,UACE1sB,KAAKiqB,eAEP/mB,QAAS,CACP,aACElD,KAAKinB,MAAQ,CAAEjf,KAAM,GAAIV,WAAY,GAAIsL,QAAQ,GAAIhU,MAAM,IAE7D,YAEE,MAAMurB,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BiD,EAAYD,EAAME,UAAU,cAC5BC,EAAYH,EAAME,UAAU,cAC5BE,EAAkBJ,EAAMK,OAAO,uBAC/BC,EAAuBN,EAAMK,OAAO,6BACpCE,EAAuBP,EAAMK,OAAO,6BACpCqc,EAAkB1c,EAAMK,OAAO,wBAEjCxqB,KAAKinB,MAAM3f,YAActH,KAAKinB,MAAMrU,SACtCi0B,EAAgB9hC,KAAK/E,KAAKinB,MAAM3f,WAAW,KAAKtH,KAAKinB,MAAMrU,SAC1D5M,MAAM,aAAa,WAGE,UAApBhG,KAAKinB,MAAMjf,KACboiB,EAAUruB,KAAKiE,KAAK8mC,WACjBztB,KAAK,OAASnb,GACbA,EAAE,gBAAkB8B,KAAKinB,MAAM3f,YAAcpJ,EAAE,WAAa8B,KAAKinB,MAAMrU,QACnE5S,KAAK4lC,eACL5lC,KAAK2lC,WAEbvb,EAAU/Q,KAAK,OAAQrZ,KAAK2lC,WAEN,UAApB3lC,KAAKinB,MAAMjf,KACbsiB,EAAUvuB,KAAKiE,KAAK8mC,WACjBztB,KAAK,OAASnb,GACbA,EAAE,gBAAmB8B,KAAKinB,MAAM3f,YAAcpJ,EAAE,WAAa8B,KAAKinB,MAAMrU,QACpE5S,KAAK8lC,eACL9lC,KAAK6lC,WAEbvb,EAAUjR,KAAK,OAAQrZ,KAAK6lC,WAE9B,MAAM/a,EAAe,IACfC,EAAoB,IACtB/qB,KAAKinB,MAAMjf,MACbuiB,EACCa,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAQnb,GAAc8B,KAAK4Y,EAAE5Y,KAAKinB,MAAMroB,QAC7Cya,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAOnb,GAAe8B,KAAK4Y,EAAE5Y,KAAKinB,MAAMroB,QAChD6rB,EACGW,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAa,yBACfrZ,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,iBAC7CtrB,KAAK4Y,EAAG5Y,KAAKinB,MAAMroB,OAAS,OAC/BmG,MAA6B,IAAnB/E,KAAKinB,MAAMroB,OAAayZ,QAAQ,GAArC,KACRqS,EACGU,aACAC,SAASP,GACTzR,KAAK,eAAgB,GACrBA,KAAK,YAAa,yBACfrZ,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,iBAC7CtrB,KAAK4Y,EAAG5Y,KAAKinB,MAAMroB,OAAS,OAC/BmG,MAAiC,KAAvB,EAAG/E,KAAKinB,MAAMroB,QAAcyZ,QAAQ,GAAzC,KACLrS,MAAM,aAAqC,MAAvBhG,KAAK4nB,gBAAiD,OAAvB5nB,KAAK4nB,eAAwB,SAAS,aAE5F2C,EACGa,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1BoR,EACGW,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACxBqR,EACGU,aACAC,SAASN,GACT1R,KAAK,eAAgB,GACrBrT,MAAM,aAAqC,MAAvBhG,KAAK4nB,gBAAgD,OAAvB5nB,KAAK4nB,eAAwB,SAAS,aAM7F,cAEE9d,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,UAC/C3N,OAAO,KACLC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAShnB,KAAK4mB,OAAOC,QAQ/DlO,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EAGTstB,GAFIp8B,GAAA,OACP+f,MAAM,CAAC,UAAW,YACN7pB,KAAKmoB,gBACdge,EAASnmC,KAAK4S,QACdwzB,EAAU,GACVK,EAAkB,GACxB,IAAK,IAAIpqC,KAAK2D,KAAKomC,QACjBA,EAAQvpC,KAAKmD,KAAKomC,QAAQ/pC,IAE5B,IAAK,IAAIA,KAAK2D,KAAKymC,gBACjBA,EAAgB5pC,KAAKmD,KAAKymC,gBAAgBpqC,IAE5C,MAAM6N,EAAKJ,GAAA,OACRC,OAAOm8B,GACPrc,MAAM,CAAC,EAAG7pB,KAAKgW,QACf+T,aAAa,IACV5f,EAAKL,GAAA,OACRC,OAAOo8B,GACPY,WAAW,CAAC,EAAG78B,EAAGohB,cAClB+H,QAAQ,KAGL5H,EAAW,KACf,MAAMC,EAASC,GAAWA,EACvBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAcI,GACX0hB,cAAc,IAErBzE,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SACvB,MAAMwS,EAASF,GAAWA,EACvBhvB,KAAKmN,GAAA,KAAY8O,GACfkT,MAAM,GACNC,WAAWjiB,GAAA,KAAU,SAE1Bqd,EAAI/N,OAAO,KACRzc,KAAKkvB,GACLxS,KAAK,YAAa,KAEvBoS,IAEA,MAAMO,EAAa,KACjB7E,EAAI/N,OAAO,QACRC,KAAK,YAAa,KACjB,MAAM4S,EAAUjsB,KAAKgW,MAAQ,EACvBkW,EAAUlsB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,cACRoiB,EAAI/N,OAAO,QACRC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,GACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAA4B,MAAvB/E,KAAK4nB,eAAuB,UAAkC,OAAvB5nB,KAAK4nB,eAAyB,YAAY,0BAE3FoE,IAEA,MAAMG,EAAa,KACjB,MAAMnW,EAAQhW,KAAKgW,MAAQ,EACrB6C,EAAS7Y,KAAK4mB,OAAOC,IAAM,EAE3BrF,EAAS1X,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACjCqD,OAAO,OACPpR,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YAAa,6BACfrZ,KAAK4mB,OAAOI,KAAoB,EAAbhnB,KAAKgW,MAAY,qBACpC6C,EAAS,MACjB2I,EAAOpI,OAAO,QACXC,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAQrZ,KAAK6lC,WAClB7/B,MAAM,aAAqC,MAAvBhG,KAAK4nB,gBAAgD,OAAvB5nB,KAAK4nB,eAAwB,SAAS,WAC3FpG,EAAOpI,OAAO,QACXC,KAAK,IAAKR,EAAS,GACnBQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,OAAQrZ,KAAK2lC,WAClB3/B,MAAM,aAAqC,MAAvBhG,KAAK4nB,gBAAgD,OAAvB5nB,KAAK4nB,eAAwB,SAAS,WAC3FpG,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAM6C,EAAS,MACtDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAA4B,YAAvB/E,KAAK4nB,eAA8B,gBACd,aAAvB5nB,KAAK4nB,eAA+B,KAAM,MAC7C5hB,MAAM,aAAqC,MAAvBhG,KAAK4nB,gBAAgD,OAAvB5nB,KAAK4nB,eAAwB,SAAS,WAC3FpG,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAe,EAAT6C,EAAa,MAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAA4B,YAAvB/E,KAAK4nB,eAA8B,wBACrC5nB,KAAK4nB,eAA+B,OACvC5hB,MAAM,aAAqC,MAAvBhG,KAAK4nB,gBAAgD,OAAvB5nB,KAAK4nB,eAAwB,SAAS,WAG3F,MAAMif,EAAkB/8B,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC1CqD,OAAO,OACPpR,OAAO,KACLC,KAAK,QAAS,mBACdA,KAAK,YAAa,6BACfrZ,KAAK4mB,OAAOI,wBACZnO,EAAS,MACjBguB,EAAgBztB,OAAO,QACpBC,KAAK,QAAS,uBACdA,KAAK,YAAa,gBAA4B,EAATR,EAAa,MAClDQ,KAAK,YAAa,QAClBtU,KAAK,qBACLiB,MAAM,aAAc,WAEzBmmB,IAEA,MAAMC,EAAW,KACf,MAAME,EAAW3T,EAAE2S,YACb0b,EAAa7f,EAAI/N,OAAO,KACzBiR,UAAU,KACVtuB,KAAKqqC,GACL/V,QAAQjX,OAAO,KACfC,KAAK,YAAa,CAACnb,EAAG7B,IAAM,aAAa6N,EAAGg8B,EAAO7pC,UACnDguB,UAAU,QACVtuB,KAAKmC,GAAKA,GACVmyB,QAEC4W,EAAYD,EAAW5tB,OAAO,QAC/BC,KAAK,QAAS,aACdA,KAAK,IAAK,CAACnb,EAAG7B,IAAM8N,EAAGg8B,EAAO9pC,KAC9Bgd,KAAK,IAAKnb,GAAK0a,EAAE1a,IACjBmb,KAAK,QAASlP,EAAGmhB,aACjBjS,KAAK,SAAUnb,GAAK8B,KAAK6Y,OAASD,EAAE1a,IACpCmb,KAAK,OAAQ,WACbtd,KAAKiE,KAAK8mC,WACVnmC,GAAG,aAAezC,GAAM8B,KAAKinB,MAAQ,CAAEjf,KAAM,QAASV,WAAYpJ,EAAE,cAAe0U,QAAQ1U,EAAE,SAAUU,MAAMV,EAAE,WAC/GyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAM8B,KAAKwqB,OAAOtsB,EAAE,cAAe,QAAS,QAAQA,EAAE,WACnEyC,GAAG,cAAgBzC,GAAM8B,KAAKwqB,OAAOtsB,EAAE,cAAe,QAAS,SAASA,EAAE,WAC/E8oC,EAAW5tB,OAAO,UACbC,KAAK,QAAS,oBACdA,KAAK,KAAM,CAACnb,EAAG7B,IAAO8N,EAAGg8B,EAAO9pC,IAAIiwB,EAAS,GAC7CjT,KAAK,KAAMnb,GAAK8B,KAAK6Y,OAAO,IAC5BQ,KAAK,IAAI,QACTrT,MAAM,OAAQ,WACdqT,KAAK,SAAU,QACfA,KAAK,aAAenb,IACnBiF,QAAQC,IAAIlF,GACA,GAALA,GAAkBA,EAAE,GAAZ,SAA2B,YAE3CnC,KAAKiE,KAAK8mC,WACVnmC,GAAG,aAAezC,GAAM8B,KAAKinB,MAAQ,CAAEjf,KAAM,QAASV,WAAYpJ,EAAE,cAAe0U,QAAQ1U,EAAE,SAAUU,MAAMV,EAAE,WAC/GyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAM8B,KAAKwqB,OAAOtsB,EAAE,cAAe,QAAS,QAAQA,EAAE,WACnEyC,GAAG,cAAgBzC,GAAM8B,KAAKwqB,OAAOtsB,EAAE,cAAe,QAAS,SAASA,EAAE,WAC/E,MAAMgpC,EAAe/f,EAAI/N,OAAO,KACvBiR,UAAU,KACVtuB,KAAK0qC,GACLpW,QAAQjX,OAAO,KACfC,KAAK,YAAa,CAACnb,EAAG7B,IAAM,aAAa6N,EAAGg8B,EAAO7pC,UACnDguB,UAAU,QACVtuB,KAAKmC,GAAKA,GACVmyB,QACH8W,EAAeD,EAAa9tB,OAAO,QACpCC,KAAK,QAAS,aACdA,KAAK,IAAK,CAACnb,EAAG7B,IAAM8N,EAAGg8B,EAAO9pC,KAC9Bgd,KAAK,IAAKnb,GAAK0a,EAAE,IACjBS,KAAK,QAASlP,EAAGmhB,aACjBjS,KAAK,SAAUnb,GAAK8B,KAAK6Y,OAASD,EAAE1a,IACpCmb,KAAK,OAAQ,WAEbtd,KAAKiE,KAAK8mC,WACVnmC,GAAG,aAAezC,GAAM8B,KAAKinB,MAAQ,CAAEjf,KAAM,QAASV,WAAYpJ,EAAE,cAAe0U,QAAQ1U,EAAE,SAAUU,MAAMV,EAAE,WAC/GyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAM8B,KAAKwqB,OAAOtsB,EAAE,cAAe,QAAS,QAAQA,EAAE,WACnEyC,GAAG,cAAgBzC,GAAM8B,KAAKwqB,OAAOtsB,EAAE,cAAe,QAAS,SAASA,EAAE,WAC1E8H,MAAM,aAAqC,MAAvBhG,KAAK4nB,gBAAgD,OAAvB5nB,KAAK4nB,eAAwB,SAAS,WAC3Esf,EAAa9tB,OAAO,UACjCC,KAAK,KAAM,CAACnb,EAAG7B,IAAO8N,EAAGg8B,EAAO9pC,IAAIiwB,EAAS,GAC7CjT,KAAK,KAAMnb,GAAK0a,EAAE,GAAG,IACrBS,KAAK,IAAI,QACTrT,MAAM,OAAQ,WACdqT,KAAK,SAAU,QACfA,KAAK,aAAenb,GACQ,MAAvB8B,KAAK4nB,gBAAgD,OAAvB5nB,KAAK4nB,eAAgC,UACvEzkB,QAAQC,IAAIlF,GACA,GAALA,GAAgBA,EAAG,GAAZ,SAAyB,YAExCnC,KAAKiE,KAAK8mC,WACVnmC,GAAG,aAAezC,GAAM8B,KAAKinB,MAAQ,CAAEjf,KAAM,QAASV,WAAYpJ,EAAE,cAAe0U,QAAQ1U,EAAE,SAAUU,MAAMV,EAAE,WAC/GyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAM8B,KAAKwqB,OAAOtsB,EAAE,cAAe,QAAS,QAAQA,EAAE,WAExE,MAAM+Z,EAAa,KACjB9U,QAAQC,IAAI,mBACZ,MAAMupB,EAAoBhU,EAAE2S,YAAc,EAEzC2b,EAAU7tB,OAAO,QACfC,KAAK,QAAS,yBACdA,KAAK,IAAKiT,EAAW,EAAIK,GACzBtT,KAAK,QAASsT,GACdtT,KAAK,OAAQrZ,KAAKsnB,iBAClBjO,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,QAE1B4tB,EAAU7tB,OAAO,QACdC,KAAK,QAAS,yBACdA,KAAK,IAAKiT,EAAW,GACrBjT,KAAK,QAASsT,GACdtT,KAAK,OAAQrZ,KAAKunB,iBAClBlO,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,QAE1B8tB,EAAY/tB,OAAO,QAChBC,KAAK,QAAS,yBACdA,KAAK,IAAKiT,EAAW,EAAIK,GACzBtT,KAAK,QAASsT,GACdtT,KAAK,OAAQrZ,KAAKsnB,iBAClBjO,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,QAE1B8tB,EAAY/tB,OAAO,QAChBC,KAAK,QAAS,yBACdA,KAAK,IAAKiT,EAAW,GACrBjT,KAAK,QAASsT,GACdtT,KAAK,OAAQrZ,KAAKunB,iBAClBlO,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,QAG1B4tB,EAAU7tB,OAAO,UACdC,KAAK,QAAS,4BACdA,KAAK,KAAMiT,EAAW,EAAIK,GAC1BtT,KAAK,IAAI,QACTrT,MAAM,OAAQhG,KAAKsnB,iBACnBjO,KAAK,SAAU,QAElB4tB,EAAU7tB,OAAO,UACdC,KAAK,QAAS,4BACdA,KAAK,KAAMiT,EAAW,GACtBjT,KAAK,IAAI,QACTrT,MAAM,OAAQhG,KAAKunB,iBACnBlO,KAAK,SAAU,QAElB8tB,EAAY/tB,OAAO,UAChBC,KAAK,QAAS,4BACdA,KAAK,KAAMiT,EAAW,EAAIK,GAC1BtT,KAAK,IAAI,QACTrT,MAAM,OAAQhG,KAAKsnB,iBACnBjO,KAAK,SAAU,QAElB8tB,EAAY/tB,OAAO,UAChBC,KAAK,QAAS,4BACdA,KAAK,KAAMiT,EAAW,GACtBjT,KAAK,IAAI,QACTrT,MAAM,OAAQhG,KAAKunB,iBACnBlO,KAAK,SAAU,SAEpBpB,KAEIsS,EAAkB,KACtBpD,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,KAAMT,EAAE,IACbS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMT,EAAE,IACbS,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,SAEtBoT,EAAkB,KACtBtF,EAAI/N,OAAO,QACRC,KAAK,QAAS,4BACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAK4lC,gBAClBvsB,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,4BACdA,KAAK,cAAe,UACpBA,KAAK,YAAa,IAClBA,KAAK,OAAQrZ,KAAK8lC,gBAClBzsB,KAAK,iBAAkB,SAE5B+S,IACA7B,IACAkC,IACAzsB,KAAKkqB,YACLlqB,KAAK0sB,kBAEP,iBAEE,MAAMvC,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BqQ,EAAqBrN,EAAME,UAAU,0BACrCoN,EAAqBtN,EAAME,UAAU,0BACrCqN,EAAqBvN,EAAME,UAAU,0BACrCsN,EAAqBxN,EAAME,UAAU,0BAErC+N,EAAwBjO,EAAME,UAAU,6BACxCgO,EAAwBlO,EAAME,UAAU,6BACxCiO,EAAwBnO,EAAME,UAAU,6BACxCkO,EAAwBpO,EAAME,UAAU,8BAExC,MAAEjf,EAAK,OAAE+E,GAAWnQ,KAAKiY,WACzBgV,EAAe,CAACplB,EAAwBwO,KAC5C,MAAM8U,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2BhC,EAAqBlP,KAAOjc,KAAK6H,UAAUtL,OAC5E,OAAOyD,KAAK4Y,EAAEuU,IAEVC,EAAc,CAACvlB,EAAwBwO,IACpCrW,KAAK6Y,OAASoU,EAAaplB,EAAWwO,GAEzCgX,EAAc,CAACxlB,EAAwBwO,KAC3C,MAAM8U,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2BhC,EAAqBlP,KAAOjc,KAAK6H,UAAUtL,OAC5E,OAAOyD,KAAK6Y,OAAS7Y,KAAK4Y,EAAEuU,IAEzB/hB,GAOHosB,EACGz7B,KAAKiE,KAAK8mC,WACVztB,KAAK,IAAMnb,GAAc+uB,EAAajtB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAU4oB,MAAO1b,EAAMvD,YACjGwR,KAAK,SAAWnb,GAAckvB,EAAYptB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAU4oB,MAAO1b,EAAMvD,YACxG6vB,EACG37B,KAAKiE,KAAK8mC,WAEVztB,KAAK,SAAWnb,GAAcmvB,EAAYrtB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAUoqB,MAAOld,EAAMvD,YAExGuwB,EACGr8B,KAAKiE,KAAK8mC,WACVztB,KAAK,KAAKrZ,KAAK6Y,OAAO,IACtBQ,KAAK,aAAenb,GACyE,GAArFkvB,EAAYptB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAU4oB,MAAO1b,EAAMvD,YAC5EulB,EAAYptB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAU4oB,MAAO1b,EAAMvD,WAAa7H,KAAK6Y,OAAQ,GADJ,SACkB,WAErHyf,EACGjf,KAAK,KAAK,IACVtd,KAAKiE,KAAK8mC,WACVztB,KAAK,aAAenb,IACnBiF,QAAQC,IAAI,iBAAiBiqB,EAAYrtB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAUoqB,MAAOld,EAAMvD,WAAY7H,KAAK6Y,QACzB,GAArFwU,EAAYrtB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAUoqB,MAAOld,EAAMvD,YAC7EwlB,EAAYrtB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAUoqB,MAAOld,EAAMvD,WAAa7H,KAAK6Y,OAAQ,GADH,SACiB,cA5BpH2e,EAAmBne,KAAK,SAAU,KAClCqe,EAAmBre,KAAK,SAAU,KAElC+e,EAAsB/e,KAAK,aAAc,UACzCif,EAAsBjf,KAAK,aAAc,WA2BtClJ,GAOHsnB,EACG17B,KAAKiE,KAAK8mC,WACVztB,KAAK,IAAMnb,GAAc+uB,EAAajtB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAU4oB,MAAO3W,EAAOtI,YAClGwR,KAAK,SAAWnb,GAAckvB,EAAYptB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAU4oB,MAAO3W,EAAOtI,YACzG8vB,EACG57B,KAAKiE,KAAK8mC,WACVztB,KAAK,SAAWnb,GAAcmvB,EAAYrtB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAUoqB,MAAOnY,EAAOtI,YAEzGwwB,EACGt8B,KAAKiE,KAAK8mC,WACVztB,KAAK,KAAKrZ,KAAK6Y,OAAO,IACtBQ,KAAK,aAAenb,GAC0E,GAAtFkvB,EAAYptB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAU4oB,MAAO3W,EAAOtI,YAC7EulB,EAAYptB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAU4oB,MAAO3W,EAAOtI,WAAa7H,KAAK6Y,OAAQ,GADJ,SACkB,WAEtH0f,EACGlf,KAAK,KAAK,IACVtd,KAAKiE,KAAK8mC,WACVztB,KAAK,aAAenb,GAC0E,GAAtFmvB,EAAYrtB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAUoqB,MAAOnY,EAAOtI,YAC9EwlB,EAAYrtB,KAAK2N,YAAYzP,EAAE,eAAeA,EAAE,UAAUoqB,MAAOnY,EAAOtI,WAAa7H,KAAK6Y,OAAQ,GADH,SACiB,aA1BrH4e,EAAmBpe,KAAK,SAAU,KAClCse,EAAmBte,KAAK,SAAU,KAElCgf,EAAsBhf,KAAK,aAAc,UACzCkf,EAAsBlf,KAAK,aAAc,YA0B7C,OACE/R,EACAU,EACAoO,EACA1D,GAEAvP,QAAQC,IAAI,iBAAiBpD,KAAK2N,YAAYrG,GAAYoL,IAC1D5I,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBACT,MAAMxmB,EAAaD,KACnBC,EAAWE,KAAO1B,EAAK0H,MACvBlG,EAAWI,WAAaA,EACxBJ,EAAWC,SAAqB,UAATa,EACvB,MAAMH,EAAY7H,KAAK2N,YAAYrG,GAAYoL,GAAW1K,GACpDwK,EAAc,GAAGlL,KAAcoL,oBAA4BpL,SAAkBU,IAC7EO,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAQ9N,KAAK2N,YAAYrG,GAAYoL,IAEjCyD,EAAU,CACd3D,cACA3K,YACAU,YACAjB,aACAoL,aAEF1S,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,OC12B+X,MCQpb,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAWhC,IAAkB,GAAW,CAACnR,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,OC9BzH,IAAI,GAAS,WAAa,IAAIhuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,yBAAyB,KAAKV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,SAAS,MAAQ,UAAUQ,MAAM,CAAClC,MAAOmB,EAA0B,uBAAEgB,SAAS,SAAUC,GAAMjB,EAAIqnC,uBAAuBpmC,GAAKE,WAAW,4BAA4Bf,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,sBAAsB,MAAQ,uBAAuBQ,MAAM,CAAClC,MAAOmB,EAA0B,uBAAEgB,SAAS,SAAUC,GAAMjB,EAAIqnC,uBAAuBpmC,GAAKE,WAAW,4BAA4Bf,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,oBAAoB,MAAQ,qBAAqBQ,MAAM,CAAClC,MAAOmB,EAA0B,uBAAEgB,SAAS,SAAUC,GAAMjB,EAAIqnC,uBAAuBpmC,GAAKE,WAAW,6BAA6B,MAAM,IAAI,GAAGf,EAAG,MAAM,CAACO,IAAI,MAAMJ,MAAM,CAAC,MAAQ,OAAO,QAAW,OAAUP,EAAIsnC,WAAW73B,MAAW,MAAI,IAAOzP,EAAIsnC,WAAW73B,MAAY,WAAO,IAC31C,GAAkB,GCDlB,GAAS,WAAa,IAAIzP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,IAAI,WAC1G,GAAkB,GCQP,UAAIqC,OAAO,CACxB5E,KAAM,cACNsoB,MAAO,CAKL5N,OAAQ,CACN7Q,KAAMs/B,OACNC,QAAS,KAEXz8B,WAAY,CACV9C,KAAMs/B,OACNC,QAAS,GAEXC,MAAO,CACLx/B,KAAMi+B,OACNvf,UAAU,GAEZ3b,WAAY,CACV/C,KAAMs/B,OACNC,QAAS,GAEXvxB,MAAO,CACLhO,KAAMs/B,OACNC,QAAS,MAGb,OACE,MAAM3gB,EAAS,CAACC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IAChDhR,EAAQhW,KAAKgW,MAAQ4Q,EAAOI,KAAOJ,EAAOE,MAC1CjO,EAAS7Y,KAAK6Y,OAAS+N,EAAOC,IAAMD,EAAOG,OACjD,MAAO,CACLsgB,WAAY,CACVxuB,SACA7C,SAEF4Q,WAGJc,SAAU,CACR,aACE,OAAOzB,OAGX+D,MAAO,CACL,aACEhqB,KAAK0jC,SAGT,UACE1jC,KAAK0jC,QAEPxgC,QAAS,CACP,OACE,MAAMyV,EAAI7O,GAAA,OACPC,OAAO,CAAC/J,KAAK8K,WAAYrB,KAAKG,IAAI,EAAG5J,KAAK+K,cAC1C8e,MAAM,CAAC,EAAG7pB,KAAKqnC,WAAWrxB,QAGvBmU,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8mB,OACnCA,EAAME,UAAU,KAAKkB,SAGrB,MAAMpE,EAAMgD,EACT/Q,OAAO,OACLC,KAAK,QAASrZ,KAAKqnC,WAAWrxB,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,OACrEzN,KAAK,SAAUrZ,KAAKqnC,WAAWxuB,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,QACtE1N,KAAK,UAAW,kCAEbrZ,KAAKqnC,WAAWrxB,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,sBACvD9mB,KAAKqnC,WAAWxuB,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,UAC5D3N,OAAO,KACLC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAShnB,KAAK4mB,OAAOC,QAE/D4gB,EAAe,KACnB,MAAMC,EAAiBvd,EACpBK,OAAO,OACPpR,OAAO,QACPA,OAAO,kBACLC,KAAK,KAAMrZ,KAAK2nC,YAChBtuB,KAAK,KAAM,MACXA,KAAK,KAAM,MACXA,KAAK,KAAM,QACXA,KAAK,KAAM,MACVuuB,EAAuB,KAAO5nC,KAAKi2B,OAAO15B,OAAS,GACzDyD,KAAKi2B,OAAO9tB,QAAQ,CAAC2Q,EAAOzO,KAC1Bq9B,EAAetuB,OAAO,QACnBC,KAAK,SAAahP,EAAQu9B,EAAX,KACfvuB,KAAK,aAAcP,KAGxBqO,EAAI/N,OAAO,QACRC,KAAK,QAASrZ,KAAKqnC,WAAWrxB,OAC9BqD,KAAK,SAAUrZ,KAAKqnC,WAAWxuB,QAC/BQ,KAAK,SAAU,SACfA,KAAK,eAAgB,SACrBrT,MAAM,OAAQ,QAAQhG,KAAK2nC,gBAEhCF,IAEA,MAAM7Q,EAAW,KACfzP,EAAI/N,OAAO,KACRC,KAAK,YAAa,eAAerZ,KAAKqnC,WAAWxuB,WACjDlc,KAAKmN,GAAA,KAAc6O,GAAGmT,MAAM,IAC5BzS,KAAK,YAAa,KAEvBud,IAEA,MAAMiR,EAAY,KAChB1gB,EAAI/N,OAAO,QACRC,KACC,YACA,6BACIrZ,KAAKqnC,WAAWrxB,MAAQ,qBACxBhW,KAAKqnC,WAAWxuB,OAAS7Y,KAAK4mB,OAAOG,OAAS,oBAGnD1N,KAAK,KAAM,OACXA,KAAK,cAAe,UACpBrT,MAAM,YAAa,QACnBjB,KAAK/E,KAAKwnC,QAEfK,QCpI8Y,MCOhZ,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,M,QClBX,GAAS,WAAa,IAAI9nC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACO,IAAI,QAAQC,GAAG,CAAC,WAAa,SAASoB,GAAQ,OAAOhC,EAAI+nC,cAAc,CAAC,GAAI,IAAK,SACvL,GAAkB,GCwBP,UAAI/kC,OAAO,CACxB5E,KAAM,yBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,EACVqhB,UAAYxhC,GAC2B,IAA9BA,EAAS1E,YAAYoa,MAGhC+rB,YAAa,CACXhgC,KAAMxL,QAKRyrC,UAAW,CACTjgC,KAAMxL,OAONkqB,UAAU,GAEZohB,cAAe,CACb9/B,KAAM2e,SACND,UAAU,GAEZwhB,WAAY,CACVlgC,KAAMs/B,OACN5gB,UAAU,GAEZyhB,2BAA4B,CAC1BngC,KAAM2e,SACND,UAAU,IAGdgB,SAAU,CACR,oBACE,MAAM9U,EAAU5S,KAAK4S,QACfw1B,EAAwC,GAC9Cx1B,EAAQzK,QAAS4c,IACfnS,EAAQzK,QAAS6c,IACfojB,EAAkBvrC,KAAK,IAAI4V,SAI/B,MAAM5K,EAAY7H,KAAK6H,UAYvB,OAXAA,EAAUM,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACjBg/B,EAAWz1B,EAAQrW,OACnB+rC,EAAc11B,EAAQiK,QAAQxgB,EAAEqR,QAChC66B,EAAiB31B,EAAQiK,QAAQxgB,EAAEsR,YAAY3N,KAAKsH,aAC1D,IAAqB,IAAjBghC,IAA0C,IAApBC,EACxB,OAEF,MAAMC,EAAcF,EAAcD,EAAWE,EAC7CH,EAAkBI,GAAapnB,IAAI/X,KAE9B++B,GAET,aACE,MAAMK,EAAazoC,KAAK4Y,EAAE0S,YAC1B,OAAOmd,GAET,YACE,MAAMC,EAAY1oC,KAAK2Y,EAAE2S,YACzB,OAAOod,GAET,UACE,MAAO,IAAI1oC,KAAKuG,SAASqM,UAE3B,aACE,MAAO,IAAI5S,KAAKuG,SAAS1E,aAAa,IAExC,YACE,MAAO,IAAI7B,KAAKuG,SAASsB,YAE3B,oBAIE,OAAO7H,KAAKoB,OAAOC,MAAM4W,WAAW/E,UAEtC,uBAIE,MAAMy1B,EAAc,CAClBC,SAAU,GACVC,YAAa,IAEf7oC,KAAKooC,kBAAkBjgC,QAAQ,CAAC2gC,EAAQz+B,KAClCrK,KAAK+oC,eAAe1+B,GACtBs+B,EAAYC,SAAS/rC,KAAKisC,EAAO7sB,MAEjC0sB,EAAYE,YAAYhsC,KAAKisC,EAAO7sB,QAGxC,MAAM+sB,EAAuB,CAC3BJ,SAAUn/B,KAAKG,OAAO++B,EAAYC,UAClCC,YAAap/B,KAAKG,OAAO++B,EAAYE,cAGvC,OADA7oC,KAAKmoC,2BAA2Ba,GACzBA,GAET,oBAIE,OAAOhpC,KAAKoB,OAAOC,MAAM8J,mBAK3B,mBACE,OAAOnL,KAAKoB,OAAOC,MAAM8R,iBAAiB,GAAGtL,WAE/C,IACE,MAAM8Q,EAAI7O,GAAA,OACPC,OAAO/J,KAAK4S,SACZiX,MAAM,CAAC,EAAG7pB,KAAKkoC,aAClB,OAAOvvB,GAET,IACE,MAAMC,EAAI9O,GAAA,OACPC,OAAO/J,KAAK4S,SACZiX,MAAM,CAAC,EAAG7pB,KAAKkoC,aAClB,OAAOtvB,IAGXoR,MAAO,CACL,oBACEhqB,KAAKiqB,eAEP,oBACEjqB,KAAKiqB,gBAGT,UACEjqB,KAAKiqB,eAEP/mB,QAAS,CACP,gBAAgB0hB,EAAmBlX,GACjC,OACGkX,IAAclX,EACX,uBAAuBA,0CAA+C1N,KAAKsH,cAC3E,uBAAuBoG,8BAAmCkX,qBAA6B5kB,KAAKsH,eAGpG,cAEE,MAAM2hC,EAAqBjpC,KAAKgoC,YAAYY,SACtCM,EAAwBlpC,KAAKgoC,YAAYa,YAG/C/+B,GAAA,KAAU9J,KAAKqD,MAAM8mB,OAAOE,UAAU,KAAKkB,SAE3C,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8mB,OAC9B/Q,OAAO,OACLC,KAAK,QAASrZ,KAAKkoC,YACnB7uB,KAAK,SAAUrZ,KAAKkoC,YAEnBiB,EAAkB,CAACltB,EAAc5R,IAEnCrK,KAAK+oC,eAAe1+B,GAClB4+B,EAAmBhtB,GACnBitB,EAAsBjtB,GAItBmtB,EAA2Bt/B,GAAA,KAAS9J,KAAK4S,QAAS5S,KAAK4S,SACvDy2B,EAAQliB,EAAIkD,UAAU,eACzBtuB,KAAKqtC,GACL/c,KAAK,KACHhT,KAAK,QAAS,eACdA,KAAK,YAAcnb,GAAkB,GAAG8B,KAAKspC,cAAcprC,IAC3DyC,GAAG,QAAS,CAACzC,EAAe7B,IAAc2D,KAAKupC,oBAAoBrrC,EAAG7B,IACtEsE,GAAG,aAAezC,GAAkB8B,KAAK8nC,cAAc5pC,EAAG8B,KAAKsH,aAE9DohC,EAAY1oC,KAAK0oC,UACjBD,EAAazoC,KAAKyoC,WAClBe,EAAkB,KACtBH,EAAMjwB,OAAO,QACVC,KAAK,QAASqvB,GACdrvB,KAAK,SAAUovB,GACfpvB,KAAK,OAAQ,CAACnb,EAAe7B,IAAc8sC,EAAgBnpC,KAAKooC,kBAAkB/rC,GAAG4f,KAAM5f,IAC3Fgd,KAAK,eAAgB,SACrBA,KAAK,SAAU,UAEpBmwB,IAEAxpC,KAAKypC,mBAEL,MAAMC,EAAiB,KACrB,MAAMt+B,EAAQpL,KAAKmL,kBAAkBC,MACrC,GAAc,OAAVA,EACF,OAEF,MAAMvD,EAAYuD,EAAMvD,UACxBwhC,EAAMjwB,OAAO,QACVC,KAAK,IAAkB,EAAbovB,EAAiB,GAC3BpvB,KAAK,QAASqvB,GACdrvB,KAAK,SAAUovB,EAAa,GAC5BpvB,KAAK,OAAQ,GAAOlO,kBAAkBiF,YACtCu5B,KAAK,CAACzrC,EAAe7B,KACpB,MAAM4f,EAAOoK,GAAaxe,EAAW7H,KAAKooC,kBAAkB/rC,IAC5D,MAAO,4CAED4f,iEAIVotB,EAAMjwB,OAAO,QACVC,KAAK,IAAkB,EAAbovB,EAAiB,GAC3BpvB,KAAK,QAAS,CAACnb,EAAe7B,IAC7BqsC,EAAYniB,GAAgB1e,EAAW7H,KAAKooC,kBAAkB/rC,KAC/Dgd,KAAK,SAAUovB,EAAa,GAC5BpvB,KAAK,OAAQ,GAAOlO,kBAAkBC,OACtCiO,KAAK,iBAAkB,SAE5BqwB,IAEA,MAAME,EAAiB,KACrB,MAAMz5B,EAASnQ,KAAKmL,kBAAkBgF,OACtC,GAAe,OAAXA,EACF,OAEF,MAAMtI,EAAYsI,EAAOtI,UACzBwhC,EAAMjwB,OAAO,QACVC,KAAK,IAAkB,EAAbovB,EAAiB,GAC3BpvB,KAAK,QAASqvB,GACdrvB,KAAK,SAAUovB,EAAa,GAC5BpvB,KAAK,OAAQ,GAAOlO,kBAAkBiF,YACtCu5B,KAAK,CAACzrC,EAAe7B,KACpB,MAAM4f,EAAOoK,GAAaxe,EAAW7H,KAAKooC,kBAAkB/rC,IAC5D,MAAO,4CAED4f,iEAIVotB,EAAMjwB,OAAO,QACVC,KAAK,IAAkB,EAAbovB,EAAiB,GAC3BpvB,KAAK,QAAS,CAACnb,EAAe7B,IAC7BqsC,EAAYniB,GAAgB1e,EAAW7H,KAAKooC,kBAAkB/rC,KAC/Dgd,KAAK,SAAUovB,EAAa,GAC5BpvB,KAAK,OAAQ,GAAOlO,kBAAkBgF,QACtCkJ,KAAK,iBAAkB,SAE5BuwB,KAkBF,mBAEE,GACoC,KAAlC5pC,KAAKioC,UAAUr1B,QAAQlF,QACiB,KAArC1N,KAAKioC,UAAUr1B,QAAQgS,WACO,KAA9B5kB,KAAKioC,UAAU3gC,WAElB,OAEF,MAAM,OAAEoG,EAAM,UAAEkX,GAAc5kB,KAAKioC,UAAUr1B,QAEvCuU,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8mB,OAAOK,OAAO,OAE/CrD,EAAI/N,OAAO,QACRC,KAAK,YAAarZ,KAAKspC,cAAc,CAAC57B,EAAQkX,KAC9CvL,KAAK,QAASrZ,KAAK0oC,WACnBrvB,KAAK,SAAUrZ,KAAKyoC,YACpBpvB,KAAK,OAAQ,QACbA,KAAK,eAAgB,OACrBA,KAAK,SAAU,WACfA,KAAK,iBAAkB,QAC1B8N,EAAI/N,OAAO,QACRC,KAAK,IAAKrZ,KAAK2Y,EAAEiM,GAAuB5kB,KAAK0oC,UAAY,GACzDrvB,KAAK,IAAKrZ,KAAK4Y,EAAElL,GAAoB1N,KAAKyoC,WAAa,GACvDpvB,KAAK,oBAAqB,UAC1BA,KAAK,cAAe,UACpBA,KAAK,YAAa,IAClBA,KAAK,iBAAkB,QACvBswB,KAAK,KACJ,MAAMrB,EAActoC,KAAK4S,QAAQiK,QAAQnP,GACnC66B,EAAiBvoC,KAAK4S,QAAQiK,QAAQ+H,GACtCva,EAAQi+B,EAActoC,KAAK4S,QAAQrW,OAASgsC,EAC5ClqC,EAAI2B,KAAKooC,kBAAkB/9B,GAAO4R,KACxC,MAAO,GAAG5d,KAGhB,eAAegM,GACb,MAAMw/B,EAAa7pC,KAAKuG,SAASqM,QAAQqJ,KACnC6tB,EAAMrgC,KAAKuU,MAAM3T,EAAQw/B,GACzBE,EAAM1/B,EAAQw/B,EACpB,OAAOC,IAAQC,GAEjB,cAAc7rC,GACZ,MAAO,aAAa8B,KAAK2Y,EAAEza,EAAE,QAAQ8B,KAAK4Y,EAAE1a,EAAE,QAEhD,oBAAoB0U,EAAqBvI,GACvC,MAAOqD,EAAQkX,GAAahS,EAC5BzP,QAAQC,IAAI,0BAA2BwP,EAASvI,GAChD,MAAM8L,EAAU,CACdtO,UAAW7H,KAAKooC,kBAAkB/9B,GAClCmI,YAAaxS,KAAKgqC,gBAAgBplB,EAAWlX,IAE/C1N,KAAKoB,OAAOO,SAAS,4BAA6BwU,OC3VyX,MCQ7a,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QC2CA,UAAIpT,OAAO,CACxB5E,KAAM,sBACN6E,WAAY,CACVinC,eACAC,2BAEF,OACE,MAAMl0B,EAAQ,IACR6C,EAAS,IACTrJ,EAAQ,CACZwG,QACA6C,UAEIsxB,EAAuB,CAC3Ble,QAAS,EACTC,QAAS,EACTlW,MAAO,GAAMA,EACb6C,OAAQ,KAEJuxB,EAAc,CAClBne,QAASke,EAAqBn0B,MAC9BkW,QAAS,EACTlW,MAAOA,EAAQm0B,EAAqBn0B,MACpC6C,OAAQsxB,EAAqBtxB,QAEzBwxB,EAAoB,CACxBpe,QAAS,EACTC,QAASie,EAAqBtxB,OAC9B7C,MAAO,IACP6C,OAAQA,EAASsxB,EAAqBtxB,QAElCyxB,EAAa,CACjBre,QAASoe,EAAkBr0B,MAC3BkW,QAASme,EAAkBne,QAC3BlW,MAAOA,EAAQq0B,EAAkBr0B,MACjC6C,OAAQwxB,EAAkBxxB,QAE5B,MAAO,CACLod,OAAA,GACAoR,WAAY,CACVgD,oBACAD,cACAE,aACAH,uBACA36B,SAEF43B,uBAAwB,GACxBa,UAAW,CACTr1B,QAAS,CACPlF,OAAQ,GACRkX,UAAW,IAEbtd,WAAY,IAEdhD,MAAO,KAGXmiB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGdgB,SAAU,CACR,mBACE,MAAM6iB,EAAmBzgC,GAAA,OACtBC,OAAO/J,KAAK4S,SACZiX,MAAM,CAAC,EAAG7pB,KAAK4Y,EAAE0S,cACjBvB,aAAa,GAEhB,OAAOwgB,GAET,uBAGE,MAAMC,EAEF,GAMJ,OAJAxqC,KAAK6B,YAAYsG,QAASlK,IACxBusC,EAAqBvsC,GAAK+B,KAAKyqC,8BAA8BxsC,KAGxDusC,GAET,UACE,MAAO,IAAIxqC,KAAKuG,SAASqM,UAE3B,aACE,MAAMw2B,EAAat/B,GAAA,KAAS9J,KAAK4S,QAAS5S,KAAK4S,SAC/C,OAAOw2B,GAET,uBACE,MAAMp9B,EAAI,CAACQ,EAAQC,IAAW,GAAGyyB,UAAU1yB,EAAEpD,IAAKlL,GAAWuO,EAAErD,IAAK+7B,GAAW,GAAGjG,OAAOhhC,EAAGinC,MAEtFuF,EAAY,CAACl+B,EAAQC,KAAWxO,IAAcwO,EAAIi+B,EAAU1+B,EAAEQ,EAAGC,MAAOxO,GAAKuO,EAC7Em+B,EAAuBD,EAAU1qC,KAAK6B,YAAa7B,KAAK4S,QAAS5S,KAAK4S,SAE5E,OAAO+3B,GAET,cACE,MAAM9oC,EAAc,IAAI7B,KAAKuG,SAAS1E,aAAa4J,OAAQxN,IAAO+B,KAAKonC,uBAAuBjhC,SAASlI,IACvG,OAAO4D,GAET,cAIE,MAAMmmC,EAAc,CAClBY,SAAU9+B,GAAA,OACPC,OAAO,CAAC,EAAG/J,KAAKgpC,qBAAqBJ,WACrC/e,MAAM,CAAC7pB,KAAKi2B,OAAOtmB,UAAW,GAAOD,WACxCm5B,YAAa/+B,GAAA,OACVC,OAAO,CAAC,EAAG/J,KAAKgpC,qBAAqBH,cACrChf,MAAM,CAAC7pB,KAAKi2B,OAAOnmB,SAAU,GAAOD,WAEzC,OAAOm4B,GAET,aAIE,MAAO,CACL4C,oBAAqB3kB,KACrB4kB,cAAe5kB,OAGnB,SAME,MAAM6kB,EAAO,CACXjkB,IAAK,IAAO7mB,KAAKqnC,WAAWiD,WAAWzxB,OACvCiO,MAAO,IAAO9mB,KAAKqnC,WAAWiD,WAAWt0B,MACzC+Q,OAAQ,IAAO/mB,KAAKqnC,WAAWiD,WAAWzxB,OAC1CmO,KAAM,IAAOhnB,KAAKqnC,WAAWiD,WAAWt0B,OAEpCo0B,EAAc,CAClBvjB,IAAK,IAAO7mB,KAAKqnC,WAAW+C,YAAYvxB,OACxCiO,MAAO,GAAM9mB,KAAKqnC,WAAW+C,YAAYp0B,MACzC+Q,OAAQ,IAAO/mB,KAAKqnC,WAAW+C,YAAYvxB,OAC3CmO,KAAM,GAAMhnB,KAAKqnC,WAAW+C,YAAYp0B,OAEpC+0B,EAAU,CACdlkB,IAAK,GAAM7mB,KAAKqnC,WAAWgD,kBAAkBxxB,OAC7CiO,MAAO,GAAM9mB,KAAKqnC,WAAWgD,kBAAkBr0B,MAC/C+Q,OAAQ,GAAM/mB,KAAKqnC,WAAWgD,kBAAkBxxB,OAChDmO,KAAM,GAAMhnB,KAAKqnC,WAAWgD,kBAAkBr0B,OAE1Cg1B,EAAS,CACbnkB,IAAK,GAAM7mB,KAAKqnC,WAAW8C,qBAAqBtxB,OAChDiO,MAAO,GAAM9mB,KAAKqnC,WAAW8C,qBAAqBn0B,MAClD+Q,OAAQ,GAAM/mB,KAAKqnC,WAAW8C,qBAAqBtxB,OACnDmO,KAAM,IAAOhnB,KAAKqnC,WAAW8C,qBAAqBn0B,OAEpD,MAAO,CACLo0B,cACAU,OACAC,UACAC,WAGJ,YACE,MAAO,IAAIhrC,KAAKuG,SAASsB,YAE3B,iBACE,MAAMojC,EAAiBxhC,KAAKyhC,KAAKzhC,KAAK0W,KAAKngB,KAAK6B,YAAYtF,SAC5D,OAAO0uC,GAET,uBAIE,MAAMjC,EAAuB,CAC3BJ,SAAU,EACVC,YAAa,GAcf,OAZA7oC,KAAK6B,YAAYsG,QAASlK,IACxB,MAAMktC,EAAgBnrC,KAAKorC,iCAAiCntC,GAC5D+qC,EAAqBJ,SAAWn/B,KAAKG,IACnCuhC,EAAcvC,SACdI,EAAqBJ,UAEvBI,EAAqBH,YAAcp/B,KAAKG,IACtCuhC,EAActC,YACdG,EAAqBH,eAIlBG,GAET,QACE,MAAMqC,EAAQrrC,KAAKirC,eACnB,OAAOI,GAET,sBACE,MAAMC,EAAsBxhC,GAAA,OACzBC,OAAO/J,KAAK4S,SACZiX,MAAM,CAAC,EAAG7pB,KAAK2Y,EAAE2S,cACjBvB,aAAa,GAEhB,OAAOuhB,GAET,aAIE,OAAOtrC,KAAKoB,OAAOC,MAAM8J,mBAE3B,IACE,MAAMyb,EAAS5mB,KAAK4mB,OAAOkkB,KACrB90B,EAAQhW,KAAKqnC,WAAWiD,WAAWt0B,MAAQ4Q,EAAOI,KAAOJ,EAAOE,MAChEykB,EAAW,GACjB,IAAK,IAAIlvC,EAAI,EAAGA,EAAI2D,KAAKirC,eAAgB5uC,IACvCkvC,EAAS1uC,KAAKR,EAAE+b,YAElB,MAAMO,EAAI7O,GAAA,OACPC,OAAOwhC,GACP1hB,MAAM,CAAC,EAAG7T,IACV+T,aAAa,IAEhB,OAAOpR,GAET,IACE,MAAMiO,EAAS5mB,KAAK4mB,OAAOkkB,KACrBjyB,EAAS7Y,KAAKqnC,WAAWiD,WAAWzxB,OAAS+N,EAAOC,IAAMD,EAAOG,OACjEykB,EAAsB,GAC5B,IAAK,IAAInvC,EAAI,EAAGA,EAAI2D,KAAKqrC,MAAOhvC,IAC9BmvC,EAAS3uC,KAAKR,EAAE+b,YAElB,MAAMQ,EAAI9O,GAAA,OACPC,OAAOyhC,GACP3hB,MAAM,CAAC,EAAGhR,IACVkR,aAAa,IAEhB,OAAOnR,IAGXoR,MAAO,CACL,WACEhqB,KAAKiqB,eAEP,cACEjqB,KAAKiqB,eAEP,YACEjqB,KAAKkqB,aAEP,YACElqB,KAAKiqB,eAEP,iBACEjqB,KAAKyrC,YAEP,aACEzrC,KAAK0sB,mBAGT,UACE1sB,KAAKiqB,eAEP/mB,QAAS,CACP,8BAA8BoE,GAC5B,MAAMsL,EAAU5S,KAAK4S,QACfw1B,EAAwC,GAC9Cx1B,EAAQzK,QAAS4c,IACfnS,EAAQzK,QAAS6c,IACfojB,EAAkBvrC,KAAK,IAAI4V,SAI/B,MAAM5K,EAAY7H,KAAK6H,UAavB,OAXAA,EAAUM,QAASkB,IACjB,MAAMhN,EAAIiN,GAAaD,GACjBg/B,EAAWz1B,EAAQrW,OACnB+rC,EAAc11B,EAAQiK,QAAQxgB,EAAEqR,QAChC66B,EAAiB31B,EAAQiK,QAAQxgB,EAAEsR,YAAYrG,IACrD,IAAqB,IAAjBghC,IAA0C,IAApBC,EACxB,OAEF,MAAMC,EAAcF,EAAcD,EAAWE,EAC7CH,EAAkBI,GAAapnB,IAAI/X,KAE9B++B,GAET,oCAAoC9gC,GAClC,OAAOtH,KAAKwqC,qBAAqBljC,IAEnC,gBAAgBpJ,GACd,MAAOoJ,EAAYoG,EAAQkX,GAAa1mB,EACxC,OACG0mB,IAAclX,EACX,uBAAuBA,0CAA+CpG,KACtE,uBAAuBoG,8BAAmCkX,qBAA6Btd,MAG/F,cAEEtH,KAAK0rC,kBACL1rC,KAAK2rC,cACL3rC,KAAK4rC,aACL5rC,KAAKyrC,WACLzrC,KAAK0sB,kBAEP,kBACE,MAAM9F,EAAS5mB,KAAK4mB,OAAOwjB,YACrBp0B,EAAQhW,KAAKqnC,WAAW+C,YAAYp0B,MAAQ4Q,EAAOI,KAAOJ,EAAOE,MACjEjO,EAAS7Y,KAAKqnC,WAAW+C,YAAYvxB,OAAS+N,EAAOC,IAAMD,EAAOG,OAGlEI,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAO3B0kB,EAAgC,CACpC,CACExiC,GAAIrJ,KAAK2nC,WAAWkD,cACpBiB,UAAW,GAAOj8B,QAClBk8B,WAAY,GAAOj8B,UAErB,CACEzG,GAAIrJ,KAAK2nC,WAAWiD,oBACpBkB,UAAW,GAAOp8B,SAClBq8B,WAAY,GAAOp8B,YAIjBq8B,EAAkB,KACtB7kB,EAAIkD,UAAU,sBAAsBkB,SACpC,MAAM0gB,EAAO9kB,EAAI/N,OAAO,QACrBC,KAAK,QAAS,qBAEX6yB,EAAYD,EAAK5hB,UAAU,kBAC9BtuB,KAAK8vC,GACLxf,KAAK,kBACHhT,KAAK,KAAOnb,GAAoBA,EAAEmL,IAClCgQ,KAAK,KAAM,MACXA,KAAK,KAAM,MACXA,KAAK,KAAM,QACXA,KAAK,KAAM,MAChB6yB,EAAU9yB,OAAO,QACdC,KAAK,SAAU,MACfA,KAAK,aAAenb,GAAoBA,EAAE6tC,YAC1C1yB,KAAK,eAAgB,GACxB6yB,EAAU9yB,OAAO,QACdC,KAAK,SAAU,QACfA,KAAK,aAAenb,GAAoBA,EAAE4tC,WAC1CzyB,KAAK,eAAgB,IAE1B2yB,IAEA7kB,EAAIkD,UAAU,iBAAiBkB,SAC/B,MAAM/J,EAAS2F,EAAI/N,OAAO,KACvBC,KAAK,QAAS,gBACdA,KAAK,YAAa,yBACfrZ,KAAKqnC,WAAW+C,YAAYne,QAAUrF,EAAOI,oBAC7ChnB,KAAKqnC,WAAW+C,YAAYle,QAAUtF,EAAOC,QAY7CslB,EAAgB,KACE3qB,EAAO6I,UAAU,QACpCtuB,KAAK8vC,GACLxf,KAAK,QACHhT,KAAK,IAAK,CAACnb,EAAiB7B,IAAcA,EAAIwc,EAAS,GACvDQ,KAAK,QAASrD,GACdqD,KAAK,SAAUR,EAAS,GACxBQ,KAAK,SAAU,SACfA,KAAK,eAAgB,SACrBrT,MAAM,OAAS9H,GAAoB,QAAQA,EAAEmL,QAEpD8iC,IAEA,MAAMvV,EAAW,KACf,MAAMwV,EAAYtiC,GAAA,OACfC,OAAO,CAAC,EAAG/J,KAAKgpC,qBAAqBJ,WACrC/e,MAAM,CAAC,EAAG7T,IAEbwL,EAAOpI,OAAO,KACXzc,KAAKmN,GAAA,KAAWsiC,GAAWtgB,MAAM,IACjCzS,KAAK,YAAa,IAErB,MAAMgzB,EAAeviC,GAAA,OAClBC,OAAO,CAAC,EAAG/J,KAAKgpC,qBAAqBH,cACrChf,MAAM,CAAC,EAAG7T,IAEbwL,EAAOpI,OAAO,KACXC,KAAK,YAAa,eAAeR,MACjClc,KAAKmN,GAAA,KAAcuiC,GAAcvgB,MAAM,IACvCzS,KAAK,YAAa,KAEvBud,IAEA,MAAM5K,EAAa,KACjBxK,EAAOpI,OAAO,QACXC,KACC,YACA,6BACIrD,EAAQ,qBACR6C,EAAS,oBAGdQ,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BrT,MAAM,YAAa,IACnBjB,KAAK,iBAERyc,EAAOpI,OAAO,QACXC,KACC,YACA,6BACIrD,EAAQ,qBACC,EAAT6C,EAAa,oBAGlBQ,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BrT,MAAM,YAAa,IACnBjB,KAAK,yBAEVinB,KAGF,cAyDA,WACE,MAAMpF,EAAS5mB,KAAK4mB,OAAOkkB,KAErBl4B,EAAU5S,KAAK4S,QACf/Q,EAAc7B,KAAK6B,YAInBslB,GAHYnnB,KAAK6H,UAGXiC,GAAA,KAAU9J,KAAKqD,MAAM8jB,MACjCA,EAAIkD,UAAU,gBAAgBkB,SAC9B,MAAM+e,EAAanjB,EAAI/N,OAAO,KAC3BC,KAAK,QAAS,eACdA,KAAK,YAAa,yBACfrZ,KAAKqnC,WAAWiD,WAAWre,QAAUrF,EAAOI,oBAC5ChnB,KAAKqnC,WAAWiD,WAAWpe,QAAUtF,EAAOC,QAC/ClmB,GAAG,aAAc,IAAMX,KAAKssC,gBAAgB,CAAC,GAAI,GAAI,MAalD3zB,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EAET2zB,EAAYlwC,GAAcoN,KAAKuU,MAAM3hB,EAAI2D,KAAKirC,gBAC9CuB,EAAYnwC,GAAcA,EAAI2D,KAAKirC,eAEnCwB,EAAWnC,EAAWjgB,UAAU,WACnCtuB,KAAK8F,GACLwqB,KAAK,KACHhT,KAAK,QAAS,UACdA,KAAK,YAAa,CAACnb,EAAW7B,IAAc,2BACzCsc,EAAE6zB,EAASnwC,GAAG+b,6BACdQ,EAAE2zB,EAASlwC,GAAG+b,4BAGtBq0B,EAASrzB,OAAO,QACbC,KAAK,QAASV,EAAE2S,aAChBjS,KAAK,SAAUT,EAAE0S,aACjBjS,KAAK,OAAQ,SACbA,KAAK,SAAU,SAElB,MAAMkxB,EAAmBvqC,KAAKuqC,iBACxBe,EAAsBtrC,KAAKsrC,oBAE3BlC,EAAappC,KAAKopC,WACxBqD,EAASpiB,UAAU,gBAChBtuB,KAAKqtC,GACL/c,KAAK,KACHhT,KAAK,QAAS,eACdA,KAAK,YAAcnb,GAAkB,2BAClCotC,EAAoBptC,EAAE,qBACtBqsC,EAAiBrsC,EAAE,oBAG3B,MAAMysC,EAAuB3qC,KAAK2qC,qBAE5B+B,EAAcpC,EAAWjgB,UAAU,gBACtCtuB,KAAK4uC,GACLhqC,GAAG,aAAezC,GAA4B8B,KAAKssC,gBAAgBpuC,IACnEyC,GAAG,QAAUzC,GAA4B8B,KAAKwqB,OAAOtsB,EAAG,UACxDyC,GAAG,cAAgBzC,GAA4B8B,KAAKwqB,OAAOtsB,EAAG,WAE3DyuC,EAAY,KAChB,MAAMjE,EAAY4C,EAAoBhgB,YAChCmd,EAAa8B,EAAiBjf,YACpCohB,EAAYtzB,OAAO,QAChBC,KAAK,QAAS,oBACdA,KAAK,QAASqvB,GACdrvB,KAAK,SAAuB,EAAbovB,EAAiB,GAChCpvB,KAAK,OAASnb,IACb,IAAI4a,EAAQ,GACZ,MAAOxR,EAAYoG,EAAQkX,GAAa1mB,EAClCoqC,EAAc11B,EAAQiK,QAAQnP,GAC9B66B,EAAiB31B,EAAQiK,QAAQ+H,GACjC4jB,EAAcF,EAAc11B,EAAQrW,OAASgsC,EAC7CqE,EAAoB5sC,KAAK6sC,oCAAoCvlC,GAAYkhC,GAAavsB,KAC5F,OAA0B,IAAtB2wB,EACK,SAGP9zB,EADEpL,IAAWkX,EACL5kB,KAAKgoC,YAAYY,SAASgE,GAE1B5sC,KAAKgoC,YAAYa,YAAY+D,GAEhC9zB,KAER9S,MAAM,cAAe,UAExB,MAAMiS,EAAa,KACjB,MAAM60B,EAAqBvC,EAAiBjf,YAAc,EACpDyhB,EAAYD,EAAqB,EACvCJ,EAAYtzB,OAAO,QAChBC,KAAK,QAAS,6BACdA,KAAK,IAAkB,EAAbovB,EAAiB,GAC3BpvB,KAAK,QAASqvB,GACdrvB,KAAK,SAA+B,EAArByzB,GACfzzB,KAAK,OAAQ,SAChBqzB,EAAYtzB,OAAO,QAChBC,KAAK,QAAS,mBACdA,KAAK,IAAkB,EAAbovB,EAAiB,GAC3BpvB,KAAK,QAAS,GACdA,KAAK,SAAUovB,EAAa,GAC5BpvB,KAAK,OAAQ,GAAOlO,kBAAkBC,OACtCiO,KAAK,SAAU,SAClBqzB,EAAYtzB,OAAO,UAChBC,KAAK,QAAS,mBACdA,KAAK,KAAMqvB,EAAY,GACvBrvB,KAAK,KAAmB,EAAbovB,EAAiB,EAAIA,EAAa,IAC7CpvB,KAAK,IAAK0zB,GACV1zB,KAAK,OAAQ,GAAOlO,kBAAkBC,OACtCiO,KAAK,eAAgB,GACxBqzB,EAAYtzB,OAAO,QAChBC,KAAK,QAAS,mBACdA,KAAK,IAAkB,EAAbovB,EAAiB,GAC3BpvB,KAAK,QAAS,GACdA,KAAK,SAAUovB,EAAa,GAC5BpvB,KAAK,OAAQ,GAAOlO,kBAAkBgF,QACtCkJ,KAAK,SAAU,SAClBqzB,EAAYtzB,OAAO,UAChBC,KAAK,QAAS,mBACdA,KAAK,KAAMqvB,EAAY,GACvBrvB,KAAK,KAAmB,EAAbovB,EAAiB,EAAIA,EAAa,IAC7CpvB,KAAK,IAAK0zB,GACV1zB,KAAK,OAAQ,GAAOlO,kBAAkBgF,QACtCkJ,KAAK,eAAgB,IAE1BpB,KAEF00B,IAEA,MAAMK,EAAmB,KACvBP,EAAS1wC,KAAKiE,KAAK6B,aAChBuX,OAAO,QACPC,KAAK,YAAa,KACjB,MAAM4S,EAAUtT,EAAE2S,YAAc,EAC1BY,GAAW,GACjB,MAAO,aAAaD,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAM7G,GAAcA,IAEzB8uC,IAEA,MAAMC,EAAe,KACnBP,EAAYtzB,OAAO,UAChBC,KAAK,QAAS,aACdA,KAAK,KAAMiyB,EAAoBhgB,YAAc,GAC7CjS,KAAK,KAAMkxB,EAAiBjf,YAAc,GAC1CjS,KAAK,IAAK5P,KAAKC,IAAI4hC,EAAoBhgB,YAAaif,EAAiBjf,aAAe,GACpFjS,KAAK,OAAQ,SACbA,KAAK,eAAgB,IAE1B4zB,KAEF,iBACE9pC,QAAQC,IAAI,sBAEiBpD,KAAK2qC,qBAAlC,MAGMxjB,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAE3B+lB,EAAgB/lB,EAAIkD,UAAU,oBAC9B8iB,EAAgBhmB,EAAIkD,UAAU,oBAC9B+iB,EAAgBjmB,EAAIkD,UAAU,oBAC9BgjB,EAAgBlmB,EAAIkD,UAAU,qBAE9B,MAAEjf,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAEzBywB,EAAY1oC,KAAKsrC,oBAAoBhgB,YAGrCgiB,GAFattC,KAAKuqC,iBAAiBjf,YAEpB,IAEfuT,EAAiB,CAAC3gC,EAAyBmY,KAC/C,MAAMxO,EAAY7H,KAAKutC,iBAAiBrvC,GAClCitB,EAAuBlc,GAAapH,EAAWwO,EAAUxO,WACzDslB,EAA2BhC,EAAqBlP,KAAOpU,EAAUoU,KACvE,OACGkR,EAA2BmgB,EAC1B,EACAngB,EAA2Bub,GAI3B8E,EAAa,CAACtvC,EAAyBmY,KAC3C,MAAMxO,EAAY7H,KAAKutC,iBAAiBrvC,GAClCitB,EAAuBlc,GAAapH,EAAWwO,EAAUxO,WACzDslB,EAA2BhC,EAAqBlP,KAAOpU,EAAUoU,KACvE,OACGkR,EAA2B,GAAKA,EAA2BmgB,EAC1D,EACA,GAIDliC,GAIH8hC,EACGnxC,KAAKiE,KAAK2qC,sBACVtxB,KAAK,QAAUnb,GAA4B2gC,EAAe3gC,EAAGkN,IAChEgiC,EACGrxC,KAAKiE,KAAK2qC,sBACVtxB,KAAK,eAAiBnb,GAA4BsvC,EAAWtvC,EAAGkN,MARnE8hC,EAAc7zB,KAAK,QAAS,GAC5B+zB,EAAc/zB,KAAK,eAAgB,IAUhClJ,GAIHg9B,EACGpxC,KAAKiE,KAAK2qC,sBACVtxB,KAAK,QAAUnb,GAA4B2gC,EAAe3gC,EAAGiS,IAChEk9B,EACGtxC,KAAKiE,KAAK2qC,sBACVtxB,KAAK,eAAiBnb,GAA4BsvC,EAAWtvC,EAAGiS,MARnEg9B,EAAc9zB,KAAK,QAAS,GAC5Bg0B,EAAch0B,KAAK,eAAgB,KAUvC,cACE,MAAMuN,EAAS5mB,KAAK4mB,OAAOmkB,QACrB/0B,EAAQhW,KAAKqnC,WAAWgD,kBAAkBr0B,MAAQ4Q,EAAOI,KAAOJ,EAAOE,MACvEjO,EAAS7Y,KAAKqnC,WAAWgD,kBAAkBxxB,OAAS+N,EAAOC,IAAMD,EAAOG,OAExEnU,EAAU5S,KAAK4S,QAEfgG,EAAI9O,GAAA,OACPC,OAAO6I,GACPiX,MAAM,CAAC,EAAGhR,IACVkR,aAAa,IAGV5C,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACjCA,EAAIkD,UAAU,wBAAwBkB,SACtC,MAAM/J,EAAS2F,EAAI/N,OAAO,KACvBC,KAAK,QAAS,uBACdA,KAAK,YAAa,yBACfrZ,KAAKqnC,WAAWgD,kBAAkBpe,QAAUrF,EAAOI,oBACnDhnB,KAAKqnC,WAAWgD,kBAAkBne,QAAUtF,EAAOC,QAanDgI,EAAUrN,EAAO6I,UAAU,gBAC9BtuB,KAAK6W,GACLyZ,KAAK,KACHhT,KAAK,QAAS,gBACdA,KAAK,YAAa,CAACnb,EAAW7B,IAAc,gBAAgBuc,EAAE1a,OAEnE2wB,EAAQzV,OAAO,QACZC,KAAK,QAAS,wBACdA,KAAK,QAASrD,GACdqD,KAAK,SAAUT,EAAE0S,aACjBjS,KAAK,OAASnb,GAAe8B,KAAKioC,UAAUr1B,QAAQlF,SAAWxP,EAAK,SAAW,aAElFsjB,EAAOpI,OAAO,KACXC,KAAK,QAAS,aACdA,KAAK,YAAa,aAAarD,SAC/BrZ,KAAKmN,GAAA,KAAa8O,IAClByR,UAAU,QACRrkB,MAAM,cAAe,SACrBA,MAAM,YAAa,IAExBwb,EAAO6I,UAAU,cAAcG,OAAO,WAAWnR,KAAK,iBAAkB,KAExE,MAAMwuB,EAAY,KAChBrmB,EAAOpI,OAAO,QACXC,KAAK,YAAa,iBAAoBuN,EAAOC,IAAM,MACnDxN,KAAK,cAAe,SACpBA,KAAK,qBAAsB,UAC3BrT,MAAM,YAAa,IACnBjB,KAAK,iBAEV8iC,KAEF,aACE,MAAMjhB,EAAS5mB,KAAK4mB,OAAOokB,OACrBh1B,EAAQhW,KAAKqnC,WAAW8C,qBAAqBn0B,MAAQ4Q,EAAOI,KAAOJ,EAAOE,MAC1EjO,EAAS7Y,KAAKqnC,WAAW8C,qBAAqBtxB,OAAS+N,EAAOC,IAAMD,EAAOG,OAE3EnU,EAAU5S,KAAK4S,QAEf+F,EAAI7O,GAAA,OACPC,OAAO6I,GACPiX,MAAM,CAAC,EAAG7T,IACV+T,aAAa,IAGV5C,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACjCA,EAAIkD,UAAU,2BAA2BkB,SACzC,MAAM/J,EAAS2F,EAAI/N,OAAO,KACvBC,KAAK,QAAS,0BACdA,KAAK,YAAa,yBACfrZ,KAAKqnC,WAAW8C,qBAAqBle,QAAUrF,EAAOI,oBACtDhnB,KAAKqnC,WAAW8C,qBAAqBje,QAAUtF,EAAOC,QAatDgI,EAAUrN,EAAO6I,UAAU,gBAC9BtuB,KAAK6W,GACLyZ,KAAK,KACHhT,KAAK,QAAS,gBACdA,KAAK,YAAa,CAACnb,EAAW7B,IAAc,aAAasc,EAAEza,UAEhE2wB,EAAQzV,OAAO,QACZC,KAAK,QAAS,wBACdA,KAAK,QAASV,EAAE2S,aAChBjS,KAAK,SAAUR,GACfQ,KAAK,OAASnb,GAAe8B,KAAKioC,UAAUr1B,QAAQgS,YAAc1mB,EAAK,SAAW,aAErFsjB,EAAOpI,OAAO,KACXC,KAAK,QAAS,YACd1c,KAAKmN,GAAA,KAAW6O,IAChB0R,UAAU,QACRhR,KAAK,IAAK,SACVA,KAAK,IAAK,UACVA,KAAK,YAAa,eAClBrT,MAAM,cAAe,SACrBA,MAAM,YAAa,IAExBwb,EAAO6I,UAAU,aAAaG,OAAO,WAAWnR,KAAK,iBAAkB,KAEvE,MAAMwuB,EAAY,KAChBrmB,EAAOpI,OAAO,QACXC,KAAK,YAAa,cAAcuN,EAAOI,KAAO,MAAMnO,EAAS,MAC7DQ,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BrT,MAAM,YAAa,IACnBjB,KAAK,oBAEV8iC,KAEF,iBAAiB3pC,GACf,MAAOoJ,EAAYoG,EAAQkX,GAAa1mB,EAClC0U,EAAU5S,KAAK4S,QACf01B,EAAc11B,EAAQiK,QAAQnP,GAC9B66B,EAAiB31B,EAAQiK,QAAQ+H,GACjC4jB,EAAcF,EAAc11B,EAAQrW,OAASgsC,EAC7C1gC,EAAY7H,KAAK6sC,oCAAoCvlC,GAAYkhC,GACvE,OAAO3gC,GAET,iCAAiCP,GAI/B,MAAMqhC,EAAc,CAClBC,SAAU,GACVC,YAAa,IAEf7oC,KAAK6sC,oCAAoCvlC,GAAYa,QAAQ,CAAC2gC,EAAQz+B,KAChErK,KAAK+oC,eAAe1+B,GACtBs+B,EAAYC,SAAS/rC,KAAKisC,EAAO7sB,MAEjC0sB,EAAYE,YAAYhsC,KAAKisC,EAAO7sB,QAGxC,MAAM+sB,EAAuB,CAC3BJ,SAAUn/B,KAAKG,OAAO++B,EAAYC,UAClCC,YAAap/B,KAAKG,OAAO++B,EAAYE,cAEvC,OAAOG,GAET,eAAe3+B,GACb,MAAMw/B,EAAa7pC,KAAKuG,SAASqM,QAAQqJ,KACnC6tB,EAAMrgC,KAAKuU,MAAM3T,EAAQw/B,GACzBE,EAAM1/B,EAAQw/B,EACpB,OAAOC,IAAQC,GAEjB,OACE7rC,EACAkY,GAEAtM,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAOpmB,EAAYoG,EAAQkX,GAAa1mB,EAClC0U,EAAU5S,KAAK4S,QACf01B,EAAc11B,EAAQiK,QAAQnP,GAC9B66B,EAAiB31B,EAAQiK,QAAQ+H,GACjC4jB,EAAcF,EAAc11B,EAAQrW,OAASgsC,EAE7CkF,EAAgBxmC,KACtBwmC,EAAcrmC,KAAO1B,EAAKqH,OAC1B0gC,EAAcjmC,OAASkG,EAEvB,MAAMggC,EAAmBzmC,KACzBymC,EAAiBtmC,KAAO1B,EAAKyH,UAC7BugC,EAAiBpmC,WAAaA,EAC9BomC,EAAiBlmC,OAASod,EAE1B,MAAM/c,EAAY7H,KAAK6sC,oCAAoCvlC,GAAYkhC,GACjEh2B,EAAcxS,KAAKgqC,gBAAgB9rC,GAEnCqK,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC4/B,EAAeC,GAC7B5/B,OAAQ,IAEJqI,EAAU,CACd3D,cACA3K,YACAU,aAGFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,IAIrD,gBAAgBlY,GACd,MAAOoJ,EAAYoG,EAAQkX,GAAa1mB,EAEtC8B,KAAKioC,UAAUr1B,QAAQlF,SAAWA,GAC/B1N,KAAKioC,UAAUr1B,QAAQgS,YAAcA,GACrC5kB,KAAKioC,UAAU3gC,aAAeA,IAInCtH,KAAKioC,UAAY,CACfr1B,QAAS,CACPlF,SACAkX,aAEFtd,mBCl/Bsa,M,yBCQ1a,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAUhC,IAAkB,GAAW,CAACqmC,aAAA,KAAU1oC,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,O,4BC7BlH,GAAS,WAAa,IAAI5E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,0BAA0B,KAAKV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,iEAAiEQ,MAAM,CAAClC,MAAOmB,EAAW,QAAEgB,SAAS,SAAUC,GAAMjB,EAAI6tC,QAAQ5sC,GAAKE,WAAW,YAAY,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,YAAY,MAAQ,eAAeH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,aAAa,MAAQ,iBAAiB,IAAI,MAAM,IAAI,GAAGH,EAAG,MAAM,CAACO,IAAI,SAAS,IAC76B,GAAkB,GC2CP,UAAIqC,OAAO,CACxB5E,KAAM,qBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KAChDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnC6mB,EAAU,aACV3mB,EAAQ,CACZjf,KAAM,GACNqX,OAAQ,GAEV,MAAO,CACL8H,IAAI,GACJtO,SACAoO,QACAjR,QACA4Q,SACAtiB,MAAO,GACPgjB,gBAAiB,UACjBC,gBAAiB,UACjBqmB,YAGJlmB,SAAU,CACR,gBACE,MAAMmmB,EAAgBrxC,OAAO+F,KAAKvC,KAAK8tC,YAAY1kC,IAAIk+B,QAAQz7B,OAI/D,MAHqB,eAAjB7L,KAAK4tC,SACPC,EAAcE,UAETF,GAET,aAGE,MAAMC,EAEF,GAEJ,IAAK,IAAIzxC,EAAI,EAAGA,GAAK2D,KAAK6B,YAAYtF,OAAQF,IAC5CyxC,EAAWzxC,GAAK,IAAIoW,IAUtB,OAPAzS,KAAK6H,UAAUM,QAASkB,IACtB,MAAMhN,EAAIiN,GAAaD,GACjB2kC,EAAqBhuC,KAAK6B,YAAY4J,OAAQxN,GAAM5B,EAAEsR,YAAY1P,KAAO5B,EAAEqR,QAC3EugC,EAA6BD,EAAmBzxC,OACtDuxC,EAAWG,GAA4B7sB,IAAI/X,KAGtCykC,GAET,UACE,MAAO,IAAI9tC,KAAKuG,SAASqM,UAE3B,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,uBAGE,MAAMiwC,EAEF,GAYJ,OAVAluC,KAAK6tC,cAAc1lC,QAAQ,CAACjJ,EAAKmL,KAC/B6jC,EAAqBhvC,GAAO,IAAIuT,IAChCzS,KAAK6tC,cAAcluC,MAAM,EAAG0K,EAAQ,GAAGlC,QAASgmC,IAC9CD,EAAqBhvC,GAAOsnB,GAC1B0nB,EAAqBhvC,GACrBc,KAAK8tC,WAAWK,QAKfD,GAET,WACE,MAAO,IAAIluC,KAAKuG,SAASgD,WAE3B,YACE,MAAO,IAAIvJ,KAAKuG,SAASsB,YAE3B,aAIE,OAAO7H,KAAKoB,OAAOC,MAAM8J,mBAE3B,cAAsB,OAAQnL,KAAKoB,OAAOC,MAAM+R,aAChD,mBAA2B,OAAQpT,KAAKoB,OAAOC,MAAMiS,kBACrD,IACE,MAAMqF,EAAI7O,GAAA,OACPC,OAAO/J,KAAK6tC,eACZhkB,MAAM,CAAC,EAAG7pB,KAAKgW,QACf8T,aAAa,GACbC,aAAa,IAChB,OAAOpR,GAET,IACE,MAAMC,EAAI9O,GAAA,OACPC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,IAGXoR,MAAO,CACL,QACEhqB,KAAKkqB,aAEP,YACElqB,KAAKiqB,eAEP,aACEjqB,KAAKiqB,eAEP,cACEjqB,KAAKiqB,eAEP,mBACEjqB,KAAKiqB,eAEP,UACEjqB,KAAKiqB,gBAGT,UACEjqB,KAAKiqB,eAEP/mB,QAAS,CACP,WAAWhF,GACT,MAAM0uC,EAAoB5sC,KAAK8tC,WAAW5vC,GAAG+d,KACvCkR,EAA2Byf,EAAoB5sC,KAAK6H,UAAUtL,OACpE,OAAOyD,KAAK4Y,EAAEuU,IAEhB,aACEntB,KAAKinB,MAAQ,CAAEjf,KAAM,GAAIqX,OAAQ,IAEnC,cAAcnhB,GACZ,MAAM0uC,EAAoB5sC,KAAKkuC,qBAAqBhwC,GAAG+d,KACjDkR,EAA2Byf,EAAoB5sC,KAAK6H,UAAUtL,OACpE,OAAOyD,KAAK4Y,EAAEuU,IAEhB,cAEErjB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,UAC/C3N,OAAO,KACLC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAShnB,KAAK4mB,OAAOC,QAU/DlO,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EAET6S,EAAW,KACf,MAAMC,EAASC,GAAWA,EACvBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAc6O,GACXiT,cAAc,IAGrBzE,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,YAAa,IAErB,MAAMwS,EAASF,GAAWA,EACvBhvB,KAAKmN,GAAA,KAAY8O,GACfkT,MAAM,GACNC,WAAWjiB,GAAA,KAAU,SAG1Bqd,EAAI/N,OAAO,KACRzc,KAAKkvB,GACLxS,KAAK,YAAa,KAEvBoS,IAEA,MAAMO,EAAa,KACjB7E,EAAI/N,OAAO,QACRC,KAAK,YAAa,KACjB,MAAM4S,EAAUjsB,KAAKgW,MAAQ,EACvBkW,EAAUlsB,KAAK6Y,OAA8B,GAArB7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,yDAERoiB,EAAI/N,OAAO,QACRC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,GACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,0BAGVinB,IAEA,MAAMI,EAAW,KACf,MAAM1T,EAAWyO,EAAIkD,UAAU,SAC5BtuB,KAAKiE,KAAK6tC,eACVxhB,KAAK,KACHhT,KAAK,QAAS,QACdA,KAAK,YAAcnb,GAAc,aAAaya,EAAEza,UAChDyC,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,aAAcqX,MAAOnhB,IAC1EyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,UACxDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,WAEnE8B,KAAKmnB,IAAMA,EACX,MAAMmF,EAAW3T,EAAE2S,YACb8iB,EAAapuC,KAAKouC,WAClBC,EAAanwC,GAAc8B,KAAK6Y,OAASu1B,EAAWlwC,GAE1Dwa,EAASU,OAAO,QACbC,KAAK,QAAS,OACdA,KAAK,IAAMnb,GAAckwC,EAAWlwC,IACpCmb,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAcmwC,EAAUnwC,IACxCmb,KAAK,OAAQ,aACbA,KAAK,SAAU,SACfrT,MAAM,cAAe,UACxB0S,EAASU,OAAO,UACXC,KAAK,QAAS,cACdA,KAAK,KAAMiT,EAAW,GACtBjT,KAAK,KAAOrZ,KAAK6Y,OAAO,IACxBQ,KAAK,IAAI,QACTA,KAAK,aAAcnb,GAAcmwC,EAAUnwC,GAAI8B,KAAK6Y,QAAU,GACvDw1B,EAAUnwC,GAAI8B,KAAK6Y,OAAO,IADgC,SACjB,WAChD7S,MAAM,OAAQ,aACdqT,KAAK,SAAU,SAIhBi1B,EAAa,KACjB,MAAMC,EAAgB51B,EAAE2S,YAAc,EAChCkjB,EAAgBxuC,KAAKwuC,cACrBC,EAAUhlC,KAAKC,IAAI1J,KAAKgW,MAAQ,GAAI2C,EAAE2S,YAAc,IAE1DnE,EAAIkD,UAAU,UACXtuB,KAAKiE,KAAK6tC,eACVxhB,KAAK,UACLhT,KAAK,QAAS,cACdA,KAAK,KAAOnb,GAAeya,EAAEza,GAAgBqwC,GAC7Cl1B,KAAK,KAAOnb,GAAcswC,EAActwC,IACxCmb,KAAK,IAAKo1B,GACVp1B,KAAK,OAAQ,aACbA,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKinB,MAAQ,CAAEjf,KAAM,aAAcqX,MAAOnhB,IAC1EyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,UACxDyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,aAAc,YAG7D24B,EAAW,KACf,MAAM3G,EAAOpmB,GAAA,OACV6O,EAAGza,GAAMA,EAAE,IACX0a,EAAG1a,GAAMA,EAAE,IAERskB,EAAuC,GACvCksB,EAAoB/1B,EAAE2S,YAAc,EACpCqjB,EAAqBzwC,IACzB,MAAM0uC,EAAoB5sC,KAAKkuC,qBAAqBhwC,GAAG+d,KACjDkR,EAA2Byf,EAAoB5sC,KAAK6H,UAAUtL,OACpE,OAAOqc,EAAEuU,IAEXntB,KAAK6tC,cAAc1lC,QAASjJ,IAC1B,MAAM0vC,EAAQj2B,EAAEzZ,GAAkBwvC,EAC5BG,EAAOF,EAAkBzvC,GAC/BsjB,EAAY3lB,KAAK,CAAC+xC,EAAMC,MAG1B1nB,EAAI/N,OAAO,QACR01B,MAAMtsB,GACNnJ,KAAK,IAAK6W,GACV7W,KAAK,OAAQ,QACbA,KAAK,SAAU,aACfA,KAAK,eAAgB,QAGpBkR,EAAkB,KACtBpD,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,KAAMT,EAAE,IACbS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMT,EAAE,IACbS,KAAK,SAAU,OACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,SAGtBoT,EAAkB,KACtBtF,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,cAAe,UACpBA,KAAK,YAAa,IAClBA,KAAK,iBAAkB,SAG5Bwd,IACAyX,IACAliB,IACA7B,IACAkC,IAEAzsB,KAAKkqB,YACLlqB,KAAK0sB,kBAEP,YAEE,MAAMvC,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B4nB,EAAO5kB,EAAME,UAAU,QACvB2kB,EAAU7kB,EAAME,UAAU,eAC1BE,EAAkBJ,EAAMK,OAAO,uBAC/BiC,EAAkBtC,EAAMK,OAAO,uBAE/BM,EAAe,IACfC,EAAoB,IAE1B,OAAQ/qB,KAAKinB,MAAMjf,MACjB,IAAK,aACH+mC,EAAKhzC,KAAKiE,KAAK6tC,eACZziB,aACAC,SAASP,GACTzR,KAAK,OAASnb,GAAcA,IAAM8B,KAAKinB,MAAM5H,MAAQ,QAAU,aAClE2vB,EACG5jB,aACAC,SAASP,GACTzR,KAAK,OAAQ,aAChBkR,EACGa,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAMrZ,KAAKouC,WAAWpuC,KAAKinB,MAAM5H,QACtChG,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMrZ,KAAKouC,WAAWpuC,KAAKinB,MAAM5H,QACzCoN,EACGrB,aACAC,SAASP,GACTzR,KAAK,YAAa,6BACfrZ,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,qBAC7CtrB,KAAKouC,WAAWpuC,KAAKinB,MAAM5H,OAAS,OACvCta,MAAS/E,KAAK8tC,WAAW9tC,KAAKinB,MAAM5H,OAAOpD,KAAOjc,KAAK6H,UAAUtL,OAAS,KAAK8b,QAAQ,GAAlF,KACR,MACF,IAAK,aACH,MAAM42B,EAAkBjvC,KAAK6tC,cAAchxB,QAAQ7c,KAAKinB,MAAM5H,OAC9D0vB,EAAKhzC,KAAKiE,KAAK6tC,eACZziB,aACAC,SAASP,GACTzR,KAAK,OAAQ,CAACnb,EAAW7B,IAAcA,GAAK4yC,EAAkB,QAAU,aAC3ED,EAAQjzC,KAAKiE,KAAK6tC,eACfziB,aACAC,SAASP,GACTzR,KAAK,OAASnb,GAAcA,IAAM8B,KAAKinB,MAAM5H,MAAQ,QAAU,aAClEkL,EACGa,aACAC,SAASP,GACTzR,KAAK,iBAAkB,GACvBA,KAAK,KAAMrZ,KAAKwuC,cAAcxuC,KAAKinB,MAAM5H,QACzChG,KAAK,KAAOrZ,KAAK2Y,EAAE3Y,KAAKinB,MAAM5H,OAAoBrf,KAAK2Y,EAAE2S,YAAc,GACvEjS,KAAK,KAAMrZ,KAAKwuC,cAAcxuC,KAAKinB,MAAM5H,QAC5CoN,EACGrB,aACAC,SAASP,GACTzR,KAAK,YAAa,6BACfrZ,KAAK2Y,EAAEmR,eAAiB9pB,KAAK2Y,EAAE2S,YAAc,qBAC7CtrB,KAAKwuC,cAAcxuC,KAAKinB,MAAM5H,OAAS,OAC1Cta,MAAS/E,KAAKkuC,qBAAqBluC,KAAKinB,MAAM5H,OAAOpD,KAAOjc,KAAK6H,UAAUtL,OAAS,KAAK8b,QAAQ,GAA5F,KACR,MACF,QACE02B,EACG3jB,aACAC,SAASN,GACT1R,KAAK,OAAQ,aAChB21B,EACG5jB,aACAC,SAASN,GACT1R,KAAK,OAAQ,aAChBkR,EACGa,aACAC,SAASN,GACT1R,KAAK,iBAAkB,GAC1BoT,EACGrB,aACAC,SAASN,GACThmB,KAAK,IACR,QAGN,iBAEgB+E,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAnC,MAEM,MAAE/b,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAEzBiU,EAAU,CAACrkB,EAAwBwO,KACvC,MAAM8U,EAAuBlc,GAAapH,EAAWwO,GAC/C8W,EAA2BhC,EAAqBlP,KAAOjc,KAAK6H,UAAUtL,OAC5E,OAAOyD,KAAK4Y,EAAEuU,IAEVtU,EAAS,CAAChR,EAAwBwO,IAC/BrW,KAAK6Y,OAASqT,EAAQrkB,EAAWwO,GAEpCiX,EAAe,CAACzlB,EAAwBwO,KAC5C,MAAM8U,EAAuBlc,GAAapH,EAAWwO,GACrD,IAAK,MAAMhN,KAAM8hB,EACf,GAAGnrB,KAAKoB,OAAOC,MAAM+R,cAAgB/J,EAAI,OAAO,EAElD,OAAO,GAIH4O,EAAa,CAAC7M,EAAO+E,GACrBwI,EAAI3Y,KAAK2Y,EACT2T,EAAW3T,EAAE2S,YACbqB,EAAqBL,EAAW,EAEtCrU,EAAW9P,QAAQ,CAAColB,EAAejK,KAC5BiK,EAIHvtB,KAAK6tC,cAAc1lC,QAASjK,IAC1B,IAAIsvB,EAAuB,CACvB9U,SAAW1Y,KAAKmnB,IAChBxO,EAAIA,EAAEza,GAAKouB,EAAW,GAAKhJ,EAAI,GAAKqJ,EACpC/T,EAAIsT,EAAQlsB,KAAK8tC,WAAW5vC,GAAIqvB,EAAc1lB,WAC9CmO,MAAQ2W,EACR9T,OAASA,EAAO7Y,KAAK8tC,WAAW5vC,GAAIqvB,EAAc1lB,WAClDpJ,EAAKkuB,EAAoB,EACzB7T,MAAe,GAAPwK,EAAUtjB,KAAKsnB,gBAAkBtnB,KAAKunB,gBAC9CxO,kBAA2E,GAAvDF,EAAO7Y,KAAK8tC,WAAW5vC,GAAIqvB,EAAc1lB,YACtDgR,EAAO7Y,KAAK8tC,WAAW5vC,GAAIqvB,EAAc1lB,WAAY7H,KAAK6Y,OAAO,IADK,SACS,UACtFG,GAAKL,EAAEza,GAAKouB,EAAW,GAAMhJ,EAAM,IAAOqJ,EAC1C1T,GAAKjZ,KAAK6Y,OAAO8T,EAAoB,EACrCzT,eAAgBoK,EAChBnK,QAASmU,EAAattB,KAAK8tC,WAAW5vC,GAAIqvB,EAAc1lB,WACxDjG,UAAY5B,KAAK7B,MAEnB6B,KAAKoB,OAAOO,SAAS,iBAAiB6rB,MApB1CxtB,KAAKmnB,IAAIkD,UAAU,kBAAkB/G,GAAKjK,KAAK,SAAU,KACzDrZ,KAAKmnB,IAAIkD,UAAU,oBAAoB/G,GAAKjK,KAAK,aAAa,cAwBpE,OACEnb,EACA8J,EACAoO,GAEAtM,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAM7lB,EAAqB,eAATG,EACdhI,KAAK8tC,WAAW5vC,GAChB8B,KAAKkuC,qBAAqBhwC,GACxBsU,EAAuB,eAATxK,EAChB,2BAA2B9J,qCAC3B,4BAA4BA,qCAEhC8B,KAAKoB,OAAOO,SAAS,4BAA6B,CAAEkG,YAAW2K,gBAC/DxS,KAAKoB,OAAOO,SAAS,6BAA8ByU,OCxhB2X,MCQhb,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAWhC,IAAkB,GAAW,CAACnR,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,OC9BzH,IAAI,GAAS,WAAa,IAAIhuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,qBAAqB,CAACG,MAAM,CAAC,SAAW,IAAIQ,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAAqB,cAAnBnB,EAAI6G,YAA6BzG,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACJ,EAAIc,GAAG,mBAAmBV,EAAG,4BAA4B,CAACA,EAAG,mBAAmB,IAAI,GAAGJ,EAAIqG,KAAyB,cAAnBrG,EAAI6G,YAA6BzG,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACJ,EAAIc,GAAG,kCAAkCV,EAAG,4BAA4B,CAACA,EAAG,sBAAsB,IAAI,GAAGJ,EAAIqG,KAAKjG,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACJ,EAAIc,GAAG,uBAAuBV,EAAG,4BAA4B,CAACA,EAAG,eAAe,IAAI,GAAuB,cAAnBJ,EAAI6G,YAA6BzG,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACJ,EAAIc,GAAG,uBAAuBV,EAAG,4BAA4B,CAACA,EAAG,kBAAkBA,EAAG,sBAAsBA,EAAG,sBAAsB,IAAI,GAAGJ,EAAIqG,KAAyB,cAAnBrG,EAAI6G,YAA6BzG,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACJ,EAAIc,GAAG,uBAAuBV,EAAG,4BAA4B,CAACA,EAAG,oBAAoB,IAAI,GAAGJ,EAAIqG,MAAM,IACjqC,GAAkB,GCDlB,GAAS,WAAa,IAAIrG,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,qBAAqB,CAACG,MAAM,CAAC,SAAW,IAAIQ,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACJ,EAAIc,GAAG,aAAaV,EAAG,4BAA4B,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,KAAKP,EAAI0B,GAAI1B,EAAa,WAAE,SAAS2S,GAAW,OAAOvS,EAAG,cAAc,CAACjB,IAAIwT,EAAU/R,GAAG,CAAC,MAAQZ,EAAImvC,cAAc,CAAC/uC,EAAG,oBAAoB,CAACA,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQoS,EAAU,MAAQA,GAAW5R,MAAM,CAAClC,MAAOmB,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAIovC,aAAanuC,GAAKE,WAAW,mBAAmB,IAAI,MAAK,IAAI,IAAI,IAAI,IACtrB,GAAkB,GC8BP,UAAI6B,OAAO,CACxB5E,KAAM,cACN,OACE,MAAO,CACLmG,MAAO,GACP6qC,aAAc,KAGlBznB,SAAU,CACR,YACE,MAAO,IAAI1nB,KAAKoB,OAAOyE,QAAQ+M,WAGnC1P,QAAS,CACP,cACE,MAAMiT,EAMF,CACFa,WAAY7R,EAAWiqC,MACvBn4B,UAAW,CACTjP,KAAM3C,EAAgB2N,QACtBC,IAAK,IAAIR,IAAIzS,KAAKmvC,gBAGtBhsC,QAAQC,IAAI,mBAAoB+S,GAChCnW,KAAKoB,OAAOO,SAAS,gBAAiBwU,OC5D4Y,MCOpb,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACw3B,aAAA,KAAU1oC,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiB5pB,QAAA,KAAMC,YAAA,KAAUE,eAAA,SC9BtI,IAAI,GAAS,WAAa,IAAIrE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,qBAAqB,CAACG,MAAM,CAAC,SAAW,IAAIQ,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACJ,EAAIc,GAAG,iBAAiBV,EAAG,4BAA4B,CAACA,EAAG,SAASJ,EAAI0B,GAAI1B,EAA2B,yBAAE,SAASuH,GAAY,OAAOnH,EAAG,cAAc,CAACjB,IAAIoI,EAAW3G,GAAG,CAAC,MAAQZ,EAAImvC,cAAc,CAAC/uC,EAAG,oBAAoB,CAACA,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQgH,EAAW,MAAQA,GAAYxG,MAAM,CAAClC,MAAOmB,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAIovC,aAAanuC,GAAKE,WAAW,mBAAmB,IAAI,MAAK,IAAI,IAAI,IAAI,IACvrB,GAAkB,GC8BP,UAAI6B,OAAO,CACxB5E,KAAM,mBACN,OACE,MAAO,CACLmG,MAAO,GACP6qC,aAAc,KAGlBznB,SAAU,CACR,0BACE,MAAO,IAAI1nB,KAAKoB,OAAOyE,QAAQhE,cAEjC,cACE,OAAO7B,KAAKoB,OAAOC,MAAMuF,cAG7B1D,QAAS,CACP,cACE,MAAMiT,EAMF,CACFa,WAAY7R,EAAWkqC,WACvBp4B,UAAW,CACTjP,KAAM3C,EAAgB2N,QACtBC,IAAK,IAAIR,IAAIzS,KAAKmvC,gBAItBhsC,QAAQC,IAAI,wBAAyB+S,GACrCnW,KAAKoB,OAAOO,SAAS,gBAAiBwU,GACd,cAApBnW,KAAK4G,aACP5G,KAAKoB,OAAOO,SAAS,gCClEga,MCOzb,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACgsC,aAAA,KAAU1oC,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiB5pB,QAAA,KAAMC,YAAA,KAAUE,eAAA,SC9BtI,IAAI,GAAS,WAAa,IAAIrE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,cAAc,UAAU/B,EAAG,eAAe,CAACE,YAAY,cAAcC,MAAM,CAAC,QAAUP,EAAIuvC,QAAQ,MAAQvvC,EAAI8H,UAAU,WAAa9H,EAAIwvC,WAAW,uBAAuB,IAAI5uC,GAAG,CAAC,oBAAoB,SAASoB,GAAQhC,EAAIwvC,WAAWxtC,IAASxB,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,QAAQuB,GAAG,SAASgmB,GAAO,MAAO,CAACtmB,EAAG,KAAK,CAAC4F,MAAM,CAAC,iBAAkB0gB,EAAM9J,OAAS5c,EAAIqB,OAAOC,MAAMwR,eAAe7M,MAAOjG,EAAIyvC,cAAc/oB,EAAM9J,MAAOhc,GAAG,CAAC,WAAa,SAASoB,GAAQ,OAAOhC,EAAI0vC,qBAAqBhpB,EAAM9J,KAAKtT,KAAK,WAAatJ,EAAI2vC,mBAAmB,MAAQ,SAAS3tC,GAAyD,OAAjDA,EAAO2rB,kBAAkB3rB,EAAO0rB,iBAAwB1tB,EAAIyqB,OAAO/D,EAAM9J,KAAKtT,GAAI,UAAU,YAAc,SAAStH,GAAyD,OAAjDA,EAAO2rB,kBAAkB3rB,EAAO0rB,iBAAwB1tB,EAAIyqB,OAAO/D,EAAM9J,KAAKtT,GAAI,aAAa,CAAClJ,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGslB,EAAM9J,KAAKtT,OAAOlJ,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGslB,EAAM9J,KAAKjP,WAAW3N,EAAI0B,GAAI1B,EAAe,aAAE,SAASuH,GAAY,OAAOnH,EAAG,KAAK,CAACjB,IAAIoI,GAAY,CAACvH,EAAIc,GAAG,IAAId,EAAIoB,GAAGslB,EAAM9J,KAAKhP,YAAYrG,IAAa,UAASvH,EAAI0B,GAAI1B,EAAY,UAAE,SAAS0H,GAAS,OAAOtH,EAAG,KAAK,CAACjB,IAAIuI,GAAS,CAAC1H,EAAIc,GAAG,IAAId,EAAIoB,GAAGslB,EAAM9J,KAAKpT,SAAS9B,IAAU,WAAU,WAAW,IACzvC,GAAkB,GC6DP,UAAI1E,OAAO,CACxB5E,KAAM,eACN,OACE,MAAO,CACLwxC,OAAQ,GACRJ,WAAY,CACVK,YAAa,MAInBloB,SAAU,CACR,cACE,MAAM7lB,EAAc,IAAI7B,KAAKoB,OAAOyE,QAAQ8I,qBAC5C,OAAO9M,GAET,WACE,MAAM0H,EAAW,IAAIvJ,KAAKoB,OAAOyE,QAAQ0D,UACzC,OAAOA,GAET,UACE,MAAM+lC,EAAU,CACd,CAAEvqC,KAAM,KAAMnG,MAAO,MACrB,CAAEmG,KAAM,eAAgBnG,MAAO,gBAcjC,OAZAoB,KAAK6B,YAAYsG,QAASb,IACxBgoC,EAAQzyC,KAAK,CACXkI,KAAMuC,EAAWuoC,QAAQ,KAAM,KAC/BjxC,MAAO0I,MAGXtH,KAAKoB,OAAOyE,QAAQ0D,SAASpB,QAASV,IACpC6nC,EAAQzyC,KAAK,CACXkI,KAAM0C,EACN7I,MAAO6I,MAGJ6nC,GAET,YACE,MAAMznC,EAA8B,GACpC7H,KAAKoB,OAAOyE,QAAQyI,kBAAkBnG,QAASkB,IAC7C,MAAMhN,EAAIiN,GAAaD,GACjB6J,EAAQ,eACZ7J,MACGhN,GAELwL,EAAUhL,KAAKqW,KAGjB,MAAM,MAAE9H,EAAK,OAAE+E,GAAWnQ,KAAKiY,WACzB63B,EAAc,CAClB1kC,MAAO,CAACoB,EAAmBC,KACzB,IAAIsjC,EAAW,EACXC,EAAW,EASf,OAPI5kC,GAASA,EAAMvD,UAAUme,IAAIxZ,EAAEnD,KACjC0mC,IAEE3kC,GAASA,EAAMvD,UAAUme,IAAIvZ,EAAEpD,KACjC2mC,IAGKA,EAAWD,GAEpB5/B,OAAQ,CAAC3D,EAAmBC,KAC1B,IAAIsjC,EAAW,EACXC,EAAW,EASf,OAPI7/B,GAAUA,EAAOtI,UAAUme,IAAIxZ,EAAEnD,KACnC0mC,IAEE5/B,GAAUA,EAAOtI,UAAUme,IAAIvZ,EAAEpD,KACnC2mC,IAGKA,EAAWD,GAEpBE,OAAQ,CAACzjC,EAAmBC,KAC1B,IAAIsjC,EAAW,EACXC,EAAW,EAgBf,OAdI5kC,GAASA,EAAMvD,UAAUme,IAAIxZ,EAAEnD,KACjC0mC,IAEE3kC,GAASA,EAAMvD,UAAUme,IAAIvZ,EAAEpD,KACjC2mC,IAGE7/B,GAAUA,EAAOtI,UAAUme,IAAIxZ,EAAEnD,KACnC0mC,IAEE5/B,GAAUA,EAAOtI,UAAUme,IAAIvZ,EAAEpD,KACnC2mC,IAGKA,EAAWD,IAOtB,OAJI/vC,KAAK2vC,QACP9nC,EAAUgE,KAAKikC,EAAY9vC,KAAK2vC,SAG3B9nC,GAET,aAIE,OAAO7H,KAAKoB,OAAOC,MAAM8J,oBAG7B6e,MAAO,CACL,aACE,MAAM,MAAE5e,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAE7BjY,KAAK2vC,OADHvkC,GAAS+E,EACG,SACL/E,EACK,QACL+E,EACK,SAEA,KAIpBjN,QAAS,OAAF,wBACF,eAAW,CACZ,uBACA,wBACA,CACF,OACEmG,EACA+M,GAEA,MAAMvO,EAAY,IAAI4K,IAAI,CAACpJ,IACrBmJ,EAAc,aAAanJ,EAEjCrJ,KAAKoB,OAAOO,SAAS,4BAA6B,CAAEkG,YAAW2K,gBAC/DxS,KAAKoB,OAAOO,SAAS,6BAA8ByU,IAErD,cAAclD,GACZ,MAAQ9H,MAAO8kC,EAAY//B,OAAQggC,GAAgB,GAAOhlC,mBAClDC,MAAOglC,EAAgBjgC,OAAQkgC,GAAoBrwC,KAAKiY,WAC1Dq4B,EAAWF,GAAkBA,EAAevoC,UAAUme,IAAI9S,EAAS7J,IACnEknC,EAAYF,GAAmBA,EAAgBxoC,UAAUme,IAAI9S,EAAS7J,IAE5E,OAAIinC,GAAWC,EACN,wDACsCL,MAAeC,yCAI1DG,EACK,iCACeJ,eAGpBK,EACK,iCACeJ,wCAIjB,QCjO0Z,M,yBCQna,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACK,cAAA,OCxB9B,IAAI,GAAS,WAAa,IAAIzwC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAAC+B,YAAY,CAAC,QAAU,SAAS,CAAC/B,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAAC+B,YAAY,CAAC,QAAU,UAAU,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,eAAe,IAAM,IAAIK,GAAG,CAAC,OAASZ,EAAI0wC,kBAAkB3vC,MAAM,CAAClC,MAAOmB,EAAIqB,OAAOC,MAAiB,YAAEN,SAAS,SAAUC,GAAMjB,EAAI6F,KAAK7F,EAAIqB,OAAOC,MAAO,cAAeL,IAAME,WAAW,6BAA6B,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,WAAW,MAAQ,WAAWH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,UAAU,MAAQ,UAAUH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,MAAM,MAAQ,UAA8B,cAAnBP,EAAI6G,YAA6BzG,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAAS,MAAQ,YAAYP,EAAIqG,MAAM,IAAI,GAAGjG,EAAG,MAAM,CAAC+B,YAAY,CAAC,QAAU,UAAU,CAAC/B,EAAG,OAAO,CAAC+B,YAAY,CAAC,QAAU,aAAa,mBAAmB,SAAS,YAAY,SAAS,CAACnC,EAAIc,GAAG,wBAAwBd,EAAI0B,GAAG,CAAE,QAAS,WAAW,SAAS2U,GAAc,OAAOjW,EAAG,SAAS,CAACjB,IAAIkX,EAAa9V,MAAM,CAAC,gBAAgB,GAAG,OAAS,GAAG,WAAW,GAAG,aAAa,SAASC,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,YAAYuB,GAAG,SAASC,GAChpC,IAAIC,EAAKD,EAAIC,GACb,MAAO,CAACR,EAAG,QAAQJ,EAAIa,GAAG,CAACmF,MAAM,CAAE,cAAgC,WAAjBqQ,GAA4B9V,MAAM,CAAC,MAAQP,EAAIk2B,OAAO9qB,kBAAkBiL,GAAc,IAAM,GAAG,MAAQ,KAAKzV,GAAI,CAACZ,EAAIc,GAAG,IAAId,EAAIoB,GAAGpB,EAAI2wC,4BAA4Bt6B,IAAe,WAAW,MAAK,IAAO,CAACjW,EAAG,SAAS,CAACA,EAAG,cAAc,CAACQ,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI4wC,oBAAoB,CAAEv6B,aAAcA,EAAcC,UAAW,UAAW,CAAClW,EAAG,oBAAoB,CAACJ,EAAIc,GAAG,WAAW,GAAGd,EAAI0B,GAAI1B,EAAoB,kBAAE,SAASsW,GAAW,OAAOlW,EAAG,cAAc,CAACjB,IAAImX,EAAUhN,GAAG1I,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI4wC,oBAAoB,CAAEv6B,aAAcA,EAAcC,UAAWA,OAAgB,CAAClW,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGkV,EAAUhN,QAAQ,OAAM,IAAI,MAAKlJ,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,MAAQ,IAAIK,GAAG,CAAC,MAAQZ,EAAI6wC,yBAAyB,CAAC7wC,EAAIc,GAAG,mBAAmB,GAAGV,EAAG,MAAM,CAAC+B,YAAY,CAAC,QAAU,QAAQ,aAAa,SAAS,CAAC/B,EAAG,OAAO,CAAC+B,YAAY,CAAC,QAAU,aAAa,mBAAmB,SAAS,YAAY,SAAS,CAACnC,EAAIc,GAAG,gBAAgBd,EAAI0B,GAAI1B,EAAc,YAAE,SAASqM,GAAW,OAAOjM,EAAG,QAAQ,CAACjB,IAAIkN,EAAUoG,YAAYxM,MAAQ,wCAA2CoG,EAAe,MAAI9L,MAAM,CAAC,KAAO,GAAG,IAAM,GAAG,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI8wC,sBAAsBzkC,EAAU/C,OAAO,CAACtJ,EAAIc,GAAG,IAAId,EAAIoB,GAAGiL,EAAU0kC,MAAM,WAAU,KAAK3wC,EAAG,wBAAwB,GAAGA,EAAG,MAAMA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIqB,OAAOO,SAAS,4BAA4B,CAAC5B,EAAIc,GAAG,qBAAqBV,EAAG,OAAO,CAAC+B,YAAY,CAAC,YAAY,OAAO,cAAc,OAAO,QAAU,SAAS,CAACnC,EAAIc,GAAG,qBAAqBV,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,eAAe,CAACE,YAAY,cAAcC,MAAM,CAAC,QAAUP,EAAIuvC,QAAQ,MAAQvvC,EAAIoT,iBAAiB,QAAUpT,EAAIwvC,WAAW,eAAe,GAAG,MAAQ,IAAI5uC,GAAG,CAAC,iBAAiB,SAASoB,GAAQhC,EAAIwvC,WAAWxtC,IAASxB,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,OAAOuB,GAAG,SAASC,GACn6D,IAAIqwC,EAAQrwC,EAAIqwC,MAChB,MAAO,CAAC5wC,EAAG,QAAQJ,EAAI0B,GAAG,GAAQ,SAASkb,GAAM,OAAOxc,EAAG,KAAK,CAACjB,IAAIyd,EAAKtT,GAAGrD,MAAOjG,EAAIyvC,cAAc7yB,IAAQ,CAACxc,EAAG,KAAK,CAACQ,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI4wC,oBAAoB,CAAEv6B,aAAc,QAASC,UAAWsG,KAAS,YAAc,SAAS5a,GAAgC,OAAxBA,EAAO0rB,iBAAwB1tB,EAAI4wC,oBAAoB,CAAEv6B,aAAc,SAAUC,UAAWsG,OAAW,CAAC5c,EAAIc,GAAGd,EAAIoB,GAAGwb,EAAKtT,IAAI,OAAOlJ,EAAG,KAAK,CAACQ,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI4wC,oBAAoB,CAAEv6B,aAAc,QAASC,UAAWsG,KAAS,YAAc,SAAS5a,GAAgC,OAAxBA,EAAO0rB,iBAAwB1tB,EAAI4wC,oBAAoB,CAAEv6B,aAAc,SAAUC,UAAWsG,OAAW,CAAC5c,EAAIc,GAAGd,EAAIoB,GAAGwb,EAAK9U,UAAUoU,SAAS9b,EAAG,KAAK,CAACQ,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI4wC,oBAAoB,CAAEv6B,aAAc,QAASC,UAAWsG,KAAS,YAAc,SAAS5a,GAAgC,OAAxBA,EAAO0rB,iBAAwB1tB,EAAI4wC,oBAAoB,CAAEv6B,aAAc,SAAUC,UAAWsG,OAAW,CAAC5c,EAAIc,GAAGd,EAAIoB,GAAGwb,EAAKnK,gBAAoC,cAAnBzS,EAAI6G,YAA6BzG,EAAG,KAAK,CAACA,EAAG,QAAQ,CAAC6wC,WAAW,CAAC,CAAC7yC,KAAK,QAAQ8yC,QAAQ,UAAUryC,MAAO+d,EAAW,OAAEzb,WAAW,gBAAgBZ,MAAM,CAAC,YAAc,eAAesC,SAAS,CAAC,MAAS+Z,EAAW,QAAGhc,GAAG,CAAC,MAAQ,SAASoB,GAAWA,EAAOyF,OAAO0pC,WAAqBnxC,EAAI6F,KAAK+W,EAAM,SAAU5a,EAAOyF,OAAO5I,aAAamB,EAAIqG,UAAS,WAAW,GAAuB,cAAnBrG,EAAI6G,YAA6BzG,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIqB,OAAOO,SAAS,4BAA4B,CAAC5B,EAAIc,GAAG,4BAA4Bd,EAAIqG,MAAM,IACz+C,GAAkB,GCLlB,GAAS,WAAa,IAAIrG,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACO,IAAI,MAAMJ,MAAM,CAAC,MAAQ,OAAO,QAAW,QAAUP,EAAIiW,MAAQjW,EAAI6mB,OAAOI,KAAOjnB,EAAI6mB,OAAOE,OAAS,KAAO/mB,EAAI8Y,OAAS9Y,EAAI6mB,OAAOC,IAAM9mB,EAAI6mB,OAAOG,cACvQ,GAAkB,GCiCP,UAAIhkB,OAAO,CACxB5E,KAAM,sBACN,OACI,MAAMyoB,EAAS,CAAEC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IACjDhR,EAAQ,IAAM4Q,EAAOI,KAAOJ,EAAOG,OACnClO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACzC,MAAO,CACLlO,SACA+N,SACA5Q,UAGN0R,SAAU,CACR,YACE,OAAO1nB,KAAK6Y,OAAS,GAEvB,WACE,OAAO7Y,KAAKgW,OAEd,aACE,OAAOmO,GAAWnkB,KAAK6H,UAAW7H,KAAKmxC,mBAEzC,QACE,MAAM/lC,EACHpL,KAAKiY,WAAgB,MACpBjY,KAAKiY,WAAW7M,MAAMvD,UACtB,IAAI4K,IACR,OAAOrH,GAET,YACE,OAAO+Y,GAAWnkB,KAAKoL,MAAOpL,KAAKmQ,SAErC,mBACE,OAAOqW,GAAMxmB,KAAKoL,MAAOpL,KAAKmQ,SAEhC,0BACE,OAAOlB,GAAajP,KAAKoL,MAAOpL,KAAKmQ,SAEvC,aACE,OAAO8V,MAET,YACE,OAAOjmB,KAAKoB,OAAOyE,QAAQyI,mBAE7B,iBACE,OAAOtO,KAAK6Y,OAAS,EAAI7Y,KAAKquC,WAEhC,SACE,MAAMl+B,EACHnQ,KAAKiY,WAAiB,OACrBjY,KAAKiY,WAAW9H,OAAOtI,UACvB,IAAI4K,IACR,OAAOtC,GAET,aACE,OAAOgU,GAAWnkB,KAAKmQ,OAAQnQ,KAAKoL,QAEtC,aAIE,OAAOpL,KAAKoB,OAAOC,MAAM8J,mBAE3B,SACE,MAAMimC,EAAStnC,GAAA,OACZC,OAAO,CAAC,EAAG/J,KAAK6H,UAAUoU,OAC1B4N,MAAM,CAAC,EAAG7pB,KAAKssB,WAClB,OAAO8kB,GAET,aACE,MAAMC,EAAavnC,GAAA,OAChBC,OAAO,CAAC,EAAGN,KAAKG,IAAI,EAAG5J,KAAKmxC,iBAAiBl1B,QAC7C4N,MAAM,CAAC,EAAG7pB,KAAKssB,WAClB,OAAO+kB,IAGXrnB,MAAO,CACL,YACEhqB,KAAKiqB,eAEP,aACEjqB,KAAKkqB,cAGT,UACElqB,KAAKiqB,eAEP/mB,QAAS,CACP,YAEE,MAAMikB,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAE3B2D,EAAe,IAEfsB,EAAW,KACf,MAAMklB,EAAiBnqB,EAAIqD,OAAO,oBAC5B+mB,EAAYpqB,EAAIqD,OAAO,eACvBgnB,EAAgBrqB,EAAIqD,OAAO,oBAC3BinB,EAAmBtqB,EAAIqD,OAAO,sBAC9BknB,EAAiBvqB,EAAIqD,OAAO,qBAElC+mB,EACGnmB,aAAaC,SAASP,GACtBzR,KAAK,IAAK,GACVA,KAAK,QAASrZ,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAEnDq1B,EACGlmB,aAAaC,SAASP,GACtBzR,KAAK,IAAKrZ,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAC5C5C,KAAK,QAASrZ,KAAKssB,SAAWtsB,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAEnEu1B,EACGpmB,aAAaC,SAASP,GACtBzR,KAAK,QAASrZ,KAAKqxC,WAAWrxC,KAAK2xC,UAAU11B,OAEhDw1B,EACGrmB,aAAaC,SAASP,GACtBzR,KAAK,IAAKrZ,KAAKqxC,WAAWrxC,KAAK2xC,UAAU11B,OACzC5C,KAAK,QAASrZ,KAAKqxC,WAAWrxC,KAAK4xC,wBAAwB31B,OAE9Dy1B,EACGtmB,aAAaC,SAASP,GACtBzR,KAAK,IAAKrZ,KAAKqxC,WAAWrxC,KAAKoL,MAAM6Q,OACrC5C,KAAK,QAASrZ,KAAKqxC,WAAWrxC,KAAK6xC,WAAW51B,QAEnDmQ,IAEA,MAAM0lB,EAAY,KAChB,MAAMC,EAAW5qB,EAAIqD,OAAO,cACtBwnB,EAAY7qB,EAAIqD,OAAO,eAExBxqB,KAAKmxC,iBAAiBl1B,MAWzB81B,EACG3mB,aAAaC,SAASP,GACtBzR,KAAK,iBAAkB,GAE1B24B,EACG5mB,aAAaC,SAASP,GACtBzR,KAAK,iBAAkB,GACvBA,KAAK,KAAMrZ,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAC7C5C,KAAK,KAAMrZ,KAAKssB,YAlBnBylB,EACG3mB,aAAaC,SAASP,GACtBzR,KAAK,iBAAkB,GAE1B24B,EACG5mB,aAAaC,SAASP,GACtBzR,KAAK,iBAAkB,GACvBA,KAAK,KAAM,GACXA,KAAK,KAAM,KAalBy4B,IAEA,MAAMG,EAAW,KACf,MAAMC,EAAiB/qB,EAAIqD,OAAO,oBAC5B2nB,EAAYhrB,EAAIqD,OAAO,eACvB4nB,EAAgBjrB,EAAIqD,OAAO,oBAC3B6nB,EAAmBlrB,EAAIqD,OAAO,sBAC9B8nB,EAAiBnrB,EAAIqD,OAAO,qBAElC2nB,EACGxI,KAAK3pC,KAAKuyC,eAAevyC,KAAKmxC,iBAAiBl1B,KAAMjc,KAAK6H,UAAUoU,OACpEmP,aAAaC,SAASP,GACtBzR,KAAK,IAAMrZ,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,MAAQ,GAExDi2B,EACGvI,KAAK3pC,KAAKuyC,eAAevyC,KAAK6M,WAAWoP,KAAMjc,KAAK6H,UAAUoU,OAC9DmP,aAAaC,SAASP,GACtBzR,KAAK,IACJrZ,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAC/Bjc,KAAKssB,SAAWtsB,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAAS,GAElEm2B,EACGzI,KAAK3pC,KAAKuyC,eAAevyC,KAAK2xC,UAAU11B,KAAMjc,KAAKmxC,iBAAiBl1B,OACpEmP,aAAaC,SAASP,GACtBzR,KAAK,IAAMrZ,KAAKqxC,WAAWrxC,KAAK2xC,UAAU11B,MAAQ,GAErDo2B,EACG1I,KAAK3pC,KAAKuyC,eAAevyC,KAAK4xC,wBAAwB31B,KAAMjc,KAAKmxC,iBAAiBl1B,OAClFmP,aAAaC,SAASP,GACtBzR,KAAK,IAAMrZ,KAAKqxC,WAAWrxC,KAAK2xC,UAAU11B,MAAQjc,KAAKqxC,WAAWrxC,KAAK4xC,wBAAwB31B,MAAQ,GAE1Gq2B,EACG3I,KAAK3pC,KAAKuyC,eAAevyC,KAAK6xC,WAAW51B,KAAMjc,KAAKmxC,iBAAiBl1B,OACrEmP,aAAaC,SAASP,GACtBzR,KAAK,IAAMrZ,KAAKqxC,WAAWrxC,KAAKoL,MAAM6Q,MAAQjc,KAAKqxC,WAAWrxC,KAAK6xC,WAAW51B,MAAQ,IAE3Fg2B,KAGF,cAEE,MAAM9qB,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACjCA,EAAIkD,UAAU,KAAKkB,SAEnB,MAAMinB,EAAiB,KACrB,MAAMvG,EAAO9kB,EAAI/N,OAAO,QAElBq5B,EAAWxG,EAAK7yB,OAAO,kBAC1BC,KAAK,KAAMrZ,KAAK2nC,YAChBtuB,KAAK,KAAM,MACXA,KAAK,KAAM,MACXA,KAAK,KAAM,MACXA,KAAK,KAAM,QACdo5B,EAASr5B,OAAO,QACbC,KAAK,SAAU,MACfA,KAAK,aAAc,GAAOlO,kBAAkBC,OAC5CiO,KAAK,eAAgB,GACxBo5B,EAASr5B,OAAO,QACbC,KAAK,SAAU,QACfA,KAAK,aAAc,GAAOlO,kBAAkBgF,QAC5CkJ,KAAK,eAAgB,IAE1Bm5B,IAEA,MAAMroB,EAAQhD,EAAI/N,OAAO,KACtBC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAShnB,KAAK4mB,OAAOC,QAE7DuF,EAAW,KACf,MAAMsmB,EAAWvoB,EAAM/Q,OAAO,KAC3BC,KAAK,QAAS,aACdA,KAAK,YAAa,mBAEfs5B,EAAWxoB,EAAM/Q,OAAO,KAC3BC,KAAK,QAAS,aACdA,KAAK,YAAa,gBAAmBrZ,KAAKquC,UAAYruC,KAAK4yC,mBAE9DD,EAASv5B,OAAO,QACbC,KAAK,QAAS,gBACdA,KAAK,QAASrZ,KAAKssB,UACnBjT,KAAK,SAAUrZ,KAAKquC,WACpBh1B,KAAK,OAAQ,QACbA,KAAK,SAAU,SAElBq5B,EAASt5B,OAAO,QACbC,KAAK,QAAS,cACdA,KAAK,IAAK,GACVA,KAAK,QAASrZ,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAChD5C,KAAK,SAAUrZ,KAAKquC,WACpBh1B,KAAK,OAAQ,SACbA,KAAK,SAAU,SACf1Y,GAAG,QAAS,IAAMX,KAAKwqB,OAAO,QAASxqB,KAAKiY,WAAW7M,MAAOpL,KAAKiY,WAAW9H,SAEjFuiC,EAASt5B,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IAAKrZ,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAC5C5C,KAAK,QAASrZ,KAAKssB,SAAWtsB,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAChE5C,KAAK,SAAUrZ,KAAKquC,WACpBh1B,KAAK,OAAQ,aACbA,KAAK,SAAU,SACf1Y,GAAG,QAAS,IAAMX,KAAKwqB,OAAO,aAAcxqB,KAAKiY,WAAW7M,MAAOpL,KAAKiY,WAAW9H,SAEtFwiC,EAASv5B,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,QAASrZ,KAAKqxC,WAAWrxC,KAAK2xC,UAAU11B,OAC7C5C,KAAK,SAAUrZ,KAAKquC,WACpBh1B,KAAK,OAAQ,GAAOlO,kBAAkBC,OACtCiO,KAAK,SAAU,SACf1Y,GAAG,QAAS,IAAMX,KAAKwqB,OAAO,aAAcxqB,KAAKiY,WAAW7M,MAAOpL,KAAKiY,WAAW9H,SAEtFwiC,EAASv5B,OAAO,QACbC,KAAK,QAAS,qBACdA,KAAK,IAAKrZ,KAAKqxC,WAAWrxC,KAAK2xC,UAAU11B,OACzC5C,KAAK,QAASrZ,KAAKqxC,WAAWrxC,KAAK4xC,wBAAwB31B,OAC3D5C,KAAK,SAAUrZ,KAAKquC,WACpBh1B,KAAK,OAAQ,QAAQrZ,KAAK2nC,eAC1BtuB,KAAK,SAAU,SACf1Y,GAAG,QAAS,IAAMX,KAAKwqB,OAAO,eAAgBxqB,KAAKiY,WAAW7M,MAAOpL,KAAKiY,WAAW9H,SAExFwiC,EAASv5B,OAAO,QACbC,KAAK,QAAS,oBACdA,KAAK,IAAKrZ,KAAKqxC,WAAWrxC,KAAKoL,MAAM6Q,OACrC5C,KAAK,QAASrZ,KAAKqxC,WAAWrxC,KAAK6xC,WAAW51B,OAC9C5C,KAAK,SAAUrZ,KAAKquC,WACpBh1B,KAAK,OAAQ,GAAOlO,kBAAkBgF,QACtCkJ,KAAK,SAAU,SACf1Y,GAAG,QAAS,IAAMX,KAAKwqB,OAAO,aAAcxqB,KAAKiY,WAAW9H,OAAQnQ,KAAKiY,WAAW7M,QAEvF,MAAM6mC,EAAW,KACfS,EAASt5B,OAAO,QACbC,KAAK,QAAS,cACdA,KAAK,IAAMrZ,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,MAAQ,GACrD5C,KAAK,KAAM,IACXA,KAAK,oBAAqB,UAC1BA,KAAK,cAAe,UACpBA,KAAK,YAAa,IAClBswB,KAAK3pC,KAAKuyC,eAAevyC,KAAKmxC,iBAAiBl1B,KAAMjc,KAAK6H,UAAUoU,OAEvEy2B,EAASt5B,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IACJrZ,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAC/Bjc,KAAKssB,SAAWtsB,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAAS,GAC/D5C,KAAK,KAAM,IACXA,KAAK,oBAAqB,UAC1BA,KAAK,cAAe,UACpBA,KAAK,YAAa,IAClBswB,KAAK3pC,KAAKuyC,eAAevyC,KAAK6M,WAAWoP,KAAMjc,KAAK6H,UAAUoU,OAEjE02B,EAASv5B,OAAO,QACbC,KAAK,QAAS,mBACdA,KAAK,IAAMrZ,KAAKqxC,WAAWrxC,KAAK2xC,UAAU11B,MAAQ,GAClD5C,KAAK,IAAKrZ,KAAKquC,UAAY,IAC3Bh1B,KAAK,oBAAqB,UAC1BA,KAAK,cAAe,UACpBA,KAAK,YAAa,IAClBswB,KAAK3pC,KAAKuyC,eAAevyC,KAAK2xC,UAAU11B,KAAMjc,KAAKmxC,iBAAiBl1B,OAEvE02B,EAASv5B,OAAO,QACbC,KAAK,QAAS,qBACdA,KAAK,IAAMrZ,KAAKqxC,WAAWrxC,KAAK2xC,UAAU11B,MAAQjc,KAAKqxC,WAAWrxC,KAAK4xC,wBAAwB31B,MAAQ,GACvG5C,KAAK,IAAKrZ,KAAKquC,UAAY,IAC3Bh1B,KAAK,oBAAqB,UAC1BA,KAAK,cAAe,UACpBA,KAAK,YAAa,IAClBswB,KAAK3pC,KAAKuyC,eAAevyC,KAAK4xC,wBAAwB31B,KAAMjc,KAAKmxC,iBAAiBl1B,OAErF02B,EAASv5B,OAAO,QACbC,KAAK,QAAS,oBACdA,KAAK,IAAMrZ,KAAKqxC,WAAWrxC,KAAKoL,MAAM6Q,MAAQjc,KAAKqxC,WAAWrxC,KAAK6xC,WAAW51B,MAAQ,GACtF5C,KAAK,IAAKrZ,KAAKquC,UAAY,IAC3Bh1B,KAAK,oBAAqB,UAC1BA,KAAK,cAAe,UACpBA,KAAK,YAAa,IAClBswB,KAAK3pC,KAAKuyC,eAAevyC,KAAK6xC,WAAW51B,KAAMjc,KAAKmxC,iBAAiBl1B,QAE1Eg2B,KAEF7lB,IAEA,MAAM0lB,EAAY,KACC3nB,EAAM/Q,OAAO,QAC3BC,KAAK,QAAS,aACdA,KAAK,KAAM,GACXA,KAAK,KAAMrZ,KAAKquC,WAChBh1B,KAAK,KAAM,GACXA,KAAK,KAAMrZ,KAAKquC,UAAYruC,KAAK4yC,gBACjCv5B,KAAK,SAAU,SACfA,KAAK,iBAAkB,GAER8Q,EAAM/Q,OAAO,QAC5BC,KAAK,QAAS,cACdA,KAAK,KAAMrZ,KAAKoxC,OAAOpxC,KAAKmxC,iBAAiBl1B,OAC7C5C,KAAK,KAAMrZ,KAAKquC,WAChBh1B,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMrZ,KAAKquC,UAAYruC,KAAK4yC,gBACjCv5B,KAAK,SAAU,SACfA,KAAK,iBAAkB,IAE5By4B,KAGF,eAAelzC,EAAe4Q,GAC5B,IAAK5Q,EACH,MAAO,GAET,MAAMi0C,EAAaj0C,EAAQ4Q,EAAQ,IACnC,OAAIqjC,EAAa,EACLA,EAAWx6B,QAAQ,GAAtB,IAECw6B,EAAWx6B,QAAQ,GAAtB,KAET,OACEjM,EACA0mC,EACAC,GAEA,IAAMD,IAAYC,EAEhB,YADA5vC,QAAQ8E,MAAM,qBAAqB6qC,mBAA0BC,uCAI/D,IAAIC,EAA2B,IAAIvgC,IACnC,OAAQrG,GACN,IAAK,aACH4mC,EAAc7uB,GAAWnkB,KAAK6H,UAAW2e,GAAMssB,EAASjrC,UAAWkrC,EAASlrC,YAC5E,MACF,IAAK,aACHmrC,EAAc7uB,GAAW2uB,EAASjrC,UAAWkrC,EAASlrC,WACtD,MACF,IAAK,eACHmrC,EAAc/jC,GAAa6jC,EAASjrC,UAAWkrC,EAASlrC,WACxD,MACF,IAAK,QACHmrC,EAAcxsB,GAAMssB,EAASjrC,UAAWkrC,EAASlrC,WACjD,MAGJ,MAAM2K,EACW,eAAdpG,EACG,GAAGA,KAAa0mC,EAASzpC,MACzB,GAAG+C,KAAa0mC,EAASzpC,OAAO0pC,EAAS1pC,MAEzC8M,EAIF,CACFtO,UAAWmrC,EACXxgC,eAGItG,EAAK4mC,EAASvqC,UACd4D,EAAK4mC,EAASxqC,UACpB,GAAK2D,EAEE,GAAKC,EAEL,CACL,MAAM5D,EAAuB0D,GAAkBC,EAAIC,EAAIC,GACvDjJ,QAAQC,IAAI,wBAAyBmF,GACrC4N,EAAQ5N,UAAYA,OAJpBpF,QAAQ8E,MAAM,qEAFd9E,QAAQ8E,MAAM,gEAShBjI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8B,SACnD3B,KAAKoB,OAAOO,SAAS,0BAA2B,CAAE0U,UAAW,KAAMD,aAAc,eCpcuV,MCO1a,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,M,QClBX,GAAS,WAAa,IAAIrW,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,QAAQQ,MAAM,CAAClC,MAAOmB,EAAU,OAAEgB,SAAS,SAAUC,GAAMjB,EAAIkzC,OAAOjyC,GAAKE,WAAW,WAAW,CAACf,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,YAAY,IAAM,GAAG,KAAO,GAAG,MAAQ,GAAG,MAAQP,EAAIk2B,OAAOid,KAAK3uC,KAAK,aAAa,CAACpE,EAAG,SAAS,CAACJ,EAAIc,GAAG,UAAU,GAAGV,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,SAAS,CAACH,EAAG,eAAe,CAACJ,EAAI0B,GAAI1B,EAAW,SAAE,SAAS0M,EAAEpC,GAAO,OAAOlK,EAAG,YAAY,CAACjB,IAAImL,EAAM/J,MAAM,CAAC,OAAS,KAAK,CAACH,EAAG,WAAW,CAACoE,KAAK,aAAa,CAACpE,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,GAAG,UAAY,GAAG,MAAQ,GAAG,MAAQmM,EAAEqM,OAAOnY,GAAG,CAAC,MAAQ8L,EAAE0mC,SAAS,CAAChzC,EAAG,SAAS,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGsL,EAAEqkC,UAAU,IAAI,GAAG3wC,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGsL,EAAE2mC,aAAa,MAAKjzC,EAAG,OAAO,CAACE,YAAY,cAAc,CAACN,EAAIc,GAAG,IAAId,EAAIoB,GAAGpB,EAAIynC,OAAO,QAAQ,GAAGrnC,EAAG,cAAc,CAACA,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,CAACH,EAAG,WAAW,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,IAAM,KAAK,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,GAAG,KAAO,GAAG,MAAQ,GAAG,MAAQP,EAAIk2B,OAAOod,OAAO1yC,GAAG,CAAC,MAAQZ,EAAIuzC,mBAAmB,CAACnzC,EAAG,SAAS,CAACJ,EAAIc,GAAG,UAAU,GAAGd,EAAIc,GAAG,oBAAoBV,EAAG,SAAS,CAACG,MAAM,CAAC,UAAY,KAAK,CAACH,EAAG,cAAc,CAACJ,EAAIc,GAAG,iBAAiBd,EAAI0B,GAAI1B,EAAe,aAAE,SAASmH,EAAWmD,GAAO,OAAOlK,EAAG,MAAM,CAACjB,IAAImL,GAAO,CAAClK,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAM,GAAG,KAAO,GAAG,MAAQ,GAAG,MAAQP,EAAIk2B,OAAOid,KAAKvyC,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI8N,YAAYpQ,OAAO4M,EAAO,MAAM,CAAClK,EAAG,SAAS,CAACJ,EAAIc,GAAG,YAAY,GAAGV,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,IAAM,GAAG,MAAQ,GAAG,MAAQ4G,EAAWC,SAAWpH,EAAIk2B,OAAOsd,OAASxzC,EAAIk2B,OAAOud,MAAM7yC,GAAG,CAAC,MAAQ,SAASoB,GAAQmF,EAAWC,UAAYD,EAAWC,YAAY,CAAED,EAAmB,SAAE/G,EAAG,SAAS,CAACJ,EAAIc,GAAG,6BAA6BV,EAAG,SAAS,CAACJ,EAAIc,GAAG,8BAA8B,GAAGV,EAAG,OAAO,CAAG+G,EAAWE,KAA0DF,EAAWE,OAASrH,EAAI0zC,MAAM1mC,OAAQ5M,EAAG,oBAAoB,CAACG,MAAM,CAAC,SAAWP,EAAI2zC,gBAAgB,WAAaxsC,KAAeA,EAAWE,OAASrH,EAAI0zC,MAAMzmC,MAAO7M,EAAG,mBAAmB,CAACG,MAAM,CAAC,SAAWP,EAAI2zC,gBAAgB,WAAaxsC,KAAeA,EAAWE,OAASrH,EAAI0zC,MAAMtmC,UAAWhN,EAAG,sBAAsB,CAACG,MAAM,CAAC,SAAWP,EAAI2zC,gBAAgB,WAAaxsC,KAAeA,EAAWE,OAASrH,EAAI0zC,MAAMrmC,MAAOjN,EAAG,kBAAkB,CAACG,MAAM,CAAC,SAAWP,EAAI2zC,gBAAgB,WAAaxsC,KAAeA,EAAWE,OAASrH,EAAI0zC,MAAMnrC,WAAYnI,EAAG,gBAAgB,CAACG,MAAM,CAAC,SAAWP,EAAI2zC,gBAAgB,WAAaxsC,KAAeA,EAAWE,OAASrH,EAAI0zC,MAAMxmC,WAAY9M,EAAG,qBAAqB,CAACG,MAAM,CAAC,SAAWP,EAAI2zC,gBAAgB,WAAaxsC,KAAeA,EAAWE,OAASrH,EAAI0zC,MAAMvmC,WAAY/M,EAAG,kBAAkB,CAACG,MAAM,CAAC,SAAWP,EAAI2zC,gBAAgB,WAAaxsC,KAAc/G,EAAG,OAAO,CAACJ,EAAIc,GAAG,IAAId,EAAIoB,GAAG+F,EAAWE,MAAM,IAAIrH,EAAIoB,GAAG+F,EAAWnC,MAAM,OAApgC5E,EAAG,aAAa,CAACG,MAAM,CAAC,WAAa4G,MAAu+B,IAAI,OAAM,IAAI,GAAG/G,EAAG,SAAS,CAACG,MAAM,CAAC,IAAM,KAAK,CAACH,EAAG,0BAA0B,CAACG,MAAM,CAAC,SAAWP,EAAI4zC,oCAAoC,IAAI,IAAI,IAAI,IAAI,IAAI,IAC15F,GAAkB,GCDlB,GAAS,WAAa,IAAI5zC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACJ,EAAIc,GAAG,2BAA2BV,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,WAAW,GAAG,aAAa,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,aAAaiE,KAAK,aAAa,CAAExE,EAAImH,WAAiB,OAAE/G,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAImH,WAAWM,WAAWrH,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI6zC,aAAapsC,aAAarH,EAAG,SAASJ,EAAI0B,GAAI1B,EAAW,SAAE,SAASyH,GAAQ,OAAOrH,EAAG,cAAc,CAACjB,IAAIsI,EAAO7G,GAAG,CAAC,MAAQ,SAASoB,GAAQhC,EAAImH,WAAWM,OAASA,KAAU,CAACrH,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGqG,OAAY,MAAK,IAAI,IAAI,IAC/lB,GAAkB,GCoCP,UAAIzE,OAAO,CACxB5E,KAAM,oBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZxf,WAAY,CACVc,KAAMxL,OACNkqB,UAAU,IAGd,OACE,MAAO,CACL+sB,MAAO/tC,EACPkuC,aAAcnuC,IAGlBiiB,SAAU,CACR,UACE,MAAO,IAAI1nB,KAAKuG,SAASqM,aCzD6Y,M,aCOxa,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAACjP,OAAA,KAAKM,QAAA,KAAM4vC,SAAA,OCzBzC,IAAI,GAAS,WAAa,IAAI9zC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACJ,EAAIc,GAAG,aAAaV,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,WAAW,GAAG,aAAa,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,aAAaiE,KAAK,aAAa,CAAExE,EAAImH,WAAe,KAAE/G,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAImH,WAAWE,SAASjH,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI6zC,aAAaxsC,WAAWjH,EAAG,SAASJ,EAAI0B,GAAIjF,OAAOuM,OAAOhJ,EAAI0zC,OAAOhoC,QAAO,SAAUlM,GAAK,OAAOA,MAAO,SAASod,GAAM,OAAOxc,EAAG,cAAc,CAACjB,IAAIyd,EAAKhc,GAAG,CAAC,MAAQ,SAASoB,GAAQhC,EAAImH,WAAWE,KAAOuV,KAAQ,CAACxc,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGwb,OAAU,MAAK,IAAI,IAAI,IACjnB,GAAkB,GCiCP,UAAI5Z,OAAO,CACxB5E,KAAM,aACNsoB,MAAO,CACLvf,WAAY,CACVc,KAAMxL,OACNkqB,UAAU,IAGd,OACE,MAAO,CACL+sB,MAAO/tC,EACPkuC,aAAcnuC,MC7CiZ,MCOja,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAAC9B,OAAA,KAAKM,QAAA,KAAM4vC,SAAA,OCzBzC,IAAI,GAAS,WAAa,IAAI9zC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,WAAW,GAAG,aAAa,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,aAAaiE,KAAK,aAAa,CAAExE,EAAImH,WAAqB,WAAE/G,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAImH,WAAWI,eAAenH,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI6zC,aAAatsC,iBAAiBnH,EAAG,SAASJ,EAAI0B,GAAI1B,EAAe,aAAE,SAASuH,EAAW+C,GAAO,OAAOlK,EAAG,cAAc,CAACjB,IAAImL,EAAM1J,GAAG,CAAC,MAAQ,SAASoB,GAAQhC,EAAImH,WAAWI,WAAaA,KAAc,CAACnH,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGmG,OAAgB,MAAK,IAAI,GAAGvH,EAAIc,GAAG,eAAeV,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,WAAW,GAAG,aAAa,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,aAAaiE,KAAK,aAAa,CAAExE,EAAImH,WAAiB,OAAE/G,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAImH,WAAWM,WAAWrH,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI6zC,aAAapsC,aAAarH,EAAG,SAASJ,EAAI0B,GAAI1B,EAAW,SAAE,SAASyH,GAAQ,OAAOrH,EAAG,cAAc,CAACjB,IAAIsI,EAAO7G,GAAG,CAAC,MAAQ,SAASoB,GAAQhC,EAAImH,WAAWM,OAASA,KAAU,CAACrH,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGqG,OAAY,MAAK,IAAI,GAAGzH,EAAIc,GAAG,mBAAmB,IACtmC,GAAkB,GCwDP,UAAIkC,OAAO,CACxB5E,KAAM,sBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZxf,WAAY,CACVc,KAAMxL,OACNkqB,UAAU,IAGd,OACE,MAAO,CACL+sB,MAAO/tC,EACPkuC,aAAcnuC,IAGlBiiB,SAAU,CACR,UACE,MAAO,IAAI1nB,KAAKuG,SAASqM,UAE3B,cACE,MAAO,IAAI5S,KAAKuG,SAAS1E,iBChF+Y,MCO1a,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAAC8B,OAAA,KAAKM,QAAA,KAAM4vC,SAAA,OCzBzC,IAAI,GAAS,WAAa,IAAI9zC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,WAAW,GAAG,aAAa,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,aAAaiE,KAAK,aAAa,CAAExE,EAAImH,WAAqB,WAAE/G,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAImH,WAAWI,eAAenH,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI6zC,aAAatsC,iBAAiBnH,EAAG,SAASJ,EAAI0B,GAAI1B,EAAe,aAAE,SAASuH,EAAW+C,GAAO,OAAOlK,EAAG,cAAc,CAACjB,IAAImL,EAAM1J,GAAG,CAAC,MAAQ,SAASoB,GAAQhC,EAAImH,WAAWI,WAAaA,KAAc,CAACnH,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGmG,OAAgB,MAAK,IAAI,GAAGvH,EAAIc,GAAG,gBAAgB,IACxnB,GAAkB,GCoCP,UAAIkC,OAAO,CACxB5E,KAAM,kBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZxf,WAAY,CACVc,KAAMxL,OACNkqB,UAAU,IAGd,OACE,MAAO,CACL+sB,MAAO/tC,EACPkuC,aAAcnuC,IAGlBiiB,SAAU,CACR,cACE,MAAO,IAAI1nB,KAAKuG,SAAS1E,iBCzD2Y,MCOta,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAAC8B,OAAA,KAAKM,QAAA,KAAM4vC,SAAA,OCzBzC,IAAI,GAAS,WAAa,IAAI9zC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,WAAW,GAAG,aAAa,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,aAAaiE,KAAK,aAAa,CAAExE,EAAImH,WAAqB,WAAE/G,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAImH,WAAWI,eAAenH,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI6zC,aAAatsC,iBAAiBnH,EAAG,SAASJ,EAAI0B,GAAI1B,EAAe,aAAE,SAASuH,EAAW+C,GAAO,OAAOlK,EAAG,cAAc,CAACjB,IAAImL,EAAM1J,GAAG,CAAC,MAAQ,SAASoB,GAAQhC,EAAImH,WAAWI,WAAaA,KAAc,CAACnH,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGmG,OAAgB,MAAK,IAAI,GAAGvH,EAAIc,GAAG,SAASV,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,WAAW,GAAG,aAAa,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,aAAaiE,KAAK,aAAa,CAAExE,EAAImH,WAAsB,YAAE/G,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAImH,WAAWK,gBAAgBpH,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI6zC,aAAatsC,iBAAiBnH,EAAG,SAASJ,EAAI0B,GAAI1B,EAAe,aAAE,SAASuH,GAAY,OAAOnH,EAAG,cAAc,CAACjB,IAAIoI,EAAW3G,GAAG,CAAC,MAAQ,SAASoB,GAAQhC,EAAImH,WAAWK,YAAcD,KAAc,CAACnH,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGmG,OAAgB,MAAK,IAAI,GAAGvH,EAAIc,GAAG,aAAa,IACjoC,GAAkB,GCwDP,UAAIkC,OAAO,CACxB5E,KAAM,mBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZxf,WAAY,CACVc,KAAMxL,OACNkqB,UAAU,IAGd,OACE,MAAO,CACL+sB,MAAO/tC,EACPkuC,aAAcnuC,IAGlBiiB,SAAU,CACR,cACE,MAAO,IAAI1nB,KAAKuG,SAAS1E,iBC7E4Y,MCOva,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAAC8B,OAAA,KAAKM,QAAA,KAAM4vC,SAAA,OCzBzC,IAAI,GAAS,WAAa,IAAI9zC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,WAAW,GAAG,aAAa,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,aAAaiE,KAAK,aAAa,CAAExE,EAAImH,WAAkB,QAAE/G,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAImH,WAAWO,YAAYtH,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI6zC,aAAansC,cAActH,EAAG,SAASJ,EAAI0B,GAAI1B,EAAY,UAAE,SAAS0H,GAAS,OAAOtH,EAAG,cAAc,CAACjB,IAAIuI,EAAQ9G,GAAG,CAAC,MAAQ,SAASoB,GAAQhC,EAAImH,WAAWO,QAAUA,EAAS1H,EAAImH,WAAWtI,MAAQ,MAAM,CAACuB,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGsG,OAAa,MAAK,IAAI,GAAG1H,EAAIc,GAAG,YAAYV,EAAG,OAAO,CAACE,YAAY,QAAQ,CAAGN,EAAImH,WAAWO,QAAuC1H,EAAiC,8BAAEI,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,gBAAgB,KAAK,CAACH,EAAG,iBAAiB,CAACG,MAAM,CAAC,eAAe,GAAG,MAAQP,EAAIoJ,eAAerI,MAAM,CAAClC,MAAOmB,EAAImH,WAAgB,MAAEnG,SAAS,SAAUC,GAAMjB,EAAI6F,KAAK7F,EAAImH,WAAY,QAASlG,IAAME,WAAW,uBAAuB,IAAI,GAAInB,EAAoB,iBAAEI,EAAG,OAAO,CAACJ,EAAIc,GAAG,4BAA6Bd,EAA4B,yBAAEI,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,gBAAgB,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,eAAe,GAAG,IAAMP,EAAI+zC,iBAAiB,IAAM/zC,EAAIg0C,iBAAiB,KAAOh0C,EAAIi0C,kBAAkB,cAAc,GAAG,aAAa,MAAMlzC,MAAM,CAAClC,MAAOmB,EAAImH,WAAgB,MAAEnG,SAAS,SAAUC,GAAMjB,EAAI6F,KAAK7F,EAAImH,WAAY,QAASlG,IAAME,WAAW,uBAAuB,GAAGnB,EAAIc,GAAG,IAAId,EAAIoB,GAAGpB,EAAImH,WAAWtI,OAAO,MAAM,GAAGuB,EAAG,OAAO,CAACJ,EAAIc,GAAG,IAAId,EAAIoB,GAAGpB,EAAIk0C,aAAa,OAA92B9zC,EAAG,OAAO,CAACJ,EAAIc,GAAG,cAAs2B,IACriD,GAAkB,GC4EP,UAAIkC,OAAO,CACxB5E,KAAM,gBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZxf,WAAY,CACVc,KAAMxL,OACNkqB,UAAU,IAGd,OACE,MAAO,CACL+sB,MAAO/tC,EACPkuC,aAAcnuC,IAGlBiiB,SAAU,CACR,WACE,MAAO,IAAI1nB,KAAKuG,SAASgD,WAE3B,cACE,OAAKvJ,KAAKkH,WAAWO,QAGdM,GAAc/H,KAAKkH,WAAWO,SAASO,KAFrC,IAIX,gBACE,IAAKhI,KAAKkH,WAAWO,QACnB,MAAO,GAET,MAAMuE,EAAIhM,KAAKkH,WAAWO,QACpBsB,EAAS/I,KAAK6H,UAAUuB,IAAKC,IACjC,MAAMhN,EAAIiN,GAAaD,GACvB,OAAOhN,EAAEkN,SAASyC,KAEdkoC,EAA0B,IAAI,IAAIzhC,IAAI1J,IAC5C,OAAOmrC,GAET,qBACE,MAAMC,EAAkC,CAAC,EAAG,GAC5C,IAAKn0C,KAAKkH,WAAWO,QACnB,OAAO0sC,EAET,MAAMnoC,EAAIjE,GAAc/H,KAAKkH,WAAWO,SAClC2sC,EAAe,KACnB,MAAMrrC,EAAS/I,KAAKmJ,cACdkrC,EAA2B,CAAC5qC,KAAKC,OAAOX,GAASU,KAAKG,OAAOb,IACnE,OAAOsrC,GAET,OAAQr0C,KAAKi0C,aACX,IAAK,WACH,MAAMK,EAAkBtoC,EAAsBqoC,OAC9C,OAAOC,GAEHF,IACN,IAAK,QACH,MAAMG,EAAevoC,EAAmBqoC,OACxC,OAAOE,GAEHH,IACN,QACE,OAAOD,IAGb,mBACE,OAAOn0C,KAAKw0C,mBAAmB,IAEjC,mBACE,OAAOx0C,KAAKw0C,mBAAmB,IAEjC,oBACE,MAAM3qB,EAAQ7pB,KAAK8zC,iBAAmB9zC,KAAK+zC,iBACrCU,EAAO5qB,EAAQ,GACrB,OAAO4qB,GAET,YACE,MAAO,IAAIz0C,KAAKuG,SAASsB,YAE3B,gCACE,MAAO,CAAC,cAAe,WAAW1B,SAASnG,KAAKi0C,cAElD,mBACE,MAA4B,YAArBj0C,KAAKi0C,aAEd,2BACE,MAAO,CAAC,WAAY,SAAS9tC,SAASnG,KAAKi0C,iBCpKuX,M,0BCOpa,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAUhC,IAAkB,GAAW,CAACS,iBAAA,KAAc/wC,OAAA,KAAKI,QAAA,KAAME,QAAA,KAAM4vC,SAAA,KAAMc,WAAA,OC5BnE,IAAI,GAAS,WAAa,IAAI50C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,WAAW,GAAG,aAAa,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,aAAaiE,KAAK,aAAa,CAAExE,EAAImH,WAAkB,QAAE/G,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAImH,WAAWO,YAAYtH,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI6zC,aAAansC,cAActH,EAAG,SAASJ,EAAI0B,GAAI1B,EAAY,UAAE,SAAS0H,GAAS,OAAOtH,EAAG,cAAc,CAACjB,IAAIuI,EAAQ9G,GAAG,CAAC,MAAQ,SAASoB,GAAQhC,EAAImH,WAAWO,QAAUA,EAAS1H,EAAImH,WAAWtI,MAAQ,MAAM,CAACuB,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGsG,OAAa,MAAK,IAAI,GAAG1H,EAAIc,GAAG,kBAAkBV,EAAG,OAAO,CAACE,YAAY,QAAQ,CAAGN,EAAImH,WAAWO,QAAuC1H,EAAiC,8BAAEI,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,gBAAgB,KAAK,CAACH,EAAG,iBAAiB,CAACG,MAAM,CAAC,eAAe,GAAG,MAAQP,EAAIoJ,eAAerI,MAAM,CAAClC,MAAOmB,EAAImH,WAAgB,MAAEnG,SAAS,SAAUC,GAAMjB,EAAI6F,KAAK7F,EAAImH,WAAY,QAASlG,IAAME,WAAW,uBAAuB,IAAI,GAAInB,EAAoB,iBAAEI,EAAG,OAAO,CAACJ,EAAIc,GAAG,4BAA6Bd,EAA4B,yBAAEI,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,gBAAgB,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,eAAe,GAAG,IAAMP,EAAI+zC,iBAAiB,IAAM/zC,EAAIg0C,iBAAiB,KAAOh0C,EAAIi0C,kBAAkB,cAAc,GAAG,aAAa,MAAMlzC,MAAM,CAAClC,MAAOmB,EAAImH,WAAgB,MAAEnG,SAAS,SAAUC,GAAMjB,EAAI6F,KAAK7F,EAAImH,WAAY,QAASlG,IAAME,WAAW,uBAAuB,GAAGnB,EAAIc,GAAG,IAAId,EAAIoB,GAAGpB,EAAImH,WAAWtI,OAAO,MAAM,GAAGuB,EAAG,OAAO,CAACJ,EAAIc,GAAG,IAAId,EAAIoB,GAAGpB,EAAIk0C,aAAa,OAA92B9zC,EAAG,OAAO,CAACJ,EAAIc,GAAG,cAAs2B,IAC3iD,GAAkB,GC4EP,UAAIkC,OAAO,CACxB5E,KAAM,qBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZxf,WAAY,CACVc,KAAMxL,OACNkqB,UAAU,IAGd,OACE,MAAO,CACL+sB,MAAO/tC,EACPkuC,aAAcnuC,IAGlBiiB,SAAU,CACR,WACE,MAAMrc,EAAwB,IAAIrL,KAAKuG,SAASgD,UAC1CgC,EAAe,CAAC,UAAW,WAAY,SACvCqpC,EAAkBvpC,EAAYI,OAAQ7D,IAC1C,MAAMoE,EAAIjE,GAAcH,GACxB,OAAO2D,EAAapF,SAAS6F,EAAEhE,QAEjC,OAAO4sC,GAET,cACE,OAAK50C,KAAKkH,WAAWO,QAGdM,GAAc/H,KAAKkH,WAAWO,SAASO,KAFrC,IAIX,gBACE,IAAKhI,KAAKkH,WAAWO,QACnB,MAAO,GAET,MAAMuE,EAAIhM,KAAKkH,WAAWO,QACpBsB,EAAS/I,KAAK6H,UAAUuB,IAAKC,IACjC,MAAMhN,EAAIiN,GAAaD,GACvB,OAAOhN,EAAEkN,SAASyC,KAEdkoC,EAA0B,IAAI,IAAIzhC,IAAI1J,IAC5C,OAAOmrC,GAET,qBACE,MAAMC,EAAkC,CAAC,EAAG,GAC5C,IAAKn0C,KAAKkH,WAAWO,QACnB,OAAO0sC,EAET,MAAMnoC,EAAIjE,GAAc/H,KAAKkH,WAAWO,SAClC2sC,EAAe,KACnB,MAAMrrC,EAAS/I,KAAKmJ,cACdkrC,EAA2B,CAAC5qC,KAAKC,OAAOX,GAASU,KAAKG,OAAOb,IACnE,OAAOsrC,GAET,OAAQr0C,KAAKi0C,aACX,IAAK,WACH,MAAMK,EAAkBtoC,EAAsBqoC,OAC9C,OAAOC,GAEHF,IACN,IAAK,QACH,MAAMG,EAAevoC,EAAmBqoC,OACxC,OAAOE,GAEHH,IACN,QACE,OAAOD,IAGb,mBACE,OAAOn0C,KAAKw0C,mBAAmB,IAEjC,mBACE,OAAOx0C,KAAKw0C,mBAAmB,IAEjC,oBACE,MAAM3qB,EAAQ7pB,KAAK8zC,iBAAmB9zC,KAAK+zC,iBACrCU,EAAO5qB,EAAQ,GACrB,OAAO4qB,GAET,YACE,MAAO,IAAIz0C,KAAKuG,SAASsB,YAE3B,gCACE,MAAO,CAAC,cAAe,WAAW1B,SAASnG,KAAKi0C,cAElD,mBACE,MAA4B,YAArBj0C,KAAKi0C,aAEd,2BACE,MAAO,CAAC,WAAY,SAAS9tC,SAASnG,KAAKi0C,iBC1K4X,MCOza,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAUhC,IAAkB,GAAW,CAACS,iBAAA,KAAc/wC,OAAA,KAAKI,QAAA,KAAME,QAAA,KAAM4vC,SAAA,KAAMc,WAAA,OC5BnE,IAAI,GAAS,WAAa,IAAI50C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,OAAS,GAAG,WAAW,GAAG,aAAa,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,aAAaiE,KAAK,aAAa,CAAExE,EAAImH,WAAkB,QAAE/G,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAImH,WAAWO,YAAYtH,EAAG,OAAO,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI6zC,aAAansC,cAActH,EAAG,SAASJ,EAAI0B,GAAI1B,EAAY,UAAE,SAAS0H,GAAS,OAAOtH,EAAG,cAAc,CAACjB,IAAIuI,EAAQ9G,GAAG,CAAC,MAAQ,SAASoB,GAAQhC,EAAImH,WAAWO,QAAUA,EAAS1H,EAAImH,WAAWtI,MAAQ,MAAM,CAACuB,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGsG,OAAa,MAAK,IAAI,GAAG1H,EAAIc,GAAG,eAAeV,EAAG,OAAO,CAACE,YAAY,QAAQ,CAAGN,EAAImH,WAAWO,QAAuC1H,EAAiC,8BAAEI,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,gBAAgB,KAAK,CAACH,EAAG,iBAAiB,CAACG,MAAM,CAAC,eAAe,GAAG,MAAQP,EAAIoJ,eAAerI,MAAM,CAAClC,MAAOmB,EAAImH,WAAgB,MAAEnG,SAAS,SAAUC,GAAMjB,EAAI6F,KAAK7F,EAAImH,WAAY,QAASlG,IAAME,WAAW,uBAAuB,IAAI,GAAInB,EAAoB,iBAAEI,EAAG,OAAO,CAACJ,EAAIc,GAAG,4BAA6Bd,EAA4B,yBAAEI,EAAG,OAAO,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,gBAAgB,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,eAAe,GAAG,IAAMP,EAAI+zC,iBAAiB,IAAM/zC,EAAIg0C,iBAAiB,KAAOh0C,EAAIi0C,kBAAkB,cAAc,GAAG,aAAa,MAAMlzC,MAAM,CAAClC,MAAOmB,EAAImH,WAAgB,MAAEnG,SAAS,SAAUC,GAAMjB,EAAI6F,KAAK7F,EAAImH,WAAY,QAASlG,IAAME,WAAW,uBAAuB,GAAGnB,EAAIc,GAAG,IAAId,EAAIoB,GAAGpB,EAAImH,WAAWtI,OAAO,MAAM,GAAGuB,EAAG,OAAO,CAACJ,EAAIc,GAAG,IAAId,EAAIoB,GAAGpB,EAAIk0C,aAAa,OAA92B9zC,EAAG,OAAO,CAACJ,EAAIc,GAAG,cAAs2B,IACxiD,GAAkB,GC4EP,UAAIkC,OAAO,CACxB5E,KAAM,kBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZxf,WAAY,CACVc,KAAMxL,OACNkqB,UAAU,IAGd,OACE,MAAO,CACL+sB,MAAO/tC,EACPkuC,aAAcnuC,IAGlBiiB,SAAU,CACR,WACE,MAAMrc,EAAwB,IAAIrL,KAAKuG,SAASgD,UAC1CgC,EAAe,CAAC,UAAW,WAAY,SACvCqpC,EAAkBvpC,EAAYI,OAAQ7D,IAC1C,MAAMoE,EAAIjE,GAAcH,GACxB,OAAO2D,EAAapF,SAAS6F,EAAEhE,QAEjC,OAAO4sC,GAET,cACE,OAAK50C,KAAKkH,WAAWO,QAGdM,GAAc/H,KAAKkH,WAAWO,SAASO,KAFrC,IAIX,gBACE,IAAKhI,KAAKkH,WAAWO,QACnB,MAAO,GAET,MAAMuE,EAAIhM,KAAKkH,WAAWO,QACpBsB,EAAS/I,KAAK6H,UAAUuB,IAAKC,IACjC,MAAMhN,EAAIiN,GAAaD,GACvB,OAAOhN,EAAEkN,SAASyC,KAEdkoC,EAA0B,IAAI,IAAIzhC,IAAI1J,IAC5C,OAAOmrC,GAET,qBACE,MAAMC,EAAkC,CAAC,EAAG,GAC5C,IAAKn0C,KAAKkH,WAAWO,QACnB,OAAO0sC,EAET,MAAMnoC,EAAIjE,GAAc/H,KAAKkH,WAAWO,SAClC2sC,EAAe,KACnB,MAAMrrC,EAAS/I,KAAKmJ,cACdkrC,EAA2B,CAAC5qC,KAAKC,OAAOX,GAASU,KAAKG,OAAOb,IACnE,OAAOsrC,GAET,OAAQr0C,KAAKi0C,aACX,IAAK,WACH,MAAMK,EAAkBtoC,EAAsBqoC,OAC9C,OAAOC,GAEHF,IACN,IAAK,QACH,MAAMG,EAAevoC,EAAmBqoC,OACxC,OAAOE,GAEHH,IACN,QACE,OAAOD,IAGb,mBACE,OAAOn0C,KAAKw0C,mBAAmB,IAEjC,mBACE,OAAOx0C,KAAKw0C,mBAAmB,IAEjC,oBACE,MAAM3qB,EAAQ7pB,KAAK8zC,iBAAmB9zC,KAAK+zC,iBACrCU,EAAO5qB,EAAQ,GACrB,OAAO4qB,GAET,YACE,MAAO,IAAIz0C,KAAKuG,SAASsB,YAE3B,gCACE,MAAO,CAAC,cAAe,WAAW1B,SAASnG,KAAKi0C,cAElD,mBACE,MAA4B,YAArBj0C,KAAKi0C,aAEd,2BACE,MAAO,CAAC,WAAY,SAAS9tC,SAASnG,KAAKi0C,iBC1KyX,MCOta,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAUhC,IAAkB,GAAW,CAACS,iBAAA,KAAc/wC,OAAA,KAAKI,QAAA,KAAME,QAAA,KAAM4vC,SAAA,KAAMc,WAAA,OC5BnE,IAAI,GAAS,WAAa,IAAI50C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACN,EAAIc,GAAG,mBAAmBV,EAAG,IAAI,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI8H,UAAUtL,QAAQ,OAAOwD,EAAIc,GAAG,oBAAoBV,EAAG,IAAI,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGpB,EAAI80C,uBAAuB90C,EAAIc,GAAG,WAAWV,EAAG,eAAe,CAACE,YAAY,cAAcC,MAAM,CAAC,QAAUP,EAAIuvC,QAAQ,MAAQvvC,EAAI8H,UAAU,WAAa9H,EAAIwvC,WAAW,uBAAuB,IAAI5uC,GAAG,CAAC,oBAAoB,SAASoB,GAAQhC,EAAIwvC,WAAWxtC,IAASxB,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,QAAQuB,GAAG,SAASgmB,GAAO,MAAO,CAACtmB,EAAG,KAAK,CAAC4F,MAAM,CAAC,iBAAkB0gB,EAAM9J,OAAS5c,EAAIqB,OAAOC,MAAMwR,eAAe7M,MAAOjG,EAAIyvC,cAAc/oB,EAAM9J,OAAQ,CAACxc,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGslB,EAAM9J,KAAKtT,OAAOlJ,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGslB,EAAM9J,KAAKjP,WAAW3N,EAAI0B,GAAI1B,EAAe,aAAE,SAASuH,GAAY,OAAOnH,EAAG,KAAK,CAACjB,IAAIoI,GAAY,CAACvH,EAAIc,GAAG,IAAId,EAAIoB,GAAGslB,EAAM9J,KAAKhP,YAAYrG,IAAa,UAASvH,EAAI0B,GAAI1B,EAAY,UAAE,SAAS0H,GAAS,OAAOtH,EAAG,KAAK,CAACjB,IAAIuI,GAAS,CAAC1H,EAAIc,GAAG,IAAId,EAAIoB,GAAGslB,EAAM9J,KAAKpT,SAAS9B,IAAU,WAAU,WAAW,IAC3jC,GAAkB,GCyDP,UAAI1E,OAAO,CACxB5E,KAAM,0BACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,IAGd,OACE,MAAO,CACLipB,OAAQ,GACRJ,WAAY,CACVK,YAAa,MAInBloB,SAAU,CACR,cACE,MAAO,IAAI1nB,KAAKuG,SAAS1E,cAE3B,WACE,MAAO,IAAI7B,KAAKuG,SAASgD,WAE3B,UACE,MAAM+lC,EAAU,CACd,CAAEvqC,KAAM,KAAMnG,MAAO,MACrB,CAAEmG,KAAM,eAAgBnG,MAAO,gBAcjC,OAZAoB,KAAK6B,YAAYsG,QAASb,IACxBgoC,EAAQzyC,KAAK,CACXkI,KAAMuC,EAAWuoC,QAAQ,KAAM,KAC/BjxC,MAAO0I,MAGXtH,KAAKoB,OAAOyE,QAAQ0D,SAASpB,QAASV,IACpC6nC,EAAQzyC,KAAK,CACXkI,KAAM0C,EACN7I,MAAO6I,MAGJ6nC,GAET,qBACE,MAAMpgC,EAAOlP,KAAK6H,UAAUtL,OACtB4S,EAAQnP,KAAKoB,OAAOyE,QAAQgC,UAAUoU,KACtC42B,GAAc3jC,EAAOC,EAAQ,KAAKkJ,QAAQ,GAChD,OAAOw6B,GAET,YACE,MAAMhrC,EAA8B,GACpC,IAAI7H,KAAKuG,SAASsB,WAAWM,QAASkB,IACpC,MAAMhN,EAAIiN,GAAaD,GACjB6J,EAAQ,eACZ7J,MACGhN,GAELwL,EAAUhL,KAAKqW,KAGjB,MAAM,MAAE9H,EAAK,OAAE+E,GAAWnQ,KAAKiY,WACzB63B,EAAc,CAClB1kC,MAAO,CAACoB,EAAmBC,KACzB,IAAIsjC,EAAW,EACXC,EAAW,EASf,OAPI5kC,GAASA,EAAMvD,UAAUme,IAAIxZ,EAAEnD,KACjC0mC,IAEE3kC,GAASA,EAAMvD,UAAUme,IAAIvZ,EAAEpD,KACjC2mC,IAGKA,EAAWD,GAEpB5/B,OAAQ,CAAC3D,EAAmBC,KAC1B,IAAIsjC,EAAW,EACXC,EAAW,EASf,OAPI7/B,GAAUA,EAAOtI,UAAUme,IAAIxZ,EAAEnD,KACnC0mC,IAEE5/B,GAAUA,EAAOtI,UAAUme,IAAIvZ,EAAEpD,KACnC2mC,IAGKA,EAAWD,GAEpBE,OAAQ,CAACzjC,EAAmBC,KAC1B,IAAIsjC,EAAW,EACXC,EAAW,EAgBf,OAdI5kC,GAASA,EAAMvD,UAAUme,IAAIxZ,EAAEnD,KACjC0mC,IAEE3kC,GAASA,EAAMvD,UAAUme,IAAIvZ,EAAEpD,KACjC2mC,IAGE7/B,GAAUA,EAAOtI,UAAUme,IAAIxZ,EAAEnD,KACnC0mC,IAEE5/B,GAAUA,EAAOtI,UAAUme,IAAIvZ,EAAEpD,KACnC2mC,IAGKA,EAAWD,IAOtB,OAJI/vC,KAAK2vC,QACP9nC,EAAUgE,KAAKikC,EAAY9vC,KAAK2vC,SAG3B9nC,GAET,aAIE,OAAO7H,KAAKoB,OAAOC,MAAM8J,oBAG7B6e,MAAO,CACL,aACE,MAAM,MAAE5e,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAE7BjY,KAAK2vC,OADHvkC,GAAS+E,EACG,SACL/E,EACK,QACL+E,EACK,SAEA,KAIpBjN,QAAS,OAAF,wBACF,eAAW,CACZ,uBACA,wBACA,CACF,OACEmG,EACA+M,GAEA,MAAMvO,EAAY,IAAI4K,IAAI,CAACpJ,IACrBmJ,EAAc,aAAanJ,EAEjCrJ,KAAKoB,OAAOO,SAAS,4BAA6B,CAAEkG,YAAW2K,gBAC/DxS,KAAKoB,OAAOO,SAAS,6BAA8ByU,IAErD,cAAclD,GACZ,MAAQ9H,MAAO8kC,EAAY//B,OAAQggC,GAAgB,GAAOhlC,mBAClDC,MAAOglC,EAAgBjgC,OAAQkgC,GAAoBrwC,KAAKiY,WAC1Dq4B,EAAWF,GAAkBA,EAAevoC,UAAUme,IAAI9S,EAAS7J,IACnEknC,EAAYF,GAAmBA,EAAgBxoC,UAAUme,IAAI9S,EAAS7J,IAE5E,OAAIinC,GAAWC,EACN,wDACsCL,MAAeC,yCAI1DG,EACK,iCACeJ,eAGpBK,EACK,iCACeJ,wCAIjB,QCvOmZ,MCQ5Z,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACK,cAAA,OC+Hf,cAAIztC,OAAO,CACxB5E,KAAM,iBACN6E,WAAY,CACV8xC,qBACAC,cACAC,mBACAC,uBACAC,oBACAC,2BACAC,iBACAC,sBACAC,oBAEF,OACE,MAAO,CACLrf,OAAQ,CACNud,KAAM,UACNH,MAAO,OACPE,OAAQ,UACRL,IAAK,OACLqC,OAAQ,WAEVtC,QAAQ,EACRplC,YAAa,GACb4lC,MAAO/tC,EACPkuC,aAAcnuC,EACd+hC,MAAO,kBAGX9f,SAAU,CACR,UACE,MAAM8tB,EAAU,CACd,CACErC,OAAQnzC,KAAKy1C,aACb38B,MAAO9Y,KAAKi2B,OAAOid,IACnBpC,KAAM,QACNsC,QAAS,iCAAiCpzC,KAAKwnC,OAEjD,CACE2L,OAAQnzC,KAAK01C,WACb58B,MAAO9Y,KAAKi2B,OAAOsf,OACnBzE,KAAM,UACNsC,QAAS,sBAEX,CACED,OAAQnzC,KAAK21C,UACb78B,MAAO9Y,KAAKi2B,OAAOod,MACnBvC,KAAM,QACNsC,QAAS,yCAAyCpzC,KAAKwnC,QAG3D,OAAOgO,GAET,cACE,MAAO,IAAIx1C,KAAKoB,OAAOyE,QAAQhE,cAEjC,UACE,MAAO,IAAI7B,KAAKoB,OAAOyE,QAAQ+M,UAEjC,uBACE,IAAI/K,EAAY7H,KAAK6H,UAKrB,OAJA7H,KAAK6N,YAAY1F,QAASjB,IACxB,MAAMuE,EAAS8B,GAAarG,GAC5BW,EAAYA,EAAU4D,OAAOA,KAExB5D,GAET,8BACE,OAAO7H,KAAKoB,OAAOyE,QAAQoM,6BAE7B,0BACE,OAAOjS,KAAKoB,OAAOyE,QAAQ+L,yBAE7B,kCACE,MAAO,CACLgB,QAAS,IAAIH,IAAIzS,KAAK4S,SACtB/Q,YAAa,IAAI4Q,IAAIzS,KAAK6B,aAC1B0H,SAAU,IAAIkJ,IAAIzS,KAAKuJ,UACvB1B,UAAW,IAAI4K,IAAIzS,KAAK41C,sBACxB3jC,4BAA6BjS,KAAKiS,4BAClCL,wBAAwB5R,KAAK4R,0BAGjC,WACE,MAAO,IAAI5R,KAAKoB,OAAOyE,QAAQ0D,WAEjC,YACE,MAAO,IAAIvJ,KAAKoB,OAAOyE,QAAQgC,YAEjC,kBACE,MAAO,CACL+K,QAAS,IAAIH,IAAIzS,KAAK4S,SACtB/Q,YAAa,IAAI4Q,IAAIzS,KAAK6B,aAC1B0H,SAAU,IAAIkJ,IAAIzS,KAAKuJ,UACvB1B,UAAW,IAAI4K,IAAIzS,KAAK6H,WACxBoK,4BAA6BjS,KAAKiS,4BAClCL,wBAAwB5R,KAAK4R,2BAInC1O,QAAS,CACP,mBACE,MAAMgE,EAAaD,KACnBjH,KAAK6N,YAAYiQ,QAAQ5W,IAE3B,cACElH,KAAKizC,QAAS,GAEhB,eACEjzC,KAAK61C,cACL71C,KAAK01C,cAEP,kBACE,OAAO11C,KAAK6N,YAAYK,MAAMT,KAEhC,aACEzN,KAAK6N,YAAc,IAErB,YACE,IAAK7N,KAAK81C,kBAER,YADAC,MAAM,+DAGR,MAAMluC,EAAY,IAAI4K,IAAIzS,KAAK41C,sBACzBI,EAAyB,GAC/Bh2C,KAAK6N,YAAY1F,QAASjB,IACxB8uC,EAAan5C,KAAKiQ,GAAmB5F,MAGvC,MAAMqB,EAA6B,CACjCP,KAAM,SACN6F,YAAa7N,KAAK6N,YAClBC,OAAO,IAEHmoC,EAAkBD,EAAa3pB,KAAK,SAEpClW,EAAU,CACd3D,YAAayjC,EACbpuC,YACAU,aAGFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAK61C,cACL71C,KAAK01C,iBCvS4Y,M,uCCOnZ,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAgBhC,IAAkB,GAAW,CAAC/xC,OAAA,KAAKC,QAAA,KAAMC,UAAA,OAAUC,WAAA,OAAWoyC,cAAA,KAAWxxC,UAAA,KAAQX,QAAA,KAAMY,QAAA,KAAMX,UAAA,KAAQC,QAAA,KAAMkyC,cAAA,KAAWC,YAAA,OCsGvG,cAAIrzC,OAAO,CACxB5E,KAAM,aACN6E,WAAY,CACVqzC,uBACAC,mBAEF,OACE,MAAM,MAAElrC,EAAK,OAAE+E,GAAW,GAAOhF,kBAC3BmkC,EAA2C,cAAjCtvC,KAAKoB,OAAOC,MAAMuF,YAA8B,CAC5D,CAAE7B,KAAM,KAAMnG,MAAO,MACrB,CAAEmG,KAAM,OAAQnG,MAAO,QACvB,CAAEmG,KAAM,cAAenG,MAAO,eAC9B,CAAEmG,KAAM,gBAAiBnG,MAAO,WAChC,CACA,CAAEmG,KAAM,KAAMnG,MAAO,MACrB,CAAEmG,KAAM,OAAQnG,MAAO,QACvB,CAAEmG,KAAM,cAAenG,MAAO,gBAElC,MAAO,CACLq3B,OAAA,GACAqZ,UACAiH,WAAY,CACV,CACEltC,GAAI9D,EAAWixC,GACfhkC,YAAa,QACbikC,SAAUjwB,GACVsqB,KAAM,KAER,CACEznC,GAAI9D,EAAWmxC,IACflkC,YAAa,eACbikC,SAAUxnC,GACV6hC,KAAM,KAER,CACEznC,GAAI9D,EAAWoxC,MACfnkC,YAAa,aACbikC,SAAUtyB,GACV2sB,KAAM,IACN9qC,MAAO,2DACuCoF,UAAc+E,uBAG9D,CACE9G,GAAI9D,EAAWqxC,IACfpkC,YAAa,eACbikC,SAAUz6B,GACV80B,KAAM,MAGVvB,WAAY,CACVK,YAAa,MAInBloB,SAAU,CACR,cACE,IAAI9gB,EAAc5G,KAAKoB,OAAOC,MAAMuF,YACpC,OAAOA,GAET,oBAIE,OAAO5G,KAAKoB,OAAOC,MAAM8J,mBAE3B,mBACE,IAAIgI,EAAmBnT,KAAKoB,OAAOC,MAAM8R,iBAMzC,OAAOA,IAGXjQ,QAAS,CACP,cACElD,KAAKoB,OAAOO,SAAS,sBACrB3B,KAAKmT,iBAAiBhL,QAAS9L,IAC7BA,EAAE,UAAY,KAIlB,mBAC0B,cAApB2D,KAAK4G,cACP5G,KAAKoB,OAAOO,SAAS,4BACrB3B,KAAKoB,OAAOO,SAAS,6BAGzB2I,iCACA,sBAAsBtC,GACpB,MAAM,MAACoD,EAAK,OAAE+E,GAAUnQ,KAAKmL,kBAC7B,GAAc,OAAVC,GAA4B,MAAV+E,EAEpB,YADAhN,QAAQ8E,MAAM,0DAGhB,MAAMmE,EAAYpM,KAAKu2C,WAAWM,KAAMC,GAAOA,EAAGztC,KAAOrB,GACzD,QAAkB+uC,IAAd3qC,EAEF,YADAjJ,QAAQ8E,MAAM,sCAGhB,MAAM+qC,EAA2B5mC,EAAUqqC,SAASrrC,EAAMvD,UAAWsI,EAAOtI,WACtEsO,EAAU,CACdtO,UAAWmrC,EACXxgC,YAAa,GAAGxK,MAASoD,EAAM/B,QAAQ8G,EAAO9G,OAEhDrJ,KAAKoB,OAAOO,SAAS,4BAA6BwU,IAEpD,yBACEnW,KAAK2wC,oBAAoB,CAAEv6B,aAAc,QAASC,UAAW,OAC7DrW,KAAK2wC,oBAAoB,CAAEv6B,aAAc,SAAUC,UAAW,QAEhE,4BAA4BD,GAC1B,MAAMnL,EAAwBjL,KAAKmL,kBAAkBiL,GACrD,OAA8B,OAA1BnL,EACK,IAEF,GAAGA,EAAsB5B,IAElC,qBAAqBgN,GACnBrW,KAAKoB,OAAOO,SAAS,uBAAwB0U,IAE/C,oBACEF,GAKAnW,KAAKoB,OAAOO,SAAS,0BAA2BwU,IAElD,cAAc6gC,GACZ,MAAQ5rC,MAAO8kC,EAAY//B,OAAQggC,GAAgB,GAAOhlC,mBAClDC,MAAOglC,EAAgBjgC,OAAQkgC,GAAoBrwC,KAAKmL,kBAC1DmlC,EAAWF,GAAkBA,EAAe/mC,KAAO2tC,EAAO3tC,GAC1DknC,EAAYF,GAAmBA,EAAgBhnC,KAAO2tC,EAAO3tC,GAEnE,OAAIinC,GAAWC,EACN,wDACsCL,MAAeC,yCAI1DG,EACK,iCACeJ,eAGpBK,EACK,iCACeJ,wCAIjB,OClSwZ,MCQja,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAYhC,IAAkB,GAAW,CAACxsC,OAAA,KAAK6sC,cAAA,KAAWvsC,QAAA,KAAMC,YAAA,KAAUE,eAAA,OAAeyvC,SAAA,KAAM/lB,UAAA,KAAOC,eAAA,OC/B1F,IAAI,GAAS,WAAa,IAAIhuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,4BAA4B,CAACA,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,eAAe,MAAuB,QAAfP,EAAIk3C,OAAmB,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIm3C,cAAc,CAACn3C,EAAIc,GAAG,SAASV,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,iBAAiB,MAAuB,UAAfP,EAAIk3C,OAAqB,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIo3C,gBAAgB,CAACp3C,EAAIc,GAAG,iBAAiBV,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,kBAAkB,MAAuB,WAAfP,EAAIk3C,OAAsB,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIq3C,iBAAiB,CAACr3C,EAAIc,GAAG,iBAAiBV,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,wBAAwB,MAAuB,iBAAfP,EAAIk3C,OAA4B,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIs3C,uBAAuB,CAACt3C,EAAIc,GAAG,kBAAkBV,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,iBAAiB,MAAuB,UAAfP,EAAIk3C,OAAqB,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIu3C,gBAAgB,CAACv3C,EAAIc,GAAG,WAAWV,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,sBAAsB,MAAuB,eAAfP,EAAIk3C,OAA0B,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIw3C,qBAAqB,CAACx3C,EAAIc,GAAG,8BAA8B,IAAI,IAAI,GAAGV,EAAG,SAAS,CAACG,MAAM,CAAC,GAAK,mBAAmB,CAACH,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIy3C,aAAaz3C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,cAAcV,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI03C,aAAa13C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,UAAUV,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI23C,aAAa33C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,YAAYV,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,UAAU,MAAQ,IAAIK,GAAG,CAAC,MAAQZ,EAAI43C,YAAY,CAAC53C,EAAIc,GAAG,eAAgBd,EAAIsQ,MAAMtQ,EAAI8H,WAAW0B,SAAc,MAAEpJ,EAAG,QAAQ,CAACG,MAAM,CAAC,QAAU,GAAG,IAAMP,EAAIsQ,MAAMtQ,EAAI8H,WAAW0B,SAASquC,SAAS73C,EAAIqG,KAAKrG,EAAI0B,GAAI1B,EAAIsQ,MAAMtQ,EAAI8H,YAAY,SAASjJ,EAAMT,GAAM,OAAOgC,EAAG,cAAc,CAACjB,IAAIN,EAAMyK,GAAG/I,MAAM,CAAC,GAAK,iBAAiB,CAACH,EAAG,sBAAsB,CAACA,EAAG,uBAAuB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGhD,MAA2B,kBAAVS,EAAoBmB,EAAI0B,GAAG,GAAQ,SAASqE,EAAE1G,GAAG,OAAOe,EAAG,SAAS,CAACjB,IAAIE,EAAEkB,MAAM,CAAC,GAAK,iBAAiB,CAACP,EAAIc,GAAG,IAAId,EAAIoB,GAAG/B,GAAG,KAAKW,EAAIoB,GAAG2E,GAAG,UAAS,CAAC/F,EAAIc,GAAGd,EAAIoB,GAAGvC,MAAU,IAAI,MAAKuB,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIy3C,aAAaz3C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,cAAcV,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI03C,aAAa13C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,UAAUV,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI23C,aAAa33C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,YAAYV,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,UAAU,MAAQ,IAAIK,GAAG,CAAC,MAAQZ,EAAI43C,YAAY,CAAC53C,EAAIc,GAAG,gBAAgB,IAAI,IAC1oG,GAAkB,GCmIP,UAAIkC,OAAO,CACxB5E,KAAM,eACN,OACE,MAAO,CACLmG,MAAO,GACPuzC,OAAQ,GACRC,UAAW,GACXC,YAAY,EACZC,kBAAkB,EAClBC,eAAe,EACfC,cAAe,EACfC,aAAc,EACdlB,OAAQ,QAGZ,UACEj3C,KAAKoB,OAAOO,SAAS,eAAgB3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,IACvErJ,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,SAE9CvvB,SAAU,CACR,YACE,IAAI7f,EAA8B,GAElC7H,KAAKoB,OAAOyE,QAAQyI,kBAAkBnG,QAASkB,IAC7C,MAAMhN,EAAIiN,GAAaD,GACjB6J,EAAQ,eACZ7J,MACGhN,GAELwL,EAAUhL,KAAKqW,KAIjB,MAAM,MAAE9H,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAE/B,GAAoB,QAAhBjY,KAAKi3C,OAAkB,CACzB,IAAI5gC,EAAY,GAChB,GAAoB,UAAhBrW,KAAKi3C,OACP,GAAI7rC,EACF,IAAK,MAAM/B,KAAM+B,EAAMvD,UACrBwO,EAAUxZ,KAAKgL,EAAUgvC,KAAMl+B,GAAMA,EAAEtP,KAAOA,SAEhDrJ,KAAKm4C,cAAgB,EACrBpC,MAAM,qBAEH,GAAoB,WAAhB/1C,KAAKi3C,OACd,GAAI9mC,EACF,IAAK,MAAM9G,KAAM8G,EAAOtI,UACtBwO,EAAUxZ,KAAKgL,EAAUgvC,KAAMl+B,GAAMA,EAAEtP,KAAOA,SAEhDrJ,KAAKm4C,cAAgB,EACrBpC,MAAM,mCAEH,GAAI3qC,GAAS+E,GAClB,GAAoB,iBAAhBnQ,KAAKi3C,OACP,IAAK,MAAM5tC,KAAM+B,EAAMvD,UACjBsI,EAAOtI,UAAUme,IAAI3c,IAEvBgN,EAAUxZ,KAAKgL,EAAUgvC,KAAMl+B,GAAMA,EAAEtP,KAAOA,SAG7C,GAAoB,UAAhBrJ,KAAKi3C,OAAoB,CAClC,IAAK,MAAM5tC,KAAM+B,EAAMvD,UACrBwO,EAAUxZ,KAAKgL,EAAUgvC,KAAMl+B,GAAMA,EAAEtP,KAAOA,IAChD,IAAK,MAAMA,KAAM8G,EAAOtI,UACjBuD,EAAMvD,UAAUme,IAAI3c,IACvBgN,EAAUxZ,KAAKgL,EAAUgvC,KAAMl+B,GAAMA,EAAEtP,KAAOA,SAC7C,GAAoB,eAAhBrJ,KAAKi3C,OACd,IAAK,MAAM/jC,KAAYrL,EAElBuD,EAAMvD,UAAUme,IAAI9S,EAAS7J,KAC7B8G,EAAOtI,UAAUme,IAAI9S,EAAS7J,KAE/BgN,EAAUxZ,KAAKqW,QAIrBlT,KAAKm4C,cAAgB,EACrBpC,MAAM,yDAER,OAAO1/B,EAET,OAAOxO,GAGT,aAIE,OAAO7H,KAAKoB,OAAOC,MAAM8J,oBAG7B6e,MAAO,CACL,eACEhqB,KAAKoB,OAAOO,SACV,eACA3B,KAAKm4C,aAAe,EAAI,KAAOn4C,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGrE,aACErJ,KAAKoB,OAAOO,SACV,eACA3B,KAAKm4C,aAAe,EAAI,KAAOn4C,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGrE,UACElG,QAAQC,IAAI,kBAGhBF,QAAS,CAaP,MAAM2E,GAEJ,OAAOA,EAAU7H,KAAKm4C,eAExB,gBAAgBr9B,GACd,MAAM+a,EAAQ,EAEd,GADA1yB,QAAQC,IAAI0X,GACTA,EAAI,CACL,MAAM88B,EAAQ,IAAIQ,MAGlB,OAFAR,EAAMS,IAAMv9B,EACZ3X,QAAQC,IAAIw0C,EAAM5hC,MAAO4hC,EAAM/+B,QACxB,CAAC++B,EAAM5hC,MAAM6f,EAAO+hB,EAAM/+B,OAAOgd,GAGxC,MAAO,CAACyiB,IAASA,MAOrB,aAAazwC,GACP7H,KAAKm4C,aAAe,EAAGn4C,KAAKm4C,eAC3Bn4C,KAAKm4C,aAAetwC,EAAUtL,OAAS,GAE9C,aAAasL,GACP7H,KAAKm4C,aAAetwC,EAAUtL,OAAS,EAAGyD,KAAKm4C,eAC9Cn4C,KAAKm4C,aAAe,GAE3B,aAAatwC,GACX7H,KAAKm4C,aAAe1uC,KAAKuU,MAAMvU,KAAKwU,SAAWpW,EAAUtL,SAM3D,cACEyD,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,MACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,gBACErJ,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,QACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,iBACErJ,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,SACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,uBACErJ,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,eACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,gBACErJ,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,QACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,qBACErJ,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,aACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,YACErJ,KAAKoB,OAAOO,SAAS,sBCzV6Y,M,yBCQpa,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAahC,IAAkB,GAAW,CAACgC,OAAA,KAAKsB,kBAAA,KAAgBC,yBAAA,KAAuB2oB,oBAAA,KAAiB0qB,QAAA,KAAKt0C,QAAA,KAAMC,YAAA,KAAUC,iBAAA,OAAiBq0C,kBAAA,SChCjI,IAAI,GAAS,WAAa,IAAIz4C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAASJ,EAAI0B,GAAI1B,EAAIqB,OAAOC,MAAMsE,MAAS,KAAE,SAASjE,GAAM,OAAOvB,EAAG,cAAc,CAACjB,IAAIwC,GAAM,CAACvB,EAAG,mBAAmB,CAACA,EAAG,SAAS,CAACQ,GAAG,CAAC,MAAQ,WAAc,OAAOZ,EAAIqB,OAAOO,SAAS,WAAYD,MAAW,CAAC3B,EAAIc,GAAG,cAAc,GAAGV,EAAG,oBAAoB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGO,OAAU,MAAK,IAAI,IAC3Y,GAAkB,GCoBP,UAAIqB,OAAO,CACxB5E,KAAM,aCtB2Z,M,aCO/Z,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAShC,IAAkB,GAAW,CAACwG,QAAA,KAAMV,QAAA,KAAMC,YAAA,KAAUu0C,iBAAA,KAAcr0C,eAAA,SC3BlE,IAAI,GAAS,WAAa,IAAIrE,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACG,MAAM,CAAC,SAAW,IAAIQ,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,WAAWf,EAAG,QAAQ,CAACJ,EAAIc,GAAG,uBAAuBV,EAAG,cAAc,CAACG,MAAM,CAAC,kBAAkB,4BAA4B,YAAc,kBAAkB,MAAQ,OAAO,WAAW,OAAO,QAAUP,EAAIkuB,QAAQ,UAAW,EAAK,UAAW,GAAMttB,GAAG,CAAC,IAAMZ,EAAI24C,QAAQ53C,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAInB,MAAMoC,GAAKE,WAAW,WAAWf,EAAG,MAAM,CAACO,IAAI,SAAS,IAC9mB,GAAkB,G,wBCmBtB,OAAIgD,UAAU,cAAe,MASd,cAAIX,OAAO,CACxB5E,KAAM,iBACN,OACE,MAAMw6C,EAAc,CAClB3wC,KAAM,GACNV,WAAY,GACZ1I,MAAO,GAEH4S,EAA8B,CAClClK,WAAY,GACZmW,UAAW,IAEb,MAAO,CACLk7B,cACAlnB,eAAgB,GAChBntB,MAAO,GACPmZ,UAAW,EACX7e,MAAO,GACP4S,8BACAyc,QAAQ,KAGZvG,SAAU,CACR,cACE,OAAO1nB,KAAKoB,OAAOC,MAAMuP,aAE3B,0BACE,OAAO5Q,KAAKoB,OAAOC,MAAM2Q,yBAE3B,mBACE,OAAOhS,KAAKoB,OAAOyE,QAAQ+yC,kBAE7B,2BACE,OAAO54C,KAAKoB,OAAOyE,QAAQuM,qCAE7B,4BACE,IAAIb,EAA4BvR,KAAKoB,OAAOC,MAAMkQ,0BAIlD,OAHkC,OAA9BA,IACFA,EAA4B,IAEvBA,GAET,0BACE,OAAOvR,KAAKoB,OAAOyE,QAAQkM,yBAE7B,cACE,OAAO/R,KAAKoB,OAAOyE,QAAQhE,aAE7B,YACE,MAAO,IAAI7B,KAAKoB,OAAOyE,QAAQyI,oBAEjC,SACE,MAAMiuB,EAASzyB,GAAA,OACVC,OAAO,CAAC,EAAG,MACX8f,MAAM,CAAC,GAAI,MACX2S,OAAM,GACX,OAAOD,GAET,eACE,OAAOv8B,KAAKoB,OAAOC,MAAMoP,eAG7BuZ,MAAO,CACL,eACE,MAAMnoB,EAAc7B,KAAK+R,wBAAwB3I,IAAKnL,GAAIA,EAAEqJ,YAC5DzF,EAAYsG,QAASlK,IACfzB,OAAO+F,KAAKvC,KAAKgS,yBAAyB7L,SAASlI,IACjD+B,KAAKgS,wBAAwB/T,GAAK,KAAO,IAC3CuF,WAAW,KACTxD,KAAK24C,YAAa,CAAE3wC,KAAK,OAAQV,WAAWrJ,EAAGW,MAAyC,EAAlCoB,KAAKgS,wBAAwB/T,KAClF,QAKX,cACE,MAAM4D,EAAc7B,KAAK+R,wBAAwB3I,IAAKnL,GAAIA,EAAEqJ,YAC5DzF,EAAYsG,QAASlK,IACfzB,OAAO+F,KAAKvC,KAAKgS,yBAAyB7L,SAASlI,IACjD+B,KAAKgS,wBAAwB/T,GAAK,KAAO,IAC3CuF,WAAW,KACTxD,KAAK24C,YAAa,CAAE3wC,KAAK,OAAQV,WAAWrJ,EAAGW,MAAyC,EAAlCoB,KAAKgS,wBAAwB/T,KAClF,QAMX,2BACE+B,KAAK64C,yBAEP,cACE74C,KAAK84C,oBAEP,cACuC,cAAjC94C,KAAKoB,OAAOC,MAAMuF,aACpB5G,KAAKiqB,eAGT,8BACEjqB,KAAKpB,MAAM/B,KAAK,CAACsB,KAAK,OAAO6B,KAAKwR,4BAA4BlK,WAAa,IAAImQ,WAAWzX,KAAKwR,4BAA4BiM,WAAWpF,QAAQ,KAC9IrY,KAAKiuB,QAAQpxB,KAAK,CAACsB,KAAK,OAAO6B,KAAKwR,4BAA4BlK,WAAa,IAAImQ,WAAWzX,KAAKwR,4BAA4BiM,WAAWpF,QAAQ,KAChJrY,KAAKoB,OAAOO,SAAS,qCAAsC3B,KAAKwR,8BAElE,QACExR,KAAKoB,OAAOO,SAAS,mCAAoC3B,KAAKpB,SAGlE,UACEoB,KAAKiqB,eAGP/mB,QAAS,CACP,OAAQ61C,GACN,MAAMzyC,EAAM,CACVnI,KAAM46C,GAER/4C,KAAKiuB,QAAQpxB,KAAKyJ,GAClBtG,KAAKpB,MAAM/B,KAAKyJ,IAElB,wBACE,MAAMgB,EAAatH,KAAKg5C,yBAAyB1xC,WAC3C1I,EAAQoB,KAAKg5C,yBAAyB7mC,iBAC5CnS,KAAK24C,YAAa,CAAE3wC,KAAK,OAAQV,WAAWA,EAAY1I,MAAe,EAARA,IAEjE,mBACE,MAAM0I,EAAatH,KAAK24C,YAAYrxC,WAC9B1I,EAAQoB,KAAK24C,YAAY/5C,MACzBq6C,EAAYj5C,KAAKyxB,eAAenqB,GAChCyN,GAAQnW,EAAM,KAAKyZ,QAAQ,IAAM4gC,EAAY,EAAI,EAEvD,IAAI1hC,EAAM,GACV,IAAI,IAAItZ,KAAK+B,KAAKyxB,eAChBla,EAAItZ,GAAK+B,KAAKyxB,eAAexzB,GAG/B,MAAMksB,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B0C,EAAQM,EAAMK,OAAO,gBAAgBljB,GACrC4xC,EAAa/uB,EAAMK,OAAO,gBAAgBljB,GAChD,IAAI6xC,EAAWv6C,EAAQ,IACvB2Y,EAAIjQ,GAAc6xC,EAAW,EAAI,EACdA,EAAW,EAAI,EAAIA,EAAS9gC,QAAQ,GAEvDrY,KAAKyxB,eAAiBla,EAGtBsS,EAAMxQ,KAAK,YAAa,aAAerZ,KAAKu8B,OAAO39B,GAAS,SAC5Ds6C,EAAWn0C,KAAM7G,GAAWoJ,EAAW,KAAKtH,KAAKyxB,eAAenqB,IAEhE,IAAIgoB,EAAoB,CAAC,WAAahoB,EAAY,iBAAsD,IAAlCtH,KAAKyxB,eAAenqB,IAC9E,GAARyN,GACF/U,KAAKoB,OAAOO,SAAS,6BAA6B2tB,IAGtD,cACExlB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAS,QACdA,KAAK,UAAW,kCAEb,IAAIrZ,KAAK+R,wBAAwBxV,OAAO,KAC3C6c,OAAO,KACLC,KAAK,YAAa,mBAEjBrH,EAA0BhS,KAAKgS,wBAC/BnQ,EAAc7B,KAAK+R,wBAAwB3I,IAAKnL,GAAIA,EAAEqJ,YAEb,GAA3C9K,OAAO+F,KAAKvC,KAAKyxB,gBAAgBl1B,QACnCsF,EAAYsG,QAASlK,IACnB+B,KAAKyxB,eAAexzB,GAAK,KAI7BkpB,EAAI/N,OAAO,QACVC,KAAK,QAAQ,QACXA,KAAK,QAAQ,KACbA,KAAK,SAAS,IAAIrZ,KAAK+R,wBAAwBxV,QAC/C8c,KAAK,IAAI,GACTA,KAAK,IAAI,IACTA,KAAK,OAAO,SACZA,KAAK,SAAS,aACdA,KAAK,eAAe,OAEvB,MAAMkjB,EAAUv8B,KAAKu8B,OAEfnH,EAAgBjO,EAAI/N,OAAO,KAAKiR,UAAU,KACzCtuB,KAAK8F,GACLwuB,QAAQjX,OAAO,KACbC,KAAK,aAAa,SAASnb,EAAE7B,GAC5B,MAAO,eAAsB,IAAJA,EAAU,OAE9B+4B,EAAahc,OAAO,QAC9BC,KAAK,YAAe,oBACpBA,KAAK,QAASnb,GAAI,eAAeA,GACjC6G,KAAM7G,GAAWA,EAAE,SACnBmb,KAAK,IAAI,GACTA,KAAK,YAAY,QACjBA,KAAK,OAAO,QAGD+b,EAAahc,OAAO,QAC/BC,KAAK,YAAe,oBACpBA,KAAK,QAAQ,gBACbrT,MAAM,SAAU,aAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAM,GACXA,KAAK,KAAM,KACXA,KAAK,KAAM,GACXA,KAAK,KAAM,GACXA,KAAK,aAAcnb,GAAYA,GAAG2D,EAAYA,EAAYtF,OAAO,GAAG,SAAS,WAGnE64B,EAAahc,OAAO,QAC9BC,KAAK,YAAe,mBACpBA,KAAK,QAAS,SACdrT,MAAM,SAAU,QAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAM,IACXA,KAAK,KAAM,KACXA,KAAK,KAAM,GACXA,KAAK,KAAM,GA/Bd,IAiCI+/B,EAAOhkB,EAAahc,OAAO,QAC5BC,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,KAAK,GACVA,KAAK,OAAQ,aACbA,KAAK,SAAU,QACfA,KAAK,QAASnb,GAAW,eAAeA,GACxCmb,KAAK,aAAa,SAASnb,GAC1B,MAAO,aAAaq+B,EAAO,KAAK,UAEjC5/B,KAAKmN,GAAA,OACHnJ,GAAG,mBAAmB,WACrBy4C,EAAKhW,eAENziC,GAAG,aACHzC,GAAW8B,KAAK24C,YAAa,CAAE3wC,KAAK,OAAQV,WAAWpJ,EAAGU,MAAO29B,EAAO+G,OAAOx5B,GAAA,KAAS6O,MAI7Eyc,EAAahc,OAAO,QACjCC,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,YAAe,qBAClBA,KAAK,QAASnb,GAAW,iBAAiBA,GAC1Cmb,KAAK,OAAO,aAEH+b,EAAahc,OAAO,QAC/BC,KAAK,YAAe,sBAClBA,KAAK,QAASnb,GAAW,WAAWA,GACpC6G,KAAK,OACLsU,KAAK,YAAY,QACjBA,KAAK,OAAO,QACZ1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,YAAY5L,GAAGmb,KAAK,OAAO,SACrCvP,GAAA,KAAU,kBAAkB5L,GAAGmb,KAAK,OAAO,UAE5C1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,YAAY5L,GAAGmb,KAAK,OAAO,QACrCvP,GAAA,KAAU,kBAAkB5L,GAAGmb,KAAK,OAAO,eAE5C1Y,GAAG,QAAUzC,GAAc8B,KAAKwR,4BAA6B,CAAElK,WAAWpJ,EAAGuf,UAAWzd,KAAKyxB,eAAevzB,KAGjH2D,EAAYsG,QAASlK,IACfzB,OAAO+F,KAAKyP,GAAyB7L,SAASlI,IAC5C+T,EAAwB/T,GAAK,KAAO,IACtC+B,KAAK64C,8BC5Sua,MCOtb,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAAChrB,oBAAA,OCvB9B,IAAI,GAAS,WAAa,IAAI9tB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACG,MAAM,CAAC,SAAW,IAAIQ,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,QAAQ,CAACJ,EAAIc,GAAG,uBAAuBV,EAAG,cAAc,CAACG,MAAM,CAAC,kBAAkB,4BAA4B,MAAQ,OAAO,WAAW,OAAO,QAAUP,EAAIkuB,QAAQ,UAAW,EAAK,UAAW,GAAMttB,GAAG,CAAC,IAAMZ,EAAI24C,QAAQ53C,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAInB,MAAMoC,GAAKE,WAAW,YAAY,GAAGf,EAAG,MAAM,CAACO,IAAI,SAAS,IACllB,GAAkB,GC0BP,UAAIqC,OAAO,CACxB5E,KAAM,oBACN,OACE,MAAMw6C,EAAc,CAClB3wC,KAAM,GACNV,WAAY,GACZ1I,MAAO,GAEHoT,EAA0BhS,KAAKoB,OAAOC,MAAM2Q,wBAC5CqnC,EAA8B,CAClC/xC,WAAY,GACZkQ,WAAY,IACZG,YAAa,KAET2hC,EAAe98C,OAAO+F,KAAKvC,KAAKoB,OAAOC,MAAM2Q,yBAAyB5I,IAAKnL,IACxE,CAAC,KAAQA,EAAI,KAAQ+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,IAAQ,EAAI,EAAI+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,KAAMoa,QAAQ,GACxJ,KAAQrY,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,IAAQ,EAAI,EAAI+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,KAAMoa,QAAQ,GAAK,OAE7JzZ,EAAQpC,OAAO+F,KAAKvC,KAAKoB,OAAOC,MAAM2Q,yBAAyB5I,IAAKnL,IACjE,CAAC,KAAQA,EAAI,KAAQ+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,IAAQ,EAAI,EAAI+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,KAAMoa,QAAQ,GACxJ,KAAQrY,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,IAAQ,EAAI,EAAI+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,KAAMoa,QAAQ,GAAK,OAE7J4V,EAAUzxB,OAAO+F,KAAKvC,KAAKoB,OAAOC,MAAM2Q,yBAAyB5I,IAAKnL,IACnE,CAAC,KAAQA,EAAI,KAAQ+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,IAAQ,EAAI,EAAI+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,KAAMoa,QAAQ,GACxJ,KAAQrY,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,IAAQ,EAAI,EAAI+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAK,IAAM,KAAMoa,QAAQ,GAAK,OAEnK,MAAO,CACLrG,0BACA2mC,cACAlnB,eAAgB,GAChBntB,MAAO,GACPmZ,UAAW,EACX47B,8BACAz6C,QACAqvB,UACAqrB,eACAC,YAAa,KAGjB7xB,SAAU,CACR,oBACE,OAAO1nB,KAAKoB,OAAOC,MAAMsP,mBAE3B,iBACE,OAAO3Q,KAAKoB,OAAOC,MAAMyQ,gBAE3B,4BACE,OAAO9R,KAAKoB,OAAOC,MAAMoQ,2BAE3B,oBACE,OAAOzR,KAAKoB,OAAOC,MAAM4M,QAAQ3G,YAEnC,8BACE,OAAOtH,KAAKoB,OAAOC,MAAMmQ,6BAE3B,8BACE,OAAOxR,KAAKoB,OAAOyE,QAAQoM,6BAE7B,0BACE,OAAOjS,KAAKoB,OAAOyE,QAAQkM,yBAG7B,SACE,MAAMwqB,EAASzyB,GAAA,OACVC,OAAO,CAAC,EAAG,MACX8f,MAAM,CAAC,GAAI,MACX2S,OAAM,GACX,OAAOD,GAET,eACE,OAAOv8B,KAAKoB,OAAOC,MAAMoP,eAG7BuZ,MAAO,CACL,eACEhqB,KAAKw5C,wBACLx5C,KAAKy5C,gBAEP,iBACEz5C,KAAK05C,kBACL15C,KAAKy5C,gBAEP,oBACE,MAAME,EAAqB,IAAI35C,KAAK45C,kBAAkB3mC,KACtDjT,KAAKpB,MAAQ,GACboB,KAAKiuB,QAAU,GAEfjuB,KAAKs5C,aAAanxC,QAASlK,IACzB,IAAIC,EAAKD,EAAEE,KACPmJ,EAAapJ,EAAEwZ,MAAM,KAAK,GACzBiiC,EAAmBxzC,SAASmB,KAC/BtH,KAAKpB,MAAM/B,KAAKoB,GAChB+B,KAAKiuB,QAAQpxB,KAAKoB,MAGtB+B,KAAKu5C,YAAYpxC,QAASlK,IACxB,IAAIC,EAAKD,EAAEE,KACPmJ,EAAapJ,EAAEwZ,MAAM,KAAK,GACzBiiC,EAAmBxzC,SAASmB,KAC/BtH,KAAKpB,MAAM/B,KAAKoB,GAChB+B,KAAKiuB,QAAQpxB,KAAKoB,OAIxB,8BACE,MAAM07C,EAAqB,IAAI35C,KAAK45C,kBAAkB3mC,KACtD,IAAIwK,EAAYhG,WAAWzX,KAAKwR,4BAA4BiM,WACxDjG,GAAeiG,EAAY,IAAQ,EAAI,EAAGA,EAAY,KAAMpF,QAAQ,GACpEV,GAAgB8F,EAAY,IAAQ,EAAI,EAAIA,EAAY,KAAMpF,QAAQ,GAC1ErY,KAAKiuB,QAAU,GACfjuB,KAAKpB,MAAQ,GACboB,KAAKu5C,YAAY18C,KAAK,CAACsB,KAAM6B,KAAKwR,4BAA4BlK,WAAa,IAAMkQ,EAAa,IAAMG,EAAc,MAElH3X,KAAKs5C,aAAanxC,QAASlK,IACzB,IAAIC,EAAKD,EAAEE,KACPmJ,EAAapJ,EAAEwZ,MAAM,KAAK,GACzBiiC,EAAmBxzC,SAASmB,KAC/BtH,KAAKpB,MAAM/B,KAAKoB,GAChB+B,KAAKiuB,QAAQpxB,KAAKoB,MAGtB+B,KAAKu5C,YAAYpxC,QAASlK,IACxB,IAAIC,EAAKD,EAAEE,KACPmJ,EAAapJ,EAAEwZ,MAAM,KAAK,GACzBiiC,EAAmBxzC,SAASmB,KAC/BtH,KAAKpB,MAAM/B,KAAKoB,GAChB+B,KAAKiuB,QAAQpxB,KAAKoB,OAIxB,cACE+B,KAAK84C,mBACL94C,KAAKy5C,gBAEP,0BACEz5C,KAAKiqB,eAEP,8BACEjqB,KAAKiqB,cACLjqB,KAAKy5C,gBAEP,8BACE,MAAME,EAAqB,IAAI35C,KAAK45C,kBAAkB3mC,KACtDjT,KAAKiuB,QAAU,GACfjuB,KAAKpB,MAAQ,GACboB,KAAKu5C,YAAY18C,KAAK,CAACsB,KAAM6B,KAAKq5C,4BAA4B/xC,WAAa,IAAMtH,KAAKq5C,4BAA4B7hC,WAAa,IAAMxX,KAAKq5C,4BAA4B1hC,YAAc,MACpL3X,KAAKs5C,aAAanxC,QAASlK,IACzB,IAAIC,EAAKD,EAAEE,KACPmJ,EAAapJ,EAAEwZ,MAAM,KAAK,GACzBiiC,EAAmBxzC,SAASmB,KAC/BtH,KAAKpB,MAAM/B,KAAKoB,GAChB+B,KAAKiuB,QAAQpxB,KAAKoB,MAGtB+B,KAAKu5C,YAAYpxC,QAASlK,IACxB,IAAIC,EAAKD,EAAEE,KACPmJ,EAAapJ,EAAEwZ,MAAM,KAAK,GACzBiiC,EAAmBxzC,SAASmB,KAC/BtH,KAAKpB,MAAM/B,KAAKoB,GAChB+B,KAAKiuB,QAAQpxB,KAAKoB,OAIxB,QACE,IAAI47C,EAAa75C,KAAKyR,0BAA0BrI,KAAI,SAASnL,GAAG,OAAOA,EAAEE,QACrE27C,EAAa95C,KAAKpB,MAAMwK,KAAI,SAASnL,GAAG,OAAOA,EAAEE,QACjD47C,EAAiB,GACjBC,EAAmB,GAEvBH,EAAW1xC,QAASlK,IACb67C,EAAW3zC,SAASlI,IACvB87C,EAAel9C,KAAKoB,KAGxB+B,KAAKu5C,YAAYpxC,QAASlK,IACnB87C,EAAe5zC,SAASlI,EAAEE,OAC7B67C,EAAiBn9C,KAAKoB,KAG1B+B,KAAKu5C,YAAcS,EACnBh6C,KAAKoB,OAAOO,SAAS,mCAAoC3B,KAAKpB,SAGlE,UACGoB,KAAKiqB,cACFjqB,KAAKyQ,aAAe,IACtBzQ,KAAKw5C,wBACLx5C,KAAKy5C,iBAITv2C,QAAS,CACP,OAAQ61C,GACN,MAAMzyC,EAAM,CACVnI,KAAM46C,GAER/4C,KAAKiuB,QAAQpxB,KAAKyJ,GAClBtG,KAAKpB,MAAM/B,KAAKyJ,IAElB,eACE,MAAMqzC,EAAqB,IAAI35C,KAAK45C,kBAAkB3mC,KACtDjT,KAAKiuB,QAAW,GAChBjuB,KAAKpB,MAAQ,GAEboB,KAAKs5C,aAAe,GACpB,IAAK,IAAIp6C,KAAOc,KAAKyxB,eACnBzxB,KAAKs5C,aAAaz8C,KAAK,CAAC,KAAQqC,EAAO,IAAMc,KAAKyxB,eAAevyB,GAAKsY,WAAWa,QAAQ,GAAK,IAAMrY,KAAKyxB,eAAevyB,GAAKyY,YAAYU,QAAQ,GAAK,MAIxJrY,KAAKs5C,aAAanxC,QAASlK,IACzB,IAAIC,EAAKD,EAAEE,KACPmJ,EAAapJ,EAAEwZ,MAAM,KAAK,GACzBiiC,EAAmBxzC,SAASmB,KAC/BtH,KAAKpB,MAAM/B,KAAKoB,GAChB+B,KAAKiuB,QAAQpxB,KAAKoB,MAGtB+B,KAAKu5C,YAAYpxC,QAASlK,IACxB,IAAIC,EAAKD,EAAEE,KACPmJ,EAAapJ,EAAEwZ,MAAM,KAAK,GACzBiiC,EAAmBxzC,SAASmB,KAC/BtH,KAAKpB,MAAM/B,KAAKoB,GAChB+B,KAAKiuB,QAAQpxB,KAAKoB,OAIxB,wBACE,MAAM4D,EAAcrF,OAAO+F,KAAKvC,KAAKgS,yBAC/BmY,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACnC,IAAI5P,EAAM,GACV1V,EAAYsG,QAASlK,IACnBsZ,EAAItZ,GAAK,CACLE,KAAKF,EACLwf,UAAWjhB,OAAO+F,KAAMvC,KAAKgS,yBAAyB7L,SAASlI,GAAI+B,KAAKgS,wBAAwB/T,GAAK,EACrGuZ,WAAaxX,KAAK2Q,kBAAkB1S,GAAGuZ,WACvCG,YAAc3X,KAAK2Q,kBAAkB1S,GAAG0Z,aAE5CwS,EAAMK,OAAO,2BAA2BvsB,GAAGob,KAAK,YAAa,aAAerZ,KAAKu8B,OAA2B,IAApBhlB,EAAItZ,GAAGuZ,YAAoB,SACnH2S,EAAMK,OAAO,yBAAyBvsB,GAAGob,KAAK,YAAa,aAAerZ,KAAKu8B,OAA4B,IAArBhlB,EAAItZ,GAAG0Z,aAAqB,SAElHwS,EAAMK,OAAO,eAAevsB,GAAG8G,KAAM7G,GAAW,IAAKqZ,EAAItZ,GAAa,WAAG,KAAMsZ,EAAItZ,GAAc,YAAI,KAErG+B,KAAKoB,OAAOO,SAAS,6BAA6B1D,KAEpD+B,KAAKyxB,eAAiBla,EACtBvX,KAAKoB,OAAOO,SAAS,iCAAiC4V,IAExD,kBACE,MAAMjQ,EAAatH,KAAK8R,eAAexK,WACjC2yC,EAAwC,IAAjCj6C,KAAK8R,eAAe0F,WAC3B0iC,EAAuC,IAAlCl6C,KAAK8R,eAAe6F,YACzBwS,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B+xB,EAAa/uB,EAAMK,OAAO,eAAeljB,GAE/C,IAAIiQ,EAAM,GAEV,IAAI,IAAItZ,KAAK+B,KAAKyxB,eAChBla,EAAItZ,GAAK+B,KAAKyxB,eAAexzB,GAG/BsZ,EAAIjQ,GAAYkQ,WAAcxX,KAAK8R,eAAe0F,WAClDD,EAAIjQ,GAAYqQ,YAAe3X,KAAK8R,eAAe6F,YAEnD3X,KAAKyxB,eAAiBla,EAGtB4S,EAAMK,OAAO,2BAA2BljB,GAAY+R,KAAK,YAAa,aAAerZ,KAAKu8B,OAAO0d,GAAQ,SACzG9vB,EAAMK,OAAO,yBAAyBljB,GAAY+R,KAAK,YAAa,aAAerZ,KAAKu8B,OAAO2d,GAAM,SAErGhB,EAAWn0C,KAAM7G,GAAW,IAAK8B,KAAKyxB,eAAenqB,GAAsB,WAAE+Q,QAAQ,GAAI,KAAMrY,KAAKyxB,eAAenqB,GAAuB,YAAG+Q,QAAQ,GAAI,KACzJrY,KAAKoB,OAAOO,SAAS,iCAAiC4V,GACtDvX,KAAKoB,OAAOO,SAAS,6BAA6B2F,IAGpD,mBACE,MAAMU,EAAOhI,KAAK24C,YAAY3wC,KACxBV,EAAatH,KAAK24C,YAAYrxC,WAC9B1I,EAAQoB,KAAK24C,YAAY/5C,MAC/B,IAAI2Y,EAAM,GAEV,IAAI,IAAItZ,KAAK+B,KAAKyxB,eAChBla,EAAItZ,GAAK+B,KAAKyxB,eAAexzB,GAG/B,MAAMksB,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B0C,EAAQM,EAAMK,OAAO,uBAAuBxiB,EAAKV,GACjD4xC,EAAa/uB,EAAMK,OAAO,eAAeljB,GAE/C,GAAY,QAARU,EAAe,CACjB,IAAImxC,EAAWv6C,EAAQ,IACvB2Y,EAAIjQ,GAAYkQ,WAAa2hC,EAAW,EAAI,EAAIA,MAC3C,CACL,IAAIgB,EAASv7C,EAAO,IACpB2Y,EAAIjQ,GAAYqQ,YAAcwiC,EAAS,EAAI,EAAIA,EAGjDn6C,KAAKyxB,eAAiBla,EAEtBsS,EAAMxQ,KAAK,YAAa,aAAerZ,KAAKu8B,OAAO39B,GAAS,SAC5Ds6C,EAAWn0C,KAAM7G,GAAW,IAAK8B,KAAKyxB,eAAenqB,GAAsB,WAAE+Q,QAAQ,GAAI,KAAMrY,KAAKyxB,eAAenqB,GAAuB,YAAG+Q,QAAQ,GAAI,KACzJrY,KAAKoB,OAAOO,SAAS,iCAAiC4V,GACtDvX,KAAKoB,OAAOO,SAAS,6BAA6B2F,IAGpD,cACEwC,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAGzC,MAAM1pB,EAAcrF,OAAO+F,KAAKvC,KAAKgS,yBAE/BmV,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAS,QACdA,KAAK,UAAW,kCAEb,IAAIxX,EAAYtF,OAAO,KAC1B6c,OAAO,KACLC,KAAK,YAAa,mBAGvB8N,EAAI/N,OAAO,QACVC,KAAK,QAAQ,QACXA,KAAK,QAAQ,KACbA,KAAK,SAAS,IAAIxX,EAAYtF,QAC9B8c,KAAK,IAAI,GACTA,KAAK,IAAI,IACTA,KAAK,OAAO,SACZA,KAAK,SAAS,aACdA,KAAK,eAAe,OAEvB,IAAImqB,EAAQ/5B,KAAK0W,KAAK,GAElBsjB,EAAgB,CAClBC,KAAM,SAAUvsB,EAAS8E,GACvB,IAAItD,GAAKlP,KAAK0W,KAAKlE,GAAgB,EAARunB,IAC3BrsB,EAAQwsB,OAAY,GAAJhrB,EAAO,GACvBxB,EAAQysB,OAAOjrB,GAAI6qB,EAAQ7qB,GAC3BxB,EAAQysB,OAAOjrB,EAAG6qB,EAAQ7qB,GAC1BxB,EAAQ0sB,cAIRC,EAAe,CACjBJ,KAAM,SAAUvsB,EAAS8E,GACvB,IAAItD,GAAKlP,KAAK0W,KAAKlE,GAAgB,EAARunB,IAC3BrsB,EAAQwsB,OAAW,EAAJhrB,EAAO,GACtBxB,EAAQysB,QAAQjrB,GAAI6qB,EAAQ7qB,GAC5BxB,EAAQysB,QAAQjrB,EAAG6qB,EAAQ7qB,GAC3BxB,EAAQ0sB,cAIZ,IAAIE,EAAWj6B,GAAA,OAAY9B,KAAK87B,GAC7B7nB,KAAK,KACJ+nB,EAAYl6B,GAAA,OAAY9B,KAAKy7B,GAC9BxnB,KAAK,KAER,GAA+C,GAA3Czf,OAAO+F,KAAKvC,KAAKyxB,gBAAgBl1B,OAAa,CAChD,MAAMk1B,EAOF,GACJ5vB,EAAYsG,QAASlK,IACnBwzB,EAAexzB,GAAK,CAClBE,KAAKF,EACLwf,UAAWjhB,OAAO+F,KAAMvC,KAAKgS,yBAAyB7L,SAASlI,GAAI+B,KAAKgS,wBAAwB/T,GAAK,EACrGuZ,WAAchb,OAAO+F,KAAMvC,KAAKgS,yBAAyB7L,SAASlI,GAAQ+B,KAAKgS,wBAAwB/T,GAAK,IAAM,IAAO,EAAI,EAAI+B,KAAKgS,wBAAwB/T,GAAK,IAAM,IAAnG,EACtE0Z,YAAcnb,OAAO+F,KAAMvC,KAAKgS,yBAAyB7L,SAASlI,GAAQ+B,KAAKgS,wBAAwB/T,GAAK,IAAM,IAAO,EAAI,EAAI+B,KAAKgS,wBAAwB/T,GAAK,IAAM,IAAnG,KAG1E+B,KAAKyxB,eAAiBA,EACtBzxB,KAAKoB,OAAOO,SAAS,iCAAiC3B,KAAKyxB,gBAC3DzxB,KAAKoB,OAAOO,SAAS,6BAA6B,IAIpD,IAAK,IAAI1D,KAAK+B,KAAKyxB,eAAe,CAChC,IAAInqB,EAAYtH,KAAKyxB,eAAexzB,GAAGE,KACnCsf,EAAYzd,KAAKyxB,eAAexzB,GAAGwf,UAAU,IAC7CjG,EAAaxX,KAAKyxB,eAAexzB,GAAGuZ,WACpCG,EAAc3X,KAAKyxB,eAAexzB,GAAG0Z,YACzC,GAAI8F,GAAazd,KAAKgS,wBAAwB1K,GAAY,IACxD,SAEF,IAAI82B,EAAY3gB,EAAYjG,EACxB6mB,EAAa1mB,EAAc8F,SACxBzd,KAAKyxB,eAAexzB,GAC3B+B,KAAKyxB,eAAenqB,GAAc,CAChCnJ,KAAKmJ,EACLmW,UAAWzd,KAAKgS,wBAAwB1K,GACxCkQ,WAAcxX,KAAKgS,wBAAwB1K,GAAY,IAAM82B,EAAa,EAAI,EAAKp+B,KAAKgS,wBAAwB1K,GAAY,IAAM82B,EAClIzmB,YAAc3X,KAAKgS,wBAAwB1K,GAAc,IAAM+2B,EAAc,EAAI,EAAKr+B,KAAKgS,wBAAwB1K,GAAc,IAAM+2B,GAEzIr+B,KAAKoB,OAAOO,SAAS,iCAAiC3B,KAAKyxB,gBAC3DzxB,KAAKoB,OAAOO,SAAS,6BAA6B,IAGpD,MAAM8vB,EAAiBzxB,KAAKyxB,eACtB8K,EAAUv8B,KAAKu8B,OAEfnH,EAAgBjO,EAAI/N,OAAO,KAAKiR,UAAU,KACzCtuB,KAAK8F,GACLwuB,QAAQjX,OAAO,KACbC,KAAK,aAAa,SAASnb,EAAE7B,GAC5B,MAAO,eAAsB,IAAJA,EAAU,OAE9B+4B,EAAahc,OAAO,QAC9BC,KAAK,YAAe,oBACpBA,KAAK,QAASnb,GAAI,cAAcA,GAChC6G,KAAM7G,GAAWA,GACjBmb,KAAK,IAAI,GACTA,KAAK,YAAY,QACjBA,KAAK,OAAO,QAGD+b,EAAahc,OAAO,QAC/BC,KAAK,YAAe,oBACpBA,KAAK,QAAQ,gBACbrT,MAAM,SAAU,aAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAM,GACXA,KAAK,KAAM,KACXA,KAAK,KAAM,GACXA,KAAK,KAAM,GACXA,KAAK,aAAcnb,GAAYA,GAAG2D,EAAYA,EAAYtF,OAAO,GAAG,SAAS,WAGnE64B,EAAahc,OAAO,QAChCC,KAAK,YAAe,mBAClBA,KAAK,QAAS,SACdrT,MAAM,SAAU,QAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAM,IACXA,KAAK,KAAM,KACXA,KAAK,KAAM,GACXA,KAAK,KAAM,GA/Bd,IAiCI8pB,EAAQ/N,EAAahc,OAAO,QAC7BC,KAAK,IAAK0qB,GACV/9B,MAAM,OAAQ,OACdA,MAAM,SAAU,QAChBqT,KAAK,QAASnb,GAAW,0BAA0BA,GACnDmb,KAAK,aAAa,SAASnb,GAC1B,IAAI+lC,EAAqC,IAA/BxS,EAAevzB,GAAGsZ,WAC5B,MAAO,aAAa+kB,EAAO0H,GAAK,UAEjCtnC,KAAKmN,GAAA,OACHnJ,GAAG,mBAAmB,WACrBwiC,EAAMC,eAEPziC,GAAG,aACHzC,GAAW8B,KAAK24C,YAAa,CAAE3wC,KAAK,OAAQV,WAAWpJ,EAAGU,MAAO29B,EAAO+G,OAAOx5B,GAAA,KAAS6O,MAIzFurB,EAAQ9O,EAAahc,OAAO,QAC7BC,KAAK,IAAK2qB,GACVh+B,MAAM,OAAQ,SACdA,MAAM,SAAU,QAChBqT,KAAK,QAASnb,GAAW,wBAAwBA,GACjDmb,KAAK,aAAY,SAASnb,GACzB,IAAI+lC,EAAsC,IAAhCxS,EAAevzB,GAAGyZ,YAC5B,MAAO,aAAa4kB,EAAO0H,GAAK,UAEjCtnC,KAAKmN,GAAA,OACHnJ,GAAG,mBAAmB,WACrBujC,EAAMd,eAEPziC,GAAG,aACHzC,GAAW8B,KAAK24C,YAAa,CAAE3wC,KAAK,KAAMV,WAAWpJ,EAAGU,MAAO29B,EAAO+G,OAAOx5B,GAAA,KAAS6O,MAG3Eyc,EAAahc,OAAO,QACnCC,KAAK,YAAe,qBAClBA,KAAK,QAASnb,GAAW,cAAcA,GACvC6G,KAAM7G,GAAW,IAAK8B,KAAKyxB,eAAevzB,GAAa,WAAEma,QAAQ,GAAI,KAAMrY,KAAKyxB,eAAevzB,GAAc,YAAGma,QAAQ,GAAI,KAC5HgB,KAAK,YAAY,QACjBA,KAAK,OAAO,QAEC+b,EAAahc,OAAO,QACjCC,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,YAAe,qBAClBA,KAAK,QAASnb,GAAW,iBAAiBA,GAC1Cmb,KAAK,OAAO,aAEH+b,EAAahc,OAAO,QAC/BC,KAAK,YAAe,sBAClBA,KAAK,QAASnb,GAAW,qBAAqBA,GAC9C6G,KAAK,OACLsU,KAAK,YAAY,QACjBA,KAAK,OAAO,QACZ1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,sBAAsB5L,GAAGmb,KAAK,OAAO,SAC/CvP,GAAA,KAAU,kBAAkB5L,GAAGmb,KAAK,OAAO,UAE5C1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,sBAAsB5L,GAAGmb,KAAK,OAAO,QAC/CvP,GAAA,KAAU,kBAAkB5L,GAAGmb,KAAK,OAAO,eAE5C1Y,GAAG,QAAUzC,GAAc8B,KAAKq5C,4BAA6B,CAAE/xC,WAAWpJ,EAAGsZ,WAAYxX,KAAKyxB,eAAevzB,GAAGsZ,WAAWa,QAAQ,GAAIV,YAAa3X,KAAKyxB,eAAevzB,GAAGyZ,YAAYU,QAAQ,SCrhBkP,MCO1b,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACwV,oBAAA,OCvB9B,IAAI,GAAS,WAAa,IAAI9tB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,qBAAqB,CAACG,MAAM,CAAC,SAAW,IAAIQ,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,eAAe,CAACE,YAAY,cAAcC,MAAM,CAAC,QAAUP,EAAIuvC,QAAQ,MAAQvvC,EAAIq6C,aAAa,QAAUr6C,EAAIwvC,WAAW,eAAe,GAAG,MAAQ,IAAI5uC,GAAG,CAAC,iBAAiB,SAASoB,GAAQhC,EAAIwvC,WAAWxtC,IAASxB,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,OAAOuB,GAAG,SAASC,GAC3hB,IAAIqwC,EAAQrwC,EAAIqwC,MAChB,MAAO,CAAC5wC,EAAG,QAAQJ,EAAI0B,GAAG,GAAQ,SAASkb,GAAM,OAAOxc,EAAG,KAAK,CAACjB,IAAIyd,EAAKxe,KAAK6H,MAAOjG,EAAIyvC,cAAc7yB,IAAQ,CAACxc,EAAG,KAAK,CAACQ,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIs6C,mBAAmB,CAAEjkC,aAAc,QAAQC,UAAWsG,KAAS,YAAc,SAAS5a,GAAgC,OAAxBA,EAAO0rB,iBAAwB1tB,EAAIs6C,mBAAmB,CAAEjkC,aAAc,SAAUC,UAAWsG,OAAW,CAAC5c,EAAIc,GAAGd,EAAIoB,GAAGwb,EAAKxe,MAAM,OAAOgC,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGwb,EAAKV,SAAS9b,EAAG,KAAK,CAACQ,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIu6C,cAAc,CAAElkC,aAAc,QAAQC,UAAWsG,OAAW,CAACxc,EAAG,QAAQ,CAAC6F,MAAOjG,EAAIw6C,gBAAgB59B,GAAOrc,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,SAAS,CAACJ,EAAIc,GAAG,eAAe,IAAI,QAAO,WAAW,GAAGV,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACJ,EAAIc,GAAG,qBAAqBV,EAAG,6BAA6BA,EAAG,MAAM,CAACO,IAAI,gBAAgB,IAAI,IACzyB,GAAkB,GCyEP,UAAIqC,OAAO,CACxB5E,KAAM,iBAEN,OACE,MAAMw6C,EAAc,CAClB/5C,MAAO,KAEHoT,EAA0BhS,KAAKoB,OAAOC,MAAM2Q,wBAC5CwoC,EAAc,CAClBC,SAAU,IAEZ,MAAO,CACLnL,QAAS,CACP,CAAEvqC,KAAM,OAAQnG,MAAO,QACvB,CAAEmG,KAAM,OAAQnG,MAAO,QACvB,CAAEmG,KAAM,iBAAkBnG,MAAO,QAGnC2wC,WAAY,CACVK,YAAa,GAEf4K,cACAxoC,0BACA2mC,cACAlnB,eAAgB,GAChBntB,MAAO,GACPmZ,UAAW,IAGfiK,SAAU,CACR,eACE,OAAO1nB,KAAKoB,OAAOC,MAAM8P,YAE3B,oBAIE,OAAOnR,KAAKoB,OAAOC,MAAM8J,mBAE1B,oBAIC,OAAOnL,KAAKoB,OAAOC,MAAMgQ,mBAE3B,YACE,MAAO,IAAIrR,KAAKoB,OAAOyE,QAAQgC,YAEjC,8BACE,OAAO7H,KAAKoB,OAAOyE,QAAQoM,6BAE7B,0BACE,OAAOjS,KAAKoB,OAAOyE,QAAQkM,yBAG7B,SACE,MAAMwqB,EAASzyB,GAAA,OACVC,OAAO,CAAC,EAAG,MACX8f,MAAM,CAAC,GAAI,MACX2S,OAAM,GACX,OAAOD,IAGXvS,MAAO,CACL,cACE,IAAI1G,EAAMtjB,KAAKo6C,aAAa79C,OACxBsL,EAAY7H,KAAK6H,UACjB6yC,EAAwC,IAA5B16C,KAAKw6C,YAAYC,SAE7BE,EAAaC,EAAe,EAAE/yC,EAAUtL,OAAQm+C,EAAY,IAAM7yC,EAAUtL,QAC5Es+C,EAAa,GAEbvsC,EAA8B,IAAItO,KAAKoB,OAAOyE,QAAQgC,WAI1D,MAAM0B,EAAW,IAAIvJ,KAAKoB,OAAOyE,QAAQ0D,UACzC,GAAIA,EAASpD,SAAS,iBAAkB,CAEtC,MAAMke,EAAc,gBACpB/V,EAAoBA,EAAkB7C,OAAQpP,GACS,SAA1CiN,GAAajN,GAAGkN,SAAS8a,IACY,MAA1C/a,GAAajN,GAAGkN,SAAS8a,IAKnCxc,EAAUM,QAAS9L,IACZs+C,EAAWx0C,SAAS9J,IACvBw+C,EAAWh+C,KAAKR,KAGpB,IAAIy+C,EAAW,GAQf,SAASF,EAAelxC,EAAKE,EAAK63B,GAChC,IAAIsZ,EAAe,GACfC,EAAY,IAAIvoC,IAChBpW,EAAI,EACR,MAAQ2+C,EAAU/+B,KAAOwlB,EAAK,CAC5B,IAAIlqB,EAAM9N,KAAKuU,MAAMvU,KAAKwU,SAAWpW,EAAUtL,QAC/Cw+C,EAAal+C,KAAM0a,EAAIa,YACvB/b,GAAK,EACL2+C,EAAY,IAAIvoC,IAAIsoC,GAEtB,MAAO,IAAIC,GAjBbh7C,KAAKo6C,aAAajyC,QAASrC,IACzBg1C,EAASj+C,KAAKiJ,KAEhBg1C,EAASj+C,KAAK,CAACo+C,WAAW,SAAU5xC,GAAGia,EAAKnlB,KAAMmlB,kBAA2B,EAAYjL,QAAQ,GAAK,IAAM4D,KAAM0+B,EAAWp+C,OAAQsL,UAAW,IAAI4K,IAAIkoC,KACxJG,EAASj+C,KAAK,CAACo+C,WAAW,SAAS5xC,GAAGia,EAAM,EAAEnlB,KAAOmlB,EAAI,EAAL,kBAAkC,IAAIqL,SAAS,EAAYtW,QAAQ,KAAO,IAAK4D,KAAMpU,EAAUtL,OAAUo+C,EAAWp+C,OAAQsL,UAAW,IAAI4K,IAAIooC,KACnM76C,KAAKoB,OAAOO,SAAS,qBAAsBm5C,IAe7C,cACE96C,KAAK84C,oBAEP,0BACE94C,KAAKiqB,eAEP,8BACEjqB,KAAKiqB,gBAGT,UACEjqB,KAAKiqB,eAGP/mB,QAAS,CACP,cACEiT,GAKAhT,QAAQC,IAAI+S,GACZnW,KAAKoB,OAAOO,SAAS,4BAA4BwU,EAAQE,UAAUlY,MACnE6B,KAAKoB,OAAOO,SAAS,wBAAwBwU,IAE/C,mBACEA,GAKAnW,KAAKoB,OAAOO,SAAS,yBAA0BwU,GAC/C,MAAM3D,EAAc2D,EAAQE,UAAUlY,KAChC0J,EAAYsO,EAAQE,UAAUxO,UAC9BX,EAAaD,KACbsB,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAQ,IAEJotC,EAAc,CAClB1oC,cACA3K,YACAU,aAEFvI,KAAKoB,OAAOO,SAAS,4BAA6Bu5C,GAClDl7C,KAAKoB,OAAOO,SAAS,6BAA8BwU,EAAQC,eAG7D,gBAAgBuG,GACd,OAAIA,EAAKxe,MAAQ6B,KAAKoB,OAAOC,MAAM2P,oBAC1B,qCAIF,IAET,cAAcgmC,GACZ,MAAQ5rC,MAAO8kC,EAAY//B,OAAQggC,GAAgB,GAAOhlC,mBAClDC,MAAOglC,EAAgBjgC,OAAQkgC,GAAoBrwC,KAAKqR,kBAC1Di/B,EAAWF,GAAkBA,EAAe/mC,KAAO2tC,EAAO3tC,GAC1DknC,EAAYF,GAAmBA,EAAgBhnC,KAAO2tC,EAAO3tC,GAEnE,OAAIinC,GAAWC,EACN,wDACsCL,MAAeC,yCAI1DG,EACK,iCACeJ,eAGpBK,EACK,iCACeJ,wCAIjB,IAET,mBACE,MAAMvxC,EAAQoB,KAAK24C,YAAY/5C,MACzB87C,EAAY16C,KAAK24C,YAAY/5C,MAAQ,IAAM,IAE3CurB,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM83C,YAC7BtxB,EAAQM,EAAMK,OAAO,uBACrB0uB,EAAa/uB,EAAMK,OAAO,0BACdxqB,KAAK6H,UAEvBgiB,EAAMxQ,KAAK,IAAMrZ,KAAKu8B,OAAO39B,IAC7Bs6C,EAAWn0C,KAAK,eAAe21C,EAAUriC,QAAQ,GAAG,OAAQ,IAAIsW,SAAS+rB,EAAUriC,QAAQ,KAAO,OAIpG,cACE,MAAMkkB,EAAUv8B,KAAKu8B,OACrBzyB,GAAA,KAAU9J,KAAKqD,MAAM83C,YAAY9wB,UAAU,KAAKkB,SAEhD,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM83C,YAAY/hC,OAAO,OACjDC,KAAK,QAAS,QACdA,KAAK,UAAW,qCAGhBD,OAAO,KACLC,KAAK,YAAa,mBAGvB8N,EAAI/N,OAAO,QACVC,KAAK,QAAQ,gBACXA,KAAK,QAAQ,KACbA,KAAK,SAAS,IACdA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,OAAO,aACZA,KAAK,SAAS,aACdA,KAAK,eAAe,OAEvB8N,EAAI/N,OAAO,QACVC,KAAK,QAAQ,gBACXA,KAAK,QAAQ,KACbA,KAAK,SAAS,IACdA,KAAK,IAAI,KACTA,KAAK,IAAI,IACTA,KAAK,OAAO,aACZA,KAAK,SAAS,aACdA,KAAK,eAAe,OAIvB,IAAI+/B,EAAOjyB,EAAI/N,OAAO,QACnBC,KAAK,QAAQ,sBACbA,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,IAAI,KACTA,KAAK,IAAI,IACTA,KAAK,OAAO,aACZ1c,KAAKmN,GAAA,OACHnJ,GAAG,mBAAmB,WACrBy4C,EAAKhW,eAENziC,GAAG,aACHzC,GAAW8B,KAAK24C,YAAa,CAAE/5C,MAAO29B,EAAO+G,OAAOx5B,GAAA,KAAS6O,MAKjDwO,EAAI/N,OAAO,QACzBC,KAAK,QAAQ,qBACbA,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,IAAI,IACTA,KAAK,IAAI,IACTA,KAAK,KAAK,GACVA,KAAK,OAAO,aACZ1Y,GAAG,aAAezC,IACb4L,GAAA,KAAU,uBAAuBuP,KAAK,OAAO,SAC7CvP,GAAA,KAAU,sBAAsBuP,KAAK,OAAO,UAE7C1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,uBAAuBuP,KAAK,OAAO,QAC7CvP,GAAA,KAAU,sBAAsBuP,KAAK,OAAO,eAE7C1Y,GAAG,QAAUzC,GAAc8B,KAAKw6C,YAAa,CAAEC,SAAUz6C,KAAK24C,YAAY/5C,MAAQ,MAG1EuoB,EAAI/N,OAAO,QACvBC,KAAK,IAAI,IACTA,KAAK,IAAI,KACTA,KAAK,QAAQ,sBACbtU,KAAK,OACLiB,MAAM,cAAe,UACrBqT,KAAK,YAAY,QACjBA,KAAK,OAAO,QACZ1Y,GAAG,aAAezC,IACb4L,GAAA,KAAU,uBAAuBuP,KAAK,OAAO,SAC7CvP,GAAA,KAAU,sBAAsBuP,KAAK,OAAO,UAE7C1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,uBAAuBuP,KAAK,OAAO,QAC7CvP,GAAA,KAAU,sBAAsBuP,KAAK,OAAO,eAE7C1Y,GAAG,QAAUzC,GAAc8B,KAAKw6C,YAAa,CAAEC,SAAUz6C,KAAK24C,YAAY/5C,MAAQ,MAGpEuoB,EAAI/N,OAAO,QAC7BC,KAAK,IAAI,KACTA,KAAK,IAAI,KACTA,KAAK,QAAQ,yBACbtU,KAAK,yBACLiB,MAAM,cAAe,SACrBqT,KAAK,YAAY,QACjBA,KAAK,OAAO,iBC9Xsa,MCOvb,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAWhC,IAAkB,GAAW,CAAC1V,OAAA,KAAK6sC,cAAA,KAAWvrC,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,OC7B5H,IAAI,GAAS,WAAa,IAAI5E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,qBAAqB,CAACG,MAAM,CAAC,SAAW,IAAIQ,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACJ,EAAIc,GAAG,wBAAwBV,EAAG,MAAM,CAAC+B,YAAY,CAAC,cAAc,MAAM,YAAY,OAAO,OAAS,UAAU,eAAe,QAAQ,CAAC/B,EAAG,QAAQ,CAAC6wC,WAAW,CAAC,CAAC7yC,KAAK,QAAQ8yC,QAAQ,UAAUryC,MAAOmB,EAAe,YAAEmB,WAAW,gBAAgBZ,MAAM,CAAC,YAAc,WAAWsC,SAAS,CAAC,MAAS7C,EAAe,aAAGY,GAAG,CAAC,MAAQ,SAASoB,GAAWA,EAAOyF,OAAO0pC,YAAqBnxC,EAAIq7C,YAAYr5C,EAAOyF,OAAO5I,WAAUuB,EAAG,IAAI,CAACJ,EAAIc,GAAG,iBAAiBd,EAAIoB,GAAGpB,EAAIq7C,kBAAkBj7C,EAAG,MAAM,CAACO,IAAI,mBAAmB,IAAI,IAC9xB,GAAkB,GC2CP,UAAIqC,OAAO,CACxB5E,KAAM,oBACN,OACE,MAAMq8C,EAAc,CAClBC,SAAU,IAEZ,MAAO,CACLD,cAEAY,YAAa,EACb92C,MAAO,GACP6qC,aAAc,KAGlBznB,SAAU,CACR,QACE,OAAO1nB,KAAKoB,OAAOC,MAAM8P,YAE3B,oBAIE,OAAOnR,KAAKoB,OAAOC,MAAM8J,mBAE3B,YACE,MAAO,IAAInL,KAAKoB,OAAOyE,QAAQgC,YAEjC,8BACE,OAAO7H,KAAKoB,OAAOyE,QAAQoM,6BAE7B,0BACE,OAAOjS,KAAKoB,OAAOyE,QAAQkM,yBAG7B,SACE,MAAMwqB,EAASzyB,GAAA,OACVC,OAAO,CAAC,EAAG,MACX8f,MAAM,CAAC,GAAI,MACX2S,OAAM,GACX,OAAOD,IAGXvS,MAAO,CACL,cAEE,IAAI1G,EAAMtjB,KAAKpB,MAAMrC,OACjB6+C,EAAcp7C,KAAKo7C,YACnBC,EAAc,EAEd/sC,GADYtO,KAAK6H,UACa,IAAI7H,KAAKoB,OAAOyE,QAAQgC,YACtDyzC,EAAU,GAGd,MAAM/xC,EAAW,IAAIvJ,KAAKoB,OAAOyE,QAAQ0D,UACzC,GAAIA,EAASpD,SAAS,iBAAkB,CAEtC,MAAMke,EAAc,gBACpB/V,EAAoBA,EAAkB7C,OAAQpP,GACS,SAA1CiN,GAAajN,GAAGkN,SAAS8a,IACY,MAA1C/a,GAAajN,GAAGkN,SAAS8a,IAOnC,IAAIk3B,EAAa,EACjB,MAAOA,EAAaF,EAAa,CAC/B,IAAIG,EAAaZ,EAAe,EAAEtsC,EAAkB/R,OAAQ6+C,GAC5DI,EAAWrzC,QAASlK,IAClBq9C,EAAQz+C,KAAKyR,EAAkBrQ,MAEjCs9C,GAAc,EAGhB,IAAIT,EAAW,GAOf,SAASF,EAAelxC,EAAKE,EAAK63B,GAChC,IAAIsZ,EAAe,GACf1+C,EAAI,EACR,MAAQA,EAAIolC,EAAK,CACf,IAAIlqB,EAAM9N,KAAKuU,MAAMvU,KAAKwU,SAAW3P,EAAkB/R,QACvDw+C,EAAal+C,KAAK0a,EAAIa,YACtB/b,GAAK,EAEP,OAAO0+C,EAdT/6C,KAAKpB,MAAMuJ,QAASrC,IAClBg1C,EAASj+C,KAAKiJ,KAEhBg1C,EAASj+C,KAAK,CAACo+C,WAAW,YAAa5xC,GAAGia,EAAKnlB,KAAMmlB,EAAM,aAAcrH,KAAMq/B,EAAQ/+C,OAAQsL,UAAW,IAAI4K,IAAI6oC,KAClHt7C,KAAKoB,OAAOO,SAAS,qBAAsBm5C,IAa7C,0BACE96C,KAAKiqB,eAEP,8BACEjqB,KAAKiqB,gBAGT,UACEjqB,KAAKiqB,eAGP/mB,QAAS,CACP,mBACEiT,GAIAnW,KAAKoB,OAAOO,SAAS,wBAAyBwU,IAEhD,cAAc6gC,GACZ,MAAQ5rC,MAAO8kC,EAAY//B,OAAQggC,GAAgB,GAAOhlC,mBAClDC,MAAOglC,EAAgBjgC,OAAQkgC,GAAoBrwC,KAAKmL,kBAC1DmlC,EAAWF,GAAkBA,EAAe/mC,KAAO2tC,EAAO3tC,GAC1DknC,EAAYF,GAAmBA,EAAgBhnC,KAAO2tC,EAAO3tC,GAEnE,OAAIinC,GAAWC,EACN,wDACsCL,MAAeC,yCAI1DG,EACK,iCACeJ,eAGpBK,EACK,iCACeJ,wCAIjB,IAET,cACkBnwC,KAAKu8B,OACrBzyB,GAAA,KAAU9J,KAAKqD,MAAMo4C,eAAepxB,UAAU,KAAKkB,SAEnD,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAMo4C,eAAeriC,OAAO,OACpDC,KAAK,QAAS,QACdA,KAAK,UAAW,qCAGhBD,OAAO,KACLC,KAAK,YAAa,oBAIN8N,EAAI/N,OAAO,QACzBC,KAAK,QAAQ,wBACbA,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,IAAI,OACTA,KAAK,IAAI,GACTA,KAAK,KAAK,GACVA,KAAK,OAAO,aACZ1Y,GAAG,aAAezC,IACb4L,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,SAChDvP,GAAA,KAAU,yBAAyBuP,KAAK,OAAO,UAEhD1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,QAChDvP,GAAA,KAAU,yBAAyBuP,KAAK,OAAO,eAEhD1Y,GAAG,QAAUzC,GAAc8B,KAAKw6C,YAAa,CAAEC,SAAU,QAGjDtzB,EAAI/N,OAAO,QACvBC,KAAK,IAAI,OACTA,KAAK,IAAI,IACTA,KAAK,QAAQ,yBACbtU,KAAK,OACLiB,MAAM,cAAe,UACrBqT,KAAK,YAAY,QACjBA,KAAK,OAAO,QACZ1Y,GAAG,aAAezC,IACb4L,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,SAChDvP,GAAA,KAAU,yBAAyBuP,KAAK,OAAO,UAEhD1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,QAChDvP,GAAA,KAAU,yBAAyBuP,KAAK,OAAO,eAEhD1Y,GAAG,QAAUzC,GAAc8B,KAAKw6C,YAAa,CAAEC,SAAU,YCtOwX,MCO1b,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAACx1C,kBAAA,KAAgB2oB,yBAAA,KAAsBC,oBAAA,OCzBpE,IAAI,GAAS,WAAa,IAAI9tB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,qBAAqB,CAACG,MAAM,CAAC,SAAW,IAAIQ,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACJ,EAAIc,GAAG,yBAAyBV,EAAG,MAAM,CAAC+B,YAAY,CAAC,cAAc,MAAM,YAAY,OAAO,OAAS,UAAU,eAAe,QAAQ,CAAC/B,EAAG,QAAQ,CAAC6wC,WAAW,CAAC,CAAC7yC,KAAK,QAAQ8yC,QAAQ,UAAUryC,MAAOmB,EAAe,YAAEmB,WAAW,gBAAgBZ,MAAM,CAAC,YAAc,WAAWsC,SAAS,CAAC,MAAS7C,EAAe,aAAGY,GAAG,CAAC,MAAQ,SAASoB,GAAWA,EAAOyF,OAAO0pC,YAAqBnxC,EAAIq7C,YAAYr5C,EAAOyF,OAAO5I,WAAUuB,EAAG,IAAI,CAACJ,EAAIc,GAAG,0BAA0BV,EAAG,cAAc,CAACG,MAAM,CAAC,QAAUP,EAAIkuB,QAAQ,UAAW,EAAK,mBAAkB,EAAM,mBAAkB,EAAM,mBAAkB,EAAK,YAAc,YAAY,MAAQ,OAAO,WAAW,OAAO,mBAAkB,GAAM1tB,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,YAAYuB,GAAG,SAASC,GACp/B,IAAIqI,EAASrI,EAAIqI,OAEbmlB,GADSxtB,EAAIytB,OACJztB,EAAIwtB,QACjB,MAAO,CAAEnlB,EAAOxM,SAAW2xB,EAAQ/tB,EAAG,OAAO,CAACE,YAAY,uBAAuB,CAACN,EAAIc,GAAG,IAAId,EAAIoB,GAAG4H,EAAOxM,QAAQ,wBAAwBwD,EAAIqG,UAAUtF,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAInB,MAAMoC,GAAKE,WAAW,WAAWf,EAAG,MAAM,CAACO,IAAI,oBAAoB,IAAI,IAClR,GAAkB,GC+EP,UAAIqC,OAAO,CACxB5E,KAAM,qBAEN,OACE,MAAMq8C,EAAc,CAClBC,SAAU,IAEZ,MAAO,CACLD,cACAY,YAAa,EACb7L,WAAY,CACVK,YAAa,GAEfN,QAAS,CACP,CAAEvqC,KAAM,OAAQnG,MAAO,QACvB,CAAEmG,KAAM,SAAUnG,MAAO,WAG3BA,MAAO,GACP0F,MAAO,GACP6qC,aAAc,KAGlBznB,SAAU,CACR,gBACE,OAAO1nB,KAAKoB,OAAOC,MAAM8P,YAE3B,gBACuBnR,KAAKoB,OAAOyE,QAAQ0D,SAAzC,MACMmyC,EAAuB,IAAI17C,KAAKoB,OAAOyE,QAAQ0D,UAAUkC,OAAQO,GACtB,gBAAxChM,KAAKoB,OAAOyE,QAAQ4B,QAAQuE,GAAGhE,MAExC,IAAI2zC,EAAe,GAUnB,OALAD,EAAoBvzC,QAASlK,IACzB+B,KAAKoB,OAAOyE,QAAQ4B,QAAQxJ,GAAGiK,WAAWC,QAAS9L,IACjDs/C,EAAa19C,EAAE,IAAI5B,GAAK,MAGvBs/C,GAET,oBAIE,OAAO37C,KAAKoB,OAAOC,MAAM8J,mBAE3B,YACE,MAAO,IAAInL,KAAKoB,OAAOyE,QAAQgC,YAEjC,YACE,MAAO,IAAI7H,KAAKoB,OAAOyE,QAAQ+M,UAEjC,UACE,IAAIqb,EAAU,GACOjuB,KAAKoB,OAAOyE,QAAQ0D,SAAzC,MACMmyC,EAAuB,IAAI17C,KAAKoB,OAAOyE,QAAQ0D,UAAUkC,OAAQO,GACtB,gBAAxChM,KAAKoB,OAAOyE,QAAQ4B,QAAQuE,GAAGhE,MAYxC,OALA0zC,EAAoBvzC,QAAS6D,IAC3BiiB,EAAQpxB,KAAK,CAACsB,KAAK6N,MAErBiiB,EAAQpxB,KAAK,CAACsB,KAAK,iBAEZ8vB,IAGXjE,MAAO,CAEL,cA0DE,IAAI4xB,EAAc57C,KAAKpB,MAAMrC,OAAS,EAAGyD,KAAKpB,MAAM,GAAGT,KAAM,GACzDmlB,EAAMtjB,KAAK67C,cAAct/C,OACzBsL,EAAY7H,KAAK6H,UAE3B1E,QAAQC,IAAIpD,KAAK87C,WACX,IAAIC,EAAY,GACG,gBAAfH,GACF57C,KAAKoB,OAAOyE,QAAQ4B,QAAQm0C,GAAa1zC,WAAWC,QAASlK,IAC3D89C,EAAU99C,GAAK,KAEjB4J,EAAUM,QAASkB,IACf,MAAMjB,EAAWkB,GAAaD,GAAIE,SAASqyC,GAC3CG,EAAU3zC,GAAUvL,KAAKwM,OAG7BrJ,KAAK87C,UAAU3zC,QAASlK,IACtB89C,EAAU99C,GAAK,KAEjB4J,EAAUM,QAASkB,IACf,MAAMjB,EAAWkB,GAAaD,GAAIqE,OAClCquC,EAAU3zC,GAAUvL,KAAKwM,MAI/BlG,QAAQC,IAAI,YAAY24C,GACxB,IAAIC,EAAqB,GACrBZ,EAAcp7C,KAAKo7C,YACvB,IAAK,IAAIa,KAAQF,EAAW,CAC1B54C,QAAQC,IAAIg4C,EAAcW,EAAUE,GAAM1/C,OAASsL,EAAUtL,QAC7D,IAAI2/C,EAAkBzyC,KAAKuU,MAAMo9B,EAAcW,EAAUE,GAAM1/C,OAASsL,EAAUtL,QAC9E4/C,EAAcvB,EAAe,EAAE/yC,EAAUtL,OAAQ2/C,EAAiBH,EAAUE,IAChFE,EAAYh0C,QAASlK,IACnB+9C,EAAmBn/C,KAAKoB,KAI5B,IAAI68C,EAAW,GAIf,SAASF,EAAelxC,EAAKE,EAAK63B,EAAK55B,GACrC,IAAIkzC,EAAe,GACfC,EAAY,IAAIvoC,IAChBpW,EAAI,EACR,MAAQ2+C,EAAU/+B,KAAOwlB,EAAK,CAC5B,IAAIlqB,EAAM9N,KAAKuU,MAAMvU,KAAKwU,SAAWpW,EAAUtL,QAC/Cw+C,EAAal+C,KAAK0a,EAAIa,YACtB4iC,EAAY,IAAIvoC,IAAIsoC,GACpB1+C,GAAK,EAEP,OAAO0+C,EAbTD,EAASj+C,KAAK,CAACo+C,WAAW,aAAa5xC,GAAGia,EAAKnlB,KAAMmlB,EAAM,cAAerH,KAAM+/B,EAAmBz/C,OAAQsL,UAAW,IAAI4K,IAAIupC,KAC9Hh8C,KAAKoB,OAAOO,SAAS,qBAAsBm5C,IAgB7C,0BACE96C,KAAKiqB,eAEP,8BACEjqB,KAAKiqB,gBAGT,UACEjqB,KAAKiqB,eAEP/mB,QAAS,CACP,UACEiT,GAIAhT,QAAQC,IAAI,YAAY+S,IAE1B,mBACEA,GAIAnW,KAAKoB,OAAOO,SAAS,wBAAyBwU,IAEhD,cAAc6gC,GACZ,MAAQ5rC,MAAO8kC,EAAY//B,OAAQggC,GAAgB,GAAOhlC,mBAClDC,MAAOglC,EAAgBjgC,OAAQkgC,GAAoBrwC,KAAKmL,kBAC1DmlC,EAAWF,GAAkBA,EAAe/mC,KAAO2tC,EAAO3tC,GAC1DknC,EAAYF,GAAmBA,EAAgBhnC,KAAO2tC,EAAO3tC,GAEnE,OAAIinC,GAAWC,EACN,wDACsCL,MAAeC,yCAI1DG,EACK,iCACeJ,eAGpBK,EACK,iCACeJ,wCAIjB,IAET,cACkBnwC,KAAKu8B,OACrBzyB,GAAA,KAAU9J,KAAKqD,MAAM+4C,gBAAgB/xB,UAAU,KAAKkB,SAEpD,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM+4C,gBAAgBhjC,OAAO,OACrDC,KAAK,QAAS,QACdA,KAAK,UAAW,qCAGhBD,OAAO,KACLC,KAAK,YAAa,oBAIN8N,EAAI/N,OAAO,QACzBC,KAAK,QAAQ,yBACbA,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,IAAI,OACTA,KAAK,IAAI,GACTA,KAAK,KAAK,GACVA,KAAK,OAAO,aACZ1Y,GAAG,aAAezC,IACb4L,GAAA,KAAU,2BAA2BuP,KAAK,OAAO,SACjDvP,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,UAEjD1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,2BAA2BuP,KAAK,OAAO,QACjDvP,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,eAEjD1Y,GAAG,QAAUzC,GAAc8B,KAAKw6C,YAAa,CAAEC,SAAU,QAGjDtzB,EAAI/N,OAAO,QACvBC,KAAK,IAAI,OACTA,KAAK,IAAI,IACTA,KAAK,QAAQ,0BACbtU,KAAK,OACLiB,MAAM,cAAe,UACrBqT,KAAK,YAAY,QACjBA,KAAK,OAAO,QACZ1Y,GAAG,aAAezC,IACb4L,GAAA,KAAU,2BAA2BuP,KAAK,OAAO,SACjDvP,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,UAEjD1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,2BAA2BuP,KAAK,OAAO,QACjDvP,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,eAEjD1Y,GAAG,QAAUzC,GAAc8B,KAAKw6C,YAAa,CAAEC,SAAU,YCpXyX,MCO3b,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAACx1C,kBAAA,KAAgB2oB,yBAAA,KAAsBC,oBAAA,OCzBpE,IAAI,GAAS,WAAa,IAAI9tB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,qBAAqB,CAACG,MAAM,CAAC,SAAW,IAAIQ,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,eAAe,CAACE,YAAY,cAAcC,MAAM,CAAC,QAAUP,EAAIuvC,QAAQ,MAAQvvC,EAAIs8C,iBAAiB,QAAUt8C,EAAIwvC,WAAW,eAAe,GAAG,MAAQ,IAAI5uC,GAAG,CAAC,iBAAiB,SAASoB,GAAQhC,EAAIwvC,WAAWxtC,IAASxB,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,OAAOuB,GAAG,SAASC,GACniB,IAAIqwC,EAAQrwC,EAAIqwC,MAChB,MAAO,CAAC5wC,EAAG,QAAQJ,EAAI0B,GAAG,GAAQ,SAASkb,GAAM,OAAOxc,EAAG,KAAK,CAACjB,IAAIyd,EAAKxe,KAAK6H,MAAOjG,EAAIyvC,cAAc7yB,IAAQ,CAACxc,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGwb,EAAKxe,MAAM,OAAOgC,EAAG,KAAK,CAACQ,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIu6C,cAAc,CAAElkC,aAAc,QAAQC,UAAWsG,OAAW,CAACxc,EAAG,QAAQ,CAAC6F,MAAOjG,EAAIw6C,gBAAgB59B,GAAOrc,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,SAAS,CAACJ,EAAIc,GAAG,eAAe,IAAI,GAAGV,EAAG,KAAK,CAACQ,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIyQ,WAAW,CAAC6F,UAAWsG,OAAW,CAACxc,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,MAAQ,WAAW,CAACH,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACP,EAAIc,GAAG,iBAAiB,IAAI,GAAGV,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGwb,EAAK2/B,YAAY,YAAW,UAAUn8C,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIu6C,cAAc,CAAElkC,aAAc,GAAGC,UAAW,QAAS,CAACtW,EAAIc,GAAG,cAAc,GAAGV,EAAG,oBAAoB,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,cAAc,MAAM,YAAY,OAAO,OAAS,UAAU,eAAe,QAAQ,CAAC/B,EAAG,QAAQ,CAAC6wC,WAAW,CAAC,CAAC7yC,KAAK,QAAQ8yC,QAAQ,UAAUryC,MAAOmB,EAAU,OAAEmB,WAAW,WAAWZ,MAAM,CAAC,YAAc,WAAWsC,SAAS,CAAC,MAAS7C,EAAU,QAAGY,GAAG,CAAC,MAAQ,SAASoB,GAAWA,EAAOyF,OAAO0pC,YAAqBnxC,EAAIw8C,OAAOx6C,EAAOyF,OAAO5I,WAAUuB,EAAG,IAAI,CAACJ,EAAIc,GAAG,2BAA2Bd,EAAIoB,GAAGpB,EAAIw8C,aAAap8C,EAAG,MAAM,CAACO,IAAI,sBAAsB,IACrvC,GAAkB,GCqFP,UAAIqC,OAAO,CACxB5E,KAAM,kBACN,OACE,MAAMq+C,EAAU,CACd/B,SAAU,IAEZ,MAAO,CACLnL,QAAS,CACP,CAAEvqC,KAAM,cAAenG,MAAO,QAC9B,CAAEmG,KAAM,UAAWnG,MAAO,OAC1B,CAAEmG,KAAM,cAAenG,MAAO,OAC9B,CAAEmG,KAAM,aAAcnG,MAAO,QAE/B2wC,WAAY,CACVK,YAAa,GAEf4M,UACAD,OAAQ,EACRj4C,MAAO,GACP6qC,aAAc,KAGlBznB,SAAU,CACR,4BACE,OAAO1nB,KAAKoB,OAAOC,MAAMoQ,2BAE3B,0BACE,OAAOzR,KAAKoB,OAAOC,MAAM2Q,yBAE3B,uBACE,GAA6C,GAAzChS,KAAKyR,0BAA0BlV,OAAa,CAC9C,MAAMqC,EAAQpC,OAAO+F,KAAKvC,KAAKgS,yBAAyB5I,IAAKnL,IAC3D,IAAIwf,EAAazd,KAAKgS,wBAAwB/T,GAAK,IACnD,MAAO,CAAC,KAAQA,EAAI,KAAOwf,EAAU,KAAMpF,QAAQ,GAAK,KAAOoF,EAAU,KAAMpF,QAAQ,GAAK,OAE9F,OAAOzZ,EAET,OAAOoB,KAAKyR,2BAEd,mBACE,OAAOzR,KAAKoB,OAAOC,MAAMiQ,gBAE3B,oBAIE,OAAOtR,KAAKoB,OAAOC,MAAM8J,mBAE3B,YACE,MAAO,IAAInL,KAAKoB,OAAOyE,QAAQgC,YAEjC,8BACE,OAAO7H,KAAKoB,OAAOyE,QAAQoM,6BAE7B,0BACE,OAAOjS,KAAKoB,OAAOyE,QAAQkM,yBAE7B,SACE,MAAMwqB,EAASzyB,GAAA,OACVC,OAAO,CAAC,EAAG,MACX8f,MAAM,CAAC,GAAI,MACX2S,OAAM,GACX,OAAOD,IAGXvS,MAAO,CACL,8BAGA,UACE,IAAIuyB,EAASv8C,KAAKu8C,OACdl9B,EAAQ,EACRo9B,EAAkB,GAClBC,EAAYjzC,KAAK45B,MAAMrjC,KAAK6H,UAAUtL,OAASggD,GACnD,MAAOl9B,EAAQk9B,EAAQ,CACrB,IAAII,EAAY,GACZC,EAAa,GACbC,EAAWx9B,EAAQq9B,EACnBI,GAAUz9B,EAAQ,GAAKq9B,EAC3B,MAAOG,EAAWC,GAAUD,EAAW78C,KAAK6H,UAAUtL,OACpDogD,EAAU9/C,KAAKmD,KAAK6H,UAAUg1C,IAC9BA,GAAY,EAEd78C,KAAK6H,UAAUM,QAAS9L,IACjBsgD,EAAUx2C,SAAS9J,IACtBugD,EAAW//C,KAAKR,KAGpBogD,EAAgB5/C,KACd,CAAC,KAAQ,SAAWwiB,EAAM,GACzB,SAAY,IAAI5M,IAAImqC,GACpB,QAAW,IAAInqC,IAAIkqC,GACnB,WAAa,QAEhBt9B,GAAS,EAEXrf,KAAKoB,OAAOO,SAAS,wBAAyB86C,IAEhD,4BAGA,8BACEz8C,KAAKiqB,gBAGT,UACEjqB,KAAKiqB,eAGP/mB,QAAS,CACP,cACEiT,GAKyB,IAArBA,EAAQE,UACVrW,KAAKoB,OAAOO,SAAS,2BAA2BwU,EAAQE,UAAUlY,OAElE6B,KAAKoB,OAAOO,SAAS,2BAA2B,IAChD3B,KAAKq8C,iBAAiBl0C,QAASmc,IAC7BA,EAAKg4B,WAAa,UAKxB,WACEnmC,GAIAnW,KAAKq8C,iBAAiBl0C,QAASmc,IACzBA,EAAKnmB,MAAQgY,EAAQE,UAAUlY,OACjCmmB,EAAKg4B,WAAat8C,KAAK0xB,yBAK7B,gBAAgB/U,GACd,OAAIA,EAAKxe,MAAQ6B,KAAKoB,OAAOC,MAAM6P,kBAC1B,qCAIF,IAET,cAAc8lC,GACZ,MAAQ5rC,MAAO8kC,EAAY//B,OAAQggC,GAAgB,GAAOhlC,mBAClDC,MAAOglC,EAAgBjgC,OAAQkgC,GAAoBrwC,KAAKmL,kBAC1DmlC,EAAWF,GAAkBA,EAAe/mC,KAAO2tC,EAAO3tC,GAC1DknC,EAAYF,GAAmBA,EAAgBhnC,KAAO2tC,EAAO3tC,GAEnE,OAAIinC,GAAWC,EACN,wDACsCL,MAAeC,yCAI1DG,EACK,iCACeJ,eAGpBK,EACK,iCACeJ,wCAIjB,IAET,cACkBnwC,KAAKu8B,OACrBzyB,GAAA,KAAU9J,KAAKqD,MAAM05C,gBAAgB1yB,UAAU,KAAKkB,SAEpD,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM05C,gBAAgB3jC,OAAO,OACrDC,KAAK,QAAS,QACdA,KAAK,UAAW,oCAGhBD,OAAO,KACLC,KAAK,YAAa,mBAIN8N,EAAI/N,OAAO,QACzBC,KAAK,QAAQ,yBACbA,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,IAAI,OACTA,KAAK,IAAI,GACTA,KAAK,KAAK,GACVA,KAAK,OAAO,aACZ1Y,GAAG,aAAezC,IACb4L,GAAA,KAAU,2BAA2BuP,KAAK,OAAO,SACjDvP,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,UAEjD1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,2BAA2BuP,KAAK,OAAO,QACjDvP,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,eAEjD1Y,GAAG,QAAUzC,GAAc8B,KAAKw8C,QAAS,CAAE/B,SAAU,QAG7CtzB,EAAI/N,OAAO,QACvBC,KAAK,IAAI,OACTA,KAAK,IAAI,IACTA,KAAK,QAAQ,0BACbtU,KAAK,WACLiB,MAAM,cAAe,UACrBqT,KAAK,YAAY,QACjBA,KAAK,OAAO,QACZ1Y,GAAG,aAAezC,IACb4L,GAAA,KAAU,2BAA2BuP,KAAK,OAAO,SACjDvP,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,UAEjD1Y,GAAG,aAAezC,IACjB4L,GAAA,KAAU,2BAA2BuP,KAAK,OAAO,QACjDvP,GAAA,KAAU,0BAA0BuP,KAAK,OAAO,eAEjD1Y,GAAG,QAAUzC,GAAc8B,KAAKw8C,QAAS,CAAE/B,SAAU,YCpT0X,MCOxb,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAShC,IAAkB,GAAW,CAAC92C,OAAA,KAAK6sC,cAAA,KAAWvrC,kBAAA,KAAgB4oB,oBAAA,KAAiBlpB,QAAA,OC4ChE,cAAI5B,OAAO,CACxB5E,KAAM,UACN6E,WAAY,CACVg6C,kBACAC,qBACAC,sBACAC,eACAC,oBACAC,gBACAC,cACAC,UAAA,GACAC,YACAC,eAAA,GACAC,qBACAC,oBAEF,OACE,MAAO,CACLr5C,MAAO,CAAC,EAAG,EAAG,KAGlBojB,SAAU,CACR,cACE,IAAI9gB,EAAc5G,KAAKoB,OAAOC,MAAMuF,YACpC,OAAOA,MC/FqZ,MCQ9Z,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAQhC,IAAkB,GAAW,CAAC3B,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,OC3B3F,IAAI,GAAS,WAAa,IAAI9tB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,oCAAoC,KAAKV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,iBAAiB,IAAI,GAAG/B,EAAG,MAAM,CAACO,IAAI,SAAS,IAC5mB,GAAkB,GCwCP,UAAIqC,OAAO,CACxB5E,KAAM,8BACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,GAAIC,MAAO,IAAKC,OAAQ,IAAKC,KAAM,KAClDhR,EAAQ,IACR6C,EAAS,IACToO,EAAQ,CACZ22B,cAAe,GACf/7C,YAAa,CAAC,GAAI,KAEpB,MAAO,CACLg8C,WAAY,UACZC,gBAAiB,QACjBC,cAAe,UACfllC,SACAoO,QACA+2B,WAAY,QACZp3B,SACAq3B,aAAc,QACd35C,MAAO,GACPgjB,gBAAiB,UACjBC,gBAAiB,UACjBvR,UAGJ0R,SAAU,CACR,aACE,MAAMw2B,EAAap0C,GAAA,OAChBC,OAAO,CAAC,EAAG/J,KAAKm+C,eAChBt0B,MAAM,CAAC7pB,KAAKi+C,aAAcj+C,KAAK69C,aAClC,OAAOK,GAET,YAQE,MAAME,EAOF,GA0BJ,OAxBAp+C,KAAK6B,YAAYsG,QAAQ,CAAC2f,EAAIzd,KAC5B+zC,EAAUt2B,GAAM,GAChB9nB,KAAK6B,YAAYlC,MAAM,EAAG0K,GAAOlC,QAAS4f,IACxCq2B,EAAUt2B,GAAIC,GAAM,CAClBs2B,MAAO,IAAI5rC,IACX6rC,SAAU,IAAI7rC,KAGhB2rC,EAAUr2B,GAAID,GAAMs2B,EAAUt2B,GAAIC,OAItC/nB,KAAK6H,UAAUM,QAASkB,IACtB,MAAMhN,EAAIiN,GAAaD,GACvBrJ,KAAK6B,YAAYsG,QAAQ,CAAC2f,EAAIzd,KAC5BrK,KAAK6B,YAAYlC,MAAM,EAAG0K,GAAOlC,QAAS4f,IACxC,MAAM/f,EAAO3L,EAAEsR,YAAYma,KAAQzrB,EAAEsR,YAAYoa,GAC7C,QACA,WACJq2B,EAAUt2B,GAAIC,GAAI/f,GAAMoZ,IAAI/X,SAK3B+0C,GAET,gBACE,MAAMG,EAAgB/hD,OAAO+F,KAAKvC,KAAKo+C,WACvC,OAAOG,GAET,eACE,IAAIJ,EAAe,EAYnB,OAVAn+C,KAAK6B,YAAYsG,QAAQ,CAAC2f,EAAIzd,KAC5BrK,KAAK6B,YAAYlC,MAAM,EAAG0K,GAAOlC,QAAS4f,IACxCo2B,EAAe10C,KAAKG,IAClBu0C,EACAn+C,KAAKo+C,UAAUt2B,GAAIC,GAAIs2B,MAAMpiC,KAC7Bjc,KAAKo+C,UAAUt2B,GAAIC,GAAIu2B,SAASriC,UAK/BkiC,GAET,UACE,MAAO,IAAIn+C,KAAKuG,SAASqM,UAE3B,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,gBACE,MAAMugD,EAAgB10C,GAAA,OACnBC,OAAO,CAAC,EAAG/J,KAAKm+C,eAChBt0B,MAAM,CAAC7pB,KAAKi+C,aAAcj+C,KAAK+9C,gBAClC,OAAOS,GAET,WACE,MAAO,IAAIx+C,KAAKuG,SAASgD,WAE3B,YACE,MAAO,IAAIvJ,KAAKuG,SAASsB,YAE3B,WACE,MAAM42C,EAAW30C,GAAA,KAAS9J,KAAKu+C,cAAev+C,KAAKu+C,eACnD,OAAOE,GAET,aAIE,OAAOz+C,KAAKoB,OAAOC,MAAM8J,mBAE3B,IACE,MAAMwN,EAAI7O,GAAA,OACPC,OAAO/J,KAAKu+C,eACZ10B,MAAM,CAAC,EAAG7pB,KAAKgW,QACf8T,aAAa,KACbC,aAAa,IAChB,OAAOpR,GAET,IACE,MAAMC,EAAI9O,GAAA,OACPC,OAAO/J,KAAKu+C,eACZ10B,MAAM,CAAC,EAAG7pB,KAAK6Y,SACfiR,aAAa,KACbC,aAAa,IAChB,OAAOnR,IAGXoR,MAAO,CACL,QACEhqB,KAAKkqB,aAEP,YACElqB,KAAKiqB,eAEP,aACEjqB,KAAK0sB,mBAGT,UACE1sB,KAAKiqB,eAEP/mB,QAAS,CACP,aACElD,KAAKinB,MAAQ,CACX22B,cAAe,GACf/7C,YAAa,CAAC,GAAI,MAGtB,cAEEiI,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,UAC/C3N,OAAO,KACLC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAShnB,KAAK4mB,OAAOC,QAE/D63B,EAAqB,KACzBv3B,EAAI/N,OAAO,QACRC,KAAK,QAASrZ,KAAKgW,OACnBqD,KAAK,SAAUrZ,KAAK6Y,QACpBQ,KAAK,OAAQrZ,KAAK89C,iBAClBzkC,KAAK,SAAU,UAEpBqlC,IAEA,MAAM/lC,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EAET6S,EAAW,KACf,MAAMC,EAASC,GAAWA,EACvBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KAAKmN,GAAA,KAAc6O,IAEtBwO,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,QAAS,QACdA,KAAK,YAAa,IAClBgR,UAAU,QACRhR,KAAK,YAAa,+BAClBrT,MAAM,cAAe,SAE1B,MAAM6lB,EAASF,GAAWA,EACvBtS,KAAK,YAAa,aAAarZ,KAAKgW,aACpCrZ,KAAKmN,GAAA,KAAa8O,IAErBuO,EAAI/N,OAAO,KACRzc,KAAKkvB,GACLxS,KAAK,QAAS,QACdA,KAAK,YAAa,IAClBgR,UAAU,QAEblD,EAAIkD,UAAU,SAASA,UAAU,WAAWkB,UAE9CE,IAEA,MAkCMU,EAAa,KACjB,MAAMvF,EAAS,GACT5Q,EAAQhW,KAAK4mB,OAAOI,KAAO,EAAIJ,EAC/B/N,EAAS7Y,KAAK6Y,OAAS,EAAI+N,EAG3BqlB,EAAOniC,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC/BqD,OAAO,OACPpR,OAAO,QAMJyyB,EAAgC,CACpC,CACExiC,GAAI4c,KACJnN,MAAO9Y,KAAK69C,YAEd,CACEx0C,GAAI4c,KACJnN,MAAO9Y,KAAK+9C,gBAIV7R,EAAYD,EAAK5hB,UAAU,kBAC9BtuB,KAAK8vC,GACLxf,KAAK,kBACHhT,KAAK,KAAOnb,GAAoBA,EAAEmL,IAClCgQ,KAAK,KAAM,MACXA,KAAK,KAAM,QACXA,KAAK,KAAM,MACXA,KAAK,KAAM,MAChB6yB,EAAU9yB,OAAO,QACdC,KAAK,SAAU,MACfA,KAAK,aAAcrZ,KAAKi+C,cACxB5kC,KAAK,eAAgB,GACxB6yB,EAAU9yB,OAAO,QACdC,KAAK,SAAU,QACfA,KAAK,aAAenb,GAAoBA,EAAE4a,OAC1CO,KAAK,eAAgB,GAGxB,MAAMmI,EAAS1X,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACjCqD,OAAO,OACPpR,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YAAa,aAAauN,MAAW5mB,KAAK4mB,OAAOC,IAAMD,MAEjEpF,EAAO6I,UAAU,QACdtuB,KAAK8vC,GACLxf,KAAK,QACHhT,KAAK,IAAK,CAACnb,EAAiB7B,IAAcA,EAAI2Z,EAAQ,GACtDqD,KAAK,QAASrD,EAAQ,GACtBqD,KAAK,SAAUR,GACfQ,KAAK,OAAQ,CAACnb,EAAiB7B,IAAc,QAAQ6B,EAAEmL,OACvDgQ,KAAK,SAAU,SAEpBmI,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAM6C,EAAS+N,EAAS,MAC/DvN,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,WAC3BtU,KAAK,GACRyc,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,OAAO4Q,EAAS,MACvDvN,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBtU,KAAK/E,KAAKm+C,cAEb38B,EAAOpI,OAAO,QACXC,KAAK,YAAa,cAAcuN,EAAS,MAAM/N,EAAS,kBACxDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,uBAERyc,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAarD,EAAQ,MAAM6C,EAAS,kBACtDQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,SACRyc,EAAOpI,OAAO,QACXC,KAAK,YAAa,aAAqB,EAARrD,EAAY,MAAM6C,EAAS,kBAC1DQ,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,YAER5B,QAAQC,IAAI,gBAEd+oB,IAEA,MAAMwyB,EAAc,KAClB,MAAMtV,EAAQliB,EAAIkD,UAAU,SACzBtuB,KAAKiE,KAAKy+C,UACVpyB,KAAK,KACHhT,KAAK,QAAS,QACdA,KAAK,YAAcnb,GAAc,aAAaya,EAAEza,EAAE,QAAQ0a,EAAE1a,EAAE,QAC9DyC,GAAG,aAAezC,IACjB,MAAM0/C,EAAgB59C,KAAK4+C,cAAc1gD,GACpC0/C,IAGL59C,KAAKinB,MAAQ,CAAE22B,gBAAe/7C,YAAa3D,MAE5CyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAwB8B,KAAKwqB,OAAOtsB,EAAG,UACpDyC,GAAG,cAAgBzC,GAAwB8B,KAAKwqB,OAAOtsB,EAAG,WAE/DmrC,EAAMjwB,OAAO,QACVC,KAAK,QAASV,EAAE2S,aAChBjS,KAAK,SAAUT,EAAE0S,aACjBjS,KAAK,OAASnb,IACb,MAAM0/C,EAAgB59C,KAAK4+C,cAAc1gD,GACzC,IAAK0/C,EACH,OAAO59C,KAAK89C,gBAEd,MAAMz+B,EAAQrf,KAAKo+C,UAAUlgD,EAAE,IAAIA,EAAE,IAAI0/C,GAAe3hC,KAClD4Z,EAA0B,UAAlB+nB,EACV59C,KAAKk+C,WACLl+C,KAAKw+C,cACT,OAAO3oB,EAAMxW,KAEdhG,KAAK,SAAWnb,GAAwBA,EAAE,KAAOA,EAAE,GAAK,OAAS,SACjE8H,MAAM,cAAe,UAExBqjC,EAAMjwB,OAAO,UACVC,KAAK,QAAS,gBACdA,KAAK,KAAMV,EAAE2S,YAAc,GAC3BjS,KAAK,KAAMT,EAAE0S,YAAc,GAC3BjS,KAAK,IAAK5P,KAAKC,IAAIiP,EAAE2S,YAAa1S,EAAE0S,aAAe,IACnDjS,KAAK,OAAQ,SAEhB,MAAMpB,EAAa,KACjB,MAAM7Y,EAAI,GAEViqC,EAAMjwB,OAAO,QACVC,KAAK,IAAKrZ,KAAK4Y,EAAE0S,aAAelsB,EAAI,GAAKA,GACzCia,KAAK,QAAUnb,GACdA,EAAE,KAAOA,EAAE,GACP,EACA8B,KAAK2Y,EAAE2S,aACZjS,KAAK,SAAUrZ,KAAK4Y,EAAE0S,YAAclsB,EAAI,GACxCia,KAAK,OAAQ,SAChBgwB,EAAMjwB,OAAO,QACVC,KAAK,QAAS,eACdA,KAAK,IAAKrZ,KAAK4Y,EAAE0S,aAAelsB,EAAI,GAAKA,GACzCia,KAAK,SAAUrZ,KAAK4Y,EAAE0S,YAAclsB,GACpCia,KAAK,OAAQrZ,KAAKsnB,iBACrB+hB,EAAMjwB,OAAO,QACVC,KAAK,QAAS,eACdA,KAAK,IAAKrZ,KAAK4Y,EAAE0S,aAAelsB,EAAI,GAAKA,GACzCia,KAAK,SAAUrZ,KAAK4Y,EAAE0S,YAAclsB,GACpCia,KAAK,OAAQrZ,KAAKunB,kBAEvBtP,KAGI+S,EAAY,KAChB7D,EAAI/N,OAAO,QACRC,KAAK,QAAS,cACdA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BA,KAAK,YAAa,IAClBA,KAAK,iBAAkB,SAG5BslC,IACA3zB,IAEAhrB,KAAKkqB,YACLlqB,KAAK0sB,kBAEP,YAEE,MAAMvC,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B6D,EAAYb,EAAMK,OAAO,eAE/B,GAAIxqB,KAAKinB,MAAM22B,cAAe,CAC5B,MAAO91B,EAAIC,GAAM/nB,KAAKinB,MAAMplB,YACtBwd,EAAQrf,KAAKo+C,UAAUt2B,GAAIC,GAAI/nB,KAAKinB,MAAM22B,eAAe3hC,KAC/D+O,EACG3R,KAAK,eAAgB,GACrBA,KAAK,YAAa,2BACdrZ,KAAK2Y,EAAEmP,GAAiB9nB,KAAK2Y,EAAE2S,YAAc,mBAC7CtrB,KAAK4Y,EAAEmP,GAAiB/nB,KAAK4Y,EAAE0S,YAAc,MACjDvmB,KAAKsa,GACL+L,aACAC,SAAS,KACThS,KAAK,eAAgB,QAExB2R,EAAUjmB,KAAK,KAGnB,iBAEE,MAAMolB,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B+lB,EAAgB/iB,EAAME,UAAU,gBAChC8iB,EAAgBhjB,EAAME,UAAU,iBAEhC,MAAEjf,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAEzBqU,EAAW,CAACpuB,EAAqBmY,KACrC,MAAMunC,EAAgB59C,KAAK4+C,cAAc1gD,GACzC,IAAK0/C,EACH,OAAO,EAET,MAAM/1C,EAAY7H,KAAKo+C,UAAUlgD,EAAE,IAAIA,EAAE,IAAI0/C,GACvCzyB,EAAuBlc,GAAapH,EAAWwO,EAAUxO,WACzDslB,EAA2BhC,EAAqBlP,KAAOpU,EAAUoU,KACjEjG,EAAQhW,KAAK2Y,EAAE2S,YAAc6B,EACnC,OAAOnX,GAGJ5K,EAGH8hC,EACGnxC,KAAKiE,KAAKy+C,UACVplC,KAAK,QAAUnb,GAAwBouB,EAASpuB,EAAGkN,IAJtD8hC,EAAc7zB,KAAK,QAAS,GAOzBlJ,EAGHg9B,EACGpxC,KAAKiE,KAAKy+C,UACVplC,KAAK,QAAUnb,GAAwBouB,EAASpuB,EAAGiS,IAJtDg9B,EAAc9zB,KAAK,QAAS,IAOhC,OACExX,EACAuU,GAEAtM,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAMkwB,EAAgB59C,KAAK4+C,cAAc/8C,GACzC,IAAK+7C,EACH,OAGF,MAAO91B,EAAIC,GAAMlmB,EAEXqF,EAAaD,KACnBC,EAAWE,KAAO1B,EAAKsH,MACvB9F,EAAWC,SAA8B,aAAlBy2C,EACvB12C,EAAWI,WAAawgB,EACxB5gB,EAAWK,YAAcwgB,EAEzB,MAAMlgB,EAAY7H,KAAKo+C,UAAUt2B,GAAIC,GAAI61B,GACnCprC,EAAc,kCAAkCsV,SAAUC,KAAM61B,IAEhEr1C,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAO,IAEHqI,EAAU,CACd3D,cACA3K,YACAU,aAGFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,IAErD,cAAcvU,GACZ,MAAOimB,EAAIC,GAAMlmB,EACXg9C,EAAU7+C,KAAKu+C,cAAc1hC,QAAQiL,GACrCg3B,EAAU9+C,KAAKu+C,cAAc1hC,QAAQkL,GAC3C,OAAI82B,EAAUC,EACL,QAELD,EAAUC,EACL,WAEF,OCrkBya,MCQlb,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAShC,IAAkB,GAAW,CAAC75C,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,OC5B5G,IAAI,GAAS,WAAa,IAAI5E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,OAAOvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,oBAAoB,KAAKV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,gBAAgBQ,MAAM,CAAClC,MAAOmB,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAIg/C,aAAa/9C,GAAKE,WAAW,iBAAiB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,gBAAgB,MAAQ,aAAaH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,iBAAiB,MAAQ,gBAAgB,IAAI,GAAGH,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,oBAAoBQ,MAAM,CAAClC,MAAOmB,EAAuB,oBAAEgB,SAAS,SAAUC,GAAMjB,EAAI8G,oBAAoB7F,GAAKE,WAAW,wBAAwB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAAS,MAAQ,YAAYH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,WAAW,MAAQ,eAAe,IAAI,MAAM,IAAI,GAAGH,EAAG,eAAe,CAACE,YAAY,cAAcC,MAAM,CAAC,QAAUP,EAAIuvC,QAAQ,MAAQvvC,EAAIqV,QAAQ,YAAcrV,EAAI6G,YAAY,gBAAkB7G,EAAIi/C,gBAAgB,aAAa,GAAG,UAAUj/C,EAAI83C,QAAQt3C,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,OAAOuB,GAAG,SAASC,GACh9C,IAAIqwC,EAAQrwC,EAAIqwC,MAChB,MAAO,CAAC5wC,EAAG,QAAQJ,EAAI0B,GAAG,GAAQ,SAASkb,GAAM,OAAOxc,EAAG,KAAK,CAACjB,IAAIyd,EAAKrV,YAAY,CAACnH,EAAG,KAAK,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGwb,EAAKrV,eAAmC,cAAnBvH,EAAI6G,aAAoD,WAApB7G,EAAIg/C,aAA2B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAYgZ,cAAcjI,QAAQ,OAAStY,EAAIqG,KAAyB,cAAnBrG,EAAI6G,aAAoD,aAApB7G,EAAIg/C,aAA6B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAyB,kBAAOvH,EAAIqG,KAA0B,cAAnBrG,EAAI6G,YAA8BzG,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAG,IAAId,EAAIoB,GAAI,GAAMwb,EAAKvH,QAAQ6K,SAAS5H,QAAQ,OAAStY,EAAIqG,KAAyB,cAAnBrG,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA8B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAY2Y,SAAS5H,QAAQ,OAAStY,EAAIqG,KAAyB,cAAnBrG,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA8B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAY23C,WAAW5mC,QAAQ,OAAStY,EAAIqG,KAAyB,cAAnBrG,EAAI6G,YAA6BzG,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMwb,EAAKvH,QAAQgL,IAAItZ,QAAQuR,QAAQ,OAAStY,EAAIqG,KAAyB,cAAnBrG,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA6B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAY8Y,IAAI/H,QAAQ,OAAStY,EAAIqG,KAAyB,cAAnBrG,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA6B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAY43C,MAAM7mC,QAAQ,OAAStY,EAAIqG,KAAMrG,EAAI4G,YAAc,EAAGxG,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMwb,EAAKvH,QAAQsP,QAAQ5d,QAAQuR,QAAQ,OAAStY,EAAIqG,KAAMrG,EAAI4G,YAAc,EAAGxG,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMwb,EAAKvH,QAAQuP,QAAQ7d,QAAQuR,QAAQ,OAAStY,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,YAA6BzG,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMwb,EAAKvH,QAAQhG,UAAUtI,QAAQuR,QAAQ,OAAStY,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,YAA6BzG,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMwb,EAAKvH,QAAQ8K,OAAOpZ,QAAQuR,QAAQ,OAAStY,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,YAA6BzG,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMwb,EAAKvH,QAAQtJ,GAAGhF,QAAQuR,QAAQ,OAAStY,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA6B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAY8H,UAAUiJ,QAAQ,OAAStY,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA6B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAY4Y,OAAO7H,QAAQ,OAAStY,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA6B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAYwE,GAAGuM,QAAQ,OAAStY,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA6B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAY63C,YAAY9mC,QAAQ,OAAStY,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA6B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAY83C,SAAS/mC,QAAQ,OAAStY,EAAIqG,KAAMrG,EAAI4G,aAAe,GAAwB,cAAnB5G,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA6B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAY+3C,KAAKhnC,QAAQ,OAAStY,EAAIqG,KAAyB,cAAnBrG,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA6B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAY8a,SAAS/J,QAAQ,OAAStY,EAAIqG,KAAyB,cAAnBrG,EAAI6G,aAAmD,aAApB7G,EAAIg/C,aAA6B5+C,EAAG,KAAK,CAACE,YAAY,WAAW,CAACN,EAAIc,GAAGd,EAAIoB,GAAI,GAAMpB,EAAIi/C,gBAAgBriC,EAAKrV,YAAmB,YAAOvH,EAAIqG,UAAS,WAAW,IAC97H,GAAkB,GCwGP,UAAIrD,OAAO,CACxB5E,KAAM,eACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MACM7f,EAAsB,SAE5B,MAAO,CACLA,sBACAk4C,aAAa,UACbxP,WAAY,CACVK,YAAa,IAEftrC,MAAO,GACPuzC,OAAQ,GACRlxC,YAAY,IAAI3G,KAAKuG,SAASqM,SAASrW,SAG3CmrB,SAAU,CACR,4BACE,MAAqC,cAAjC1nB,KAAKoB,OAAOC,MAAMuF,YACb,GAEF5G,KAAKoB,OAAOC,MAAMkQ,0BAA0BnI,IAAKnL,GAAIA,EAAEE,OAEhE,oBAGE,OAAO6B,KAAKoB,OAAOyE,QAAQy5C,iBAE7B,8BACE,OAAOt/C,KAAKoB,OAAOC,MAAM4Q,6BAE3B,0BACE,OAAOjS,KAAKuG,SAASqL,yBAEvB,uBACE,IAAI8c,EAAuB,GAM3B,OALA1uB,KAAKiS,4BAA4B9J,QAASlK,IACxC,IAAIqJ,EAAarJ,EAAEyZ,MAAM,KAAK,GAC1B+F,GAAakR,SAAS1wB,EAAEyZ,MAAM,KAAK,IAAM,KAAKW,QAAQ,GAC1DqW,EAAqBpnB,GAAcmW,IAE9BiR,GAET,cACE,IAAI9nB,EAAc5G,KAAKoB,OAAOC,MAAMuF,YACpC,OAAOA,GAET,2BACE,IAAIyhB,EAA2B,GAQ/B,OAPAroB,KAAK6B,YAAYsG,QAASlK,IACa,cAAjC+B,KAAKoB,OAAOC,MAAMuF,YACpByhB,EAAyBpqB,GAAKA,EAAI,IAAM+B,KAAKgS,wBAAwB/T,GAAG,IAExEoqB,EAAyBpqB,GAAKA,IAG3BoqB,GAET,mBACE,MAAMk3B,EAEFv/C,KAAKoB,OAAOyE,QAAQkN,iBAClBA,EAAsDvW,OAAOqyB,QAAQ0wB,GAAwBn2C,IAAI,EAAE9B,EAAYtJ,MAC5G,CACLsJ,aACAwL,mBAAoB9U,KAGxB,OAAO+U,GAET,qBACE,MAAMwsC,EAEFv/C,KAAKoB,OAAOyE,QAAQiN,mBAClBA,EAAwDtW,OAAOqyB,QAAQ0wB,GAAwBn2C,IAAI,EAAE9B,EAAYtJ,MAC9G,CACLsJ,aACAwL,mBAAoB9U,KAGxB,OAAO8U,GAET,kBACE,MAAMksC,EAA8C,UAA5Bh/C,KAAK6G,oBAAkC7G,KAAKoB,OAAOyE,QAAQiN,mBAAoB9S,KAAKoB,OAAOyE,QAAQkN,iBACrHysC,EAAqB,CAAC,sBAAsB,SAAU,qBAC5Bx/C,KAAK4R,wBACrC,GAAwB,cAApB5R,KAAK4G,YAA4B,CACnC,IAAI64C,EAAsB,GAC1B,IAAK,IAAIvgD,KAAO8/C,EACd,IAAKQ,EAAmBr5C,SAASjH,GAE/B,GADAugD,EAAoBvgD,GAAO8/C,EAAgB9/C,GAClB,aAArBc,KAAK++C,aAA6B,CACpC,IAAIz/B,EAAUmgC,EAAoBvgD,GAAKqgB,GACnCE,EAAUggC,EAAoBvgD,GAAKwgB,GACnCE,EAAU6/B,EAAoBvgD,GAAK2gB,GACnCE,EAAU0/B,EAAoBvgD,GAAKuB,GACvCg/C,EAAoBvgD,GAAK+/C,YAAe3/B,EAAUG,IAAYH,EAAUM,EAAUH,EAAUM,GAC5F0/B,EAAoBvgD,GAAKigD,YAAc,GAAc7/B,EAAUM,GAC/D6/B,EAAoBvgD,GAAKkgD,SAAW,GAAa9/B,EAAUS,GAC3D0/B,EAAoBvgD,GAAKmgD,KAAQI,EAAoBvgD,GAAKigD,YAAcM,EAAoBvgD,GAAKkgD,UAAY,EAAK,EAAI,EAAIK,EAAoBvgD,GAAKigD,YAAcM,EAAoBvgD,GAAKkgD,UAAYK,EAAoBvgD,GAAKigD,YAAcM,EAAoBvgD,GAAKkgD,UAC5J,GAArG31C,KAAK0W,MAAMb,EAAUM,IAAYN,EAAUS,IAAYN,EAAUG,IAAYH,EAAUM,MAC1F0/B,EAAoBvgD,GAAKggD,MAAQ,IAE9B5/B,EAAQM,IAAUN,EAAQS,IAAUN,EAAQG,IAAUH,EAAQM,IAAY,IAC7E0/B,EAAoBvgD,GAAKggD,OAAU5/B,EAAQG,EAAQG,EAAQG,GAAWtW,KAAK0W,MAAMb,EAAUM,IAAYN,EAAUS,IAAYN,EAAUG,IAAYH,EAAUM,UAG/J0/B,EAAoBvgD,GAAK+/C,WAAa,EACtCQ,EAAoBvgD,GAAKigD,YAAc,EACvCM,EAAoBvgD,GAAKkgD,SAAW,EACpCK,EAAoBvgD,GAAKmgD,KAAO,EAChCI,EAAoBvgD,GAAKggD,MAAQ,EAIvC,OAAOO,EAET,OAAOT,GAGT,UACE,MAAMQ,EAAqB,CAAC,sBAAsB,SAAU,qBACtD5wB,EAEF5uB,KAAKoB,OAAOyE,QAAQuP,QAClBA,EAAmC5Y,OAAOqyB,QAAQD,GAAcxlB,IAAI,EAAE9B,EAAYtJ,MAC/E,CACLsJ,aACA8N,QAASpX,KAIb,IAAImX,EAAuC,GAC3C,GAAwB,cAApBnV,KAAK4G,YAA6B,CACpC,MAAM84C,EAEF1/C,KAAKoB,OAAOyE,QAAQy5C,gBAClBA,EAA2C9iD,OAAOqyB,QAAQ6wB,GAAuBt2C,IAAI,EAAE9B,EAAYtJ,MAChG,CACLsJ,aACA8N,QAASpX,KAGb,IAAK,IAAI2e,KAAQvH,EACVoqC,EAAmBr5C,SAASiP,EAAQuH,GAAMrV,aAC7C6N,EAAYtY,KAAKuY,EAAQuH,IAG7B,IAAK,IAAIA,KAAQ2iC,EACVE,EAAmBr5C,SAASm5C,EAAgB3iC,GAAMrV,aACrD6N,EAAYtY,KAAKyiD,EAAgB3iC,IAGrC,OAAOxH,EAET,OAAOC,GAET,UACE,MAAO,IAAIpV,KAAKuG,SAASqM,UAE3B,cACE,MAAO,IAAI5S,KAAKuG,SAAS1E,cAE3B,UACE,MAAMytC,EAA8B,cAApBtvC,KAAK4G,YAA4B,CAC/C,CAAE7B,KAAM,aAAcnG,MAAO,cAC7B,CAAEmG,MAAmC,UAA5B/E,KAAK6G,oBAAkC,GAAK,aAAe,WAAYjI,MAAO,YACvF,CAAEmG,MAAmC,UAA5B/E,KAAK6G,oBAAkC,GAAK,aAAe,MAAOjI,MAAO,QAC7D,WAArBoB,KAAK++C,aAA0B,CAC/B,CAAEh6C,KAAM,aAAcnG,MAAO,cAC7B,CAAEmG,KAAM,YAAanG,MAAO,aAC5B,CAAEmG,MAAmC,UAA5B/E,KAAK6G,oBAAkC,GAAK,aAAe,WAAYjI,MAAO,YACvF,CAAEmG,MAAmC,UAA5B/E,KAAK6G,oBAAkC,GAAK,aAAe,MAAOjI,MAAO,QAEhF,CACF,CAAEmG,KAAM,aAAcnG,MAAO,cAC7B,CAAEmG,KAAM,kBAAmBnG,MAAO,eAClC,CAAEmG,MAAmC,UAA5B/E,KAAK6G,oBAAkC,GAAK,aAAe,WAAYjI,MAAO,YACvF,CAAEmG,MAAmC,UAA5B/E,KAAK6G,oBAAkC,GAAK,aAAe,MAAOjI,MAAO,QAkBpF,OAhBIoB,KAAK4S,QAAQrW,QAAS,GACxB+yC,EAAQzyC,KAAK,CAAEkI,MAAmC,UAA5B/E,KAAK6G,oBAAkC,GAAK,aAAe,YAAajI,MAAO,cACrG0wC,EAAQzyC,KAAK,CAAEkI,MAAmC,UAA5B/E,KAAK6G,oBAAkC,GAAK,aAAe,SAAUjI,MAAO,WAClG0wC,EAAQzyC,KAAK,CAAEkI,MAAmC,UAA5B/E,KAAK6G,oBAAkC,GAAK,aAAe,KAAMjI,MAAO,SAE9F0wC,EAAQzyC,KAAK,CAAEkI,MAAmC,UAA5B/E,KAAK6G,oBAAkC,GAAK,aAAe,WAAYjI,MAAO,YACpG0wC,EAAQzyC,KAAK,CAAEkI,MAAmC,UAA5B/E,KAAK6G,oBAAkC,GAAK,aAAe,WAAYjI,MAAO,aAE9E,cAApBoB,KAAK4G,cACkB,WAArB5G,KAAK++C,aACPzP,EAAQzyC,KAAK,CAAEkI,KAAM,MAAOnG,MAAO,aAEnC0wC,EAAQzyC,KAAK,CAAEkI,KAAM,uBAAwBnG,MAAO,aAIjD0wC,GAET,YACE,MAAO,IAAItvC,KAAKuG,SAASsB,YAE3B,qBACE,OAAO7H,KAAK6H,UAAUlI,MAAM,EAAG,MAGnC,UACEwD,QAAQC,IAAIpD,KAAKoV,SACjBjS,QAAQC,IAAIpD,KAAK4S,YCrUqZ,MCQta,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAYhC,IAAkB,GAAW,CAAC49B,cAAA,KAAWvrC,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,OC/BpI,IAAI,GAAS,WAAa,IAAIhuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,uBAAuB,MAAM,IAAI,GAAGV,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,YAAY,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,UAAUQ,MAAM,CAAClC,MAAOmB,EAAwB,qBAAEgB,SAAS,SAAUC,GAAMjB,EAAIgxB,qBAAqB/vB,GAAKE,WAAW,2BAA2B,GAAGf,EAAG,MAAM,CAACO,IAAI,SAAS,IACluB,GAAkB,GCmDP,UAAIqC,OAAO,CACxB5E,KAAM,kBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KAChDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACzC,MAAO,CACLlO,SACAsY,cAAc,KACdvK,SACA4H,SAAS,GACTlqB,MAAO,GACP8iB,WAAY,UACZC,gBAAiB,UACjBC,gBAAiB,UACjBC,gBAAiB,UACjBvR,QACAyY,aAAa,GACbjH,WAAY,UACZC,gBAAiB,YAGrBC,SAAU,CACRqJ,qBAAsB,CACpBvyB,IAAK,WACP,MAA8B,QAAvBwB,KAAKmxB,eAEble,IAAK,WAC0B,OAAtBjT,KAAKmxB,cACPnxB,KAAKmxB,cAAgB,KAErBnxB,KAAKmxB,cAAgB,QAI3B,UACE,MAAO,IAAInxB,KAAKuG,SAASqM,UAE3B,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,WACE,MAAO,IAAI+B,KAAKuG,SAASgD,WAE3B,YACE,MAAO,IAAIvJ,KAAKuG,SAASsB,YAE3B,oBAEE,MAAM83C,EAAoB,CAAC,WAAY,OASvC,OARI3/C,KAAK4S,QAAQrW,OAAS,GACxBojD,EAAkB9iD,KAAK,WACvB8iD,EAAkB9iD,KAAK,aAEvB8iD,EAAkB9iD,KAAK,aACvB8iD,EAAkB9iD,KAAK,UACvB8iD,EAAkB9iD,KAAK,OAElB8iD,GAGT,UACE,MAAM/wB,EAEF5uB,KAAKoB,OAAOyE,QAAQuP,QAElBA,EAAmC5Y,OAAOqyB,QAAQD,GAAcxlB,IAAI,EAAE9B,EAAYtJ,MAC/E,CACLsJ,aACA8N,QAASpX,KAGb,OAAOoX,GAET,cAME,MAAMzH,EAKF,GAoBJ,OAlBA3N,KAAK6B,YAAYsG,QAASlK,IACxB0P,EAAY1P,GAAK,CACf6oB,MAAO,IAAIrU,IACX6V,MAAO,IAAI7V,OAIfzS,KAAK6H,UAAUM,QAASkB,IACtB,MAAMhN,EAAIiN,GAAaD,GACvBrJ,KAAK6B,YAAYsG,QAASlK,IACpB5B,EAAEsR,YAAY1P,KAAO5B,EAAEqR,OACzBC,EAAY1P,GAAG6oB,MAAM1F,IAAI/X,GAEzBsE,EAAY1P,GAAGqqB,MAAMlH,IAAI/X,OAKxBsE,GAET,aAIE,OAAO3N,KAAKoB,OAAOC,MAAM8J,mBAE3B,IACE,MAAMwN,EAAI7O,GAAA,OACPC,OAAO/J,KAAK2/C,mBACZ91B,MAAM,CAAC,EAAG7pB,KAAKgW,QACf8T,aAAa,GACbC,aAAa,GAChB,OAAOpR,GAET,IACE,MAAMC,EAAI9O,GAAA,OACPC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,IAGXoR,MAAO,CACL,YACEhqB,KAAKiqB,eAEP,aACEjqB,KAAK0sB,kBAEP,uBACE1sB,KAAKiqB,gBAGT,UACEjqB,KAAKiqB,eAEP/mB,QAAS,CACP,cACEC,QAAQC,IAAI,uBAAuBpD,KAAKmxB,eAExCrnB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,UAI/C3N,OAAO,KACLC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAShnB,KAAK4mB,OAAOC,QAM/D+4B,GAJI5/C,KAAK2Y,EACL3Y,KAAK4Y,EAGK,KAClB,IAAIinC,EAAU7/C,KAGd,MAAMwvB,EAAkB1lB,GAAA,KAA4BA,GAAA,MACnDC,OAAO,CAAC,EAAG,MACX0lB,cAAa,SAAU9W,GAAK,OAAO7O,GAAA,KAAmB,GAAG6O,MAI1DmnC,EAAW,WAAYtwB,GAEvB,IAAIzzB,EAAO,GACX,MAAMgkD,EAAmB,CACzB,SACA,sBACA,qBAGA//C,KAAKoV,QAAQjN,QAASb,IACpB,IAAIs/B,EAAW,CAAC,KAAOt/B,EAAWA,WAAW,SAAWA,EAAW8N,QAAQ6K,SAAW3Y,EAAW8N,QAAQ6K,SAAW,EAAG,IAAM3Y,EAAW8N,QAAQgL,IAAItZ,QAAUQ,EAAW8N,QAAQgL,IAAItZ,QAAU,GAC/L,IAAIiO,EAAO,EACP/U,KAAK4S,QAAQrW,OAAS,GACxBqqC,EAAS,WAAat/B,EAAW8N,QAAQsP,QAAQ5d,QAAUQ,EAAW8N,QAAQsP,QAAQ5d,QAAW,EACjG8/B,EAAS,WAAat/B,EAAW8N,QAAQuP,QAAQ7d,QAAUQ,EAAW8N,QAAQuP,QAAQ7d,QAAU,EACtE,OAAtB9G,KAAKmxB,gBACFyV,EAAS,WAAa,IAAQA,EAAS,WAAa,MAAK7xB,EAAO,KAGvE6xB,EAAS,aAAet/B,EAAW8N,QAAQhG,UAAUtI,QAAUQ,EAAW8N,QAAQhG,UAAUtI,QAAU,EACtG8/B,EAAS,UAAYt/B,EAAW8N,QAAQ8K,OAAOpZ,QAAUQ,EAAW8N,QAAQ8K,OAAOpZ,QAAU,EAC7F8/B,EAAS,MAAQt/B,EAAW8N,QAAQtJ,GAAGhF,QAAUQ,EAAW8N,QAAQtJ,GAAGhF,QAAS,EACtD,OAAtB9G,KAAKmxB,gBACFyV,EAAS,aAAe,IAAQA,EAAS,UAAY,IAAOA,EAAS,MAAS,MAAK7xB,EAAO,IAGzE,OAAtB/U,KAAKmxB,gBACFyV,EAAS,YAAc,IAAQA,EAAS,OAAS,KAAI7xB,EAAO,GAEvD,GAARA,GACHhZ,EAAKc,KAAK+pC,KAIb,IAAIoZ,GAAchgD,KAAKgW,MAAMhW,KAAK4mB,OAAOC,IAAK7mB,KAAK4mB,OAAOG,SAAW,GAAIhrB,EAAKQ,OAAO,IAErF4qB,EAAIkD,UAAU,UACXtuB,KAAKA,GACLs0B,QAAQjX,OAAO,QACXC,KAAK,IAAwB,GAAjBrZ,KAAK4mB,OAAOI,MACxB3N,KAAK,IAAK,CAACnb,EAAE7B,IAAI2D,KAAKgW,MAAM,EAAE3Z,GAAG2jD,EAAW,IAC5C3mC,KAAK,QAASrZ,KAAK4mB,OAAOI,KAAK,IAC/B3N,KAAK,SAAS2mC,GACd3mC,KAAK,OAAQ,CAACnb,EAAE7B,IACR0jD,EAAiB55C,SAASjI,EAAEC,MAAM,YAAY,WACtDkb,KAAK,UAAU,KACfA,KAAK,SAAS,SACdA,KAAK,eAAe,GACpBrT,MAAM,cAAe,UACrBqT,KAAK,QAAQ,mBAEpB8N,EAAIkD,UAAU,cACXtuB,KAAKA,GACLs0B,QAAQjX,OAAO,QACXpT,MAAM,cAAe,UACrBqT,KAAK,KAAyB,GAAjBrZ,KAAK4mB,OAAOI,MAAS,GAClC3N,KAAK,IAAK,CAACnb,EAAE7B,IAAI2D,KAAKgW,MAAM,EAAE3Z,GAAG2jD,EAAW,GAAGA,EAAW,EAAE,GAC5D3mC,KAAK,QAAQ,wBACbtU,KAAK,CAAC7G,EAAE7B,IACA6B,EAAEC,MACV6H,MAAM,OAAQ,SACdA,MAAM,YAAa,QACnBrF,GAAG,cAAc,SAASzC,EAAE7B,GAC3ByN,GAAA,KAAU9J,MAAMqZ,KAAK,OAAQ,SAC7B4mC,EAAU/hD,EAAE7B,MAEbsE,GAAG,cAAc,SAASzC,EAAE7B,GAC3ByN,GAAA,KAAU9J,MAAMqZ,KAAK,OAAQ,SAC7B6mC,EAAYhiD,EAAE7B,MAItB8G,QAAQC,IAAI,gBAAiBrH,GAC7B,MAAMsrC,EAAav9B,GAAA,KAAQ/N,EAAK,IAAI0P,QAAO,SAASvN,GAAK,MAAU,QAAHA,KACtC8B,KAAK2/C,kBAE/B,IAAI/mC,EAAI,GACR,IAAK,IAAIvc,KAAKgrC,EAAY,CACxB,IAAIlpC,EAAOkpC,EAAWhrC,GAEI,OAAtB2D,KAAKmxB,cACLvY,EAAEza,GAAQ2L,GAAA,OACXC,OAAO,CAAS,OAAR5L,EAAe,EAAI,GAAI,IAC7B0rB,MAAM,CAAC7pB,KAAK6Y,OAAQ,IAEvBD,EAAEza,GAAQ2L,GAAA,OACXC,OAAO,CAAS,OAAR5L,GAAgB,EAAI,EAAG,IAC3B0rB,MAAM,CAAC7pB,KAAK6Y,OAAQ,IAG3B,IAAIF,EAAI7O,GAAA,OACL+f,MAAM,CAAC,EAAG7pB,KAAKgW,QACfqd,QAAQ,IACRtpB,OAAOs9B,GAEV,SAASlX,EAAKjyB,GACV,OAAO4L,GAAA,MAAAA,CAAUu9B,EAAWj+B,KAAI,SAAS7J,GACvC,MAAO,CAACoZ,EAAEpZ,GAAIqZ,EAAErZ,GAAGrB,EAAEqB,SAI3B,IAAI4gD,EAAU,GA8Cf,SAASF,EAAU/hD,EAAE7B,GACFyN,GAAA,KAAa,kBACd9D,MAAM,eAAiBhI,GAAIE,EAAEC,MAAMH,EAAE,QAAQ,EAAE,GAC/Cqb,KAAK,iBAAkBrb,GAAIE,EAAEC,MAAMH,EAAE,QAAQ,IAAI,OAC/C8L,GAAA,KAAa,oBAAoBuP,KAAK,UAAYrb,GAAIE,EAAEC,MAAMH,EAAE,QAAQ,IAAI,OACzE8L,GAAA,KAAa,yBAAyBuP,KAAK,UAAYrb,GAAIE,EAAEC,MAAMH,EAAE,QAAQ,IAAI,OAIxG,SAASkiD,EAAYhiD,EAAE7B,GACJyN,GAAA,KAAa,kBACd9D,MAAM,eAAgB,GACtBqT,KAAK,iBAAiB,KACpBvP,GAAA,KAAa,oBAAoBuP,KAAK,UAAW,KAC9CvP,GAAA,KAAa,yBAAyBuP,KAAK,UAAW,KAG7E,SAAS+mC,EAAaliD,EAAE7B,EAAEwjD,GACxB,MAAMj5B,EAAS,CAACC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KAC/ChR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACrBF,EAAOC,IAAMD,EAAOG,OACzC,IAAIi5B,GAAchqC,EAAM4Q,EAAOC,IAAKD,EAAOG,SAAW,GAAIhrB,EAAKQ,OAAO,IACtE,MAAMizB,EAAkB1lB,GAAA,KAA4BA,GAAA,MACjDC,OAAO,CAAC,EAAG81C,EAAQh+C,YAAYtF,OAAO,IACtCkzB,cAAa,SAAU9W,GAAK,OAAO7O,GAAA,KAAmB,GAAG6O,MAEtD0nC,EAAWv2C,GAAA,KAAa,kBACxBw2C,EAAex2C,GAAA,KAAa,kBAAkB9D,MAAM,OAAQ,QAC7CA,MAAM,eAAe,UAAUqT,KAAK,YAAa,IAChEknC,EAAYz2C,GAAA,KAAa,oBACzB02C,EAAe12C,GAAA,KAAa,yBAI5BglB,EAAauY,EAAWhrC,GAC9B,IAAIokD,EAAU,GAEdN,EAAQt0C,MAAK,SAAS8M,EAAEC,GACtB,OAAQA,EAAEkW,GAAcnW,EAAEmW,MAC5B,IAAIzP,EAAQ,EACZ,MAAOA,EAAQ,EACbohC,EAAQ5jD,KAAKsjD,EAAQ9gC,GAAOlhB,MAC5BkhB,GAAS,EAGX,IAAIqhC,EAAWP,EAAQ10C,OAAOvN,GACrB6hD,EAAiB55C,SAASjI,EAAEC,OAErCgiD,EAAUA,EAAQ10C,OAAOvN,IACf6hD,EAAiB55C,SAASjI,EAAEC,OACtCgiD,EAAUA,EAAQjhB,OAAOwhB,GAEzBv9C,QAAQC,IAAI,UAAU+8C,EAASO,GAE/BJ,EACGt6C,MAAM,QAAQ,SAAS9H,EAAEX,GAC1B,OAAOlB,IAAIkB,EAAE,QAAQ,UAEpByI,MAAM,eAAc,SAAS9H,EAAEX,GAChC,OAAOlB,IAAIkB,EAAE,OAAO,YAEnB8b,KAAK,aAAa,SAASnb,EAAEX,GAC9B,OAAOlB,IAAIkB,EAAE,GAAG,MAGlB,IAAIojD,EAAe,GACnB,IAAK,IAAIC,KAAKT,EACVQ,EAAaR,EAAQS,GAAG,SAAWA,EAGvCP,EAASr6C,MAAM,SAAS,CAAC9H,EAAE7B,IACrB0jD,EAAiB55C,SAASjI,EAAE,SACvB,OAEFsxB,EAAgBmxB,EAAaziD,EAAE,WAExCqiD,EAASxkD,KAAKokD,GAAS9mC,KAAK,OAAO,CAACnb,EAAE7B,IAChC0jD,EAAiB55C,SAASjI,EAAE,SACvB,YAEFsxB,EAAgBmxB,EAAaziD,EAAE,WAErCmb,KAAK,IAAK,CAACnb,EAAE7B,IAAI2Z,EAAM,EAAE3Z,GAAG2jD,EAAW,IAC3CQ,EAAazkD,KAAKokD,GACdn6C,MAAM,OAAO,CAAC9H,EAAE7B,IACb0jD,EAAiB55C,SAASjI,EAAE,SACvB,QAEF,aAENmb,KAAK,KAAoB,GAAZuN,EAAOI,MAAS,GAC7BjiB,KAAK,CAAC7G,EAAE7B,IACE6B,EAAEC,MAGjB,SAAS2hD,EAAWe,EAAaC,GAC/B,IAAIC,EAAe,GACfC,EAAc,GACdp6B,EAAS,CAACC,IAAK,EAAGC,MAAO,EAAGC,OAAQ,EAAGC,KAAM,IAE7Ci6B,EAASn3C,GAAA,KAAU+2C,GACpB76C,MAAM,SAAU+6C,EAAe,MAC/B/6C,MAAM,QAASg7C,EAAc,MAC7Bh7C,MAAM,WAAY,YAClBoT,OAAO,UACPC,KAAK,SAAU0nC,EAAen6B,EAAOC,IAAMD,EAAOG,QAClD1N,KAAK,QAAS,GACdrT,MAAM,SAAW+6C,EAAen6B,EAAOC,IAAMD,EAAOG,OAAU,MAC9D/gB,MAAM,QAAUg7C,EAAcp6B,EAAOI,KAAOJ,EAAOE,MAAS,MAC5D9gB,MAAM,SAAU,kBAChBA,MAAM,WAAY,YAClBA,MAAM,MAAO,QACbA,MAAM,OAAQ,OACdk7C,OAECC,EAAMF,EAAOG,WAAW,MAExBC,EAAcv3C,GAAA,OACf+f,MAAM,CAAC,EAAGk3B,EAAen6B,EAAOC,IAAMD,EAAOG,SAC7Chd,OAAO+2C,EAAW/2C,UAEjB6tC,EAAQuJ,EAAIG,gBAAgB,EAAGP,GACnCj3C,GAAA,KAASi3C,GAAc54C,SAAQ,SAAS9L,GACtC,IAAI4B,EAAI6L,GAAA,KAAOg3C,EAAWO,EAAY/d,OAAOjnC,KAC7Cu7C,EAAM77C,KAAK,EAAEM,GAAK4B,EAAEQ,EACpBm5C,EAAM77C,KAAK,EAAEM,EAAI,GAAK4B,EAAE0tB,EACxBisB,EAAM77C,KAAK,EAAEM,EAAI,GAAK4B,EAAEwO,EACxBmrC,EAAM77C,KAAK,EAAEM,EAAI,GAAK,OAExB8kD,EAAII,aAAa3J,EAAO,EAAG,GA9K7B77C,EAAKoM,QAAQjK,IACTiiD,EAAQtjD,KAAKqB,KAGjBipB,EACGkD,UAAU,UACVtuB,KAAKA,GACLs0B,QAAQjX,OAAO,QACfC,KAAK,IAAM8W,GACX9W,KAAK,QAAQ,iBACbA,KAAK,KAAK,CAACnb,EAAE7B,IAAI6B,EAAEC,MACnB6H,MAAM,OAAQ,QACdA,MAAM,SAAU,CAAC9H,EAAE7B,IACX0jD,EAAiB55C,SAASjI,EAAEC,MAAM,OAAO,WAEjD6H,MAAM,eAAgB,GACtBA,MAAM,UAAW,GACjBrF,GAAG,cAAc,SAASzC,EAAE7B,GACzB4jD,EAAU/hD,EAAE7B,MAEbsE,GAAG,cAAc,SAASzC,EAAE7B,GAC3B6jD,EAAYhiD,EAAE7B,MAIpB8qB,EAAIkD,UAAU,UACXtuB,KAAKsrC,GAAYhX,QACjBjX,OAAO,KACPC,KAAK,aAAa,SAASnb,GAAK,MAAO,aAAeya,EAAEza,GAAK,OAC7D03B,MAAK,SAAS13B,GAAK4L,GAAA,KAAU9J,MAAMrD,KAAKmN,GAAA,KAA2B8O,EAAE1a,IAAI23B,MAAMjd,EAAE1a,QACjFkb,OAAO,QACLC,KAAK,QAAQ,iBACbA,KAAK,KAAK,CAACnb,EAAE7B,IAAI,iBAAiBA,GAClC2J,MAAM,cAAe,UACrBqT,KAAK,KAAM,GACXA,KAAK,YAAa,IAClBtU,MAAK,SAAS7G,GAAK,OAAOA,KAC1B8H,MAAM,OAAQ,QACdrF,GAAG,QAAS,CAACzC,EAAE7B,KACV2D,KAAKwuB,SAAW,CAACtwB,EAAE7B,GACnB+jD,EAAaliD,EAAE7B,EAAEwjD,KAIA,GAAvB7/C,KAAKwuB,SAASjyB,QAAY6jD,EAAapgD,KAAKwuB,SAAS,GAAGxuB,KAAKwuB,SAAS,GAAGqxB,KAsI/ED,IAEA,MAAM5zB,EAAa,KACjB7E,EAAI/N,OAAO,QACRC,KAAK,YAAa,KACjB,MAAM4S,EAAUjsB,KAAKgW,MAAQ,IACvBkW,EAAUlsB,KAAK6Y,OAA8B,GAArB7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,uBAEVinB,IAsCAhsB,KAAK0sB,kBAGP,sBC/jBsa,MCQta,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAShC,IAAkB,GAAW,CAACznB,kBAAA,KAAgB2oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMy0B,WAAA,OC5B3F,IAAI,GAAS,WAAa,IAAIr5B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,2BAA2B,KAAKV,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,aAAa,CAAC/B,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,wBAAwBQ,MAAM,CAAClC,MAAOmB,EAAmB,gBAAEgB,SAAS,SAAUC,GAAMjB,EAAIyhD,gBAAgBxgD,GAAKE,WAAW,oBAAoB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,6CAA6C,MAAQ,UAAUH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,+CAA+C,MAAQ,UAAUH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,6CAA6C,MAAQ,UAAUH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,kDAAkD,MAAQ,eAAeH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,+CAA+C,MAAQ,YAAYH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,2CAA2C,MAAQ,QAAQH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,4CAA4C,MAAQ,UAAU,IAAI,MAAM,IAAI,GAAGH,EAAG,cAAc,CAACG,MAAM,CAAC,QAAUP,EAAIkuB,QAAQ,UAAW,EAAK,mBAAkB,EAAM,mBAAkB,EAAM,mBAAkB,EAAK,YAAc,YAAY,MAAQ,OAAO,WAAW,OAAO,mBAAkB,GAAM1tB,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,YAAYuB,GAAG,SAASC,GAChqD,IAAIqI,EAASrI,EAAIqI,OAEbmlB,GADSxtB,EAAIytB,OACJztB,EAAIwtB,QACjB,MAAO,CAAEnlB,EAAOxM,SAAW2xB,EAAQ/tB,EAAG,OAAO,CAACE,YAAY,uBAAuB,CAACN,EAAIc,GAAG,IAAId,EAAIoB,GAAG4H,EAAOxM,QAAQ,wBAAwBwD,EAAIqG,UAAUtF,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAInB,MAAMoC,GAAKE,WAAW,WAAWf,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,aAAaH,EAAG,MAAM,CAACO,IAAI,SAAS,IACtS,GAAkB,GCuEP,UAAIqC,OAAO,CACxB5E,KAAM,qBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KAChDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCtgB,EAAkB,aAClBwgB,EAAQ,CACZjf,KAAM,GACNV,WAAY,IAERm6C,EAAa,MACbD,EAAkB,OACxB,MAAO,CACL93C,IAAI,EACJE,IAAI,IACJ43C,kBACA5iD,MAAO,GACP6iD,aACAh7C,kBACAoS,SACA6oC,iBAAiB,KACjBz6B,QACAL,SACA4H,SAAS,GACTlqB,MAAO,GACP8iB,WAAY,UACZC,gBAAiB,UACjBC,gBAAiB,UACjBC,gBAAiB,UACjBvR,QACAyY,aAAa,GACbjH,WAAY,UACZC,gBAAiB,UACjBk6B,aAAa,KAGjBj6B,SAAU,CACR,mBACE,OAAO1nB,KAAKoB,OAAOC,MAAM8R,kBAE3B,UACE,IAAI8a,EAAU,GACd,MAAMpsB,EAAc7B,KAAK6B,YAIzB,OAHAA,EAAYsG,QAASlK,IACnBgwB,EAAQpxB,KAAK,CAACsB,KAAMF,MAEfgwB,GAET,UACE,MAAO,IAAIjuB,KAAKuG,SAASqM,UAE3B,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,mBACE,MAAO,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,SAEhF,kBACE,MAAO,CAAC,IAAI,OAAQ,MAAM,OAAQ,MAAO,OAAQ,MAAM,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAO,OAAQ,MAAM,OAAQ,MAAM,OAAQ,MAAM,OAAO,QAGvJ,uBACE,OAAO+B,KAAKoB,OAAOC,MAAM2Q,yBAE3B,YACE,MAAO,IAAIhS,KAAKuG,SAASsB,YAE3B,WAEE,MAAMwD,EAAc,IAAIrL,KAAKuG,SAASgD,UAChCq4C,EAAe,CAAC,WAAY,SAC5BC,EAAaj6C,IACjB,MAAMH,EAAUzH,KAAKoB,OAAOyE,QAAQ4B,QAAQG,GAC5C,OAAOg6C,EAAaz7C,SAASsB,EAAQO,OAEjC85C,EAAmBz2C,EAAYI,OAAOo2C,GACtCE,EAAsB,IAAI/hD,KAAKuG,SAASgD,UAAUkC,OAAQO,GAA8C,gBAAxChM,KAAKoB,OAAOyE,QAAQ4B,QAAQuE,GAAGhE,MACrG,IAAIuB,EAAW,GAQf,OAPAu4C,EAAgB35C,QAASlK,IACvBsL,EAAS1M,KAAKoB,KAEhB8jD,EAAoB55C,QAASlK,IAC3BsL,EAAS1M,KAAKoB,KAEhBsL,EAAWA,EAASkC,OAAOO,GAAM,iBAAHA,GACvBzC,GAET,sBAEE,IAAIo4C,EAAe,GACfK,EAAsBhiD,KAAKpB,MAAMwK,IAAKtD,GAAIA,EAAE3H,MAC5C8jD,EAAiBD,EAAoB,GAuFzC,OAtFAhiD,KAAKkiD,gBAAgB/5C,QAASg6C,IAC5BniD,KAAKkiD,gBAAgB/5C,QAASi6C,IAC5B,IAAI9hC,EAAgB9jB,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAAS87C,GAAiBjiD,KAAK0uB,qBAAqBuzB,GAAkB,IAAM,GACpItwB,EAAYla,WAAW0qC,GACvBvwB,EAAana,WAAW2qC,GACxBnkD,EAAIgkD,EACJt0C,EAAc,CAAC1P,EAAE,IACrB0P,EAAY1P,GAAI,CACZ,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,EACL,KAAO,EACP,KAAO,EACP,KAAO,EACP,KAAO,GAEP0zB,GAAaC,IACTD,GAAaC,IACftR,EAAgB6hC,GAElBniD,KAAK6H,UAAUM,QAASkB,IACxB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuBnf,GAE5Dg1B,EAAmBtB,GAAasB,EAAmBrB,EAC/CtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GACtCqgB,GAAoB3S,EACtB3S,EAAY1P,GAAG,SAAW,EAE1B0P,EAAY1P,GAAG,SAAW,EAGxBg1B,EAAmB3S,EACrB3S,EAAY1P,GAAG,SAAW,EAE1B0P,EAAY1P,GAAG,SAAW,EAGvBg1B,GAAoBrB,EACzBtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CjF,EAAY1P,GAAG,OAAS,EAExB0P,EAAY1P,GAAG,OAAS,EAGtBqL,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CjF,EAAY1P,GAAG,OAAS,EAExB0P,EAAY1P,GAAG,OAAS,KAOhC,IAAIokD,EAAiB10C,EAAY1P,GAAGuhB,KAAQ7R,EAAY1P,GAAG0hB,KAAQhS,EAAY1P,GAAG6hB,KAAQnS,EAAY1P,GAAG+hB,KACrGsiC,GAAQ30C,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGyhB,GAAK2iC,GAAkBriD,KAAK6H,UAAUtL,OACjFgmD,GAAQ50C,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGyhB,GAAK/R,EAAY1P,GAAGuhB,KAAQ7R,EAAY1P,GAAG0hB,MAAQ3f,KAAK6H,UAAUtL,OAC7GimD,GAAQ70C,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGyhB,IAAM1f,KAAK6H,UAAUtL,OAChE6S,EAAazB,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAG4hB,IAAK,EAAE,EAAGlS,EAAY1P,GAAK,IAAK0P,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAG4hB,IACnHK,EAAUvS,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGwC,IAAK,EAAE,EAAGkN,EAAY1P,GAAK,IAAK0P,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGwC,IAChHqL,EAAOsD,EAAY8Q,GAAW,EAAI,EAAI,EAAI9Q,EAAY8Q,GAAU9Q,EAAY8Q,GAC5EX,EAAK5R,EAAY1P,GAAGshB,GACpBM,EAAMlS,EAAY1P,GAAG4hB,GACrBH,EAAM/R,EAAY1P,GAAGyhB,GACrBjf,EAAMkN,EAAY1P,GAAGwC,GACrB2f,EAAM,EAERA,GADGb,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,GAC7B8e,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAEvD,EAERkhD,EAAa9kD,KAAK,CAChB,MAAQslD,EACR,SAAYC,EACZ,MAAe,IAAPG,EACR,KAAc,IAAPD,EACP,KAAc,IAAPE,EACP,UAAwB,IAAZpzC,EACZ,OAAkB,IAAT8Q,EACT,GAAW,IAALpU,EACN,IAAa,IAANsU,EACP,YAAciiC,EAAiBriD,KAAK6H,UAAUtL,OAAS,UAItDolD,GAET,aAIE,OAAO3hD,KAAKoB,OAAOC,MAAM8J,mBAE3B,aACE,OAAOnL,KAAKoB,OAAOC,MAAMmP,YAE3B,eACE,OAAOxQ,KAAKoB,OAAOC,MAAMoP,eAG7BuZ,MAAO,CACL,eACE,IAAIpZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,sBAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKpB,MAAQ,GACbA,EAAMiD,YAAYsG,QAASlK,IACrB+B,KAAK6B,YAAYsE,SAASlI,IAC5B+B,KAAKpB,MAAM/B,KAAK,CAAC,KAAOoB,MAG5B+B,KAAKwhD,gBAAkB5iD,EAAM4iD,mBAInCxhD,KAAKiqB,eAEP,aACE,IAAIpV,EAAS,CAAC,KAAO,qBACP,OAAU,CACR,YAAc7U,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,MACpC,gBAAkB6B,KAAKwhD,kBACvCxhD,KAAKoB,OAAOO,SAAS,oBAAoBkT,IAE3C,QACM7U,KAAKpB,MAAMrC,OAAS,IACtByD,KAAKpB,MAAQ,CAACoB,KAAKpB,MAAMoB,KAAKpB,MAAMrC,OAAO,KAE7CyD,KAAKyiD,qBACLziD,KAAK0iD,mBAEP,YACE1iD,KAAKyiD,qBACLziD,KAAK0iD,mBAEP,kBACE1iD,KAAK0iD,oBAGT,UACE,IAAI9xC,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,sBAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKpB,MAAQ,GACbA,EAAMiD,YAAYsG,QAASlK,IACrB+B,KAAK6B,YAAYsE,SAASlI,IAC5B+B,KAAKpB,MAAM/B,KAAK,CAAC,KAAOoB,MAG5B+B,KAAKwhD,gBAAkB5iD,EAAM4iD,mBAInCxhD,KAAKiqB,eAEP/mB,QAAS,CACP,qBAEE,IAAIy+C,EAAe,GACfK,EAAsBhiD,KAAKpB,MAAMwK,IAAKtD,GAAIA,EAAE3H,MAC5C8jD,EAAiBD,EAAoB,GACzChiD,KAAKkiD,gBAAgB/5C,QAASg6C,IAC5BniD,KAAKkiD,gBAAgB/5C,QAASi6C,IAC5B,IAAI9hC,EAAgB9jB,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAAS87C,GAAiBjiD,KAAK0uB,qBAAqBuzB,GAAkB,IAAM,GACpItwB,EAAYla,WAAW0qC,GACvBvwB,EAAana,WAAW2qC,GACxBnkD,EAAIgkD,EACJt0C,EAAc,CAAC1P,EAAE,IACrB0P,EAAY1P,GAAI,CACZ,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,EACL,KAAO,EACP,KAAO,EACP,KAAO,EACP,KAAO,GAEP0zB,GAAaC,GACb5xB,KAAK6H,UAAUM,QAASkB,IACxB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuBnf,GAClDqL,GAAaD,GAAIqE,OAAUpE,GAAaD,GAAIsE,YAAY1P,GAClEg1B,EAAmBtB,GAAasB,EAAmBrB,EAC/CtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GACtCqgB,GAAoB3S,EACtB3S,EAAY1P,GAAG,SAAW,EAE1B0P,EAAY1P,GAAG,SAAW,EAGxBg1B,EAAmB3S,EACrB3S,EAAY1P,GAAG,SAAW,EAE1B0P,EAAY1P,GAAG,SAAW,EAGvBg1B,GAAoBrB,EACzBtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CjF,EAAY1P,GAAG,OAAS,EAExB0P,EAAY1P,GAAG,OAAS,EAGtBqL,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1CjF,EAAY1P,GAAG,OAAS,EAExB0P,EAAY1P,GAAG,OAAS,IAMhC,IAAIokD,EAAiB10C,EAAY1P,GAAGuhB,KAAQ7R,EAAY1P,GAAG0hB,KAAQhS,EAAY1P,GAAG6hB,KAAQnS,EAAY1P,GAAG+hB,KACrGsiC,GAAQ30C,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGyhB,GAAK2iC,GAAkBriD,KAAK6H,UAAUtL,OACjFgmD,EAAOF,GAAmBriD,KAAK6H,UAAUtL,OAAQ,GAAKoR,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGyhB,KAAO1f,KAAK6H,UAAUtL,OAAS8lD,GACxHG,GAAQ70C,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGyhB,IAAM1f,KAAK6H,UAAUtL,OAChE6S,EAAYzB,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAG4hB,IAAM,EAAG,EAAIlS,EAAY1P,GAAK,IAAK0P,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAG4hB,IACrHK,EAAUvS,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGwC,IAAO,EAAG,EAAIkN,EAAY1P,GAAK,IAAK0P,EAAY1P,GAAGshB,GAAK5R,EAAY1P,GAAGwC,IACpHqL,EAAOsD,EAAY8Q,GAAW,EAAI,EAAI,EAAI9Q,EAAY8Q,GAAU9Q,EAAY8Q,GAC5EX,EAAK5R,EAAY1P,GAAGshB,GACpBM,EAAMlS,EAAY1P,GAAG4hB,GACrBH,EAAM/R,EAAY1P,GAAGyhB,GACrBjf,EAAMkN,EAAY1P,GAAGwC,GACrB2f,EAAM,EAERA,GADGb,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAAO,GAC7B8e,EAAGG,EAAGG,EAAGpf,GAAMgJ,KAAK0W,MAAMZ,EAAGM,IAAKN,EAAG9e,IAAKif,EAAGG,IAAKH,EAAGjf,IAEvD,EAERkhD,EAAa9kD,KAAK,CAChB,MAAQslD,EACR,SAAYC,EACZ,MAAe,IAAPG,EACR,KAAc,IAAPD,EACP,KAAc,IAAPE,EACP,UAAwB,IAAZpzC,EACZ,OAAkB,IAAT8Q,EACT,GAAW,IAALpU,EACN,IAAa,IAANsU,EACP,YAAciiC,EAAiBriD,KAAK6H,UAAUtL,OAAS,UAI7DyD,KAAK2hD,aAAeA,GAEtB,cAEE73C,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAM2J,EAASprB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC7CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACZrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,OAAU/mB,KAAK4mB,OAAOI,QACnEG,EAAM+N,EAAO9b,OAAO,KACrBC,KAAK,QAAQ,cACbA,KAAK,YAAa,gBAAmBrZ,KAAK4mB,OAAOC,QAKhD87B,GAHmBztB,EAAO9b,OAAO,KAClCC,KAAK,QAAQ,oBACbA,KAAK,YAAY,gBAAmC,IAAhBrZ,KAAK4mB,OAAOC,IAAU7mB,KAAK4mB,OAAOI,SACxD,KACjBkO,EAAO9b,OAAO,QACXC,KAAK,YAAa,KACjB,MAAM4S,EAAuB,GAAbjsB,KAAKgW,MACfkW,EAAUlsB,KAAK6Y,OAA8B,IAArB7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,wBAERmwB,EAAO9b,OAAO,QACXC,KAAK,YAAc,KAClB,MAAM4S,EAAUjsB,KAAK4mB,OAAOI,KAAO,EAC7BkF,EAAwB,GAAdlsB,KAAK6Y,OACrB,MAAO,aAAaoT,MAAYC,mBAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,wBAERmwB,EAAO9b,OAAO,QACXC,KAAK,QAAS,cACdA,KAAK,YAAa,KACjB,MAAM4S,EAAuB,GAAbjsB,KAAKgW,MACfkW,EAA4B,EAAlBlsB,KAAK4mB,OAAOC,IAC5B,MAAO,aAAaoF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAA6B,QAAxB/E,KAAKwhD,gBAA2B,WACR,QAAxBxhD,KAAKwhD,gBAA2B,aACR,QAAxBxhD,KAAKwhD,gBAA2B,aACR,aAAxBxhD,KAAKwhD,gBAAgC,YACb,UAAxBxhD,KAAKwhD,gBAA6B,SACV,MAAxBxhD,KAAKwhD,gBAAyB,KACN,OAAxBxhD,KAAKwhD,gBAA0B,MAC/B,iBAIV,IAAIoB,EAAQ,GACRC,EAAW,GACXC,EAAU,OACVC,EAAWj5C,GAAA,KACXk5C,EAAWD,EAAS,GACpBE,EAAYn5C,GAAA,KAAkBg5C,EAAQE,GAE1C,SAASE,EAAQp9C,GACb,OAAIA,GAAG+8C,EACII,EAAUn9C,EAAE+8C,GAEZE,GAAWj9C,EAAE+8C,IAAW,EAAEA,IAIzC,IAAK,IAAIjqC,EAAE,EAAGA,EAAEgqC,EAAM,EAAGhqC,IAAK,CAC1B,IAAIuqC,EAAKvqC,EAAEgqC,EAEPG,EAAWj5C,GAAA,KACXk5C,EAAWD,EAAS,GACpBE,EAAYn5C,GAAA,KAAkBg5C,EAAQE,GAE1C,SAASE,EAAQp9C,GACb,OAAIA,GAAG+8C,EACII,EAAUn9C,EAAE+8C,GAEZE,GAAWj9C,EAAE+8C,IAAW,EAAEA,IAIzC17B,EAAI/N,OAAO,QACNC,KAAK,IAAM,GAAFT,GACTS,KAAK,IAAI,GACTA,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdrT,MAAM,OAAOk9C,EAAQC,IAE9B,MAAMC,EAAe,KACnBj8B,EAAI/N,OAAO,UACRC,KAAK,IAAI,IACTA,KAAK,KAAK,IACVA,KAAK,KAAK,IACVA,KAAK,OAAQ,UAChB8N,EAAI/N,OAAO,QACRC,KAAK,IAAI,IACTA,KAAK,IAAI,IACTtU,KAAK,kBACLsU,KAAK,YAAY,KAGtBspC,IACAS,IACApjD,KAAK0iD,mBAEP,kBACkC,GAA5B1iD,KAAK2hD,aAAaplD,SACpByD,KAAK2hD,aAAe3hD,KAAKqjD,qBAG3B,MAAMl5B,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BA,EAAMgD,EAAMK,OAAO,qBAGnB84B,GAFan5B,EAAMK,OAAO,eACRxqB,KAAKwhD,gBACVr3B,EAAMK,OAAO,gBAEhC84B,EAAWv+C,KAA6B,QAAxB/E,KAAKwhD,gBAA2B,WACd,QAAxBxhD,KAAKwhD,gBAA2B,aACR,QAAxBxhD,KAAKwhD,gBAA2B,aACR,aAAxBxhD,KAAKwhD,gBAAgC,YACb,UAAxBxhD,KAAKwhD,gBAA6B,SACV,MAAxBxhD,KAAKwhD,gBAAyB,KACN,OAAxBxhD,KAAKwhD,gBAA0B,MAC/B,eAEVr6B,EAAIkD,UAAU,KAAKkB,SAEnB,MAAMm3B,EAAkB,KAEtB,IAAIa,EAAW,GACXC,EAAS,GAEbxjD,KAAK2hD,aAAax5C,QAASs7C,IACpBF,EAASp9C,SAASs9C,EAAKtB,QAC1BoB,EAAS1mD,KAAK4mD,EAAKtB,OAEhBqB,EAAOr9C,SAASs9C,EAAKrB,WACxBoB,EAAO3mD,KAAK4mD,EAAKrB,YAKrB,IAAIzpC,EAAI7O,GAAA,OACL+f,MAAM,CAAE,EAAG7pB,KAAKgW,QAChBjM,OAAOw5C,GACPlwB,QAAQ,KACX,MAAM3H,EAASC,GAAWA,EACvBtS,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAUhnB,KAAK6Y,WAC1Dlc,KACCmN,GAAA,KAAc6O,GACXiT,cAAc,IAErBzE,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SAGvB,IAAIT,EAAI9O,GAAA,OACL+f,MAAM,CAAE7pB,KAAK6Y,OAAQ,IACrB9O,OAAOy5C,GACPnwB,QAAQ,KACX,MAAMxH,EAASF,GAAWA,EACvBtS,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,YAC3CrqB,KAAKmN,GAAA,KAAY8O,GACfgT,cAAc,IAGnBzE,EAAI/N,OAAO,KACRzc,KAAKkvB,GACLxS,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,cAAe,OAEvB,IAAItd,EAAQiE,KAAK2hD,aAKXvO,EAAUjsB,EAAI/N,OAAO,QACtBC,KAAK,QAAQrZ,KAAKgW,OAClBqD,KAAK,SAASrZ,KAAK4mB,OAAOI,KAAO,EAAI,EAAG,IACxC3N,KAAK,IAAIrZ,KAAK4mB,OAAOI,MACrB3N,KAAK,KAAKrZ,KAAK4mB,OAAOI,KAAK,IAC3B3N,KAAK,KAAK,GACVA,KAAK,OAAQ,SACbA,KAAK,SAAS,QACdA,KAAK,eAAe,GACpBrT,MAAM,UAAW,GAEhB09C,EAAev8B,EAAI/N,OAAO,QAC3BC,KAAK,IAAIrZ,KAAK4mB,OAAOI,KAAO,GAC5B3N,KAAK,MAAMrZ,KAAK4mB,OAAOI,KAAK,IAAI,GAChC3N,KAAK,KAAK,UACVA,KAAK,YAAY,IAChBsqC,EAAex8B,EAAI/N,OAAO,QAC3BC,KAAK,IAAIrZ,KAAK4mB,OAAOI,KAAO,GAC5B3N,KAAK,MAAMrZ,KAAK4mB,OAAOI,KAAK,IAAI,GAChC3N,KAAK,KAAK,SACVA,KAAK,YAAY,IAChBuqC,EAAez8B,EAAI/N,OAAO,QAC3BC,KAAK,IAAIrZ,KAAK4mB,OAAOI,KAAO,GAC5B3N,KAAK,MAAMrZ,KAAK4mB,OAAOI,KAAK,IAAI,GAChC3N,KAAK,KAAK,SACVA,KAAK,YAAY,IAChBwqC,EAAe18B,EAAI/N,OAAO,QAC3BC,KAAK,IAAIrZ,KAAK4mB,OAAOI,KAAO,GAC5B3N,KAAK,MAAMrZ,KAAK4mB,OAAOI,KAAK,IAAI,GAChC3N,KAAK,KAAK,SACVA,KAAK,YAAY,IAEhByqC,EAAY,SAAS5lD,GACvBk1C,EAAQptC,MAAM,UAAW,IAEvB+9C,EAAY,SAAS7lD,GACvBolD,EAAWjqC,KAAK,aAAa,UAC7BqqC,EAAa19C,MAAM,UAAW,GAC9B29C,EAAa39C,MAAM,UAAW,GAC9B49C,EAAa59C,MAAM,UAAW,GAC9B69C,EAAa79C,MAAM,UAAW,GAC9B09C,EACG3+C,KAAK,oBAAqB7G,EAAEikD,MAAQ,MAAQjkD,EAAEkkD,UACjDuB,EACG5+C,KAAK,cAAgB0S,WAAWvZ,EAAEokD,MAAMjqC,QAAQ,GAA3C,iBAA6EZ,WAAWvZ,EAAEU,OAAOyZ,QAAQ,GAAzG,kBAAwIZ,WAAWvZ,EAAEskD,MAAMnqC,QAAQ,IAC3KurC,EACG7+C,KAAK,cAAgB0S,WAAWvZ,EAAEkR,WAAWiJ,QAAQ,GAAhD,iBAA6EZ,WAAWvZ,EAAEgiB,QAAQ7H,QAAQ,GAA1G,WAAiIZ,WAAWvZ,EAAE4N,IAAIuM,QAAQ,IAClKwrC,EACG9+C,KAAK,QAAU0S,WAAWvZ,EAAEkiB,KAAK/H,QAAQ,GAApC,kBAAkEZ,WAAWvZ,EAAE8lD,aAAa3rC,QAAQ,KAE1G4rC,EAAa,SAAS/lD,GACxBk1C,EAAQptC,MAAM,UAAW,GACzB09C,EAAa19C,MAAM,UAAW,GAC9B29C,EAAa39C,MAAM,UAAW,GAC9B49C,EAAa59C,MAAM,UAAW,GAC9B69C,EAAa79C,MAAM,UAAW,GAC9Bs9C,EAAWjqC,KAAK,aAAa,YAI/B,IAAIwpC,EAAW,GACXC,EAAU,OACVC,EAAWj5C,GAAA,KACTk5C,EAAWD,EAAS,GACpBE,EAAYn5C,GAAA,KAAkBg5C,EAAQE,GAE1C,SAASE,EAAQp9C,GACb,OAAIA,GAAG+8C,EACII,EAAUn9C,EAAE+8C,GAEZE,GAAWj9C,EAAE+8C,IAAW,EAAEA,IAI3C17B,EAAIkD,YACDtuB,KAAKA,GAAM,SAASmC,GAAI,OAAOA,EAAE,SAAS,IAAIA,EAAE,eAChDmyB,QACEjX,OAAO,UACLC,KAAK,MAAK,SAASnb,GAAK,OAAO0a,EAAE0S,YAAa,IAAI3S,EAAEza,EAAE,aACtDmb,KAAK,MAAK,SAASnb,GAAK,OAAO0a,EAAE0S,YAAa,EAAE1S,EAAE1a,EAAE,gBACpDmb,KAAK,IAAKnb,IAAK,IAAIuZ,WAAYvZ,EAAE,iBAAmB,IAAM0a,EAAE0S,YAAc,GAC5EjS,KAAK,YAAa,aAAerZ,KAAK4mB,OAAOI,KAA3B,OAElBhhB,MAAM,OAAQ9H,GACTuZ,WAAYvZ,EAAE,WAAc,EACC,QAAxB8B,KAAKwhD,gBAA2B0B,EAAQzrC,WAAYvZ,EAAE,UAAY,KACzC,QAAxB8B,KAAKwhD,gBAA2B0B,EAAQzrC,WAAYvZ,EAAE,SAAW,KACzC,QAAxB8B,KAAKwhD,gBAA2B0B,EAAQzrC,WAAYvZ,EAAE,SAAW,KACzC,aAAxB8B,KAAKwhD,gBAAgC0B,EAAQzrC,WAAYvZ,EAAE,cAAgB,KACnD,UAAxB8B,KAAKwhD,gBAA6B0B,EAAQzrC,WAAYvZ,EAAE,WAAa,KAC7C,MAAxB8B,KAAKwhD,gBAAyB0B,EAAQzrC,WAAYvZ,EAAE,OAAS,KACrC,OAAxB8B,KAAKwhD,gBAA0B0B,EAAQz5C,KAAK4W,IAAI5I,WAAYvZ,EAAE,SAAW,KACzEglD,EAAQzrC,WAAYvZ,EAAE,gBAAkB,KAEzCglD,EAAmC,KAA1BzrC,WAAYvZ,EAAE,YAEnCmb,KAAK,aAAanb,GAAGA,EAAE,SAAWA,EAAE,YAAa,SAAS,WAC1DyC,GAAG,YAAamjD,GAChBnjD,GAAG,YAAaojD,GAChBpjD,GAAG,aAAcsjD,IAKxBvB,QCttBua,MCQza,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAWhC,IAAkB,GAAW,CAACz9C,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,OC9BzH,IAAI,GAAS,WAAa,IAAIhuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,mBAAmB,KAAKV,EAAG,4BAA4B,CAACA,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,eAAeQ,MAAM,CAAClC,MAAOmB,EAAoB,iBAAEgB,SAAS,SAAUC,GAAMjB,EAAIi4C,iBAAiBh3C,GAAKE,WAAW,sBAAsBf,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,YAAYQ,MAAM,CAAClC,MAAOmB,EAAiB,cAAEgB,SAAS,SAAUC,GAAMjB,EAAIk4C,cAAcj3C,GAAKE,WAAW,mBAAmBf,EAAG,WAAW,CAACG,MAAM,CAAC,IAAM,IAAI,IAAM,MAAM,MAAQ,gBAAgB,cAAc,IAAIQ,MAAM,CAAClC,MAAOmB,EAAiB,cAAEgB,SAAS,SAAUC,GAAMjB,EAAIm4C,cAAcl3C,GAAKE,WAAW,mBAAmBf,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,qBAAqBQ,MAAM,CAAClC,MAAOmB,EAAa,UAAEgB,SAAS,SAAUC,GAAMjB,EAAI+3C,UAAU92C,GAAKE,WAAW,cAAc,CAACf,EAAG,UAAU,CAACjB,IAAI,OAAOoB,MAAM,CAAC,MAAQ,OAAO,MAAQ,MAAMH,EAAG,UAAU,CAACjB,IAAI,QAAQoB,MAAM,CAAC,MAAQ,QAAQ,MAAQ,WAAWH,EAAG,UAAU,CAACjB,IAAI,SAASoB,MAAM,CAAC,MAAQ,SAAS,MAAQ,YAAYH,EAAG,UAAU,CAACjB,IAAI,SAASoB,MAAM,CAAC,MAAQ,SAAS,MAAQ,aAAa,IAAI,IAAI,IAAI,GAAGH,EAAG,eAAe,CAACE,YAAY,cAAcC,MAAM,CAAC,MAAQ,GAAG,QAAUP,EAAIuvC,QAAQ,MAAQvvC,EAAI8H,UAAU,UAAU9H,EAAI83C,OAAO,YAAY93C,EAAIg4C,YAAYp3C,GAAG,CAAC,gBAAgB,SAASoB,GAAQhC,EAAI83C,OAAO91C,GAAQ,iBAAiB,SAASA,GAAQhC,EAAI83C,OAAO91C,GAAQ,kBAAkB,SAASA,GAAQhC,EAAIg4C,WAAWh2C,GAAQ,mBAAmB,SAASA,GAAQhC,EAAIg4C,WAAWh2C,IAASxB,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,OAAOuB,GAAG,SAASC,GAC95D,IAAIqwC,EAAQrwC,EAAIqwC,MAChB,MAAO,CAAC5wC,EAAG,QAAQJ,EAAI0B,GAAG,GAAQ,SAASkb,GAAM,OAAOxc,EAAG,KAAK,CAACjB,IAAIyd,EAAKtT,GAAGtD,MAAM,CAAC,iBAAkB4W,IAAS5c,EAAIqB,OAAOC,MAAMwR,eAAe7M,MAAOjG,EAAIyvC,cAAc7yB,GAAOhc,GAAG,CAAC,WAAa,SAASoB,GAAQ,OAAOhC,EAAI0vC,qBAAqB9yB,EAAKtT,KAAK,WAAatJ,EAAI2vC,mBAAmB,MAAQ,SAAS3tC,GAAyD,OAAjDA,EAAO2rB,kBAAkB3rB,EAAO0rB,iBAAwB1tB,EAAIs5B,MAAM1c,IAAO,YAAc,SAAS5a,GAAyD,OAAjDA,EAAO2rB,kBAAkB3rB,EAAO0rB,iBAAwB1tB,EAAIyqB,OAAO7N,EAAKtT,GAAI,aAAa,CAAClJ,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAIc,GAAGd,EAAIoB,GAAGwb,EAAKtT,OAAOlJ,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAIc,GAAGd,EAAIoB,GAAGwb,EAAKjP,WAAW3N,EAAI0B,GAAI1B,EAA4B,0BAAE,SAASuH,GAAY,OAAOnH,EAAG,KAAK,CAACjB,IAAIyd,EAAKtT,GAAG/B,EAAW,IAAIqV,EAAKS,uBAAuB9V,GAAYjH,YAAY,gBAAgB,CAACN,EAAIc,GAAG,IAAId,EAAIoB,GAAGwb,EAAKS,uBAAuB9V,IAAa,UAASvH,EAAI0B,GAAI1B,EAAe,aAAE,SAASuH,GAAY,OAAOnH,EAAG,KAAK,CAACjB,IAAIyd,EAAKtT,GAAG/B,EAAW,IAAIqV,EAAKhP,YAAYrG,GAAYjH,YAAY,gBAAgB,CAACN,EAAIc,GAAG,IAAId,EAAIoB,GAAGwb,EAAKhP,YAAYrG,IAAa,UAASvH,EAAI0B,GAAI1B,EAAY,UAAE,SAAS0H,GAAS,OAAOtH,EAAG,KAAK,CAACjB,IAAIyd,EAAKtT,GAAG5B,EAAQ,IAAIkV,EAAKjP,OAAOrN,YAAY,eAAeC,MAAM,CAAC,MAAQqc,EAAKpT,SAAS9B,KAAW,CAAC1H,EAAIc,GAAG,IAAId,EAAIoB,GAAGpB,EAAImkD,QAAQvnC,EAAKpT,SAAS9B,KAAW,WAAU,MAAK,WAAW,IACtyC,GAAkB,GCgHP,UAAI1E,OAAO,CACxB5E,KAAM,eACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAO,CACLpiB,MAAO,GACPuzC,OAAQ,GACRC,UAAW,GACXC,YAAY,EACZC,kBAAkB,EAClBC,eAAe,EACfC,cAAe,EACfiM,WAAY,EACZC,WAAY,IAGhB18B,SAAU,CACR28B,yBAA0B,WACxB,MAAwB,cAApBrkD,KAAK4G,YACA5G,KAAK6B,YAEP,IAET,cACE,IAAI+E,EAAc5G,KAAKoB,OAAOC,MAAMuF,YACpC,OAAOA,GAET,cACE,MAAM+X,EAAmB,CACvB,SACA,sBACA,qBAEF,GAAI3e,KAAKg4C,iBAAkB,CACzB,MAAMn2C,EAAc,IAAI7B,KAAKoB,OAAOyE,QAAQ8I,qBAC5C,MAAqC,cAAjC3O,KAAKoB,OAAOC,MAAMuF,YACb/E,EAAY4J,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,IAEvD4D,EAET,MAAO,IAET,WACE,GAAI7B,KAAKi4C,cAAe,CACtB,MAAM1uC,EAAW,IAAIvJ,KAAKoB,OAAOyE,QAAQ0D,UACzC,OAAOA,EAET,MAAO,IAET,UACE,MAAM+lC,EAAU,CACd,CAAEvqC,KAAM,KAAMnG,MAAO,MACrB,CAAEmG,KAAM,eAAgBnG,MAAO,gBA0BjC,OAxBIoB,KAAKg4C,kBAAqD,cAAjCh4C,KAAKoB,OAAOC,MAAMuF,aAC7C5G,KAAK6B,YAAYsG,QAASb,IACxBgoC,EAAQzyC,KAAK,CACXkI,KAAMuC,EAAWuoC,QAAQ,KAAM,KAAzBvoC,SACN1I,MAAO0I,MAITtH,KAAKg4C,kBACPh4C,KAAK6B,YAAYsG,QAASb,IACxBgoC,EAAQzyC,KAAK,CACXkI,KAAMuC,EAAWuoC,QAAQ,KAAM,KAC/BjxC,MAAO0I,MAITtH,KAAKi4C,eACPj4C,KAAKoB,OAAOyE,QAAQ0D,SAASpB,QAASV,IACpC6nC,EAAQzyC,KAAK,CACXkI,KAAM0C,EACN7I,MAAO6I,MAIN6nC,GAET,YACE,MAAMznC,EAA8B,GACpC7H,KAAKoB,OAAOyE,QAAQyI,kBAAkBnG,QAASkB,IAC7C,MAAMhN,EAAIiN,GAAaD,GACjB6J,EAAQ,eACZ7J,MACGhN,GAELwL,EAAUhL,KAAKqW,KAEjB,MAAM,MAAE9H,EAAK,OAAE+E,GAAWnQ,KAAKiY,WACzB63B,EAAc,CAClB1kC,MAAO,CAACoB,EAAmBC,KACzB,IAAIsjC,EAAW,EACXC,EAAW,EAOf,OANI5kC,GAASA,EAAMvD,UAAUme,IAAIxZ,EAAEnD,KACjC0mC,IAEE3kC,GAASA,EAAMvD,UAAUme,IAAIvZ,EAAEpD,KACjC2mC,IAEKA,EAAWD,GAEpB5/B,OAAQ,CAAC3D,EAAmBC,KAC1B,IAAIsjC,EAAW,EACXC,EAAW,EAOf,OANI7/B,GAAUA,EAAOtI,UAAUme,IAAIxZ,EAAEnD,KACnC0mC,IAEE5/B,GAAUA,EAAOtI,UAAUme,IAAIvZ,EAAEpD,KACnC2mC,IAEKA,EAAWD,GAEpBE,OAAQ,CAACzjC,EAAmBC,KAC1B,IAAIsjC,EAAW,EACXC,EAAW,EAaf,OAZI5kC,GAASA,EAAMvD,UAAUme,IAAIxZ,EAAEnD,KACjC0mC,IAEE3kC,GAASA,EAAMvD,UAAUme,IAAIvZ,EAAEpD,KACjC2mC,IAEE7/B,GAAUA,EAAOtI,UAAUme,IAAIxZ,EAAEnD,KACnC0mC,IAEE5/B,GAAUA,EAAOtI,UAAUme,IAAIvZ,EAAEpD,KACnC2mC,IAEKA,EAAWD,IAItB,IAAIuU,EAAQtkD,KAAK63C,OAAO,GACpB0M,EAAgB18C,EAAU,GAAG8F,YAAYjR,eAAe4nD,GAAS,cAAgB,WAUrF,OATItkD,KAAK63C,OAAOt7C,OAAS,GACvBsL,EAAUgE,KAAK,CAACW,EAAGC,KACjB,IAAI+3C,GAAO,GAAKh4C,EAAE+3C,GAAeD,IAAQG,cAAch4C,EAAE83C,GAAeD,IACxE,OAAOtkD,KAAK+3C,YAAcyM,EAAMA,IAGhCxkD,KAAK83C,WACPjwC,EAAUgE,KAAKikC,EAAY9vC,KAAK83C,YAE3BjwC,GAET,aAIE,OAAO7H,KAAKoB,OAAOC,MAAM8J,oBAG7B6e,MAAO,CACL,SACE7mB,QAAQC,IAAI,UAAWpD,KAAK63C,SAE9B,aACE10C,QAAQC,IAAI,aAAcpD,KAAK+3C,aAEjC,aACE,MAAM,MAAE3sC,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAE7BjY,KAAK2vC,OADHvkC,GAAS+E,EACG,SACL/E,EACK,QACL+E,EACK,SAEA,KAIpBjN,QAAS,OAAF,wBACF,eAAW,CACZ,uBACA,wBACA,CACF,QAAQuE,GACN,IAAIi9C,EAAgB,GAAKj9C,EACzB,OAAIi9C,EAAcnoD,OAASyD,KAAKk4C,cACvBwM,EAAclnC,UAAU,EAAGxd,KAAKk4C,eAAiB,MAEjDwM,GAGX,OACEr7C,EACA+M,GAEA,MAAMvO,EAAY,IAAI4K,IAAI,CAACpJ,IACrBmJ,EAAc,aAAanJ,EACjCrJ,KAAKoB,OAAOO,SAAS,4BAA6B,CAAEkG,YAAW2K,gBAC/DxS,KAAKoB,OAAOO,SAAS,6BAA8ByU,IAErD,MAAMuG,GACJ3c,KAAKmkD,YAAc,EACK,IAApBnkD,KAAKmkD,aACLnkD,KAAKokD,WAAa5gD,YAAW,SAAS2T,GAClCA,EAAQgtC,WAAa,EAErBhtC,EAAQqT,OAAO7N,EAAKtT,GAAI,WACzB,IAAKrJ,OAEY,IAApBA,KAAKmkD,aACLQ,aAAa3kD,KAAKokD,YAClBpkD,KAAKmkD,WAAa,EAElBnkD,KAAK4kD,SAASjoC,EAAKtT,MAGzB,SAASA,GACPrJ,KAAKoB,OAAOO,SAAS,eAAgB0H,IAEvC,cAAc6J,GACZ,MAAQ9H,MAAO8kC,EAAY//B,OAAQggC,GAAgB,GAAOhlC,kBACpD+b,EAAa,GAAO7W,OAClBjF,MAAOglC,EAAgBjgC,OAAQkgC,GAAoBrwC,KAAKiY,WAC1Dq4B,EAAWF,GAAkBA,EAAevoC,UAAUme,IAAI9S,EAAS7J,IACnEknC,EAAYF,GAAmBA,EAAgBxoC,UAAUme,IAAI9S,EAAS7J,IACtEw7C,EAAW7kD,KAAKoB,OAAOC,MAAM+R,cAAgBF,EAAS7J,GAC5D,OAAGw7C,EACM,iCACe39B,eAGpBopB,GAAWC,EACN,wDACsCL,MAAeC,yCAI1DG,EACK,iCACeJ,eAGpBK,EACK,iCACeJ,wCAIjB,QC/W0Z,MCQna,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAchC,IAAkB,GAAW,CAACK,cAAA,KAAWvrC,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,KAAY4mB,WAAA,KAAQvb,WAAA,OCjCxJ,IAAI,GAAS,WAAa,IAAIr5B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,cAAcd,EAAIoB,GAAGpB,EAAI+kD,eAAe,QAAQ,KAAK3kD,EAAG,4BAA4B,CAACA,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,UAAU,YAAY,OAAO,OAAS,UAAU,eAAe,QAAQ,CAAC/B,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQP,EAAIglD,wBAAwB,MAAQ,eAAejkD,MAAM,CAAClC,MAAOmB,EAAiB,cAAEgB,SAAS,SAAUC,GAAMjB,EAAI+kD,cAAc9jD,GAAKE,WAAW,oBAAoB,GAAGf,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,UAAU,YAAY,OAAO,OAAS,UAAU,eAAe,QAAQ,CAAC/B,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQP,EAAI+hD,gBAAgB,MAAQ,WAAWhhD,MAAM,CAAClC,MAAOmB,EAAiB,cAAEgB,SAAS,SAAUC,GAAMjB,EAAI+kD,cAAc9jD,GAAKE,WAAW,mBAAmBf,EAAG,WAAW,CAACE,YAAY,eAAeC,MAAM,CAAC,IAAMP,EAAIilD,UAAUp7C,IAAI,IAAM7J,EAAIilD,UAAUt7C,IAAI,MAAS,6BAA+B3J,EAAImJ,cAAepI,MAAM,CAAClC,MAAOmB,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAImJ,aAAalI,GAAKE,WAAW,kBAAkBf,EAAG,MAAM,CAAC+B,YAAY,CAAC,OAAS,UAAU,YAAY,OAAO,OAAS,UAAU,eAAe,QAAQ,CAAC/B,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQP,EAAI8B,YAAY,MAAQ,yBAAyBf,MAAM,CAAClC,MAAOmB,EAAiB,cAAEgB,SAAS,SAAUC,GAAMjB,EAAI+kD,cAAc9jD,GAAKE,WAAW,oBAAoB,IAAI,GAAGf,EAAG,gBAAgB,CAACW,MAAM,CAAClC,MAAOmB,EAAiB,cAAEgB,SAAS,SAAUC,GAAMjB,EAAI+kD,cAAc9jD,GAAKE,WAAW,kBAAkB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,oBAAoB,MAAQ,wBAAwB,IAAI,IAAI,IAAI,GAAGH,EAAG,WAAW,CAACE,YAAY,OAAOC,MAAM,CAAC,MAAQ,aAAaQ,MAAM,CAAClC,MAAOmB,EAAwB,qBAAEgB,SAAS,SAAUC,GAAMjB,EAAIgxB,qBAAqB/vB,GAAKE,WAAW,0BAA0Bf,EAAG,MAAM,CAACO,IAAI,SAAS,IACnmE,GAAkB,GC0EP,IAFG,OAEH,OAAIqC,OAAO,CACxB5E,KAAM,YACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,IAAKC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KACjDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCE,EAAS,CACbjf,KAAM,KACNqX,OAAQ,GAEJ4lC,EAAgB,GAChBC,EAAc,CAClBxyC,UAAW,IAEPk7B,EAAU,GAChB,MAAO,CACLzmB,IAAK,GACLje,aAAc,GACd87C,UAAW,CACTp7C,IAAK,GACLF,IAAK,GAEPo7C,cAAe,oBACfK,UAAW,GACXC,UAAW,GACXC,iBAAkB,GAClBzX,UACA/0B,SACAosC,gBACA9zB,cAAc,KACdlK,QACAi+B,cACAlvC,QACA4Q,SACAtiB,MAAO,GACPghD,OAAQ,GACRC,OAAQ,GACRC,OAAQ,GACRl+B,gBAAiB,UACjBC,gBAAiB,UACjBk+B,uBAAuB,EACvBC,mBAAmB,IAGvBh+B,SAAU,CACRqJ,qBAAsB,CACpB,MAC4B,OAAtB/wB,KAAKmxB,cACPnxB,KAAKmxB,cAAgB,KAErBnxB,KAAKmxB,cAAgB,OAGzB,MACE,MAA8B,QAAvBnxB,KAAKmxB,gBAGhB,oBACE,IAAIw0B,EAAoB,GACxB,OAAQ3lD,KAAKmxB,eACX,IAAK,MACHw0B,EAAoB,MACpB,MACF,IAAK,KACHA,EAAoB,KACpB,MAEJ,OAAOA,GAET,cACE,MAAM5hC,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,YACE,MAAO,IAAI+B,KAAKuG,SAASsB,YAE3B,OACE,MAAMgC,EAAOC,GAAA,OACVC,OAAO/J,KAAK2Y,EAAE5O,UACdC,WAAWhK,KAAKkJ,cAChBtK,MAAOyK,IACN,MAAMhN,EAAIiN,GAAaD,GACjBzK,EAAQvC,EAAEkN,SAASvJ,KAAK8kD,eAC9B,OAAOlmD,GANEkL,CAQV9J,KAAK6H,WACR,OAAOgC,GAET,SACE,MAAM+7C,EAAY5lD,KAAK6J,KAAKT,IAAKa,GAAQA,EAAI1N,QACvCspD,EAASp8C,KAAKG,OAAOg8C,GAC3B,OAAOC,GAET,WACE,MAAO,IAAI7lD,KAAKuG,SAASgD,WAE3B,gBACE,MAAM1B,EAAiB7H,KAAKoB,OAAOyE,QAAQyI,kBACrCw3C,EAAez8C,GAAerJ,KAAKoB,OAAOyE,QAAQqN,SAAS7J,GAC3DF,EAA0B,IAAItB,GAAWuB,IAAKC,GAAOy8C,EAAYz8C,GAAIE,SAASvJ,KAAK8kD,gBACzF,OAAO37C,GAET,kBACE,MAAMkC,EAAc,IAAIrL,KAAKuG,SAASgD,UAChCq4C,EAAe,CAAC,WAAY,SAC5BC,EAAaj6C,IACjB,MAAMH,EAAUzH,KAAKoB,OAAOyE,QAAQ4B,QAAQG,GAC5C,OAAOg6C,EAAaz7C,SAASsB,EAAQO,OAEvChI,KAAK0lD,mBAAoBr6C,EAAYI,OAAOo2C,GAAWtlD,OACvD,IAAIwpD,EAAY16C,EAAYI,OAAOo2C,GAC/BmE,EAAS,GACb,IAAK,IAAI3pD,KAAK0pD,EAAW,CACvB,IAAInf,EAAW,CAAE7hC,KAAMghD,EAAU1pD,GAAIuC,MAAOmnD,EAAU1pD,IACtD2pD,EAAOnpD,KAAK+pC,GAEd,OAAOof,GAET,0BACE,MAAMjE,EAAsB,IAAI/hD,KAAKuG,SAASgD,UAAUkC,OAAQO,GAA8C,gBAAxChM,KAAKoB,OAAOyE,QAAQ4B,QAAQuE,GAAGhE,MACrG,OAAO+5C,GAET,sBACE,IAAIA,EAAsB,IAAI/hD,KAAKuG,SAASgD,UAAUkC,OAAQO,GAA8C,gBAAxChM,KAAKoB,OAAOyE,QAAQ4B,QAAQuE,GAAGhE,MAEnG,IAAK,IAAI3L,KADT2D,KAAKylD,uBAAyB1D,EAAoBxlD,OACpCwlD,EACZ/hD,KAAKqlD,iBAAiBxoD,KAAKklD,EAAoB1lD,IAEjD,IAAK,IAAIA,KAAK2D,KAAK6B,YACjBkgD,EAAoBllD,KAAKmD,KAAK6B,YAAYxF,IAE5C,OAAO0lD,GAET,aACE,GAAK/hD,KAAK8kD,eAAmB9kD,KAAK+hD,oBAAoB57C,SAASnG,KAAK8kD,eAE7D,CACL,IAAImB,EAAU,GACVC,EAAU,GACd,GAAKlmD,KAAK6B,YAAYsE,SAASnG,KAAK8kD,eAiC7B,CACL9kD,KAAK4S,QAAQzK,QAAS9L,IACpB6pD,EAAQrpD,KAAKR,GACb4pD,EAAQppD,KAAKR,KAEf,MAAM8pD,EAAoB,GAS1B,OARAnmD,KAAK4S,QAAQzK,QAASlK,IACpBkoD,EAAkBloD,GAAK,IAAIwU,MAG7BzS,KAAK6H,UAAUM,QAASkB,IACtB,MAAM+8C,EAAY98C,GAAaD,GAAIsE,YAAY3N,KAAK8kD,eACpDqB,EAAkBC,GAAWhlC,IAAI/X,KAE3BrJ,KAAK4tC,SACX,IAAK,GACH,OAAOsY,EAET,IAAK,YACHD,EAAQp6C,MAAK,SAAS8M,EAAGC,GACvB,OAAO9O,GAAA,KAAaq8C,EAAkBxtC,GAAGsD,KAAKkqC,EAAkBvtC,GAAGqD,SAErE,MACF,IAAK,aACHgqC,EAAQp6C,MAAK,SAAS8M,EAAGC,GACvB,OAAQutC,EAAkBvtC,GAAGqD,KAAOkqC,EAAkBxtC,GAAGsD,QAE3D,MAEJ,OAAOgqC,EA9D2C,CAClDjmD,KAAKoB,OAAOyE,QAAQ4B,QAAQzH,KAAK8kD,eAAe58C,WAAWC,QAAS9L,IAClE6pD,EAAQrpD,KAAKR,GACb4pD,EAAQppD,KAAKR,KAEf,MAAM8pD,EAEF,GAUJ,OARAF,EAAQ99C,QAASC,IACf+9C,EAAkB/9C,GAAY,IAAIqK,MAGpCzS,KAAK6H,UAAUM,QAASkB,IACtB,MAAMjB,EAAWkB,GAAaD,GAAIE,SAASvJ,KAAK8kD,eAChDqB,EAAkB/9C,GAAUgZ,IAAI/X,KAE1BrJ,KAAK4tC,SACX,IAAK,GACH,OAAOsY,EAET,IAAK,YACHD,EAAQp6C,MAAK,SAAS8M,EAAGC,GACvB,OAAO9O,GAAA,KAAaq8C,EAAkBxtC,GAAGsD,KAAKkqC,EAAkBvtC,GAAGqD,SAErE,MACF,IAAK,aACHgqC,EAAQp6C,MAAK,SAAS8M,EAAGC,GACvB,OAAQutC,EAAkBvtC,GAAGqD,KAAOkqC,EAAkBxtC,GAAGsD,QAE3D,MAEJ,OAAOgqC,GApCT,MAAO,IAuEX,gBACE,IAAIr8C,EAAM,EAUV,OATK5J,KAAK6B,YAAYsE,SAASnG,KAAK8kD,eAKlC9kD,KAAKkI,WAAWC,QAASC,IACvBwB,EAAMH,KAAKG,IAAIA,EAAK5J,KAAKooC,kBAAkBhgC,GAAU6T,QAGlDrS,GAET,aACE,MAAMy8C,EAAiB,CAACv+B,EAAYC,IAC3B/nB,KAAK8H,QAAQggB,GAAI7L,KAAOjc,KAAK8H,QAAQigB,GAAI9L,KAE5CqqC,EAAkB,CAACx+B,EAAYC,KAC3Bs+B,EAAev+B,EAAIC,GAGvBI,EAAiBnoB,KAAK4S,QAC5B,OAAQ5S,KAAK4tC,SACX,IAAK,YACHzlB,EAAetc,KAAKw6C,GACpB,MACF,IAAK,aACHl+B,EAAetc,KAAKy6C,GACpB,MAEJ,OAAOn+B,GAET,UAGE,MAAMrgB,EAEF,GAUJ,OARA9H,KAAK4S,QAAQzK,QAASlK,IACpB6J,EAAQ7J,GAAK,IAAIwU,MAGnBzS,KAAK6H,UAAUM,QAASkB,IACtB,MAAMhN,EAAIiN,GAAaD,GACvBvB,EAAQzL,EAAEqR,QAAQ0T,IAAI/X,KAEjBvB,GAET,oBAGE,IAAK9H,KAAK8kD,gBAAkB9kD,KAAK+hD,oBAAoB57C,SAASnG,KAAK8kD,eAEjE,OADA3hD,QAAQC,IAAI,2BACL,GAET,MAAMglC,EAEF,GA2BJ,OA1BKpoC,KAAK6B,YAAYsE,SAASnG,KAAK8kD,gBAclC9kD,KAAKkI,WAAWC,QAASC,IACvBggC,EAAkBhgC,GAAY,IAAIqK,MAEpCzS,KAAK6H,UAAUM,QAASkB,IACtB,MAAMjB,EAAWkB,GAAaD,GAAIsE,YAAY3N,KAAK8kD,oBACf/N,IAAhC3O,EAAkBhgC,IACpBjF,QAAQC,IAAI,qBAAsBgF,GAEpCggC,EAAkBhgC,GAAUgZ,IAAI/X,KAElClG,QAAQC,IAAI,oBAAoBglC,KAvB9BpoC,KAAKkI,WAAWC,QAASC,IACzBggC,EAAkBhgC,GAAY,IAAIqK,MAGpCzS,KAAK6H,UAAUM,QAASkB,IACtB,MAAMjB,EAAWkB,GAAaD,GAAIE,SAASvJ,KAAK8kD,oBACZ/N,IAAhC3O,EAAkBhgC,IACpBjF,QAAQC,IAAI,qBAAsBgF,GAEpCggC,EAAkBhgC,GAAUgZ,IAAI/X,KAElClG,QAAQC,IAAI,8BAA8BglC,IAcrCA,GAET,UACE,MAAO,IAAIpoC,KAAKuG,SAASqM,UAE3B,cAAsB,OAAQ5S,KAAKoB,OAAOC,MAAM+R,aAChD,mBAA2B,OAAQpT,KAAKoB,OAAOC,MAAMiS,kBACrD,aAIE,OAAOtT,KAAKoB,OAAOC,MAAM8J,mBAE3B,8BACE,IAAIo7C,EAA8B,KAClC,OAAQvmD,KAAK8kD,eACX,IAAK,oBACHyB,EAA8B,MAC9B,MAEJ,OAAOA,GAET,IACE,MAAM/8C,EAAOC,KAAKC,OAAO1J,KAAKmJ,eACxBQ,EAAOF,KAAKG,OAAO5J,KAAKmJ,eACxBwP,EAAI7O,GAAA,OACPC,OAAO,CAACP,EAAMG,IACdkgB,MAAM,CAAC,EAAG7pB,KAAKgW,QAClB,OAAO2C,GAET,IACE,MAAM6tC,EAAOxmD,KAAK6lD,OACZjtC,EAAI9O,GAAA,OACPC,OAAO,CAAC,EAA2B,OAAxB/J,KAAK2lD,kBAA0B,EAAE,IAAMa,IAClD38B,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,GAET,QACE,MAAMD,EAAI7O,GAAA,OACPC,OAAO/J,KAAKkI,YACZ2hB,MAAM,CAAC,EAAG7pB,KAAKgW,QACf8T,aAAa,IACbC,aAAa,IAChB,OAAOpR,GAET,QACE,MAAM6tC,EAAMxmD,KAAKymD,cACX7tC,EAAI9O,GAAA,OACPC,OAAO,CAAC,EAA2B,OAAxB/J,KAAK2lD,kBAA0B,EAAG,IAAMa,IACnD38B,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,GAET,SACE,MAAMD,EAAI7O,GAAA,OACPC,OAAO/J,KAAK0mD,YACZ78B,MAAM,CAAC,EAAG7pB,KAAKgW,QACf8T,aAAa,GACbC,aAAa,IAChB,OAAOpR,GAET,SACE,MAAMgwB,EAAcnsC,OAAOuM,OAAO/I,KAAK8H,SAASsB,IAAKqD,GAAmBA,EAAEwP,MACpEuqC,EAAO/8C,KAAKG,OAAO++B,GAAe3oC,KAAK6H,UAAUtL,OACjDqc,EAAI9O,GAAA,OACPC,OAAO,CAAC,EAA2B,OAAxB/J,KAAK2lD,kBAA0B,EAAG,IAAMa,IACnD38B,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,GAET,aACE,OAAO5Y,KAAKoB,OAAOC,MAAMmP,YAE3B,eACE,OAAOxQ,KAAKoB,OAAOC,MAAMoP,eAG7BuZ,MAAO,CACL,eACE,IAAIpZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,aAAbA,EAAKvD,MACHuD,EAAKmT,OAAOtY,OAAS,EAAG,CAC1B,IAAIkL,EAAW/F,EAAKmT,OAAO,IACvB7U,KAAK+kD,wBAAwB5+C,SAASsB,IACrCzH,KAAK8hD,gBAAgB37C,SAASsB,IAC9BzH,KAAK6B,YAAYsE,SAASsB,MAC3BzH,KAAK8kD,cAAgBpjD,EAAKmT,OAAO,OAK3C7U,KAAKiqB,eAEP,aACE,IAAIpV,EAAS,CAAC,KAAO,YACP,OAAU,CAAC7U,KAAK8kD,gBAC9B9kD,KAAKoB,OAAOO,SAAS,oBAAoBkT,IAE3C,gBACE7U,KAAKiqB,eAEP,UACEjqB,KAAKiqB,eAEP,gBACEjqB,KAAKiqB,eAEP,QACEjqB,KAAKkqB,aAEP,cACElqB,KAAKkqB,aAEP,gBACElqB,KAAKkqB,aAEP,YACElqB,KAAKiqB,eAEP,eACEjqB,KAAKiqB,eAEP,aACEjqB,KAAKiqB,eAEP,cACEjqB,KAAKiqB,eAEP,mBACEjqB,KAAKiqB,eAEP,gBACEjqB,KAAKiqB,gBAGT,UACE,IAAIrZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,aAAbA,EAAKvD,MACHuD,EAAKmT,OAAOtY,OAAS,EAAG,CAC1B,IAAIkL,EAAW/F,EAAKmT,OAAO,IACvB7U,KAAK+kD,wBAAwB5+C,SAASsB,IACrCzH,KAAK8hD,gBAAgB37C,SAASsB,IAC9BzH,KAAK6B,YAAYsE,SAASsB,MAC3BzH,KAAK8kD,cAAgBpjD,EAAKmT,OAAO,OAK3C7U,KAAKiqB,eAER/mB,QAAS,CACP,aACGlD,KAAKklD,YAAc,CAAGxyC,UAAW,KAEnC,YAEE,MAAMyX,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7Bw/B,EAAUx8B,EAAME,UAAU,QAC1Bu8B,EAAWz8B,EAAME,UAAU,QAC3Bw8B,EAAa18B,EAAME,UAAU,QAC7By8B,EAAgB38B,EAAME,UAAU,eAChC08B,EAAiB58B,EAAME,UAAU,eAEjCM,EAAiBR,EAAME,UAAU,qBACjCO,EAAiBT,EAAME,UAAU,qBAEjC28B,EAAe78B,EAAME,UAAU,mBAC/B48B,EAAe98B,EAAME,UAAU,mBAC/B68B,EAAiB/8B,EAAME,UAAU,mBAEjCE,EAAkBJ,EAAMK,OAAO,uBAC/BiC,EAAkBtC,EAAMK,OAAO,uBAKrC,IAAI7I,EAAgB7X,GAAA,KAAU,OACF,OAAxB9J,KAAK2lD,oBACPhkC,EAAgB7X,GAAA,KAAU,QAE5B,MAAM,MAAEsB,EAAK,OAAE+E,GAAWnQ,KAAKoB,OAAOC,MAAM8J,kBACtCg8C,EAAQ,CAACt/C,EAAwBwO,KACrC,MAAM8U,EAAuBlc,GAAapH,EAAWwO,GACrD,OAAKrW,KAAK+hD,oBAAoB57C,SAASnG,KAAK8kD,eAGX,OAAxB9kD,KAAK2lD,kBAA2Bx6B,EAAqBlP,KAAOpU,EAAc,KAAMsjB,EAAyB,MAG9GlE,EAAQjnB,KAAKinB,MACbg+B,EAAgBjlD,KAAKilD,cACa,OAApCjlD,KAAKumD,4BACAvmD,KAAKklD,YAAYxyC,WAcpBm0C,EAAW9qD,KAAKiE,KAAK0mD,YAClBrtC,KAAK,OAASnb,GACbA,IAAM8B,KAAKklD,YAAYxyC,UACnB,QACA,aACRw0C,EAAenrD,KAAKiE,KAAK0mD,YACpBrtC,KAAK,aAAenb,GACrBA,IAAM8B,KAAKklD,YAAYxyC,UAClB,UAAY,UACdtH,EAIDuf,EAAe5uB,KAAKiE,KAAK0mD,YACtBrtC,KAAK,YAAsC,OAA1BrZ,KAAK2lD,kBACnB,qCACC3lD,KAAKonD,OAAOpnD,KAAKklD,YAAYxyC,sCAC7B1S,KAAKqnD,OAAOrnD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAWuJ,KAAOjc,KAAK6H,UAAUtL,QAAU,MACnC,GAAjDyD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAWuJ,KAC3C,qCACCjc,KAAKonD,OAAOpnD,KAAKklD,YAAYxyC,sCAC5B1S,KAAKqnD,OAAO,GAAM,MAClB,qCACDrnD,KAAKonD,OAAOpnD,KAAKklD,YAAYxyC,sCAC5B1S,KAAKqnD,OAAO,GAAM,OACvBrhD,MAAM,cAAe,UACrBqT,KAAK,aAAenb,IACb8B,KAAKklD,YAAYxyC,UAAW,YACnC3N,KAAO7G,GAAc,QAAQyjB,EAAcwlC,EAAMnnD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAYtH,EAAMvD,aAlBpG8iB,EAAe5uB,KAAKiE,KAAK0mD,YACtBrtC,KAAK,aAAc,UAmBrBlJ,EAIDya,EAAe7uB,KAAKiE,KAAK0mD,YACxBrtC,KAAK,YAAsC,OAA1BrZ,KAAK2lD,kBACjB,qCACC3lD,KAAKonD,OAAOpnD,KAAKklD,YAAYxyC,sCAC7B1S,KAAKqnD,OAAOrnD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAWuJ,KAAOjc,KAAK6H,UAAUtL,QAAU,MACnC,GAAjDyD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAWuJ,KAC3C,qCACCjc,KAAKonD,OAAOpnD,KAAKklD,YAAYxyC,sCAC5B1S,KAAKqnD,OAAO,GAAM,MAClB,qCACDrnD,KAAKonD,OAAOpnD,KAAKklD,YAAYxyC,sCAC5B1S,KAAKqnD,OAAO,GAAM,OACzBrhD,MAAM,cAAe,UACrBqT,KAAK,aAAenb,IACX8B,KAAKklD,YAAYxyC,UAAW,YACrC3N,KAAO7G,GAAc,QAAQyjB,EAAcwlC,EAAMnnD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAYvC,EAAOtI,aAlBnG+iB,EAAe7uB,KAAKiE,KAAK0mD,YACxBrtC,KAAK,aAAc,UAmB1BkR,EACGlR,KAAK,iBAAkB,GACvBA,KAAK,KAAiC,OAA1BrZ,KAAK2lD,kBAA6B3lD,KAAKqnD,OAAOrnD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAWuJ,KAAOjc,KAAK6H,UAAUtL,QAC/D,GAAjDyD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAWuJ,KAAYjc,KAAKqnD,OAAO,GAAKrnD,KAAKqnD,OAAO,IAC3FhuC,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAiC,OAA1BrZ,KAAK2lD,kBAA6B3lD,KAAKqnD,OAAOrnD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAWuJ,KAAOjc,KAAK6H,UAAUtL,QAC/D,GAAjDyD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAWuJ,KAAYjc,KAAKqnD,OAAO,GAAKrnD,KAAKqnD,OAAO,IAE9F56B,EACGpT,KAAK,eAAgB,GACrBA,KAAK,YAAsC,OAA1BrZ,KAAK2lD,kBACb,qCACC3lD,KAAKonD,OAAOpnD,KAAKklD,YAAYxyC,sCAC7B1S,KAAKqnD,OAAOrnD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAWuJ,KAAOjc,KAAK6H,UAAUtL,QAAU,MACnC,GAAjDyD,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAWuJ,KAC3C,qCACCjc,KAAKonD,OAAOpnD,KAAKklD,YAAYxyC,sCAC5B1S,KAAKqnD,OAAO,GAAM,MAClB,qCACDrnD,KAAKonD,OAAOpnD,KAAKklD,YAAYxyC,sCAC5B1S,KAAKqnD,OAAO,GAAM,OAC7BtiD,KAAK,gBAAmB/E,KAAK8H,QAAQ9H,KAAKklD,YAAYxyC,WAAWuJ,KAAOjc,KAAK6H,UAAUtL,OAAS,KAAK8b,QAAQ,GAAzF,OArFvBwuC,EACGxtC,KAAK,OAAQ,aAChBkR,EACGlR,KAAK,iBAAkB,GAC1BoT,EACGpT,KAAK,eAAgB,GACxB6tC,EACK7tC,KAAK,aAAa,UACvBsR,EACKtR,KAAK,aAAa,UACvBuR,EACKvR,KAAK,aAAa,WA8EpBrZ,KAAK+hD,oBAAoB57C,SAASnG,KAAK8kD,eAwFnCG,EAAc7sC,WAAW7b,QAgB9BqqD,EAAS7qD,KAAKiE,KAAKkI,YAChBmR,KAAK,OAASnb,GAAcA,IAAM+mD,EAAgB,QAAU,aAC/D8B,EAAehrD,KAAKiE,KAAKkI,YACtBmR,KAAK,OAASnb,GAAcA,IAAM+mD,EAAgB,QAAU,aAC1D75C,EAIDuf,EAAe5uB,KAAKiE,KAAKkI,YACtBmR,KAAK,YAAuC,OAA1BrZ,KAAK2lD,kBAA2B,iCACnD3lD,KAAKsnD,MAAMx9B,eAAkB9pB,KAAKsnD,MAAMrC,0BACxCjlD,KAAKunD,MAAMvnD,KAAKooC,kBAAkB6c,GAAehpC,MAAQ,MACd,GAA5Cjc,KAAKooC,kBAAkB6c,GAAehpC,KACvC,iCACEjc,KAAKsnD,MAAMx9B,eAAkB9pB,KAAKsnD,MAAMrC,0BACxCjlD,KAAKunD,MAAM,GAAK,MAElB,iCACEvnD,KAAKsnD,MAAMx9B,eAAkB9pB,KAAKsnD,MAAMrC,0BACxCjlD,KAAKunD,MAAM,GAAK,OAEfvhD,MAAM,cAAe,UACrBqT,KAAK,aAAcnb,GAAoC,WACzD6G,KAAM7G,GAAc,QAAQyjB,EAAcwlC,EAAMnnD,KAAKooC,kBAAkB6c,GAAgB75C,EAAMvD,aAlB9F8iB,EAAe5uB,KAAKiE,KAAKkI,YACtBmR,KAAK,aAAc,UAmBrBlJ,EAIDya,EAAe7uB,KAAKiE,KAAKkI,YACtBmR,KAAK,YAAuC,OAA1BrZ,KAAK2lD,kBAA2B,iCACnD3lD,KAAKsnD,MAAMx9B,eAAkB9pB,KAAKsnD,MAAMrC,0BACxCjlD,KAAKunD,MAAMvnD,KAAKooC,kBAAkB6c,GAAehpC,MAAQ,MACd,GAA5Cjc,KAAKooC,kBAAkB6c,GAAehpC,KACvC,iCACEjc,KAAKsnD,MAAMx9B,eAAkB9pB,KAAKsnD,MAAMrC,0BACxCjlD,KAAKunD,MAAM,GAAK,MAElB,iCACEvnD,KAAKsnD,MAAMx9B,eAAkB9pB,KAAKsnD,MAAMrC,0BACxCjlD,KAAKunD,MAAM,GAAK,OAEfvhD,MAAM,cAAe,UACrBqT,KAAK,aAAenb,GAAqC,WAC3D6G,KAAM7G,GAAc,QAAQyjB,EAAcwlC,EAAMnnD,KAAKooC,kBAAkB6c,GAAgB90C,EAAOtI,aAlB/F+iB,EAAe7uB,KAAKiE,KAAKkI,YACxBmR,KAAK,aAAc,UAmBxB4tC,EAAalrD,KAAKiE,KAAKkI,YACpBmR,KAAK,aAAenb,GAAcA,IAAM+mD,EAAiB,UAAY,UACxE16B,EACGlR,KAAK,iBAAkB,GACvBA,KAAK,KAAgC,OAA1BrZ,KAAK2lD,kBAA2B3lD,KAAKunD,MAAMvnD,KAAKooC,kBAAkB6c,GAAehpC,MACxC,GAA5Cjc,KAAKooC,kBAAkB6c,GAAehpC,KAAQjc,KAAKunD,MAAM,GACzDvnD,KAAKunD,MAAM,IACPluC,KAAK,KAAMrZ,KAAKgW,OAC5BqD,KAAK,KAAgC,OAA1BrZ,KAAK2lD,kBAA4B3lD,KAAKunD,MAAMvnD,KAAKooC,kBAAkB6c,GAAehpC,MACzC,GAA5Cjc,KAAKooC,kBAAkB6c,GAAehpC,KACvCjc,KAAKunD,MAAM,GAAIvnD,KAAKunD,MAAM,IACpC96B,EACGpT,KAAK,YAAuC,OAA1BrZ,KAAK2lD,kBAA2B,iCAC/C3lD,KAAKsnD,MAAMx9B,eAAkB9pB,KAAKsnD,MAAMrC,0BACxCjlD,KAAKunD,MAAMvnD,KAAKooC,kBAAkB6c,GAAehpC,MAAQ,MACd,GAA5Cjc,KAAKooC,kBAAkB6c,GAAehpC,KACvC,iCACEjc,KAAKsnD,MAAMx9B,eAAkB9pB,KAAKsnD,MAAMrC,0BACxCjlD,KAAKunD,MAAM,GAAK,MAElB,iCACEvnD,KAAKsnD,MAAMx9B,eAAkB9pB,KAAKsnD,MAAMrC,0BACxCjlD,KAAKunD,MAAM,GAAK,OAEnBxiD,KAA+B,OAA1B/E,KAAK2lD,kBAA2B,UAAU3lD,KAAKooC,kBAAkB6c,GAAehpC,KAAkD,GAA5Cjc,KAAKooC,kBAAkB6c,GAAehpC,KAAQ,WAAY,cArFtJ2qC,EACGvtC,KAAK,OAAQ,aAChB0tC,EACG1tC,KAAK,OAAQ,aAChBkR,EACGlR,KAAK,iBAAkB,GAC1BoT,EACG1nB,KAAK,IACRkiD,EACG5tC,KAAK,aAAa,UACrBsR,EACGtR,KAAK,aAAa,UACrBuR,EACGvR,KAAK,aAAa,WArGpB4N,GAgBH0/B,EAAQ5qD,KAAKiE,KAAK6J,MACfwP,KAAK,OAASnb,GAAWA,EAAEgM,KAAO+c,EAAM/c,GAAK,QAAU,aAC1D48C,EAAc/qD,KAAKiE,KAAK6J,MACrBwP,KAAK,OAASnb,GAAWA,EAAEgM,KAAO+c,EAAM/c,GAAK,QAAU,aACrDkB,EAIDuf,EAAe5uB,KAAKiE,KAAK6J,MACtBwP,KAAK,YAAuC,OAA1BrZ,KAAK2lD,kBAA4B,kCACnD3lD,KAAK2Y,EAAEsO,EAAM/c,IAAgBlK,KAAK2Y,EAAEsO,EAAM9c,KAAiB,EAAE,IAAKnK,KAAK2Y,EAAEsO,EAAM9c,IAAcnK,KAAK2Y,EAAEsO,EAAM/c,KAAe,0BAC1HlK,KAAK4Y,EAAEqO,EAAM1qB,QAAU,MACV,GAAd0qB,EAAM1qB,OAAU,kCACdyD,KAAK2Y,EAAEsO,EAAM/c,IAAgBlK,KAAK2Y,EAAEsO,EAAM9c,KAAiB,EAAE,IAAKnK,KAAK2Y,EAAEsO,EAAM9c,IAAcnK,KAAK2Y,EAAEsO,EAAM/c,KAAe,0BAC1HlK,KAAK4Y,EAAE,GAAK,MAEd,kCACG5Y,KAAK2Y,EAAEsO,EAAM/c,IAAgBlK,KAAK2Y,EAAEsO,EAAM9c,KAAiB,EAAE,IAAKnK,KAAK2Y,EAAEsO,EAAM9c,IAAcnK,KAAK2Y,EAAEsO,EAAM/c,KAAe,0BAC1HlK,KAAK4Y,EAAE,GAAK,OAEX5S,MAAM,cAAe,UACrBqT,KAAK,aAAenb,IAAWA,EAAEgM,GAAO+c,EAAM/c,GAAK,YACrDnF,KAAQ7G,GAAW,QAAQyjB,EAAcwlC,EAAM,IAAI10C,IAAIvU,GAAIkN,EAAMvD,aAjBlE8iB,EAAe5uB,KAAKiE,KAAK6J,MACtBwP,KAAK,aAAc,UAkBrBlJ,EAIDya,EAAe7uB,KAAKiE,KAAK6J,MACxBwP,KAAK,YAAuC,OAA1BrZ,KAAK2lD,kBAA4B,kCACjD3lD,KAAK2Y,EAAEsO,EAAM/c,IAAgBlK,KAAK2Y,EAAEsO,EAAM9c,KAAiB,EAAE,IAAKnK,KAAK2Y,EAAEsO,EAAM9c,IAAcnK,KAAK2Y,EAAEsO,EAAM/c,KAAe,0BAC1HlK,KAAK4Y,EAAEqO,EAAM1qB,QAAU,MACV,GAAd0qB,EAAM1qB,OAAU,kCACdyD,KAAK2Y,EAAEsO,EAAM/c,IAAgBlK,KAAK2Y,EAAEsO,EAAM9c,KAAiB,EAAE,IAAKnK,KAAK2Y,EAAEsO,EAAM9c,IAAcnK,KAAK2Y,EAAEsO,EAAM/c,KAAe,0BAC1HlK,KAAK4Y,EAAE,GAAK,MAEd,kCACG5Y,KAAK2Y,EAAEsO,EAAM/c,IAAgBlK,KAAK2Y,EAAEsO,EAAM9c,KAAiB,EAAE,IAAKnK,KAAK2Y,EAAEsO,EAAM9c,IAAcnK,KAAK2Y,EAAEsO,EAAM/c,KAAe,0BAC1HlK,KAAK4Y,EAAE,GAAK,OAEb5S,MAAM,cAAe,UACrBqT,KAAK,aAAenb,IAAWA,EAAEgM,GAAO+c,EAAM/c,GAAK,YACnDnF,KAAQ7G,GAAW,QAAQyjB,EAAcwlC,EAAM,IAAI10C,IAAIvU,GAAIiS,EAAOtI,aAjBnE+iB,EAAe7uB,KAAKiE,KAAK6J,MACxBwP,KAAK,aAAc,UAkBxB2tC,EAAajrD,KAAKiE,KAAK6J,MACpBwP,KAAK,aAAenb,GAAWA,EAAEgM,KAAO+c,EAAM/c,GAAK,UAAY,UAClEqgB,EACGlR,KAAK,iBAAkB,GACvBA,KAAK,KAAgC,OAA1BrZ,KAAK2lD,kBAA4B3lD,KAAK4Y,EAAEqO,EAAM1qB,QACnC,GAAd0qB,EAAM1qB,OAAUyD,KAAK4Y,EAAE,GAAI5Y,KAAK4Y,EAAE,IAC1CS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAgC,OAA1BrZ,KAAK2lD,kBAA4B3lD,KAAK4Y,EAAEqO,EAAM1qB,QACnC,GAAd0qB,EAAM1qB,OAAUyD,KAAK4Y,EAAE,GAAI5Y,KAAK4Y,EAAE,IAE7C6T,EACGpT,KAAK,YAAuC,OAA1BrZ,KAAK2lD,kBAA4B,kCAC/C3lD,KAAK2Y,EAAEsO,EAAM/c,IAAgBlK,KAAK2Y,EAAEsO,EAAM9c,KAAiB,EAAE,IAAKnK,KAAK2Y,EAAEsO,EAAM9c,IAAcnK,KAAK2Y,EAAEsO,EAAM/c,KAAe,0BAC1HlK,KAAK4Y,EAAEqO,EAAM1qB,QAAU,MACV,GAAd0qB,EAAM1qB,OAAU,kCACdyD,KAAK2Y,EAAEsO,EAAM/c,IAAgBlK,KAAK2Y,EAAEsO,EAAM9c,KAAiB,EAAE,IAAKnK,KAAK2Y,EAAEsO,EAAM9c,IAAcnK,KAAK2Y,EAAEsO,EAAM/c,KAAe,0BAC1HlK,KAAK4Y,EAAE,GAAK,MAEd,kCACG5Y,KAAK2Y,EAAEsO,EAAM/c,IAAgBlK,KAAK2Y,EAAEsO,EAAM9c,KAAiB,EAAE,IAAKnK,KAAK2Y,EAAEsO,EAAM9c,IAAcnK,KAAK2Y,EAAEsO,EAAM/c,KAAe,0BAC1HlK,KAAK4Y,EAAE,GAAK,OAEf7T,KAA+B,OAA1B/E,KAAK2lD,kBAA2B,UAAW1+B,EAAM1qB,OACpC,GAAd0qB,EAAM1qB,OAAU,WAAY,cAlFnCoqD,EACGttC,KAAK,OAAQ,aAChBytC,EACGztC,KAAK,OAAQ,aAChBkR,EACGlR,KAAK,iBAAkB,GAC1BoT,EACG1nB,KAAK,IACRiiD,EACG3tC,KAAK,aAAa,UACrBsR,EACGtR,KAAK,aAAa,UACrBuR,EACGvR,KAAK,aAAa,YAsK/B,cAEEvP,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAMpE,EAAMrd,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC1CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACbrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,UAC/C3N,OAAO,KACLC,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAShnB,KAAK4mB,OAAOC,QAS/DugC,EAASpnD,KAAKonD,OACdC,EAAQrnD,KAAKqnD,OAEnBrnD,KAAKmnB,IAAMA,EAEX,MAAMsE,EAAW,KACf,MAAM+7B,EAAY77B,GAAWA,EAC1BtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAc9J,KAAK2Y,GAChBiT,cAAc,IAEf67B,EAAa97B,GAAWA,EACzBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAc9J,KAAKsnD,OAChB17B,cAAc,IAEjB87B,EAAa/7B,GAAWA,EACzBhvB,KACCmN,GAAA,KAAY9J,KAAK4Y,IAEjB+uC,EAAch8B,GAAWA,EAC1BhvB,KACCmN,GAAA,KAAY9J,KAAKunD,QAGjB77B,EAASC,GAAWA,EACvBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAcs9C,GACXx7B,cAAc,IAKfC,EAASF,GAAWA,EACvBhvB,KAAKmN,GAAA,KAAYu9C,GACfv7B,MAAM,GACNC,WAAWjiB,GAAA,KAAU,SAIY,OAAlC9J,KAAKumD,6BACPp/B,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,YAAa,IAErB8N,EAAI/N,OAAO,KACRzc,KAAKkvB,GACLxS,KAAK,YAAa,KAEZrZ,KAAK+hD,oBAAoB57C,SAASnG,KAAK8kD,gBAM5C39B,EAAI/N,OAAO,KACNzc,KAAK8qD,GACLp9B,UAAU,QACZhR,KAAK,YAAc,cACnBA,KAAK,cAAe,SACvB8N,EAAI/N,OAAO,KACNzc,KAAKgrD,KAXRxgC,EAAI/N,OAAO,KACRzc,KAAK6qD,GACRrgC,EAAI/N,OAAO,KACRzc,KAAK+qD,IAYhBvgC,EAAIkD,UAAU,UACXrkB,MAAM,YAAa,SAExBylB,IAEA,MAAMO,EAAa,KACjB7E,EAAI/N,OAAO,QACRC,KAAK,YAAa,KACjB,MAAM4S,EAAUjsB,KAAKgW,MAAQ,EACvBkW,EAAUlsB,KAAK6Y,OAA8B,GAArB7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK/E,KAAK8kD,eAEb39B,EAAI/N,OAAO,QACRC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,GACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAA6B,OAAxB/E,KAAK2lD,mBAC8B,OAApC3lD,KAAKumD,4BAD0B,0BACqC,uBAG3E,IAAIqB,EAAmC,OAAxB5nD,KAAK2lD,kBAAyB,4BAA4B3lD,KAAK8kD,iBACzE,wBAAwB9kD,KAAK8kD,kBACM,OAApC9kD,KAAKumD,8BACIvmD,KAAK2lD,kBAAhBiC,EAAyC,qCAI3CzgC,EAAI/N,OAAO,QACRC,KACC,YACA,8BACKrZ,KAAK4mB,OAAOI,KAAO,EAAIhnB,KAAKgW,MAAQ,qBAClB,GAAlBhW,KAAK4mB,OAAOC,IAAU,oBAG5BxN,KAAK,KAAM,OACXA,KAAK,cAAe,UACpBrT,MAAM,YAAa,QACnBjB,KAAK6iD,IAEV57B,IAEA,MAAM67B,EAAoB59C,IACxB,MAAMgiB,EAAUjsB,KAAK2Y,EAAE1O,EAAIC,IAAgB,EAC3C,MAAO,aAAa+hB,SAEhB67B,EAAsB1/C,IACxB,MAAM6jB,EAAUjsB,KAAKsnD,MAAMl/C,GAC3B,MAAO,aAAa6jB,SAWlB87B,EAAW5gC,EAAIkD,UAAU,YAC5BtuB,KAAKiE,KAAK6J,MACVwiB,KAAK,KACHhT,KAAK,QAAS,WACdA,KAAK,YAAcnb,GAAW2pD,EAAiB3pD,IAC/CyC,GAAG,aAAezC,GAAW8B,KAAKinB,MAAQ/oB,GAC1CyC,GAAG,aAAezC,GAAW8B,KAAKinB,MAAQ,MAC1CtmB,GAAG,QAAUzC,GAAW8B,KAAKgoD,UAAU9pD,EAAG,UAC1CyC,GAAG,cAAgBzC,GAAW8B,KAAKgoD,UAAU9pD,EAAG,WAC9C+pD,EAAY9gC,EAAIkD,UAAU,aAC9BtuB,KAAKiE,KAAKkI,YACVmkB,KAAK,KACHhT,KAAK,QAAS,YACdA,KAAK,YAAcnb,GAAc4pD,EAAkB5pD,IACnDyC,GAAG,aAAezC,GAAc8B,KAAKilD,cAAgB/mD,GACrDyC,GAAG,aAAezC,GAAc8B,KAAKilD,cAAgB,IACrDtkD,GAAG,QAAUzC,GAAc8B,KAAKkoD,WAAWhqD,EAAG,UAC9CyC,GAAG,cAAgBzC,GAAc8B,KAAKkoD,WAAWhqD,EAAG,WACnDmrC,EAAQliB,EAAIkD,UAAU,SACvBtuB,KAAKiE,KAAK0mD,YACVr6B,KAAK,KACHhT,KAAK,QAAS,QACdA,KAAK,YAAcnb,GACX,aAAakpD,EAAOlpD,UAG7Bya,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EACT0uC,EAAQtnD,KAAKsnD,MACbC,EAAQvnD,KAAKunD,MACbY,EAAel+C,GAAa0O,EAAG1O,EAAIE,IAAiBwO,EAAG1O,EAAIC,IAC3Dk+C,EAAiBn+C,GAAqC,OAAxBjK,KAAK2lD,kBAA0B3lD,KAAK4Y,EAAE3O,EAAI1N,QAAsB,GAAZ0N,EAAI1N,OAAUyD,KAAK4Y,EAAE,GAAG5Y,KAAK4Y,EAAE,GACjHyvC,EAAgBp+C,GAAajK,KAAK6Y,OAASuvC,EAAcn+C,GACxDq+C,EAAehB,EAAMh8B,YACrBi9B,EAAmBngD,GAA8C,OAAxBpI,KAAK2lD,kBAA0B3lD,KAAKunD,MAAMvnD,KAAKooC,kBAAkBhgC,GAAU6T,MAA6C,GAAvCjc,KAAKooC,kBAAkBhgC,GAAU6T,KAAQjc,KAAKunD,MAAM,GAAIvnD,KAAKunD,MAAM,GAC7LiB,EAAiBpgD,GAAqBpI,KAAK6Y,OAAS0vC,EAAengD,GAEpEgkB,EAAW,KACf,GAAwC,OAApCpsB,KAAKumD,4BAAsC,CAC7C,MAAMj6B,EAAW86B,EAAO97B,YACxB+d,EAAMjwB,OAAO,QACVC,KAAK,QAAS,OACdA,KAAK,IAAMnb,GAAsC,OAAxB8B,KAAK2lD,kBAA2B0B,EAAOrnD,KAAK8H,QAAQ5J,GAAG+d,KAAOjc,KAAK6H,UAAUtL,QACvB,GAAxByD,KAAK8H,QAAQ5J,GAAG+d,KAAWorC,EAAO,GAAKA,EAAO,IACrGhuC,KAAK,QAASiT,GACdjT,KAAK,SAAWnb,GAAc8B,KAAK6Y,QAAkC,OAAxB7Y,KAAK2lD,kBAA2B0B,EAAOrnD,KAAK8H,QAAQ5J,GAAG+d,KAAOjc,KAAK6H,UAAUtL,QAC3C,GAAxByD,KAAK8H,QAAQ5J,GAAG+d,KAAWorC,EAAO,GAAKA,EAAO,KACrGhuC,KAAK,OAAQ,aACbA,KAAK,SAAU,SACfrT,MAAM,cAAe,UACrBrF,GAAG,aAAezC,GAAc8B,KAAKklD,YAAc,CAAGxyC,UAAWxU,IACjEyC,GAAG,aAAcX,KAAKusB,YACtB5rB,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,UAC1CyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,WACnDmrC,EAAMjwB,OAAO,UACFC,KAAK,KAAMiT,EAAS,GACpBjT,KAAK,KAAMnb,GAAK8B,KAAK6Y,OAAO,IAC5BQ,KAAK,IAAI,QACTrT,MAAM,OAAQ,aACdqT,KAAK,SAAU,QACfA,KAAK,aAAenb,GAC4C,GAAxDmpD,EAAOrnD,KAAK8H,QAAQ5J,GAAG+d,KAAOjc,KAAK6H,UAAUtL,SAAwByD,KAAK8H,QAAQ5J,GAAG+d,KAAOjc,KAAK6H,UAAUtL,OAAU,IAA3D,SAA0E,WAE1IoE,GAAG,QAAUzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,UAC5CyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,WAC3DmrC,EAAMjwB,OAAO,QACNC,KAAK,QAAS,kBAAkBA,KAAK,IAAMnb,IAAwC,OAAxB8B,KAAK2lD,kBAA2B0B,EAAOrnD,KAAK8H,QAAQ5J,GAAG+d,KAAOjc,KAAK6H,UAAUtL,QAC7D,GAAxByD,KAAK8H,QAAQ5J,GAAG+d,KAAWorC,EAAO,GAAKA,EAAO,IAAK,IACtGhuC,KAAK,KAAM,KACTA,KAAK,QAAS,KACdA,KAAK,SAAU,IACfA,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,OAAQ,SACbA,KAAK,aAAa,eAElBrZ,KAAK+hD,oBAAoB57C,SAASnG,KAAK8kD,gBA2B1CmD,EAAU7uC,OAAO,QAChBC,KAAK,QAAS,OAAOA,KAAK,IAAMnb,GAAcqqD,EAAerqD,IAC3Dmb,KAAK,QAAUnb,GAAcoqD,GAC7BjvC,KAAK,SAAWnb,GACRsqD,EAActqD,IACtBmb,KAAK,SAAU,SACfA,KAAK,eAAgB,SACrBA,KAAK,OAAQ,aAChB4uC,EAAU7uC,OAAO,UACdC,KAAK,QAAS,cAAcA,KAAK,KAAOnb,GAAcoqD,EAAe,GACrEjvC,KAAK,KAAOnb,GACiB,OAAxB8B,KAAK2lD,kBACH2C,EAAe,GAAK,GAAWtoD,KAAK6Y,OAASyvC,EAAe,GACpDtoD,KAAK6Y,OAAS,GAEtByvC,EAAe,GAAK,GAAWf,EAAM,GAAKe,EAAe,GAChDf,EAAM,GAAK,IAG3BluC,KAAK,IAAKnb,GAAcoqD,EAAe,GAAK,GAAKA,EAAe,GAAK,IACrEjvC,KAAK,aAAcnb,GAAcsqD,EAActqD,GAAI8B,KAAK6Y,QAAU,GAC3D2vC,EAActqD,GAAI8B,KAAK6Y,OAAO,GADgC,SAClB,WACnD7S,MAAM,OAAQ,aACjBiiD,EAAU7uC,OAAO,QAChBC,KAAK,QAAS,kBAAkBA,KAAK,IAAMnb,GAAcqqD,EAAerqD,GAAG,IAC3Emb,KAAK,IAAMnb,IAAe,IACxBmb,KAAK,QAAS,KACdA,KAAK,SAAU,IACfA,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,OAAQ,SACbA,KAAK,aAAa,YAzDrB0uC,EAAS3uC,OAAO,QACfC,KAAK,QAAS,OAAOA,KAAK,IAAMnb,GAAWkqD,EAAclqD,IACvDmb,KAAK,QAAUnb,GAAWiqD,EAAYjqD,IACtCmb,KAAK,SAAWnb,GAAWmqD,EAAanqD,IACxCmb,KAAK,SAAU,SACfA,KAAK,eAAgB,SACrBA,KAAK,OAAQ,aAChB0uC,EAAS3uC,OAAO,UACbC,KAAK,QAAS,cAAcA,KAAK,KAAMnb,GAAWiqD,EAAYjqD,GAAK,GACnEmb,KAAK,KAAOnb,GAAYiqD,EAAYjqD,GAAK,GAAK,GAAK8B,KAAK6Y,OAASsvC,EAAYjqD,GAAK,GAAK8B,KAAK6Y,OAAS,IACrGQ,KAAK,IAAKnb,GAAWiqD,EAAYjqD,GAAK,GAAK,GAAKiqD,EAAYjqD,GAAK,GAAK,IACtEmb,KAAK,aAAcnb,GAAWmqD,EAAanqD,GAAI8B,KAAK6Y,QAAU,GACvDwvC,EAAanqD,GAAI8B,KAAK6Y,OAAO,GAD6B,SACf,WAClD7S,MAAM,OAAQ,aACdqT,KAAK,SAAU,QAElB0uC,EAAS3uC,OAAO,QACfC,KAAK,QAAS,kBAAkBA,KAAK,IAAMnb,GAAWkqD,EAAclqD,GAAG,IACvEmb,KAAK,KAAM,KACTA,KAAK,QAAS,KACdA,KAAK,SAAU,IACfA,KAAK,SAAU,SACfA,KAAK,eAAgB,OACrBA,KAAK,OAAQ,SACbA,KAAK,aAAa,YAsCzBkR,EAAkB,KACkB,OAApCvqB,KAAKumD,4BACPp/B,EAAI/N,OAAO,QACVC,KAAK,QAAS,sBACdA,KAAK,KAAMguC,EAAO,IAClBhuC,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMguC,EAAO,IAClBhuC,KAAK,SAAU,OACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,QAEjBrZ,KAAK+hD,oBAAoB57C,SAASnG,KAAK8kD,eAW5C39B,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,KAAMkuC,EAAM,IACjBluC,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMkuC,EAAM,IACjBluC,KAAK,SAAU,OACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,QAlB1B8N,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,KAAMT,EAAE,IACbS,KAAK,KAAMrZ,KAAKgW,OAChBqD,KAAK,KAAMT,EAAE,IACbS,KAAK,SAAU,OACfA,KAAK,eAAgB,OACrBA,KAAK,iBAAkB,GACvBA,KAAK,iBAAkB,SAe1BoT,EAAkB,KACtBtF,EAAI/N,OAAO,QACRC,KAAK,QAAS,sBACdA,KAAK,cAAe,UACpBA,KAAK,YAAa,IAClBA,KAAK,iBAAkB,SAE5BkR,IACAkC,IACAL,IACApsB,KAAKkqB,YACLlqB,KAAK0sB,kBAGP,iBAGE,MAAM,MAAEthB,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAC/B,IAAI0J,EAAgB7X,GAAA,KAAU,OACF,OAAxB9J,KAAK2lD,oBACPhkC,EAAgB7X,GAAA,KAAU,QAG5B,MAAMmO,EAAa,CAAC7M,EAAO+E,GAGrB8c,EAAe,CAACplB,EAAwBwO,KAC5C,MAAM8U,EAAuBlc,GAAapH,EAAWwO,GACrD,MAA+B,OAAxBrW,KAAK2lD,kBAA0B3lD,KAAKqnD,OAAOl8B,EAAqBlP,KAAQpU,EAAc,MAAK7H,KAAKqnD,OAAOl8B,EAAqBlP,KAAOjc,KAAK6H,UAAUtL,SAErJ6wB,EAAc,CAACvlB,EAAwBwO,IACpCrW,KAAK6Y,OAASoU,EAAaplB,EAAWwO,GAEzC6V,EAAU,CAACrkB,EAAwBwO,KACvC,MAAM8U,EAAuBlc,GAAapH,EAAWwO,GACrD,OAAKrW,KAAK+hD,oBAAoB57C,SAASnG,KAAK8kD,eAGX,OAAxB9kD,KAAK2lD,kBAA0B3lD,KAAKunD,MAAMp8B,EAAqBlP,KAAOpU,EAAc,MAAK7H,KAAKunD,MAAMp8B,EAAqBlP,MAFjG,OAAxBjc,KAAK2lD,kBAA0B3lD,KAAK4Y,EAAEuS,EAAqBlP,KAAQpU,EAAc,MAAK7H,KAAK4Y,EAAEuS,EAAqBlP,OAIvHpD,EAAS,CAAChR,EAAwBwO,IAC7BrW,KAAK6Y,OAASqT,EAAQrkB,EAAWwO,GAEtC8wC,EAAQ,CAACt/C,EAAwBwO,KACrC,MAAM8U,EAAuBlc,GAAapH,EAAWwO,GACrD,OAAKrW,KAAK+hD,oBAAoB57C,SAASnG,KAAK8kD,eAGX,OAAxB9kD,KAAK2lD,kBAA2Bx6B,EAAqBlP,KAAOpU,EAAc,KAAMsjB,EAAyB,MAE9GmC,EAAe,CAACzlB,EAAwBwO,KAC5C,MAAM8U,EAAuBlc,GAAapH,EAAWwO,GACrD,IAAK,MAAMhN,KAAM8hB,EACf,GAAGnrB,KAAKoB,OAAOC,MAAM+R,cAAgB/J,EAAI,OAAO,EAElD,OAAO,GAIT4O,EAAW9P,QAAQ,CAAColB,EAAejK,KACjC,GAAKiK,EAIH,GAAwC,OAApCvtB,KAAKumD,4BAAsC,CAC7C,IAAI5tC,EAAI3Y,KAAKonD,OACT96B,EAAW3T,EAAE2S,YACbqB,EAAoBL,EAAW,EACnCtsB,KAAK0mD,WAAWv+C,QAASjK,IACvB,IAAIsvB,EAAuB,CACzB9U,SAAW1Y,KAAKmnB,IAChBxO,EAAIA,EAAEza,GAAKouB,EAAW,GAAKhJ,EAAI,GAAKqJ,EACpC/T,EAAIqU,EAAajtB,KAAK8H,QAAQ5J,GAAIqvB,EAAc1lB,WAChDmO,MAAQ2W,EACR9T,OAAQuU,EAAYptB,KAAK8H,QAAQ5J,GAAIqvB,EAAc1lB,WACnDpJ,EAAKkuB,EAAoB,EACzB7T,MAAe,GAAPwK,EAAUtjB,KAAKsnB,gBAAkBtnB,KAAKunB,gBAC9CxO,kBAA6E,GAAzDqU,EAAYptB,KAAK8H,QAAQ5J,GAAIqvB,EAAc1lB,YAC1DulB,EAAYptB,KAAK8H,QAAQ5J,GAAIqvB,EAAc1lB,WAAa7H,KAAK6Y,OAAQ,IADK,SACS,UACxFG,GAAKL,EAAEza,GAAKouB,EAAW,GAAMhJ,EAAM,IAAOqJ,EAC1C1T,GAAKjZ,KAAK6Y,OAAS8T,EAAoB,EACvCzT,eAAgBoK,EAChBnK,QAASmU,EAAattB,KAAK8H,QAAQ5J,GAAIqvB,EAAc1lB,WACrDjG,UAAY5B,KAAK7B,MAEnB6B,KAAKoB,OAAOO,SAAS,iBAAiB6rB,UAGxC,GAAKxtB,KAAK+hD,oBAAoB57C,SAASnG,KAAK8kD,eA6B1C9kD,KAAKkI,WAAWC,QAASjK,IACrB,IAAKiqD,EAAcnoD,KAAKsnD,MAAMh8B,YAC1BqB,EAAoBw7B,EAAc,EAClCxvC,EAAI3Y,KAAKsnD,MACT95B,EAAuB,CACzB9U,SAAW1Y,KAAKmnB,IAChBxO,EAAIwvC,EAAc,GAAK7kC,EAAI,GAAMqJ,EAAoBhU,EAAEza,GACvD0a,EAAKsT,EAAQlsB,KAAKooC,kBAAkBlqC,GAAIqvB,EAAc1lB,WACtDmO,MAAQ2W,EACR9T,OAAQA,EAAO7Y,KAAKooC,kBAAkBlqC,GAAIqvB,EAAc1lB,WACxDpJ,EAAKkuB,EAAoB,EACzB7T,MAAe,GAAPwK,EAAUtjB,KAAKsnB,gBAAkBtnB,KAAKunB,gBAC9CxO,kBAAoB2sB,MAAM/W,SAAShN,EAAcwlC,EAAMnnD,KAAKooC,kBAAkBlqC,GAAIqvB,EAAc1lB,eACxB,GAA9DgR,EAAO7Y,KAAKooC,kBAAkBlqC,GAAIqvB,EAAc1lB,YAChDgR,EAAO7Y,KAAKooC,kBAAkBlqC,GAAIqvB,EAAc1lB,WAAa7H,KAAK6Y,OAAO,IAF6B,SAEf,UACjGG,GAAKL,EAAEza,GAAKiqD,EAAc,GAAM7kC,EAAM,IAAOqJ,EAC7C1T,GAAKjZ,KAAK6Y,OAAS8T,EAAoB,EACvCzT,eAAgBoK,EAChBnK,QAASmU,EAAattB,KAAKooC,kBAAkBlqC,GAAIqvB,EAAc1lB,WAC/DjG,UAAY5B,KAAK7B,MAEnB6B,KAAKoB,OAAOO,SAAS,iBAAiB6rB,SAlDgB,CAC1D,IAAI7U,EAAK1O,IACP,MAAMgiB,EAAUjsB,KAAK2Y,EAAE1O,EAAIC,IAAgB,EAC3C,OAAO+hB,GAET,MAAMk8B,EAAel+C,GAAajK,KAAK2Y,EAAG1O,EAAIE,IAAiBnK,KAAK2Y,EAAG1O,EAAIC,IACrEyiB,EAAqBzuB,GAAWiqD,EAAYjqD,GAAK,EAEvD8B,KAAK6J,KAAK1B,QAASjK,IACf,IAAIsvB,EAAuB,CACzB9U,SAAW1Y,KAAKmnB,IAChBxO,EAAIwvC,EAAYjqD,GAAK,GAAKolB,EAAI,GAAMqJ,EAAkBzuB,GAAKya,EAAEza,GAC7D0a,EAAIsT,EAAQ,IAAIzZ,IAAIvU,GAAIqvB,EAAc1lB,WACtCmO,MAAQ2W,EAAkBzuB,GAC1B2a,OAAQA,EAAO,IAAIpG,IAAIvU,GAAIqvB,EAAc1lB,WACzCpJ,EAAKkuB,EAAkBzuB,GAAK,EAC5B4a,MAAe,GAAPwK,EAAUtjB,KAAKsnB,gBAAkBtnB,KAAKunB,gBAC9CxO,kBAAoB2sB,MAAM/W,SAAShN,EAAcwlC,EAAM,IAAI10C,IAAIvU,GAAIqvB,EAAc1lB,eAC3B,GAA9CgR,EAAO,IAAIpG,IAAIvU,GAAIqvB,EAAc1lB,YACjCgR,EAAO,IAAIpG,IAAIvU,GAAIqvB,EAAc1lB,WAAa7H,KAAK6Y,OAAO,IAFgC,SAElB,UAChFG,GAAKL,EAAEza,GAAKiqD,EAAYjqD,GAAK,GAAOolB,EAAM,IAAOqJ,EAAkBzuB,GACnE+a,GAAKjZ,KAAK6Y,OAAS8T,EAAkBzuB,GAAK,EAC1Cgb,eAAgBoK,EAChBnK,QAASmU,EAAa,IAAI7a,IAAIvU,GAAIqvB,EAAc1lB,WAChDjG,UAAY5B,KAAK7B,MAEnB6B,KAAKoB,OAAOO,SAAS,iBAAiB6rB,UArD9CxtB,KAAKmnB,IAAIkD,UAAU,kBAAkB/G,GAAKjK,KAAK,SAAU,KACzDrZ,KAAKmnB,IAAIkD,UAAU,oBAAoB/G,GAAKjK,KAAK,aAAa,aAmFpE,UACEnb,EACAkY,GAEAtM,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBACT,MAAM7lB,EAAY,IAAI4K,IAAIvU,GACpBsU,EAAc,yBAAyBxS,KAAK8kD,0BAA0B5mD,EAAEgM,UAAUhM,EAAEiM,KAEpFs+C,EAAuBxhD,KAE7BwhD,EAAqBrhD,KAAO1B,EAAKwH,WACjCu7C,EAAqBthD,UAAW,EAChCshD,EAAqB7pD,MAAQqnC,OAAO/nC,EAAEgM,IAEtC,MAAMw+C,EAAuBzhD,KAC7ByhD,EAAqBthD,KAAO1B,EAAKwH,WACjCw7C,EAAqB9pD,MAAQqnC,OAAO/nC,EAAEiM,IACtC,MAAM5B,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC46C,EAAsBC,GACpC56C,OAAS,IAELqI,EAAU,CACd3D,cACA3K,YACAU,aAEFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,IAErD,WACElY,EACAkY,GAEAtM,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAMxmB,EAAaD,KACnBC,EAAWE,KAAO1B,EAAK4C,WACvBpB,EAAWO,QAAUzH,KAAK8kD,cAC1B59C,EAAWtI,MAAQV,EAEnB,MAAM2J,EAAY7H,KAAKooC,kBAAkBlqC,GACnCsU,EAAc,2BAA2BxS,KAAK8kD,4BAA4B5mD,MAC1EqK,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAO,IAEHqI,EAAU,CACd3D,cACA3K,YACAU,aAGFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,IAErD,OACE1D,EACA0D,GAGAtM,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAMxmB,EAAaD,KACnBC,EAAWE,KAAO1B,EAAKqH,OACvB7F,EAAWM,OAASkL,EAEpB,MAAM7K,EAAY7H,KAAK8H,QAAQ4K,GACzBF,EAAc,sBAAsBE,EACpCnK,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAQ,IAEJqI,EAAU,CACd3D,cACA3K,YACAU,aAEFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,QCz3CkX,M,yBCQva,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAchC,IAAkB,GAAW,CAACnR,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,KAAY46B,WAAA,KAAQhU,WAAA,KAAQvb,WAAA,OCjCrJ,IAAI,GAAS,WAAa,IAAIr5B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,oBAAoB,MAAM,IAAI,GAAGV,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,YAAY,iBAAiBC,MAAM,CAAC,QAAUP,EAAI+hD,gBAAgB,OAAS,IAAIhhD,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAInB,MAAMoC,GAAKE,WAAW,YAAY,GAAGf,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,YAAY,mBAAmBC,MAAM,CAAC,QAAUP,EAAI+hD,gBAAgB,OAAS,IAAIhhD,MAAM,CAAClC,MAAOmB,EAAW,QAAEgB,SAAS,SAAUC,GAAMjB,EAAI6oD,QAAQ5nD,GAAKE,WAAW,cAAc,GAAGf,EAAG,MAAM,CAACO,IAAI,SAAS,IACh6B,GAAkB,GC4DP,UAAIqC,OAAO,CACxB5E,KAAM,cACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KAChDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCtgB,EAAkB,aAClBwgB,EAAQ,CACZjf,KAAM,GACNV,WAAY,IAERm6C,EAAa,MACb/6C,EAAsB,OACtBmiD,EAAO,CACX7gD,KAAM,GACN8gD,OAAQ,IAEJF,EAAU,cAAgB,IAAI5oD,KAAKuG,SAAS1E,aAAa,GAC/D,MAAO,CACLslB,IAAK,GACL0hC,OACAn/C,IAAI,EACJE,IAAI,IACJm/C,UAAW,EACXriD,sBACA9H,MAAO,GACPgqD,UACAI,gBAAiB,GACjBvH,aACAh7C,kBACAoS,SACA6oC,iBAAiB,KACjBz6B,QACAL,SACA4H,SAAS,GACTlqB,MAAO,GACP8iB,WAAY,UACZC,gBAAiB,UACjBC,gBAAiB,UACjBC,gBAAiB,UACjBvR,QACAyY,aAAa,GACbjH,WAAY,UACZC,gBAAiB,UACjBk6B,aAAa,GACbsH,iBAAkB3hB,OAClB4hB,kBAAmB5hB,OACnB6hB,gBAAiB,GACjBC,oBAAqB9hB,OACrB+hB,qBAAsB/hB,OACtBgiB,aAAc,EACdnF,WAAY,EACZC,WAAY,IAGhB18B,SAAU,CACR,kBACE,IAAI85B,EAAkB,GACtB,OAAQxhD,KAAK0G,qBACX,IAAK,OACH86C,EAAkB,OAClB,MACF,IAAK,OACHA,EAAkB,OAClB,MACF,IAAK,OACHA,EAAkB,OAClB,MACF,IAAK,YACHA,EAAkB,YAClB,MAEJ,OAAOA,GAET,mBACE,OAAOxhD,KAAKoB,OAAOC,MAAM8R,kBAE3B,kBACI,MAAM9H,EAAc,IAAIrL,KAAKuG,SAASgD,UAChCq4C,EAAe,CAAC,WAAY,SAC5BC,EAAaj6C,IACf,MAAMH,EAAUzH,KAAKoB,OAAOyE,QAAQ4B,QAAQG,GAC5C,OAAOg6C,EAAaz7C,SAASsB,EAAQO,OAEnC85C,EAAmBz2C,EAAYI,OAAOo2C,GAK5C,OAJA7hD,KAAK6B,YAAYsG,QAASlK,IACxB6jD,EAAgBjlD,KAAK,cAAcoB,KAG9B6jD,GAEX,UACE,MAAO,IAAI9hD,KAAKuG,SAASqM,UAE3B,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,mBACE,MAAO,CAAC,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,SAEhF,uBACE,OAAO+B,KAAKoB,OAAOC,MAAMkoD,qBAE3B,wBACE,OAAOvpD,KAAKoB,OAAOC,MAAMwR,eAE3B,YACE,MAAO,IAAI7S,KAAKuG,SAASsB,YAE3B,WACE,MAAMwD,EAAc,IAAIrL,KAAKuG,SAASgD,UAChCq4C,EAAe,CAAC,WAAY,SAC5BC,EAAaj6C,IACjB,MAAMH,EAAUzH,KAAKoB,OAAOyE,QAAQ4B,QAAQG,GAC5C,OAAOg6C,EAAaz7C,SAASsB,EAAQO,OAEjC85C,EAAmBz2C,EAAYI,OAAOo2C,GACtCE,EAAsB,IAAI/hD,KAAKuG,SAASgD,UAAUkC,OAAQO,GAA8C,gBAAxChM,KAAKoB,OAAOyE,QAAQ4B,QAAQuE,GAAGhE,MACrG,IAAIuB,EAAW,GAQf,OAPAu4C,EAAgB35C,QAASlK,IACvBsL,EAAS1M,KAAKoB,KAEhB8jD,EAAoB55C,QAASlK,IAC3BsL,EAAS1M,KAAKoB,KAEhBsL,EAAWA,EAASkC,OAAOO,GAAM,iBAAHA,GACvBzC,GAET,sBAII,GAHkB,IAAdvJ,KAAKpB,OAA8C,GAA/BoB,KAAK8hD,gBAAgBvlD,SACzCyD,KAAKpB,MAAQoB,KAAK8hD,gBAAgB,IAEpB,IAAd9hD,KAAKpB,OAA+B,IAAhBoB,KAAK4oD,QACzB,MAAO,GAEiB,IAAxB5oD,KAAKgpD,kBACPhpD,KAAKgpD,gBAAkBhpD,KAAK6B,YAAY,IAE1C,IAAI4F,EAAUzH,KAAKpB,MACf4qD,EAAYxpD,KAAK4oD,QACjB/gD,EAAY7H,KAAK6H,UAEjB4hD,EAAc,GACdC,EAAe,GACfC,EAAc,IACdC,GAAe,IACfC,EAAe,IACfC,GAAgB,IACpBjiD,EAAUM,QAAS9L,IACf,IAAI0tD,EAAgB,EAChBC,EAAiB,EACrB,GAAkC,cAA9BhqD,KAAKpB,MAAM4e,UAAU,EAAE,IAAqB,CAC9C,IAAIlW,EAAatH,KAAKpB,MAAM4e,UAAU,GAAGxd,KAAKpB,MAAMrC,QACpDwtD,EAAgBzgD,GAAajN,GAAG,0BAA0BiL,QAE1DyiD,EAAgBtyC,WAAWnO,GAAajN,GAAG,YAAYoL,GAAS2Q,YAElE,GAAoC,cAAhCpY,KAAK4oD,QAAQprC,UAAU,EAAE,IAAqB,CAChD,IAAIlW,EAAatH,KAAK4oD,QAAQprC,UAAU,GAAGxd,KAAK4oD,QAAQrsD,QACxDytD,EAAiB1gD,GAAajN,GAAG,0BAA0BiL,QAE3D0iD,EAAiBvyC,WAAWnO,GAAajN,GAAG,YAAYmtD,GAAWpxC,YAErEqxC,EAAY5sD,KAAKktD,GACjBL,EAAa7sD,KAAKmtD,GAClBL,EAAcA,EAAclgD,KAAKuU,MAAM+rC,GAAiBtgD,KAAKuU,MAAM+rC,GAAiBJ,EACpFC,EAAcA,EAAcngD,KAAKyhC,KAAK6e,GAAiBtgD,KAAKyhC,KAAK6e,GAAiBH,EAClFC,EAAeA,EAAepgD,KAAKuU,MAAMgsC,GAAkBvgD,KAAKuU,MAAMgsC,GAAkBH,EACxFC,EAAeA,EAAergD,KAAKyhC,KAAK8e,GAAkBvgD,KAAKyhC,KAAK8e,GAAkBF,IAE1F,IAAIG,GAAgBL,EAAcD,GAAe,GAC7CO,GAAiBJ,EAAeD,GAAgB,GAEhDZ,EAAmB,GACnBC,EAAoB,GACpB7pC,EAAQ,EACRgD,EAAQsnC,EACRQ,EAASN,EACb,MAAOxqC,GAAS,GACZ4pC,EAAiBpsD,KAAK4a,WAAW4K,EAAMhK,QAAQ,KAC/C6wC,EAAkBrsD,KAAK4a,WAAW0yC,EAAO9xC,QAAQ,KACjDgK,GAAS4nC,EACTE,GAAUD,EACV7qC,GAAS,EAEb,IAAI+qC,EAAiB,GACrBlB,EAAkB/gD,QAAQ,CAACkiD,EAAUhuD,KACjC+tD,EAAe/tD,GAAK,GACpB4sD,EAAiB9gD,QAAQ,CAACV,EAASlK,KAC/B6sD,EAAe/tD,GAAGQ,KAAK,QAG/BgL,EAAUM,QAAS9L,IACf,IAAI0tD,EAAgB,EAChBC,EAAiB,EACrB,GAAkC,cAA9BhqD,KAAKpB,MAAM4e,UAAU,EAAE,IAAqB,CAC9C,IAAIlW,EAAatH,KAAKpB,MAAM4e,UAAU,GAAGxd,KAAKpB,MAAMrC,QACpDwtD,EAAgBtyC,WAAWnO,GAAajN,GAAG,0BAA0BiL,SAErEyiD,EAAgBtyC,WAAWnO,GAAajN,GAAG,YAAYoL,GAAS2Q,YAElE,GAAoC,cAAhCpY,KAAK4oD,QAAQprC,UAAU,EAAE,IAAqB,CAChD,IAAIlW,EAAatH,KAAK4oD,QAAQprC,UAAU,GAAGxd,KAAK4oD,QAAQrsD,QACxDytD,EAAiBvyC,WAAWnO,GAAajN,GAAG,0BAA0BiL,SAEtE0iD,EAAiBvyC,WAAWnO,GAAajN,GAAG,YAAYmtD,GAAWpxC,YAErE,IAAIkyC,EAAc37B,SAASllB,KAAK45B,OAAO0mB,EAAgBJ,GAAeM,GAAc7xC,YAChFmyC,EAAe57B,SAASllB,KAAK45B,OAAO2mB,EAAiBH,GAAgBK,GAAe9xC,YACxFgyC,EAAeG,GAAcD,GAAaztD,KAAKR,KAGnD2D,KAAKipD,iBAAmBA,EACxBjpD,KAAKkpD,kBAAoBA,EACzB,IAAIvH,EAAe,GAOnB,OANAyI,EAAejiD,QAAQ,CAAC2hC,EAAKztC,IAAI,CAC7BytC,EAAI3hC,QAAQ,CAACvJ,EAAOrB,KAChByC,KAAK+oD,UAAY/oD,KAAK+oD,UAAYnqD,EAAMrC,OAASqC,EAAMrC,OAASyD,KAAK+oD,UACrEpH,EAAa9kD,KAAK,CAAE,UAAaqsD,EAAkB7sD,GAAG,QAAW4sD,EAAiB1rD,GAAI,aAAgBlB,EAAG,YAAekB,EAAG,MAAQqB,EAAMrC,OAAQ,UAAaqC,EAAO,KAAO,QAG7K+iD,GAGX,aAIE,OAAO3hD,KAAKoB,OAAOC,MAAM8J,mBAE3B,cAAsB,OAAQnL,KAAKoB,OAAOC,MAAM+R,aAChD,mBAA2B,OAAQpT,KAAKoB,OAAOC,MAAMiS,kBACrD,IACE,MAAMqF,EAAI7O,GAAA,OACDC,OAAO/J,KAAKipD,kBACZp/B,MAAM,CAAC,EAAG7pB,KAAKgW,QACf8T,aAAa,GACbC,aAAa,IACtB,OAAOpR,GAET,IACE,MAAMC,EAAI9O,GAAA,OACDC,OAAO/J,KAAKkpD,mBACZr/B,MAAM,CAAC7pB,KAAK6Y,OAAO,IACnBiR,aAAa,GACbC,aAAa,IACtB,OAAOnR,GAET,QACE,MAAM8S,EAASC,GAAWA,EACnBtS,KAAK,YAAa,iBAAoBrZ,KAAK6Y,WAC3Clc,KACCmN,GAAA,KAAc9J,KAAK2Y,GAChBiT,cAAc,IAEzB,OAAOF,IAGX1B,MAAO,CACL,OACEhqB,KAAKyiD,qBACLziD,KAAKiqB,eAEP,aACEjqB,KAAKiqB,eAEP,cACEjqB,KAAKiqB,eAEP,mBACEjqB,KAAKiqB,eAEP,kBACEjqB,KAAKyiD,qBACLziD,KAAK0iD,mBAEP,QACE1iD,KAAK6oD,KAAO,CACV7gD,KAAM,GACN8gD,OAAQ,IAEV9oD,KAAKyiD,qBACLziD,KAAK0iD,mBAEP,UACE1iD,KAAK6oD,KAAO,CACV7gD,KAAM,GACN8gD,OAAQ,IAEV9oD,KAAKyiD,qBACLziD,KAAK0iD,mBAEP,YACE1iD,KAAKiqB,eAEP,kBACEjqB,KAAK0iD,oBAGT,UACE1iD,KAAKiqB,eAEP/mB,QAAS,CACP,qBACIlD,KAAKmpD,gBAAkB,GACvBnpD,KAAKopD,oBAAsB,GAC3BppD,KAAKqpD,qBAAuB,GAC5BrpD,KAAKspD,aAAetpD,KAAK+oD,UACzB,IAAIthD,EAAUzH,KAAKpB,MACf4qD,EAAYxpD,KAAK4oD,QACjB/gD,EAAiC,IAArB7H,KAAK6oD,KAAK,QAAgB7oD,KAAK6H,UAAW7H,KAAK6oD,KAAK,UAAU,aAG1Ea,EAAe,GACfC,EAAc,IACdC,GAAe,IACfC,EAAe,IACfC,GAAgB,IACpB9pD,KAAK+oD,WAAa,IAClB/oD,KAAK2hD,aAAax5C,QAASlK,IACzB+B,KAAKmpD,gBAAgBtsD,KAAKoB,KAE5B+B,KAAKipD,iBAAiB9gD,QAAS6D,IAC7BhM,KAAKopD,oBAAoBvsD,KAAKmP,KAEhChM,KAAKkpD,kBAAkB/gD,QAAS6D,IAC9BhM,KAAKqpD,qBAAqBxsD,KAAKmP,KAEjCnE,EAAUM,QAAS9L,IACf,IAAI0tD,EAAgB,EAChBC,EAAiB,EACrB,GAAkC,cAA9BhqD,KAAKpB,MAAM4e,UAAU,EAAE,IAAqB,CAC9C,IAAIlW,EAAatH,KAAKpB,MAAM4e,UAAU,GAAGxd,KAAKpB,MAAMrC,QACpDwtD,EAAgBtyC,WAAWnO,GAAajN,GAAG,0BAA0BiL,SAErEyiD,EAAgBtyC,WAAWnO,GAAajN,GAAG,YAAYoL,GAAS2Q,YAElE,GAAoC,cAAhCpY,KAAK4oD,QAAQprC,UAAU,EAAE,IAAqB,CAChD,IAAIlW,EAAatH,KAAK4oD,QAAQprC,UAAU,GAAGxd,KAAK4oD,QAAQrsD,QACxDytD,EAAiBvyC,WAAWnO,GAAajN,GAAG,0BAA0BiL,SAEtE0iD,EAAiBvyC,WAAWnO,GAAajN,GAAG,YAAYmtD,GAAWpxC,YAErEsxC,EAAa7sD,KAAKmtD,GAClBL,EAAcA,EAAc,EAAkB,EAAkBA,EAChEC,EAAcA,EAAc,EAAkB,EAAkBA,EAChEC,EAAeA,EAAe,EAAmB,EAAmBA,EACpEC,EAAeA,EAAe,EAAmB,EAAmBA,IAExE,IAAIG,GAAgBL,EAAcD,GAAe,GAC7CO,GAAiBJ,EAAeD,GAAgB,GAChDZ,EAAmB,GACnBC,EAAoB,GACpB7pC,EAAQ,EACRgD,EAAQsnC,EACRQ,EAASN,EACb,MAAOxqC,GAAS,GACZ4pC,EAAiBpsD,KAAK4a,WAAW4K,EAAMhK,QAAQ,KAC/C6wC,EAAkBrsD,KAAK4a,WAAW0yC,EAAO9xC,QAAQ,KACjDgK,GAAS4nC,EACTE,GAAUD,EACV7qC,GAAS,EAEb,IAAI+qC,EAAiB,GACrBlB,EAAkB/gD,QAAQ,CAACkiD,EAAUhuD,KACjC+tD,EAAe/tD,GAAK,GACpB4sD,EAAiB9gD,QAAQ,CAACV,EAASlK,KAC/B6sD,EAAe/tD,GAAGQ,KAAK,QAG/BmD,KAAKipD,iBAAmBA,EACxBjpD,KAAKkpD,kBAAoBA,EACzB,IAAIvH,EAAe,GACG,IAAlB3hD,KAAK6oD,KAAK7gD,MACZH,EAAUM,QAAS9L,IACf,IAAI0tD,EAAgB,EAClBC,EAAiB,EACrB,GAAkC,cAA9BhqD,KAAKpB,MAAM4e,UAAU,EAAE,IAAqB,CAC9C,IAAIlW,EAAatH,KAAKpB,MAAM4e,UAAU,GAAGxd,KAAKpB,MAAMrC,QACpDwtD,EAAgBtyC,WAAWnO,GAAajN,GAAG,0BAA0BiL,SAErEyiD,EAAgBtyC,WAAWnO,GAAajN,GAAG,YAAYoL,GAAS2Q,YAElE,GAAoC,cAAhCpY,KAAK4oD,QAAQprC,UAAU,EAAE,IAAqB,CAChD,IAAIlW,EAAatH,KAAK4oD,QAAQprC,UAAU,GAAGxd,KAAK4oD,QAAQrsD,QACxDytD,EAAiBvyC,WAAWnO,GAAajN,GAAG,0BAA0BiL,SAEtE0iD,EAAiBvyC,WAAWnO,GAAajN,GAAG,YAAYmtD,GAAWpxC,YAEnE,IAAIkyC,EAAc37B,SAASllB,KAAK45B,OAAO0mB,EAAgBJ,GAAeM,GAAc7xC,YAChFmyC,EAAe57B,SAASllB,KAAK45B,OAAO2mB,EAAiBH,GAAgBK,GAAe9xC,YACxFgyC,EAAeG,GAAcD,GAAaztD,KAAKR,KAGnD+tD,EAAejiD,QAAQ,CAAC2hC,EAAKztC,KACzBytC,EAAI3hC,QAAQ,CAACvJ,EAAOrB,KAChByC,KAAK+oD,UAAY/oD,KAAK+oD,UAAYnqD,EAAMrC,OAASqC,EAAMrC,OAASyD,KAAK+oD,UACrEpH,EAAa9kD,KAAK,CAAE,UAAaqsD,EAAkB7sD,GAAG,QAAW4sD,EAAiB1rD,GAAI,aAAgBlB,EAAG,YAAekB,EAAG,MAAQqB,EAAMrC,OAAQ,UAAaqC,EAAQ,KAAQ,SAItLiJ,EAAUM,QAAS9L,IACf,IAAI0tD,EAAgB,EAChBC,EAAiB,EACrB,GAAkC,cAA9BhqD,KAAKpB,MAAM4e,UAAU,EAAE,IAAqB,CAC9C,IAAIlW,EAAatH,KAAKpB,MAAM4e,UAAU,GAAGxd,KAAKpB,MAAMrC,QACpDwtD,EAAgBtyC,WAAWnO,GAAajN,GAAG,0BAA0BiL,SAErEyiD,EAAgBtyC,WAAWnO,GAAajN,GAAG,YAAYoL,GAAS2Q,YAElE,GAAoC,cAAhCpY,KAAK4oD,QAAQprC,UAAU,EAAE,IAAqB,CAChD,IAAIlW,EAAatH,KAAK4oD,QAAQprC,UAAU,GAAGxd,KAAK4oD,QAAQrsD,QACxDytD,EAAiBvyC,WAAWnO,GAAajN,GAAG,0BAA0BiL,SAEtE0iD,EAAiBvyC,WAAWnO,GAAajN,GAAG,YAAYmtD,GAAWpxC,YAErEupC,EAAa9kD,KAAK,CAAE,UAAamtD,EAAe,QAAWD,EAAe,aAAgB,GAAI,YAAe,GAAI,MAAQ,EAAG,UAAa,IAAIt3C,IAAI,CAACpW,IAAK,KAAQ,MAIrK2D,KAAK2hD,aAAgBA,GAEzB,cAEE73C,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAM2J,EAASprB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC7CC,KAAK,QAAS,QACdA,KAAK,UAAW,kBACZrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBAC5C9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,OAAU/mB,KAAK4mB,OAAOI,QAChDkO,EAAO9b,OAAO,KAClCC,KAAK,QAAQ,oBACbA,KAAK,YAAY,gBAAmBrZ,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOI,SACvC,GAA5BhnB,KAAK2hD,aAAaplD,SACpByD,KAAK2hD,aAAe3hD,KAAKqjD,qBAG3BrjD,KAAK0iD,mBAEP,kBACkC,GAA5B1iD,KAAK2hD,aAAaplD,SACpByD,KAAK2hD,aAAe3hD,KAAKqjD,qBAE3B,MAAMl5B,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BA,EAAMgD,EAAMK,OAAO,qBACDxqB,KAAKwhD,gBAC7Br6B,EAAIkD,UAAU,KAAKkB,SACnB,MAAMiE,EAAkB1lB,GAAA,KAA4BA,GAAA,MACjDC,OAAO,CAAC,EAAG,IAAK/J,KAAK+oD,YACrBt5B,cAAa,SAAU9W,GAAK,OAAO7O,GAAA,KAAoB,IAAI6O,MACxDqT,EAAa,KACf7E,EAAI/N,OAAO,QACRC,KAAK,YAAa,KACf,MAAM4S,EAAUjsB,KAAKgW,MAAQ,EACvBkW,EAAUlsB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEnClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,YAAc/E,KAAKpB,OAC3BuoB,EAAI/N,OAAO,QACRC,KAAK,YAAa,KACf,MAAM4S,EAAU,IACVC,GAAW,GACjB,MAAO,aAAaD,MAAYC,OAEnClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,YAAc/E,KAAK4oD,UAE/B58B,IACA,MAAMw+B,EAAY,KACd,IAAI7xC,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EACT8S,EAAQ1rB,KAAK0rB,MACjBvE,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SACvB8N,EAAI/N,OAAO,KACNC,KAAK,YAAa,mBAClB1c,KAAKmN,GAAA,KAAY8O,IACjBS,KAAK,YAAa,IAGvB,MAAMX,EAAYyO,EAAI/N,OAAO,KAC1BC,KAAK,YAAa,kBAAqBrZ,KAAK6Y,OAAS,GAAM,KAC3DwR,UAAU,SACVtuB,KAAKiE,KAAK2hD,cACVtxB,QACHrwB,KAAKmnB,IAAMA,EACXzO,EACGU,OAAO,QACPC,KAAK,KAAK,SAAUnb,GAAK,OAAOya,EAAEza,EAAE,eACpCmb,KAAK,KAAK,SAAUnb,GAAK,OAAO0a,EAAE1a,EAAE,iBACpCmb,KAAK,QAASrZ,KAAKgW,MAAQ,IAC3BqD,KAAK,SAAUrZ,KAAK6Y,OAAS,IAC7B7S,MAAM,OAAS9H,GACLsxB,EAAgBtxB,EAAE,WAE5ByC,GAAG,QAAUzC,GAAc8B,KAAKq5B,MAAMn7B,IACtCyC,GAAG,cAAgBzC,GAAc8B,KAAKwqB,OAAOtsB,EAAG,YAGjDusD,EAAa,KACjB,MAAM9xC,EAAI7O,GAAA,OACPC,OAAO,CAA6C,IAA5C0N,WAAW3N,GAAA,KAAO9J,KAAKipD,mBAAuE,KAA5CxxC,WAAW3N,GAAA,KAAO9J,KAAKipD,qBACjFp/B,MAAM,CAAE,EAAG7pB,KAAKgW,QACb4C,EAAI9O,GAAA,OACPC,OAAO,CAA8C,IAA7C0N,WAAW3N,GAAA,KAAO9J,KAAKkpD,oBAAyE,KAA7CzxC,WAAW3N,GAAA,KAAO9J,KAAKkpD,sBAClFr/B,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACjB6S,EAASC,GAAWA,EACvBtS,KAAK,YAAa,iBAAoBrZ,KAAK6Y,WAC3Clc,KACCmN,GAAA,KAAc6O,GACXiT,cAAc,IAErBzE,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SACvB8N,EAAI/N,OAAO,KACJC,KAAK,YAAa,mBAClB1c,KAAKmN,GAAA,KAAY8O,IACjBS,KAAK,YAAa,IACzB,MAAMX,EAAYyO,EAAI/N,OAAO,KACxBC,KAAK,YAAa,kBAAqBrZ,KAAK6Y,OAAS,GAAM,KAC3DwR,UAAU,SACVtuB,KAAKiE,KAAK2hD,cACVtxB,QACL3X,EACGU,OAAO,UACPC,KAAK,MAAM,SAAUnb,GAAK,OAAOya,EAAEza,EAAE,eACrCmb,KAAK,MAAM,SAAUnb,GAAK,OAAO0a,EAAE1a,EAAE,iBACrCmb,KAAK,IAAMnb,GAAK,GAAKA,EAAE,UACvB8H,MAAM,OAAS9H,GACNA,EAAE,aAAa8nB,IAAIhmB,KAAKoB,OAAOC,MAAM+R,aAAgB,GAAO/C,MAAM,aAE3EgJ,KAAK,UAAU,IACf1Y,GAAG,QAAUzC,IACZ8B,KAAKoB,OAAOO,SACV,eACE,IAAIzD,EAAE,cAAc,MAGzByC,GAAG,cAAgBzC,IAClB8B,KAAKwqB,OAAOtsB,EAAG,YAElB,MAAMwsD,EAAkB,KACrB,IAAI/xC,EAAI7O,GAAA,OACLC,OAAO/J,KAAKopD,qBACZv/B,MAAM,CAAC,EAAG7pB,KAAKgW,MAAS,IACxB8T,aAAa,GACbC,aAAa,IACZnR,EAAI9O,GAAA,OACHC,OAAO/J,KAAKqpD,sBACZx/B,MAAM,CAAC7pB,KAAK6Y,OAAS,EAAE,IACvBiR,aAAa,GACbC,aAAa,IACd2B,EAASC,GAAWA,EACrBtS,KAAK,YAAa,aAAarZ,KAAKgW,MAAM,OAAOhW,KAAK6Y,OAAS,MAC/Dlc,KACCmN,GAAA,KAAc6O,GACXiT,cAAc,IAErBzE,EAAI/N,OAAO,KACRzc,KAAK+uB,GACLrS,KAAK,YAAa,GAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SACvB8N,EAAI/N,OAAO,KACNC,KAAK,YAAa,cAAerZ,KAAKgW,MAAM,IAA1B,OAClBrZ,KAAKmN,GAAA,KAAY8O,IACjBS,KAAK,YAAa,GAEvB,MAAMX,EAAYyO,EAAI/N,OAAO,KAC1BC,KAAK,YAAa,cAAerZ,KAAKgW,MAAM,IAAM,KAAOhW,KAAK6Y,OAAS,GAAM,KAC7EwR,UAAU,SACVtuB,KAAKiE,KAAKmpD,iBACV94B,QACH3X,EACGU,OAAO,QACPC,KAAK,KAAK,SAAUnb,GAAK,OAAOya,EAAEza,EAAE,eACpCmb,KAAK,KAAK,SAAUnb,GAAK,OAAO0a,EAAE1a,EAAE,iBACpCmb,KAAK,QAASrZ,KAAKgW,MAAQ,IAC3BqD,KAAK,SAAUrZ,KAAK6Y,OAAS,IAC7B7S,MAAM,OAAS9H,GACV8B,KAAK6oD,KAAKxpD,QAAUnB,EACf,YAEA,aAEVmb,KAAK,aAAanb,GAAiB,GAAdA,EAAE,SAAe,SAAS,WAC/CyC,GAAG,QAASzC,GAAG8B,KAAK6oD,KAAO,CAAE7gD,KAAM,GAAI,OAAS,MAEtD0iD,KAGmB,IAAlB1qD,KAAK6oD,KAAK7gD,MACZwiD,IACAxqD,KAAK0sB,kBAEL+9B,KAIJ,iBACoC,GAA5BzqD,KAAK2hD,aAAaplD,SACpByD,KAAK2hD,aAAe3hD,KAAKqjD,qBAE3B,MAAM,MAAEj4C,EAAK,OAAE+E,GAAWnQ,KAAKiY,WACzBm2B,EAAa,CAACvmC,EAAwBwO,KACxC,MAAM8U,EAAuBlc,GAAapH,EAAWwO,GACrD,OAAO8U,EAAqBlP,KAAOpU,EAAUoU,MAAQjc,KAAK6Y,OAAS,KAEjEyU,EAAe,CAACzlB,EAAwBwO,KAC9C,MAAM8U,EAAuBlc,GAAapH,EAAWwO,GACrD,IAAK,MAAMhN,KAAM8hB,EACf,GAAGnrB,KAAKoB,OAAOC,MAAM+R,cAAgB/J,EAAI,OAAO,EAElD,OAAO,GAED4O,EAAa,CAAC7M,EAAO+E,GACrBwI,EAAI3Y,KAAK2Y,EACTC,EAAI5Y,KAAK4Y,EACf,IAAI0T,EAAWtsB,KAAKgW,MAAQ,GACxB2W,EAAqBL,EAAW,EACpCrU,EAAW9P,QAAQ,CAAColB,EAAejK,KAC5BiK,EAIHvtB,KAAK2hD,aAAax5C,QAASjK,IAEzB,IAAIsvB,EAAuB,CACzB9U,SAAW1Y,KAAKmnB,IAChBxO,EAAI,GAAKA,EAAEza,EAAE,aAAeolB,EAAI,GAAKqJ,EACrC/T,GAAM5Y,KAAK6Y,OAAS,GAAMD,EAAE1a,EAAE,cAC9B8X,MAAQ2W,EACR9T,OAASu1B,EAAW,IAAI37B,IAAIvU,EAAE,cAAeqvB,EAAc1lB,WAC3DpJ,EAAKkuB,EAAoB,EACzB7T,MAAe,GAAPwK,EAAUtjB,KAAKsnB,gBAAkBtnB,KAAKunB,gBAC9CxO,kBAAoBq1B,EAAW,IAAI37B,IAAIvU,EAAE,cAAeqvB,EAAc1lB,WAAa,GAAKumC,EAAW,IAAI37B,IAAIvU,EAAE,cAAeqvB,EAAc1lB,WAAwB,GAAXykB,EAAiB,UAAU,SAClLtT,GAAK,GAAKL,EAAEza,EAAE,YAAmC,EAApByuB,GAAyBrJ,EAAM,IAAOqJ,EACnE1T,IAAOjZ,KAAK6Y,OAAS,GAAKD,EAAE1a,EAAE,cAAiByuB,EAAoB,EACnEzT,eAAgBoK,EAChBnK,QAASmU,EAAa,IAAI7a,IAAIvU,EAAE,cAAeqvB,EAAc1lB,WAC7DjG,UAAY5B,KAAK7B,MAEnB6B,KAAKoB,OAAOO,SAAS,iBAAiB6rB,MApBxCxtB,KAAKmnB,IAAIkD,UAAU,kBAAkB/G,GAAKjK,KAAK,SAAU,KACzDrZ,KAAKmnB,IAAIkD,UAAU,oBAAoB/G,GAAKjK,KAAK,aAAa,cAwBtE,OACE8oC,EACA/rC,GAEoB,WAAjBA,IACDtM,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,mBAEX,MAAMpmB,EAAatH,KAAKgpD,gBAClB2B,EAAe3qD,KAAKpB,MACpBgsD,EAAiB5qD,KAAK4oD,QACtBnhD,EAAU06C,EAAM,WAChBqH,EAAYrH,EAAM,aAClB3vC,EAAc,mBAAmBm4C,gBAA2BljD,SAAemjD,gBAA4BpB,KAEvG3hD,EAAY,IAAI4K,IAAK0vC,EAAM,cAC3Bj7C,EAAaD,KACnBC,EAAWE,KAAO1B,EAAK0H,MACvBlG,EAAWI,WAAaA,EAExB,MAAMiB,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAQ,IAEJqI,EAAU,CACd3D,cACA3K,YACAU,aAEFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,IAErD,MAAMuG,GACJ3c,KAAKmkD,YAAc,EACK,IAApBnkD,KAAKmkD,aACLnkD,KAAKokD,WAAa5gD,YAAW,SAAS2T,GAClCA,EAAQgtC,WAAa,EACrBhtC,EAAQqT,OAAO7N,EAAM,WACtB,IAAK3c,OAEY,IAApBA,KAAKmkD,aACLQ,aAAa3kD,KAAKokD,YAClBpkD,KAAKmkD,WAAa,EAClBnkD,KAAK6oD,KAAO,CAAE7gD,KAAM,KAAM,OAAS2U,QC7wByX,MCQla,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAQhC,IAAkB,GAAW,CAAC1X,kBAAA,KAAgB2oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,OC3BrF,IAAI,GAAS,WAAa,IAAI5E,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,iBAAiB,KAAKV,EAAG,4BAA4B,CAACA,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,eAAe,MAAuB,QAAfP,EAAIk3C,OAAmB,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIm3C,cAAc,CAACn3C,EAAIc,GAAG,SAASV,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,iBAAiB,MAAuB,UAAfP,EAAIk3C,OAAqB,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIo3C,gBAAgB,CAACp3C,EAAIc,GAAG,iBAAiBV,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,kBAAkB,MAAuB,WAAfP,EAAIk3C,OAAsB,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIq3C,iBAAiB,CAACr3C,EAAIc,GAAG,iBAAiBV,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,wBAAwB,MAAuB,iBAAfP,EAAIk3C,OAA4B,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIs3C,uBAAuB,CAACt3C,EAAIc,GAAG,kBAAkBV,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,iBAAiB,MAAuB,UAAfP,EAAIk3C,OAAqB,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIu3C,gBAAgB,CAACv3C,EAAIc,GAAG,WAAWV,EAAG,QAAQ,CAACE,YAAY,eAAeC,MAAM,CAAC,GAAK,sBAAsB,MAAuB,eAAfP,EAAIk3C,OAA0B,UAAY,aAAa,MAAQ,IAAIt2C,GAAG,CAAC,MAAQZ,EAAIw3C,qBAAqB,CAACx3C,EAAIc,GAAG,8BAA8B,IAAI,IAAI,GAAGV,EAAG,SAAS,CAACG,MAAM,CAAC,GAAK,mBAAmB,CAACH,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIy3C,aAAaz3C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,cAAcV,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI03C,aAAa13C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,UAAUV,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI23C,aAAa33C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,YAAYV,EAAG,QAAQ,CAACE,YAAY,2BAA2BC,MAAM,CAAC,MAAQ,UAAU,MAAQ,IAAIK,GAAG,CAAC,MAAQZ,EAAI43C,YAAY,CAAC53C,EAAIc,GAAG,eAAgBd,EAAIsQ,MAAMtQ,EAAI8H,WAAW0B,SAAc,MAAEpJ,EAAG,QAAQ,CAACG,MAAM,CAAC,IAAMP,EAAIsQ,MAAMtQ,EAAI8H,WAAW0B,SAASquC,SAAS73C,EAAIqG,KAAKrG,EAAI0B,GAAI1B,EAAIsQ,MAAMtQ,EAAI8H,YAAY,SAASjJ,EAAMT,GAAM,OAAOgC,EAAG,cAAc,CAACjB,IAAIN,EAAMyK,GAAG/I,MAAM,CAAC,GAAK,iBAAiB,CAACH,EAAG,sBAAsB,CAACA,EAAG,uBAAuB,CAACJ,EAAIc,GAAGd,EAAIoB,GAAGhD,MAA2B,kBAAVS,EAAoBmB,EAAI0B,GAAG,GAAQ,SAASqE,EAAE1G,GAAG,OAAOe,EAAG,SAAS,CAACjB,IAAIE,EAAEkB,MAAM,CAAC,GAAK,iBAAiB,CAAElB,GAAK0G,EAAG,CAAC/F,EAAIc,GAAGd,EAAIoB,GAAG/B,GAAG,KAAKW,EAAIoB,GAAG2E,KAAK/F,EAAIqG,KAAK,CAACrG,EAAIc,GAAGd,EAAIoB,GAAG/B,GAAG,KAAKW,EAAIoB,GAAG2E,MAAM,MAAK,CAAC/F,EAAIc,GAAGd,EAAIoB,GAAGvC,MAAU,IAAI,MAAKuB,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAIy3C,aAAaz3C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,cAAcV,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI03C,aAAa13C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,UAAUV,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQ,SAASoB,GAAQ,OAAOhC,EAAI23C,aAAa33C,EAAI8H,cAAc,CAAC9H,EAAIc,GAAG,YAAYV,EAAG,QAAQ,CAACE,YAAY,aAAaC,MAAM,CAAC,MAAQ,IAAIK,GAAG,CAAC,MAAQZ,EAAI43C,YAAY,CAAC53C,EAAIc,GAAG,gBAAgB,IAAI,IACj5G,GAAkB,GC8HP,UAAIkC,OAAO,CACxB5E,KAAM,eACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAO,CACLpiB,MAAO,GACPuzC,OAAQ,GACRC,UAAW,GACXC,YAAY,EACZC,kBAAkB,EAClBC,eAAe,EACfC,cAAe,EACfC,aAAc,EACdlB,OAAQ,QAGZ,UACEj3C,KAAKoB,OAAOO,SAAS,eAAgB3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,IACvErJ,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,SAE9CvvB,SAAU,CACR,YACE,IAAI7f,EAA8B,GAClC7H,KAAKoB,OAAOyE,QAAQyI,kBAAkBnG,QAASkB,IAC7C,MAAMhN,EAAIiN,GAAaD,GACjB6J,EAAQ,eACZ7J,MACGhN,GAELwL,EAAUhL,KAAKqW,KAGjB,MAAM,MAAE9H,EAAK,OAAE+E,GAAWnQ,KAAKiY,WAC/B,GAAoB,QAAhBjY,KAAKi3C,OAAkB,CACzB,IAAI5gC,EAAY,GAChB,GAAoB,UAAhBrW,KAAKi3C,OACP,GAAI7rC,EACF,IAAK,MAAM/B,KAAM+B,EAAMvD,UACrBwO,EAAUxZ,KAAKgL,EAAUgvC,KAAMl+B,GAAMA,EAAEtP,KAAOA,SAEhDrJ,KAAKm4C,cAAgB,EACrBpC,MAAM,qBAEH,GAAoB,WAAhB/1C,KAAKi3C,OACd,GAAI9mC,EACF,IAAK,MAAM9G,KAAM8G,EAAOtI,UACtBwO,EAAUxZ,KAAKgL,EAAUgvC,KAAMl+B,GAAMA,EAAEtP,KAAOA,SAEhDrJ,KAAKm4C,cAAgB,EACrBpC,MAAM,mCAEH,GAAI3qC,GAAS+E,GAClB,GAAoB,iBAAhBnQ,KAAKi3C,OACP,IAAK,MAAM5tC,KAAM+B,EAAMvD,UACjBsI,EAAOtI,UAAUme,IAAI3c,IACvBgN,EAAUxZ,KAAKgL,EAAUgvC,KAAMl+B,GAAMA,EAAEtP,KAAOA,SAG7C,GAAoB,UAAhBrJ,KAAKi3C,OAAoB,CAClC,IAAK,MAAM5tC,KAAM+B,EAAMvD,UACrBwO,EAAUxZ,KAAKgL,EAAUgvC,KAAMl+B,GAAMA,EAAEtP,KAAOA,IAChD,IAAK,MAAMA,KAAM8G,EAAOtI,UACjBuD,EAAMvD,UAAUme,IAAI3c,IACvBgN,EAAUxZ,KAAKgL,EAAUgvC,KAAMl+B,GAAMA,EAAEtP,KAAOA,SAC7C,GAAoB,eAAhBrJ,KAAKi3C,OACd,IAAK,MAAM/jC,KAAYrL,EAElBuD,EAAMvD,UAAUme,IAAI9S,EAAS7J,KAC7B8G,EAAOtI,UAAUme,IAAI9S,EAAS7J,KAE/BgN,EAAUxZ,KAAKqW,QAIrBlT,KAAKm4C,cAAgB,EACrBpC,MAAM,yDAER,OAAO1/B,EAET,OAAOxO,GAET,aAIE,OAAO7H,KAAKoB,OAAOC,MAAM8J,mBAE3B,cAAsB,OAAQnL,KAAKoB,OAAOC,MAAM+R,cAElD4W,MAAO,CACL,eACEhqB,KAAKoB,OAAOO,SACV,eACA3B,KAAKm4C,aAAe,EAAI,KAAOn4C,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGrE,aACErJ,KAAKoB,OAAOO,SACV,eACA3B,KAAKm4C,aAAe,EAAI,KAAOn4C,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGrE,UACElG,QAAQC,IAAI,iBAEd,cACEpD,KAAKm4C,aAAen4C,KAAK6qD,UAAU7qD,KAAK6H,UAAU7H,KAAKoB,OAAOC,MAAM+R,aACpEjQ,QAAQC,IAAI,eAAgBpD,KAAKoB,OAAOC,MAAM+R,aAC9CjQ,QAAQC,IAAI,aAAcpD,KAAK6qD,UAAU7qD,KAAK6H,UAAU7H,KAAKoB,OAAOC,MAAM+R,gBAG9ElQ,QAAS,CAIP,MAAM2E,GACJ,MAAMqL,EAAWrL,EAAU7H,KAAKm4C,cAChC,IAAI2S,EAAa,CACfvhD,SAAU2J,EAAS3J,SACnBF,GAAI6J,EAAS7J,GACbqE,OAAQwF,EAASxF,OACjBC,YAAauF,EAASvF,aAErBuF,EAASkK,yBACV0tC,EAAW,0BAA4B53C,EAASkK,wBAElD,IAAK,MAAMle,KAAO4rD,EACZtuD,OAAOC,UAAUC,eAAeC,KAAKmuD,EAAY5rD,IAChD4rD,EAAW5rD,GAAK,YACV4rD,EAAW5rD,GAAK,IAG7B,OAAO4rD,GAGT,UAAUjjD,EAAWwB,GACnB,IAAI,IAAIhN,EAAI,EAAGA,EAAIwL,EAAUtL,OAAQF,IACnC,GAAGwL,EAAUxL,GAAGgN,KAAOA,EACrB,OAAOhN,EAGX,OAAQ,GAKV,aAAawL,GACP7H,KAAKm4C,aAAe,EAAGn4C,KAAKm4C,eAC3Bn4C,KAAKm4C,aAAetwC,EAAUtL,OAAS,GAE9C,aAAasL,GACP7H,KAAKm4C,aAAetwC,EAAUtL,OAAS,EAAGyD,KAAKm4C,eAC9Cn4C,KAAKm4C,aAAe,GAE3B,aAAatwC,GACX7H,KAAKm4C,aAAe1uC,KAAKuU,MAAMvU,KAAKwU,SAAWpW,EAAUtL,SAM3D,cACEyD,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,MACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,gBACErJ,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,QACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,iBACErJ,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,SACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,uBACErJ,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,eACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,gBACErJ,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,QACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,qBACErJ,KAAKm4C,aAAe,EACpBn4C,KAAKi3C,OAAS,aACdj3C,KAAKoB,OAAOO,SAAS,iBAAkB3B,KAAKi3C,QAC5Cj3C,KAAKoB,OAAOO,SACV,eACA3B,KAAK6H,UAAU7H,KAAKm4C,cAAc9uC,KAGtC,YACErJ,KAAKoB,OAAOO,SAAS,sBChWyY,MCQha,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAehC,IAAkB,GAAW,CAACgC,OAAA,KAAKsB,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAM4zC,QAAA,KAAKt0C,QAAA,KAAMC,YAAA,KAAUC,iBAAA,OAAiBq0C,kBAAA,SClC7J,IAAI,GAAS,WAAa,IAAIz4C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,qBAAqB,CAACW,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIuE,MAAMtD,GAAKE,WAAW,UAAU,CAACf,EAAG,oBAAoB,CAACA,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACE,YAAY,SAAS6B,YAAY,CAAC,YAAY,SAAS,CAAC/B,EAAG,SAAS,CAAC+B,YAAY,CAAC,eAAe,QAAQvB,GAAG,CAAC,MAAQZ,EAAIyG,UAAU,CAACzG,EAAIc,GAAG,WAAWV,EAAG,OAAO,CAACJ,EAAIc,GAAG,+BAA+B,KAAKV,EAAG,4BAA4B,CAACA,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,qBAAqBQ,MAAM,CAAClC,MAAOmB,EAAkB,eAAEgB,SAAS,SAAUC,GAAMjB,EAAI6nB,eAAe5mB,GAAKE,WAAW,mBAAmB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,uBAAuB,MAAQ,gBAAgBH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,WAAW,MAAQ,cAAcH,EAAG,UAAU,CAACG,MAAM,CAAC,GAAK,MAAM,MAAQ,MAAM,MAAQ,SAASH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,QAAQH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,YAAY,MAAQ,eAAeH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAAS,MAAQ,aAAa,GAAGH,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,kBAAkBQ,MAAM,CAAClC,MAAOmB,EAAkB,eAAEgB,SAAS,SAAUC,GAAMjB,EAAIiuB,eAAehtB,GAAKE,WAAW,mBAAmB,CAACf,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,iBAAiB,MAAQ,aAAaH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,kBAAkB,MAAQ,eAAe,IAAI,IAAI,IAAI,GAAGH,EAAG,cAAc,CAACG,MAAM,CAAC,QAAUP,EAAIkuB,QAAQ,UAAW,EAAK,mBAAkB,EAAM,mBAAkB,EAAM,mBAAkB,EAAK,YAAc,YAAY,MAAQ,OAAO,WAAW,OAAO,mBAAkB,GAAM1tB,YAAYR,EAAIS,GAAG,CAAC,CAACtB,IAAI,YAAYuB,GAAG,SAASC,GACxoD,IAAIqI,EAASrI,EAAIqI,OACbmlB,EAASxtB,EAAIwtB,OACjB,MAAO,CAAEnlB,EAAOxM,SAAW2xB,EAAQ/tB,EAAG,OAAO,CAACE,YAAY,uBAAuB,CAACN,EAAIc,GAAG,IAAId,EAAIoB,GAAG4H,EAAOxM,QAAQ,wBAAwBwD,EAAIqG,UAAUtF,MAAM,CAAClC,MAAOmB,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAInB,MAAMoC,GAAKE,WAAW,WAAWf,EAAG,MAAM,CAACO,IAAI,SAAS,IACnQ,GAAkB,GCkEP,UAAIqC,OAAO,CACxB5E,KAAM,iBACNsoB,MAAO,CACLlgB,SAAU,CACRyB,KAAMxL,OACNkqB,UAAU,GAEZlgB,QAAS,CACPwB,KAAM2e,SACND,UAAU,IAGd,OACE,MAAME,EAAS,CAACC,IAAK,IAAKC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KACjDhR,EAAQ,IAAO4Q,EAAOI,KAAOJ,EAAOE,MACpCjO,EAAS,IAAM+N,EAAOC,IAAMD,EAAOG,OACnCE,EAAQ,CACZ8jC,KAAM,GACNznC,IAAK,GACL0nC,SAAU,IAEN3xB,EAAQ,CACZ/xB,WAAY,GACZkQ,WAAY,GACZG,YAAa,IAETszC,EAAY,CAChBF,KAAM,GACNC,SAAU,IAENpjC,EAAiB,aAEjB0X,EAAiB,CACrBhU,UAAW,IAEPiU,EAAY,CAChB9hB,UAAW,IAEP+hB,EAAY,CAChB/hB,UAAW,IAEPytC,EAAoB,CACxBztC,UAAW,IAEPuQ,EAAiB,UAEjByR,EAAkB,IAAIz/B,KAAKuG,SAAS1E,aAAa,GACjD69B,EAAc,CAAC,kBAAmB,oBAClCC,EAAc,CAAC,iBAAkB,oBACjCC,EAAe,CAAC,iBAAiB,oBAGvC,MAAO,CACLurB,aAAc,GACdC,kBAAmB,GACnBp9B,iBACAq9B,SAAU,EACVC,UAAW,EACXC,iBAAkB,KAClBC,cAAe,GACfN,oBACAO,cAAe,GACflsB,WACA3X,iBACA4X,WACAF,iBACAW,cAAe,EACfC,eAAgB,EAChBC,WAAY,GACZvhC,MAAO,GACPia,SACAoO,QACAoS,QACA4xB,YACArkC,SACAtiB,MAAO,GACP8iB,WAAY,UACZC,gBAAiB,UACjBC,gBAAiB,UACjBC,gBAAiB,UACjBvR,QACAwR,WAAY,UACZC,gBAAiB,UACjB9gB,YAAY,IAAI3G,KAAKuG,SAASqM,SAASrW,OACvCkjC,kBACAv2B,aAAc,GACdk3B,sBAAsB,GACtBV,cACAE,eACAD,gBAGJjY,SAAU,CACR,aACE,IAAIjK,EAAY,EACZuT,EAAW,IACXhnB,EAAa,GACjB,MAAOyT,GAAa,EAClBzT,EAAWnN,KAAK4gB,EAAUpF,QAAQ,IAClCoF,GAAauT,EAEf,OAAOhnB,GAGT,YACE,MAAO,IAAIhK,KAAKuG,SAASsB,YAE3B,UACE,IAAIomB,EAAU,GACd,MAAMpsB,EAAc7B,KAAK6B,YAIzB,OAHAA,EAAYsG,QAASlK,IACnBgwB,EAAQpxB,KAAK,CAACsB,KAAMF,MAEfgwB,GAET,uBACE,OAAOjuB,KAAKoB,OAAOC,MAAM2Q,yBAE3B,0BACE,OAAOhS,KAAKuG,SAASqL,yBAEvB,UAEE,OADA5R,KAAK2G,YAAc,IAAI3G,KAAKuG,SAASqM,SAASrW,OACvC,IAAIyD,KAAKuG,SAASqM,UAE3B,cACE,MAAMmR,EAAiB,IAAI/jB,KAAKuG,SAAS1E,aACnC8c,EAAmB,CACvB,SACA,sBACA,qBAEF,OAAOoF,EAAetY,OAAQxN,IAAO0gB,EAAiBxY,SAASlI,KAEjE,8BACE,OAAO+B,KAAKoB,OAAOC,MAAM4Q,6BAE3B,WACE,MAAO,IAAIjS,KAAKuG,SAASgD,WAE3B,iBACE,MAAM4e,EAAiBnoB,KAAK6B,YAAYlC,QACxC,OAAOwoB,GAET,2BACE,GAAqC,cAAjCnoB,KAAKoB,OAAOC,MAAMuF,YAA6B,CACjD,IAAIwhB,EAA2B,GAI/B,OAHApoB,KAAKmoB,eAAehgB,QAASlK,IAC3BmqB,EAAyBvrB,KAAKoB,EAAE,IAAI+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAG,OAE5EmqB,EAEP,OAAOpoB,KAAKmoB,gBAGhB,2BACE,IAAIE,EAA2B,GAQ/B,OAPAroB,KAAK6B,YAAYsG,QAASlK,IACa,cAAjC+B,KAAKoB,OAAOC,MAAMuF,YACpByhB,EAAyBpqB,GAAKA,EAAI,IAAM+B,KAAKoB,OAAOC,MAAM2Q,wBAAwB/T,GAAG,IAErFoqB,EAAyBpqB,GAAKA,IAG3BoqB,GAET,iBAQE,MAAMoJ,EAOF,GAUJ,OATAzxB,KAAK6B,YAAYsG,QAASlK,IAExBwzB,EAAezxB,KAAKqoB,yBAAyBpqB,IAAM,CACjDE,KAAKF,EACLwf,UAAWjhB,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAI+B,KAAK0uB,qBAAqBzwB,GAAK,EAC/FuZ,WAAahb,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAI+B,KAAK0uB,qBAAqBzwB,GAAK,IAAM,IAAO,EAC9G0Z,YAAcnb,OAAO+F,KAAMvC,KAAK0uB,sBAAsBvoB,SAASlI,GAAI+B,KAAK0uB,qBAAqBzwB,GAAK,IAAM,IAAM,KAG3GwzB,GAET,cACE,IAAIT,EAAW,IACX06B,EAAiB,IAEjBN,EAAoB,GAIxBprD,KAAK6B,YAAYsG,QAASlK,IACxB,IAAI6J,EAAU,GACVua,EAAQ,EACZ,MAAOA,EAAQ,EAAG,CAChB,IAAIspC,EAAUtpC,EAAMhK,QAAQ,GAAK,KAAOgK,EAAM2O,GAAU3Y,QAAQ,GAChEvQ,EAAQ6jD,GAAW,GACnBtpC,GAAS2O,EAEXhxB,KAAK6H,UAAUM,QAASkB,IACtB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuBnf,GAC5D2tD,EAAaniD,KAAKuU,MAAyB,IAAnBiV,EAAyB,GACjD04B,GAAW,EAAe36B,GAAU3Y,QAAQ,GAAK,MAAQuzC,EAAW,GAAK56B,GAAU3Y,QAAQ,GAC7E,IAAduzC,IACFD,EAAU,aAELl0C,WAAWwb,GAAqB24B,EAAa56B,EAAa,GAAoB,GAAd46B,IACrED,IAAYC,EAAW,GAAK56B,GAAU3Y,QAAQ,GAAK,KAAO,EAAgB2Y,GAAU3Y,QAAQ,IAE9FvQ,EAAQ6jD,GAAS9uD,KAAK,CAAC,GAAKwM,EAAI,MAAQoO,WAAWwb,GAAkB5a,QAAQ,OAE/E+yC,EAAkBntD,GAAK6J,IAGzB9H,KAAKorD,kBAAoBA,EAGzB,MAAMS,EAAe,CAAC5tD,EAAGqiB,EAAeqR,EAAWC,KACjD,IAAIlJ,EAAM,CACR,UAAaiJ,EAAUtZ,QAAQ,GAC/B,WAAcuZ,EAAWvZ,QAAQ,GACjC,WAAa,EACb,MAAQ,EACR,IAAM,EACN,OAAS,EACT,UAAY,EACZ,IAAM,EACN,GAAK,EACL,KAAO,EACP,KAAO,EACP,KAAO,EACP,KAAO,EACP,EAAI,EACJ,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,EACL,aAAe,GACf,eAAiB,GACjB,OAAS,GAoDX,OAlDArY,KAAK6H,UAAUM,QAASkB,IACtB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuBnf,GAChEyqB,EAAI,WAAa,EACbuK,EAAmBtB,GAAasB,EAAmBrB,GACnDlJ,EAAI,MAAQ,EACRpf,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GACtCqgB,GAAoB3S,GACtBoI,EAAI,SAAW,EACfA,EAAI,kBAAkB7rB,KAAK,CAAC,GAAKwM,EAAI,MAAQ4pB,KAE7CvK,EAAI,SAAW,EAGbuK,EAAmB3S,EACrBoI,EAAI,SAAW,EAEfA,EAAI,SAAW,GAGZuK,GAAoBrB,EACzBtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,IAC1C8V,EAAI,OAAS,EACbA,EAAI,gBAAgB7rB,KAAK,CAAC,GAAKwM,EAAI,MAAQ4pB,KAE3CvK,EAAI,OAAS,EAGXpf,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1C8V,EAAI,OAAS,EAEbA,EAAI,OAAS,IAInBA,EAAI,cAAgBA,EAAI,KAAOA,EAAI,UACnCA,EAAI,SAAWA,EAAI,UAAYA,EAAI,MAAS,EAAG,GAAKA,EAAI,MAAQA,EAAI,QAAUA,EAAI,UAAYA,EAAI,MAClGA,EAAI,QAAUA,EAAI,MAAQA,EAAI,OAASA,EAAI,UAC3CA,EAAI,aAAmBA,EAAI,MAAUA,EAAI,OAAU,EAAG,EAAGA,EAAI,OAAWA,EAAI,MAAUA,EAAI,OAC1FA,EAAI,UAAeA,EAAI,MAAUA,EAAI,OAAU,EAAI,EAAGA,EAAI,OAAWA,EAAI,MAAUA,EAAI,OACvFA,EAAI,MAAUA,EAAI,UAAYA,EAAI,cAAgB,EAAI,EAAI,EAAEA,EAAI,UAAUA,EAAI,cAAiBA,EAAI,UAAYA,EAAI,cAC1F,GAArBA,EAAI,cACNA,EAAI,OAAS,EAEqF,GAA7Fjf,KAAK0W,MAAMuI,EAAInJ,GAAKmJ,EAAI7I,KAAO6I,EAAInJ,GAAKmJ,EAAIjoB,KAAOioB,EAAIhJ,GAAKgJ,EAAI7I,KAAO6I,EAAIhJ,GAAKgJ,EAAIjoB,KACvFioB,EAAI,OAAS,EAEbA,EAAI,OAA8B,GAArBA,EAAI,cAAoB,GAAIA,EAAInJ,GAAGmJ,EAAIhJ,GAAGgJ,EAAI7I,GAAG6I,EAAIjoB,IAAMgJ,KAAK0W,MAAMuI,EAAInJ,GAAKmJ,EAAI7I,KAAO6I,EAAInJ,GAAKmJ,EAAIjoB,KAAOioB,EAAIhJ,GAAKgJ,EAAI7I,KAAO6I,EAAIhJ,GAAKgJ,EAAIjoB,KAIzJioB,GAGHojC,EAAU,CAAC7tD,EAAGwf,EAAWkU,EAAWC,EAAYm6B,KACpD,GAAIt0C,WAAWka,EAAUtZ,QAAQ,KAAOZ,WAAWma,EAAWvZ,QAAQ,IAAK,CACzE,IAAIqQ,EAAMmjC,EAAa5tD,EAAGwf,EAAWkU,EAAWC,GAChD,OAAOlJ,EAET,IAAIA,EAAM,CACR,UAAajR,WAAWka,EAAUtZ,QAAQ,IAC1C,WAAcZ,WAAWma,EAAWvZ,QAAQ,IAC5C,WAAa,EACb,MAAQ,EACR,IAAM,EACN,OAAS,EACT,UAAY,EACZ,IAAM,EACN,GAAK,EACL,KAAO0zC,EAASvsC,KAChB,KAAOusC,EAASpsC,KAChB,KAAOosC,EAAS/rC,KAChB,KAAO+rC,EAASjsC,KAChB,EAAIisC,EAAS/tD,EACb,GAAK+tD,EAASxsC,GACd,GAAKwsC,EAASrsC,GACd,GAAKqsC,EAASlsC,GACd,GAAKksC,EAAStrD,GACd,OAASsrD,EAASC,QAGhBC,EAAgBxiD,KAAK4W,IAAIsR,GAAWtZ,QAAQ,GAAM,IAAOZ,WAAWs0C,EAAS,aAAa3zC,YAAYC,QAAQ,GAC9G6zC,EAAoBD,EACpBx0C,WAAWhO,KAAK4W,IAAIsR,GAAWtZ,QAAQ,IAAM,IAC/C6zC,EAAqBziD,KAAK4W,IAAIsR,EAAU,KAAMtZ,QAAQ,GAAM,IAAM5O,KAAK4W,IAAIsR,GAAWtZ,QAAQ,IAEhG,IAAI8zC,EAAiB,IAAIf,EAAkBntD,GAAGguD,GAAcb,EAAkBntD,GAAGiuD,IAC7EE,EAAiB30C,WAAWs0C,EAAS,cAAc3zC,YAAYC,QAAQ,GAAM,IAAMuZ,EAAWvZ,QAAQ,GACtGg0C,EAAuBD,EACvB30C,WAAWhO,KAAK4W,IAAI0rC,EAAS,eAAe1zC,QAAQ,IAAM,IAC5Dg0C,EAAuB50C,YAAYs0C,EAAS,cAAc,KAAM3zC,YAAYC,QAAQ,GAAM,IAAOZ,WAAWs0C,EAAS,cAAc3zC,YAAYC,QAAQ,IAGzJ,IAAIi0C,EAAkB,IAAIlB,EAAkBntD,GAAGmuD,MAAkBhB,EAAkBntD,GAAGouD,IA+FtF,OA7FAF,EAAehkD,QAASkB,IAClBqf,EAAIiJ,UAAY,EACdla,WAAWpO,EAAGzK,OAAS8pB,EAAIiJ,WAAala,WAAWpO,EAAGzK,QAAUmtD,EAASp6B,YAExEroB,GAAaD,EAAGA,IAAIqE,QAAU1N,KAAK4S,QAAQ,GACxC8V,EAAI,MAAQ,IACdA,EAAI,OAAS,EACbA,EAAI,SAAW,EACfA,EAAI,MAAQ,GAGVA,EAAI,MAAQ,IACdA,EAAI,OAAQ,EACZA,EAAI,SAAW,EACfA,EAAI,MAAQ,IAKdjR,WAAWpO,EAAGzK,QAAU8pB,EAAIiJ,WAAala,WAAWpO,EAAGzK,QAAUmtD,EAASp6B,YACzEroB,GAAaD,EAAGA,IAAIqE,QAAU1N,KAAK4S,QAAQ,GACxC8V,EAAI,MAAQ,IACdA,EAAI,OAAS,EACbA,EAAI,SAAW,EACfA,EAAI,MAAQ,GAGVA,EAAI,MAAQ,IACdA,EAAI,OAAQ,EACZA,EAAI,SAAW,EACfA,EAAI,MAAQ,MAQtB4jC,EAAgBnkD,QAASkB,IACpBqf,EAAIkJ,WAAa,EACdna,WAAWpO,EAAGzK,OAASmtD,EAASn6B,YAAcna,WAAWpO,EAAGzK,QAAU8pB,EAAIkJ,aACzEtoB,GAAaD,EAAGA,IAAIqE,QAAU1N,KAAK4S,QAAQ,GACxC8V,EAAI,MAAQ,IACdA,EAAI,OAAS,EACbA,EAAI,SAAW,EACfA,EAAI,MAAQ,GAGVA,EAAI,MAAM,IACZA,EAAI,OAAQ,EACZA,EAAI,SAAW,EACfA,EAAI,MAAQ,IAKdjR,WAAWpO,EAAGzK,QAAUmtD,EAASn6B,YAAcna,WAAWpO,EAAGzK,QAAU8pB,EAAIkJ,aAE1EtoB,GAAaD,EAAGA,IAAIqE,QAAU1N,KAAK4S,QAAQ,GACxC8V,EAAI,MAAM,IACZA,EAAI,OAAS,EACbA,EAAI,SAAW,EACfA,EAAI,MAAQ,GAIVA,EAAI,MAAM,IACZA,EAAI,OAAQ,EACZA,EAAI,SAAW,EACfA,EAAI,MAAQ,MAQtBA,EAAI,cAAgBA,EAAI,KAAOA,EAAI,UACnCA,EAAI,SAAWA,EAAI,UAAYA,EAAI,MAAS,EAAG,GAAKA,EAAI,MAAQA,EAAI,QAAUA,EAAI,UAAYA,EAAI,MAClGA,EAAI,QAAUA,EAAI,MAAQA,EAAI,OAASA,EAAI,UAC3CA,EAAI,aAAqC,GAArBA,EAAI,cAAmB,EAAKA,EAAI,MAAUA,EAAI,OAAU,EAAIA,EAAI,OAAWA,EAAI,MAAUA,EAAI,OAASA,EAAI,MAAQ,EAAG,EAAE,EAC3IA,EAAI,UAAiC,GAArBA,EAAI,cAAoB,EAAKA,EAAI,MAAUA,EAAI,OAAU,EAAKA,EAAI,OAAWA,EAAI,MAAUA,EAAI,OAASA,EAAI,MAAQ,EAAG,EAAG,EAC1IA,EAAI,MAAUA,EAAI,UAAYA,EAAI,cAAgB,EAAI,EAAI,EAAEA,EAAI,UAAUA,EAAI,cAAiBA,EAAI,UAAYA,EAAI,cAC1F,GAArBA,EAAI,cACNA,EAAI,OAAU,EAEoF,GAA7Fjf,KAAK0W,MAAMuI,EAAInJ,GAAKmJ,EAAI7I,KAAO6I,EAAInJ,GAAKmJ,EAAIjoB,KAAOioB,EAAIhJ,GAAKgJ,EAAI7I,KAAO6I,EAAIhJ,GAAKgJ,EAAIjoB,KACvFioB,EAAI,OAAS,EAEbA,EAAI,QAAYA,EAAInJ,GAAGmJ,EAAIhJ,GAAGgJ,EAAI7I,GAAG6I,EAAIjoB,IAAMgJ,KAAK0W,MAAMuI,EAAInJ,GAAKmJ,EAAI7I,KAAO6I,EAAInJ,GAAKmJ,EAAIjoB,KAAOioB,EAAIhJ,GAAKgJ,EAAI7I,KAAO6I,EAAIhJ,GAAKgJ,EAAIjoB,KAIhIioB,GAGT,IAAI6jC,EAAkB,GAqBtB,OApBAvsD,KAAK6B,YAAYsG,QAASlK,IACxBsuD,EAAgBtuD,GAAK,GACrB,IAAIwf,EAAY,EAChB,MAAOA,GAAa,EAAG,CACrB8uC,EAAgBtuD,GAAGwf,EAAUpF,QAAQ,IAAM,GAC3C,IAAI+lB,EAAY3gB,EACZ4gB,EAAa5gB,EACbsuC,EAAW,GACf,MAAOt0C,WAAW2mB,EAAU/lB,QAAQ,KAAM,GAAKZ,WAAW4mB,EAAWhmB,QAAQ,KAAO,EAAG,CACrF,IAAIm0C,EAAUV,EAAQ7tD,EAAGwf,EAAW2gB,EAAWC,EAAY0tB,GAC3DQ,EAAgBtuD,GAAGwf,EAAUpF,QAAQ,IAAIxb,KAAK2vD,GAC9CnuB,GAAcqtB,EACdttB,GAAastB,EACbK,EAAWS,EAEb/uC,GAAauT,KAKVu7B,GAET,aAIE,OAAOvsD,KAAKoB,OAAOC,MAAM8J,mBAE3B,IACE,MAAMwN,EAAI7O,GAAA,OACPC,OAAO/J,KAAKooB,0BACZyB,MAAM,CAAC,EAAc,GAAX7pB,KAAKgW,QACf8T,aAAa,GACbC,aAAa,IAChB,OAAOpR,GAET,IACE,MAAMC,EAAI9O,GAAA,OACPC,OAAO,CAAC,EAAG,IACX8f,MAAM,CAAC7pB,KAAK6Y,OAAQ,IACvB,OAAOD,GAET,SACE,MAAM2jB,EAASzyB,GAAA,OACVC,OAAO,CAAC,EAAG,MACX8f,MAAM,CAAC,EAAG,MACV2S,OAAM,GACX,OAAOD,GAET,aACE,OAAOv8B,KAAKoB,OAAOC,MAAMmP,YAE3B,eACE,OAAOxQ,KAAKoB,OAAOC,MAAMoP,eAG7BuZ,MAAO,CACL,eACE,IAAIpZ,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,kBAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKpB,MAAQ,GACbA,EAAMiD,YAAYsG,QAASlK,IACrB+B,KAAK6B,YAAYsE,SAASlI,IAC5B+B,KAAKpB,MAAM/B,KAAK,CAAC,KAAOoB,MAG5B+B,KAAKguB,eAAiBpvB,EAAMyX,UAC5BrW,KAAK4nB,eAAiBhpB,EAAMkwB,cAIlC9uB,KAAK6gC,qBAEP,aACE,IAAIhsB,EAAS,CAAC,KAAO,iBACP,OAAU,CACR,YAAc7U,KAAKpB,MAAMwK,IAAKnL,GAAIA,EAAEE,MACpC,UAAY6B,KAAKguB,eACjB,WAAahuB,KAAK4nB,iBAClC5nB,KAAKoB,OAAOO,SAAS,oBAAoBkT,IAE3C,QACE7U,KAAKoB,OAAOO,SAAS,wBAAyB3B,KAAKq5B,QAErD,iBAC6B,YAAvBr5B,KAAKguB,gBACPhuB,KAAKysD,qBACLzsD,KAAK0sD,sBAEL1sD,KAAKmhC,mBAGT,WAC6B,YAAvBnhC,KAAKguB,gBACPhuB,KAAKysD,qBACLzsD,KAAK0sD,sBAEL1sD,KAAKmhC,mBAGT,YAC6B,YAAvBnhC,KAAKguB,gBACPhuB,KAAKysD,qBACLzsD,KAAK0sD,sBAEL1sD,KAAKmhC,mBAGT,uBAC+B,OAAzBnhC,KAAKurD,kBACPvrD,KAAKmhC,mBAGT,oBACEnhC,KAAKwrD,cAAc3uD,KAAKmD,KAAKkrD,kBAAkBztC,YAEjD,gBACEzd,KAAKmhC,mBAEP,iBAC6B,YAAvBnhC,KAAKguB,gBACPhuB,KAAKysD,qBACLzsD,KAAK0sD,sBAEL1sD,KAAKmhC,mBAGT,QACMnhC,KAAKpB,MAAMrC,OAAS,EACtByD,KAAKurD,iBAAmB,MAExBvrD,KAAKurD,iBAAmB,KAE1BvrD,KAAKguB,eAAiB,UACtBhuB,KAAK6gC,oBACL7gC,KAAKmhC,mBAEP,QACEnhC,KAAKkqB,aAEP,YACElqB,KAAK2sD,iBAEP,eACE3sD,KAAKguB,eAAiB,UACtBhuB,KAAKuhC,sBAEP,gBACEvhC,KAAKmhC,mBAEP,YACEnhC,KAAK6gC,oBACsB,YAAvB7gC,KAAKguB,gBACPhuB,KAAKysD,qBACLzsD,KAAK0sD,sBAEL1sD,KAAKmhC,oBAKX,UACE,IAAIvwB,EAAc5Q,KAAKoB,OAAOC,MAAMuP,YACpCA,EAAYzI,QAASzG,IACnB,GAAiB,kBAAbA,EAAKvD,MACHuD,EAAKmT,OAAQ,CACf,IAAIjW,EAAS8C,EAAKmT,OAClB7U,KAAKpB,MAAQ,GACbA,EAAMiD,YAAYsG,QAASlK,IACrB+B,KAAK6B,YAAYsE,SAASlI,IAC5B+B,KAAKpB,MAAM/B,KAAK,CAAC,KAAOoB,MAG5B+B,KAAKguB,eAAiBpvB,EAAMyX,UAC5BrW,KAAK4nB,eAAiBhpB,EAAMkwB,cAIlC9uB,KAAK6gC,qBAEP39B,QAAS,CACP,aACElD,KAAKinB,MAAQ,CAAE,KAAO,GAAI,IAAM,GAAI,SAAY,KAElD,qBACE,IAAI+J,EAAW,IACX06B,EAAiB,IAGjB/9C,GADoB3N,KAAKorD,kBACX,IACdhsB,EAA0C,GAArBp/B,KAAKpB,MAAMrC,OAAa,GAAKyD,KAAKpB,MAAMoB,KAAKpB,MAAMrC,OAAS,GAAG4B,KAGxF,MAAM0tD,EAAe,CAAC5tD,EAAGqiB,EAAeqR,EAAWC,EAAY/pB,KAC7D,IAAI6gB,EAAM,CACR,UAAaiJ,EAAUtZ,QAAQ,GAC/B,WAAcuZ,EAAWvZ,QAAQ,GACjC,WAAa,EACb,MAAQ,EACR,IAAM,EACN,OAAS,EACT,UAAY,EACZ,IAAM,EACN,GAAK,EACL,KAAO,EACP,KAAO,EACP,KAAO,EACP,KAAO,EACP,EAAI,EACJ,GAAK,EACL,GAAK,EACL,GAAK,EACL,GAAK,EACL,aAAe,GACf,eAAiB,GACjB,OAAS,GAmDX,OAjDAxQ,EAAUM,QAASkB,IACjB,IAAI4pB,EAAoB3pB,GAAaD,GAAI+T,uBAAuBnf,GAChEyqB,EAAI,WAAa,EACbuK,EAAmBtB,GAAasB,EAAmBrB,GACnDlJ,EAAI,MAAQ,EACRpf,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GACtCqgB,GAAoB3S,GACtBoI,EAAI,SAAW,EACfA,EAAI,kBAAkB7rB,KAAK,CAAC,GAAKwM,EAAI,MAAQ4pB,KAE7CvK,EAAI,SAAW,EAGbuK,EAAmB3S,EACrBoI,EAAI,SAAW,EAEfA,EAAI,SAAW,GAGZuK,GAAoBrB,EACzBtoB,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,IAC1C8V,EAAI,OAAS,EACbA,EAAI,gBAAgB7rB,KAAK,CAAC,GAAKwM,EAAI,MAAQ4pB,KAE3CvK,EAAI,OAAS,EAGXpf,GAAaD,GAAIqE,QAAU1N,KAAK4S,QAAQ,GAC1C8V,EAAI,OAAS,EAEbA,EAAI,OAAS,IAInBA,EAAI,cAAgBA,EAAI,KAAOA,EAAI,UACnCA,EAAI,SAAWA,EAAI,UAAYA,EAAI,MAAS,EAAG,GAAKA,EAAI,MAAQA,EAAI,QAAUA,EAAI,UAAYA,EAAI,MAClGA,EAAI,QAAUA,EAAI,MAAQA,EAAI,OAASA,EAAI,UAC3CA,EAAI,aAAmBA,EAAI,MAAUA,EAAI,OAAU,EAAG,EAAGA,EAAI,OAAWA,EAAI,MAAUA,EAAI,OAC1FA,EAAI,UAAeA,EAAI,MAAUA,EAAI,OAAU,EAAI,EAAGA,EAAI,OAAWA,EAAI,MAAUA,EAAI,OACvFA,EAAI,MAAUA,EAAI,UAAYA,EAAI,cAAgB,EAAI,EAAI,EAAEA,EAAI,UAAUA,EAAI,cAAiBA,EAAI,UAAYA,EAAI,cAC1F,GAArBA,EAAI,cACNA,EAAI,OAAS,EAEqF,GAA7Fjf,KAAK0W,MAAMuI,EAAInJ,GAAKmJ,EAAI7I,KAAO6I,EAAInJ,GAAKmJ,EAAIjoB,KAAOioB,EAAIhJ,GAAKgJ,EAAI7I,KAAO6I,EAAIhJ,GAAKgJ,EAAIjoB,KACvFioB,EAAI,OAAS,EAEbA,EAAI,OAA8B,GAArBA,EAAI,cAAoB,GAAIA,EAAInJ,GAAGmJ,EAAIhJ,GAAGgJ,EAAI7I,GAAG6I,EAAIjoB,IAAMgJ,KAAK0W,MAAMuI,EAAInJ,GAAKmJ,EAAI7I,KAAO6I,EAAInJ,GAAKmJ,EAAIjoB,KAAOioB,EAAIhJ,GAAKgJ,EAAI7I,KAAO6I,EAAIhJ,GAAKgJ,EAAIjoB,KAGzJioB,GAGT,IAAIzqB,EAAImhC,EACR,MAAM,MAACh0B,EAAK,OAAE+E,GAAUnQ,KAAKiY,WAC7B,IAAI20C,EAAgB,CAAC,IAAIxhD,EAAMvD,WAAY,IAAIsI,EAAOtI,YAElD4V,EAAY,EAChBmvC,EAAczkD,QAAQ,CAAC0kD,EAAevpC,KACpC3V,EAAY2V,GAAO,GACnB7F,EAAY,EACZ,MAAOA,GAAa,EAAG,CACrB9P,EAAY2V,GAAK7F,EAAUpF,QAAQ,IAAM,GACzC,IAAI+lB,EAAY3gB,EACZ4gB,EAAa5gB,EACjB,MAAOhG,WAAW2mB,EAAU/lB,QAAQ,KAAM,GAAKZ,WAAW4mB,EAAWhmB,QAAQ,KAAO,EAAG,CACrF,IAAIm0C,EAAUX,EAAa5tD,EAAGwf,EAAW2gB,EAAWC,EAAYwuB,GAChEl/C,EAAY2V,GAAK7F,EAAUpF,QAAQ,IAAIxb,KAAK2vD,GAC5CnuB,GAAcqtB,EACdttB,GAAastB,EAEfjuC,GAAauT,KAIjBhxB,KAAKmrD,aAAex9C,GAItB,qBACE,MAAMwc,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KACjBgD,EAAMK,OAAO,cACVL,EAAMK,OAAO,yBAAyBnR,KAAK,YAAa,aAAerZ,KAAKu8B,OAA4B,GAApBv8B,KAAKkJ,aAAmB,IAAY,WAE7I,GAAIlJ,KAAKgK,WAAW7D,SAAUsR,WAAWzX,KAAKkJ,cAAemP,QAAQ,IAAK,CAC/C8R,EAAMK,OAAO,aAAazlB,KAAK,cAAgB/E,KAAKkJ,cAC7ElJ,KAAKyrD,cAAiBh0C,WAAWzX,KAAKkJ,cAAemP,QAAQ,KAIjE,gBACE,MAAM8R,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7B7f,EAAatH,KAAKpB,MAAM,GAAGT,KAEjC,IAAI2uD,EAAoB,GACxB9sD,KAAKwrD,cAAcrjD,QAAStJ,IAC1BiuD,EAAkBjwD,KAAKgC,KAEzBiuD,EAAkBjwD,KAAKmD,KAAKyrD,eAGxBzrD,KAAKirD,UAAUD,SACjB8B,EAAkB3kD,QAAQ,CAACtJ,EAAEykB,KAC3B,GAAIA,GAAKtjB,KAAKirD,UAAUD,SAAU,CAChC,IAAIr9C,EAAc3N,KAAK2N,YAAYrG,GAAYmQ,WAAW5Y,GAAGwZ,QAAQ,IACrE8R,EAAMK,OAAO,mBAAmBlH,GAAKjK,KAAK,UAAU,IACpD8Q,EAAMK,OAAO,mBAAmBlH,GAAKjK,KAAK,UAAU,IACpD1L,EAAYxF,QAAQ,CAAClK,EAAE5B,KACrB8tB,EAAMK,OAAO,QAAQlH,EAAI,IAAIjnB,GAAGgd,KAAK,UAAU,SAMrDyzC,EAAkB3kD,QAAQ,CAACtJ,EAAEykB,KAC3B,IAAI3V,EAAc3N,KAAK2N,YAAYrG,GAAYmQ,WAAW5Y,GAAGwZ,QAAQ,IACrE8R,EAAMK,OAAO,mBAAmBlH,GAAKjK,KAAK,UAAU,GACpD8Q,EAAMK,OAAO,mBAAmBlH,GAAKjK,KAAK,UAAU,GACpD1L,EAAYxF,QAAQ,CAAClK,EAAE5B,KACnB8tB,EAAMK,OAAO,QAAQlH,EAAI,IAAIjnB,GAAGgd,KAAK,UAAU,QAMzD,YAEE,MAAM8Q,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC/BnnB,KAAKinB,MAAM8jC,MACb5gC,EAAMK,OAAO,cAAcnR,KAAK,aAAa,WAC7C8Q,EAAMK,OAAO,eAAenR,KAAK,aAAa,WAAWtU,KAAK,eAAgB/E,KAAKinB,MAAM8jC,KAAKp5B,WAC9FxH,EAAMK,OAAO,gBAAgBnR,KAAK,aAAa,WAAWtU,KAAK,gBAAiB/E,KAAKinB,MAAM8jC,KAAKn5B,YAChGzH,EAAMK,OAAO,cAAcnR,KAAK,aAAa,WAAWtU,KAAK,aAAc/E,KAAKinB,MAAM8jC,KAAKgC,WAAW10C,QAAQ,IAC9G8R,EAAMK,OAAO,cAAcnR,KAAK,aAAa,WACxCtU,KAA4B,cAAvB/E,KAAK4nB,eAA+B,qBAAsB5nB,KAAKinB,MAAM8jC,KAAKiC,MAAM30C,QAAQ,GAChE,OAAvBrY,KAAK4nB,eAAwB,QAAS5nB,KAAKinB,MAAM8jC,KAAK9oC,IAAI5J,QAAQ,GAC3C,aAAvBrY,KAAK4nB,eAA8B,cAAe5nB,KAAKinB,MAAM8jC,KAAK37C,UAAUiJ,QAAQ,GAC7D,UAAvBrY,KAAK4nB,eAA2B,WAAY5nB,KAAKinB,MAAM8jC,KAAK7qC,OAAO7H,QAAQ,GACpD,OAAvBrY,KAAK4nB,eAAwB,QAAS5nB,KAAKinB,MAAM8jC,KAAK3qC,IAAI/H,QAAQ,GACnE,OAAQrY,KAAKinB,MAAM8jC,KAAKj/C,GAAGuM,QAAQ,MAE7C8R,EAAMK,OAAO,cAAcnR,KAAK,aAAa,UAC7C8Q,EAAMK,OAAO,eAAenR,KAAK,aAAa,UAC9C8Q,EAAMK,OAAO,gBAAgBnR,KAAK,aAAa,UAC/C8Q,EAAMK,OAAO,cAAcnR,KAAK,aAAa,UAC7C8Q,EAAMK,OAAO,cAAcnR,KAAK,aAAa,YAKjD,oBACEvP,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAKkD,UAAU,KAAKkB,SAEzC,MAAM2J,EAASprB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAAK/N,OAAO,OAC7CC,KAAK,QAAQ,eACbA,KAAK,QAAS,QACdA,KAAK,UAAW,kBACZrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,KAAOhnB,KAAK4mB,OAAOE,oBACQ,KAApD9mB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOC,IAAM7mB,KAAK4mB,OAAOG,WAC7CI,EAAM+N,EAAO9b,OAAO,KACrBC,KAAK,YAAa,gBAAmC,IAAhBrZ,KAAK4mB,OAAOC,QAMhDmc,GALa9N,EAAO9b,OAAO,KAC5BC,KAAK,QAAQ,aACbA,KAAK,YAAa,aAAarZ,KAAK4mB,OAAOI,SAAyB,IAAhBhnB,KAAK4mB,OAAOC,QAGrDM,EACX/N,OAAO,KACLC,KAAK,QAAS,UACdA,KAAK,YAAa,6BACdrZ,KAAKgW,MAAQhW,KAAK4mB,OAAOI,yBACzBhnB,KAAK4mB,OAAOC,SAEjBoc,EAAiBD,EAAQ5pB,OAAO,KAC7BC,KAAK,YAAc,cAAcrZ,KAAKgW,MAAQ,EAAE,IAAI,IAAjC,OAGtBmW,EAAa,KACjB8W,EAAc7pB,OAAO,QAChBC,KAAK,QAAS,SACdrT,MAAM,SAAU,aAChBA,MAAM,iBAAkB,KACxBA,MAAM,eAAgB,KACtBqT,KAAK,KAAMrZ,KAAKu8B,OAAO1S,QAAQ,IAC/BxQ,KAAK,KAAMrZ,KAAKu8B,OAAO1S,QAAQ,IAC/BxQ,KAAK,KAAM,GACXA,KAAK,KAAM,GAEhB,IAAI8pB,EAAQF,EAAc7pB,OAAO,QAC5BC,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,KAAK,GACVA,KAAK,KAAK,GACVrT,MAAM,OAAQ,aACdA,MAAM,SAAU,QAChBqT,KAAK,QAAQ,wBACbA,KAAK,YAAa,uBAClB1c,KAAKmN,GAAA,OACHnJ,GAAG,mBAAmB,WACrBwiC,EAAMC,eAEPziC,GAAG,aACHzC,GAAW8B,KAAKkJ,cAAkD,GAAjClJ,KAAKu8B,OAAO+G,OAAOx5B,GAAA,KAAS6O,GAAoB,IAAIN,QAAQ,KAGlG4qB,EAAc7pB,OAAO,QAClBC,KAAK,QAAQ,YACbA,KAAK,YAAc,qBACnBA,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,cAAc/E,KAAKkJ,cAI3B+5B,EAAc7pB,OAAO,QAClBC,KAAK,QAAQ,IACbA,KAAK,SAAS,IACdA,KAAK,KAAK,GACVA,KAAK,KAAK,GACVA,KAAK,OAAO,WACZA,KAAK,SAAS,aACdA,KAAK,QAAQ,cACbA,KAAK,YAAa,uBAClB1Y,GAAG,QAAS,CAACzC,EAAE7B,IAAM2D,KAAKkrD,kBAAqB,CAAEztC,UAAWzd,KAAKyrD,gBACpExoB,EAAc7pB,OAAO,QACpBC,KAAK,QAAQ,YACbA,KAAK,YAAc,oBACnBA,KAAK,YAAa,QAClBA,KAAK,cAAe,UACpBA,KAAK,qBAAsB,UAC3BtU,KAAK,OACLsU,KAAK,OAAO,QACV1Y,GAAG,QAAS,CAACzC,EAAE7B,IAAM2D,KAAKkrD,kBAAoB,CAAEztC,UAAWzd,KAAKyrD,iBAKjEvhC,EAAY,KAChB+Y,EAAc7pB,OAAO,QAClBC,KAAK,QAAQ,aACbA,KAAK,QAAQ,KACbA,KAAK,SAAS,KACdA,KAAK,IAAmB,IAAbrZ,KAAKgW,OAChBqD,KAAK,KAAM,IACXA,KAAK,OAAO,SACZA,KAAK,SAAS,SACdA,KAAK,aAAc,UACtB4pB,EAAc7pB,OAAO,QAClBC,KAAK,QAAQ,cACbA,KAAK,IAAmB,IAAbrZ,KAAKgW,OAChBqD,KAAK,IAAK,GACVA,KAAK,YAAY,IACjBtU,KAAK,cACLsU,KAAK,aAAc,UAEtB4pB,EAAc7pB,OAAO,QAClBC,KAAK,QAAQ,eACbA,KAAK,IAAmB,IAAbrZ,KAAKgW,OAChBqD,KAAK,IAAK,IACVtU,KAAK,eACLsU,KAAK,YAAY,IACjBA,KAAK,aAAc,UAGtB4pB,EAAc7pB,OAAO,QAClBC,KAAK,QAAQ,aACbA,KAAK,IAAmB,IAAbrZ,KAAKgW,OAChBqD,KAAK,IAAK,IACVtU,KAAK,YACLsU,KAAK,YAAY,IACjBA,KAAK,aAAc,UAGtB4pB,EAAc7pB,OAAO,QAClBC,KAAK,QAAQ,aACbA,KAAK,IAAmB,IAAbrZ,KAAKgW,OAChBqD,KAAK,IAAK,IACVtU,KAAK,oBACLsU,KAAK,YAAY,IACjBA,KAAK,aAAc,WAKxB6Q,IAE4B,OAAzBlqB,KAAKurD,kBACPp/B,KAKH,kBAEE,MAAMhC,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BiY,EAA0C,GAArBp/B,KAAKpB,MAAMrC,OAAa,GAAKyD,KAAKpB,MAAMoB,KAAKpB,MAAMrC,OAAS,GAAG4B,KAEpF4kC,EAAa5Y,EAAMK,OAAO,cAEhCuY,EAAW1Y,UAAU,KAAKkB,SAERvrB,KAAK6H,UACJ7H,KAAKgK,WACIhK,KAAK4nB,eAFjC,MAMMA,EAAiB5nB,KAAK4nB,eAEtBjP,EAAI7O,GAAA,OACLC,OAAO,CAAC/J,KAAKqrD,SAAUrrD,KAAKsrD,YAC5BzhC,MAAM,CAAC,EAAgB,GAAb7pB,KAAKgW,QAEd4C,EAAI9O,GAAA,OACPC,OAAO,CAAmB,OAAlB6d,GAA0B,EAAE,EAAG,IACvCiC,MAAM,CAAC7pB,KAAK6Y,OAAQ,IAEjBvR,EAAatH,KAAKpB,MAAM,GAAGT,KAE3BqxB,EAAkB1lB,GAAA,KAA4BA,GAAA,MAC7CC,OAAO,CAAC,EAAmC,GAA/B/J,KAAKwrD,cAAcjvD,OAAS,KACxCkzB,cAAa,SAAU9W,GACtB,OAAO7O,GAAA,KAAmB,GAAI6O,MAEtC,IAAIm0C,EAAoB,GACxB9sD,KAAKwrD,cAAcrjD,QAAStJ,IAC1BiuD,EAAkBjwD,KAAKgC,KAEzBiuD,EAAkBjwD,KAAKmD,KAAKyrD,eAG5B,MAAMnxB,EAAa,KACjBwyB,EAAkB3kD,QAAQ,CAACtJ,EAAGykB,KAC5B,IAAI3V,EAAc3N,KAAK2N,YAAYrG,GAAYmQ,WAAW5Y,GAAGwZ,QAAQ,IACjE40C,EAAoBt/C,EAAYlC,OAAQrM,GAAIA,EAAE2tD,YAAc/sD,KAAKqrD,UAAYjsD,EAAE2tD,YAAc/sD,KAAKsrD,WAClG4B,EAAoBD,EAAkBphD,KAAK,CAAC+1B,EAAGC,IACzCD,EAAa,WAAMC,EAAa,WAC3B,EAGLD,EAAa,WAAMC,EAAa,YAC1B,EAGL,GAKX,SAAS3R,IACH,OAAOpmB,GAAA,MAAAA,CAAUojD,EAAkB9jD,KAAI,SAAS7J,EAAEhC,GAChD,IAAI4vD,EAA0Cv0C,EAAd,cAAlBgP,EAAkCroB,EAAEytD,MAC5B,MAAlBplC,EAA0BroB,EAAEuM,GACV,aAAlB8b,EAAiCroB,EAAE6P,UACjB,UAAlBwY,EAA8BroB,EAAE2gB,OACd,OAAlB0H,EAA2BroB,EAAE6gB,IAC3B7gB,EAAE0iB,KACR,MAAO,CAACtJ,EAAEpZ,EAAEwtD,YAAaI,OAXX,OAAlBvlC,IACFslC,EAAoBA,EAAkBzhD,OAAQpP,GAAIA,EAAE0wD,YAAc,KAcpEhqB,EAAW3pB,OAAO,QACXC,KAAK,QAAS,IACdA,KAAK,QAAS,kBAAkBiK,GAChCjK,KAAK,IAAM6W,KACXlqB,MAAM,OAAQ,QACdqT,KAAK,SAAUmW,EAAgBlM,EAAI,IACnCtd,MAAM,eAAgB,GAE7B+8B,EAAW1Y,UAAU,QAChBtuB,KAAKmxD,GACP78B,QAAQjX,OAAO,UACbC,KAAK,QAAQ,CAACnb,EAAE7B,IAAK,OAAOinB,EAAI,IAAIjnB,GACpCgd,KAAK,KAAMnb,GAAaya,EAAEza,EAAE,gBAC5Bmb,KAAK,KAAOnb,IACX,IAAIivD,EAA0Cv0C,EAAd,cAAlBgP,EAAkC1pB,EAAE,SAC1B,MAAlB0pB,EAA0B1pB,EAAE,MACV,aAAlB0pB,EAAiC1pB,EAAE,aACjB,UAAlB0pB,EAA8B1pB,EAAE,UACd,OAAlB0pB,EAA2B1pB,EAAE,OAC3BA,EAAE,QACV,OAAOivD,IACR9zC,KAAK,IAAK,GACVA,KAAK,OAAQmW,EAAgBlM,EAAI,IACjCjK,KAAK,SAAS,aACd1Y,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKinB,MAAQ,CAAE8jC,KAAM7sD,EAAGolB,IAAKjnB,EAAG2uD,SAAU1nC,IAClE3iB,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKinB,MAAQ,CAAE8jC,KAAM,GAAIznC,IAAK,GAAI0nC,SAAU,KACpErqD,GAAG,QAAQ,CAACzC,EAAE7B,IAAI2D,KAAKq5B,MAAQ,CAAE,WAAa/xB,EAAY,WAAapJ,EAAE,aAAc,YAAcA,EAAE,gBACvGmb,KAAK,UAAU,GAGpB0pB,EAAW3pB,OAAO,QACfC,KAAK,YAAa,KACjB,MAAM4S,EAAUjsB,KAAKgW,MAAQ,IACvBkW,EAAUlsB,KAAK6Y,OAAS,GAAK,EAAS7Y,KAAK4mB,OAAOG,OACxD,MAAO,aAAakF,MAAYC,OAEjC7S,KAAK,QAAS,kBAAkBiK,GAChCtd,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBqT,KAAK,OAAQmW,EAAgBlM,EAAI,IACjCve,KAAK,aAAelG,GACpB8B,GAAG,aAAc,IAAIX,KAAKirD,UAAY,CAAEF,KAAM,GAAIC,SAAU1nC,IAC5D3iB,GAAG,aAAc,IAAIX,KAAKirD,UAAY,CAAEF,KAAM,GAAKC,SAAU,QAM9DoC,EAA4B,KAChC,MAAM59B,EAAkB1lB,GAAA,KAA4BA,GAAA,MAC/CC,OAAO,CAAC,EAAG/J,KAAK6B,YAAYtF,SAC5BkzB,cAAa,SAAU9W,GAAK,OAAO7O,GAAA,KAAqB,GAAG6O,MAChE3Y,KAAKpB,MAAMuJ,QAAQ,CAAClK,EAAGqlB,KACrB,IAAIhc,EAAarJ,EAAEE,KACfU,GAA+D,EAAzD4K,KAAKuU,MAAMhe,KAAK0uB,qBAAqBpnB,GAAc,GAAU,KAAK+Q,QAAQ,GAChF1K,EAAc3N,KAAK2N,YAAYrG,GAAYmQ,WAAW5Y,GAAGwZ,QAAQ,IACjE40C,EAAoBt/C,EAAYlC,OAAQrM,GAAIA,EAAE2tD,YAAc/sD,KAAKqrD,UAAYjsD,EAAE2tD,YAAc/sD,KAAKsrD,WAClG4B,EAAoBD,EAAkBphD,KAAK,CAAC+1B,EAAGC,IACzCD,EAAa,WAAMC,EAAa,WAC3B,EAGLD,EAAa,WAAMC,EAAa,YAC1B,EAGL,GAKX,SAAS3R,IACH,OAAOpmB,GAAA,MAAAA,CAAUojD,EAAkB9jD,KAAI,SAAS7J,EAAEhC,GAChD,IAAI4vD,EAA0Cv0C,EAAd,cAAlBgP,EAAkCroB,EAAEytD,MAC5B,MAAlBplC,EAA0BroB,EAAEuM,GACV,aAAlB8b,EAAiCroB,EAAE6P,UACjB,UAAlBwY,EAA8BroB,EAAE2gB,OACd,OAAlB0H,EAA2BroB,EAAE6gB,IAC3B7gB,EAAE0iB,KACR,MAAO,CAACtJ,EAAEpZ,EAAEwtD,YAAaI,OAXX,OAAlBvlC,IACFslC,EAAoBA,EAAkBzhD,OAAQpP,GAAIA,EAAE0wD,YAAc,KAcpEhqB,EAAW3pB,OAAO,QACXC,KAAK,QAAS,IACdA,KAAK,QAAS,kBAAkBiK,GAChCjK,KAAK,IAAM6W,KACXlqB,MAAM,OAAQ,QACdqT,KAAK,SAAUmW,EAAgBlM,EAAI,IACnCtd,MAAM,eAAgB,GAI7B+8B,EAAW1Y,UAAU,QAChBtuB,KAAKmxD,GACP78B,QAAQjX,OAAO,UACbC,KAAK,QAAQ,CAACnb,EAAE7B,IAAK,OAAOinB,EAAI,IAAIjnB,GACpCgd,KAAK,KAAMnb,GAAaya,EAAEza,EAAE,gBAC5Bmb,KAAK,KAAOnb,IACX,IAAIivD,EAA0Cv0C,EAAd,cAAlBgP,EAAkC1pB,EAAE,SAC1B,MAAlB0pB,EAA0B1pB,EAAE,MACV,aAAlB0pB,EAAiC1pB,EAAE,aACjB,UAAlB0pB,EAA8B1pB,EAAE,UACd,OAAlB0pB,EAA2B1pB,EAAE,OAC3BA,EAAE,QACV,OAAOivD,IACR9zC,KAAK,IAAK,GACVA,KAAK,OAAQmW,EAAgBlM,EAAI,IACjCjK,KAAK,SAAUmW,EAAgBlM,EAAI,IACnC3iB,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKinB,MAAQ,CAAE8jC,KAAM7sD,EAAGolB,IAAKjnB,EAAG2uD,SAAU1nC,IAClE3iB,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKinB,MAAQ,CAAE8jC,KAAM,GAAIznC,IAAK,GAAI0nC,SAAU,KACpErqD,GAAG,QAAQ,CAACzC,EAAE7B,IAAI2D,KAAKq5B,MAAQ,CAAE,WAAa/xB,EAAY,WAAapJ,EAAE,aAAc,YAAcA,EAAE,gBACvGmb,KAAK,UAAU,GAGpB0pB,EAAW3pB,OAAO,QACfC,KAAK,YAAa,KACjB,MAAM4S,EAAUjsB,KAAKgW,MAAQ,IACvBkW,EAAUlsB,KAAK6Y,OAAS,GAAK,EAAS7Y,KAAK4mB,OAAOG,OACxD,MAAO,aAAakF,MAAYC,OAEjC7S,KAAK,QAAS,kBAAkBiK,GAChCtd,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBqT,KAAK,OAAQmW,EAAgBlM,EAAI,IACjCve,KAAKuC,GACL3G,GAAG,aAAc,IAAIX,KAAKirD,UAAY,CAAEF,KAAM,GAAIC,SAAU1nC,IAC5D3iB,GAAG,aAAc,IAAIX,KAAKirD,UAAY,CAAEF,KAAM,GAAKC,SAAU,QAK9Dh/B,EAAa,KAChB+W,EAAW3pB,OAAO,QAChBC,KAAK,YAAa,KACjB,MAAM4S,EAAuB,GAAbjsB,KAAKgW,MACfkW,EAAUlsB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,kBAERg+B,EAAW3pB,OAAO,QACfC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,KACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAwB,cAAlB6iB,EAAgC,uBACX,MAAlBA,EAAwB,KACN,aAAlBA,EAA+B,YACb,UAAlBA,EAA2B,SACT,OAAlBA,EAAyB,MACzB,YAEZmb,EAAW3pB,OAAO,QACfC,KAAK,QAAQ,eACbA,KAAK,IAAkB,GAAbrZ,KAAKgW,OACfqD,KAAK,KAAM,KACXA,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAA+B,MAAzB/E,KAAKurD,iBAA0B,gBAAkBnsB,EAAqB,IAAM,gBAGjF3T,EAAW,KACf,IAAI4hC,EAAe,CAAC,OAAQ,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,QACvFC,EAAqBD,EAAa5hD,OAAQpP,GAAIob,WAAWpb,IAAM2D,KAAKqrD,UAAY5zC,WAAWpb,IAAM2D,KAAKsrD,WAEtGiC,EAASzjD,GAAA,OACVC,OAAOujD,GACPzjC,MAAM,CAAC,EAAc,GAAX7pB,KAAKgW,QAElB,MAAMmuB,EAAUxY,GAAWA,EACxBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAcyjD,GACX3hC,cAAc,IAElBvS,KAAK,QAAQ,eAEhB0pB,EAAW3pB,OAAO,KACfzc,KAAKwnC,GACL9qB,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SACpB1Y,GAAG,QAAUzC,IACZ8B,KAAKqrD,SAAW5zC,WAAWvZ,GAAGma,QAAQ,KACvC1X,GAAG,cAAgBzC,GAAc8B,KAAKsrD,UAAY7zC,WAAWvZ,GAAGma,QAAQ,IAG3E,MAAMgsB,EAAU1Y,GAAWA,EACxBhvB,KAAKmN,GAAA,KAAY8O,GACfkT,MAAM,GACNC,WAAWjiB,GAAA,KAAU,SAG1Bi5B,EAAW3pB,OAAO,KACfzc,KAAK0nC,GACLhrB,KAAK,YAAa,IAErB0pB,EAAW3pB,OAAO,QACfC,KAAK,QAAQ,IACbA,KAAK,SAAU,IACfA,KAAK,IAAyB,GAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,IAAKrZ,KAAK6Y,QACfQ,KAAK,OAAO,aACZA,KAAK,SAAS,QACd1Y,GAAG,QAAUzC,IACZ8B,KAAKqrD,SAAW,EAChBrrD,KAAKsrD,UAAY,IAErBvoB,EAAW3pB,OAAO,QACfC,KAAK,IAAyB,GAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,IAAKrZ,KAAK6Y,OAAO,IACtBQ,KAAK,OAAO,SACZA,KAAK,YAAY,IACjBtU,KAAK,OACLpE,GAAG,QAAUzC,IACZ8B,KAAKqrD,SAAW,EAChBrrD,KAAKsrD,UAAY,KAKvB7/B,IACAO,IAC6B,OAAzBhsB,KAAKurD,iBACP6B,IAEA9yB,KAKJ,qBAEE,MAAMnQ,EAAQrgB,GAAA,KAAU9J,KAAKqD,MAAM8jB,KAC7BiY,EAA0C,GAArBp/B,KAAKpB,MAAMrC,OAAa,GAAKyD,KAAKpB,MAAMoB,KAAKpB,MAAMrC,OAAS,GAAG4B,KAEpF4kC,EAAa5Y,EAAMK,OAAO,cAEhCuY,EAAW1Y,UAAU,KAAKkB,SAERvrB,KAAK6H,UACJ7H,KAAKgK,WACIhK,KAAK4nB,eAFjC,MAGMA,EAAiB5nB,KAAK4nB,eAEtBjP,EAAI7O,GAAA,OACLC,OAAO,CAAC/J,KAAKqrD,SAAUrrD,KAAKsrD,YAC5BzhC,MAAM,CAAC,EAAgB,GAAb7pB,KAAKgW,QAEd4C,EAAI9O,GAAA,OACPC,OAAO,CAAmB,OAAlB6d,GAA0B,EAAE,EAAG,IACvCiC,MAAM,CAAC7pB,KAAK6Y,OAAQ,KAEjB,MAACzN,EAAK,OAAE+E,GAAUnQ,KAAKiY,WAC7B,IAAI20C,EAAgB,CAAC,IAAIxhD,EAAMvD,WAAY,IAAIsI,EAAOtI,YAEtD,MAAMyyB,EAAa,MAC0D,EAAjE7wB,KAAKuU,MAAMhe,KAAK0uB,qBAAqB0Q,GAAsB,GAAU,KAAK/mB,QAAQ,GAA5F,IACI4d,EAAS,CAACj2B,KAAKsnB,gBAAiBtnB,KAAKunB,iBACzCqlC,EAAczkD,QAAQ,CAAC0kD,EAAevpC,KACpC,IAAIhc,EAAa83B,EACbvgC,GAA+D,EAAzD4K,KAAKuU,MAAMhe,KAAK0uB,qBAAqBpnB,GAAc,GAAU,KAAK+Q,QAAQ,GAChF1K,EAAc3N,KAAKmrD,aAAa7nC,GAAK7L,WAAW5Y,GAAGwZ,QAAQ,IAC3D40C,EAAoBt/C,EAAYlC,OAAQrM,GAAIA,EAAE2tD,YAAc/sD,KAAKqrD,UAAYjsD,EAAE2tD,YAAc/sD,KAAKsrD,WAClG4B,EAAoBD,EAAkBphD,KAAK,CAAC+1B,EAAGC,IACzCD,EAAa,WAAMC,EAAa,WAC3B,EAGLD,EAAa,WAAMC,EAAa,YAC1B,EAGL,GAKX,SAAS3R,IACH,OAAOpmB,GAAA,MAAAA,CAAUojD,EAAkB9jD,KAAI,SAAS7J,EAAEhC,GAChD,IAAI4vD,EAA0Cv0C,EAAd,cAAlBgP,EAAkCroB,EAAEytD,MAC5B,MAAlBplC,EAA0BroB,EAAEuM,GACV,aAAlB8b,EAAiCroB,EAAE6P,UACjB,UAAlBwY,EAA8BroB,EAAE2gB,OACd,OAAlB0H,EAA2BroB,EAAE6gB,IAC3B7gB,EAAE0iB,KACR,MAAO,CAACtJ,EAAEpZ,EAAEwtD,YAAaI,OAXX,OAAlBvlC,IACFslC,EAAoBA,EAAkBzhD,OAAQpP,GAAIA,EAAE0wD,YAAc,KAcpEhqB,EAAW3pB,OAAO,QACXC,KAAK,QAAS,IACdA,KAAK,QAAS,kBAAkBiK,GAChCjK,KAAK,IAAM6W,KACXlqB,MAAM,OAAQ,QACdqT,KAAK,SAAU4c,EAAO3S,IACtBtd,MAAM,eAAgB,GAI7B+8B,EAAW1Y,UAAU,QAChBtuB,KAAKmxD,GACP78B,QAAQjX,OAAO,UACbC,KAAK,QAAQ,CAACnb,EAAE7B,IAAK,OAAOinB,EAAI,IAAIjnB,GACpCgd,KAAK,KAAMnb,GAAaya,EAAEza,EAAE,gBAC5Bmb,KAAK,KAAOnb,IACX,IAAIivD,EAA0Cv0C,EAAd,cAAlBgP,EAAkC1pB,EAAE,SAC1B,MAAlB0pB,EAA0B1pB,EAAE,MACV,aAAlB0pB,EAAiC1pB,EAAE,aACjB,UAAlB0pB,EAA8B1pB,EAAE,UACd,OAAlB0pB,EAA2B1pB,EAAE,OAC3BA,EAAE,QACV,OAAOivD,IACR9zC,KAAK,IAAK,GACVA,KAAK,OAAQ4c,EAAO3S,IACpBjK,KAAK,SAAU4c,EAAO3S,IACtB3iB,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKinB,MAAQ,CAAE8jC,KAAM7sD,EAAGolB,IAAKjnB,EAAG2uD,SAAU1nC,IAClE3iB,GAAG,aAAc,CAACzC,EAAE7B,IAAI2D,KAAKinB,MAAQ,CAAE8jC,KAAM,GAAIznC,IAAK,GAAI0nC,SAAU,KACpErqD,GAAG,QAAQ,CAACzC,EAAE7B,IAAI2D,KAAKq5B,MAAQ,CAAE,WAAa/xB,EAAY,WAAapJ,EAAE,aAAc,YAAcA,EAAE,gBACvGmb,KAAK,UAAU,GAGpB0pB,EAAW3pB,OAAO,QACfC,KAAK,YAAa,KACjB,MAAM4S,EAAUjsB,KAAKgW,MAAQ,IACvBkW,EAAUlsB,KAAK6Y,OAAS,GAAK,EAAS7Y,KAAK4mB,OAAOG,OACxD,MAAO,aAAakF,MAAYC,OAEjC7S,KAAK,QAAS,kBAAkBiK,GAChCtd,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBqT,KAAK,OAAQ4c,EAAO3S,IACpBve,KAAK,aAAaue,EAAI,IACtB3iB,GAAG,aAAc,IAAIX,KAAKirD,UAAY,CAAEF,KAAM,GAAIC,SAAU1nC,IAC5D3iB,GAAG,aAAc,IAAIX,KAAKirD,UAAY,CAAEF,KAAM,GAAKC,SAAU,QAM9Dh/B,EAAa,KAChB+W,EAAW3pB,OAAO,QAChBC,KAAK,YAAa,KACjB,MAAM4S,EAAuB,GAAbjsB,KAAKgW,MACfkW,EAAUlsB,KAAK6Y,OAAS7Y,KAAK4mB,OAAOG,OAC1C,MAAO,aAAakF,MAAYC,OAEjClmB,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAK,kBAERg+B,EAAW3pB,OAAO,QACfC,KAAK,YAAa,eAClBA,KAAK,KAAMrZ,KAAK6Y,OAAS,KACzBQ,KAAK,IAAyB,IAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAAwB,cAAlB6iB,EAAgC,uBACX,MAAlBA,EAAwB,KACN,aAAlBA,EAA+B,YACb,UAAlBA,EAA2B,SACT,OAAlBA,EAAyB,MACzB,YAEZmb,EAAW3pB,OAAO,QACfC,KAAK,QAAQ,eACbA,KAAK,IAAkB,GAAbrZ,KAAKgW,OACfqD,KAAK,KAAM,KACXA,KAAK,KAAM,OACXrT,MAAM,cAAe,UACrBA,MAAM,YAAa,QACnBjB,KAA+B,MAAzB/E,KAAKurD,kBAA8F,YAAvBvrD,KAAKguB,eAAlD,gBAAkBoR,EAAqB,IAAqF,gBAGhK3T,EAAW,KACf,IAAI4hC,EAAe,CAAC,OAAQ,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,OAAO,QACvFC,EAAqBD,EAAa5hD,OAAQpP,GAAIob,WAAWpb,IAAM2D,KAAKqrD,UAAY5zC,WAAWpb,IAAM2D,KAAKsrD,WAEtGiC,EAASzjD,GAAA,OACVC,OAAOujD,GACPzjC,MAAM,CAAC,EAAc,GAAX7pB,KAAKgW,QAElB,MAAMmuB,EAAUxY,GAAWA,EACxBtS,KAAK,YAAa,gBAAmBrZ,KAAK6Y,WAC1Clc,KACCmN,GAAA,KAAcyjD,GACX3hC,cAAc,IAElBvS,KAAK,QAAQ,eAEhB0pB,EAAW3pB,OAAO,KACfzc,KAAKwnC,GACL9qB,KAAK,YAAa,IAClBgR,UAAU,QACVhR,KAAK,YAAa,cAClBA,KAAK,cAAe,SACpB1Y,GAAG,QAAUzC,IACZ8B,KAAKqrD,SAAW5zC,WAAWvZ,GAAGma,QAAQ,KACvC1X,GAAG,cAAgBzC,GAAc8B,KAAKsrD,UAAY7zC,WAAWvZ,GAAGma,QAAQ,IAC3E,MAAMgsB,EAAU1Y,GAAWA,EACxBhvB,KAAKmN,GAAA,KAAY8O,GACfkT,MAAM,GACNC,WAAWjiB,GAAA,KAAU,SAG1Bi5B,EAAW3pB,OAAO,KACfzc,KAAK0nC,GACLhrB,KAAK,YAAa,IAErB0pB,EAAW3pB,OAAO,QACfC,KAAK,QAAQ,IACbA,KAAK,SAAU,IACfA,KAAK,IAAyB,GAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,IAAKrZ,KAAK6Y,QACfQ,KAAK,OAAO,aACZA,KAAK,SAAS,QACd1Y,GAAG,QAAUzC,IACZ8B,KAAKqrD,SAAW,EAChBrrD,KAAKsrD,UAAY,IAErBvoB,EAAW3pB,OAAO,QACfC,KAAK,IAAyB,GAAnBrZ,KAAK4mB,OAAOI,MACvB3N,KAAK,IAAKrZ,KAAK6Y,OAAO,IACtBQ,KAAK,OAAO,SACZA,KAAK,YAAY,IACjBtU,KAAK,OACLpE,GAAG,QAAUzC,IACZ8B,KAAKqrD,SAAW,EAChBrrD,KAAKsrD,UAAY,KAKvB7/B,IACAO,IACAsO,KAIF,OACEhP,EACA7N,EACArH,EACA2uB,EACA/8B,GAEA8B,GAAA,KAAS2jB,iBACT3jB,GAAA,KAAS4jB,kBAET,MAAMxmB,EAAaD,KACnBC,EAAWE,KAAO1B,EAAK0H,MACvBlG,EAAWI,WAAkC,GAArBtH,KAAKpB,MAAMrC,OAAa,GAAKyD,KAAKpB,MAAMoB,KAAKpB,MAAMrC,OAAS,GAAG4B,KAGvF,IAAI0J,EAAY7H,KAAKmgC,WAAW7U,GAAW,oBAAoBtrB,KAAKgK,WAAWyT,IAAY5V,UACvFm9B,GAAYvtB,WAAWzX,KAAKgK,WAAWyT,IAAchG,WAAWstB,EAAe,UAAU1sB,QAAQ,GACjG4sB,GAAaxtB,WAAWzX,KAAKgK,WAAWyT,IAAchG,WAAWstB,EAAe,WAAW1sB,QAAQ,GAEnG7F,EAAc,mBAAmBtL,EAAWI,iCAAiC09B,SAAgBC,IAGjG,GAAa,aAATj9B,EAAsB,CACxB,IAAIiX,EAAgB,IAAIjf,KAAKmgC,WAAW7U,GAAW,mBAAmBtrB,KAAKgK,WAAWyT,IAAY5V,WAClG,IAAI7H,KAAKmgC,WAAW7U,GAAW,mBAAmBtrB,KAAKgK,WAAWyT,IAAY5V,WAAWM,QAASwU,IAChGsC,EAAcpiB,KAAK8f,KAErB,IAAI3c,KAAKmgC,WAAW7U,GAAW,mBAAmBtrB,KAAKgK,WAAWyT,IAAY5V,WAAWM,QAASwU,IAChGsC,EAAcpiB,KAAK8f,KAErB,IAAI3c,KAAKmgC,WAAW7U,GAAW,mBAAmBtrB,KAAKgK,WAAWyT,IAAY5V,WAAWM,QAASwU,IAChGsC,EAAcpiB,KAAK8f,KAErB9U,EAAY,IAAI4K,IAAIwM,GACpBzM,EAAc,mBAAmBtL,EAAWI,+BAA+B09B,SAAgBC,IAG7F,MAAM18B,EAA6B,CACjCP,KAAM,SACN6F,YAAa,CAAC3G,GACd4G,OAAQ,IAEJqI,EAAU,CACd3D,cACA3K,YACAU,aAGFvI,KAAKoB,OAAOO,SAAS,4BAA6BwU,GAClDnW,KAAKoB,OAAOO,SAAS,6BAA8ByU,OCrjD+W,MCQpa,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAWhC,IAAkB,GAAW,CAACnR,kBAAA,KAAgBC,yBAAA,KAAuB0oB,yBAAA,KAAsBC,oBAAA,KAAiBlpB,QAAA,KAAMmpB,UAAA,KAAOC,eAAA,OC0B1G,cAAIhrB,OAAO,CACxB5E,KAAM,gBACN6E,WAAY,CACVwqD,UAAA,GACAC,sBACAC,oBAAA,GACAC,mBAAA,GACAC,+BAAA,GACAC,kBAAA,GACAC,6BAAA,GACAC,eAAA,GACAC,6BAAA,GACAC,sBAAA,GACAC,sBAAA,GACAC,uBACAC,UAAA,KACAC,mBAAA,GACAC,WACAC,+BACAC,aAAA,GACAC,gBAAA,GACApR,aAAA,GACAqR,eACAnR,cAEF,OACE,MAAM13B,EAAkC,GAClC3f,EAAsC,CAC1CV,EAAkBoO,GAClBpO,EAAkBsX,GAClBtX,EAAkBwX,GAClBxX,EAAkBuX,GAClBvX,EAAkByX,GAClBzX,EAAkB0X,IAClB1X,EAAkB2X,IAClB3X,EAAkByO,GAClBzO,EAAkBqO,IAClBrO,EAAkBsO,IAClBtO,EAAkBuO,IAClBvO,EAAkBwO,GAClBxO,EAAkB0O,IAClB1O,EAAkB2O,IAClB3O,EAAkB+O,GAClB/O,EAAkB4O,GAClB5O,EAAkB6O,IAClB7O,EAAkB8O,IAClB9O,EAAkBgP,IAEpB,MAAO,CACLnO,WAAY,IACZwf,iBACA3f,wCAGJwhB,SAAU,CACR,YACE,OAAO1nB,KAAKoB,OAAOyE,QAAQwM,WAE7B,sBACE,OAAOrS,KAAKoB,OAAOyE,QAAQggB,iBAG/BmE,MAAO,CACL,sBACEhqB,KAAK6lB,eAAiB7lB,KAAK2uD,sBAI/BzrD,QAAS,CACP,gBAAgB0rD,GACd,MAAiB,iBAAbA,EACK,OAEF5uD,KAAKqS,cCjIoY,MCQlZ,I,UAAY,eACd,GACA,EACA,IACA,EACA,KACA,WACA,OAIa,M,+CCiFf,OAAIzS,IAAI,SACR,iBAAa,GACb,OAAIA,IAAI,SAOO,cAAImD,OAAO,CACxB5E,KAAM,MACN6E,WAAY,CACVwB,uBACAqqD,SACAC,iBACAC,YAAA,MAEF,OAEE,MAAO,CACL9tD,aAAa,EACba,iBAAkB,OAGtB,UACE9B,KAAKoB,OAAOO,SAAU,oBACtBlC,OAAOuvD,iBAAkB,UAAW7pB,GAAKnlC,KAAKoB,OAAOO,SAAS,qBAAsBwjC,IACpF1lC,OAAOuvD,iBAAkB,QAAS7pB,GAAKnlC,KAAKoB,OAAOO,SAAS,qBAAsBwjC,KAEpFzd,SAAU,OAAF,sBAIN,cAUE,MAAO,CACH,CAAC,KAAO,gBACR,CAAC,KAAO,sBAGd,eACE,MAAwB,cAApB1nB,KAAK4G,YACA,CACL,CAAC,KAAOpB,EAAkBoO,GAAK,UAAa,yBAC5C,CAAC,KAAOpO,EAAkBqO,IAAK,UAAa,2BAC5C,CAAC,KAAOrO,EAAkBsX,GAAK,UAAa,wBAC5C,CAAC,KAAOtX,EAAkBuX,GAAK,UAAa,wBAC5C,CAAC,KAAOvX,EAAkBwX,GAAK,UAAa,oCAC5C,CAAC,KAAOxX,EAAkByX,GAAK,UAAa,kCAC5C,CAAC,KAAOzX,EAAkB0X,IAAK,UAAa,4BAC5C,CAAC,KAAO1X,EAAkB2X,IAAK,UAAa,kCAC5C,CAAC,KAAO3X,EAAkByO,GAAK,UAAa,uBAC5C,CAAC,KAAOzO,EAAkB+O,GAAK,UAAa,gBAC5C,CAAC,KAAO/O,EAAkBwO,GAAK,UAAa,qBAC5C,CAAC,KAAOxO,EAAkBuO,IAAK,UAAa,yBAC5C,CAAC,KAAOvO,EAAkB2O,IAAK,UAAa,iCAC5C,CAAC,KAAO3O,EAAkB0O,IAAK,UAAa,uBAC5C,CAAC,KAAO1O,EAAkB4O,GAAK,UAAa,iBAC5C,CAAC,KAAO5O,EAAkB6O,IAAK,UAAa,oBAC5C,CAAC,KAAO7O,EAAkB8O,IAAK,UAAa,iBAC5C,CAAC,KAAO9O,EAAkBgP,GAAI,UAAa,eAGxC,CACH,CAAC,KAAOhP,EAAkBoO,GAAK,UAAa,yBAC5C,CAAC,KAAOpO,EAAkBqO,IAAK,UAAa,2BAC5C,CAAC,KAAOrO,EAAkBsO,IAAK,UAAa,2BAC5C,CAAC,KAAOtO,EAAkBwO,GAAK,UAAa,qBAC5C,CAAC,KAAOxO,EAAkBuO,IAAK,UAAa,yBAC5C,CAAC,KAAOvO,EAAkB2O,IAAK,UAAa,iCAC5C,CAAC,KAAO3O,EAAkB0O,IAAK,UAAa,uBAC5C,CAAC,KAAO1O,EAAkB4O,GAAK,UAAa,iBAC5C,CAAC,KAAO5O,EAAkB6O,IAAK,UAAa,oBAC5C,CAAC,KAAO7O,EAAkB8O,IAAK,UAAa,iBAC5C,CAAC,KAAO9O,EAAkBgP,GAAI,UAAa,gBAGjD,cACE,MAAO,IAAIxU,KAAKoB,OAAOyE,QAAQhE,cAEjC,UACE,MAAO,IAAI7B,KAAKoB,OAAOyE,QAAQ+M,UAEjC,QACE,OAAO5S,KAAKoB,OAAOC,MAAMsE,MAAMgO,KAEjC,YACE,OAAQ3T,KAAKoB,OAAOC,MAAM0P,YAEzB,eAAS,CACV,mBACA,CACF,WACE,OAAQ/Q,KAAKoB,OAAOyE,QAAQ6O,kBAE9B,cACE,OAAO1U,KAAKoB,OAAOC,MAAMuF,eAG7BojB,MAAO,CACL,mBACE,MAAM7T,EAMF,CACFa,WAAY7R,EAAWkqC,WACvBp4B,UAAW,CACTjP,KAAM3C,EAAgB2N,QACtBC,IAAK,IAAIR,IAAIzS,KAAK8B,oBAGtB9B,KAAKoB,OAAOO,SAAS,gBAAiBwU,GACd,cAApBnW,KAAK4G,aACP5G,KAAKoB,OAAOO,SAAS,6BAGzB,gBACE3B,KAAKiB,aAAc,GAErB,YACEjB,KAAKivD,OAAO,sEAGhB/rD,QAAS,CACP,SAAS/E,GACP,GAAY,oBAARA,EAA4B,CAC9B,IAAI2c,EAAM9a,KAAKoB,OAAOC,MAAMwP,mBAAmBq+C,iBAC/CzvD,OAAOgV,KAAKqG,OACK,oBAAR3c,EACTsB,OAAOgV,KAAK,4EAEZhV,OAAOgV,KAAK,4CAGhB,mBACEzU,KAAKoB,OAAOO,SAAS,oBAEvB,aACE3B,KAAKoB,OAAOO,SAAS,aACrB3B,KAAKoB,OAAOO,SAAS,gBAEvB,eACE3B,KAAKoB,OAAOO,SAAS,gBAEvB,eACE3B,KAAKoB,OAAOO,SAAS,gBAEvB,WAAW8K,GACTtJ,QAAQC,IAAI,OAAQqJ,IAEtB,SAASA,GACPtJ,QAAQC,IAAI,KAAMqJ,IAEpB,iBACE,MAAM0iD,EAAMC,SAASC,eAAe,SACxB,OAARF,GAGJA,EAAIrT,UAAUwT,OAAO,iBC7Q+V,M,gDCStX,GAAY,eACd,GACAxvD,EACAwC,GACA,EACA,KACA,WACA,MAIa,MAAiB,QAahC,IAAkB,GAAW,CAACitD,QAAA,KAAK5rD,OAAA,KAAKe,UAAA,KAAQC,QAAA,KAAMV,QAAA,KAAMC,YAAA,KAAUE,eAAA,OAAeyvC,SAAA,KAAM2b,aAAA,O,iBC5B3F,OAAI5vD,IAAI,SAEO,WAAI,QAAO,CACxBd,KAAM,UACN2wD,KAAM,GACNC,OAAQ,KCHV,OAAI76C,OAAO86C,eAAgB,EAE3B,IAAI,OAAI,CACNC,UACA1kD,SACA2kD,UACA/vD,OAASgwD,GAAMA,EAAEC,MAChBC,OAAO,S,gFCdV,yBAA8jB,EAAG,G,kCCAjkB,yBAAijB,EAAG,G,gFCApjB,yBAAykB,EAAG,G","file":"js/app.5d2f78c7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItemSide.vue?vue&type=style&index=0&id=7b9cb289&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItemSide.vue?vue&type=style&index=0&id=7b9cb289&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterPlot.vue?vue&type=style&index=0&id=31750de6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterPlot.vue?vue&type=style&index=0&id=31750de6&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerformance.vue?vue&type=style&index=0&id=92fb7b2e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerformance.vue?vue&type=style&index=0&id=92fb7b2e&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParallelMetrics.vue?vue&type=style&index=0&id=60649a31&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParallelMetrics.vue?vue&type=style&index=0&id=60649a31&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetHistory.vue?vue&type=style&index=0&id=fc83529a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetHistory.vue?vue&type=style&index=0&id=fc83529a&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerfCurves.vue?vue&type=style&index=0&id=603a45b7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerfCurves.vue?vue&type=style&index=0&id=603a45b7&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=style&index=0&id=3297c99c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=style&index=0&id=3297c99c&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=5c45cbd2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=style&index=0&id=5c45cbd2&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=style&index=0&id=47878edb&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=style&index=0&id=47878edb&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixGrid.vue?vue&type=style&index=0&id=18cb8c7c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixGrid.vue?vue&type=style&index=0&id=18cb8c7c&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BandwidthAssessment.vue?vue&type=style&index=0&id=5606a6ef&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BandwidthAssessment.vue?vue&type=style&index=0&id=5606a6ef&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixMinimal.vue?vue&type=style&index=0&id=c267964c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixMinimal.vue?vue&type=style&index=0&id=c267964c&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertaintyHeatMap.vue?vue&type=style&index=0&id=15b659f7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertaintyHeatMap.vue?vue&type=style&index=0&id=15b659f7&scoped=true&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=9c9b8264&scoped=true&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=1&id=9c9b8264&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierConfidence.vue?vue&type=style&index=0&id=202c3122&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierConfidence.vue?vue&type=style&index=0&id=202c3122&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItem.vue?vue&type=style&index=0&id=15d9b217&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItem.vue?vue&type=style&index=0&id=15d9b217&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReliabilityCurve.vue?vue&type=style&index=0&id=55929ecc&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReliabilityCurve.vue?vue&type=style&index=0&id=55929ecc&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PairwiseClassifierConsensus.vue?vue&type=style&index=0&id=91ee6e68&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PairwiseClassifierConsensus.vue?vue&type=style&index=0&id=91ee6e68&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierAccuracy.vue?vue&type=style&index=0&id=1393318d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierAccuracy.vue?vue&type=style&index=0&id=1393318d&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureHistogram.vue?vue&type=style&index=0&id=848054e2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureHistogram.vue?vue&type=style&index=0&id=848054e2&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionClassifierPerformance.vue?vue&type=style&index=0&id=2fe25134&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionClassifierPerformance.vue?vue&type=style&index=0&id=2fe25134&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RigidTileHome.vue?vue&type=style&index=0&id=02fadef4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RigidTileHome.vue?vue&type=style&index=0&id=02fadef4&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RejectedCurve.vue?vue&type=style&index=0&id=f44c4014&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RejectedCurve.vue?vue&type=style&index=0&id=f44c4014&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailedClassifierPerformance.vue?vue&type=style&index=0&id=030bae07&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailedClassifierPerformance.vue?vue&type=style&index=0&id=030bae07&scoped=true&lang=css&\"","/*\nimport Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n// import 'vuetify/src/stylus/app.styl';\nimport 'vuetify/src/styles/main.sass';\n\nVue.use(Vuetify, {\n  iconfont: 'md',\n});\n*/\n// src/plugins/vuetify.js\n\nimport Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nconst opts = {};\n\nexport default new Vuetify(opts);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"app-bar\"},[_c('v-dialog',{attrs:{\"max-width\":\"400\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"fab\":\"\",\"small\":\"\"}},on),[_c('v-icon',[_vm._v(\"add\")])],1)]}}]),model:{value:(_vm.load_dialog),callback:function ($$v) {_vm.load_dialog=$$v},expression:\"load_dialog\"}},[_c('DatasetSelectorPopup')],1),_c('span',{staticClass:\"dataset-title\"},[_vm._v(_vm._s(_vm.$store.state.chosenDataset.name))]),_c('v-btn',{staticClass:\"ml-10\",attrs:{\"fab\":\"\",\"small\":\"\"},on:{\"click\":_vm.change_grid_size}},[_c('v-icon',[_vm._v(\"grid_on\")])],1),_c('v-menu',{staticClass:\"select_view\",attrs:{\"close-on-click\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ml-5\"},'v-btn',attrs,false),on),[_vm._v(\" Views \")])]}}])},[_c('v-list',_vm._l((_vm.viewsMapping),function(view){return _c('v-list-item',{key:view.view,on:{\"click\":function () { return _vm.$store.dispatch('openView', view.view); }}},[_c('v-list-item-title',[_c('v-btn',{attrs:{\"block\":\"\",\"color\":\"white\"}},[_vm._v(_vm._s(view.view_name))])],1)],1)}),1)],1),_c('multiselect',{staticClass:\"select_classifiers\",attrs:{\"placeholder\":\"Excluded classifiers\",\"options\":_vm.classifiers,\"multiple\":\"\"},model:{value:(_vm.value_classifier),callback:function ($$v) {_vm.value_classifier=$$v},expression:\"value_classifier\"}}),_c('v-btn',{staticClass:\"ml-10\",on:{\"click\":function($event){return _vm.save_views()}}},[_vm._v(\"Save Views \")]),_c('v-btn',{staticClass:\"ml-10\",on:{\"click\":function($event){return _vm.reload_views()}}},[_vm._v(\"Reload Views \")])],1),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"NavigationDrawer is-closed\",attrs:{\"id\":\"nav-1\"}},[_c('Navbar')],1),_c('RigidTileHome'),_c('v-snackbar',{staticStyle:{\"text-align\":\"center\"},attrs:{\"timeout\":0},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_c('span',[_vm._v(\" SET UNION MODE \")])])],1),_c('v-menu',{staticClass:\"select_help\",attrs:{\"close-on-click\":\"\",\"transition\":\"slide-y-transition\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"ml-5\"},'v-btn',attrs,false),on),[_vm._v(\" Help \")])]}}])},[_c('v-list',_vm._l((_vm.helpButtons),function(button){return _c('v-list-item',{key:button.name,on:{\"click\":function () { return _vm.btnClick(button.name); }}},[_c('v-list-item-title',[_c('v-btn',{attrs:{\"block\":\"\",\"color\":\"white\"}},[_vm._v(_vm._s(button.name))])],1)],1)}),1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('div',{attrs:{\"id\":\"app\"}},[_c('vue-instant-loading-spinner',{ref:\"Spinner\"})],1),_c('v-card-title',[_c('h2',[_vm._v(\"Dataset list\")])]),_c('v-card-text',[_c('v-list',_vm._l((Object.keys(this.$store.state.datasets)),function(dataset){return _c('v-list-item',{key:dataset,on:{\"click\":function($event){[_vm.changedDatasetByName(dataset), _vm.test()]}}},[_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(dataset)}})],1)],1)}),1),_c('v-layout',[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-text-field',{attrs:{\"label\":\"Enter Custom Dataset URL\",\"outline\":\"\"},model:{value:(_vm.customDatasetURL),callback:function ($$v) {_vm.customDatasetURL=$$v},expression:\"customDatasetURL\"}})],1),_c('v-flex',{attrs:{\"xs4\":\"\"}},[_c('v-btn',{on:{\"click\":function () { _vm.changedDataset(_vm.customDatasetURL); _vm.customDatasetURL = '', _vm.test()}}},[_vm._v(\" Load \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { mapActions } from 'vuex';\nimport VueInstantLoadingSpinner from 'vue-instant-loading-spinner/src/components/VueInstantLoadingSpinner.vue'\n\nexport default Vue.extend({\n  name: 'DatasetSelectorPopup',\n  components: {\n    VueInstantLoadingSpinner\n  },\n  data() {\n    return {\n      customDatasetURL: '',\n    };\n  },\n  methods: {\n    test: function () {\n      console.log('call test')\n      this.$refs.Spinner.show();\n      setTimeout(function () {\n        this.$refs.Spinner.hide();\n      }.bind(this), 5000);\n    },\n    ...mapActions([\n      'changedDataset',\n      'changedDatasetByName',\n    ]),\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetSelectorPopup.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetSelectorPopup.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DatasetSelectorPopup.vue?vue&type=template&id=786874dc&\"\nimport script from \"./DatasetSelectorPopup.vue?vue&type=script&lang=ts&\"\nexport * from \"./DatasetSelectorPopup.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VFlex,VLayout,VList,VListItem,VListItemContent,VListItemTitle,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-expansion-panel',{attrs:{\"expand\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('div',{staticClass:\"title\"},[_vm._v(\"Settings\")]),_c('v-expansion-panel-content',[_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"Data Source\")]),_c('DatasetSelector')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-list',{attrs:{\"two-line\":\"\",\"subheader\":\"\"}},[_c('v-list-tile',[_c('v-list-tile-content',[_c('v-list-tile-title',[_vm._v(_vm._s(_vm.$store.state.chosenDataset.name))]),_c('v-list-tile-sub-title',[_vm._v(\"Current Dataset\")])],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"400\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"small\":\"\",\"color\":\"light-blue white--text\"},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add\")])],1),_c('DatasetSelectorPopup')],1),_vm._v(\" Load new dataset \")],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport DatasetSelectorPopup from './DatasetSelectorPopup.vue';\n\nexport default Vue.extend({\n  name: 'DatasetSelector',\n  components: {\n    DatasetSelectorPopup,\n  },\n  data() {\n    return {\n      datasetFilepath: '@/assets/actual_output.dat',\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DatasetSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DatasetSelector.vue?vue&type=template&id=79ed5d98&\"\nimport script from \"./DatasetSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./DatasetSelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VCard,VDialog,VIcon,VList})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport DatasetSelector from './DatasetSelector.vue';\n\nexport default Vue.extend({\n    name: 'Navbar',\n    components: {\n      DatasetSelector,\n    },\n    data() {\n      return {\n        drawer: false,\n        panel: [],\n        links: [\n          {\n            text: 'Histogram',\n            route: '/histogram',\n          },\n          {\n            text: 'New Bar Chart',\n            route: '/new-bar-chart',\n          },\n          {\n            text: 'Agreement Matrix',\n            route: '/agreement-matrix',\n          },\n          {\n            text: 'Bar Chart',\n            route: '/bar-chart',\n          },\n          {\n            text: 'Confusion Matrices',\n            route: '/confusion-matrices',\n          },\n          {\n            text: 'Classifier Agreement',\n            route: '/classifier-agreement',\n          },\n          {\n            text: 'Home',\n            route: '/',\n          },\n          {\n            text: 'Flex Home',\n            route: '/flex-home',\n          },\n        ],\n      };\n    },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Navbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Navbar.vue?vue&type=template&id=36c66adf&scoped=true&\"\nimport script from \"./Navbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Navbar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36c66adf\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('draggable',{staticClass:\"list-group visualizations\",attrs:{\"tag\":\"div\",\"handle\":\".handle\"},model:{value:(_vm.$store.state.views.open),callback:function ($$v) {_vm.$set(_vm.$store.state.views, \"open\", $$v)},expression:\"$store.state.views.open\"}},_vm._l((_vm.$store.getters.visualizations),function(v,i){return _c('div',{key:i,class:\"list-group-item tile\",style:((\"width: \" + (_vm.viewWidthByName(v.name)) + \";\"))},[(!_vm.visualizationsWithoutExternalHandle.includes(v.name))?_c('div',{staticClass:\"top-bar\"},[_c('div',{staticClass:\"handle\"},[_vm._v(_vm._s(_vm.handleIcon))]),_c('div',{staticClass:\"tile-title\"},[_vm._v(_vm._s(v.name))])]):_vm._e(),_c(v.name,{tag:\"component\",staticClass:\"vis-component\",attrs:{\"boxProps\":v.boxProps,\"onClose\":function () { return _vm.$store.dispatch('closeView', i); }}})],1)}),0),_c('div',{staticClass:\"sidebar\"},[_c('Sidebar')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Predicate } from './components/constraints/types';\n\nexport interface BoxProps {\n  classes: Set<string>;\n  classifiers: Set<string>;\n  features: Set<string>;\n  instances: Set<string>;\n  thresholdClassifierNameList: [];\n  classifierBandWidthDict:{};\n}\n\nexport enum EntityType {\n  Class =  'class',\n  Classifier = 'classifier',\n  Instance = 'instance',\n}\n\nexport type Feature\n  = FeatureCategorical\n  | FeatureInterval\n  | FeatureNominal\n  | FeatureOrdinal\n  | FeatureRatio;\n\nexport interface FeatureCategorical {\n  type: 'categorical';\n  description: string;\n  categories: string[];\n}\n\nexport interface FeatureInterval {\n  type: 'interval';\n  description: string;\n  bounds?: [number, number];\n}\n\nexport interface FeatureNominal {\n  type: 'nominal';\n  description: string;\n}\n\nexport interface FeatureOrdinal {\n  type: 'ordinal';\n  description: string;\n  categories: string[];\n}\n\nexport interface FeatureRatio {\n  type: 'ratio';\n  description: string;\n  bounds?: [number, number];\n}\n\nexport enum FilterAction {\n  Set,\n  Clear,\n  Add,\n  Remove,\n}\n\nexport interface Instance {\n  actual: string;\n  predictions: {[classifierName: string]: string};\n  continuous_predictions: {};\n  left_range: {};\n  right_range: {};\n  features: {[featureName: string]: number | string};\n}\n\nexport interface InstanceWithId extends Instance {\n  id: string;\n}\n\nexport interface Margin {\n  top: number;\n  right: number;\n  bottom: number;\n  left: number;\n}\n\nexport interface Metrics {\n  actual: {\n    [className: string]:  Set<String>,\n  };\n  predicted: {\n    [className: string]:  Set<String>,\n  };\n  true: {\n    [className: string]:  Set<String>,\n  };\n  false: {\n    [className: string]:  Set<String>,\n  };\n  tp: {\n    [className: string]:  Set<String>,\n  }\n  fp:  {\n    [className: string]:  Set<String>,\n  }\n  fn:  {\n    [className: string]:  Set<String>,\n  }\n  tn:  {\n    [className: string]:  Set<String>,\n  }\n  accuracy: number;\n  microf1: {\n    average: number,\n  };\n  macrof1: {\n    average: number,\n  };\n  f1: {\n    average: number,\n    [className: string]: number,\n  };\n  precision: {\n    average: number,\n    [className: string]: number,\n  };\n  recall: {\n    average: number,\n    [className: string]: number,\n  };\n  mcc: {\n    average: number,\n  }\n  acc: {\n    average: number,\n  }\n}\n\nexport interface ContinuousMetrics {\n  x_roc: {\n    [className: string]:  Number[],\n  };\n  y_roc: {\n    [className: string]:  Number[],\n  };\n  value_roc: {\n    [className: string]: Number[],\n  };\n  x_pr: {\n    [className: string]:  Number[],\n  };\n  y_pr: {\n    [className: string]:  Number[],\n  }\n  line_roc:  {\n    [className: string]:  Set<String>,\n  }\n  line_pr:  {\n    [className: string]:  Set<String>,\n  }\n  auc_area: number;\n}\n\nexport enum SelectionAction {\n  Include = 'include',\n  Exclude = 'exclude',\n}\n\nexport interface SelectionRecord {\n  description: string;\n  id: number;\n  instances: Set<string>;\n  name: string;\n  size?: number;\n  predicate?: Predicate;\n  weight: number\n}\n\nexport interface modelSelectionRecord {\n  description: string;\n  id: number;\n  name: string;\n  threshold: number;\n}\n\nexport interface thresholdSelectionRecord{\n  description: string;\n  id: number;\n  name: string;\n  threshold: number;\n  classifier: string;\n}\n\nexport enum SelectionStrategy {\n  Any,\n  All,\n}\n\nexport enum SetCompose {\n  AND = 'and',\n  MINUS = 'minus',\n  OR = 'or',\n  XOR = 'xor',\n}\n\nexport interface Visualization {\n  boxProps: BoxProps;\n  name: VisualizationType;\n}\n\nexport interface ThresholdWithClassifier {\n  classifier: string;\n  single_threshold: number;\n}\n\nexport enum VisualizationType {\n  CA = 'Performance_Overall',\n  SCP = 'Performance_Selection',\n  COV = 'Performance_Per_Class',\n  CC = 'Performance_Curves',\n  CB = 'Trinary_Performance_Confidence',\n  RC = 'Reliability_Curve',\n  BA= 'Trinary_Bandwidth_Assessment',\n  REC = 'Rejected_Curve',\n  TID = 'Trinary_Instance_Distribuion',\n  CMG = 'ConfusionMatrixGrid',\n  FH = 'Histogram',\n  UM = 'UncertaintyHeatMap',\n  OCA = 'CumulativeAccuracy',\n  PCC = 'PairwiseClassifierConsensus',\n  SM = 'MetricsTable',\n  SMP = 'MetricsParallel',\n  ITL = 'InstanceList',\n  SP = 'ScatterPlot',\n  FI = 'FocusItem',\n}\n","export interface Constraint {\n  negation: boolean;\n  rule: Rule;\n  classifier: string;\n  classifier2: string;\n  target: string;\n  feature: string;\n  value: string;\n  numericValue: number;\n}\n\nexport enum PlaceHolder {\n  classifier = '[ Classifier ]',\n  feature = '[ Feature ]',\n  rule = '[ Rule ]',\n  target = '[ Target Class ]',\n}\n\nexport enum Rule {\n  ACTUAL = 'True target class',\n  AGREE = 'Classifiers agree',\n  FEATURE_EQ = 'Feature equals',\n  FEATURE_GT = 'Feature greater than',\n  FEATURE_LT = 'Feature less than',\n  NONE = '',\n  PREDICTED = 'Classifier predicted target class',\n  RIGHT = 'Classifier was right',\n}\n\nexport type Predicate\n  = PredicateSimple\n  | PredicateComposed\n  | PredicateNegated;\n\nexport interface PredicateSimple {\n  type: 'simple';\n  constraints: Constraint[];\n  metric:[]\n}\n\nexport interface PredicateComposed {\n  type: 'and' | 'or';\n  predicates: Predicate[];\n}\n\nexport interface PredicateNegated {\n  type: 'negated';\n  predicate: Predicate;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Performance (Overall)\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Sort by accuracy\"},model:{value:(_vm.accuracySorting),callback:function ($$v) {_vm.accuracySorting=$$v},expression:\"accuracySorting\"}},[_c('v-radio',{attrs:{\"label\":\"ascending\",\"value\":\"ascending\"}}),_c('v-radio',{attrs:{\"label\":\"descending\",\"value\":\"descending\"}}),_c('v-radio',{attrs:{\"label\":\"alphabetical\",\"value\":\"alphabetical\"}}),_c('v-radio',{attrs:{\"label\":\"none\",\"value\":\"\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationSelection),callback:function ($$v) {_vm.evaluationSelection=$$v},expression:\"evaluationSelection\"}},[_c('v-radio',{attrs:{\"label\":\"accuracy\",\"value\":\"accuracy\"}}),_c('v-radio',{attrs:{\"id\":\"mcc\",\"label\":\"mcc\",\"value\":\"mcc\"}}),(_vm.classNumber > 2 && _vm.datasetType != 'continuous')?_c('v-radio',{attrs:{\"label\":\"microf1\",\"value\":\"microf1\"}}):_vm._e(),(_vm.classNumber > 2 && _vm.datasetType != 'continuous')?_c('v-radio',{attrs:{\"label\":\"macrof1\",\"value\":\"macrof1\"}}):_vm._e(),(_vm.classNumber <= 2 || _vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"f1\",\"value\":\"f1\"}}):_vm._e(),(_vm.classNumber <= 2 || _vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"precision\",\"value\":\"precision\"}}):_vm._e(),(_vm.classNumber <= 2 || _vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"recall\",\"value\":\"recall\"}}):_vm._e()],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Performance Type\"},model:{value:(_vm.weightedPerformance),callback:function ($$v) {_vm.weightedPerformance=$$v},expression:\"weightedPerformance\"}},[_c('v-radio',{attrs:{\"label\":\"normal\",\"value\":\"normal\"}}),_c('v-radio',{attrs:{\"label\":\"weighted\",\"value\":\"weighted\"}})],1)],1)])],1)],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import store from '../../store';\n\nimport * as d3 from 'd3';\n\nimport {\n  Constraint,\n  Predicate,\n  PredicateComposed,\n  PredicateNegated,\n  Rule,\n  PredicateSimple,\n} from './types';\n\nimport { Instance } from '../../types';\nimport { instanceById, featureByName } from '../../utils';\n\ninterface Buckets {\n  [key: string]: string[];\n}\n\ninterface BucketCounts {\n  [key: string]: number;\n}\n\ntype Filter = (id: string) => boolean;\n\ninterface ConstraintParameters {\n  negation?: boolean;\n  rule: Rule;\n  classifier?: string;\n  classifier2?: string;\n  target?: string;\n  feature?: string;\n  value?: string;\n  numericValue?: number;\n}\n\nexport function average(array: number[]) {\n  return sum(array) / array.length;\n}\n\nexport function blankConstraint(): Constraint {\n  const constraint: Constraint = {\n    negation: false,\n    rule: Rule.NONE,\n    classifier: '',\n    classifier2: '',\n    target: '',\n    feature: '',\n    value: '',\n    numericValue: 0,\n  };\n  return constraint;\n}\n\nexport function bucketCategorical(featureName: string, instances: string[]): Buckets {\n  const buckets: Buckets = {};\n\n  const feature = featureByName(featureName);\n  if (feature.type !== 'categorical') {\n    console.error(`${featureName} is not a categorical feature`);\n    return buckets;\n  }\n\n  feature.categories.forEach((category) => {\n    const constraint = createConstraint({\n      rule: Rule.FEATURE_EQ,\n      feature: featureName,\n      value: category,\n    });\n    const predicate = createSimplePredicate(constraint);\n    buckets[category] = instancesFromPredicate(predicate, instances);\n  });\n\n  return buckets;\n}\n\nexport function bucketCount(featureName: string, instances: string[]): BucketCounts {\n  const feature = featureByName(featureName);\n  let buckets: Buckets = {};\n  if (feature.type === 'categorical') {\n    buckets = bucketCategorical(featureName, instances);\n  } else if (['interval', 'ratio'].includes(feature.type)) {\n    buckets = bucketNumeric(featureName, instances);\n  } else {\n    console.error(featureName, 'could not be bucketed because of invalid type.');\n  }\n  const bucketCounts: BucketCounts = {};\n  Object.keys(buckets).forEach((key) => {\n    bucketCounts[key] = buckets[key].length;\n  });\n  return bucketCounts;\n}\n\nexport function bucketCountNormalized(featureName: string, instances: string[]): BucketCounts {\n  const bucketCounts = bucketCount(featureName, instances);\n  const countTotal = sum(Object.values(bucketCounts));\n  const bucketCountsNormalized: BucketCounts = {};\n  Object.keys(bucketCounts).forEach((key) => {\n    bucketCountsNormalized[key] = bucketCounts[key] / countTotal;\n  });\n  return bucketCountsNormalized;\n}\n\nexport function bucketNumeric(featureName: string, instances: string[]): Buckets {\n  const buckets: Buckets = {};\n\n  const feature = featureByName(featureName);\n  if (!['interval', 'ratio'].includes(feature.type)) {\n    console.error(`${featureName} is not a numeric feature`);\n    return buckets;\n  }\n\n  const getBins = (): Array<d3.Bin<string, number>> => {\n    const numberOfBins = 10;\n    const featureValues = instances.map((id) => instanceById(id).features[featureName] as number);\n    const xMin = Math.min(...featureValues);\n    const xMax = Math.max(...featureValues);\n\n    const bins = d3.histogram<string, number>()\n      .domain([xMin, xMax])\n      .thresholds(numberOfBins)\n      .value((id: string) => {\n        const i = instanceById(id);\n        const value = i.features[featureName];\n        return value as number;\n      })\n      (instances);\n\n    bins.forEach((bin) => {\n      delete bin.x0;\n      delete bin.x1;\n    });\n    return bins;\n  };\n\n  getBins().forEach((binnedInstances, index) => {\n    buckets[index] = binnedInstances;\n  });\n\n  return buckets;\n}\n\nexport function compareFeatureInterestingness() {\n  const interestingness = (candidate: BucketCounts, baseline: BucketCounts) => {\n    const interests: number[] = [];\n    Object.keys(candidate).forEach((key) => {\n      const expected = baseline[key];\n      if (expected === 0) {\n        return;\n      }\n      const observed = candidate[key];\n      let interest = 0;\n      if (observed < expected) {\n        const lowerBound = 0;\n        const upperBound = expected;\n        interest = (observed - lowerBound) / (upperBound - lowerBound);\n        interest = 1 - interest;\n      } else if (observed > expected) {\n        const lowerBound = expected;\n        const upperBound = 1;\n        interest = (observed - lowerBound) / (upperBound - lowerBound);\n      }\n      interests.push(interest);\n    });\n    const averageInterest = average(interests);\n    return averageInterest;\n  };\n\n  const firstOverlapSelection = store.state.overlapSelections.first;\n  if (!firstOverlapSelection) {\n    console.error('First overlap selection is not defined.');\n    return;\n  }\n  const predicate = firstOverlapSelection.predicate;\n  if (!predicate) {\n    console.error('First overlap selection\\'s predicate is not defined.');\n    return;\n  }\n  const instances = instancesFromPredicate(predicate);\n\n  const allFeatures: string[] = [...store.getters.features];\n  const allInstances = [...store.getters.instances];\n\n  const allowedTypes = ['categorical', 'interval', 'ratio'];\n  const isAllowedType = (name: string) => allowedTypes.includes(featureByName(name).type);\n  const features = allFeatures.filter(isAllowedType);\n\n  const featuresWithInterest = features.map((name) => {\n    const allCounts = bucketCountNormalized(name, allInstances);\n    const selectedCounts = bucketCountNormalized(name, instances);\n    return {\n      name,\n      interestingness: interestingness(selectedCounts, allCounts),\n    };\n  });\n  featuresWithInterest.sort((f1, f2) => f2.interestingness - f1.interestingness);\n  console.log('Interestingness');\n  featuresWithInterest.forEach((f) => {\n    console.log(f.interestingness, f.name);\n  });\n}\n\nexport function composePredicates(\n  p1: Predicate,\n  p2: Predicate,\n  operation: 'complement' | 'difference' | 'intersection' | 'union',\n): Predicate {\n  switch (operation) {\n    case 'intersection':\n      const PredicateIntersection: PredicateComposed = {\n        type: 'and',\n        predicates: [p1, p2],\n      };\n      return PredicateIntersection;\n    case 'union':\n      const PredicateUnion: PredicateComposed = {\n        type: 'or',\n        predicates: [p1, p2],\n      };\n      return PredicateUnion;\n    case 'difference':\n      const a = p1;\n      const b = p2;\n      const notB: PredicateNegated = {\n        type: 'negated',\n        predicate: b,\n      };\n      const aAndNotB: PredicateComposed = {\n        type: 'and',\n        predicates: [a, notB],\n      };\n      return aAndNotB;\n    case 'complement':\n      const aUnionB: PredicateComposed = {\n        type: 'or',\n        predicates: [p1, p2],\n      };\n      const complement: PredicateNegated = {\n        type: 'negated',\n        predicate: aUnionB,\n      };\n      return complement;\n  }\n}\n\nexport function constraintToString(constraint: Constraint): string {\n  const {\n    classifier,\n    classifier2,\n    feature,\n    negation,\n    rule,\n    target,\n    value,\n  } = constraint;\n\n  switch (rule) {\n    case Rule.ACTUAL:\n      if (negation) {\n        return `True target class was not ${target}`;\n      } else {\n        return `True target class was ${target}`;\n      }\n    case Rule.AGREE:\n      if (negation) {\n        return `Classifiers ${classifier} and ${classifier2} disagree`;\n      } else {\n        return `Classifiers ${classifier} and ${classifier2} agree`;\n      }\n    case Rule.FEATURE_EQ:\n      if (negation) {\n        return `${feature} != ${value}`;\n      } else {\n        return `${feature} = ${value}`;\n      }\n    case Rule.FEATURE_GT:\n      if (negation) {\n        return `${feature} <= ${value}`;\n      } else {\n        return `${feature} > ${value}`;\n      }\n    case Rule.FEATURE_LT:\n      if (negation) {\n        return `${feature} >= ${value}`;\n      } else {\n        return `${feature} < ${value}`;\n      }\n    case Rule.PREDICTED:\n      if (negation) {\n        return `${classifier} did not predict ${target}`;\n      } else {\n        return `${classifier} predicted ${target}`;\n      }\n    case Rule.RIGHT:\n      if (negation) {\n        return `${classifier} was wrong`;\n      } else {\n        return `${classifier} was right`;\n      }\n    default:\n      return `constraintToString does not recognize this constraint`;\n  }\n}\n\nexport function createConstraint(params: ConstraintParameters): Constraint {\n  const c = blankConstraint();\n  return Object.assign(c, params);\n}\n\nexport function createFilter(constraint: Constraint): Filter {\n  const trueFilter: Filter = (id: string) => true;\n  let filter = trueFilter;\n\n  if (!isConstraintComplete(constraint)) {\n    return filter;\n  }\n\n  const {\n    negation,\n    rule,\n    classifier,\n    classifier2,\n    target,\n    feature,\n    value,\n  } = constraint;\n\n  switch (constraint.rule) {\n    case Rule.ACTUAL:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.actual === target;\n      };\n      break;\n    case Rule.AGREE:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.predictions[classifier] === i.predictions[classifier2];\n      };\n      break;\n    case Rule.FEATURE_EQ:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.features[feature] === value;\n      };\n      break;\n    case Rule.FEATURE_GT:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.features[feature] > value;\n      };\n      break;\n    case Rule.FEATURE_LT:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.features[feature] < value;\n      };\n      break;\n    case Rule.PREDICTED:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.predictions[classifier] === target;\n      };\n      break;\n    case Rule.RIGHT:\n      filter = (id: string) => {\n        const i = instanceById(id);\n        return i.predictions[classifier] === i.actual;\n      };\n      break;\n    default:\n      console.error('Case for some constraint is missing.');\n      break;\n  }\n\n  const negatedFilter: Filter = (id: string) => !filter(id);\n  return (negation ? negatedFilter : filter);\n}\n\nexport function createSimplePredicate(c: Constraint): PredicateSimple {\n  return {\n    type: 'simple',\n    constraints: [c],\n    metric: []\n  };\n}\n\nexport function filterFromConstraint(c: Constraint): Filter {\n  return createFilter(c);\n}\n\nexport function filterFromPredicate(p: Predicate): Filter {\n  switch (p.type) {\n    case 'simple':\n      const filters = p.constraints.map(filterFromConstraint);\n      return (id: string) => filters.every((f) => f(id));\n    case 'negated':\n      const filter = filterFromPredicate(p.predicate);\n      return (id: string) => !filter(id);\n    case 'and':\n      const filtersAnd = p.predicates.map(filterFromPredicate);\n      return (id: string) => filtersAnd.every((f) => f(id));\n    case 'or':\n      const filtersOr = p.predicates.map(filterFromPredicate);\n      return (id: string) => filtersOr.some((f) => f(id));\n  }\n}\n\nexport function instancesFromPredicate(p: Predicate, instances?: string[]): string[] {\n  const allInstances: string[] = [...store.getters.filteredInstances];\n  if (!instances) {\n    instances = allInstances;\n  }\n  const filter = filterFromPredicate(p);\n  const selectedInstances = instances.filter(filter);\n  return selectedInstances;\n}\n\nexport function isConstraintComplete(constraint: Constraint): boolean {\n  const {\n    rule,\n    classifier,\n    classifier2,\n    target,\n    feature,\n    value,\n  } = constraint;\n\n  switch (rule) {\n    case Rule.ACTUAL:\n      return target ? true : false;\n    case Rule.AGREE:\n      return classifier && classifier2 ? true : false;\n    case Rule.FEATURE_EQ:\n    case Rule.FEATURE_GT:\n    case Rule.FEATURE_LT:\n      return feature && value ? true : false;\n    case Rule.PREDICTED:\n      return classifier && target ? true : false;\n    case Rule.RIGHT:\n      return classifier ? true : false;\n    default:\n      return false;\n  }\n}\n\nexport function predicateAbstraction(p: Predicate): Constraint[] {\n  const validConstraints: Constraint[] = [];\n\n  const classes: string[] = [...store.getters.filteredClasses];\n  const classifiers: string[] = [...store.getters.filteredClassifiers];\n  const features: string[] = [...store.getters.features];\n  const instancesIds: string[] = instancesFromPredicate(p);\n  const instances = instancesIds.map(instanceById);\n\n  const abstractActualClass = () => {\n    const actualClass = [...new Set(instances.map((i) => i.actual))];\n    if (actualClass.length === 1) {\n      const constraint = createConstraint({\n        rule: Rule.ACTUAL,\n        target: actualClass[0],\n      });\n      validConstraints.push(constraint);\n    }\n  };\n\n  const abstractPredictedClass = () => {\n    classifiers.forEach((classifier) => {\n      const predictedClass = [...new Set(instances.map((i) => i.predictions[classifier]))];\n      if (predictedClass.length === 1) {\n        const constraint = createConstraint({\n          rule: Rule.PREDICTED,\n          classifier,\n          target: predictedClass[0],\n        });\n        validConstraints.push(constraint);\n      }\n    });\n  };\n\n  const abstractPairwiseAgreement = () => {\n    classifiers.forEach((classifier, index) => {\n      classifiers.slice(index + 1).forEach((classifier2) => {\n        const constraint = createConstraint({\n          rule: Rule.AGREE,\n          classifier,\n          classifier2,\n        });\n        validConstraints.push(constraint);\n      });\n    });\n  };\n\n  const abstractCorrectClassiferCount = () => {\n    const countCorrectClassifiers = (i: Instance) => {\n      const isCorrectlyPredicted = (classifier: string) =>\n        i.actual === i.predictions[classifier];\n      const correctClassifiers = classifiers.filter(isCorrectlyPredicted);\n      const count = correctClassifiers.length;\n      return count;\n    };\n\n    const correctClassifiersCounts = instances.map(countCorrectClassifiers);\n    const max = Math.max(...correctClassifiersCounts);\n    const min = Math.min(...correctClassifiersCounts);\n    if (min === max) {\n      const constraint = createConstraint({\n        rule: Rule.FEATURE_EQ,\n        feature: 'numberOfCorrectClassifiers',\n        numericValue: min,\n      });\n      validConstraints.push(constraint);\n    } else {\n      const lowerBound = createConstraint({\n        rule: Rule.FEATURE_LT,\n        negation: true,\n        feature: 'numberOfCorrectClassifiers',\n        numericValue: min,\n      });\n      const upperBound = createConstraint({\n        rule: Rule.FEATURE_GT,\n        negation: true,\n        feature: 'numberOfCorrectClassifiers',\n        numericValue: max,\n      });\n      validConstraints.push(lowerBound);\n      validConstraints.push(upperBound);\n    }\n  };\n\n  const abstractDataFeatures = () => {\n    features.forEach((name) => {\n      const allEqual = <T>(array: T[]) => array.every((v) => v === array[0]);\n      const f = featureByName(name);\n      const values = instances.map((i) => i.features[name]);\n      switch (f.type) {\n        case 'nominal':\n        case 'categorical':\n          if (allEqual(values)) {\n            const constraint = createConstraint({\n              rule: Rule.FEATURE_EQ,\n              feature: name,\n              value: values[0] as string,\n            });\n            validConstraints.push(constraint);\n          }\n          break;\n        case 'ordinal':\n          console.error('Ordinal variables not handled in predicate abstraction.');\n          break;\n        case 'interval':\n        case 'ratio':\n          const min = Math.min(...values as number[]);\n          const max = Math.max(...values as number[]);\n          if (min === max) {\n            const constraint = createConstraint({\n              rule: Rule.FEATURE_EQ,\n              feature: name,\n              numericValue: values[0] as number,\n            });\n            validConstraints.push(constraint);\n          } else {\n            const lowerBound = createConstraint({\n              rule: Rule.FEATURE_LT,\n              negation: true,\n              feature: name,\n              numericValue: min,\n            });\n            const upperBound = createConstraint({\n              rule: Rule.FEATURE_GT,\n              negation: true,\n              feature: name,\n              numericValue: max,\n            });\n            validConstraints.push(lowerBound);\n            validConstraints.push(upperBound);\n          }\n          break;\n      }\n    });\n  };\n\n  abstractDataFeatures();\n\n  console.log('valid constraints', validConstraints);\n\n  // create list of simple predicates from valid constraints\n  const validPredicates = validConstraints.map(createSimplePredicate);\n\n  // find precision of each valid predicate\n  const predicatePrecision = (candidate: Predicate, baseline: Predicate): number => {\n    const intersection = composePredicates(candidate, baseline, 'intersection');\n    const part = instancesFromPredicate(intersection);\n    const whole = instancesFromPredicate(candidate);\n    const precision = part.length / whole.length;\n    return precision;\n  };\n  const predicatesWithPrecisions = validPredicates.map((pred) => ({\n    predicate: pred,\n    precision: predicatePrecision(pred, p),\n  }));\n\n  // sort by precision\n  predicatesWithPrecisions.sort((p1, p2) => p2.precision - p1.precision);\n\n  console.log('precisions and predicates');\n  predicatesWithPrecisions.forEach((pred) => {\n    // console.log(pred.precision, constraintToString(pred.predicate.constraints[0]));\n  });\n\n  return validConstraints;\n}\n\nexport function sum(array: number[]): number {\n  return array.reduce((total, a) => total + a, 0);\n}\n","const good = '#4393c3';\nconst goodDark = '#2166ac';\nconst goodLight = '#d1e5f0';\nconst uncertainLight = '#dcdcdc'\nconst uncertainDark = '#696969'\nconst badr =       '#d6604d';\nconst badDarkr =   '#b2182b';\nconst badLightr =  '#fddbc7';\nconst bad =        '#fc9236'; // '#fdae6b';\nconst badDark =    '#cf6d17'; // '#e67919';\nconst badLight =   '#ffd9b3'; // '#fde2ce';\nconst highlight = '#000000';\nconst categorical = [\n  '#e6194B',\n  '#3cb44b',\n  '#ffe119',\n  '#4363d8',\n  '#f58231',\n  '#911eb4',\n  '#42d4f4',\n  '#f032e6',\n  '#bfef45',\n  '#fabebe',\n  '#469990',\n  '#e6beff',\n  '#9A6324',\n  '#fffac8',\n  '#800000',\n  '#aaffc3',\n  '#808000',\n  '#ffd8b1',\n  '#000075',\n  '#a9a9a9',\n];\n\nconst usual = good;\nconst white = '#ffffff';\n\nconst focus = '#F5D300'\n\nexport let colors = {\n  bad,\n  badDark,\n  badLight,\n  categorical,\n  good,\n  goodDark,\n  goodLight,\n  highlight,\n  overlapSelections: {\n    first: '#18FFFF',\n    second: '#FF40C1',\n    background: 'lightgray',\n  },\n  usual,\n  white,\n  focus\n};\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport * as d3 from 'd3';\nimport {\n  modelSelectionRecord,\n  EntityType,\n  Feature,\n  Instance,\n  Metrics,\n  SelectionAction,\n  SelectionRecord,\n  SelectionStrategy,\n  Visualization,\n  VisualizationType,\n  ThresholdWithClassifier,\n  thresholdSelectionRecord,\n} from './types';\nimport {\n  difference,\n  intersection,\n  instanceById,\n  xor,\n  union,\n} from './utils';\nimport {\n  predicateAbstraction, isConstraintComplete, composePredicates,\n} from './components/constraints/utils';\nimport { range, select, selection } from 'd3';\n\nimport { colors } from './theme';\n\nconst fs = require('browserify-fs');\n\nVue.use(Vuex);\n\n// const config = require(\"./datasets_config.json\");\n\nconst datasets: {\n} ={};\n\n// const SERVER_URL =  config.SERVER_URL;\n\nexport default new Vuex.Store({\n  state: {\n    saveStatus:0,\n    resumeStatus:0,\n    saveConfig:{\n      \"Reliability_Curve\":[],\n      \"Histogram\":[],\n      \"Performance_Curves\":[],\n      \"Trinary_Bandwidth_Assessment\":[],\n      \"Rejected_Curve\":[],\n      \"UncertaintyHeatMap\":[],\n      \"Trinary_Performance_Confidence\":[],\n      \"Trinary_Instance_Distribuion\":[],\n      \"Thresholds\":{},\n      \"Bandwidths\":{},\n    },\n    resumedBandwidths:{},\n    viewsConfig: [],\n    chosenFixedDataset: {},\n    fixedDataset: 'yes',\n    corsError: '',\n    currentChosenSample: '',\n    weightMode: 'no',\n    currentChosenFold:'',\n    sampleList: [],\n    sampleDict: {},\n    selectedSampleSet: {\n      first: null as SelectionRecord | null,\n      second: null as SelectionRecord | null,\n    },\n    validationList: [],\n    addedThresholdClassifiers: [],\n    curAddedThresholdClassifier: {},\n    addedBandWidthClassifiers: [],\n    withinClassifierBandWidthList: [],\n    withinClassifierName: '',\n    classifierBandWidthDict: {},\n    bandWidthChangedClassifierName:'',\n    outerBandWidth:{},\n    classifierThresholdList:[],\n    classifierThresholdDict:{},\n    thresholdClassifierNameList:[],\n    chosenClassifierThresholdTuple: {\n      classifier: \"\",\n      single_threshold: 0,\n    } as ThresholdWithClassifier,\n    curveChosenClassifierThresholdTuple:{\n      classifier:\"\",\n      single_threshold: 0,\n    } as ThresholdWithClassifier,\n    datasetType: 'discrete' as 'discrete' | 'continuous',\n    viewWidth: \"50%\",\n    baseDataset: 'both' as 'both' | 'train' | 'test' | 'sample',\n    baseSelection: {\n      description: 'Not yet set',\n      id: -1,\n      instances: new Set(),\n      name: 'Not yet set',\n      classifier:\"null\",\n      className:\"null\",\n      weight:0,\n    } as SelectionRecord,\n    chosenDataset: {\n      name: '',\n      classes: [],\n      classifiers: [],\n      features: {},\n      instances: {},\n    } as {\n      name: string,\n      classes: string[],\n      classifiers: string[],\n      features: { [id: string]: Feature },\n      instances: { [id: string]: Instance },\n    },\n    datasets,\n    hoverInstance: '',\n    continuous_metrics:{},\n    weighted_metrics: {},\n    filters: {\n      class: {\n        type: SelectionAction.Exclude,\n        set: new Set(),\n      },\n      classifier: {\n        type: SelectionAction.Exclude,\n        set: new Set(),\n      },\n      instance: {\n        type: SelectionAction.Exclude,\n        set: new Set(),\n      },\n    } as {\n      [key in EntityType]: {\n        type: SelectionAction,\n        set: Set<string>,\n      }\n    },\n    overlapSelections: {\n      first: null as SelectionRecord | null,\n      second: null as SelectionRecord | null,\n    },\n    selectionHistory: [] as SelectionRecord[],\n\n    focusItemId: null as string,\n    focusSet: null as string,\n    focusDotEmphasis: false,\n\n    modelSelections: null as modelSelectionRecord | null,\n    modelSelectionHistory: [] as modelSelectionRecord[],\n    selectionStrategy: SelectionStrategy.Any as SelectionStrategy,\n    views: {\n      all: [\n        VisualizationType.CA,\n        VisualizationType.SCP,\n        VisualizationType.COV,\n        VisualizationType.CMG,\n        VisualizationType.FH,\n        VisualizationType.UM,\n        VisualizationType.OCA,\n        VisualizationType.PCC,\n        VisualizationType.SM,\n        VisualizationType.SMP,\n        VisualizationType.ITL,\n        VisualizationType.SP,\n        VisualizationType.FI\n      ],\n      open: [\n        VisualizationType.CA,\n        VisualizationType.FH,\n      ],\n    } as {\n      all: VisualizationType[],\n      open: VisualizationType[],\n    },\n    intersectionMode: true,\n  },\n  mutations: {\n    setSavesStatus(state, new_status){\n      Vue.set(state, 'saveStatus', new_status)\n    },\n    setResumeStatus(state, new_status) {\n      Vue.set(state, 'resumeStatus', new_status)\n    },\n    setSaveConfig(state, config){\n      Vue.set(state.saveConfig, config['name'], config['config'])\n    },\n    setChosenFixedDataset(dataset, new_dataset) {\n      Vue.set(dataset, 'chosenFixedDataset', new_dataset);\n    },\n    setFixedDataset(flag, new_flag) {\n      Vue.set(flag, 'fixedDataset', new_flag)\n    },\n    setcorsError(cors_error, new_error) {\n      Vue.set(cors_error, 'corsError', new_error)\n    },\n    setContinuousMetrics(continuous_metrics, new_metrics) {\n      Vue.set(continuous_metrics, \"continuous_metrics\", new_metrics)\n    },\n    setWeightMetrics(metrics, new_metrics) {\n      Vue.set(metrics, \"weighted_metrics\", new_metrics)\n    },\n    setCurveChosenClassifierThresholdTuple(continuous_classifierThreshold, new_classifierThreshold) {\n      Vue.set(continuous_classifierThreshold, \"curveChosenClassifierThresholdTuple\", new_classifierThreshold)\n    },\n    setChosenClassifierThresholdTuple(continuous_classifierThreshold, new_classifierThreshold) {\n      Vue.set(continuous_classifierThreshold, \"chosenClassifierThresholdTuple\", new_classifierThreshold)\n    },\n    setWeightMode(state, new_mode) {\n      Vue.set(state, \"weightMode\", new_mode)\n    },\n    setclassifierBandWidthDict(state, newUncertainBandwidth){\n      Vue.set(state, \"classifierBandWidthDict\",newUncertainBandwidth);\n    }, \n    setWithinClassifierBandWidthList(state, newWithinClassifier) {\n      Vue.set(state, \"withinClassifierBandWidthList\", newWithinClassifier);\n    },\n    setWithinClassifierName(state, newClassifierName) {\n      Vue.set(state, 'withinClassifierName', newClassifierName)\n    },\n    setBandWidthChangedClassifier(state, newuncertainClassifier){\n      Vue.set(state, \"bandWidthChangedClassifierName\",newuncertainClassifier);\n    },\n    setouterBandWidth(state, new_bandWidth){\n      Vue.set(state, \"outerBandWidth\", new_bandWidth);\n    },\n    setClassifierThresholdDict(state, new_allclassifierThreshold) {\n      Vue.set(state, 'classifierThresholdDict', new_allclassifierThreshold);\n    },\n    setThresholdClassifierNameList(state, new_allthresholdClassifiers) {\n      Vue.set(state, \"thresholdClassifierNameList\",new_allthresholdClassifiers)\n    },\n    setResumedBandwidths(state, new_bands){\n      Vue.set(state, \"resumedBandwidths\",new_bands)\n    },\n    setViewsType (state, views: VisualizationType[]) {\n      Vue.set(state.views, 'all',views)\n    },\n    setTileWidth(state, width) {\n      Vue.set(state, \"viewWidth\", width);\n    },\n    setToggleIntersectionMode(state, intersect) {\n      Vue.set(state, 'intersectionMode', intersect);\n    },\n    setBaseSelection(state, baseSelection: SelectionRecord) {\n      Vue.set(state, 'baseSelection', baseSelection);\n    },\n    setOpenViews(state, views: VisualizationType[]) {\n      Vue.set(state.views, 'open', views);\n    },\n    setViewsConfig(state,  new_config) {\n      Vue.set(state, 'viewsConfig', new_config)\n    },\n    setOverlapSelection(\n      state,\n      payload: {\n        whichOverlap: 'first' | 'second',\n        selection: SelectionRecord | null,\n      },\n    ) {\n      const {whichOverlap, selection} = payload;\n      const newOverlapSelections = Object.assign({}, state.overlapSelections);\n      newOverlapSelections[whichOverlap] = selection;\n      Vue.set(state, 'overlapSelections', newOverlapSelections);\n      console.log(`Set ${whichOverlap} selection set to`, state.overlapSelections[whichOverlap]);\n    },\n    setSampleSelection(\n      state,\n      payload: {\n        whichOverlap: 'first' | 'second',\n        selection: SelectionRecord | null,\n      },\n    ) {\n      const {whichOverlap, selection} = payload;\n      const newOverlapSelections = Object.assign({}, state.selectedSampleSet);\n      newOverlapSelections[whichOverlap] = selection;\n      Vue.set(state, 'selectedSampleSet', newOverlapSelections);\n    },\n    setSampledList(state, sampleList) {\n      Vue.set(state, 'sampleList', sampleList);\n    },\n    setValidationdList(state, validationList) {\n      Vue.set(state, 'validationList', validationList);\n    },\n    setCurrentChosenSample(state, currentChosenSample) {\n      Vue.set(state, 'currentChosenSample',currentChosenSample);\n    },\n    setCurrentChosenFold(state, currentChosenFold) {\n      Vue.set(state, 'currentChosenFold', currentChosenFold);\n    },\n    setSampleData(\n      state,\n      payload: {\n        selection:  null,\n        whichOverlap: 'first' | 'second',\n      }\n    ) {\n      const tmpSample = payload.selection;\n      Vue.set(state, 'sampleDict', tmpSample);\n      Vue.set(state, 'baseDataset', 'sample');\n    },\n    setSelectionHistory(state, newHistory) {\n      Vue.set(state, 'selectionHistory', newHistory);\n      const predicate = state.selectionHistory[0].predicate;\n      if (predicate) {\n        predicateAbstraction(predicate);\n      }\n    },\n    setAddedThresholdClassifiers(state, newAddedThresholdClassifiers) {\n      Vue.set(state, 'addedThresholdClassifiers', newAddedThresholdClassifiers);\n    },\n    setAddedBandWidthClassifiers(state, newAddedBandWidthClassifiers) {\n      Vue.set(state, 'addedBandWidthClassifiers', newAddedBandWidthClassifiers)\n    },\n    setCurAddedThresholdClassifier(state, newCurAddedThresholdClassifier) {\n      Vue.set(state, 'curAddedThresholdClassifier', newCurAddedThresholdClassifier)\n    },\n    mutateFocusItem(state, id){\n      Vue.set(state, 'focusItemId', id)\n    },\n    mutateFocusSet(state, id){\n      Vue.set(state, 'focusSet', id)\n    },\n    setEmphasis(state, status){\n      Vue.set(state,'focusDotEmphasis', status)\n    },\n    setAddedClassifier(state, newAddedClassifier) {\n      Vue.set(state, 'addedClassifier', newAddedClassifier);\n    }, \n    setAdditionalClassifiers(state, newAdditionalClassifiers) {\n      Vue.set(state, 'additionalClassifiers', newAdditionalClassifiers);\n    },\n    setModelSelection(\n      state,\n      payload:{\n        selection: modelSelectionRecord | null,\n      },\n     ){\n       const {selection} = payload;\n       Vue.set(state, 'modelSelections',selection );\n    },\n    setChosenDataset(state, newDataset) {\n      Vue.set(state, 'chosenDataset', newDataset);\n    },\n    setHoverInstance(state, id) {\n      Vue.set(state, 'hoverInstance', id);\n    },\n    setFilter(\n      state,\n      payload: {\n        entityType: EntityType,\n        newFilter: {\n          type: SelectionAction,\n          set: Set<string>,\n        },\n      },\n    ) {\n      Vue.set(state.filters, payload.entityType, payload.newFilter);\n    },\n  },\n  actions: {\n    resumeViews(context) {\n      const views_recommendation = this.state.chosenFixedDataset['views_recommendation'].map((c)=>c.name).filter((c)=>c!=\"Bandwidths\"&&c!=\"Thresholds\");\n      context.commit('setOpenViews', views_recommendation);\n      const thresholds = this.state.chosenFixedDataset['views_recommendation'].filter((c)=>c.name==\"Thresholds\");\n      const bandwidths = this.state.chosenFixedDataset['views_recommendation'].filter((c)=>c.name==\"Bandwidths\");\n\n      if (thresholds.length > 0) {\n        let tmp  = {}\n        let classifiers = Object.keys(context.state.classifierThresholdDict)\n        classifiers.forEach((c)=>{\n          if (Object.keys(thresholds[0].config).includes(c) && c!=\"\") {\n            tmp[c]  = thresholds[0].config[c]\n          }\n        })\n        context.commit('setClassifierThresholdDict',tmp)\n      }\n      if (bandwidths.length > 0) {\n        let resumedBandwidths = {}\n        Object.keys(this.getters.classifierThresholdDict).forEach((c)=>{\n          if (c != \"\") {\n            let left_range = parseFloat((bandwidths[0].config[c].split(\"-\")[0]))\n            let right_range = parseFloat((bandwidths[0].config[c].split(\"-\")[1]))\n            resumedBandwidths[c] = {\n              \"left_range\":left_range, \"right_range\":right_range\n            }\n          }\n        })\n        \n        context.commit('setResumedBandwidths',resumedBandwidths)\n      }\n      context.commit('setViewsConfig', this.state.chosenFixedDataset['views_recommendation'])\n      context.commit('setResumeStatus', context.state.resumeStatus+1)\n    },\n    changedSaveConfig(context, new_config) {\n      context.commit(\"setSaveConfig\", new_config)\n    },\n    reloadViews(context) {\n      const filePath = \"views_config.json\";\n      setTimeout(()=>{\n        fs.readFile(filePath, 'utf-8', function(err, data) {\n          let config = JSON.parse(data)\n          const views_recommendation = config['views_recommendation'].map((c)=>c.name).filter((c)=>c!=\"Bandwidths\"&&c!=\"Thresholds\");\n          context.commit('setOpenViews', views_recommendation);\n          const thresholds = config['views_recommendation'].filter((c)=>c.name==\"Thresholds\");\n          const bandwidths = config['views_recommendation'].filter((c)=>c.name==\"Bandwidths\");\n          const selections = config['views_recommendation'].filter((c)=>c.name==\"Selections\");\n          \n          selections[0][\"config\"][\"instances\"] = new Set(selections[0][\"config\"][\"instances\"])\n          context.dispatch('prependToSelectionHistory', selections[0].config);\n          context.dispatch('changedMostRecentSelection', \"first\");\n\n\n          if (thresholds.length > 0) {\n            context.commit('setClassifierThresholdDict',thresholds[0].config)\n          }\n          if (bandwidths.length > 0) {\n            let resumedBandwidths = {}\n            Object.keys(context.state.classifierThresholdDict).forEach((c)=>{\n              let left_range = parseFloat((bandwidths[0].config[c].split(\"-\")[0]))\n              let right_range = parseFloat((bandwidths[0].config[c].split(\"-\")[1]))\n              resumedBandwidths[c] = {\n                \"left_range\":left_range, \"right_range\":right_range\n              }\n            })\n            context.commit('setResumedBandwidths',resumedBandwidths)\n          }\n          context.commit('setViewsConfig', config['views_recommendation'])\n          context.commit('setResumeStatus', context.state.resumeStatus+1)\n        });\n        \n      },1000)\n    },\n    saveViews(context) {\n      context.commit(\"setSavesStatus\", context.state.saveStatus+1)\n    },\n    wrtieConfig(context) {\n      const filePath = \"views_config.json\";\n      setTimeout(() => {\n        const openViews = context.state.views.open;\n        const checkedViews = Object.keys(context.state.saveConfig);\n        let config = { \"views_recommendation\":[]}\n        openViews.forEach((c)=>{\n          if (c.toString() != 'Selections') {\n            if (checkedViews.includes((c))) {\n              config[\"views_recommendation\"].push({\"name\":c,\"config\":context.state.saveConfig[c]})\n            } else {\n              config[\"views_recommendation\"].push({\"name\":c})\n            }\n          }\n        })\n        let selections = {}\n        for (let key in context.state.selectionHistory[0]) {\n          if (key == 'instances') {\n            selections[key] = [...context.state.selectionHistory[0][key]]\n          } else {\n            selections[key] = context.state.selectionHistory[0][key]\n          }\n        }\n        config[\"views_recommendation\"].push({\"name\":\"Selections\",\"config\":selections})\n        if (context.state.datasetType ==  'continuous') {\n          config[\"views_recommendation\"].push({\"name\":\"Thresholds\", \"config\":context.state.classifierThresholdDict})\n          let bandwidths = {}\n          let classifierThresholdDict = context.state.classifierThresholdDict\n          Object.keys(classifierThresholdDict).forEach((c)=>{\n            bandwidths[c] = (this.getters.continuous_metrics[c].cur_left_edge).toFixed(2) + '-' + (this.getters.continuous_metrics[c].cur_right_edge).toFixed(2)\n          })\n          config[\"views_recommendation\"].push({\"name\":\"Bandwidths\", \"config\":bandwidths})\n        }\n        const fileContent = JSON.stringify(config);\n        fs.writeFile(filePath, fileContent, function() {});\n      }, 1000);\n    },\n    drawSelections(context, selection_attribute) {\n      const barCells = selection_attribute.barCells;\n      const x = selection_attribute.x;\n      const y = selection_attribute.y;\n      const width = selection_attribute.width;\n      const height = selection_attribute.height;\n      const r  = selection_attribute.r;\n      const color = selection_attribute.color;\n\n      const circle_visibility = selection_attribute.circle_visibility;\n      const cx = selection_attribute.cx;\n      const cy = selection_attribute.cy;\n      const selection_type = selection_attribute.selection_type;\n      const focused = selection_attribute.focused;\n\n\n      barCells.append('rect')\n        .attr('class','selection-rect-'+selection_type)\n        .attr('x', x)\n        .attr('y', y)\n        .attr('width', width)\n        .attr('height',height)\n        .attr('fill', color)\n        .attr('stroke', 'black')\n        .attr('stroke-width', '2px')\n        .attr('pointer-events', 'none')\n\n      barCells.append(\"circle\")   \n        .attr('class', 'selection-circle-'+selection_type)\n        .attr('cx', cx )\n        .attr('cy', cy)\n        .attr('r', r)\n        .style('fill', color)\n        .attr('stroke', 'grey')\n        .attr(\"visibility\", circle_visibility) \n      \n      // focus dot\n      barCells.append('circle')\n          .attr('class','selection-focus-'+selection_type)\n          .attr('cx', cx)\n          .attr('cy', y + height/2)\n          .attr('r', this.state.focusDotEmphasis ? r*3 :r/1.5)\n          .style('fill', colors.focus)  \n          .attr('stroke', 'black')  \n          .attr('stroke-width', 3)\n          .attr(\"visibility\", focused?\"visible\":\"hidden\")\n\n    },  \n    blinkFocus(context){\n      context.commit('setEmphasis', true)\n      setTimeout(() => {\n        context.commit('setEmphasis', false)\n      }, 1000);\n    },\n    emphasizeFocus(context){\n      context.commit('setEmphasis', !this.state.focusDotEmphasis)\n    },\n    changedcorsError(context, new_cors_error) {\n      context.commit('setcorsError', new_cors_error);\n    },\n    changedToSamplingData(\n      context,\n      payload: {\n        selection: null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      context.commit('setSampleData', payload);\n      context.dispatch('changedContinuousMetrics');\n      context.dispatch('updateContinuousMetrics');\n    },\n    changedSampledList(context, new_sample_value) {\n      context.commit(\"setSampledList\",new_sample_value)\n    },\n    changedValidationList(context, new_validation) {\n      context.commit(\"setValidationdList\",new_validation)\n    },\n    changeCurrentChosenSample(context, new_chosen_sample){\n      context.commit(\"setCurrentChosenSample\", new_chosen_sample);\n    },\n    changedCurrentChosenFold(context, new_chosen_fold) {\n      context.commit(\"setCurrentChosenFold\", new_chosen_fold)\n      context.dispatch(\"changedContinuousMetrics\")\n      context.dispatch('updateWeightedMetrics')\n    },\n    changedDataType(context, new_data_type) {\n      context.commit(\"setDataType\",new_data_type)\n    },\n    changedAddedThresholdClassifiers (context, value) {\n      context.commit('setAddedThresholdClassifiers', value);\n      context.dispatch('updateContinuousMetrics');\n    },\n    changedAddedBandWidthClassifiers(context, value) {\n      context.commit('setAddedBandWidthClassifiers',value);\n    },\n    changedOuterBandWidth(context, value) {\n      context.commit('setouterBandWidth', value);\n    },  \n    changedCurAddedThresholdClassifier(context, value) {\n      context.commit('setCurAddedThresholdClassifier', value)\n    },\n    changedclassifierBandWidthDict(context, uncertainBandwidth) {\n      context.commit(\"setclassifierBandWidthDict\",uncertainBandwidth);\n      context.dispatch(\"updateContinuousMetrics\")\n    },\n    changedWithinClassifierBandWidthList(context, withinClassifierBandWidthList) {\n      context.commit(\"setWithinClassifierBandWidthList\", withinClassifierBandWidthList);\n    },\n    changedWithinClassifierName(context, withinClassifierName) {\n      context.commit(\"setWithinClassifierName\", withinClassifierName);\n    },  \n    changedBandWidthClassifier(context, bandWidthChangedClassifierName) {\n      context.commit(\"setBandWidthChangedClassifier\",bandWidthChangedClassifierName);\n    },\n    changedCurveChosenClassifierThresholdTuple(context, classifierThreshold) {\n      context.commit(\"setCurveChosenClassifierThresholdTuple\",classifierThreshold);\n      context.commit(\"setChosenClassifierThresholdTuple\",classifierThreshold);\n      context.dispatch('changedDatasetContinuous');\n    },\n    changedContinuousThreshold(context,classifierThreshold) {\n      context.commit(\"setChosenClassifierThresholdTuple\",classifierThreshold);\n      context.dispatch('changedDatasetContinuous');\n    },\n    changedGridSize(context) {\n      if (context.state.viewWidth === \"50%\") {\n        context.commit(\"setTileWidth\", \"\" + (100 / 3) + \"%\");\n      } else {\n        context.commit(\"setTileWidth\", \"50%\");\n      }\n    },\n    changedToggleShift(context, keyEvent) {\n      if (keyEvent.key === 'Shift') {\n        context.commit('setToggleIntersectionMode', keyEvent.type === 'keyup');\n      }\n    },\n    changedSampleSelection(\n      context,\n      payload: {\n        selection: SelectionRecord | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      context.commit('setSampleSelection', payload)\n    },\n    changedOverlapSelection(\n      context,\n      payload: {\n        selection: SelectionRecord | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      context.commit('setOverlapSelection', payload);\n    },\n    clearHoverInstance(context) {\n      context.commit('setHoverInstance', '');\n    }, \n    openView(context, view: VisualizationType) {\n      const pastViews = context.state.views.open;\n      const newViews = [...pastViews, view];\n      context.commit('setOpenViews', newViews);\n    },\n    closeView(context, index: number) {\n      const pastViews = context.state.views.open;\n      const newViews = pastViews.filter((view, i) => i !== index);\n      context.commit('setOpenViews', newViews);\n    },\n    loadFirstDataset(context) {\n      const datasetList = Object.keys(context.state.datasets);\n      if (datasetList.length === 0) {\n        console.error('Vuex state.datasets is empty. Cannot load first dataset.');\n        return;\n      }\n      const firstDataset = datasetList[0];\n      context.dispatch('changedDatasetByName', firstDataset);\n    },\n    prependToSelectionHistory(context, payload) {\n      console.log(payload)\n      if (context.state.intersectionMode || context.state.selectionHistory.length < 2) {\n        const oldSelectionHistory = context.state.selectionHistory;\n        const selection: SelectionRecord = {\n          description: payload.description,\n          id: oldSelectionHistory.length,\n          instances: payload.instances,\n          name: 'No name',\n          weight: 0\n        };\n        if (payload.predicate) {\n          selection.predicate = payload.predicate;\n        }\n        const newSelectionHistory = [selection, ...oldSelectionHistory];\n        context.commit('setSelectionHistory', newSelectionHistory);\n      } else {\n        console.log(\"UNION MODE\");\n        const oldSelectionHistory = context.state.selectionHistory;\n        const lastSelection = context.state.selectionHistory[0];\n        let instances = new Set([...lastSelection.instances, ...payload.instances]);\n        let unionDescription = \"union(\" + lastSelection.id + \", \" + payload.description + \")\";\n        const selection: SelectionRecord = {\n          description: unionDescription,\n          id: oldSelectionHistory.length,\n          instances: instances,\n          name: 'No name',\n          weight:0\n        };\n        if (payload.predicate && lastSelection.predicate) {\n          selection.predicate = composePredicates(payload.predicate, lastSelection.predicate, \"union\");\n        }\n        const newSelectionHistory = [selection, ...oldSelectionHistory];\n        context.commit('setSelectionHistory', newSelectionHistory);\n      }\n    },\n    resetSelectionHistory(context) {\n      const trainOrTest = 'train_or_test';\n      const cleanSelectionHistory: SelectionRecord[] = [\n        {\n          id: 0,\n          name: 'Original',\n          description: 'Original dataset',\n          instances: new Set(Object.keys(context.state.chosenDataset.instances)),\n          weight:0\n        },\n        \n      ];\n      context.commit('setSelectionHistory', cleanSelectionHistory);\n      if (context.state.datasetType == 'continuous') {\n        context.dispatch('updateWeightedMetrics')\n      }\n      const baseSelection = cleanSelectionHistory[0];\n      context.commit('setBaseSelection', baseSelection);\n      context.commit('setOverlapSelection', { whichOverlap: 'first', selection: null });\n      context.commit('setOverlapSelection', { whichOverlap: 'second', selection: null });\n    },\n    changedBaseSelection(context, baseSelection: SelectionRecord) {\n      context.commit('setBaseSelection', baseSelection);\n    },\n    // changedDatasetByName(context, datasetName: string) {\n    //   const datasetList = Object.keys(context.state.datasets);\n    //   const chosenDataset = datasetList.indexOf(datasetName);\n    //   if (chosenDataset === -1) {\n    //     console.error(`Dataset named ${datasetName} not found in state.datasets`);\n    //     return;\n    //   }\n    //   const datasetPath = SERVER_URL + datasets[datasetName].path;\n    //   context.commit(\"setChosenFixedDataset\", datasets[datasetName])\n    //   context.commit(\"setClassifierThresholdDict\",{});\n    //   context.commit(\"setThresholdClassifierNameList\",[]);\n    //   context.dispatch('changedDataset', datasetPath);\n    // },\n    changedDataset(context, datasetURL: string) {\n      // if (datasetURL.substring(0, SERVER_URL.length) == SERVER_URL) {\n      //   context.commit('setFixedDataset','yes')\n      // } else {\n        \n      // }\n      context.commit('setFixedDataset','no')\n      let datasetPath = datasetURL.endsWith(\"/\") ? datasetURL : datasetURL + \"/\";\n      const filenames = [\n        'manifest.json',\n        'results.csv',\n        'features.csv',\n      ];\n      Promise.all(filenames.map((filename) => {\n        const url = datasetPath + filename;\n        const fileType = filename.split('.').pop();\n        return fetch(url)\n          .then((response) => {\n            if (!response.ok) {\n              return Promise.reject(response.status);\n            }\n            return response.text();\n          })\n          .then((data) => {\n            switch (fileType) {\n              case 'csv':\n                return d3.csvParse(data);\n              case 'json':\n                return JSON.parse(data);\n              default:\n                return data;\n            }\n          })\n          .catch(error => {                  \n            console.log(\"Catch Error, check CORS extension\")\n            context.dispatch(\"changedcorsError\", \"error\")\n          });\n      })).then((data) => {\n        let [manifest, resultsData, featuresData] = data;         \n        const checkData = () => {\n          const ManifestResultsClassifier = () => {\n            const mClassifiers = new Set(manifest.classifiers);\n            const rCLassifiers = new Set(resultsData.columns.filter((x: string) => !['id', 'actual'].includes(x)));\n            const mismatch = xor(mClassifiers, rCLassifiers);\n            if (mismatch.size > 0) {\n              console.error('Mismatch in classifiers from manifest and classifiers in results.csv columns headers.');\n            }\n          };\n          ManifestResultsClassifier();\n\n          const resultsFeaturesRows = () => {\n            if (resultsData.length !== featuresData.length) {\n              console.error('Number of rows in features and results is not equal.');\n            }\n          };\n          resultsFeaturesRows();\n\n          const resultsMissingValues = () => {\n            const rData: Array<{[key: string]: any}> = resultsData;\n            Object.values(rData).forEach((r) => {\n              Object.values(r).forEach((cellString: string) => {\n                if (cellString === '') {\n                  console.error('Empty cell in results.csv');\n                }\n              });\n            });\n          };\n          resultsMissingValues();\n        };\n        checkData();\n\n        const pathPieces = datasetPath.split('/');\n        const name = pathPieces[pathPieces.length - 2];\n        const classes: string[] = manifest.classes.map((c: any) => c.toString());\n        const classifiers: string[] = manifest.classifiers.map((c: any) => c.toString());\n        const featureNames: string[] = Object.keys(manifest.features).filter((f) => f !== 'id');\n\n        if (featureNames.includes('texts')) {\n          let tmp_features = []\n          featuresData.forEach((f)=>{\n            f['texts-length'] = f['texts'].length\n            tmp_features.push(f)\n          })\n          featuresData = tmp_features\n          manifest['features']['texts-length'] = {\n            'description': \"text length\",\n            'type': \"ratio\"\n          }\n        }\n\n        const instancesList = resultsData.map((i)=>i[classifiers[0]])\n        const uniqueList =  instancesList.filter(function(item, pos) {\n            return instancesList.indexOf(item) == pos;\n        })\n        \n        // record the views.all\n        this.state.views.all = [\n          VisualizationType.FI,\n          VisualizationType.CA,\n          VisualizationType.SCP,\n          VisualizationType.COV,\n          VisualizationType.CMG,\n          VisualizationType.FH,\n          VisualizationType.OCA,\n          VisualizationType.PCC,\n          VisualizationType.SP,\n          VisualizationType.SM,\n          VisualizationType.SMP,\n          VisualizationType.ITL,\n        ]\n        // judge the data type automatically\n        this.state.datasetType = 'discrete'\n        if (uniqueList.length > classes.length) {\n          this.state.datasetType = 'continuous'\n          this.state.views.all = [\n            VisualizationType.FI,\n            VisualizationType.CA,\n            VisualizationType.SCP,\n            VisualizationType.CC,\n            VisualizationType.RC,\n            VisualizationType.CB,\n            VisualizationType.BA,\n            VisualizationType.REC,\n            VisualizationType.TID,\n            VisualizationType.UM,\n            VisualizationType.CMG,\n            VisualizationType.FH,\n            VisualizationType.OCA,\n            VisualizationType.PCC,\n            VisualizationType.SP,\n            VisualizationType.SM,\n            VisualizationType.SMP,\n            VisualizationType.ITL\n          ]\n        } \n      \n        const instances: {[id: string]: Instance} = {};\n        resultsData.forEach((\n          result: {\n            id: string,\n            actual: string,\n            [classifier: string]: string,\n          },\n          index: number,\n        ) => {\n          const continuous_predictions = {};\n          const left_range = {};\n          const right_range = {};\n          classifiers.forEach((c)=>{\n              continuous_predictions[c] = parseFloat(result[c]).toFixed(3) + \"\"\n              left_range[c] = 0.05\n              right_range[c] = 0.05\n          })\n          // if in continuous mode, get the specific class according to the threshold\n          if (this.state.datasetType == \"continuous\") {\n            let tmp_thresholdsClassifier = []\n            classifiers.forEach((c)=>{\n              tmp_thresholdsClassifier.push(c+\"_\"+\"50\")\n            })\n            context.commit(\"setThresholdClassifierNameList\",tmp_thresholdsClassifier);\n\n            let tmp_classifierThresholds = {}\n            classifiers.forEach((c)=>{\n              tmp_classifierThresholds[c] = 50\n            })\n            context.commit(\"setClassifierThresholdDict\",tmp_classifierThresholds);\n            classifiers.forEach((c)=>{\n              if (parseFloat(result[c]) < this.state.classifierThresholdDict[c] / 100) {\n                result[c] = classes[0]\n              } else {\n                result[c] = classes[1]\n              }\n            })\n            \n            // also record the saved thresholdClassifier\n            this.state.thresholdClassifierNameList.forEach((c)=>{\n              let splitL = c.split(\"_\")\n              let classifier =c.substring(0,c.length-splitL[splitL.length-1].length-1)\n              let threshold = parseFloat(splitL[splitL.length-1])\n              if (parseFloat(continuous_predictions[classifier]) < threshold / 100) {\n                result[c] = classes[0]\n              } else {\n                result[c] = classes[1]\n              }\n            })\n          }\n          \n          \n          const {id: rId, actual, ...predictions} = result;\n          const {id: fId, ...features} = featuresData[index];\n          if (rId !== fId) {\n            console.error('Ids in results.csv and features.csv do not match.',rId,fId);\n            return;\n          }\n          instances[index] = {\n            actual,\n            predictions,\n            continuous_predictions,\n            left_range,\n            right_range,\n            features,\n          };\n        });\n\n        const addRandomClassifier = () => {\n          const randomClassifier = 'Random Classifier';\n          classifiers.unshift(randomClassifier);\n          Object.values(instances).forEach((i) => {\n            const randomClass = classes[Math.floor(Math.random() * classes.length)];\n            i.predictions[randomClassifier] = randomClass;\n          });\n        };\n        addRandomClassifier();\n\n        const addMajorityClassifier = () => {\n          const majorityClassifier = 'Majority Classifier';\n          classifiers.unshift(majorityClassifier);\n          const classCounts: { [className: string]: number } = {};\n          classes.forEach((className) => classCounts[className] = 0);\n          Object.values(instances).forEach((i) => classCounts[i.actual]++);\n          let majorityClass = Object.keys(classCounts)[0];\n          Object.keys(classCounts).forEach((className) => {\n            if (classCounts[className] > classCounts[majorityClass]) {\n              majorityClass = className;\n            }\n          });\n          Object.values(instances).forEach((id) => id.predictions[majorityClassifier] = majorityClass);\n        };\n        addMajorityClassifier();\n\n        const addOracle = () => {\n          const oracle = 'Oracle';\n          classifiers.unshift(oracle);\n          Object.values(instances).forEach((i) => i.predictions[oracle] = i.actual);\n        };\n        addOracle();\n\n        const featureObjects: {\n          [name: string]: Feature;\n        } = manifest.features;\n        const testFeatureObjects = () => {\n          const allowedTypes = [\n            'categorical',\n            'interval',\n            'nominal',\n            'ordinal',\n            'ratio',\n          ];\n          Object.keys(featureObjects).forEach((featureName: string) => {\n            const f = featureObjects[featureName];\n            if (!f.description) {\n              console.error(`Feature ${featureName} has no description.`);\n            }\n            if (!allowedTypes.includes(f.type)) {\n              console.error(`Feature ${featureName} does not have a valid type. It has type \"${f.type}\" instead`);\n            }\n          });\n        };\n        testFeatureObjects();\n\n        const parsedDataset = {\n          name,\n          classes,\n          classifiers,\n          features: featureObjects,\n          instances,\n        };\n        if (Object.keys(featureObjects).includes('train_or_test')) {\n          context.state.baseDataset = 'test';\n        } else {\n          context.state.baseDataset = 'both';\n        }\n        if(Object.keys(context.state.sampleDict).length != 0 ) {\n          context.state.baseDataset = 'sample';\n        }\n\n        context.commit('setChosenDataset', parsedDataset);\n        context.dispatch('resetSelectionHistory');\n\n\n        if (this.state.datasetType == 'continuous') {\n          context.dispatch(\"changedContinuousMetrics\");\n        }\n\n      });\n    },\n    updateWeightedMode(context) {\n      context.commit(\"setWeightMode\",'no');\n    },\n    updateWeightedMetrics(context) {\n      context.commit(\"setWeightMode\",'yes');\n\n      const selectionHistory  = this.state.selectionHistory;\n      const instances: string[] = [...this.getters.filteredInstances];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      const classifiers: string[] = ([...this.getters.filteredClassifiers])\n      const preContinuousMetrics = this.getters.continuous_metrics;\n\n      if (Object.keys(preContinuousMetrics).length == 0) {\n        return\n      }\n\n      let instant_variables = ['x_roc', 'y_roc', 'value_roc', 'x_pr', 'y_pr', 'line_roc', 'line_pr', 'auc_area', 'acc', \n            'cur_threshold', 'cur_uncertain', 'cur_left_edge', 'cur_right_edge',\n            'tp_instances','fp_instances','tn_instances','fn_instances', 'm_tp_instances', 'm_tn_instances', 'm_fp_instances', 'm_fn_instances', 'ins_per' ]\n      let changed_variables = ['tp','fp','tn','fn', 'm_tp', 'm_tn', 'm_fp', 'm_fn',  \n      'accuracy', 'mcc', 'precision', 'recall', 'f1']  \n      let changed_instances_set : string[]  =     ['tp_instances','fp_instances','tn_instances','fn_instances', 'm_tp_instances', 'm_tn_instances', 'm_fp_instances', 'm_fn_instances']\n      let predictions = {}\n\n      let instanceWeights = {};\n\n      instances.forEach((c)=>{\n        instanceWeights[c] = 1\n      })\n\n      selectionHistory.forEach((s)=>{\n        let tmp_instances = [...s.instances]\n        let weight = parseFloat((s.weight).toString())\n        tmp_instances.forEach((i)=>{\n          instanceWeights[i] += weight\n        })\n      })\n\n      classifiers.forEach((c)=>{\n        if (dummyClassifiers.includes(c)) {\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n          changed_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n        } else {\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n        }\n        changed_instances_set.forEach((cur_set)=>{\n          let cur_instances = [...predictions[c][cur_set]]\n          let cur_value = cur_set.substring(0, (cur_set.length)-10)\n          let count = 0\n          cur_instances.forEach((i)=>{\n            count += instanceWeights[i]\n          })\n          predictions[c][cur_value] = count\n        })\n        let real_tp = predictions[c].tp + predictions[c].m_tp;\n        let real_tn = predictions[c].tn + predictions[c].m_tn;\n        let real_fp = predictions[c].fp + predictions[c].m_fp;\n        let real_fn = predictions[c].fn + predictions[c].m_fn;\n        predictions[c].accuracy  = (real_tp + real_tn) / (real_tp + real_fp + real_tn + real_fn)       \n        predictions[c].precision = (real_tp)  / (real_tp + real_fp)   \n        predictions[c].recall = (real_tp) / (real_tp + real_fn)\n        predictions[c].f1 = (predictions[c].precision + predictions[c].recall == 0) ? 0 : 2 * predictions[c].precision * predictions[c].recall / (predictions[c].precision + predictions[c].recall)\n        if ((Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn))) == 0) {\n          predictions[c].mcc = 0;\n        } \n        if ((real_tp+real_fp)*(real_tp+real_fn)*(real_tn+real_fp)*(real_tn+real_fn) != 0) {\n          predictions[c].mcc = ((real_tp*real_tn-real_fp*real_fn) / Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn)))\n        } \n      })\n\n      context.commit(\"setWeightMetrics\", predictions)\n    },\n    updateContinuousMetrics(context) {\n      // call this function when bandwidth / threshold changes or when new thresholdclassifier being added\n      const classes: string[] = [...this.getters.filteredClasses];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      const classifiers: string[] = ([...this.getters.filteredClassifiers])\n      const instances: string[] = [...this.getters.filteredInstances];\n      const classifierThresholdDict = this.state.classifierThresholdDict;\n      const classifierBandWidthDict = this.state.classifierBandWidthDict;\n      const preContinuousMetrics = this.getters.continuous_metrics;\n      let addedThresholdClassifiers = this.state.addedThresholdClassifiers;\n      let instant_variables = ['x_roc', 'y_roc', 'value_roc', 'x_pr', 'y_pr', 'line_roc', 'line_pr', 'auc_area', 'acc']\n      let changed_variables = ['cur_threshold', 'cur_uncertain', 'cur_left_edge', 'cur_right_edge', \n      'tp','fp','tn','fn', 'm_tp', 'm_tn', 'm_fp', 'm_fn',  \n      'tp_instances','fp_instances','tn_instances','fn_instances', 'm_tp_instances', 'm_tn_instances', 'm_fp_instances', 'm_fn_instances',\n      'accuracy', 'mcc', 'precision', 'recall', 'f1', 'mcc', 'ins_per' ]      \n\n      let predictions = {}\n      classifiers.forEach((c)=>{\n        if (dummyClassifiers.includes(c)) {\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n          changed_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n        }\n        else if (Math.abs(preContinuousMetrics[c].cur_threshold - classifierThresholdDict[c]/ 100) < 0.0001\n          && (!Object.keys(classifierBandWidthDict).includes(c) || Math.abs(preContinuousMetrics[c].cur_left_edge - classifierBandWidthDict[c].left_range) < 0.0001)\n          && (!Object.keys(classifierBandWidthDict).includes(c) || Math.abs(preContinuousMetrics[c].cur_right_edge - classifierBandWidthDict[c].right_range) < 0.0001)){\n            predictions[c] = {}\n            instant_variables.forEach((v)=>{\n              predictions[c][v] = preContinuousMetrics[c][v]\n            })\n            changed_variables.forEach((v)=>{\n              predictions[c][v] = preContinuousMetrics[c][v]\n            })\n        } else {\n          var mse = 0;\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n          changed_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n          predictions[c].m_tp = 0\n          predictions[c].m_tn = 0\n          predictions[c].m_fp = 0\n          predictions[c].m_fn = 0\n          predictions[c].tp = 0\n          predictions[c].tn = 0\n          predictions[c].fp = 0\n          predictions[c].fn = 0\n          predictions[c].m_tp_instances = new Set()\n          predictions[c].m_tn_instances = new Set()\n          predictions[c].m_fp_instances = new Set()\n          predictions[c].m_fn_instances = new Set()\n          predictions[c].tp_instances = new Set()\n          predictions[c].tn_instances = new Set()\n          predictions[c].fp_instances = new Set()\n          predictions[c].fn_instances = new Set()\n          predictions[c].cur_threshold = classifierThresholdDict[c]/100\n\n          if (Object.keys(classifierBandWidthDict).includes(c)) {\n            predictions[c].cur_left_edge = classifierBandWidthDict[c].left_range;\n            predictions[c].cur_right_edge = classifierBandWidthDict[c].right_range;\n          } else {\n            predictions[c].cur_left_edge = (predictions[c].cur_threshold - 0.05 < 0? 0 : predictions[c].cur_threshold - 0.05);\n            predictions[c].cur_right_edge = (predictions[c].cur_threshold + 0.05 > 1 ? 1 : predictions[c].cur_threshold + 0.05);\n          }\n          predictions[c].cur_left_edge = parseFloat(predictions[c].cur_left_edge.toFixed(2))\n          predictions[c].cur_right_edge = parseFloat(predictions[c].cur_right_edge.toFixed(2))\n          predictions[c].cur_uncertain = (predictions[c].cur_left_edge).toFixed(2) + '-' + (predictions[c].cur_right_edge).toFixed(2);\n          instances.forEach((id)=>{\n            const i = instanceById(id);\n            const actual = i.actual == classes[1] ? 1 : 0;\n            const predict_prob = i.continuous_predictions[c];\n            mse = mse + ((i.continuous_predictions[c] - actual) * (i.continuous_predictions[c] - actual))\n            if (predict_prob < predictions[c].cur_right_edge && predict_prob > predictions[c].cur_left_edge) {\n              if (actual == 0) {\n                if (predict_prob < predictions[c].cur_threshold) {\n                  predictions[c].m_tn += 1\n                  predictions[c].m_tn_instances.add(id)\n                } else {\n                  predictions[c].m_fp += 1\n                  predictions[c].m_fp_instances.add(id)\n                }\n              } else {\n                if (predict_prob >= predictions[c].cur_threshold) {\n                  predictions[c].m_tp += 1\n                  predictions[c].m_tp_instances.add(id)\n                } else {\n                  predictions[c].m_fn += 1\n                  predictions[c].m_fn_instances.add(id)\n                }\n              }\n            } else{\n              if (actual == 0) {\n                if (predict_prob < predictions[c].cur_left_edge) {\n                  predictions[c].tn += 1\n                  predictions[c].tn_instances.add(id)\n                } else {\n                  predictions[c].fp += 1\n                  predictions[c].fp_instances.add(id)\n                }\n              } else {\n                if (predict_prob >= predictions[c].cur_right_edge) {\n                  predictions[c].tp += 1\n                  predictions[c].tp_instances.add(id)\n                } else {\n                  predictions[c].fn += 1\n                  predictions[c].fn_instances.add(id)\n                }\n              }\n            }\n\n          })\n          let real_tp = predictions[c].tp + predictions[c].m_tp;\n          let real_tn = predictions[c].tn + predictions[c].m_tn;\n          let real_fp = predictions[c].fp + predictions[c].m_fp;\n          let real_fn = predictions[c].fn + predictions[c].m_fn;\n          let precentage = ((predictions[c].tp + predictions[c].fp + predictions[c].tn + predictions[c].fn ) / instances.length).toFixed(2);\n          predictions[c].ins_per = precentage\n          predictions[c].mse = mse\n          predictions[c].accuracy  = (real_tp + real_tn) / (real_tp + real_fp + real_tn + real_fn)       \n          predictions[c].precision = (real_tp)  / (real_tp + real_fp)   \n          predictions[c].recall = (real_tp) / (real_tp + real_fn)\n          predictions[c].f1 = (predictions[c].precision + predictions[c].recall == 0) ? 0 : 2 * predictions[c].precision * predictions[c].recall / (predictions[c].precision + predictions[c].recall)\n          if ((Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn))) == 0) {\n            predictions[c].mcc = 0;\n          } \n          if ((real_tp+real_fp)*(real_tp+real_fn)*(real_tn+real_fp)*(real_tn+real_fn) != 0) {\n            predictions[c].mcc = ((real_tp*real_tn-real_fp*real_fn) / Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn)))\n          } \n        }\n      })\n\n      if (addedThresholdClassifiers === null ) {\n        addedThresholdClassifiers = []\n      }\n      addedThresholdClassifiers.forEach((c)=>{\n        c = c.name\n        if (Object.keys(preContinuousMetrics).includes(c)) {\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n          changed_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[c][v]\n          })\n        } else {\n          let origin_classifier = c.substring(4,c.length-5)\n          let threshold = parseFloat(c.substring(c.length-4,c.legend))\n          predictions[c] = {}\n          instant_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[origin_classifier][v]\n          })\n          changed_variables.forEach((v)=>{\n            predictions[c][v] = preContinuousMetrics[origin_classifier][v]\n          })\n          predictions[c].m_tp = 0\n          predictions[c].m_tn = 0\n          predictions[c].m_fp = 0\n          predictions[c].m_fn = 0\n          predictions[c].tp = 0\n          predictions[c].tn = 0\n          predictions[c].fp = 0\n          predictions[c].fn = 0\n          predictions[c].m_tp_instances = new Set()\n          predictions[c].m_tn_instances = new Set()\n          predictions[c].m_fp_instances = new Set()\n          predictions[c].m_fn_instances = new Set()\n          predictions[c].tp_instances = new Set()\n          predictions[c].tn_instances = new Set()\n          predictions[c].fp_instances = new Set()\n          predictions[c].fn_instances = new Set()\n          predictions[c].cur_threshold = threshold\n          if (Object.keys(classifierBandWidthDict).includes(c)) {\n            predictions[c].cur_left_edge = classifierBandWidthDict[c].left_range;\n            predictions[c].cur_right_edge = classifierBandWidthDict[c].right_range;\n          } \n          predictions[c].cur_left_edge = predictions[c].cur_threshold - 0.05 < 0 ? 0 : predictions[c].cur_threshold - 0.05;\n          predictions[c].cur_right_edge = predictions[c].cur_threshold + 0.05 > 1 ? 1 : predictions[c].cur_threshold + 0.05;\n          predictions[c].cur_uncertain = predictions[c].cur_left_edge + '-' + predictions[c].cur_right_edge;\n\n          predictions[c].cur_left_edge = parseFloat(predictions[c].cur_left_edge.toFixed(2))\n          predictions[c].cur_right_edge = parseFloat(predictions[c].cur_right_edge.toFixed(2))\n          instances.forEach((id)=>{\n            const i = instanceById(id);\n            const actual = i.actual == classes[1] ? 1 : 0;\n            const predict_prob = i.continuous_predictions[origin_classifier];\n            if (predict_prob <= predictions[c].cur_right_edge && predict_prob >= predictions[c].cur_left_edge) {\n              if (actual == 0) {\n                if (predict_prob < predictions[c].cur_threshold) {\n                  predictions[c].m_tn += 1\n                  predictions[c].m_tn_instances.add(id)\n                } else {\n                  predictions[c].m_fp += 1\n                  predictions[c].m_fp_instances.add(id)\n                }\n              } else {\n                if (predict_prob >= predictions[c].cur_threshold) {\n                  predictions[c].m_tp += 1\n                  predictions[c].m_tp_instances.add(id)\n                } else {\n                  predictions[c].m_fn += 1\n                  predictions[c].m_fn_instances.add(id)\n                }\n              }\n            } else{\n              if (actual == 0) {\n                if (predict_prob < predictions[c].cur_left_edge) {\n                  predictions[c].tn += 1\n                  predictions[c].tn_instances.add(id)\n                } else {\n                  predictions[c].fp += 1\n                  predictions[c].fp_instances.add(id)\n                }\n              } else {\n                if (predict_prob >= predictions[c].cur_right_edge) {\n                  predictions[c].tp += 1\n                  predictions[c].tp_instances.add(id)\n                } else {\n                  predictions[c].fn += 1\n                  predictions[c].fn_instances.add(id)\n                }\n              }\n            }\n\n          })\n          let real_tp = predictions[c].tp + predictions[c].m_tp;\n          let real_tn = predictions[c].tn + predictions[c].m_tn;\n          let real_fp = predictions[c].fp + predictions[c].m_fp;\n          let real_fn = predictions[c].fn + predictions[c].m_fn;\n          let precentage = ((predictions[c].tp + predictions[c].fp + predictions[c].tn + predictions[c].fn ) / instances.length).toFixed(2);\n          predictions[c].ins_per = precentage\n          predictions[c].accuracy  = (real_tp + real_tn) / (real_tp + real_fp + real_tn + real_fn)       \n          predictions[c].precision = (real_tp)  / (real_tp + real_fp)   \n          predictions[c].recall = (real_tp) / (real_tp + real_fn)\n          predictions[c].f1 = (predictions[c].precision + predictions[c].recall == 0) ? 0 : 2 * predictions[c].precision * predictions[c].recall / (predictions[c].precision + predictions[c].recall)\n          if ((Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn))) == 0) {\n            predictions[c].mcc = 0;\n          } \n          if ((real_tp+real_fp)*(real_tp+real_fn)*(real_tn+real_fp)*(real_tn+real_fn) != 0) {\n            predictions[c].mcc = ((real_tp*real_tn-real_fp*real_fn) / Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn)))\n          } \n        }\n      })\n      context.commit(\"setContinuousMetrics\", predictions)\n    },\n    changedContinuousMetrics(context) {\n      // call this function when new classifier have been added\n      const predictions: {\n        [classifier: string]: {\n          x_roc: Number[],\n          y_roc: Number[],\n          value_roc: Number[],\n          x_pr: Number[],\n          y_pr: Number[],\n          acc:Number[],\n          line_roc: string,\n          line_pr: string,\n          auc_area: number,\n          cur_threshold: number,\n          cur_uncertain: string,\n          cur_left_edge: number,\n          cur_right_edge: number,\n          tp: number,\n          tn: number,\n          fp: number,\n          fn: number,\n          m_tp: number,\n          m_tn: number,\n          m_fp: number,\n          m_fn: number, \n          tp_instances: Set<string>,\n          tn_instances: Set<string>,\n          fn_instances: Set<string>,\n          fp_instances: Set<string>,\n          m_tp_instances: Set<string>,\n          m_tn_instances: Set<string>,\n          m_fn_instances: Set<string>,\n          m_fp_instances: Set<string>,\n          accuracy: number,\n          mcc: number,\n          precision: number,\n          recall: number,\n          f1: number    ,        \n          mse:number,\n          ins_per: string\n        },\n      } = {};\n\n      var classifierValues = {}\n      const classes: string[] = [...this.getters.filteredClasses];\n      const classifiers: string[] = [...this.getters.filteredClassifiers];\n      const instances: string[] = [...this.getters.filteredInstances];\n      const classifierThresholdDict = this.state.classifierThresholdDict;\n      const classifierBandWidthDict = this.state.classifierBandWidthDict;\n      var classifierThresholdKey = []\n      const formatDecimal = d3.format(\".4f\")\n      for (var i in classifierThresholdDict) {\n        classifierThresholdKey.push(i)\n      }\n\n      classifiers.forEach((c) => {\n        predictions[c] = {\n          x_roc: [],\n          y_roc: [],\n          value_roc:[],\n          x_pr: [],\n          y_pr: [],\n          acc: [],\n          line_roc: \"\",\n          line_pr: \"\",\n          auc_area: 0,\n          cur_threshold: 0,\n          cur_uncertain: '',\n          cur_left_edge: 0,\n          cur_right_edge: 0,\n          tp: 0,\n          tn: 0,\n          fp: 0,\n          fn: 0,\n          m_tp: 0,\n          m_tn: 0,\n          m_fp: 0,\n          m_fn: 0,\n          tp_instances: new Set(),\n          tn_instances: new Set(),\n          fn_instances: new Set(),\n          fp_instances: new Set(),\n          m_tp_instances: new Set(),\n          m_tn_instances: new Set(),\n          m_fn_instances: new Set(),\n          m_fp_instances: new Set(),\n          accuracy: 0,\n          mcc: 0,\n          precision: 0,\n          recall: 0,\n          f1: 0,    \n          mse:0,\n          ins_per:'0'\n        };\n        classifierValues[c] = []\n      });\n\n\n      let begin = 0;\n      let end = 1;\n      let diff = 0.01;\n      while(begin <= end) {\n        classifiers.forEach((c)=>{\n          classifierValues[c].push(begin.toFixed(3))\n        })\n        begin += diff\n      }\n\n      classifiers.forEach((c)=>{\n        var coordinates = []\n        var mse = 0;\n        classifierValues[c].sort();\n        if (classifierThresholdKey.length == 0) predictions[c].cur_threshold = 0;\n        else predictions[c].cur_threshold = classifierThresholdDict[c]/100\n        if (Object.keys(classifierBandWidthDict).includes(c)) {\n          predictions[c].cur_left_edge = classifierBandWidthDict[c].left_range;\n          predictions[c].cur_right_edge = classifierBandWidthDict[c].right_range;\n        } else{\n          predictions[c].cur_left_edge = (predictions[c].cur_threshold - 0.05) < 0 ? 0 : predictions[c].cur_threshold - 0.05;\n          predictions[c].cur_right_edge = predictions[c].cur_threshold + 0.05 > 1 ? 1 : predictions[c].cur_threshold + 0.05;\n        }\n        predictions[c].cur_left_edge = parseFloat(predictions[c].cur_left_edge.toFixed(2))\n        predictions[c].cur_right_edge = parseFloat(predictions[c].cur_right_edge.toFixed(2))\n        predictions[c].cur_uncertain = predictions[c].cur_left_edge + '-' + predictions[c].cur_right_edge;\n        instances.forEach((id)=>{\n          const i = instanceById(id);\n          const actual = i.actual == classes[1] ? 1 : 0;\n          const predict_prob = i.continuous_predictions[c];\n          mse = mse + ((i.continuous_predictions[c] - actual) * (i.continuous_predictions[c] - actual))\n          if (predict_prob < predictions[c].cur_right_edge && predict_prob > predictions[c].cur_left_edge) {\n            if (actual == 0) {\n              if (predict_prob < predictions[c].cur_threshold) {\n                predictions[c].m_tn += 1\n                predictions[c].m_tn_instances.add(id)\n              } else {\n                predictions[c].m_fp += 1\n                predictions[c].m_fp_instances.add(id)\n              }\n            } else {\n              if (predict_prob >= predictions[c].cur_threshold) {\n                predictions[c].m_tp += 1\n                predictions[c].m_tp_instances.add(id)\n              } else {\n                predictions[c].m_fn += 1\n                predictions[c].m_fn_instances.add(id)\n              }\n            }\n          } else{\n            if (actual == 0) {\n              if (predict_prob < predictions[c].cur_threshold) {\n                predictions[c].tn += 1\n                predictions[c].tn_instances.add(id)\n              } else {\n                predictions[c].fp += 1\n                predictions[c].fp_instances.add(id)\n              }\n            } else {\n              if (predict_prob >= predictions[c].cur_threshold) {\n                predictions[c].tp += 1\n                predictions[c].tp_instances.add(id)\n              } else {\n                predictions[c].fn += 1\n                predictions[c].fn_instances.add(id)\n              }\n            }\n          }\n\n        })\n        let real_tp = predictions[c].tp + predictions[c].m_tp;\n        let real_tn = predictions[c].tn + predictions[c].m_tn;\n        let real_fp = predictions[c].fp + predictions[c].m_fp;\n        let real_fn = predictions[c].fn + predictions[c].m_fn;\n        let precentage = ((predictions[c].tp + predictions[c].fp + predictions[c].tn + predictions[c].fn ) / instances.length).toFixed(2);\n        predictions[c].ins_per = precentage\n        predictions[c].mse = mse\n        predictions[c].accuracy  = (real_tp + real_tn) / (real_tp + real_fp + real_tn + real_fn)       \n        predictions[c].precision = (real_tp)  / (real_tp + real_fp)   \n        predictions[c].recall = (real_tp) / (real_tp + real_fn)\n        predictions[c].f1 = (predictions[c].precision + predictions[c].recall == 0) ? 0 : 2 * predictions[c].precision * predictions[c].recall / (predictions[c].precision + predictions[c].recall)\n        if ((Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn))) == 0) {\n          predictions[c].mcc = 0;\n        } \n        if ((real_tp+real_fp)*(real_tp+real_fn)*(real_tn+real_fp)*(real_tn+real_fn) != 0) {\n          predictions[c].mcc = ((real_tp*real_tn-real_fp*real_fn) / Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn)))\n        } \n\n        let last_acc = 0\n        let last_value = '0'\n        let PerfCalculation = (value:string) =>{\n          let tp = 0;\n          let fp = 0;\n          let fn = 0;\n          let tn = 0;\n          instances.forEach((id)=>{\n            const i = instanceById(id);\n            const predict = i.continuous_predictions[c] < parseFloat(value) ? classes[0] : classes[1];\n            if (i.actual == classes[1]) {\n              if (predict == i.actual) {\n                tp+=1;\n              } else {\n                fn+=1;\n              }\n            } else {\n              if (predict == i.actual) {\n                tn+=1;\n              } else {\n                fp+=1;\n              }\n            }\n          })\n          return [tp, tn, fp, fn]\n        }\n        let addNewValues = (tp:number, tn:number, fp:number, fn:number, value:number)=>{\n          coordinates.push({\"x\":fp/(fp+tn), \"y\":tp/(tp+fn)});\n          predictions[c].x_roc.push((fp/(fp+tn)))\n          predictions[c].y_roc.push((tp/(tp+fn)))\n          predictions[c].value_roc.push(value)\n          predictions[c].x_pr.push((tp/(tp+fn)))\n          predictions[c].y_pr.push((tp/(tp+fp)))\n          predictions[c].acc.push((tn+tp)/(tn+tp+fn+fp))\n        }\n\n        function adaptSampling(low, high, pre, cur, count) {\n          if (count > 100) {\n            return\n          }\n          if (Math.abs (pre- cur) / pre > 0.5) {\n            let mid = ((parseFloat(high) + parseFloat(low)) / 2).toString()\n            let tmp_perf = PerfCalculation(mid)\n            let mid_value = (tmp_perf[0]+tmp_perf[1])/(tmp_perf[1]+tmp_perf[0]+tmp_perf[2]+tmp_perf[3])\n            \n            if (Math.abs(mid_value - pre) / pre > 0.5){\n              adaptSampling(low, mid, pre, mid_value, count + 1)\n              addNewValues(tmp_perf[0], tmp_perf[1], tmp_perf[2], tmp_perf[3], parseFloat(mid))\n            }\n            if (Math.abs(cur - mid_value) / cur > 0.5){\n              addNewValues(tmp_perf[0], tmp_perf[1], tmp_perf[2], tmp_perf[3], parseFloat(mid))\n              adaptSampling(mid, high,mid_value, cur, count + 1)\n            }\n          } \n          return \n        }\n \n        classifierValues[c].forEach((value, idx)=>{\n          value = formatDecimal(value)\n          let perf = PerfCalculation(value)\n          let tp = perf[0];\n          let tn = perf[1];\n          let fp = perf[2];\n          let fn = perf[3];\n          \n          if (idx == 0) {\n            last_acc = (tn+tp)/(tn+tp+fn+fp)\n            last_value = value\n          } else {\n            let cur = (tn+tp)/(tn+tp+fn+fp)\n            adaptSampling(last_value, value, last_acc, cur, 0)\n            last_acc = cur\n            last_value = value\n          }\n         \n          addNewValues(tp, tn, fp, fn, value)\n        })\n\n        predictions[c].auc_area = 0;\n        var lastx = 0;\n        var lasty = 0;\n        coordinates.sort(function(x, y){\n          return d3.ascending(x.x, y.x);\n        })\n        coordinates.forEach((cor)=>{\n          predictions[c].auc_area += (((cor.y + lasty) * (cor.x - lastx) / 2))\n          lastx = cor.x;\n          lasty = cor.y;\n        })\n      })\n\n      context.commit(\"setContinuousMetrics\", predictions)\n      \n    },\n    changedDatasetContinuous(context) {\n      const curClassifier = this.state.chosenClassifierThresholdTuple.classifier;\n      const curThreshold = this.state.chosenClassifierThresholdTuple.single_threshold;\n\n      let tmp_classifierThresholds  = this.state.classifierThresholdDict;\n      let tmp_thresholdsClassifier = this.state.thresholdClassifierNameList.map((d)=>d)\n      tmp_classifierThresholds[curClassifier] = curThreshold\n      context.commit(\"setClassifierThresholdDict\",tmp_classifierThresholds);\n      context.dispatch(\"updateContinuousMetrics\")\n\n      for (let i in tmp_thresholdsClassifier) {\n        let c = tmp_thresholdsClassifier[i]\n        if (c.indexOf(curClassifier)==0) {\n          tmp_thresholdsClassifier[i] = curClassifier + \"_\" + curThreshold\n        }\n      }\n      context.commit(\"setThresholdClassifierNameList\",tmp_thresholdsClassifier);\n\n      const classes = this.state.chosenDataset.classes\n      const classifiers = this.state.chosenDataset.classifiers\n      const instances = this.state.chosenDataset.instances\n      \n      for (let j in classifiers) {\n        let c = classifiers[j]\n        if (c!=curClassifier) {\n          continue\n        }\n        let tmp_predictions = []\n        for (let i in instances) {\n          const continuous_predictions = instances[i].continuous_predictions\n          if (parseFloat(continuous_predictions[c]) < curThreshold / 100) {\n            tmp_predictions.push(classes[0])\n            instances[i].predictions[c] = classes[0]\n          } else {\n            tmp_predictions.push(classes[1])\n            instances[i].predictions[c] = classes[1]\n          }\n        }\n      }\n    },\n    changedFilter(\n      context,\n      payload: {\n        entityType: EntityType,\n        newFilter: {\n          type: SelectionAction,\n          set: Set<string>,\n        },\n      },\n    ) {\n      context.commit('setFilter', payload);\n    },\n    changedHoverInstance(context, id) {\n      context.commit('setHoverInstance', id);\n    },\n    changedMostRecentSelection(context, whichOverlap: 'first' | 'second') {\n      const mostRecentSelection = context.state.selectionHistory[0];\n      context.dispatch('changedOverlapSelection', {\n        selection: mostRecentSelection,\n        whichOverlap,\n      });\n    },\n    setFocusItem(context, id){\n      context.commit('mutateFocusItem', id)\n    },\n    changeFocusSet(context, id){\n      context.commit('mutateFocusSet', id)\n    },\n  },\n  getters: {\n    curveChosenClassifierThresholdTuple(state) {\n      return state.curveChosenClassifierThresholdTuple;\n    },\n    classifierBandWidthDict(state) {\n      return state.classifierBandWidthDict;\n    },\n    withinClassifierBandWidthList(state) {\n      return state.withinClassifierBandWidthList;\n    },\n    withinClassifierName(state) {\n      return state.withinClassifierName;\n    },\n    classifierThresholdDict(state) {\n      return state.classifierThresholdDict;\n    },\n    thresholdClassifierNameList(state) {\n      return state.thresholdClassifierNameList;\n    },\n    classifierThresholdList(state,getters): ThresholdWithClassifier[] {\n      const allClassifiers: string[] = [...getters.filteredClassifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      const realClassifiers = allClassifiers.filter((c) => !dummyClassifiers.includes(c) && c!=\"\");\n      const thresholdClassifier: ThresholdWithClassifier[]= realClassifiers.map((c)=> {\n        return {\n          classifier: c,\n          single_threshold: 50,\n        };\n      });\n      return thresholdClassifier;\n    },\n    continuousThresholdClassifiers(state) {\n      return new Set(state.chosenDataset.classifiers);\n    },\n    datasetType(state) {\n      return state.datasetType;\n    },\n    fixedDataset(state) {\n      return state.fixedDataset\n    },\n    viewWidth(state) {\n      return state.viewWidth;\n    },\n    intersectionMode(state) {\n      return state.intersectionMode;\n    },\n    classes(state): Set<string> {\n      return new Set(state.chosenDataset.classes);\n    },\n    classifiers(state): Set<string> {\n      return new Set(state.chosenDataset.classifiers);\n    },\n    feature(state): (id: string) => Feature {\n      return (id: string) => state.chosenDataset.features[id];\n    },\n    features(state): Set<string> {\n      return new Set(Object.keys(state.chosenDataset.features));\n    },\n    instance(state): (id: string) => Instance {\n      return (id: string) => state.chosenDataset.instances[id];\n    },\n    instances(state): Set<string> {\n      return state.baseSelection.instances;\n    },\n    filteredClasses(state, getters): Set<string> {\n      const classesToExclude = state.filters.class.set;\n      const classes = getters.classes;\n      const filteredClasses = difference(classes, classesToExclude);\n      return filteredClasses;\n    },\n    filteredClassifiers(state, getters): Set<string> {\n      const classifiersToExclude = state.filters.classifier.set;\n      const classifiers = getters.classifiers;\n      const filteredClassifiers = difference(classifiers, classifiersToExclude);\n      return filteredClassifiers;\n    },\n    filteredInstances(state, getters): Set<string> {\n      let filteredInstances: string[] = [...getters.instances];\n      const trainOrTest = 'train_or_test';\n      switch (state.baseDataset) {\n        case 'test':\n          if (state.currentChosenFold != '') {\n            state.validationList.forEach((fold)=>{\n              if (fold.name == state.currentChosenFold) {\n                filteredInstances = [...fold.testing];\n              }\n            })\n          } else {\n            filteredInstances = filteredInstances.filter((i) => {\n              return instanceById(i).features[trainOrTest] === 'test' ||\n                instanceById(i).features[trainOrTest] === '0';\n            });\n          }\n          break;\n        case 'train':\n          if (state.currentChosenFold != '') {\n              state.validationList.forEach((fold)=>{\n                if (fold.name == state.currentChosenFold) {\n                  filteredInstances = [...fold.training];\n                }\n              })\n          } else {\n            filteredInstances = filteredInstances.filter((i) => {\n              return instanceById(i).features[trainOrTest] === 'train' ||\n                instanceById(i).features[trainOrTest] === '1';\n            });\n          }\n          break;\n        case 'sample':\n          filteredInstances = [...state.sampleDict['instances']]\n          break;\n      }\n      return new Set(filteredInstances);\n    },\n    additionMetrics(state, getters): {\n      [classifier: string]: Metrics,\n    }  {\n      const classes: string[] = [...getters.filteredClasses];\n      const classifiers: string[] = state.addedThresholdClassifiers;\n      const instances: string[] = [...getters.filteredInstances];\n\n      const metrics: {\n        [classifier: string]: Metrics,\n      } = {};\n      \n      classifiers.forEach((additionC) => {\n        // create all metrics\n        let c = additionC['name']\n        let classifier = c.substring(4,c.length-5)\n        let threshold = parseFloat(c.substring(c.length-4,c.length))\n\n        metrics[c] = {\n          accuracy: -1,\n          acc: { average: -1 },\n          mcc: { average: -1 },\n          f1: { average: -1 },\n          microf1: { average: -1 },\n          macrof1: { average: -1 },\n          precision: { average: -1 },\n          recall: { average: -1 },\n          predicted: {},\n          actual: {},\n          false: {},\n          true: {},\n          tp: {},\n          fp: {},\n          fn: {},\n          tn: {},\n        };\n        const m = metrics[c];\n        // actual and predicted of a class\n        classes.forEach((actualClass) => {\n          m.actual[actualClass] = new Set(instances.filter((i) => instanceById(i).actual === actualClass));\n        });\n        classes.forEach((predictedClass) => {\n          m.predicted[predictedClass] = new Set(instances.filter((i) =>\n            predictedClass == classes[0] ? instanceById(i).continuous_predictions[classifier] <= threshold\n                                      : instanceById(i).continuous_predictions[classifier] > threshold\n            // instanceById(i).predictions[classifier] === predictedClass\n            ));\n        });\n        \n        \n        classes.forEach((actualClass) => {\n          m.true[actualClass] = intersection(m.actual[actualClass], m.predicted[actualClass]);\n        });\n        classes.forEach((actualClass) => {\n          m.false[actualClass] = difference(m.predicted[actualClass], m.actual[actualClass]);\n        });\n\n        classes.forEach((actualClass)=>{\n          m.tp[actualClass]  = new Set();\n          m.fp[actualClass]  = new Set();\n          m.fn[actualClass]  = new Set();\n          m.tn[actualClass]  = new Set();\n        })\n\n        instances.forEach((id) => {\n          const i = instanceById(id);\n          var c = classifier\n          if (i.actual == classes[1]) {\n              if (i.continuous_predictions[c] >= threshold) {\n                m.tp[classes[1]].add(id);\n              } else {\n                m.fn[classes[1]].add(id);\n              }\n          } else {\n            if (i.continuous_predictions[c] < threshold) {\n              m.tn[classes[1]].add(id);\n            } else {\n              m.fp[classes[1]].add(id);\n            }\n          }\n        })\n        \n        // accuracy\n        let totalTrue = 0;\n        classes.forEach((actualClass) => {\n          totalTrue += m.true[actualClass].size;\n        });\n        m.accuracy = totalTrue / instances.length;\n\n\n        // precision pre class\n        var className = classes[1]\n        m.precision[className] =  m.tp[className].size / (m.tp[className].size + m.fp[className].size);\n        m.precision[classes[0]] = 1-m.precision[className];\n        m.precision.average = m.precision[className] \n        \n        \n\n        \n        // recall pre class\n        var className = classes[1]\n        m.recall[className] =  m.tp[className].size / (m.tp[className].size + m.fn[className].size);\n        m.recall[classes[0]] = 1-m.recall[className];\n        m.recall.average = m.recall[className] \n        \n        \n        // f1\n        var className = classes[1]\n        const p = m.precision[className];\n        const r = m.recall[className];\n        m.f1[className] = 2 * p * r / (p + r);\n        m.f1[classes[0]] = 2 * (1-p)*(1-r) / (2-p-r)\n        m.f1.average = m.f1[className]\n\n        \n        // mcc\n        var className = classes[1]\n        var tp = m.tp[className].size;\n        var tn = m.tn[className].size;\n        var fp = m.fp[className].size;\n        var fn = m.fn[className].size;\n        if ((Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn))) == 0) {\n          m.mcc.average = 0;\n        } \n        if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n          m.mcc.average = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n        } \n      });\n\n      return metrics;\n    },\n    metrics(state, getters): {\n      [classifier: string]: Metrics,\n    }  {\n      const classes: string[] = [...getters.filteredClasses];\n      const classifiers: string[] = [...getters.filteredClassifiers];\n      const instances: string[] = [...getters.filteredInstances];\n\n      const metrics: {\n        [classifier: string]: Metrics,\n      } = {};\n      classifiers.forEach((classifier) => {\n        // create all metrics\n        metrics[classifier] = {\n          accuracy: -1,\n          acc: { average: -1 },\n          mcc: { average: -1 },\n          f1: { average: -1 },\n          microf1: { average: -1 },\n          macrof1: { average: -1 },\n          precision: { average: -1 },\n          recall: { average: -1 },\n          predicted: {},\n          actual: {},\n          false: {},\n          true: {},\n          tp: {},\n          fp: {},\n          fn: {},\n          tn: {},\n        };\n        const m = metrics[classifier];\n        // actual and predicted of a class\n        classes.forEach((actualClass) => {\n          m.actual[actualClass] = new Set(instances.filter((i) => instanceById(i).actual === actualClass));\n        });\n        classes.forEach((predictedClass) => {\n          m.predicted[predictedClass] = new Set(instances.filter((i) =>\n            instanceById(i).predictions[classifier] === predictedClass));\n        });\n        \n        // true false per class \n        if (classes.length > 2) {\n          classes.forEach((actualClass) => {\n            var cur_predictions = [...m.predicted[actualClass]]\n            var cur_actuals = [...m.actual[actualClass]]\n            m.true[actualClass] = intersection(m.actual[actualClass], m.predicted[actualClass]);\n            m.tp[actualClass] = m.true[actualClass];\n            m.fp[actualClass] = new Set(cur_predictions.filter((i) => !cur_actuals.includes(i)));\n            m.fn[actualClass] = new Set(cur_actuals.filter((i) => !cur_predictions.includes(i)));\n          });\n          classes.forEach((actualClass) => {\n            m.false[actualClass] = difference(m.predicted[actualClass], m.actual[actualClass]);\n          });\n  \n          classes.forEach((actualClass)=>{\n            m.tn[actualClass]  = new Set();\n            classes.forEach((restClass)=>{\n              if (restClass != actualClass) {\n                m.tn[actualClass]  = new Set([...m.tn[actualClass], ...m.tp[restClass]])\n              }\n            })\n          })\n        } else {\n          classes.forEach((actualClass) => {\n            m.true[actualClass] = intersection(m.actual[actualClass], m.predicted[actualClass]);\n          });\n          classes.forEach((actualClass) => {\n            m.false[actualClass] = difference(m.predicted[actualClass], m.actual[actualClass]);\n          });\n  \n          classes.forEach((actualClass)=>{\n            m.tp[actualClass]  = new Set();\n            m.fp[actualClass]  = new Set();\n            m.fn[actualClass]  = new Set();\n            m.tn[actualClass]  = new Set();\n          })\n\n          instances.forEach((id) => {\n            const i = instanceById(id);\n            var c = classifier\n            if (i.actual == classes[1]) {\n                if (i.predictions[c] == i.actual) {\n                  m.tp[classes[1]].add(id);\n                } else {\n                  m.fn[classes[1]].add(id);\n                }\n              } else {\n                if (i.predictions[c] == i.actual) {\n                  m.tn[classes[1]].add(id);\n                } else {\n                  m.fp[classes[1]].add(id);\n                }\n              }\n          })\n        }\n        // accuracy\n        let totalTrue = 0;\n        classes.forEach((actualClass) => {\n          totalTrue += m.true[actualClass].size;\n        });\n        m.accuracy = totalTrue / instances.length;\n\n\n        // precision pre class\n        if (classes.length > 2) {\n          let precisionSum = 0;\n          classes.forEach((className) => {\n            m.precision[className] = m.tp[className].size / (m.tp[className].size + m.fp[className].size);\n            precisionSum += m.precision[className];\n          });\n          m.precision.average = precisionSum / classes.length;\n        } else {\n          var className = classes[1]\n          m.precision[className] =  m.tp[className].size / (m.tp[className].size + m.fp[className].size);\n          m.precision[classes[0]] = 1-m.precision[className];\n          m.precision.average = m.precision[className] \n        }\n        \n\n        \n        // recall pre class\n        if (classes.length > 2) {\n          let recallSum = 0;\n          classes.forEach((className) => {\n            m.recall[className] = m.tp[className].size / (m.tp[className].size + m.fn[className].size);\n            recallSum += m.recall[className];\n          });\n          m.recall.average = recallSum / classes.length;\n        } else {\n          var className = classes[1]\n          m.recall[className] =  m.tp[className].size / (m.tp[className].size + m.fn[className].size);\n          m.recall[classes[0]] = 1-m.recall[className];\n          m.recall.average = m.recall[className] \n        }\n        \n        // f1\n        if (classes.length > 2) {\n          let f1Sum = 0;\n          classes.forEach((className) => {\n            const p = m.precision[className];\n            const r = m.recall[className];\n            m.f1[className] = 2 * p * r / (p + r);\n            f1Sum += m.f1[className];\n          });\n          m.f1.average = f1Sum / classes.length;\n        } else {\n          var className = classes[1]\n          const p = m.precision[className];\n          const r = m.recall[className];\n          m.f1[className] = 2 * p * r / (p + r);\n          m.f1[classes[0]] = 2 * (1-p)*(1-r) / (2-p-r)\n          m.f1.average = m.f1[className]\n        }\n         \n\n        // micro f1\n        let tpSum = 0;\n        let fpSum = 0;\n        let fnSum = 0;\n        classes.forEach((className) => {\n          tpSum += m.tp[className].size;\n          fpSum += m.fp[className].size;\n          fnSum += m.fn[className].size;\n        });\n        let microPrecision = tpSum / (tpSum + fpSum);\n        let microRecall = tpSum / (tpSum + fnSum);\n        m.microf1.average = m.f1.average//2 * microPrecision * microRecall / (microPrecision + microRecall);\n\n        // macro f1\n        m.macrof1.average = 2 * microPrecision * microRecall / (microPrecision + microRecall);//2 * m.precision.average * m.recall.average / (m.precision.average + m.recall.average);\n\n        // mcc\n        if (classes.length > 2) {\n          var tp = 0;\n          var tn = 0;\n          var fp = 0;\n          var fn = 0;\n          classes.forEach((className) => {\n            tp += m.tp[className].size;\n            tn += m.tn[className].size;\n            fp += m.fp[className].size;\n            fn += m.fn[className].size;\n          })\n          if ((Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn))) == 0) {\n            if ((tp * tn - tp * fn) < 0){\n              m.mcc.average = -1;\n            } else {\n              m.mcc.average = 1;\n            }\n          } else {\n            m.mcc.average = (tp * tn - tp * fn) / (Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn)));\n          }\n        } else {\n          var className = classes[1]\n          var tp = m.tp[className].size;\n          var tn = m.tn[className].size;\n          var fp = m.fp[className].size;\n          var fn = m.fn[className].size;\n          if ((Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn))) == 0) {\n            m.mcc.average = 0;\n          } \n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            m.mcc.average = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n          } \n        }\n        \n      });\n\n      return metrics;\n    },\n    continuous_metrics(state) {\n      return state.continuous_metrics;\n    },\n    weighted_metrics(state){\n      return state.weighted_metrics;\n    },\n    visualizations(state, getters): Visualization[] {\n      const visualizations: Visualization[] = [];\n      const openViews = state.views.open;\n      openViews.forEach((view) => {\n\n        const visualizationTemplate = () => {\n          return {\n            name: view,\n            boxProps: {\n              classes: getters.filteredClasses,\n              classifiers: getters.filteredClassifiers,\n              instances: getters.filteredInstances,\n              features: getters.features,\n              thresholdClassifierNameList: getters.thresholdClassifierNameList,\n              classifierBandWidthDict:getters.classifierBandWidthDict,\n              withinClassifierBandWidthList: getters.withinClassifierBandWidthList,\n            },\n          };\n        };\n        \n       \n        switch (view) {\n          case VisualizationType.CA:\n          case VisualizationType.SCP:\n          case VisualizationType.COV:\n          case VisualizationType.CC:\n          case VisualizationType.CB:\n          case VisualizationType.RC:\n          case VisualizationType.BA:\n          case VisualizationType.REC:\n          case VisualizationType.TID:  \n          case VisualizationType.UM:\n          case VisualizationType.CMG:\n          case VisualizationType.FH:\n          case VisualizationType.OCA:\n          case VisualizationType.PCC:\n          case VisualizationType.SMP:\n          case VisualizationType.SP:\n          case VisualizationType.SM:\n          case VisualizationType.ITL:\n          case VisualizationType.FI:\n            visualizations.push(visualizationTemplate());\n            break;\n          default:\n            console.error('Visualization', view, 'not implemented');\n            break;\n        }\n      });\n\n      return visualizations;\n    },\n\n  },\n});\n","import store from './store';\nimport {\n  Feature,\n  Instance,\n} from './types';\n\nexport function difference(a: Set<any>, b: Set<any>): Set<any> {\n  return new Set([...a].filter((elem) => !b.has(elem)));\n}\n\nexport function featureByName(name: string): Feature {\n  return store.getters.feature(name);\n}\n\nexport function generateRandomId(prefix = 'randomlyGeneratedId-') {\n  const suffix = Math.random().toString().substr(2);\n  const id = prefix + suffix;\n  return id;\n}\n\nexport function instanceById(id: string): Instance {\n  return store.getters.instance(id);\n}\n\nexport function intersection(a: Set<any>, b: Set<any>): Set<any> {\n  return new Set([...a].filter((elem) => b.has(elem)));\n}\n\nexport function intersectionAll(sets: Set<Set<any>>): Set<any> {\n  if (sets.size === 0) {\n    return new Set();\n  }\n  let result = [...sets][0];\n  sets.forEach((s) => {\n    result = intersection(result, s);\n  });\n  return result;\n}\n\nexport function logTime(message: string) {\n  const today = new Date();\n  const time = today.getHours() + ':' + today.getMinutes() + ':' + today.getSeconds() + '.' + today.getMilliseconds();\n  console.log(`${time}: ${message}`);\n}\n\nexport function overlapCount(a: Set<any>, b: Set<any>): number {\n  const overlap = intersection(a, b);\n  return overlap.size;\n}\n\n// returns overlapFraction with respect to b\nexport function overlapFraction(a: Set<any>, b: Set<any>): number {\n  if (b.size === 0) {\n    return 0;\n  }\n  return overlapCount(a, b) / b.size;\n}\n\nexport function truncateLabel(label: string, length: number): string {\n  if (label.length <= length) {\n    return label;\n  }\n  return label.slice(0, Math.max(1, length - 3)) + '...';\n}\n\nexport function union(a: Set<any>, b: Set<any>): Set<any> {\n  return new Set([...a, ...b]);\n}\n\nexport function unionAll(sets: Set<Set<any>>): Set<any> {\n  let result = new Set();\n  sets.forEach((s) => {\n    result = union(result, s);\n  });\n  return result;\n}\n\nexport function xor(a: Set<any>, b: Set<any>): Set<any> {\n  const result = union(difference(a, b), difference(b, a));\n  return result;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { colors } from '../../theme';\n\nexport default Vue.extend({\n  name: 'Performance_Overall',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = '' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const evaluationSelection = 'accuracy' as 'mcc'| 'f1' | 'precision'| 'recall'| 'microf1' | 'macrof1'| 'accuracy'\n    const weightedPerformance = 'normal' as 'normal' | 'weighted'\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n    };\n    const focusColor = colors.focus;\n    return {\n      svg: '',\n      accuracySorting,\n      evaluationSelection,\n      weightedPerformance,\n      height,\n      hover,\n      margin,\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF', \n      selection2Color: '#FF4081',\n      width,\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      classNumber:[...this.boxProps.classes].length,\n      focusColor,\n    };\n  },\n  computed: {\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      let addedThresholdClassifiers = this.$store.state.addedThresholdClassifiers\n      if (addedThresholdClassifiers === null ) {\n        addedThresholdClassifiers = []\n      }\n      return addedThresholdClassifiers;\n    },\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n    continuous_metrics() {\n      return this.$store.state.continuous_metrics\n    },\n    weighted_metrics() {\n      return this.$store.state.weighted_metrics;\n    },\n    classes(): string[] {\n      this.classNumber = [...this.boxProps.classes].length\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];  \n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    thresholdClassifierNameList():string[] {\n      return this.boxProps.thresholdClassifierNameList\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    predictionKeys(): string[] {\n      var scope = this.evaluationKeys\n      const accuracyAscending = (c1: string, c2: string) => {\n        if (scope == \"f1\") {\n          return this.predictions[c1].f1 - this.predictions[c2].f1;\n        } else if (scope == \"macrof1\") {\n          return this.predictions[c1].macro_f1 - this.predictions[c2].macro_f1;\n        } else if (scope == \"microf1\") {\n          return this.predictions[c1].micro_f1 - this.predictions[c2].micro_f1;\n        } else if (scope == \"mcc\") {\n          return this.predictions[c1].mcc - this.predictions[c2].mcc;\n        } else if (scope == \"precision\") {\n          return this.predictions[c1].precision - this.predictions[c2].precision;\n        } else if (scope == \"recall\") {\n          return this.predictions[c1].recall - this.predictions[c2].recall;\n        }\n        return this.predictions[c1].right.size - this.predictions[c2].right.size;\n      };\n      const accuracyDescending = (c1: string, c2: string) => {\n        return -accuracyAscending(c1, c2);\n      };\n\n      let predictionKeys = this.classifiers.slice();\n      if (this.$store.state.datasetType == \"continuous\") {\n        var continuousPredictionKeys = []\n        predictionKeys.forEach((c)=>{\n          continuousPredictionKeys.push(c+\"_\"+this.classifierThresholdDict[c]/100)\n        })\n        this.addedThresholdClassifiers.forEach((c)=>{\n          continuousPredictionKeys.push(c.name)\n        })\n        predictionKeys = continuousPredictionKeys\n      }\n      switch (this.accuracySorting) {\n        case 'ascending':\n          predictionKeys.sort(accuracyAscending);\n          break;\n        case 'descending':\n          predictionKeys.sort(accuracyDescending);\n          break;\n        case 'alphabetical':\n          predictionKeys.sort();\n          break;\n      }\n      return predictionKeys;\n    },\n    classifierThresholdDict():{} {\n      return this.$store.state.classifierThresholdDict\n    },\n    continuousPredictionKeys():string[]{\n      return this.predictionKeys;\n    },\n    evaluationKeys() : String {\n      var evaluationKeys = \"\"\n      switch (this.evaluationSelection) {\n        case 'accuracy' :\n          evaluationKeys = \"accuracy\"\n          break;\n        case 'f1' :\n          evaluationKeys = \"f1\"\n          break; \n        case 'microf1' :\n          evaluationKeys = \"microf1\"  \n          break;\n        case 'macrof1' :\n          evaluationKeys = \"macrof1\"\n          break;\n        case 'mcc' :\n          evaluationKeys = \"mcc\"\n          break;\n        case 'precision' :\n          evaluationKeys = \"precision\"\n          break;\n        case 'recall' :\n          evaluationKeys = \"recall\"\n          break;      \n      }\n      return evaluationKeys;\n    },\n    continuousMetrics(): {} {\n      let predictions = {};\n      let dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      let continuous_metrics = this.weightedPerformance == 'normal' ? this.$store.state.continuous_metrics : this.$store.state.weighted_metrics;\n      let continuousClassifierName = {}\n      for (let c in continuous_metrics){\n        if (!dummyClassifiers.includes(c)) {\n          if (c.substring(0,3) != 'set') {\n            continuousClassifierName[c] = c + \"_\" + this.classifierThresholdDict[c]/100\n          } else {\n            continuousClassifierName[c] = c\n          }\n        }\n      }\n      for (let c in continuousClassifierName){\n        predictions[continuousClassifierName[c]] = {\n          right: new Set(),\n          wrong: new Set(),\n          fp: new Set(),\n          fn: new Set(),\n          tp: new Set(),\n          tn: new Set(),\n          f1: 0,\n          micro_f1: 0,\n          macro_f1:0,\n          mcc: 0,\n          precision: 0,\n          recall: 0,\n          accuracy:0,\n        };\n      };\n\n      for (let c in continuous_metrics) {\n        if (!dummyClassifiers.includes(c)) {\n          predictions[continuousClassifierName[c]].fp = set_combiniation(continuous_metrics[c].fp_instances, continuous_metrics[c].m_fp_instances);\n          predictions[continuousClassifierName[c]].tp = set_combiniation(continuous_metrics[c].tp_instances, continuous_metrics[c].m_tp_instances);\n          predictions[continuousClassifierName[c]].fn = set_combiniation(continuous_metrics[c].fn_instances, continuous_metrics[c].m_fn_instances);\n          predictions[continuousClassifierName[c]].tn = set_combiniation(continuous_metrics[c].tn_instances, continuous_metrics[c].m_tn_instances);\n          predictions[continuousClassifierName[c]].right = set_combiniation(predictions[continuousClassifierName[c]].tp, predictions[continuousClassifierName[c]].tn)\n          predictions[continuousClassifierName[c]].wrong = set_combiniation(predictions[continuousClassifierName[c]].fp, predictions[continuousClassifierName[c]].fn)\n          var tp = predictions[continuousClassifierName[c]].tp.size\n          var fp = predictions[continuousClassifierName[c]].fp.size\n          var fn = predictions[continuousClassifierName[c]].fn.size\n          var tn = predictions[continuousClassifierName[c]].tn.size\n          predictions[continuousClassifierName[c]].precision = continuous_metrics[c].precision\n          predictions[continuousClassifierName[c]].recall = continuous_metrics[c].recall\n          predictions[continuousClassifierName[c]].accuracy = continuous_metrics[c].accuracy\n          predictions[continuousClassifierName[c]].f1 = continuous_metrics[c].f1\n          predictions[continuousClassifierName[c]].mcc = continuous_metrics[c].mcc\n        }\n      }\n\n      function set_combiniation(set1, set2) {\n        let res = [...set1]\n        let set2_list = [...set2]\n        set2_list.forEach((i)=>{\n          res.push(i)\n        })\n        return new Set(res)\n      }\n      return predictions;\n    },\n    predictions(): {} {\n      let predictions = {};\n      if (this.datasetType == 'continuous') {\n        return this.continuousMetrics\n      } else {\n        let continuousClassifierName = {}\n        this.classifiers.forEach((c)=>{\n          continuousClassifierName[c] = c;\n        })\n\n        this.classifiers.forEach((c) => {\n          predictions[continuousClassifierName[c]] = {\n            right: new Set(),\n            wrong: new Set(),\n            fp: new Set(),\n            fn: new Set(),\n            tp: new Set(),\n            tn: new Set(),\n            f1: 0,\n            micro_f1: 0,\n            macro_f1:0,\n            mcc: 0,\n            precision: 0,\n            recall: 0,\n            accuracy:0,\n          };\n        });\n\n        // get the tp fp fn per classifier per class\n        var total_data = {}\n        this.classifiers.forEach((c) =>{\n          total_data[c] = {}\n          this.classes.forEach((d)=>{\n            total_data[c][d] = {\"right\":[],\"wrong\":[],\"tp\":[],\"fp\":[],\"fn\":[],\"tn\":[],\"pred\":[],\"actual\":[]}\n          })\n        })\n        this.instances.forEach((id)=>{\n          var i  = instanceById(id)\n          this.classifiers.forEach((c) => {\n            var curAcClass = i.actual;\n            var curPredClass = i.predictions[c]\n            var curClassifier = c;\n            total_data[curClassifier][curPredClass].pred.push(id);\n            total_data[curClassifier][curAcClass].actual.push(id);\n\n            if (i.predictions[c] == i.actual) {\n              total_data[c][curAcClass].right.push(id);\n              total_data[curClassifier][curAcClass].tp.push(id);\n              this.classes.forEach((j)=>{\n                if (j != curPredClass){\n                  total_data[curClassifier][j].tn.push(id)\n                } \n              })\n            } else {\n              total_data[c][curAcClass].wrong.push(id);\n              total_data[c][curPredClass].fp.push(id)\n              total_data[curClassifier][curAcClass].fn.push(id);\n            }\n          });\n        })\n        //get the tp. fp fn for binary classification problem \n        const instances_num = this.instances.length;\n        this.instances.forEach((id) => {\n          const i = instanceById(id);\n          this.classifiers.forEach((c) => {\n            if (i.predictions[c] === i.actual) {\n              predictions[continuousClassifierName[c]].right.add(id);\n            } else {\n              predictions[continuousClassifierName[c]].wrong.add(id);\n            }\n            if (i.actual == this.classes[1]) {\n                if (i.predictions[c] == i.actual) {\n                  predictions[continuousClassifierName[c]].tp.add(id);\n                } else {\n                  predictions[continuousClassifierName[c]].fn.add(id);\n                }\n              } else {\n                if (i.predictions[c] == i.actual) {\n                  predictions[continuousClassifierName[c]].tn.add(id);\n                } else {\n                  predictions[continuousClassifierName[c]].fp.add(id);\n                }\n              }\n          })\n        })\n\n        //calculate the value of each evaluation\n        this.classifiers.forEach((c)=>{\n          var tp = predictions[continuousClassifierName[c]].tp.size\n          var fp = predictions[continuousClassifierName[c]].fp.size\n          var fn = predictions[continuousClassifierName[c]].fn.size\n          var tn = predictions[continuousClassifierName[c]].tn.size\n          predictions[continuousClassifierName[c]].precision = tp / (tp + fp);\n          predictions[continuousClassifierName[c]].recall = tp /  (tp + fn);\n          predictions[continuousClassifierName[c]].accuracy = (tp + tn) / (tp + tn +fp + fn)//predictions[continuousClassifierName[c]].right.size / (predictions[continuousClassifierName[c]].right.size + predictions[continuousClassifierName[c]].wrong.size)\n          predictions[continuousClassifierName[c]].f1 = 2 *  predictions[continuousClassifierName[c]].precision *  predictions[continuousClassifierName[c]].recall / ( predictions[continuousClassifierName[c]].precision +  predictions[continuousClassifierName[c]].recall)\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            predictions[continuousClassifierName[c]].mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n          } else {\n            predictions[continuousClassifierName[c]].mcc = 0\n          }\n        })\n\n\n        if (this.classes.length > 2) {\n          this.classifiers.forEach((c)=>{\n              var total_tp = 0\n              var total_fp = 0\n              var total_tn = 0\n              var total_fn = 0\n\n              var total_f1 = 0\n              this.classes.forEach((j)=>{\n                var cur_tp = total_data[c][j].tp.length\n                var cur_fp = total_data[c][j].fp.length\n                var cur_tn = total_data[c][j].tn.length\n                var cur_fn = total_data[c][j].fn.length\n                total_tp +=  cur_tp\n                total_fp += cur_fp\n                total_tn +=  cur_tn\n                total_fn += cur_fn\n                var cur_pre = cur_tp / (cur_tp + cur_fp )\n                var cur_recall = cur_tp / (cur_tp + cur_fn )\n                total_f1 += ((cur_pre + cur_recall) == 0)? 0 : 2 * cur_pre * cur_recall / (cur_pre + cur_recall)\n              })\n              predictions[continuousClassifierName[c]].micro_f1 = total_f1 / this.classes.length\n              var total_recall= total_tp / (total_tp + total_fn)\n              var total_pre= total_tp / (total_tp + total_fp )\n              predictions[continuousClassifierName[c]].macro_f1 = (total_recall + total_pre ) == 0? 0 : total_recall * total_pre * 2 / (total_recall + total_pre )\n              if ((total_tp+total_fp)*(total_tp+total_fn)*(total_tn+total_fp)*(total_tn+total_fn) != 0) {\n                predictions[continuousClassifierName[c]].mcc = ((total_tp*total_tn-total_fp*total_fn) / Math.sqrt((total_tp+total_fp)*(total_tp+total_fn)*(total_tn+total_fp)*(total_tn+total_fn)))\n              } else {\n                predictions[continuousClassifierName[c]].mcc = 0\n              }\n          })\n        }\n        return predictions;\n      }\n      \n    },\n\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusSet(): String{return this.$store.state.focusSet},\n    focusDotEmphasis(): Boolean{return this.$store.state.focusDotEmphasis},\n\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.continuousPredictionKeys)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([this.evaluationKeys == \"mcc\"? -1 : 0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n  },\n  watch: {\n    weightedPerformance() {\n      this.drawInitial();\n    },\n    accuracySorting() {\n      this.drawInitial();\n    },\n    evaluationSelection() { \n      this.drawInitial();\n    },\n    hover() {\n      this.drawHover();\n    },\n    classifierThresholdDict() {\n      this.drawInitial();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawInitial();\n    },\n    weighted_metrics() {\n      if (this.weightedPerformance == 'weighted') {\n        this.drawInitial();\n      }\n    },\n    continuous_metrics() {\n      this.drawInitial();\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusSet(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    clearHover() {\n      this.hover = ({type: '', classifier: ''});\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const rightBars = chart.selectAll('.bar-right');\n      const wrongBars = chart.selectAll('.bar-wrong');\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line');\n      const yAxisMarkerTextRight = chart.select('.y-axis-marker-text-right');\n      const yAxisMarkerTextWrong = chart.select('.y-axis-marker-text-wrong');\n      const { first, second } = this.selections;\n      const textSelection1  = chart.select('.y-axis-marker-text-selection1');\n      const textSelection2  = chart.select('.y-axis-marker-text-selection2');\n      const rectHover  = chart.select('.y-axis-marker-rect');\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      const formatDecimal = d3.format(\".1f\")\n      const hoverText  = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = this.predictions[classifierName][typeString]\n        var totalInstances = 0\n        if (this.evaluationKeys==\"precision\"){           \n          totalInstances = this.predictions[classifierName][\"fp\"].size+this.predictions[classifierName][\"tp\"].size\n        }else if  ( this.evaluationKeys==\"recall\"){\n           totalInstances = this.predictions[classifierName][\"fn\"].size+this.predictions[classifierName][\"tp\"].size}\n        else{    \n           totalInstances = this.instances.length}\n        const overlappingInstances = intersection(instances, selection);\n        return overlappingInstances.size;\n      };\n      \n      if ((first || second) && !(this.evaluationKeys == \"mcc\" || this.evaluationKeys == \"microf1\" || this.evaluationKeys == \"macrof1\"|| this.evaluationKeys == \"f1\") ) {\n        rectHover.transition()\n          .duration(moveDuration)\n          .attr('opacity', 1)\n          .attr('transform',  `translate(\n            ${this.x(this.hover.classifier)},\n            ${this.y(1) - 70})`)\n      }\n      if (!first || this.evaluationKeys == \"mcc\" || this.evaluationKeys == \"microf1\" || this.evaluationKeys == \"macrof1\"|| this.evaluationKeys == \"f1\") {\n        textSelection1.transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n      }  else {\n        if (this.hover.type === 'right')\n          textSelection1.transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform',  `translate(\n            ${this.x(this.hover.classifier)+60},\n            ${this.y(1) - 60})`)\n          .text('1st: '+formatDecimal(hoverText(this.hover.classifier,this.evaluationKeys==\"precision\"? \"tp\" :\n            this.evaluationKeys==\"recall\"?\"tp\" :\"right\", first.instances)))\n        if (this.hover.type === 'wrong')        \n          textSelection1.transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform',  `translate(\n            ${this.x(this.hover.classifier)+60},\n            ${this.y(1) - 60})`)\n          .text('1st: '+formatDecimal(hoverText(this.hover.classifier,this.evaluationKeys==\"precision\"? \"fp\" :\n            this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", first.instances)))\n      } \n      if (!second|| this.evaluationKeys == \"mcc\" || this.evaluationKeys == \"microf1\" || this.evaluationKeys == \"macrof1\"|| this.evaluationKeys == \"f1\") {\n        textSelection2.transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0); \n      } else {\n        if (this.hover.type === 'right')\n          textSelection2.transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform',  `translate(\n            ${this.x(this.hover.classifier)+60},\n            ${this.y(1) -30})`)\n          .text('2nd: '+formatDecimal(hoverText(this.hover.classifier,this.evaluationKeys==\"precision\"? \"tp\" :\n            this.evaluationKeys==\"recall\"?\"tp\" :\"right\", second.instances)))\n        if (this.hover.type === 'wrong')        \n          textSelection2.transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform',  `translate(\n            ${this.x(this.hover.classifier)+60},\n            ${this.y(1) -30})`)\n          .text('2nd: '+formatDecimal(hoverText(this.hover.classifier,this.evaluationKeys==\"precision\"? \"fp\" :\n            this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", second.instances)))\n      }\n      if (this.hover.type === 'right') {\n        rightBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        rightBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hover.type === 'wrong') {\n        wrongBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n        wrongBars.attr('fill', this.wrongColor);\n      }\n\n      \n      if (this.hover.type) {\n        yAxisMarkerLine\n          .transition()\n          .duration(moveDuration)\n          .attr('stroke-opacity', 1)\n          .attr('y1', this.evaluationKeys == \"f1\" ? this.y(this.predictions[this.hover.classifier].f1) \n                                                :this.evaluationKeys == \"precision\" ? this.y(this.predictions[this.hover.classifier].precision) \n                                                :this.evaluationKeys == \"recall\" ? this.y(this.predictions[this.hover.classifier].recall) \n                                                :this.evaluationKeys == \"microf1\" ? this.y(this.predictions[this.hover.classifier].micro_f1) \n                                                :this.evaluationKeys == \"macrof1\" ? this.y(this.predictions[this.hover.classifier].macro_f1) \n                                                :this.evaluationKeys == \"mcc\" ? this.y(this.predictions[this.hover.classifier].mcc) \n                                                :this.y(this.predictions[this.hover.classifier].accuracy) )\n                                                // : this.y(this.predictions[this.hover.classifier].right.size / this.instances.length))\n          .attr('x2', this.width)\n          .attr('y2', this.evaluationKeys == \"f1\" ? this.y(this.predictions[this.hover.classifier].f1) \n                                                :this.evaluationKeys == \"precision\" ? this.y(this.predictions[this.hover.classifier].precision) \n                                                :this.evaluationKeys == \"recall\" ? this.y(this.predictions[this.hover.classifier].recall) \n                                                :this.evaluationKeys == \"microf1\" ? this.y(this.predictions[this.hover.classifier].micro_f1) \n                                                :this.evaluationKeys == \"macrof1\" ? this.y(this.predictions[this.hover.classifier].macro_f1) \n                                                :this.evaluationKeys == \"mcc\" ? this.y(this.predictions[this.hover.classifier].mcc) \n                                                :this.y(this.predictions[this.hover.classifier].accuracy) )\n                                                // : this.y(this.predictions[this.hover.classifier].right.size / this.instances.length));\n        yAxisMarkerTextRight\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', this.evaluationKeys == \"f1\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].f1) + 10})`\n            :this.evaluationKeys == \"precision\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].precision) + 10})`\n            :this.evaluationKeys == \"recall\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].recall) + 10})`\n            :this.evaluationKeys == \"microf1\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].micro_f1) + 10})`\n            :this.evaluationKeys == \"macrof1\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].macro_f1) + 10})`\n            :this.evaluationKeys == \"mcc\"?  \n            `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].mcc) + 10})`\n            : `translate(\n            ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n            ${this.y(this.predictions[this.hover.classifier].right.size / this.instances.length) + 10})`)\n          .text(this.evaluationKeys == \"f1\"? `${(this.predictions[this.hover.classifier].f1 * 100).toFixed(1)}%`\n                :this.evaluationKeys == \"precision\"? `${(this.predictions[this.hover.classifier].precision * 100).toFixed(1)}%`\n                :this.evaluationKeys == \"recall\"? `${(this.predictions[this.hover.classifier].recall * 100).toFixed(1)}%`\n                :this.evaluationKeys == \"microf1\"? `${(this.predictions[this.hover.classifier].micro_f1 * 100).toFixed(1)}%`\n                :this.evaluationKeys == \"macrof1\"? `${(this.predictions[this.hover.classifier].macro_f1 * 100).toFixed(1)}%`\n                :this.evaluationKeys == \"mcc\"? `${(this.predictions[this.hover.classifier].mcc * 100).toFixed(1)}%`\n                :`${(this.predictions[this.hover.classifier].accuracy * 100).toFixed(1)}%`);\n                // :`${(this.predictions[this.hover.classifier].right.size / this.instances.length * 100).toFixed(1)}%`);\n        if (this.evaluationKeys == \"accuracy\") {\n           yAxisMarkerTextWrong\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr('transform', this.evaluationKeys == \"f1\" ?\n            `translate(\n              ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n              ${ this.y (1/ (2 * this.predictions[this.hover.classifier].tp.size / (this.predictions[this.hover.classifier].tp.size + this.predictions[this.hover.classifier].fp.size)))- 10})`\n              :`translate(\n              ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n              ${this.y(this.predictions[this.hover.classifier].right.size / this.instances.length) - 10})`)\n            .text(this.evaluationKeys == \"f1\" ?\n                  `${(100-this.predictions[this.hover.classifier].f1 * 100).toFixed(1)}%`\n                  :this.evaluationKeys == \"precision\" ?\n                  `${(100-this.predictions[this.hover.classifier].precision * 100).toFixed(1)}%`\n                  :this.evaluationKeys == \"recall\" ?\n                  `${(100-this.predictions[this.hover.classifier].recall * 100).toFixed(1)}%`\n                  :this.evaluationKeys == \"microf1\" ?\n                  `${(100-this.predictions[this.hover.classifier].micro_f1 * 100).toFixed(1)}%`\n                  :this.evaluationKeys == \"macrof1\" ?\n                  `${(100-this.predictions[this.hover.classifier].macro_f1 * 100).toFixed(1)}%`\n                  :this.evaluationKeys == \"mcc\" ?\n                  `${(100-this.predictions[this.hover.classifier].mcc * 100).toFixed(1)}%`\n                  :`${(100-this.predictions[this.hover.classifier].accuracy * 100).toFixed(1)}%`)\n                  // :`${(this.predictions[this.hover.classifier].wrong.size / this.instances.length * 100).toFixed(1)}%`);\n        }\n      } else {\n        yAxisMarkerLine\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerTextRight\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextWrong\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        textSelection1.transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        textSelection2.transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0); \n        rectHover.transition()\n          .duration(disappearDuration)\n          .attr('opacity', 0); \n      }\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // MG - hack to tighten spacing\n      let mg_top = 160; // this.margin.top*2;\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + mg_top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${mg_top}, 160)`); //MG - 160 was ${this.margin.top*2}\n      \n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('width', this.width)\n          .attr('height', this.height)\n          .attr('fill', 'teal');\n      };\n\n      const x = this.x;\n      const y = this.y;\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 18)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Classifier');\n\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationKeys == \"accuracy\"? 'Fraction of instances'\n            :this.evaluationKeys == \"mcc\"? 'MCC value'\n            :this.evaluationKeys == \"precision\"? 'Fraction of instances'\n            :this.evaluationKeys == \"recall\"? 'Fraction of instances'\n            :this.evaluationKeys == \"microf1\"? \"Micro F1 value\"\n            :this.evaluationKeys == \"macrof1\"? \"Macro F1 value\":'F1 value');\n        svg.append('text')\n          //.attr('transform', 'rotate(-90)')\n          .attr('x', this.width / 2)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text((this.weightedPerformance == 'normal' ? '' : 'Weighted ') + (this.evaluationKeys == \"accuracy\"? 'Accuracy'\n            :this.evaluationKeys == \"mcc\"? 'MCC'\n            :this.evaluationKeys == \"precision\"? 'Precision'\n            :this.evaluationKeys == \"recall\"? 'Recall'\n            :this.evaluationKeys == \"microf1\"? \"Micro F1\"\n            :this.evaluationKeys == \"macrof1\"? \"Macro F1\":'F1'));\n      };\n      \n      drawTitles();\n      const drawLegend = () => {\n        const width = this.width / 4;\n        const height = this.margin.top / 2;\n\n        const legend = svg.append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.width * 3 / 4},\n              ${-height*2})`);;\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.wrongColor)\n          .style(\"visibility\", this.evaluationKeys == \"accuracy\" \n                          ||  this.evaluationKeys == \"precision\" \n                          ||  this.evaluationKeys == \"recall\"? \"visible\":\"hidden\");\n\n          \n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.rightColor)\n          .style(\"visibility\", this.evaluationKeys == \"accuracy\" \n                          ||  this.evaluationKeys == \"precision\" \n                          ||  this.evaluationKeys == \"recall\"? \"visible\":\"hidden\");\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(this.evaluationKeys == \"accuracy\" ? \"misclassified\"\n                          : this.evaluationKeys == \"precision\" ? \"fp\"\n                          : this.evaluationKeys == \"recall\"? \"fn\": '')\n          .style(\"visibility\", this.evaluationKeys == \"accuracy\" \n                          ||  this.evaluationKeys == \"precision\" \n                          ||  this.evaluationKeys == \"recall\"? \"visible\":\"hidden\");\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(this.evaluationKeys == \"accuracy\" ? \"correctly classified\"\n                          : this.evaluationKeys == \"precision\" ? \"tp\"\n                          : this.evaluationKeys == \"recall\"? \"tp\": '')\n          .style(\"visibility\", this.evaluationKeys == \"accuracy\" \n                          ||  this.evaluationKeys == \"precision\" \n                          ||  this.evaluationKeys == \"recall\"? \"visible\":\"hidden\");\n      };\n    \n      const drawBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', (d: string) => `translate(${x(d)}, ${0})`);\n        this.svg = svg;\n\n        const barWidth = x.bandwidth();\n        var bar1_circle = barCells.append(\"circle\")   \n          .attr('cx', barWidth / 2)\n          .attr('cy', (d: string) => this.height-15)\n          .attr('r','15px')\n          .attr('fill', this.rightColor)\n          .attr('stroke', 'grey')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'right', 'second'))\n          .style('visibility', (d: string) => {\n            var value =  this.evaluationKeys == \"f1\" ? (this.predictions[d].f1)\n            : this.evaluationKeys == \"mcc\" ? (this.predictions[d].mcc)\n            : this.evaluationKeys == \"precision\" ? (this.predictions[d].precision)\n            : this.evaluationKeys == \"recall\" ? (this.predictions[d].recall)\n            :this.evaluationKeys == \"microf1\" ? (this.predictions[d].micro_f1)\n            :this.evaluationKeys == \"macrof1\" ? (this.predictions[d].macro_f1)\n            :(this.predictions[d].accuracy)\n            if (value < 0.05 )  return \"visible\"\n            return \"hidden\"});\n\n        var bar1 = barCells.append('rect')\n          .attr('class', 'bar-right')\n          .attr('y', (d: string) => this.evaluationKeys == \"f1\" ? y(this.predictions[d].f1)\n              : this.evaluationKeys == \"mcc\" ? y(this.predictions[d].mcc)\n              : this.evaluationKeys == \"precision\" ? y(this.predictions[d].precision)\n              : this.evaluationKeys == \"recall\" ? y(this.predictions[d].recall)\n              : this.evaluationKeys == \"microf1\" ? y(this.predictions[d].micro_f1)\n              : this.evaluationKeys == \"macrof1\" ? y(this.predictions[d].macro_f1)\n              :y(this.predictions[d].accuracy))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.evaluationKeys == \"f1\" ? this.height - y(this.predictions[d].f1)\n            : this.evaluationKeys == \"mcc\" ? this.height - y(this.predictions[d].mcc)\n            : this.evaluationKeys == \"precision\" ? this.height - y(this.predictions[d].precision)\n            : this.evaluationKeys == \"recall\" ? this.height - y(this.predictions[d].recall)\n            :this.evaluationKeys == \"microf1\" ? this.height - y(this.predictions[d].micro_f1)\n            :this.evaluationKeys == \"macrof1\" ? this.height - y(this.predictions[d].macro_f1)\n            :this.height - y(this.predictions[d].accuracy))\n          .attr('fill', this.rightColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n        \n        if (this.evaluationKeys == \"accuracy\" ||  this.evaluationKeys == \"precision\" ||  this.evaluationKeys == \"recall\") {\n            bar1.on('click', (d: string) => this.select(d, 'right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right', 'second'));\n\n            barCells.append('rect')\n              .attr('class', 'bar-wrong')\n              .attr('y', (d: string) => y(1))\n              .attr('width', barWidth)\n              .attr('height', (d: string) => this.evaluationKeys == \"precision\" ? this.height - y(1-this.predictions[d].precision)\n                : this.evaluationKeys == \"recall\" ? this.height - y(1-this.predictions[d].recall)\n                :this.height - y(1-this.predictions[d].accuracy))\n              .attr('fill', this.wrongColor)\n              .attr('stroke', 'black')\n              .style('paint-order', 'stroke')\n              .on('mouseenter', (d: string) => this.hover = ({type: 'wrong', classifier: d}))\n              .on('mouseleave', this.clearHover)\n              .on('click', (d: string) => this.select(d, 'wrong', 'first'))\n              .on('contextmenu', (d: string) => this.select(d, 'wrong', 'second'));\n            var bar1_circle = barCells.append(\"circle\")   \n                    .attr('cx', barWidth / 2)\n                    .attr('cy', 15)\n                    .attr('r','15px')\n                    .attr('fill', this.wrongColor)\n                    .attr('stroke', 'grey')\n                    .on('mouseenter', (d: string) => this.hover = ({type: 'wrong', classifier: d}))\n                    .on('mouseleave', this.clearHover)\n                    .on('click', (d: string) => this.select(d, 'wrong', 'first'))\n                    .on('contextmenu', (d: string) => this.select(d, 'wrong', 'second'))\n                    .style('visibility', (d: string) => {\n                      var value =  this.evaluationKeys == \"precision\" ? (1-this.predictions[d].precision)\n                      : this.evaluationKeys == \"recall\" ?(1-this.predictions[d].recall)\n                      :(1-this.predictions[d].accuracy)\n                      if (value == 0) return \"hidden\"\n                      if (value < 0.05 )  return \"visible\"\n                      return \"hidden\"});\n                      \n        }\n      };\n\n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-wrong')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'none');\n        svg.append(\"rect\")\n          .attr('class', 'y-axis-marker-rect')\n          .attr('width', 120)\n          .attr('height',60)\n          .attr(\"stroke\",\"grey\")\n          .attr(\"fill\",'white')\n          .attr('opacity', 0)\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-selection1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-selection2')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');\n          \n      };\n      drawLegend();\n      drawBars();\n      yAxisMarkerLine();\n      yAxisMarkerText();      \n\n      this.drawHover();\n      this.drawSelections();\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n\n      const rectHover  = chart.select('.y-axis-marker-rect');\n      const { first, second } = this.selections;\n\n      const x = this.x;\n      const barWidth = x.bandwidth();\n      const selectionBarWidth = x.bandwidth() / 8;\n      const selectionType = ['Right', 'Wrong'];\n      const selections = [first, second];\n\n      let instanceWeights = {};\n      let allInstances = [...this.$store.getters.filteredInstances];\n      let selectionHistory = this.$store.state.selectionHistory\n      allInstances.forEach((c)=>{\n        instanceWeights[c] = 1\n      })\n      \n      if (this.weightedPerformance == 'weighted') {\n        selectionHistory.forEach((s)=>{\n          let tmp_instances = [...s.instances]\n\n          let weight = parseFloat((s.weight).toString())\n          tmp_instances.forEach((i)=>{\n            instanceWeights[i] += weight\n          })\n        })\n      }\n    \n      const weightedInstanceSize = (instances: any[]) => {\n        let size = 0\n        instances.forEach((i)=>{\n          size += instanceWeights[i]\n        })\n        return size\n      }\n\n      const setAdd = (set1: Set<string>, set2: Set<string>) => {\n        let list_1 = [...set1]\n        let list_2 = [...set2]\n        list_1.forEach((i)=>{\n          list_2.push(i)\n        })\n        return new Set(list_2)\n      }\n      \n      const rightYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = this.predictions[classifierName][typeString]\n        var totalInstances = new Set()\n        if (this.evaluationKeys==\"precision\"){           \n          totalInstances = setAdd(this.predictions[classifierName][\"fp\"], this.predictions[classifierName][\"tp\"])\n        }else if  ( this.evaluationKeys==\"recall\"){\n          totalInstances = setAdd(this.predictions[classifierName][\"fn\"], this.predictions[classifierName][\"tp\"])\n        }\n        else{    \n          totalInstances = new Set(this.instances)\n        }\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = weightedInstanceSize([...overlappingInstances]) / weightedInstanceSize([...totalInstances]);\n        return this.y(fractionOfTotalInstances);\n      };\n      const rightHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = this.predictions[classifierName][typeString]\n        return this.height - rightYOffset(classifierName, typeString,selection);\n      };\n      const wrongHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = this.predictions[classifierName][typeString]\n        var totalInstances = new Set()\n        if (this.evaluationKeys==\"precision\"){           \n          totalInstances = setAdd(this.predictions[classifierName][\"fp\"], this.predictions[classifierName][\"tp\"])\n        }else if  ( this.evaluationKeys==\"recall\"){\n          totalInstances = setAdd(this.predictions[classifierName][\"fn\"], this.predictions[classifierName][\"tp\"])\n        }\n        else{    \n          totalInstances = new Set(this.instances)\n        }\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = weightedInstanceSize([...overlappingInstances]) / weightedInstanceSize([...totalInstances]);\n        return this.height - this.y(fractionOfTotalInstances);\n      };\n      const hasFocusItem = (classifierName:string, typeString: string, selection: Set<string>) =>{\n        const instances = this.predictions[classifierName][typeString]\n        const overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n      const hoverText  = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = this.predictions[classifierName][typeString]\n        var totalInstances = 0\n        if (this.evaluationKeys==\"precision\"){           \n          totalInstances = this.predictions[classifierName][\"fp\"].size+this.predictions[classifierName][\"tp\"].size\n        }else if  ( this.evaluationKeys==\"recall\"){\n           totalInstances = this.predictions[classifierName][\"fn\"].size+this.predictions[classifierName][\"tp\"].size}\n        else{    \n           totalInstances = this.instances.length}\n        const overlappingInstances = intersection(instances, selection);\n        return overlappingInstances.size;\n      };\n\n      if (this.hover.type) {\n        if (!(this.evaluationKeys == \"mcc\" || this.evaluationKeys == \"microf1\" || this.evaluationKeys == \"macrof1\"|| this.evaluationKeys == \"f1\")){  \n          rectHover.attr(\"opacity\", 1)\n          .attr('transform',  `translate(\n              ${this.x(this.hover.classifier)},\n              ${this.y(1) - 70})`)\n          if (first || second) {\n            this.drawHover();\n          }\n        } else {\n            rectHover.attr(\"opacity\", 0)\n        }\n      }\n\n      \n      \n      if (!(this.evaluationKeys == \"microf1\" || this.evaluationKeys == \"macrof1\" || this.evaluationKeys == \"f1\" || this.evaluationKeys == \"mcc\")) {\n        selections.forEach((cur_selection, idx)=>{\n          if (!cur_selection) {\n            this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n            this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n            this.svg.selectAll('selection-focus-'+idx).attr(\"visibility\",\"hidden\");\n          } else {\n            this.continuousPredictionKeys.forEach((d)=>{\n              selectionType.forEach((type, i)=>{\n                let selection_attributes = {\n                  barCells : this.svg,\n                  x : x(d) + barWidth / 2 + (idx-1) * selectionBarWidth ,\n                  y : type == 'Wrong'? 0 : rightYOffset(d,this.evaluationKeys==\"precision\"? \"tp\" :\n                      this.evaluationKeys==\"recall\"?\"tp\" :\"right\", cur_selection.instances),\n                  width : selectionBarWidth,\n                  height : type == 'Wrong'? wrongHeight(d,this.evaluationKeys==\"precision\"? \"fp\" :\n                      this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", cur_selection.instances) \n                      :rightHeight(d,this.evaluationKeys==\"precision\"? \"tp\" :\n                      this.evaluationKeys==\"recall\"?\"tp\" :\"right\", cur_selection.instances),\n                  r  : selectionBarWidth / 2,\n                  color : idx == 0? this.selection1Color : this.selection2Color,\n                  circle_visibility : type == 'Wrong'? wrongHeight(d,this.evaluationKeys==\"precision\"? \"fp\" :\n                      this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", cur_selection.instances) == 0 ?\"hidden\": \n                              wrongHeight(d,this.evaluationKeys==\"precision\"? \"fp\" :\n                      this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", cur_selection.instances) / this.height>0.05? \"hidden\" \n                        :\"visible\": \n                        rightHeight(d,this.evaluationKeys==\"precision\"? \"tp\" :\n                      this.evaluationKeys==\"recall\"?\"tp\" :\"right\", cur_selection.instances) == 0 ?\"hidden\": \n                              rightHeight(d,this.evaluationKeys==\"precision\"? \"tp\" :\n                      this.evaluationKeys==\"recall\"?\"tp\" :\"right\", cur_selection.instances) / this.height>0.05? \"hidden\" \n                        :\"visible\",\n                  cx : x(d) + barWidth / 2  + (idx - 1/2) * selectionBarWidth,\n                  cy : type == 'Wrong'? 0 + selectionBarWidth / 2: this.height - selectionBarWidth / 2,\n                  selection_type: idx,\n                  focused: type == 'Wrong'? hasFocusItem(d,this.evaluationKeys==\"precision\"? \"fp\" :\n                      this.evaluationKeys==\"recall\"?\"fn\" :\"wrong\", cur_selection.instances) \n                      :hasFocusItem(d,this.evaluationKeys==\"precision\"? \"tp\" :\n                      this.evaluationKeys==\"recall\"?\"tp\" :\"right\", cur_selection.instances),\n                  view_name : this.name\n                }\n                this.$store.dispatch('drawSelections',selection_attributes)\n              })\n            })\n          }\n        })\n      }\n    },\n    select(\n      classifier: string,\n      type: 'right' | 'wrong',\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n      constraint.negation = (type === 'wrong');\n\n      const curType = ((this.evaluationKeys == \"precision\"||this.evaluationKeys == \"recall\") && type=='right')? \"tp\" \n      :(this.evaluationKeys==\"accuracy\" && type=='right')?\"right\"\n      :(this.evaluationKeys==\"precision\" && type=='wrong')?\"fp\"\n      :(this.evaluationKeys==\"recall\" && type=='wrong')?\"fn\":\"wrong\"\n      \n\n      const instances = this.predictions[classifier][curType];\n      const description = `Instances which ${classifier} got ${type}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerformance.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerformance.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OverallClassifierPerformance.vue?vue&type=template&id=92fb7b2e&scoped=true&\"\nimport script from \"./OverallClassifierPerformance.vue?vue&type=script&lang=ts&\"\nexport * from \"./OverallClassifierPerformance.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OverallClassifierPerformance.vue?vue&type=style&index=0&id=92fb7b2e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92fb7b2e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Performance Curves\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationKeys),callback:function ($$v) {_vm.evaluationKeys=$$v},expression:\"evaluationKeys\"}},[_c('v-radio',{attrs:{\"label\":\"ROC\",\"value\":\"roc\"}}),_c('v-radio',{attrs:{\"label\":\"PR\",\"value\":\"pr\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Selection Mode\"},model:{value:(_vm.selection_mode),callback:function ($$v) {_vm.selection_mode=$$v},expression:\"selection_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall curve \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"selection curve\",\"value\":\"selected\"}})],1)],1)])],1)],1),_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar values = ref.values;\nvar search = ref.search;\nvar isOpen = ref.isOpen;\nreturn [(values.length && !isOpen)?_c('span',{staticClass:\"multiselect__single\"},[_vm._v(\" \"+_vm._s(values.length)+\" options selected \")]):_vm._e()]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{attrs:{\"id\":\"legend1\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\n\nexport default Vue.extend({\n  name: 'Performance_Curves',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const evaluationKeys = 'roc' as 'roc'| 'pr';\n    const hover = {\n      classifier: '',\n      threshold: '',\n    };\n    const pointSelection = {\n      classifier:'',\n      threshold:''\n    }\n    const pointRemove = {\n      classifier:'',\n      threshold:''\n    };\n    const selection_mode = 'overall' as 'overall' | 'selected'\n\n    return {\n      value: [],\n      thresholdToidx: {},\n      selectedCurves:[],\n      selection_mode,\n      pointRemove,\n      pointSelection,\n      hover,\n      evaluationKeys,\n      height,\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      width,\n      selectedEval:'',\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n    };\n  },\n  computed: {\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      return this.$store.state.addedThresholdClassifiers;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    thresholdClassifierNameList():string[] {\n      return this.$store.state.thresholdClassifierNameList\n    },\n    classifierThresholds():{} {\n      let classifierThresholds = {}\n      this.thresholdClassifierNameList.forEach((c)=>{\n        let classifier = c.split(\"_\")[0]\n        let threshold = (parseInt(c.split(\"_\")[1]) / 100).toFixed(2)\n        classifierThresholds[classifier] = threshold\n      })\n      return classifierThresholds;\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    options(): any[] {\n      let options = []\n      const classifiers = this.classifiers\n      classifiers.forEach((c)=>{\n        options.push({name: c});\n      })\n      return options\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    metrics(): MetricsWithClassifier[] {\n      const storeMetrics: {\n        [classifier: string]: Metrics,\n      } = this.$store.getters.metrics;\n\n      const metrics: MetricsWithClassifier[] = Object.entries(storeMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          metrics: m,\n        };\n      });\n      return metrics;\n    },\n    min_y():{} {\n      return {\"roc\":1, \"pr\":1};\n    },\n    predictions(): {\n      [classifier: string]: {\n        x_roc: Number[],\n        y_roc: Number[],\n        value_roc: Number[],\n        x_pr: Number[],\n        y_pr: Number[],\n        line_roc: string,\n        line_pr: string\n      },\n    }{\n      const predictions: {\n        [classifier: string]: {\n          x_roc: Number[],\n          y_roc: Number[],\n          value_roc: Number[],\n          x_pr: Number[],\n          y_pr: Number[],\n          line_roc: string,\n          line_pr: string\n        },\n      } = this.$store.getters.continuous_metrics;\n      return predictions;\n    },\n    x(): d3.ScaleLinear<number, number> {\n      const x = d3.scaleLinear()\n        .domain([0, 1])\n        .range([0, this.width])\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n    outSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Performance_Curves') {\n          if (view.config) {\n            let value  = view.config;\n            this.value = []\n            value.classifiers.forEach((c)=>{\n              if (this.classifiers.includes(c)) {\n                this.value.push({'name':c})\n              }\n            })\n            this.evaluationKeys = value.evaluation;\n            this.selection_mode = value.selection\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Performance_Curves\", \n                    \"config\": {\n                      \"classifiers\":  this.value.map((c)=>c.name),\n                      \"evaluation\": this.evaluationKeys,\n                      \"selection\": this.selection_mode}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    value() {\n      this.drawInitial();\n    },\n    addedThresholdClassifiers() {\n      this.drawAddedPoint();\n      this.drawCurrentThreshold();\n    },\n    thresholdClassifierNameList() {\n      this.drawAddedPoint();\n      this.drawCurrentThreshold();\n    },\n    classifiers() {\n      this.drawInitial();\n    },\n    outSelections() {\n      this.drawInitial();\n    },\n    selection_mode() {\n      this.drawInitial();\n    },\n    pointRemove() {\n      this.clearPointSelection();\n    },\n    pointSelection() {\n      this.drawAddedPoint();\n      this.drawPointSelection();\n    },\n    hover() {\n      this.drawHover();\n    },\n    evaluationKeys() {\n      this.clearHover();\n      this.drawInitial();\n    }, \n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Performance_Curves') {\n        if (view.config) {\n          let value  = view.config;\n          this.value = []\n          value.classifiers.forEach((c)=>{\n            if (this.classifiers.includes(c)) {\n              this.value.push({'name':c})\n            }\n          })\n          this.evaluationKeys = value.evaluation;\n          this.selection_mode = value.selection\n        }\n      }\n    })\n    this.drawInitial();\n  },\n  methods: { \n    clearHover() {\n      this.hover = ({ classifier: '', threshold: ''});\n    },\n    clearPointSelection() {\n      const chart = d3.select(this.$refs.svg);\n      const classifier = this.pointSelection.classifier;\n      const threshold = this.pointSelection.threshold;\n\n      chart.select(\".dot_\"+classifier).attr(\"r\",5).attr(\"opacity\",0)\n      chart.select(\".pointText_\"+classifier).attr(\"visibility\",\"hidden\")\n    },\n    drawAddedPoint() {\n      const chart = d3.select(this.$refs.svg);\n      for (let classifier in this.classifierThresholds) {\n        for (let threshold in this.thresholdToidx[classifier]) {\n          let idx = this.thresholdToidx[classifier][threshold]\n          chart.select(\".dot_\"+classifier + \"_\" + idx).attr(\"r\",5).attr(\"opacity\",0)\n          chart.select(\".pointText_\"+classifier + \"_\" + idx).attr(\"visibility\",\"hidden\")\n        }\n      }\n      this.addedThresholdClassifiers.forEach((classifier) =>{\n        let c = classifier.substring(4,classifier.length-5)\n        let threshold = parseFloat(classifier.substring(classifier.length-4,classifier.legend))\n        let selectedDot = c + \"_\" + this.thresholdToidx[c][threshold]\n        chart.select(\".dot_\"+selectedDot).attr(\"r\",8).attr(\"opacity\",1)\n        chart.select(\".pointText_\"+selectedDot).attr(\"visibility\",\"visible\")\n      })\n    },\n    drawPointSelection() {\n      const chart = d3.select(this.$refs.svg);\n      const classifier = this.pointSelection.classifier;\n      const threshold = this.pointSelection.threshold;\n\n      chart.select(\".dot_\"+classifier).attr(\"r\",8).attr(\"opacity\",1)\n      chart.select(\".pointText_\"+classifier).attr(\"visibility\",\"visible\")\n      this.updateThreshold();\n    },\n    drawCurrentThreshold() {\n      const chart = d3.select(this.$refs.svg);\n      const chosenClassifiers = this.value.map((c)=>c.name)\n      \n      for (let classifier in this.classifierThresholds) {\n        if (chosenClassifiers.includes(classifier)) {\n          let threshold = this.classifierThresholds[classifier]\n          let idx = this.thresholdToidx[classifier][threshold]\n          chart.select(\".dot_\"+classifier + \"_\" + idx).attr(\"r\",8).attr(\"opacity\",1)\n          chart.select(\".pointText_\"+classifier + \"_\" + idx).attr(\"visibility\",\"visible\")\n        }\n      }\n    },\n    updateThreshold() {\n      const classifier = this.pointSelection.classifier.split(\"_\")[0];\n      const value = parseFloat(this.pointSelection.threshold).toFixed(2);\n      let changedClassifier = {\"classifier\":classifier, \"single_threshold\": parseFloat(value) * 100};\n      this.$store.dispatch(\"changedCurveChosenClassifierThresholdTuple\",changedClassifier)\n     },\n    drawHover() {\n      const chart = d3.select(this.$refs.svg);\n      const evaluationKeys = this.evaluationKeys;\n      const name = this.hover.classifier;\n      const i = this.hover.threshold;\n      const classifiers = this.value.map((c)=>c.name)\n\n      if (this.selection_mode == 'overall') {\n        if (name != ''){  \n          chart.select(\".hoverBox\").attr(\"hidden\")\n          if (evaluationKeys == \"roc\"){\n            chart.select(\".auc_value_\"+name).attr(\"visibility\",\"visible\")\n\n          }\n          chart.select(\".legend_circle_\"+name).attr(\"r\",8)\n          chart.select(\".legend_text_\"+name).style(\"font-size\", \"20px\")\n          classifiers.forEach((c)=>{\n            if (c!= name) {\n              chart.select(\".line_\"+c).style(\"opacity\",0.3)\n            }\n          })\n          if (i != '') {\n            chart.select(\".text_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n            chart.select(\".tpr_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n            chart.select(\".fpr_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n            chart.select(\".acc_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n            chart.select(\".hoverBox\").attr(\"visibility\",\"visible\")\n          } \n        } else {\n          classifiers.forEach((c)=>{\n            chart.select(\".text_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n            chart.select(\".fpr_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n            chart.select(\".tpr_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n            chart.select(\".acc_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n            chart.select(\".hoverBox\").attr(\"visibility\",\"hidden\")\n            chart.select(\".legend_circle_\"+c).attr(\"r\",6)\n            chart.select(\".legend_text_\"+c).style(\"font-size\", \"15px\")\n            chart.select(\".line_\"+c).style(\"opacity\",1)\n            chart.select(\".auc_value_\"+c).attr(\"visibility\",\"hidden\")\n          })\n        }\n      } else {\n        let count = 0\n        this.selectedCurves.forEach((predictions)=>{\n          count += 1\n          let selected_type = predictions.name\n          if (name != ''){  \n            chart.select(\".hoverBox\").attr(\"hidden\")\n            if (evaluationKeys == \"roc\"){\n              chart.select(\".auc_value_\"+name + \"_\" + selected_type).attr(\"visibility\",\"visible\").attr(\"y\",100 + 40 * count)\n            }\n            chart.select(\".legend_circle_\"+name).attr(\"r\",8)\n            chart.select(\".legend_text_\"+name).style(\"font-size\", \"20px\")\n            classifiers.forEach((c)=>{\n              if (c!= name) {\n                chart.select(\".line_\"+c + \"_\" + selected_type).style(\"opacity\",0.3)\n              }\n            })\n            if (i != '') {\n              chart.select(\".text_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n              chart.select(\".tpr_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n              chart.select(\".fpr_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n              chart.select(\".acc_\"+name+\"_\"+i).attr(\"visibility\",\"visible\")\n              chart.select(\".hoverBox\").attr(\"visibility\",\"visible\")\n            } \n          } else {\n            classifiers.forEach((c)=>{\n              chart.select(\".text_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n              chart.select(\".fpr_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n              chart.select(\".tpr_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n              chart.select(\".acc_\"+c+\"_\"+i).attr(\"visibility\",\"hidden\")\n              chart.select(\".hoverBox\").attr(\"visibility\",\"hidden\")\n              chart.select(\".legend_circle_\"+c).attr(\"r\",6)\n              chart.select(\".legend_text_\"+c).style(\"font-size\", \"15px\")\n              chart.select(\".line_\"+c + \"_\" + selected_type).style(\"opacity\",1)\n              chart.select(\".auc_value_\"+c+ \"_\" + selected_type).attr(\"visibility\",\"hidden\")\n            })\n          }\n        })\n      }\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const sequentialScale = d3.scaleSequential<string>( d3.interpolatePlasma)\n            .domain([0, this.classifiers.length])\n            .interpolator(function (x) { return d3.interpolatePlasma(.8*x);} );\n      const formatDecimal = d3.format(\".4f\")\n      const duration = 250;\n      const width = this.width;\n      const height = this.height;\n      const margin = this.margin;\n      const evaluationKeys = this.evaluationKeys;\n      const classifiers = this.value.map((c)=>c.name);\n      const xValue = d3.scaleLinear()\n        .domain([0, 1])\n        .range([0, this.width]);\n      const yValue = d3.scaleLinear()\n        .domain([this.evaluationKeys==\"pr\" ? 0:0,1])\n        .range([this.height, 0]);\n      \n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      let classifierDict = {}\n      let idx = 0;\n      classifiers.forEach((c)=>{\n        idx += 1\n        classifierDict[c] = []\n        let count = this.predictions[c].x_roc.length;\n        let i = 0;\n        this.thresholdToidx[c] = {}\n        while (i < count) {\n          if (this.evaluationKeys == \"roc\") {\n            let cur_cordinate = {\"x\": this.predictions[c].x_roc[i], \"y\":this.predictions[c].y_roc[i], 'acc':this.predictions[c].acc[i], \"name\":c,\"threshold\":this.predictions[c].value_roc[i], \"color\":sequentialScale(idx)}\n            classifierDict[c].push(cur_cordinate)\n          } else {\n            let cur_cordinate = {\"x\": this.predictions[c].x_pr[i], \"y\":this.predictions[c].y_pr[i], 'acc':this.predictions[c].acc[i], \"name\":c,\"threshold\":this.predictions[c].value_roc[i], \"color\":sequentialScale(idx)}\n            classifierDict[c].push(cur_cordinate)\n          }\n          this.thresholdToidx[c][parseFloat(this.predictions[c].value_roc[i]).toFixed(2)] =  i \n          i+=1;\n        }\n      })\n      let curveData = []\n      let count = 0\n      classifiers.forEach((c)=>{\n        count += 1;\n        let curCurve = {\"name\":c,\"data\":classifierDict[c], \"color\":sequentialScale(count)}\n        curveData.push(curCurve)\n      })\n\n      const drawInitalCurves = () => {\n        var data = classifierDict[classifiers[0]]\n        var area_dict = {}\n\n        function path(d) {\n          var name = d.name\n          area_dict[name] = 0;\n          d = d.data\n          var path = \"M\" + \" \" + xValue(1) + \" \" + yValue(0)\n          var lastx = 1;\n          var lasty = 0;\n          d.forEach((cordinate)=>{\n            path = path + \" \" + xValue(cordinate.x)\n            path = path + \" \" + yValue(cordinate.y)\n            path = path + \" \" + \"L\"\n            area_dict[name] += ((cordinate.y + lasty) * (lastx- cordinate.x ) / 2)\n            lastx = cordinate.x;\n            lasty = cordinate.y;\n          })\n          path += xValue(0) + \" \" + yValue(0)\n          return path\n        }\n\n\n        function line(d) {\n          var name = d.name\n          area_dict[name] = 0;\n          d = d.data\n          var path = \"M\" //+ \" \" + xValue(1) + \" \" + yValue(0)\n          var lastx = 1;\n          var lasty = 0;\n          d.forEach((cordinate)=>{\n            path = path + \" \" + xValue(cordinate.x)\n            path = path + \" \" + yValue(cordinate.y)\n            path = path + \" \" + \"L\"\n            area_dict[name] += ((cordinate.y + lasty) * (lastx- cordinate.x ) / 2)\n            lastx = cordinate.x;\n            lasty = cordinate.y;\n          })\n          if (evaluationKeys == 'roc')\n            path += xValue(0) + \" \" + yValue(0)\n          return path\n        }\n\n        // Add the X Axis\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(xValue));\n\n        // Add the Y Axis\n        svg.append(\"g\")\n            .call(d3.axisLeft(yValue)); \n\n        var lines = svg \n          .selectAll(\"myPath\")\n          .data(curveData)\n          .enter().append(\"path\")\n          .attr(\"d\",  line)\n          .attr(\"class\",(d,i)=>\"line_\"+d.name)\n          .style(\"fill\", \"none\")\n          .attr(\"stroke\",(d)=>{\n            return d.color})\n          .style(\"stroke-width\", 3)\n          .style(\"opacity\", 1)\n\n        var points = svg.selectAll(\".dot\")\n          .data(curveData)\n          .enter()\n          .selectAll(\".circle\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"circle\")\n          .attr(\"class\",(d,i)=>{\n            return \"dot_\"+d[\"name\"]+\"_\"+i})  \n          .attr(\"cx\", function(d, i) {  \n            return xValue(d[\"x\"]) })\n          .attr(\"cy\", function(d) { return yValue(d[\"y\"]) })\n          .attr(\"r\", (d)=>{\n            return 5\n          })\n          .attr(\"fill\",(d)=>{\n            return d['color']})\n          .on('mouseenter', (d,i)=>this.hover = ({classifier: d[\"name\"], threshold:i}))\n          .on('mouseleave', (d,i)=>this.hover = ({classifier: '', threshold:i}))  \n          .on('click', (d,i) => this.pointSelection = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']}))\n          .on('contextmenu', (d,i) => {\n            d3.event.preventDefault();\n            this.pointRemove = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']})\n          })\n          .attr(\"opacity\",0);\n\n        var point_texts = svg.selectAll(\".pointText\")\n          .data(curveData)\n          .enter()\n          // .append(\"circle\")\n          .selectAll(\".text\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"text\")\n          .attr(\"class\",(d,i)=>{\n            return \"pointText_\"+d[\"name\"]+\"_\"+i})  \n          .attr(\"x\", function(d, i) {  \n            return xValue(d[\"x\"]) })\n          .attr(\"y\", function(d) { return yValue(d[\"y\"]) })\n          .text((d)=>d[\"threshold\"])\n          .attr(\"font-size\",16)\n          .attr(\"visibility\",\"hidden\")\n          .on('contextmenu', (d,i) => {\n            d3.event.preventDefault();\n            this.pointRemove = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']})\n          })\n\n\n          // add hover box\n        var hover_box = svg \n          .append(\"rect\")\n          .attr(\"class\",\"hoverBox\")\n          .attr(\"width\",200)\n          .attr(\"height\",200)\n          .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-400: 115)\n          .attr(\"y\", this.evaluationKeys==\"roc\"? 105:205)\n          .attr(\"fill\",\"white\")\n          .attr(\"stroke\",\"black\")\n          .attr(\"visibility\",\"hidden\")\n          \n        // add threshold value\n        var threshold_text = svg.selectAll(\".text\")\n          .data(curveData)\n          .enter()\n          .selectAll(\".text\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"text\")\n          .attr(\"class\",(d,i)=>\"text_\"+d[\"name\"]+\"_\"+i)  \n          .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-395:120)\n          .attr(\"y\", this.evaluationKeys==\"roc\"? 160: 245)\n          .text(d=>\"Threshold: \"+formatDecimal(d['threshold']))\n          .style(\"font-size\", \"25px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .attr(\"visibility\",\"hidden\")\n\n        var threshold_text_fpr = svg.selectAll(\".text\")\n          .data(curveData)\n          .enter()\n          .selectAll(\".text\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"text\")\n          .attr(\"class\",(d,i)=>\"fpr_\"+d[\"name\"]+\"_\"+i)  \n          .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-395:120)\n          .attr(\"y\", this.evaluationKeys==\"roc\"? 200: 285)\n          .text(d=>this.evaluationKeys==\"roc\"? \"FPR: \"+formatDecimal(d['x']) : \"Recall: \"+formatDecimal(d['x']))\n          .style(\"font-size\", \"25px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .attr(\"visibility\",\"hidden\")\n        \n        var threshold_text_tpr = svg.selectAll(\".text\")\n          .data(curveData)\n          .enter()\n          .selectAll(\".text\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"text\")\n          .attr(\"class\",(d,i)=>\"tpr_\"+d[\"name\"]+\"_\"+i)  \n          .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-395:120)\n          .attr(\"y\", this.evaluationKeys==\"roc\"? 240: 325)\n          .text(d=>this.evaluationKeys==\"roc\"? \"TPR: \"+formatDecimal(d['y']) : \"Precision: \"+formatDecimal(d['y']))\n          .style(\"font-size\", \"25px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .attr(\"visibility\",\"hidden\")\n\n        var threshold_text_acc = svg.selectAll(\".text\")\n          .data(curveData)\n          .enter()\n          .selectAll(\".text\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"text\")\n          .attr(\"class\",(d,i)=>\"acc_\"+d[\"name\"]+\"_\"+i)  \n          .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-395:120)\n          .attr(\"y\", this.evaluationKeys==\"roc\"? 280: 365)\n          .text(d=> \"Accuracy: \"+formatDecimal(d['acc']))\n          .style(\"font-size\", \"25px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .attr(\"visibility\",\"hidden\")\n\n      \n          // add AUC values\n        var AUC_text = svg \n          .selectAll(\"myText\")\n          .data(curveData)\n          .enter().append(\"text\")\n          .attr(\"class\",(d)=>\"auc_value_\"+d.name)\n          .attr(\"x\", this.width-395)\n          .attr(\"y\", 130)\n          .text(d=>\"AUC: \"+formatDecimal(area_dict[d.name]))\n          .style(\"font-size\", \"25px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .attr(\"visibility\",\"hidden\")\n      } ;\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom * 0.8;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationKeys == \"roc\"? \"FPR\" : \"Recall\");\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationKeys == \"roc\"? \"TPR\" : \"Precision\");  \n      };\n\n      const drawLegend = () => {\n        var evaluationKeys = this.evaluationKeys\n        var legend_circle = svg \n          .selectAll(\"myCicle\")\n          .data(curveData)\n          .enter().append(\"circle\")\n          .attr(\"class\",(d,i)=>\"legend_circle_\"+d.name)\n          .attr(\"cx\",this.evaluationKeys == \"roc\"? 10 : this.width-100)\n          .attr(\"cy\",(d,i)=>10+i*25)\n          .attr(\"r\", 6)\n          .style(\"fill\", d=>d.color)\n          .on('mouseenter',d=>this.hover = ({classifier:d.name, threshold:''}))\n          .on('mouseleave', this.clearHover)  \n\n\n        var legend_text = svg \n          .selectAll(\"myText\")\n          .data(curveData)\n          .enter().append(\"text\")\n          .attr(\"class\",(d,i)=>\"legend_text_\"+d.name)\n          .attr(\"x\", this.evaluationKeys == \"roc\"? 30 : this.width-80)\n          .attr(\"y\", (d,i)=>10+i*25)\n          .text(d=>d.name)\n          .style(\"font-size\", \"15px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .on('mouseenter', d=>this.hover = ({classifier:d.name, threshold:''}))\n          .on('mouseleave', this.clearHover)  \n        \n        if (this.selection_mode != 'overall') {\n           svg \n            .append(\"line\")\n            .attr('y1',  10)\n            .attr('x1', 100)\n            .attr('x2', 140)\n            .attr('y2',  10)\n            .attr('stroke', 'blue')\n            .attr('stroke-width', '2px')\n            .attr('stroke-opacity', 0.5)\n            .style(\"stroke-dasharray\",(\"3, 3\"))\n          svg \n            .append(\"text\")\n            .attr('y',  10)\n            .attr('x', 142)\n            .style(\"font-size\", \"15px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .text(\"selection 1\")\n\n          svg \n            .append(\"line\")\n            .attr('y1', 25 + 10)\n            .attr('x1', 100)\n            .attr('x2', 140)\n            .attr('y2', 25 + 10)\n            .attr('stroke', 'blue')\n            .attr('stroke-width', '2px')\n            .attr('stroke-opacity', 0.5)\n          svg \n            .append(\"text\")\n            .attr('y', 25 + 10)\n            .attr('x', 142)\n            .style(\"font-size\", \"15px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .text(\"selection 2\")\n        }\n      };\n\n      const drawSelectedCurves = () => {\n        this.calculatedSelectedCurves();\n        // Add the X Axis\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height + \")\")\n            .call(d3.axisBottom(xValue));\n\n        // Add the Y Axis\n        svg.append(\"g\")\n            .call(d3.axisLeft(yValue)); \n\n        let count = 1;\n        this.selectedCurves.forEach((predictions)=>{\n          let classifierDict = {}\n          let idx = 0;\n          let selected_type = predictions.name\n          classifiers.forEach((c)=>{\n            idx += 1\n            classifierDict[c] = []\n            let count = predictions[c].x_roc.length;\n            let i = 0;\n            while (i < count) {\n              if (this.evaluationKeys == \"roc\") {\n                let cur_cordinate = {\"x\": predictions[c].x_roc[i], \"y\":predictions[c].y_roc[i], \"name\":c,\"threshold\":predictions[c].value_roc[i], \"color\":sequentialScale(idx)}\n                classifierDict[c].push(cur_cordinate)\n              } else {\n                let cur_cordinate = {\"x\": predictions[c].x_pr[i], \"y\":predictions[c].y_pr[i],\"name\":c,\"threshold\":predictions[c].value_roc[i], \"color\":sequentialScale(idx)}\n                classifierDict[c].push(cur_cordinate)\n              }\n              i+=1;\n            }\n          })\n          let curveData = []\n          let count = 0\n          classifiers.forEach((c)=>{\n            count += 1;\n            let curCurve = {\"name\":c,\"data\":classifierDict[c], \"color\":sequentialScale(count)}\n            curveData.push(curCurve)\n          })\n          \n          var data = classifierDict[classifiers[0]]\n          var area_dict = {}\n          // define the line\n          function path(d) {\n            var name = d.name\n            area_dict[name] = 0;\n            d = d.data\n            var path = \"M\" + \" \" + xValue(1) + \" \" + yValue(0)\n            var lastx = 1;\n            var lasty = 0;\n            d.forEach((cordinate)=>{\n              path = path + \" \" + xValue(cordinate.x)\n              path = path + \" \" + yValue(cordinate.y)\n              path = path + \" \" + \"L\"\n              area_dict[name] += ((cordinate.y + lasty) * (lastx- cordinate.x ) / 2)\n              lastx = cordinate.x;\n              lasty = cordinate.y;\n            })\n            path += xValue(0) + \" \" + yValue(0)\n            return path\n          }\n\n\n          function line(d) {\n            var name = d.name\n            area_dict[name] = 0;\n            d = d.data\n            var path = \"M\" //+ \" \" + xValue(1) + \" \" + yValue(0)\n            var lastx = 1;\n            var lasty = 0;\n            d.forEach((cordinate)=>{\n              path = path + \" \" + xValue(cordinate.x)\n              path = path + \" \" + yValue(cordinate.y)\n              path = path + \" \" + \"L\"\n              area_dict[name] += ((cordinate.y + lasty) * (lastx- cordinate.x ) / 2)\n              lastx = cordinate.x;\n              lasty = cordinate.y;\n            })\n            if (evaluationKeys == 'roc')\n              path += xValue(0) + \" \" + yValue(0)\n            return path\n          }\n\n          var lines = svg \n            .selectAll(\"myPath\")\n            .data(curveData)\n            .enter().append(\"path\")\n            .attr(\"d\",  line)\n            .attr(\"class\",(d,i)=>\"line_\"+d.name + \"_\" + selected_type)\n            .style(\"fill\", \"none\")\n            .attr(\"stroke\",(d)=>{\n              return d.color})\n            .style(\"stroke-width\", 3)\n            .style(\"stroke-dasharray\", selected_type == '1'? (\"3, 3\") : (\"0, 0\"))\n            .style(\"opacity\", 1)\n\n          var points = svg.selectAll(\".dot\")\n            .data(curveData)\n            .enter()\n            // .append(\"circle\")\n            .selectAll(\".circle\")\n            .data(function(d: string) { \n              return d[\"data\"]; })\n              .enter()\n              .append(\"circle\")\n            .attr(\"class\",(d,i)=>{\n              return \"dot_\"+d[\"name\"]+\"_\"+i })  \n            .attr(\"cx\", function(d, i) {  \n              return xValue(d[\"x\"]) })\n            .attr(\"cy\", function(d) { return yValue(d[\"y\"]) })\n            .attr(\"r\", 5)\n            .attr(\"fill\",(d)=>{\n              return d['color']})\n            .on('mouseenter', (d,i)=>this.hover = ({classifier: d[\"name\"], threshold:i}))\n            .on('mouseleave', (d,i)=>this.hover = ({classifier: '', threshold:i}))  \n            .on('click', (d,i) => this.pointSelection = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']}))\n            .on('contextmenu', (d,i) => {\n              d3.event.preventDefault();\n              this.pointRemove = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']})\n            })\n            .attr(\"opacity\",0);\n\n          var point_texts = svg.selectAll(\".pointText\")\n            .data(curveData)\n            .enter()\n            .selectAll(\".text\")\n            .data(function(d: string) { \n              return d[\"data\"]; })\n              .enter()\n              .append(\"text\")\n            .attr(\"class\",(d,i)=>{\n              return \"pointText_\"+d[\"name\"]+\"_\"+i})  \n            .attr(\"x\", function(d, i) {  \n              return xValue(d[\"x\"]) })\n            .attr(\"y\", function(d) { return yValue(d[\"y\"]) })\n            .text((d)=>d[\"threshold\"])\n            .attr(\"font-size\",16)\n            .attr(\"visibility\",\"hidden\")\n            .on('contextmenu', (d,i) => {\n              d3.event.preventDefault();\n              this.pointRemove = ({classifier: d[\"name\"]+\"_\"+i, threshold:d['threshold']})\n            })\n\n\n            // add hover box\n          var hover_box = svg \n            .append(\"rect\")\n            .attr(\"class\",\"hoverBox\")\n            .attr(\"width\",200)\n            .attr(\"height\",80)\n            .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-400: 115)\n            .attr(\"y\", this.evaluationKeys==\"roc\"? 105:205)\n            .attr(\"fill\",\"white\")\n            .attr(\"stroke\",\"black\")\n            .attr(\"visibility\",\"hidden\")\n            \n\n          // add threshold value\n          var threshold_text = svg.selectAll(\".text\")\n            .data(curveData)\n            .enter()\n            .selectAll(\".text\")\n            .data(function(d: string) { \n              return d[\"data\"]; })\n              .enter()\n              .append(\"text\")\n            .attr(\"class\",(d,i)=>\"text_\"+d[\"name\"]+\"_\"+i)  \n            .attr(\"x\", this.evaluationKeys==\"roc\"? this.width-395:120)\n            .attr(\"y\", this.evaluationKeys==\"roc\"? 160: 245)\n            .text(d=>\"Threshold: \"+formatDecimal(d['threshold']))\n            .style(\"font-size\", \"25px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .attr(\"visibility\",\"hidden\")\n\n            // add AUC values\n          var AUC_text = svg \n            .selectAll(\"myText\")\n            .data(curveData)\n            .enter().append(\"text\")\n            .attr(\"class\",(d)=>\"auc_value_\"+d.name + \"_\" + selected_type)\n            .attr(\"x\", this.width-395)\n            .attr(\"y\", 130)\n            .text(d=>\"selected \" + selected_type+  \" AUC: \"+formatDecimal(area_dict[d.name]))\n            .style(\"font-size\", \"25px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .attr(\"visibility\",\"hidden\")\n          count += 1\n        })\n          \n      };\n\n      drawTitles();\n      drawLegend();\n      if (this.selection_mode =='overall') {\n        drawInitalCurves();\n      } else {\n        drawSelectedCurves();\n      }\n      this.drawAddedPoint();\n      this.drawCurrentThreshold();\n    },\n\n    calculatedSelectedCurves() {\n      const classifiers = this.value.map((c)=>c.name);\n      const {first, second} = this.outSelections;\n      this.selectedCurves = []\n\n      const calculate_value = (classifier:string, selection: Set<string>) => {\n        let predictions = {};\n        let coordinates = [];\n        let classifierValues = {}\n        let auc = 0;\n        let last_acc = 0;\n        let last_change_index = 0;\n        let update_flag = 1;\n        let tmp_max_acc = 0;\n        const c = classifier\n        const formatDecimal = d3.format(\".2f\")\n        predictions[c] = { \n          x_roc: [],\n          y_roc: [],\n          value_roc:[],\n          x_pr: [],\n          y_pr: [],\n          auc_area: 0,\n        }; \n        classifierValues[c] = []\n        selection.forEach((id)=>{\n          const i = instanceById(id);\n          if (!classifierValues[c].includes(i.continuous_predictions[c]))\n            classifierValues[c].push(i.continuous_predictions[c])\n        })\n        classifierValues[c].sort();\n        classifierValues[c].forEach((value)=>{\n          value = formatDecimal(value)\n          let tp = 0;\n          let fp = 0;\n          let fn = 0;\n          let tn = 0;\n          selection.forEach((id)=>{\n            const i = instanceById(id);\n            const predict = i.continuous_predictions[c] < parseFloat(value) ? this.classes[0] : this.classes[1];\n            if (i.actual == this.classes[1]) {\n              if (predict == i.actual) {\n                tp+=1;\n              } else {\n                fn+=1;\n              }\n            } else {\n              if (predict == i.actual) {\n                tn+=1;\n              } else {\n                fp+=1;\n              }\n            }\n          })\n          if (tp < last_acc) {\n            update_flag = 0;\n          }\n          if (update_flag == 1 && tp >= last_acc) {\n            last_change_index += 1;\n            last_acc = tp;\n          }\n          if (tp+tn > tmp_max_acc) {\n            tmp_max_acc = tp+tn;\n          }\n\n          coordinates.push({\"x\":fp/(fp+tn), \"y\":tp/(tp+fn)});\n          predictions[c].x_roc.push((fp/(fp+tn)))\n          predictions[c].y_roc.push((tp/(tp+fn)))\n          predictions[c].value_roc.push(value)\n          predictions[c].x_pr.push((tp/(tp+fn)))\n          predictions[c].y_pr.push((tp/(tp+fp)))\n        }) \n          \n\n        let lastx = 0;\n        let lasty = 0;\n        coordinates.sort(function(x, y){\n          return d3.ascending(x.x, y.x);\n        })\n        coordinates.forEach((cor)=>{\n          auc += (((cor.y + lasty) * (cor.x - lastx) / 2))\n          lastx = cor.x;\n          lasty = cor.y;\n        })\n        return predictions[c]\n      }\n\n      if (first) {\n        let predictions = {'name': '1'}\n        classifiers.forEach((c)=>{\n          predictions[c] = calculate_value(c, first.instances)\n        })\n        this.selectedCurves.push(predictions)\n      } \n      if (second) {\n        let predictions = {'name': '2'}\n        classifiers.forEach((c)=>{\n          predictions[c] = calculate_value(c, second.instances)\n        })\n        this.selectedCurves.push(predictions)\n      }\n      \n    },\n    \n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerfCurves.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierPerfCurves.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OverallClassifierPerfCurves.vue?vue&type=template&id=603a45b7&scoped=true&\"\nimport script from \"./OverallClassifierPerfCurves.vue?vue&type=script&lang=ts&\"\nexport * from \"./OverallClassifierPerfCurves.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OverallClassifierPerfCurves.vue?vue&type=style&index=0&id=603a45b7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"603a45b7\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"(Trinary) Performance Confidence\")])],1)]),_c('v-expansion-panel-content'),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Distribution Mode\"},model:{value:(_vm.distribution),callback:function ($$v) {_vm.distribution=$$v},expression:\"distribution\"}},[_c('v-radio',{attrs:{\"label\":\"original distribution\",\"value\":\"original\"}}),_c('v-radio',{attrs:{\"label\":\"trinary distribution\",\"value\":\"trinary\"}})],1)],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Selection Mode\"},model:{value:(_vm.selection_mode),callback:function ($$v) {_vm.selection_mode=$$v},expression:\"selection_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall confidence \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"selection confidence\",\"value\":\"selected\"}})],1)],1)])],1)],1),_c('div',{attrs:{\"id\":\"legend1\"}},[(_vm.selection_mode == 'overall')?_c('v-switch',{staticClass:\"ml-8\",staticStyle:{\"font-size\":\"12px\"},attrs:{\"label\":\"normalize\"},model:{value:(_vm.normalization_switch),callback:function ($$v) {_vm.normalization_switch=$$v},expression:\"normalization_switch\"}}):_vm._e()],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\n\nexport default Vue.extend({\n  name: 'Trinary_Performance_Confidence',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      selection:'' as '1' | '2',\n      classifier: '',\n      interval:''\n    };\n    const hover_distribution = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n      interval:''\n    };\n    const distribution = 'trinary' as 'trinary' | 'original' \n    const selection_mode = 'overall' as 'overall' | 'selected'\n    return {\n      selection_mode:'overall',\n      maxIntervals:0,\n      distribution,\n      hover_distribution,\n      normalization:'No',\n      height,\n      hover,\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#b8ddf2',\n      width,\n      selectedEval:'',\n      wrongColor: '#f7c8aa',\n      rightColor1: '#b8ddf2',\n      wrongColor1: '#f7c8aa',\n      rightHoverColor1: '#4ba0ce',\n      wrongHoverColor1: '#ff884d',\n      rightHoverColor: '#4393c3',\n      wrongHoverColor: '#d6604d',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      nameTocontinuous: {},\n    };\n  },\n  computed: {\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      return this.$store.state.addedThresholdClassifiers.map((c)=>c.name);\n    },\n    addedBandWidthClassifiers() {\n      if (this.$store.state.addedBandWidthClassifiers.length == 0) {\n        const value = Object.keys(this.$store.state.classifierThresholdDict).map((c)=> {\n          let threshold = (this.$store.state.classifierThresholdDict[c] / 100)\n          return {'name': c + '(' + ((threshold-0.05) < 0 ? 0 : threshold-0.05).toFixed(2) + ',' + ((threshold+0.05 > 1 ? 1: threshold+0.05)).toFixed(2) + ')' }\n        });\n        return value\n      }\n      return this.$store.state.addedBandWidthClassifiers;\n    },\n    normalization_switch: {\n      set() {\n        if (this.normalization == \"Yes\") {\n          this.normalization = \"No\"\n        } else {\n          this.normalization = \"Yes\"\n        }\n      },\n      get() {\n        return this.normalization === \"Yes\";\n      }\n    },\n    bandWidthClassifiers(): string[] {\n      let classifiers = []\n      this.classifiers.forEach((c)=>{\n        classifiers.push(c)\n      })\n      this.addedThresholdClassifiers.forEach((classifier)=>{\n          classifiers.push(classifier)\n      })\n      return classifiers;\n    },\n    classifierBandWidthDict(): string[] {\n      if (this.distribution == 'original') {\n        const thresholdRange = this.boxProps.classifierBandWidthDict;\n        const classifiers = this.bandWidthClassifiers;\n        if (Object.keys(thresholdRange).length == 0 || classifiers.length != Object.keys(thresholdRange).length ) {\n            classifiers.forEach((c) => {\n              if (!Object.keys(thresholdRange).includes(c) ) {\n                thresholdRange[c] = {\n                  name:c,\n                  threshold: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] : 0,\n                  left_range:  !Object.keys( this.classifierThresholds).includes(c)? 0 : this.classifierThresholds[c] / 100 - 0.05 < 0 ? 0 : this.classifierThresholds[c] / 100 - 0.05,\n                  right_range: !Object.keys( this.classifierThresholds).includes(c)? 0 : this.classifierThresholds[c] / 100 + 0.05 > 1 ? 1 : this.classifierThresholds[c] / 100 + 0.05\n                }\n              }  \n            })\n          }\n        return thresholdRange\n      } \n      let tmp = []\n      let classifiers = this.addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n      classifiers.forEach((c)=>{\n        let classifier = c.split('(')[0]\n        let left_edge = parseFloat(c.substring(c.length-10, c.length-6)).toFixed(2)\n        let right_edge = parseFloat(c.substring(c.length-5, c.length-1)).toFixed(2)\n        let cur_threshold  = ((parseFloat(right_edge) + parseFloat(left_edge)) / 2).toFixed(2)\n        tmp[c] = {\n          name:c,\n          threshold:cur_threshold,\n          left_range: left_edge,\n          right_range: right_edge\n        }\n      })\n      return tmp;\n    },\n    bandWidthChangedClassifierName(): string {\n      return this.$store.state.bandWidthChangedClassifierName\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThresholdDict;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    confidence(): string[] {\n      return [\"0\",\"0.1\",\"0.2\",\"0.3\",\"0.4\",\"0.5\",\"0.6\",\"0.7\",\"0.8\",\"0.9\",\"1.0\"]\n    },\n    confidenceIndex() : {} {\n      let confidenceIndex  = {}\n      for (let i in this.confidence) {\n        confidenceIndex[this.confidence[i]] = parseInt(i)\n      }\n      return confidenceIndex\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    continuousPredictionKeys():string[]{\n      if (this.$store.state.datasetType == \"continuous\") {\n        var continuousPredictionKeys = []\n        this.classifiers.forEach((c)=>{\n          continuousPredictionKeys.push(c+\"_\"+this.$store.state.classifierThresholdDict[c]/100)\n          this.nameTocontinuous[c] = c+\"_\"+this.$store.state.classifierThresholdDict[c]/100\n        })\n        this.addedThresholdClassifiers.forEach((c)=>{\n          continuousPredictionKeys.push(c)\n        })\n        return continuousPredictionKeys\n      } else {\n        return this.predictionKeys;\n      }\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    \n    metrics(): MetricsWithClassifier[] {\n      const storeMetrics: {\n        [classifier: string]: Metrics,\n      } = this.$store.getters.metrics;\n\n      const metrics: MetricsWithClassifier[] = Object.entries(storeMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          metrics: m,\n        };\n      });\n      return metrics;\n    },\n    predictions(): {\n      [classifier: string]: {\n        name: String,\n        threshold: Number,\n        acc: Number,\n        ci_tp: number[],\n        ci_fn: number[],\n        ci_tn: number[],\n        ci_fp: number[],\n        ci_mn: number[],\n        ci_mp: number[],\n        ci_pred: number[],\n        ci_tp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_fn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n        ci_fp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_tn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n        ci_mp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_mn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n        all_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n        continuous_pred: Number[]\n      },\n    }{\n      const predictions: {\n        [classifier: string]: {\n          name: String,\n          threshold: number,\n          acc: number,\n          ci_tp: number[],\n          ci_fn: number[],\n          ci_tn: number[],\n          ci_fp: number[],\n          ci_mn: number[],\n          ci_mp: number[],\n          ci_pred: number[],\n          ci_tp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_tn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_mp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n          },\n          ci_mn_instances: {\n            [confidence: string]:{\n              instances: Set<String>,\n              }\n          },\n          all_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          continuous_pred: Number[]\n        },\n      } = {};\n      var allIntervals = [];\n\n      \n      if (this.distribution == 'trinary') {\n          this.addedBandWidthClassifiers.forEach((origin_c)=>{\n          let c = origin_c.name;\n          let classifier = c.split('(')[0]\n          let left_edge = parseFloat(c.substring(c.length-10, c.length-6)).toFixed(2)\n          let right_edge = parseFloat(c.substring(c.length-5, c.length-1)).toFixed(2)\n          let cur_threshold  = (parseFloat(right_edge) + parseFloat(left_edge)) / 2\n          predictions[c] = {\n            name:c,\n            threshold: cur_threshold,\n            acc: 0,\n            ci_tp: [],\n            ci_fn: [],\n            ci_tn: [],\n            ci_fp: [],\n            ci_mn: [],\n            ci_mp: [],\n            ci_pred: [],\n            ci_tp_instances: {},\n            ci_fp_instances: {},\n            ci_tn_instances: {},\n            ci_fn_instances: {},\n            ci_mp_instances: {},\n            ci_mn_instances: {},\n            all_instances: {},\n            continuous_pred: []\n          };\n          this.confidence.forEach((conf)=>{\n            predictions[c][\"ci_tp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_tn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_fp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_fn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_mp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_mn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"all_instances\"][conf] = {\n              instances: new Set(),\n            }\n          })\n          this.instances.forEach((id)=>{\n            let continuous_value = (instanceById(id).continuous_predictions[classifier])\n            let correct = instanceById(id).actual == instanceById(id).predictions[classifier]? 1 : 0;\n            predictions[c].continuous_pred.push(parseFloat(continuous_value))\n            let interval = (continuous_value.split(\".\")[1].substring(0,1)/10).toString()\n            if ((continuous_value.split(\".\")[0]=='1')) {\n              interval = \"1.0\"\n            }\n            let interval_index = this.confidenceIndex[interval]\n            if (interval_index > 0 && interval_index < this.confidence.length) {\n              let latter_index = interval_index + 1\n              let latter_confi = parseFloat(this.confidence[latter_index])\n              if (Math.abs(latter_confi - parseFloat (continuous_value)) < Math.abs(parseFloat (continuous_value) - parseFloat(interval))) {\n                interval = this.confidence[latter_index]\n              }\n            }  \n\n            predictions[c][\"all_instances\"][interval].instances.add(id);\n            if (continuous_value > left_edge && continuous_value < right_edge) {\n                if (continuous_value >=  (predictions[c].threshold) / 100) {\n                  predictions[c][\"ci_mp_instances\"][interval].instances.add(id)\n                } else {\n                  predictions[c][\"ci_mn_instances\"][interval].instances.add(id)\n                }\n            } else if (continuous_value >= right_edge){\n              if (instanceById(id).actual == this.classes[1]){\n                predictions[c][\"ci_tp_instances\"][interval].instances.add(id)\n              } else {\n                predictions[c][\"ci_fp_instances\"][interval].instances.add(id)\n              }\n            } else{\n              if (instanceById(id).actual == this.classes[0]) {\n                predictions[c][\"ci_tn_instances\"][interval].instances.add(id)\n              } else {\n                predictions[c][\"ci_fn_instances\"][interval].instances.add(id)\n              }\n            }\n          })\n\n          this.confidence.forEach((conf)=>{\n            predictions[c][\"ci_tp\"].push(predictions[c][\"ci_tp_instances\"][conf].instances.size)\n            predictions[c][\"ci_tn\"].push(predictions[c][\"ci_tn_instances\"][conf].instances.size)\n            predictions[c][\"ci_fp\"].push(predictions[c][\"ci_fp_instances\"][conf].instances.size)\n            predictions[c][\"ci_fn\"].push(predictions[c][\"ci_fn_instances\"][conf].instances.size)\n            predictions[c][\"ci_mp\"].push(predictions[c][\"ci_mp_instances\"][conf].instances.size)\n            predictions[c][\"ci_mn\"].push(predictions[c][\"ci_mn_instances\"][conf].instances.size)\n            allIntervals.push(predictions[c][\"ci_tn_instances\"][conf].instances.size + predictions[c][\"ci_tp_instances\"][conf].instances.size + predictions[c][\"ci_fn_instances\"][conf].instances.size + predictions[c][\"ci_fp_instances\"][conf].instances.size)\n          });\n\n          for (let i in predictions[c][\"ci_tp\"]) {\n            predictions[c][\"ci_pred\"].push(predictions[c][\"ci_tp\"][i] + predictions[c][\"ci_tn\"][i] + predictions[c][\"ci_fp\"][i] +\n                                          predictions[c][\"ci_fn\"][i] + predictions[c][\"ci_mp\"][i] + predictions[c][\"ci_mn\"][i] )\n\n          }\n\n\n        })\n      } else {\n          this.classifiers.forEach((c) => {\n          let left_edge = Object.keys(this.classifierBandWidthDict).length == 0? 0.45: this.classifierBandWidthDict[c].left_range;//this.thresholdRange[c].left_range;\n          let right_edge = Object.keys(this.classifierBandWidthDict).length == 0? 0.55: this.classifierBandWidthDict[c].right_range; //this.thresholdRange[c].right_range; \n          let cur_acc = 0\n          predictions[c] = {\n            name:c,\n            threshold: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] : 0,\n            acc: 0,\n            ci_tp: [],\n            ci_fn: [],\n            ci_tn: [],\n            ci_fp: [],\n            ci_mn: [],\n            ci_mp: [],\n            ci_pred: [],\n            ci_tp_instances: {},\n            ci_fp_instances: {},\n            ci_tn_instances: {},\n            ci_fn_instances: {},\n            ci_mp_instances: {},\n            ci_mn_instances: {},\n            all_instances: {},\n            continuous_pred: []\n          };\n          this.confidence.forEach((conf)=>{\n            predictions[c][\"ci_tp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_tn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_fp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_fn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_mp_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"ci_mn_instances\"][conf] = {\n              instances: new Set(),\n            }\n            predictions[c][\"all_instances\"][conf] = {\n              instances: new Set(),\n            }\n          })\n          this.instances.forEach((id)=>{\n            let continuous_value = (instanceById(id).continuous_predictions[c])\n            let correct = instanceById(id).actual == instanceById(id).predictions[c]? 1 : 0;\n            predictions[c].continuous_pred.push(parseFloat(continuous_value))\n            let interval = (continuous_value.split(\".\")[1].substring(0,1)/10).toString()\n            if ((continuous_value.split(\".\")[0]=='1')) {\n              interval = \"1.0\"\n            }\n            let interval_index = this.confidenceIndex[interval]\n            if (interval_index > 0 && interval_index < this.confidence.length) {\n              let latter_index = interval_index + 1\n              let latter_confi = parseFloat(this.confidence[latter_index])\n              if (Math.abs(latter_confi - parseFloat (continuous_value)) < Math.abs(parseFloat (continuous_value) - parseFloat(interval))) {\n                interval = this.confidence[latter_index]\n              }\n            }  \n            \n            predictions[c][\"all_instances\"][interval].instances.add(id);\n            if (continuous_value > left_edge && continuous_value < right_edge) {\n                if (continuous_value >=  (predictions[c].threshold) / 100) {\n                  predictions[c][\"ci_mp_instances\"][interval].instances.add(id)\n                } else {\n                  predictions[c][\"ci_mn_instances\"][interval].instances.add(id)\n                }\n            } else if (continuous_value >= right_edge){\n              if (instanceById(id).actual == this.classes[1]){\n                predictions[c][\"ci_tp_instances\"][interval].instances.add(id)\n              } else {\n                predictions[c][\"ci_fp_instances\"][interval].instances.add(id)\n              }\n            } else{\n              if (instanceById(id).actual == this.classes[0]) {\n                predictions[c][\"ci_tn_instances\"][interval].instances.add(id)\n              } else {\n                predictions[c][\"ci_fn_instances\"][interval].instances.add(id)\n              }\n            }\n              \n          })\n          this.confidence.forEach((conf)=>{\n            predictions[c][\"ci_tp\"].push(predictions[c][\"ci_tp_instances\"][conf].instances.size)\n            predictions[c][\"ci_tn\"].push(predictions[c][\"ci_tn_instances\"][conf].instances.size)\n            predictions[c][\"ci_fp\"].push(predictions[c][\"ci_fp_instances\"][conf].instances.size)\n            predictions[c][\"ci_fn\"].push(predictions[c][\"ci_fn_instances\"][conf].instances.size)\n            predictions[c][\"ci_mp\"].push(predictions[c][\"ci_mp_instances\"][conf].instances.size)\n            predictions[c][\"ci_mn\"].push(predictions[c][\"ci_mn_instances\"][conf].instances.size)\n            allIntervals.push(predictions[c][\"ci_tn_instances\"][conf].instances.size + predictions[c][\"ci_tp_instances\"][conf].instances.size + predictions[c][\"ci_fn_instances\"][conf].instances.size + predictions[c][\"ci_fp_instances\"][conf].instances.size)\n          });\n\n          for (let i in predictions[c][\"ci_tp\"]) {\n            predictions[c][\"ci_pred\"].push(predictions[c][\"ci_tp\"][i] + predictions[c][\"ci_tn\"][i] + predictions[c][\"ci_fp\"][i] +\n                                          predictions[c][\"ci_fn\"][i] + predictions[c][\"ci_mp\"][i] + predictions[c][\"ci_mn\"][i] )\n\n          }\n        });\n      }\n      \n      this.maxIntervals = d3.max(allIntervals) *0.9 ;\n      this.x.domain([0,d3.max(allIntervals)*2])\n      return predictions;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleLinear<number, number> {\n      let classifiers = this.addedBandWidthClassifiers.map((c)=>{\n        c.name\n      })\n      const x = d3.scaleLinear()\n        .range([0, this.width / classifiers.length])\n        .domain([0,100])\n      return x;    \n    },\n    xRight(): d3.ScaleLinear<number, number> {\n      let classifiers = this.addedBandWidthClassifiers.map((c)=>{\n        c.name\n      })\n      const x = d3.scaleLinear()\n        .range([0, this.width / classifiers.length])\n        .domain([0,1])\n      return x;    \n    },\n    y(): d3.ScaleBand<string> {\n      const y = d3.scaleBand<string>()\n        .range([this.height, 0])\n        .padding(0.1).domain(this.confidence);\n      return y;\n    },\n    yScale(): d3.ScaleLinear<number, number> {\n      const yScale = d3.scaleLinear()\n          .domain([0, 1])\n          .range([this.height,0])\n      return yScale;      \n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: { \n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Trinary_Performance_Confidence') {\n          if (view.config) {\n            let value  = view.config;\n            this.selection_mode = value.selection\n            this.distribution = value.distribution\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Trinary_Performance_Confidence\", \n                    \"config\": {\n                      \"selection\":this.selection_mode,\n                      \"distribution\":this.distribution}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    addedBandWidthClassifiers() {\n      this.drawInitial();\n    },\n    selection_mode() {\n      this.drawInitial();\n    },\n    normalization() {\n      if (this.distribution == 'original') {\n        this.drawOriginalDistribution();\n      } else {\n        this.drawInitial();\n      }\n    },\n    hover_distribution() {\n      this.drawDistributionHover();\n    },\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      if (this.distribution == 'original') {\n        this.drawOriginalDistribution();\n      } else {\n        this.drawInitial();\n      }\n    },\n    selections() {\n      if (this.selection_mode == 'selected') {\n        this.drawInitial();\n      }\n      this.drawSelections();\n      this.drawDistSelections();\n    },\n    distribution() {\n      if (this.distribution == 'original') {\n        this.drawOriginalDistribution();\n      } else {\n        this.drawInitial();\n      }\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Trinary_Performance_Confidence') {\n        if (view.config) {\n          let value  = view.config;\n          this.selection_mode = value.selection\n          this.distribution = value.distribution\n        }\n      }\n    })\n    this.drawInitial();\n  },\n  methods: {\n    dataUpdateWithRange() {\n      const classifier = this.bandWidthChangedClassifierName;//this.sliderRange.classifier;\n\n      // find the upper and lower bound of the confidence\n      const left_edge =this.classifierBandWidthDict[classifier].left_range; //this.thresholdRange[classifier].left_range;\n      const right_edge = this.classifierBandWidthDict[classifier].right_range; //this.thresholdRange[classifier].right_range; \n      let lowerConfi = 0;\n      let upperConfi = 0;\n      let pre = -0.1\n      this.confidence.forEach((c)=>{\n        if (left_edge <= c && left_edge > pre) {\n          lowerConfi = pre\n        }\n        if (right_edge <= c && right_edge > pre) {\n          upperConfi = c\n        }\n        pre = c\n      }) \n\n      // updtae corresponding predictions\n      for (let i in this.confidence) {\n        let conf = this.confidence[i]\n        let cur_instances = [...this.predictions[classifier][\"all_instances\"][conf].instances];\n        let interval = conf\n        if (conf >= lowerConfi && conf <= upperConfi) {\n          this.predictions[classifier][\"ci_tp_instances\"][conf][\"instances\"] = new Set();\n          this.predictions[classifier][\"ci_tn_instances\"][conf][\"instances\"] = new Set();\n          this.predictions[classifier][\"ci_fp_instances\"][conf][\"instances\"] = new Set();\n          this.predictions[classifier][\"ci_fn_instances\"][conf][\"instances\"] = new Set();\n          this.predictions[classifier][\"ci_mp_instances\"][conf][\"instances\"] = new Set();\n          this.predictions[classifier][\"ci_mn_instances\"][conf][\"instances\"] = new Set();\n          cur_instances.forEach((id)=>{\n            let continuous_value = (instanceById(id).continuous_predictions[classifier])\n            let correct = instanceById(id).actual == instanceById(id).predictions[classifier]? 1 : 0;\n            if (continuous_value > left_edge && continuous_value < right_edge) {\n                if (continuous_value >= this.predictions[classifier].threshold || parseFloat (interval) > this.predictions[classifier].threshold / 100) {\n                  this.predictions[classifier][\"ci_mp_instances\"][interval].instances.add(id)\n                } else {\n                  this.predictions[classifier][\"ci_mn_instances\"][interval].instances.add(id)\n                }\n            } else if (continuous_value >= right_edge){\n              if (instanceById(id).actual == this.classes[1]){\n                this.predictions[classifier][\"ci_tp_instances\"][interval].instances.add(id)\n              } else {\n                this.predictions[classifier][\"ci_fp_instances\"][interval].instances.add(id)\n              }\n            } else{\n              if (instanceById(id).actual == this.classes[0]) {\n                this.predictions[classifier][\"ci_tn_instances\"][interval].instances.add(id)\n              } else {\n                this.predictions[classifier][\"ci_fn_instances\"][interval].instances.add(id)\n              }\n            }\n          })\n          this.predictions[classifier].ci_tp[i] = this.predictions[classifier][\"ci_tp_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_tn[i] = this.predictions[classifier][\"ci_tn_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_fp[i] = this.predictions[classifier][\"ci_fp_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_fn[i] = this.predictions[classifier][\"ci_fn_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_mp[i] = this.predictions[classifier][\"ci_mp_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_mn[i] = this.predictions[classifier][\"ci_mn_instances\"][conf][\"instances\"].size;\n          this.predictions[classifier].ci_pred[i] = (this.predictions[classifier].ci_tp[i] + this.predictions[classifier].ci_tn[i] + this.predictions[classifier].ci_fp[i] +\n                  this.predictions[classifier].ci_fn[i] + this.predictions[classifier].ci_mp[i] + this.predictions[classifier].ci_mn[i]);\n        }\n      }\n    },\n    drawUpdateWithRange(){\n      const classifier = this.bandWidthChangedClassifierName;\n      const instances = this.instances;\n      const yScale = this.yScale\n      const chart = d3.select(this.$refs.svg);\n\n      chart.select('.slider-circle-time-from-'+classifier).attr('transform', (d:string)=>\n               'translate(0,'+ yScale( this.classifierBandWidthDict[this.bandWidthChangedClassifierName].left_range.toFixed(2)) +')'+'rotate(30)')\n      chart.select('.slider-circle-time-to-'+classifier).attr('transform', (d:string)=>\n               'translate(0,'+ yScale( this.classifierBandWidthDict[this.bandWidthChangedClassifierName].right_range.toFixed(2)) +')'+'rotate(30)')\n      chart.select('.slider-line-'+classifier).attr(\"y1\",(d:string)=>yScale( this.classifierBandWidthDict[this.bandWidthChangedClassifierName].left_range.toFixed(2)))\n                .attr(\"y2\",(d:string)=>yScale( this.classifierBandWidthDict[this.bandWidthChangedClassifierName].right_range.toFixed(2)))\n      \n      this.dataUpdateWithRange();\n      this.drawConfidence();\n    },\n    clearDistributionHover() {\n      this.hover_distribution = ({type: '', classifier: '', interval:''})\n    },\n    clearHover() { \n      this.hover = ({type: '', selection: '', classifier: '',interval:''});\n    },\n    drawHover() {\n      const chart = d3.select(this.$refs.svg);\n      const rightBars = chart.selectAll('.bar-right1');\n      const wrongBars = chart.selectAll('.bar-wrong1');\n      const rightBars2 = chart.selectAll('.bar-right2');\n      const wrongBars2 = chart.selectAll('.bar-wrong2');\n      const midBars = chart.selectAll('.bar-middle1');\n      const midBars2 = chart.selectAll('.bar-middle2');\n      const hoverRect = chart.select(\".y-axis-marker-rect\")\n      const yAxisMarkerTextRight = chart.select('.y-axis-marker-text-right1');\n      const yAxisMarkerTextWrong = chart.select('.y-axis-marker-text-wrong1');\n      const yAxisMarkerTextMiddle = chart.select('.y-axis-marker-text-middle1');\n      const yAxisMarkerTextRight_s1 = chart.select('.y-axis-marker-text-right1-s1');\n      const yAxisMarkerTextWrong_s1 = chart.select('.y-axis-marker-text-wrong1-s1');\n      const yAxisMarkerTextMiddle_s1 = chart.select('.y-axis-marker-text-middle1-s1');\n      const yAxisMarkerTextRight_s2 = chart.select('.y-axis-marker-text-right1-s2');\n      const yAxisMarkerTextWrong_s2 = chart.select('.y-axis-marker-text-wrong1-s2');\n      const yAxisMarkerTextMiddle_s2 = chart.select('.y-axis-marker-text-middle1-s2');\n\n      const { first, second } = this.selections; //rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1)\n      const rightOverLap = (classifierName:string,confidence:string, selection: Set<string>,type) => {\n        const instances = type==1? this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  :this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances)\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : (overlappingInstances.size * 100  / instances.size).toFixed(0);\n        return fractionOfTotalInstances;\n      };\n\n      const wrongOverLap = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances)\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : (overlappingInstances.size * 100 /instances.size).toFixed(0);\n        return fractionOfTotalInstances;\n      };\n\n      const middleOverLap = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances)\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : (overlappingInstances.size * 100 /instances.size).toFixed(0);\n        return  fractionOfTotalInstances;\n      };\n      const classifiers = this. addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(classifiers);\n\n\n\n      if (this.hover.type === 'right1' && this.hover.selection == '') {\n        rightBars\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          rightBars.attr('fill', this.rightColor);\n      }\n      if (this.hover.type === 'wrong1' && this.hover.selection == '') {\n        wrongBars\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          wrongBars.attr('fill', this.wrongColor);\n      }\n      if (this.hover.type === 'middle1' && this.hover.selection == '') {\n        midBars\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? 'grey'\n              : 'lightgrey');\n      } else {\n        if (this.selection_mode == 'overall')\n          midBars.attr('fill', 'lightgrey');\n      }\n\n      if (this.hover.type === 'right2' && this.hover.selection == '') {\n        rightBars2\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? this.rightHoverColor1\n              : this.rightColor1);\n      } else {\n        if (this.selection_mode == 'overall')\n          rightBars2.attr('fill', this.rightColor1);\n      }\n\n      if (this.hover.type === 'wrong2' && this.hover.selection == '') {\n        wrongBars2\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? this.wrongHoverColor1\n              : this.wrongColor1);\n      } else {\n        if (this.selection_mode == 'overall')\n          wrongBars2.attr('fill', this.wrongColor1);\n      }\n\n      if (this.hover.type === 'middle2' && this.hover.selection == '') {\n        midBars2\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"confidence\"] === this.hover.interval\n              ? 'grey'\n              : 'lightgrey');\n      } else {\n        if (this.selection_mode == 'overall')\n          midBars2.attr('fill', 'lightgrey');\n      }\n\n\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n\n      if (this.hover.type){\n        hoverRect\n           .transition()\n            .duration(moveDuration)\n            .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-120) + \",0)\" )\n            .attr('opacity', 1);\n        if(this.hover.type == \"right1\" || this.hover.type == \"wrong1\" || this.hover.type == \"middle1\") {\n    \n          yAxisMarkerTextRight\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr(\"transform\", \n              \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-60)\" )\n            .text(this.normalization == 'Yes'? \"tp (%)\" : \"tp: \"+ (this.predictions[this.hover.classifier][\"ci_tp_instances\"][this.hover.interval].instances.size));\n\n          yAxisMarkerTextMiddle\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1) \n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-40)\" )\n              .text(this.normalization == 'Yes'? \"mp (%)\" : \"mp:\"+(this.predictions[this.hover.classifier][\"ci_mp_instances\"][this.hover.interval].instances.size));\n  \n          yAxisMarkerTextWrong\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)  \n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-20)\" )\n              .text(this.normalization == 'Yes'? \"fp (%)\" : \"fp:\"+(this.predictions[this.hover.classifier][\"ci_fp_instances\"][this.hover.interval].instances.size));\n          if (first) {\n            yAxisMarkerTextRight_s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"steelblue\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-60)\" )\n              .text(\"1st: \"+rightOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n\n            yAxisMarkerTextMiddle_s1\n                .transition()\n                .duration(moveDuration)\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"steelblue\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-40)\" )\n                .text(\"1st: \"+middleOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n    \n            yAxisMarkerTextWrong_s1\n                .transition()\n                .duration(moveDuration)\n                .attr(\"fill\",\"steelblue\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-20)\" )\n                .text(\"1st: \"+wrongOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n          }\n          if (second) {\n            yAxisMarkerTextRight_s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",this.selection2Color)\n              .attr(\"transform\",  \"translate(\" +  (xAxis(this.hover.classifier)+60)  + \",-60)\" )\n              .text(\"2nd: \"+rightOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n\n            yAxisMarkerTextMiddle_s2\n                .transition()\n                .duration(moveDuration)\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",this.selection2Color)\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60)+ \",-40)\" )\n                .text(\"2nd: \"+middleOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n    \n            yAxisMarkerTextWrong_s2\n                .transition()\n                .duration(moveDuration)\n                .attr(\"fill\",this.selection2Color)\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-20)\" )\n                .text(\"2nd: \"+wrongOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n          }\n        } else {\n         \n          yAxisMarkerTextRight\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-60)\" )\n            .text(this.normalization == 'Yes'? \"tn (%)\" : \"tn: \"+`${(this.predictions[this.hover.classifier][\"ci_tn_instances\"][this.hover.interval].instances.size)}`);\n\n          yAxisMarkerTextMiddle\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1) \n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-40)\" )\n              .text(this.normalization == 'Yes'? \"mn (%)\" : \"mn: \"+`${(this.predictions[this.hover.classifier][\"ci_mn_instances\"][this.hover.interval].instances.size)}`);\n  \n          yAxisMarkerTextWrong\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)  \n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-80) + \",-20)\" )\n              .text(this.normalization == 'Yes'? \"fn (%)\" : \"fn: \"+`${(this.predictions[this.hover.classifier][\"ci_fn_instances\"][this.hover.interval].instances.size)}`);\n          if (first) {\n            yAxisMarkerTextRight_s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"steelblue\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-60)\" )\n              .text(\"1st: \"+rightOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n\n            yAxisMarkerTextMiddle_s1\n                .transition()\n                .duration(moveDuration)\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"steelblue\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-40)\" )\n                .text(\"1st: \"+middleOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n    \n            yAxisMarkerTextWrong_s1\n                .transition()\n                .duration(moveDuration)\n                .attr(\"fill\",\"steelblue\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-20)\" )\n                .text(\"1st: \"+wrongOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n          }\n          if (second) {\n            yAxisMarkerTextRight_s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",this.selection2Color)\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-60)\" )\n              .text(\"2nd: \"+rightOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n\n            yAxisMarkerTextMiddle_s2\n                .transition()\n                .duration(moveDuration)\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",this.selection2Color)\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60)+ \",-40)\" )\n                .text(\"2nd: \"+middleOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n    \n            yAxisMarkerTextWrong_s2\n                .transition()\n                .duration(moveDuration)\n                .attr(\"fill\",this.selection2Color)\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-20)\" )\n                .text(\"2nd: \"+wrongOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n          }\n        }\n\n      } else {\n\n        yAxisMarkerTextRight\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextMiddle\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextWrong\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextRight_s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextMiddle_s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextWrong_s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextRight_s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextMiddle_s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextWrong_s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        // yAxisMarkerLine2\n        //   .transition()\n        //   .duration(disappearDuration)\n        //   .attr('stroke-opacity', 0);\n        // yAxisMarkerLine2_2\n        //   .transition()\n        //   .duration(disappearDuration)\n        //   .attr('stroke-opacity', 0);\n        hoverRect\n          .transition()\n          .duration(disappearDuration)\n          .attr('opacity', 0);\n      }\n    },\n    drawDistributionHover() {\n      const chart = d3.select(this.$refs.svg);\n      const predBars = chart.selectAll('.bar-original');\n      const hoverRect = chart.select(\".y-axis-marker-rect-dist\")\n      const yAxisMarkerTextPred = chart.select('.y-axis-marker-text-pred');\n      const yAxisMarkerTextPred_s1 = chart.select('.y-axis-marker-text-pred-s1');\n      const yAxisMarkerTextPred_s2 = chart.select('.y-axis-marker-text-pred-s2');\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line-dist');\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      const { first, second } = this.selections; \n      \n      const rightOverLap = (classifierName:string,confidence:string, selection: Set<string>,type) => {\n        const instances = new Set([...this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                  ]);\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size /// totalInstances;\n        return fractionOfTotalInstances;\n      };\n      let classifiers = []\n      this.classifiers.forEach((c)=>{\n        classifiers.push(c)\n      })\n      this.addedThresholdClassifiers.forEach((classifier)=>{\n          classifiers.push(classifier)\n      })\n      const xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(classifiers);\n\n      var confi_index = '0';\n      for (let i in this.confidence) {\n        if (this.confidence[i] == this.hover_distribution.interval) {\n          confi_index = i\n          break\n        }\n      }\n\n      if (this.hover_distribution.type === 'dist') {\n        predBars\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover_distribution.classifier && d[\"confidence\"] === this.hover_distribution.interval\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        predBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hover_distribution.type){\n        hoverRect\n           .transition()\n            .duration(moveDuration)\n            .attr(\"transform\",  \"translate(\" + (xAxis(this.hover_distribution.classifier)-60) + \",0)\" )\n            .attr('opacity', 1);\n       \n        yAxisMarkerLine\n          .transition()\n          .duration(moveDuration)\n          .attr('stroke-opacity', 1)\n          .attr(\"transform\",  \"translate(\" + xAxis(this.hover_distribution.classifier) + \",0)\" )\n          .attr('x1', this.x(this.predictions[this.hover_distribution.classifier][\"ci_pred\"][confi_index]) )\n          .attr('y1',-20)\n          .attr('y2', this.height*1.2)\n          .attr('x2', this.x(this.predictions[this.hover_distribution.classifier][\"ci_pred\"][confi_index]) );\n      \n        yAxisMarkerTextPred\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)  \n            .attr(\"transform\",  \"translate(\" + (xAxis(this.hover_distribution.classifier)) + \",-55)\" )\n            .text(\"pred:\"+(this.predictions[this.hover_distribution.classifier][\"ci_pred\"][confi_index]));\n\n        if (first) {\n          yAxisMarkerTextPred_s1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr(\"fill\",\"steelblue\")\n            .attr(\"transform\",  \"translate(\" + (xAxis(this.hover_distribution.classifier)) + \",-40)\" )\n            .text(\"1st: \"+rightOverLap(this.hover_distribution.classifier,this.hover_distribution.interval, first.instances, 1));\n        }\n        if (second) {\n          yAxisMarkerTextPred_s2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr(\"fill\",this.selection2Color)\n            .attr(\"transform\",  \"translate(\" +  (xAxis(this.hover_distribution.classifier))  + \",-25)\" )\n            .text(\"2nd: \"+rightOverLap(this.hover_distribution.classifier,this.hover_distribution.interval, second.instances, 1)); \n        }\n      } else {\n\n        yAxisMarkerLine\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n\n        yAxisMarkerTextPred\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n \n        yAxisMarkerTextPred_s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextPred_s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n\n        hoverRect\n          .transition()\n          .duration(disappearDuration)\n          .attr('opacity', 0);\n      }\n      \n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr(\"class\",\"svg-all\")\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom * 2}`)\n        \n      const svg_confidence = svgAll.append('g')\n          .attr(\"class\",\"svg-confidence\")\n          .attr('transform', `translate(${this.margin.left/4}, ${this.margin.bottom * 1.5})`);\n      const svg = svgAll.append('g')\n          .attr('transform', `translate(${this.margin.left/4}, ${this.margin.bottom * 1.5 })`);\n\n      const classifiers = this. addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n      const x = this.x\n      const y = this.y    \n      const height = this.height\n      const x_width = this.width / classifiers.length\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(classifiers);\n\n          \n\n\n      const drawSliders = () => {\n        let yScale = this.yScale\n        let thresholdRange = this.classifierBandWidthDict//this.thresholdRange\n        \n \n        var sqrt3 = Math.sqrt(3);\n\n        const rangeSliders = svg.append(\"g\").selectAll(\"g\")\n          .data(classifiers)\n          .enter().append(\"g\")\n            .attr(\"transform\", function(d:string) { return \"translate(\" + (xAxis(d)) + \")\"; })\n        \n        let slider = rangeSliders.append('line')\n          .attr('class',(d:string)=>'slider-line-'+d)\n          .style(\"stroke\", \"#777\")\n          .style(\"stroke-opacity\", \"1\")\n          .style(\"stroke-width\", \"4\")\n          .attr('x1', 0)\n          .attr('x2', 0)\n          .attr('y1',(d:string)=> {\n            return yScale( thresholdRange[d].left_range)})\n          .attr('y2',(d:string)=> {\n            return yScale( thresholdRange[d].right_range)})\n\n        let head1 = rangeSliders.append('circle')\n          .style('fill', 'red')\n          .attr(\"r\",y.bandwidth()/6)\n          .style('stroke', 'none')\n          .attr('class',(d:string)=>'slider-circle-time-from'+d)\n          .attr('transform', (d:string)=>{\n            return 'translate(0,'+ yScale( thresholdRange[d].left_range) +')'+'rotate(30)'\n          })\n          .attr(\"id\",(d:string)=>\"slider-circle-time-to-left_\"+d)\n            ;\n\n        let head2 = rangeSliders.append('circle')\n          .style('fill', 'green')\n          .attr(\"r\",y.bandwidth() / 6)\n          .style('stroke', 'none')\n          .attr('class',(d:string)=>'slider-circle-time-to'+d)\n          .attr('transform', (d:string)=>{\n            return 'translate(0,'+ yScale( thresholdRange[d].right_range) +')'+'rotate(30)'\n          })\n          .attr(\"id\",(d:string)=>\"slider-circle-time-to-right_\"+d);\n\n        let thresholdCircle = rangeSliders.append('circle')\n          .attr('class', 'x-axis-marker-line')\n          .attr('transform', (d:string)=>{\n            return 'translate(0,'+ yScale(thresholdRange[d].threshold) +')'+'rotate(30)'\n          })\n          .attr(\"r\",y.bandwidth()/4)\n          .attr('fill', 'drakblue')\n          .attr('stroke-opacity', 1)\n      };\n      \n      const drawTitles = () => {\n        svg.selectAll(\"myText\")\n          .data(classifiers)\n          .enter().append(\"text\")\n              .style(\"text-anchor\", \"middle\")\n              .attr('transform', 'rotate(30)')\n              .attr(\"transform\", function(d: string) { \n              return \"translate(\" + (xAxis(d)+10) + \",\"+(height+40)+\") \" + 'rotate(20)'; })\n              .text((d:string)=>d)\n              .style(\"fill\", \"black\")\n              .style(\"font-size\", 20)\n\n         \n\n      };\n      \n      const drawLegend = () => {\n        const width = this.width / 8;\n        const height = this.margin.top / 1.5;\n        const legend = svg\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', this.selection_mode == 'selected'?\n             `translate(\n              ${this.width - width},\n              ${-height*4})`\n            : `translate(\n              ${this.width - width},\n              ${-height*6})`\n            );\n\n        if (this.selection_mode == 'selected') {\n          legend.append('rect')\n            .attr('width', width )\n            .attr('height', height)\n            .attr('fill', this.selection1Color)\n            .attr(\"stroke\",'black')\n          legend.append('rect')\n            .attr('x', width )\n            .attr('width', width )\n            .attr('height', height)\n            .attr('fill', this.selection1Color)\n            .attr(\"stroke\",'black')\n          legend.append('rect')\n            .attr('y', height)\n            .attr('width', width )\n            .attr('height', height)\n            .attr('fill', this.selection2Color)\n            .attr(\"stroke\",'black')\n          legend.append('rect')\n            .attr('y', height)\n            .attr('x', width )\n            .attr('width', width )\n            .attr('height', height)\n            .attr('fill', this.selection2Color)\n            .attr(\"stroke\",'black')\n\n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height / 2})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"incorrect s1\") \n          legend.append('text')\n            .attr('transform', `translate(${width / 2 * 3}, ${height / 2})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"correct s1\") \n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height / 2 * 3})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"incorrect s2\") \n          legend.append('text')\n            .attr('transform', `translate(${width / 2 * 3}, ${height / 2 * 3})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"correct s2\") \n        } else {\n          legend.append('rect')\n            .attr('width', width)\n            .attr('height', height)\n            .attr('fill', this.wrongColor)\n\n          legend.append('rect')\n            .attr('y', height)\n            .attr('width', width)\n            .attr('height', height)\n            .attr('fill', this.rightColor)\n\n          legend.append('rect')\n            .attr('y', height*2)\n            .attr('width', width)\n            .attr('height', height)\n            .attr('fill', 'lightgrey')  \n\n          legend.append('rect')\n            .attr('y', height*3)\n            .attr('width', width)\n            .attr('height', height)\n            .attr('fill', this.wrongColor1)\n\n          legend.append('rect')\n            .attr('y', height*4)\n            .attr('width', width)\n            .attr('height', height)\n            .attr('fill', this.rightColor1)    \n          \n            \n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height / 2})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"fp\")  \n\n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height * 3 / 2})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text(\"tp\");\n\n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height * 2.5})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text(\"uncertain\"); \n\n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height * 3.5})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"fn\")  \n\n          legend.append('text')\n            .attr('transform', `translate(${width / 2}, ${height * 4.5})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text(\"tn\");  \n        }\n      };\n      \n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line1')\n          .attr('x1', x(0))\n          .attr('y1',0)\n          .attr('x2', x(0))\n          .attr('y2', this.height*1.2)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line2')\n          .attr('x1', x(0))\n          .attr('y1',0)\n          .attr('x2', x(0))\n          .attr('y2', this.height*1.2)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');  \n\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line1-2')\n          .attr('x1', x(0))\n          .attr('y1',0)\n          .attr('x2', x(0))\n          .attr('y2', this.height*1.2)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');  \n        svg.append('line')\n          .attr('class', 'y-axis-marker-line2-2')\n          .attr('x1', x(0))\n          .attr('y1',0)\n          .attr('x2', x(0))\n          .attr('y2', this.height*1.2)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');  \n      };\n\n      const yAxisMarkerText = () => {\n        svg.append(\"rect\")\n          .attr('class', 'y-axis-marker-rect')\n          .attr(\"width\",240)\n          .attr(\"height\",60)\n          .attr(\"fill\",\"white\")\n          .attr(\"stroke\",\"grey\")\n          .attr(\"y\",-60)\n          // .duration(disappearDuration)\n          .attr('opacity', 0);\n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right1-s1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right1-s2')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-wrong1') \n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-wrong1-s1') \n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'hanging');\n         svg.append('text')\n          .attr('class', 'y-axis-marker-text-wrong1-s2') \n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-middle1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-middle1-s1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-middle1-s2')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'hanging');\n      };\n\n      drawSliders();\n      drawTitles();\n      drawLegend(); \n\n      yAxisMarkerLine();\n      yAxisMarkerText();\n      this.drawConfidence();\n        if (this.selection_mode == 'overall') {\n        this.drawHover();\n      }\n      \n    },\n    drawConfidence() {\n      const chart = d3.select(this.$refs.svg);\n      const svg = chart.select(\".svg-confidence\");\n      const normalization = this.normalization;\n      svg.selectAll('*').remove();  \n\n      const x = this.x\n      const y = this.y    \n      const maxIntervals = this.maxIntervals\n      \n      const predictions = this.predictions\n      const selections = this.selections\n      const {first, second} = this.selections\n      const confidence  = this.confidence\n      const classifiers = this.addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(classifiers);\n\n      var width = this.width;\n      var height = this.height\n\n      let confidenceData = get_confidence_data()\n      let confidenceDict = {}\n      let selectedConfidenceDict = []\n      classifiers.forEach((c,i)=>{\n        confidenceDict[c] = confidenceData[i].data\n      })\n\n      if (this.selection_mode == 'selected' && Object.keys(this.selections).length > 0) {\n        confidenceData = []\n        if (first) {\n          const selectionData = get_selected_confidence_data(\"1\")\n          confidenceData.push(selectionData)\n          let tmpconfidenceDict = {}\n          classifiers.forEach((c,i)=>{\n            tmpconfidenceDict[c] = selectionData[i]['data']\n          })\n          selectedConfidenceDict.push(tmpconfidenceDict)\n        }\n        if (second) {\n          const selectionData = get_selected_confidence_data(\"2\")\n          confidenceData.push(selectionData)\n          let tmpconfidenceDict = {}\n          classifiers.forEach((c,i)=>{\n            tmpconfidenceDict[c] = selectionData[i]['data']\n          })\n          selectedConfidenceDict.push(tmpconfidenceDict)\n        }\n      }\n\n      const drawConfidence = () => {\n        var yAxis = {}\n        for (var i in classifiers) {\n          var name = classifiers[i];\n          var lowthreshold = 0;\n          yAxis[name] = d3.scaleBand() \n            .range([this.height, 0])\n            .domain(this.confidence);\n        }\n        const barCells =  svg.append(\"g\").selectAll(\"g\")\n          .data(classifiers)\n          .enter().append(\"g\")\n            .attr(\"transform\", function(d: string) { \n              return \"translate(\" + xAxis(d) + \",0)\"; }).selectAll(\"rect\")\n            .data(function(d: string) { return confidenceDict[d]; })\n            .enter()\n        // Draw the axis:\n        svg.selectAll(\"myAxis\")\n          .data(classifiers).enter()\n          .append(\"g\")\n          .style(\"font\", \"28px times\")\n          .style(\"text-anchor\", \"end\")\n          .style(\"dominant-baseline\",\"ideographic\")\n          .attr(\"transform\", function(d:string) { return \"translate(\" + (xAxis(d)) + \")\"; })\n          .each(function(d:string) { \n            d3.select(this).call(d3.axisLeft<d3.AxisDomain>(yAxis[d]).scale(yAxis[d])); \n          })\n\n        const barNames = ['right', 'middle', 'wrong'];\n        const barInstances1 = ['tp_interval', 'mp_interval', 'fp_interval'];\n        const barInstances2 = ['tn_interval', 'mn_interval', 'fn_interval'];\n        const colors = [this.rightColor, 'lightgrey', this.wrongColor]\n        barNames.forEach((name,index)=>{\n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-'+ name + '1')\n            .attr(\"transform\", (d: string)=> { \n              let count = 0\n              let shift = 0\n              while (count < index) {\n                shift += d[barInstances1[count]]\n                count += 1\n              }\n              return \"translate(\" + x(shift) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[barInstances1[index]]); } )\n            .attr(\"y\", function(d) { \n              return y(d[\"confidence\"]); })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()\n            })\n            .attr(\"fill\",colors[index])\n            .on('mouseenter', (d: string) => this.hover = ({type: name+'1', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d[\"classifier\"], name, 'first',d[\"confidence\"].toString()))\n            .on('contextmenu', (d: string) => this.select(d[\"classifier\"], name, 'second',d[\"confidence\"].toString()));\n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/6)\n            .attr('class', 'bar-'+ name + '1' + '-circle')\n            .attr(\"transform\", (d: string)=> { \n              let count = 0\n              let shift = 0\n              while (count < index) {\n                shift += d[barInstances1[count]]\n                count += 1\n              }\n              let y_shift = -y.bandwidth()/3 + index * (y.bandwidth()/3)\n              return \"translate(\" + x(shift) + \",\"+y_shift+\")\"; })\n            .attr(\"cx\",y.bandwidth()/6)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => {\n              return x(d[barInstances1[index]]) < y.bandwidth()/6 && (d[barInstances1[index]]) > 0? \"visible\":\"hidden\"})\n            .attr(\"fill\", colors[index])\n            .on('mouseenter', (d: string) => this.hover = ({type: name+'1',classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d[\"classifier\"], name, 'first',d[\"confidence\"].toString()))\n            .on('contextmenu', (d: string) => this.select(d[\"classifier\"], name, 'second',d[\"confidence\"].toString()));\n  \n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-'+ name + '2')\n            .attr(\"transform\", function(d: string) { \n              let count = 0\n              let shift = 0\n              while (count < 3) {\n                shift += d[barInstances1[count]]\n                count += 1\n              }\n              count = 0\n              while (count < index) {\n                shift += d[barInstances2[count]]\n                count += 1\n              }\n              return \"translate(\" + x(shift) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[barInstances2[index]]); } )\n            .attr(\"y\", function(d) { \n              return y(d[\"confidence\"]); })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()\n            })\n            .attr(\"fill\", colors[index])  \n            .on('mouseenter', (d: string) => this.hover = ({type:  name+'2', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d[\"classifier\"], name+'2', 'first',d[\"confidence\"].toString()))\n            .on('contextmenu', (d: string) => this.select(d[\"classifier\"], name+'2', 'second',d[\"confidence\"].toString()));\n          \n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/6)\n            .attr('class', 'bar-'+ name + '2' + '-circle')\n            .attr(\"transform\", function(d: string) { \n              let count = 0\n              let shift = 0\n              while (count < 3) {\n                shift += d[barInstances1[count]]\n                count += 1\n              }\n              count = 0\n              while (count < index) {\n                shift += d[barInstances2[count]]\n                count += 1\n              }\n              let y_shift = -y.bandwidth()/3 + index * (y.bandwidth()/3)\n              return \"translate(\" + x(shift) + \",\"+y_shift+\")\"; })\n            .attr(\"cx\",y.bandwidth()/6)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => {\n              return x(d[barInstances2[index]]) < y.bandwidth()/6 && (d[barInstances2[index]]) > 0? \"visible\":\"hidden\"})\n            .attr(\"fill\", colors[index])  \n            .on('mouseenter', (d: string) => this.hover = ({type: name+'2', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d[\"classifier\"], name+'2', 'first',d[\"confidence\"].toString()))\n            .on('contextmenu', (d: string) => this.select(d[\"classifier\"], name+'2','second',d[\"confidence\"].toString()));\n      \n        })\n\n         \n        const selections = () => {\n          const selectionBarWidth = y.bandwidth() / 4;\n          const selections = ['-selection-1', '-selection-2']\n          const selectionColors = [this.selection1Color, this.selection2Color]\n\n          barNames.forEach((name, index)=>{\n            selections.forEach((selection, selectIndex)=>{\n              barCells.append('rect')\n                .attr('class', 'bar-' + name + selection)\n                .attr(\"transform\", (d: string)=> { \n                  let count = 0\n                  let shift = 0\n                  while (count < index) {\n                    shift += d[barInstances1[count]]\n                    count += 1\n                  }\n                  return \"translate(\" + x(shift) + \",0)\"; })\n                .attr('y',function(d){\n                  return y(d[\"confidence\"])+0.5 * y.bandwidth()- selectionBarWidth * (1-selectIndex)\n                  })\n                .attr('height', selectionBarWidth)\n                .attr('fill', selectionColors[selectIndex])\n                .attr('stroke', 'black')\n                .attr('stroke-width', '1px')\n                .attr('pointer-events', 'none')\n               barCells.append(\"circle\")   \n                .attr('class', 'circle-' + name + selection)\n                .attr(\"transform\", (d: string)=> { \n                  let count = 0\n                  let shift = 0\n                  while (count < index) {\n                    shift += d[barInstances1[count]]\n                    count += 1\n                  }\n                  return \"translate(\" + x(shift) + \",0)\"; })\n                .attr('cy',function(d){\n                  return y(d[\"confidence\"])+0.5 * y.bandwidth()- selectionBarWidth * (1-selectIndex) + selectionBarWidth/2\n                  })\n                .attr(\"cx\",selectionBarWidth/2)\n                .attr('r', selectionBarWidth / 2)\n                .attr('fill', selectionColors[selectIndex])\n                .attr(\"visibility\",\"hidden\")\n\n              barCells.append('rect')\n                .attr('class', 'bar-'+ name + '2' + selection)\n                .attr(\"transform\", function(d: string) { \n                  let count = 0\n                  let shift = 0\n                  while (count < 3) {\n                    shift += d[barInstances1[count]]\n                    count += 1\n                  }\n                  count = 0\n                  while (count < index) {\n                    shift += d[barInstances2[count]]\n                    count += 1\n                  }\n                  return \"translate(\" + x(shift) + \",0)\"; })\n                .attr('y',(d)=>y(d[\"confidence\"])+  0.5 * y.bandwidth()- selectionBarWidth * (1-selectIndex)) \n                .attr('height', selectionBarWidth)\n                .attr('fill', selectionColors[selectIndex])\n                .attr('stroke', 'black')\n                .attr('stroke-width', '1px')\n                .attr('pointer-events', 'none')\n              barCells.append(\"circle\")   \n                .attr('class', 'circle-' + name + '2' + selection)\n                .attr(\"transform\", function(d: string) { \n                  let count = 0\n                  let shift = 0\n                  while (count < 3) {\n                    shift += d[barInstances1[count]]\n                    count += 1\n                  }\n                  count = 0\n                  while (count < index) {\n                    shift += d[barInstances2[count]]\n                    count += 1\n                  }\n                  return \"translate(\" + x(shift) + \",0)\"; })\n                .attr('cy',function(d){\n                  return y(d[\"confidence\"])+0.5 * y.bandwidth()- selectionBarWidth * (1-selectIndex) + selectionBarWidth/2\n                  })\n                .attr(\"cx\",selectionBarWidth/2)\n                .attr('r', selectionBarWidth / 2)\n                .attr('fill', selectionColors[selectIndex])\n                .attr(\"visibility\",\"hidden\")\n            })\n          })\n        };\n        selections();\n      };\n\n      const drawSelectedConfidence = () => {\n        var yAxis = {}\n\n        for (var i in classifiers) {\n          var name = classifiers[i];\n          var lowthreshold = 0;\n          yAxis[name] = d3.scaleBand() \n            .range([this.height, 0])\n            .domain(this.confidence);\n        }\n        \n        selectedConfidenceDict.forEach((confidenceDict)=>{\n          const barCells =  svg.append(\"g\").selectAll(\"g\")\n            .data(classifiers)\n            .enter().append(\"g\")\n              .attr(\"transform\", function(d: string) { \n                return \"translate(\" + xAxis(d) + \",0)\"; }).selectAll(\"rect\")\n              .data(function(d: string) { return confidenceDict[d]; })\n              .enter()\n            // draw bars\n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-right1')\n            .attr(\"width\", function(d) {\n              return x(d[\"tp_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3 \n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right1', selection: d['type'], classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n          // draw middel bars\n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-middle1')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (x(d[\"tp_interval\"])) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[\"mp_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3\n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle1', selection: d['type'],classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n       \n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-wrong1')\n            .attr('id',d=>'bar-wrong1-'+d['classifier']+'-'+d['confidence'])\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (x(d[\"tp_interval\"]+d[\"mp_interval\"])) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[\"tn_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3\n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong1', selection: d['type'],classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n          // draw fn\n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-right2')\n            .attr('id',d=>'bar-right2-'+d['classifier']+'-'+d['confidence'])\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (-x(d[\"fn_interval\"])) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[\"fn_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3 \n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")  \n            .on('mouseenter', (d: string) => this.hover = ({type: 'right2', selection: d['type'],classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n          \n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-middle2')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (-x(d[\"fn_interval\"])-x(d[\"mn_interval\"])) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[\"mn_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3\n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle2', selection: d['type'],classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n        \n          barCells\n            .append(\"rect\")\n            .attr('class', 'bar-wrong2')\n            .attr('id',d=>'bar-wrong2-'+d['classifier']+'-'+d['confidence'])\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (-x(d[\"fn_interval\"])-x(d[\"fp_interval\"])-x(d[\"mn_interval\"])) + \",0)\"; })\n            .attr(\"width\", function(d) {\n              return x(d[\"fp_interval\"]); } )\n            .attr(\"y\", function(d) { \n              return d[\"type\"] == \"1\" ? y(d[\"confidence\"]) + y.bandwidth()/3 \n                                      : y(d[\"confidence\"]) + y.bandwidth()/1.5; })\n            .attr(\"height\", function(d) {\n              return y.bandwidth()/3\n            })\n            .attr(\"fill\", (d)=>d['type'] == '1'? this.selection1Color:this.selection2Color)\n            .attr(\"stroke\",\"black\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong2', selection: d['type'],classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-right1-circle')\n            .attr(\"cx\",y.bandwidth()/6)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => x(d[\"tp_interval\"]) < y.bandwidth()/6 && x(d[\"tp_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", this.rightColor1)  \n            .on('mouseenter', (d: string) => this.hover = ({type: 'right1', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n\n\n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-middle1-circle')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (x(d[\"tp_interval\"])) + \",0)\"; })\n            .attr(\"cx\",y.bandwidth()/6)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => x(d[\"mp_interval\"]) < y.bandwidth()/6 && x(d[\"mp_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", \"lightgrey\")\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle1', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n          \n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-wrong1-circle')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (x(d[\"tp_interval\"]+d[\"mp_interval\"])) + \",0)\"; })\n            .attr(\"cx\",y.bandwidth()/6)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) =>x(d[\"tn_interval\"]) < y.bandwidth()/6 && x(d[\"tn_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", this.wrongColor)\n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong1', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n                      \n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-right2-circle')\n            .attr(\"cx\",-y.bandwidth()/24)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => x(d[\"fn_interval\"]) < y.bandwidth()/6 && x(d[\"fn_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", this.rightColor1)  \n            .on('mouseenter', (d: string) => this.hover = ({type: 'right2', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            \n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-middle2-circle')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (-x(d[\"fn_interval\"])-x(d[\"mn_interval\"])) + \",0)\"; })\n            .attr(\"cx\",-y.bandwidth()/24)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => x(d[\"mn_interval\"]) < y.bandwidth()/6 && x(d[\"mn_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", \"lightgrey\")  \n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle2', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n                    \n          barCells\n            .append(\"circle\")   \n            .attr('r',y.bandwidth()/24)\n            .attr('class', 'bar-wrong2-circle')\n            .attr(\"transform\", function(d: string) { \n                return \"translate(\" + (-x(d[\"fn_interval\"])-x(d[\"fp_interval\"])-x(d[\"mn_interval\"])) + \",0)\"; })\n            .attr(\"cx\",-y.bandwidth()/24)\n            .attr(\"cy\", function(d) { \n              return y(d[\"confidence\"]) + y.bandwidth()/ 2; })\n            .attr(\"visibility\", (d) => x(d[\"fp_interval\"]) < y.bandwidth()/6 && x(d[\"fp_interval\"]) > 0? \"visible\":\"hidden\")\n            .attr(\"fill\", this.wrongColor1)  \n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong2', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n            .on('mouseleave', this.clearHover)\n            \n          // Draw the axis:\n          svg.selectAll(\"myAxis\")\n            .data(classifiers).enter()\n            .append(\"g\")\n            .style(\"font\", \"28px times\")\n            .style(\"text-anchor\", \"end\")\n            .style(\"dominant-baseline\",\"ideographic\")\n            .attr(\"transform\", function(d:string) { return \"translate(\" + (xAxis(d)) + \")\"; })\n            .each(function(d:string) { \n              d3.select(this).call(d3.axisLeft<d3.AxisDomain>(yAxis[d]).scale(yAxis[d])); \n              })\n          \n        })\n      };\n\n      \n      if (this.selection_mode == 'overall') {\n        drawConfidence();\n        this.drawSelections();\n      } else {\n        drawSelectedConfidence();\n      }\n\n      function get_confidence_data() {\n        let confidenceData = []\n        let confidenceDict = {}\n        classifiers.forEach((c)=>{\n          let ci_tp = predictions[c].ci_tp;\n          let ci_tn = predictions[c].ci_tn;\n          let ci_fp = predictions[c].ci_fp;\n          let ci_fn = predictions[c].ci_fn;\n          let ci_mp = predictions[c].ci_mp;\n          let ci_mn = predictions[c].ci_mn;\n          let curConfidenceData = []\n          if (normalization == 'Yes') {\n            for (var i in confidence) {\n              let confidenceInstanceSizeOne = (ci_tp[i] + ci_fp[i] + ci_mp[i] + ci_tn[i] + ci_fn[i] + ci_mn[i]) / 1.5\n              let confidenceInstanceSizeTwo = (ci_tn[i] + ci_fn[i] + ci_mn[i] + ci_tp[i] + ci_fp[i] + ci_mp[i]) / 1.5\n              curConfidenceData.push({\"classifier\":c,\"confidence\":confidence[i], \n                      \"tp_interval\":confidenceInstanceSizeOne == 0? 0 : ci_tp[i] * maxIntervals / confidenceInstanceSizeOne, \n                      \"fp_interval\":confidenceInstanceSizeOne == 0? 0 : ci_fp[i] * maxIntervals / confidenceInstanceSizeOne,\n                      \"tn_interval\":confidenceInstanceSizeTwo == 0? 0 : ci_tn[i] * maxIntervals / confidenceInstanceSizeTwo, \n                      \"fn_interval\":confidenceInstanceSizeTwo == 0? 0 :ci_fn[i] * maxIntervals / confidenceInstanceSizeTwo,\n                      \"mp_interval\":confidenceInstanceSizeOne == 0? 0 :ci_mp[i] * maxIntervals / confidenceInstanceSizeOne, \n                      \"mn_interval\":confidenceInstanceSizeTwo == 0? 0 :ci_mn[i] * maxIntervals / confidenceInstanceSizeTwo, \n                      \"threshold\":predictions[c].threshold})\n            }\n          } else {\n            for (var i in confidence) {\n              curConfidenceData.push({\"classifier\":c,\"confidence\":confidence[i], \"tp_interval\":ci_tp[i], \"tn_interval\":ci_tn[i],\"fp_interval\":ci_fp[i], \"fn_interval\":ci_fn[i],\"mp_interval\":ci_mp[i], \"mn_interval\":ci_mn[i], \"threshold\":predictions[c].threshold})\n            }\n          }\n          \n          confidenceData.push({\"name\":c, \"data\":curConfidenceData,\"threshold\":predictions[c].threshold})\n          confidenceDict[c] = curConfidenceData\n        })\n        return confidenceData\n      };\n\n      function get_selected_confidence_data(select_type) {\n        // type == 1 --> left click\n        // type == 2 --> right click\n        const { first, second } = selections;\n        const selection = select_type == '1' ? first.instances : second.instances\n        let confidenceData = []\n        let confidenceDict = {}\n        let maxSelectionSize = 0\n        classifiers.forEach((c)=>{\n          confidence.forEach((i)=>{\n            let ci_tp = intersection(predictions[c][\"ci_tp_instances\"][i].instances, selection); \n            let ci_tn = intersection(predictions[c][\"ci_tn_instances\"][i].instances, selection);\n            let ci_fp = intersection(predictions[c][\"ci_fp_instances\"][i].instances, selection);\n            let ci_fn = intersection(predictions[c][\"ci_fn_instances\"][i].instances, selection);\n            let ci_mp = intersection(predictions[c][\"ci_mp_instances\"][i].instances, selection);\n            let ci_mn = intersection(predictions[c][\"ci_mn_instances\"][i].instances, selection);\n            maxSelectionSize = d3.max([ci_tp.size, ci_tn.size, ci_fp.size, ci_fn.size, ci_mp.size, ci_mn.size]) > maxSelectionSize ?  d3.max([ci_tp.size, ci_tn.size, ci_fp.size, ci_fn.size, ci_mp.size, ci_mn.size]) : maxSelectionSize;\n          })\n        })\n        classifiers.forEach((c)=>{\n          let curConfidenceData = []\n          confidence.forEach((i)=>{\n            let ci_tp = intersection(predictions[c][\"ci_tp_instances\"][i].instances, selection); \n            let ci_tn = intersection(predictions[c][\"ci_tn_instances\"][i].instances, selection);\n            let ci_fp = intersection(predictions[c][\"ci_fp_instances\"][i].instances, selection);\n            let ci_fn = intersection(predictions[c][\"ci_fn_instances\"][i].instances, selection);\n            let ci_mp = intersection(predictions[c][\"ci_mp_instances\"][i].instances, selection);\n            let ci_mn = intersection(predictions[c][\"ci_mn_instances\"][i].instances, selection);\n            curConfidenceData.push({\"classifier\":c,\"confidence\":i, \"type\":select_type, \"tp_interval\":ci_tp.size * maxIntervals / maxSelectionSize, \"tn_interval\":ci_tn.size * maxIntervals / maxSelectionSize,\"fp_interval\":ci_fp.size * maxIntervals / maxSelectionSize, \"fn_interval\":ci_fn.size * maxIntervals / maxSelectionSize,\"mp_interval\":ci_mp.size * maxIntervals / maxSelectionSize, \"mn_interval\":ci_mn.size * maxIntervals / maxSelectionSize, \"threshold\":predictions[c].threshold})\n          })\n          confidenceData.push({\"name\":c, \"data\":curConfidenceData,\"threshold\":predictions[c].threshold})\n        })\n        return confidenceData\n      };\n    },\n\n    drawDistributionLine() {\n      const chart = d3.select(this.$refs.svg);\n      const svg = chart.select(\".svg-confidence\");\n      svg.selectAll('*').remove();  \n\n      const x = this.x\n      const y = this.y    \n    \n      const classifiers = this.addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(classifiers);\n\n      const yThreshold = d3.scaleBand<string>()\n        .domain(this.confidence)\n        .range([this.height,0])\n\n\n      const drawAxis = () =>{\n        var yAxis = {}\n        for (var i in classifiers) {\n          var name = classifiers[i];\n          var lowthreshold = 0;\n          yAxis[name] = d3.scaleBand() \n            .range([this.height, 0])\n            .domain(this.confidence);\n        }\n        \n        // Draw the axis:\n        svg.selectAll(\"myAxis\")\n          .data(classifiers).enter()\n          .append(\"g\")\n          .style(\"font\", \"20px times\")\n          .style(\"text-anchor\", \"end\")\n          .style(\"dominant-baseline\",\"ideographic\")\n          .attr(\"transform\", function(d:string) { return \"translate(\" + (xAxis(d)) + \")\"; })\n          .each(function(d:string) { \n            d3.select(this).call(d3.axisLeft<d3.AxisDomain>(yAxis[d]).scale(yAxis[d])); \n          })\n      };\n\n      const drawLine = () =>{\n        let confidence = this.confidence;\n        let predictions = this.predictions;\n        function line(d) {\n              return d3.line()(confidence.map(function(p,j) { \n                return [3 + xAxis(d) + x((predictions[d]['ci_tp'][j]+predictions[d]['ci_tn'][j])), yThreshold.bandwidth() / 2 +  yThreshold(p)]; \n              }));\n        }\n\n        classifiers.forEach((d)=>{\n            svg.append(\"path\")\n              .attr('class', 'line-threshold')\n              .attr(\"d\",  line(d))\n              .style(\"fill\", \"none\")\n              .attr(\"stroke\", 'steelblue')\n              .style(\"stroke-width\", 3)\n              .style(\"opacity\", 1)   \n        })\n      };\n\n      const drawLegends = () =>{\n        const legend = svg\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', \n             `translate(\n              ${this.width },\n              ${this.height*4})`\n            \n            );\n\n          svg.append('rect')\n            .attr('transform', `translate(${this.width - 60}, ${- this.margin.top * 2})`)\n            .attr('width', 120)\n            .attr('height', 2)\n            .attr('fill', 'steelblue')    \n          \n            \n          svg.append('text')\n            .attr('transform', `translate(${this.width - 120}, ${- this.margin.top * 2})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"correctness\") \n      };\n\n      drawAxis();\n      drawLine();\n      drawLegends();\n      \n    \n\n      \n\n      \n    },\n\n    drawOriginalDistribution() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr(\"class\",\"svg-all\")\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top * 2 + this.margin.bottom}`)\n        .append('g')\n          .attr(\"class\",\"svg-confidence\")\n          .attr('transform', `translate(${this.margin.left/4}, ${this.margin.bottom})`);\n      const x = this.x\n      const y = this.y    \n      \n      const classifiers = this.classifiers\n\n      const xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(this.classifiers);\n      \n      var yAxis = {}\n      for (var i in classifiers) {\n          var name = classifiers[i];\n          var lowthreshold = 0;\n          yAxis[name] = d3.scaleBand() \n            .range([this.height, 0])\n            .domain(this.confidence);\n      }\n\n      const width = this.width;\n      const height = this.height\n      const maxIntervals = this.maxIntervals\n\n      let confidenceData = []\n      let confidenceDict = {}\n      this.classifiers.forEach((c)=>{\n        let ci_pred = this.predictions[c].ci_pred;\n        let curConfidenceData = []\n        for (var i in this.confidence) {\n          if (this.normalization == 'Yes') {\n            curConfidenceData.push({\"classifier\":c,\"confidence\":this.confidence[i], \"pred_interval\":ci_pred[i] == 0? 0 : maxIntervals, \"threshold\":this.predictions[c].threshold})\n          } else {\n            curConfidenceData.push({\"classifier\":c,\"confidence\":this.confidence[i], \"pred_interval\":ci_pred[i],\"threshold\":this.predictions[c].threshold})\n          }\n        }\n        confidenceData.push({\"name\":c, \"data\":curConfidenceData,\"threshold\":this.predictions[c].threshold})\n        confidenceDict[c] = curConfidenceData\n      })\n\n      const barCells =  svg.append(\"g\").selectAll(\"g\")\n          .data(classifiers)\n          .enter().append(\"g\")\n            .attr(\"transform\", function(d: string) { \n              return \"translate(\" + xAxis(d) + \",0)\"; })\n          .selectAll(\"rect\")\n            .data((d:string)=> { \n            return confidenceDict[d]; })\n            .enter()\n      \n      const drawDistributionAxis = () => {\n        svg.selectAll(\"myAxis\")\n          .data(classifiers).enter()\n          .append(\"g\")\n          .style(\"font\", \"28px times\")\n          .style(\"text-anchor\", \"end\")\n          .style(\"dominant-baseline\",\"ideographic\")\n          .attr(\"transform\", function(d:string) { return \"translate(\" + (xAxis(d)) + \")\"; })\n          .each(function(d:string) { \n            d3.select(this).call(d3.axisLeft<d3.AxisDomain>(yAxis[d]).scale(yAxis[d])); \n          });\n      };\n      \n      const drawTitles = () => {\n        let classifiers = this.classifiers\n        svg.selectAll(\"myText\")\n          .data(classifiers)\n          .enter().append(\"text\")\n              .style(\"text-anchor\", \"middle\")\n              .attr(\"transform\", function(d: string) { \n              return \"translate(\" + xAxis(d) + \",\"+(height+25)+\")\"; })\n              .text((d:string)=>{\n                return d})\n              .style(\"fill\", \"black\")\n              .style(\"font-size\", \"30px\");\n      };\n      \n      const drawLegend = () => {\n        const width = this.width / 8;\n        const height = this.margin.top / 1.5;\n\n        const legend = svg\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.width},\n              ${-height*4})`);\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height*2)\n          .attr('fill', this.rightColor);\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(\"prediction\");  \n         \n      };\n\n      const drawDistributionBar = () => {\n        barCells\n          .append(\"rect\")\n          .attr('class', 'bar-original')\n          .attr(\"width\", function(d) {\n             return x(d[\"pred_interval\"]); } )\n          .attr(\"y\", function(d) { \n            return y(d[\"confidence\"]); })\n          .attr(\"height\", function(d) {\n            return y.bandwidth()\n          })\n          .attr(\"fill\",this.rightColor)\n          .on('mouseenter', (d: string) => this.hover_distribution = ({type: 'dist', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n          .on('mouseleave', this.clearDistributionHover)\n          .on('click', (d: string) => this.select(d[\"classifier\"], 'dist', 'first',d[\"confidence\"].toString()))\n          .on('contextmenu', (d: string) => this.select(d[\"classifier\"], 'dist', 'second',d[\"confidence\"].toString()));\n        \n        barCells\n          .append(\"circle\")   \n          .attr('class', 'circle-original')\n          .attr('cy', function(d) { \n            return y(d[\"confidence\"]) + y.bandwidth()/2; })\n          .attr('cx', y.bandwidth()/6)\n          .attr('r',y.bandwidth()/6)\n          .style('fill', this.rightColor)\n          .attr(\"visibility\",function(d) {\n             return x(d[\"pred_interval\"]) < y.bandwidth() / 3 && d[\"pred_interval\"] > 0 ? \"visible\" : \"hidden\"; } )\n            \n\n        const selections = () => {\n          const selectionBarWidth = y.bandwidth() / 4;\n          const selectionColors  = [this.selection1Color, this.selection2Color];\n\n          selectionColors.forEach((color, index)=>{\n            barCells.append('rect')\n              .attr('class', 'bar-original-selection-' + (index+1))\n              .attr('y',function(d){\n                return y(d[\"confidence\"]) + 0.5 * y.bandwidth() - selectionBarWidth + selectionBarWidth * index\n                })\n              .attr('height', selectionBarWidth)\n              .attr('fill', color)\n              .attr('stroke', 'black')\n              .attr('stroke-width', '1px')\n              .attr('pointer-events', 'none')\n            \n            barCells.append(\"circle\")   \n              .attr('class', 'circle-pred-selection-' + (index+1))\n              .attr('cy', function(d){\n                return y(d[\"confidence\"]) + 0.5 * y.bandwidth()- selectionBarWidth/2 + selectionBarWidth * index \n                })\n              .attr(\"cx\",selectionBarWidth/2)\n              .attr('r', selectionBarWidth / 2)\n              .style('fill', color)\n              .attr(\"visibility\",\"hidden\")\n          })\n        };\n        selections();    \n      };\n\n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-dist')\n          .attr('x1', x(0))\n          .attr('y1',0)\n          .attr('x2', x(0))\n          .attr('y2', this.height*1.2)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append(\"rect\")\n          .attr('class', 'y-axis-marker-rect-dist')\n          .attr(\"width\",120)\n          .attr(\"height\",60)\n          .attr(\"fill\",\"white\")\n          .attr(\"stroke\",\"grey\")\n          .attr(\"y\",-60)\n          .attr('opacity', 0);\n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-pred')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-pred-s1')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', 'steelblue')\n          .attr('pointer-events', 'hanging');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-pred-s2')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', 'red')\n          .attr('pointer-events', 'hanging');\n      };\n\n      drawLegend();\n      drawTitles();\n      drawDistributionAxis();\n      drawDistributionBar();\n      yAxisMarkerLine();\n      yAxisMarkerText();\n      this.drawDistSelections();\n      this.drawDistributionHover();\n    },\n\n    drawDistSelections() {\n      const chart = d3.select(this.$refs.svg);\n      const y = this.y\n      const selectionBarWidth = y.bandwidth() / 4;\n      const barPredSelection1 = chart.selectAll('.bar-original-selection-1');\n      const barPredSelection2 = chart.selectAll('.bar-original-selection-2');\n      const circlePredSelection1 = chart.selectAll('.circle-pred-selection-1');\n      const circlePredSelection2 = chart.selectAll('.circle-pred-selection-2');\n      const yAxisMarkerTextRect_s1 = chart.selectAll('.y-axis-marker-text-pred-s1');\n      const yAxisMarkerTextRect_s2 = chart.selectAll('.y-axis-marker-text-pred-s2');\n      const formatDecimal = d3.format(\".1f\")\n      const maxIntervals = this.maxIntervals\n      const normalization = this.normalization\n      const x = this.x;\n\n      const { first, second } = this.selections;\n\n      \n      const rightHeight = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = new Set([...this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                  ]);\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = normalization !='Yes'? overlappingInstances.size : instances.size == 0? 0 : overlappingInstances.size * maxIntervals / instances.size;  /// totalInstances;\n        return this.x(fractionOfTotalInstances);\n      };\n\n\n      const rightOverLap = (classifierName:string,confidence:string, selection: Set<string>,type) => {\n        const instances = new Set([...this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n                                  , ...this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                  ]);\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = normalization !='Yes'? overlappingInstances.size : instances.size == 0? 0 : overlappingInstances.size * maxIntervals / instances.size /// totalInstances;\n        return fractionOfTotalInstances;\n      };\n\n\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(this.classifiers);\n\n      if (!first) {\n        barPredSelection1.attr('width', '0');\n        circlePredSelection1.attr(\"visibility\",\"hidden\");\n      } else {\n        if (this.hover_distribution.type) {\n          yAxisMarkerTextRect_s1\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"steelblue\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover_distribution.classifier)) + \",-40)\" )\n              .text(\"1st: \"+rightOverLap(this.hover_distribution.classifier,this.hover_distribution.interval, first.instances, 1));\n        }\n           \n        barPredSelection1\n          .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1));\n        circlePredSelection1\n          .attr(\"visibility\",(d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1) \n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1)  <= 0? \"hidden\" :\"visible\")\n        }\n\n                  \n\n      if (!second) {\n        barPredSelection2.attr('width', '0');\n        circlePredSelection2.attr(\"visibility\",\"hidden\");\n      } else {\n        if (this.hover_distribution.type) {\n          yAxisMarkerTextRect_s2\n                .attr('fill-opacity', 1)\n                .attr(\"fill\",\"red\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover_distribution.classifier)) + \",-25)\" )\n                .text(\"2nd: \"+rightOverLap(this.hover_distribution.classifier,this.hover_distribution.interval, second.instances, 1));\n          }\n          \n        barPredSelection2\n          .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1));\n        circlePredSelection2\n          .attr(\"visibility\",(d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1) \n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1)  <= 0? \"hidden\" :\"visible\")\n      }\n    },\n\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const y = this.y\n      const selectionBarWidth = y.bandwidth() / 4;\n      const barRightSelection1 = chart.selectAll('.bar-right-selection-1');\n      const barRightSelection2 = chart.selectAll('.bar-right-selection-2');\n      const barWrongSelection1 = chart.selectAll('.bar-wrong-selection-1');\n      const barWrongSelection2 = chart.selectAll('.bar-wrong-selection-2');\n      const barMiddleSelection1 = chart.selectAll('.bar-middle-selection-1');\n      const barMiddleSelection2 = chart.selectAll('.bar-middle-selection-2');\n\n      const barRight2Selection1 = chart.selectAll('.bar-right2-selection-1');\n      const barRight2Selection2 = chart.selectAll('.bar-right2-selection-2');\n      const barWrong2Selection1 = chart.selectAll('.bar-wrong2-selection-1');\n      const barWrong2Selection2 = chart.selectAll('.bar-wrong2-selection-2');\n      const barMiddle2Selection1 = chart.selectAll('.bar-middle2-selection-1');\n      const barMiddle2Selection2 = chart.selectAll('.bar-middle2-selection-2');\n\n      const circleRightSelection1 = chart.selectAll('.circle-right-selection-1');\n      const circleRightSelection2 = chart.selectAll('.circle-right-selection-2');\n      const circleWrongSelection1 = chart.selectAll('.circle-wrong-selection-1');\n      const circleWrongSelection2 = chart.selectAll('.circle-wrong-selection-2');\n      const circleMiddleSelection1 = chart.selectAll('.circle-middle-selection-1');\n      const circleMiddleSelection2 = chart.selectAll('.circle-middle-selection-2');\n\n      const circleRight2Selection1 = chart.selectAll('.circle-right2-selection-1');\n      const circleRight2Selection2 = chart.selectAll('.circle-right2-selection-2');\n      const circleWrong2Selection1 = chart.selectAll('.circle-wrong2-selection-1');\n      const circleWrong2Selection2 = chart.selectAll('.circle-wrong2-selection-2');\n      const circleMiddle2Selection1 = chart.selectAll('.circle-middle2-selection-1');\n      const circleMiddle2Selection2 = chart.selectAll('.circle-middle2-selection-2');\n\n      const yAxisMarkerTextRight_s1 = chart.select('.y-axis-marker-text-right1-s1');\n      const yAxisMarkerTextWrong_s1 = chart.select('.y-axis-marker-text-wrong1-s1');\n      const yAxisMarkerTextMiddle_s1 = chart.select('.y-axis-marker-text-middle1-s1');\n      const yAxisMarkerTextRight_s2 = chart.select('.y-axis-marker-text-right1-s2');\n      const yAxisMarkerTextWrong_s2 = chart.select('.y-axis-marker-text-wrong1-s2');\n      const yAxisMarkerTextMiddle_s2 = chart.select('.y-axis-marker-text-middle1-s2');\n      const hoverRect = chart.select(\".y-axis-marker-rect\")\n\n\n      const formatDecimal = d3.format(\".1f\")\n      const x = this.x;\n\n      const { first, second } = this.selections;\n      const rightYOffset = (classifierName:string,confidence:string, selection: Set<string>,type) => {\n        const instances = type==1? this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  :this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);\n\n        return this.x(fractionOfTotalInstances);\n      };\n      const rightHeight = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        return rightYOffset(classifierName,confidence, selection,type);\n      };\n\n      const wrongHeight = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);\n                                      \n        return  this.x(fractionOfTotalInstances);\n      };\n\n      const middleHeight = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size+ this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);\n\n        return  this.x(fractionOfTotalInstances);\n      };\n\n      const rightOverLap = (classifierName:string,confidence:string, selection: Set<string>,type) => {\n        const instances = type==1? this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances\n                                  :this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);\n        return fractionOfTotalInstances;\n      };\n\n      const wrongOverLap = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances\n\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);;\n        return fractionOfTotalInstances;\n      };\n\n      const middleOverLap = (classifierName:string, confidence:string, selection: Set<string>, type) => {\n        const instances = type == 1? this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances\n                                    :this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances\n        var totalInstances = 0\n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const confidenceInstancesSize = (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n                                  + (this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        // type==1? (this.predictions[classifierName][\"ci_tp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fp_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mp_instances\"][confidence].instances.size)\n        //                           :(this.predictions[classifierName][\"ci_tn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_fn_instances\"][confidence].instances.size + this.predictions[classifierName][\"ci_mn_instances\"][confidence].instances.size)\n\n        const fractionOfTotalInstances = this.normalization == 'No' ? overlappingInstances.size \n                                      :instances.size == 0 ? 0 : overlappingInstances.size * this.maxIntervals / (confidenceInstancesSize / 1.5);\n        return  fractionOfTotalInstances;\n      };\n\n      var xAxis = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(this.classifiers);\n      \n      if (!first) {\n        barRightSelection1.attr('width', '0');\n        barWrongSelection1.attr('width', '0');\n        barMiddleSelection1.attr('width', '0');\n\n        barRight2Selection1.attr('width', '0');\n        barWrong2Selection1.attr('width', '0');\n        barMiddle2Selection1.attr('width', '0');\n\n        circleRightSelection1.attr(\"visibility\",\"hidden\");\n        circleWrongSelection1.attr(\"visibility\",\"hidden\");\n        circleMiddleSelection1.attr(\"visibility\",\"hidden\");\n\n        circleRight2Selection1.attr(\"visibility\",\"hidden\");\n        circleWrong2Selection1.attr(\"visibility\",\"hidden\");\n        circleMiddle2Selection1.attr(\"visibility\",\"hidden\");\n      } else {\n        if (this.hover.type == \"right1\" || this.hover.type == \"wrong1\" || this.hover.type == \"middle1\") {\n          yAxisMarkerTextRight_s1\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"steelblue\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-60)\" )\n              .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : '' +rightOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n\n          yAxisMarkerTextMiddle_s1\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"steelblue\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-40)\" )\n                .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : ''+middleOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n    \n          yAxisMarkerTextWrong_s1\n                .attr(\"fill\",\"steelblue\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-20)\" )\n                .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : ''+wrongOverLap(this.hover.classifier,this.hover.interval, first.instances, 1));\n        } else if (this.hover.type == \"right2\" || this.hover.type == \"wrong2\" || this.hover.type == \"middle2\"){\n          yAxisMarkerTextRight_s1\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"steelblue\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-60)\" )\n              .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : ''+rightOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n\n          yAxisMarkerTextMiddle_s1\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"steelblue\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-40)\" )\n                .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : ''+middleOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n    \n          yAxisMarkerTextWrong_s1\n                .attr(\"fill\",\"steelblue\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)-10) + \",-20)\" )\n                .text(\"1st: \"+ this.normalization == 'Yes'? '(%)' : ''+wrongOverLap(this.hover.classifier,this.hover.interval, first.instances, 2));\n        }\n        \n\n        barRightSelection1\n          .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1));\n        barWrongSelection1\n          .attr('width', (d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1));\n        barMiddleSelection1\n          .attr('width', (d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1));\n\n        barRight2Selection1\n          // .attr(\"x\",(d: string) => -rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances,2))\n          .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances,2));\n        barWrong2Selection1\n          // .attr('x', (d: string) => -wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2))\n          .attr('width', (d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2));\n        barMiddle2Selection1\n          // .attr('x', (d: string) => -middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2))\n          .attr('width', (d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2));\n\n        circleRightSelection1\n          .attr(\"visibility\",(d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1) \n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1)  <= 0? \"hidden\" :\"visible\")\n        circleWrongSelection1\n          .attr(\"visibility\",(d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1)\n            > selectionBarWidth * 2\n            || wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1) <= 0? \"hidden\" :\"visible\")\n        circleMiddleSelection1\n          .attr(\"visibility\",(d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1)\n            > selectionBarWidth * 2\n            || middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 1) <= 0? \"hidden\" :\"visible\")\n\n        circleRight2Selection1\n          .attr(\"visibility\",(d: string) =>  rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances,2)\n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances,2) <= 0? \"hidden\" :\"visible\")\n        circleWrong2Selection1\n          .attr(\"visibility\",(d: string) =>  wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2)\n            > selectionBarWidth * 2\n            || wrongHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2) <= 0? \"hidden\" :\"visible\")\n        circleMiddle2Selection1\n          .attr(\"visibility\",(d: string) =>  middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2)\n            > selectionBarWidth * 2\n            || middleHeight(d[\"classifier\"], d[\"confidence\"], first.instances, 2) <= 0? \"hidden\" :\"visible\")\n\n        }\n\n                  \n\n      if (!second) {\n        barRightSelection2.attr('width', '0');\n        barWrongSelection2.attr('width', '0');\n        barMiddleSelection2.attr('width', '0');\n\n        barRight2Selection2.attr('width', '0');\n        barWrong2Selection2.attr('width', '0');\n        barMiddle2Selection2.attr('width', '0');\n\n        circleRightSelection2.attr(\"visibility\",\"hidden\");\n        circleWrongSelection2.attr(\"visibility\",\"hidden\");\n        circleMiddleSelection2.attr(\"visibility\",\"hidden\");\n\n        circleRight2Selection2.attr(\"visibility\",\"hidden\");\n        circleWrong2Selection2.attr(\"visibility\",\"hidden\");\n        circleMiddle2Selection2.attr(\"visibility\",\"hidden\");\n      } else {\n        if (this.hover.type == \"right1\" || this.hover.type == \"wrong1\" || this.hover.type == \"middle1\"){\n          yAxisMarkerTextRight_s2\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"red\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-60)\" )\n              .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+rightOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n\n          yAxisMarkerTextMiddle_s2\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"red\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-40)\" )\n                .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+middleOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n    \n          yAxisMarkerTextWrong_s2\n                .attr(\"fill\",\"red\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-20)\" )\n                .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+wrongOverLap(this.hover.classifier,this.hover.interval, second.instances, 1));\n        } else if (this.hover.type == \"right2\" || this.hover.type == \"wrong2\" || this.hover.type == \"middle2\"){\n          yAxisMarkerTextRight_s2\n              .attr('fill-opacity', 1)\n              .attr(\"fill\",\"red\")\n              .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-60)\" )\n              .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+rightOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n\n          yAxisMarkerTextMiddle_s2\n                .attr('fill-opacity', 1) \n                .attr(\"fill\",\"red\")\n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-40)\" )\n                .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+middleOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n    \n          yAxisMarkerTextWrong_s2\n                .attr(\"fill\",\"red\")\n                .attr('fill-opacity', 1)  \n                .attr(\"transform\",  \"translate(\" + (xAxis(this.hover.classifier)+60) + \",-20)\" )\n                .text(\"2nd: \"+ this.normalization == 'Yes'? '(%)' : ''+wrongOverLap(this.hover.classifier,this.hover.interval, second.instances, 2));\n        }\n        barRightSelection2\n        .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,1));\n        barWrongSelection2\n          .attr('width', (d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"],second.instances,1));\n        barMiddleSelection2\n          .attr('width', (d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1));\n\n\n        barRight2Selection2\n          // .attr('x', (d: string) => -rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,2))\n          .attr('width', (d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,2));\n        barWrong2Selection2\n          // .attr('x', (d: string) => -wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2))\n          .attr('width', (d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2));\n        barMiddle2Selection2\n          // .attr('x', (d: string) => -middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2))\n          .attr('width', (d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2));\n\n\n        circleRightSelection2\n          .attr(\"visibility\",(d: string) => rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,1)\n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,1) <= 0 ? \"hidden\" :\"visible\")\n        circleWrongSelection2\n          .attr(\"visibility\",(d: string) => wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1)\n            > selectionBarWidth * 2 \n            ||  wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1) <= 0? \"hidden\" :\"visible\")\n        circleMiddleSelection2\n          .attr(\"visibility\",(d: string) => middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1)\n            > selectionBarWidth * 2 \n            || middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 1) <= 0? \"hidden\" :\"visible\")\n\n        \n        circleRight2Selection2\n          .attr(\"visibility\",(d: string) =>  rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,2)\n            > selectionBarWidth * 2\n            || rightHeight(d[\"classifier\"], d[\"confidence\"], second.instances,2) <= 0 ? \"hidden\" :\"visible\")\n          // .attr(\"x\",(d: string) => -rightHeight(d[\"classifier\"], d[\"confidence\"], first.instances,2))\n        circleWrong2Selection2\n          .attr(\"visibility\",(d: string) =>  wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2)\n            > selectionBarWidth * 2 \n            || wrongHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2) <= 0? \"hidden\" :\"visible\")\n        circleMiddle2Selection2\n          .attr(\"visibility\",(d: string) =>  middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2)\n            > selectionBarWidth * 2 \n            || middleHeight(d[\"classifier\"], d[\"confidence\"], second.instances, 2) <= 0? \"hidden\" :\"visible\")\n\n      }\n    },\n    select(\n      classifier: string,\n      type: 'right' | 'wrong' | 'right2' | 'wrong2'| 'middle' | 'middle2' | 'dist',\n      whichOverlap: 'first' | 'second',\n      interval:string,\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n      constraint.negation = (type === 'wrong');\n\n      let instances = new Set();\n      if (type != 'dist') {\n        const curType = type==\"right\"? \"ci_tp_instances\"\n                        :type==\"right2\"?\"ci_tn_instances\"\n                        :type==\"wrong\"?\"ci_fp_instances\"\n                        :type==\"wrong2\"? \"ci_fn_instances\"\n                        :type==\"middle\"? \"ci_mp_instances\"\n                        :\"ci_mn_instances\"\n        instances = this.predictions[classifier][curType][interval].instances//this.predictions[classifier][curType];\n      } else {\n        instances = new Set([...this.predictions[classifier][\"ci_tp_instances\"][interval].instances\n                                  , ...this.predictions[classifier][\"ci_fn_instances\"][interval].instances\n                                  , ...this.predictions[classifier][\"ci_tn_instances\"][interval].instances\n                                  , ...this.predictions[classifier][\"ci_fp_instances\"][interval].instances\n                                  , ...this.predictions[classifier][\"ci_mn_instances\"][interval].instances\n                                  , ...this.predictions[classifier][\"ci_mp_instances\"][interval].instances\n                                  ]);\n      }\n                  \n      const interval_index = this.confidenceIndex[interval]\n      const lower_confi = parseFloat(interval) - 0.05 < 0 ? 0 : parseFloat(interval) - 0.05;\n      const upper_confi = parseFloat(interval) + 0.05 > 1 ? 1 : parseFloat(interval) + 0.05;\n      const description = `Instances which ${classifier} got ${type} with scores between ${lower_confi.toFixed(2)} and  ${upper_confi.toFixed(2)}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierConfidence.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierConfidence.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OverallClassifierConfidence.vue?vue&type=template&id=202c3122&scoped=true&\"\nimport script from \"./OverallClassifierConfidence.vue?vue&type=script&lang=ts&\"\nexport * from \"./OverallClassifierConfidence.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OverallClassifierConfidence.vue?vue&type=style&index=0&id=202c3122&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"202c3122\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Reliability Curve\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Selection Mode\"},model:{value:(_vm.selection_mode),callback:function ($$v) {_vm.selection_mode=$$v},expression:\"selection_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall curve \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"selection curve\",\"value\":\"selected\"}})],1)],1)])],1)],1),_c('div',{attrs:{\"id\":\"legend1\"}},[_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { select } from 'd3';\n\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\n\nexport default Vue.extend({\n  name: 'Reliability_Curve',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = 'descending' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const hover = {\n      classifier: '',\n    };\n    const click = {\n      classifier: '',\n      threshold: ''\n    };  \n    const selection_mode = 'overall' as 'overall' | 'selected'\n\n    return {\n      svg: '',\n      confidenceClassifierDict: {},\n      value: [],\n      selection_mode,\n      accuracySorting,\n      height,\n      hover,\n      click,\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#b8ddf2',\n      width,\n      selectedEval:'',\n      wrongColor: '#f7c8aa',\n      rightColor1: '#9bcae4',\n      wrongColor1: '#ffbb99',\n      rightHoverColor1: '#4ba0ce',\n      wrongHoverColor1: '#ff884d',\n      rightHoverColor: '#4393c3',\n      wrongHoverColor: '#d6604d',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n    };\n  },\n  computed: {\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    options(): any[] {\n      let options = []\n      const classifiers = this.classifiers\n      classifiers.forEach((c)=>{\n        options.push({name: c});\n      })\n      return options\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThresholdDict;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    confidence(): string[] {\n      return [\"0\",\"0.1\",\"0.2\",\"0.3\",\"0.4\",\"0.5\",\"0.6\",\"0.7\",\"0.8\",\"0.9\",\"1.0\"]\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    confidenceIndex() : {} {\n      let confidenceIndex  = {}\n      for (let i in this.confidence) {\n        confidenceIndex[this.confidence[i]] = parseInt(i)\n      }\n      return confidenceIndex\n    },\n    metrics(): MetricsWithClassifier[] {\n      const storeMetrics: {\n        [classifier: string]: Metrics,\n      } = this.$store.getters.metrics;\n\n      const metrics: MetricsWithClassifier[] = Object.entries(storeMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          metrics: m,\n        };\n      });\n      return metrics;\n    },\n    predictions(): {\n      [classifier: string]: {\n        name: String,\n        threshold: Number,\n        acc: Number,\n        ci_tp: Number[],\n        ci_fn: Number[],\n        ci_tn: Number[],\n        ci_fp: Number[],\n        ci_tp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_fn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_tn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n        continuous_pred: Number[]\n      },\n    }{\n      const predictions: {\n        [classifier: string]: {\n          name: String,\n          threshold: Number,\n          acc: Number,\n          ci_tp: Number[],\n          ci_fn: Number[],\n          ci_tn: Number[],\n          ci_fp: Number[],\n          ci_tp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fp_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_tn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fn_instances: {\n          [confidence: string]:{\n            instances: Set<String>,\n            }\n          },\n          continuous_pred: Number[]\n        },\n      } = {};\n\n\n      var allIntervals = [];\n      this.classifiers.forEach((c) => {\n        let cur_acc = 0\n        predictions[c] = {\n          name:c,\n          threshold: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] : 0,\n          acc: 0,\n          ci_tp: [],\n          ci_fn: [],\n          ci_tn: [],\n          ci_fp: [],\n          ci_tp_instances: {},\n          ci_fp_instances: {},\n          ci_tn_instances: {},\n          ci_fn_instances: {},\n          continuous_pred: []\n        };\n        this.confidence.forEach((conf)=>{\n          predictions[c][\"ci_tp_instances\"][conf] = {\n            instances: new Set(),\n          }\n          predictions[c][\"ci_tn_instances\"][conf] = {\n            instances: new Set(),\n          }\n          predictions[c][\"ci_fp_instances\"][conf] = {\n            instances: new Set(),\n          }\n          predictions[c][\"ci_fn_instances\"][conf] = {\n            instances: new Set(),\n          }\n        })\n        this.instances.forEach((id)=>{\n          let continuous_value = (instanceById(id).continuous_predictions[c])\n          let correct = instanceById(id).actual == instanceById(id).predictions[c]? 1 : 0;\n          predictions[c].continuous_pred.push(parseFloat(continuous_value))\n          let interval = (continuous_value.split(\".\")[1].substring(0,1)/10).toString()\n          if ((continuous_value.split(\".\")[0]=='1')) {\n            interval = \"1.0\"\n          }\n          let interval_index = this.confidenceIndex[interval]\n          if (interval_index > 0 && interval_index < this.confidence.length) {\n            let latter_index = interval_index + 1\n            let latter_confi = parseFloat(this.confidence[latter_index])\n            if (Math.abs(latter_confi - parseFloat (continuous_value)) < Math.abs(parseFloat (continuous_value) - parseFloat(interval))) {\n              interval = this.confidence[latter_index]\n            }\n          }  \n\n          if (correct == 1){\n            if (instanceById(id).actual == this.classes[1]){\n              predictions[c][\"ci_tp_instances\"][interval].instances.add(id)\n            } else {\n              predictions[c][\"ci_tn_instances\"][interval].instances.add(id)\n            }\n          }\n            \n          else{\n            if (instanceById(id).actual == this.classes[1]) {\n              predictions[c][\"ci_fp_instances\"][interval].instances.add(id)\n            } else {\n              predictions[c][\"ci_fn_instances\"][interval].instances.add(id)\n            }\n          }\n            \n        })\n        this.confidence.forEach((conf)=>{\n          predictions[c][\"ci_tp\"].push(predictions[c][\"ci_tp_instances\"][conf].instances.size)\n          predictions[c][\"ci_tn\"].push(predictions[c][\"ci_tn_instances\"][conf].instances.size)\n          predictions[c][\"ci_fp\"].push(predictions[c][\"ci_fp_instances\"][conf].instances.size)\n          predictions[c][\"ci_fn\"].push(predictions[c][\"ci_fn_instances\"][conf].instances.size)\n          allIntervals.push(predictions[c][\"ci_tn_instances\"][conf].instances.size + predictions[c][\"ci_tp_instances\"][conf].instances.size + predictions[c][\"ci_fn_instances\"][conf].instances.size + predictions[c][\"ci_fp_instances\"][conf].instances.size)\n        })\n      });\n      this.x.domain([0,d3.max(allIntervals)*2])\n      return predictions;\n    },\n    confidenceDict(): {} {\n      let confidenceData = []\n      let confidenceDict = {}\n      this.classifiers.forEach((c)=>{\n        let ci_tp = this.predictions[c].ci_tp;\n        let ci_tn = this.predictions[c].ci_tn;\n        let ci_fp = this.predictions[c].ci_fp;\n        let ci_fn = this.predictions[c].ci_fn;\n        let curConfidenceData = []\n        for (var i in this.confidence) {\n          curConfidenceData.push({\"classifier\":c,\"confidence\":this.confidence[i], \"tp_interval\":ci_tp[i], \"tn_interval\":ci_tn[i], \"fp_interval\":ci_fp[i], \"fn_interval\":ci_fn[i]})\n        }\n        confidenceData.push({\"name\":c, \"data\":curConfidenceData,\"threshold\":this.predictions[c].threshold})\n        confidenceDict[c] = curConfidenceData\n      })\n      return confidenceDict;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusDotEmphasis(): String{return  this.$store.state.focusDotEmphasis},\n    x(): d3.ScaleLinear<number, number> {\n      const x = d3.scaleLinear()\n        .range([0, this.width / this.classifiers.length])\n        .domain([0,100])\n      return x;    \n    },\n    xRight(): d3.ScaleLinear<number, number> {\n      const x = d3.scaleLinear()\n        .range([0, this.width / this.classifiers.length])\n        .domain([0,1])\n      return x;    \n    },\n    y(): d3.ScaleBand<string> {\n      const y = d3.scaleBand<string>()\n        .range([this.height, 0])\n        .padding(0.1).domain(this.confidence);\n      return y;\n    },\n    outSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: { \n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Reliability_Curve') {\n          if (view.config) {\n            let value  = view.config;\n            this.value = []\n            value.classifiers.forEach((c)=>{\n              if (this.classifiers.includes(c)) {\n                this.value.push({'name':c})\n              }\n            })\n            this.selection_mode = value.selection\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Reliability_Curve\", \n                    \"config\": {\n                      \"classifiers\":this.value.map((c)=>c.name),\n                      \"selection\":this.selection_mode}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    click() {\n      this.updateThreshold();\n    },\n    selections() {\n      this.drawInitial();\n    },\n    value() {\n      this.drawInitial();\n    },\n    selection_mode() {\n      this.drawInitial();\n    },\n    outSelections() {\n      if (this.selection_mode != 'overall') {\n        this.drawInitial();\n      }\n    },\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Reliability_Curve') {\n        if (view.config) {\n          let value  = view.config;\n          this.value = []\n          value.classifiers.forEach((c)=>{\n            if (this.classifiers.includes(c)) {\n              this.value.push({'name':c})\n            }\n          })\n          this.selection_mode = value.selection\n        }\n      }\n    })\n    this.drawInitial();\n  },\n  methods: {\n    updateThreshold() {\n      const classifier = this.click.classifier;\n      const value = parseFloat(this.click.threshold).toFixed(2);\n      let changedClassifier = {\"classifier\":classifier, \"single_threshold\": parseFloat(value) * 100};\n      this.$store.dispatch(\"changedCurveChosenClassifierThresholdTuple\",changedClassifier)\n    },\n    clearHover() {\n      this.hover = ({ classifier: ''});\n    },\n    drawHover() {\n      const name = this.hover.classifier;\n      let classifiers = ['standard']\n      this.classifiers.forEach((c)=> {\n        classifiers.push(c)\n      });\n      const {first, second} = this.outSelections\n      if (this.selection_mode == 'overall') {\n        if (this.hover.classifier != '') {\n          d3.select(\".legend_circle_\"+name).attr(\"r\",8)\n          d3.select(\".legend_text_\"+name).style(\"font-size\", \"20px\")\n          classifiers.forEach((c)=>{\n            if (c != name) {\n              d3.selectAll(\".line_\"+c).style(\"opacity\",0.2)\n              d3.selectAll(\".dot_\"+c).style(\"opacity\",0.2)\n            }\n          })\n        } else {\n          classifiers.forEach((c)=>{\n            d3.selectAll(\".line_\"+c).style(\"opacity\",1)\n            d3.selectAll(\".dot_\"+c).style(\"opacity\",1)\n            d3.select(\".legend_circle_\"+c).attr(\"r\",6)\n            d3.select(\".legend_text_\"+c).style(\"font-size\", \"15px\")\n          })\n        }\n      } else {\n        let selectedSets = []\n        if (first) {\n          selectedSets.push(1)\n        }\n        if (second) {\n          selectedSets.push(2)\n        }\n        selectedSets.forEach((seleted_type)=>{\n          if (this.hover.classifier != '') {\n            d3.select(\".legend_circle_\"+name).attr(\"r\",8)\n            d3.select(\".legend_text_\"+name).style(\"font-size\", \"20px\")\n            d3.selectAll(\".line_\"+name + \"_\" + seleted_type).style(\"opacity\",1)\n            d3.selectAll(\".dot_\"+name + \"_\" + seleted_type).style(\"opacity\",1)\n            classifiers.forEach((c)=>{\n              if (c != name) {\n                d3.selectAll(\".line_\"+c + \"_\" + seleted_type).style(\"opacity\",0.2)\n                d3.selectAll(\".dot_\"+c + \"_\" + seleted_type).style(\"opacity\",0.2)\n              }\n            })\n          } else {\n            classifiers.forEach((c)=>{\n              d3.selectAll(\".line_\"+c + \"_\" + seleted_type).style(\"opacity\",1)\n              d3.selectAll(\".dot_\"+c + \"_\" + seleted_type).style(\"opacity\",1)\n              d3.select(\".legend_circle_\"+c).attr(\"r\",6)\n              d3.select(\".legend_text_\"+c).style(\"font-size\", \"15px\")\n            })\n          }\n        })\n      }\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.bottom})`);\n\n      const svg_distribution= d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${(this.height + this.margin.top + this.margin.bottom)*0.4}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top * 0.2})`);\n\n      const sequentialScale = d3.scaleSequential<string>( d3.interpolatePlasma)\n            .domain([0, this.classifiers.length])\n            .interpolator(function (x) { return d3.interpolatePlasma(.8*x);} );\n\n      const classifiers = this.value.map((c)=>c.name);\n\n      var width = this.width;\n      var height = this.height\n      let confidenceData = []\n      let confidenceCountData = []\n      let confidenceDict = {}\n      let selectedDataDict = []\n      let count  = 0\n\n      const calculatedCurves = () => {  \n        let count = 0\n        classifiers.forEach((c)=>{\n          count += 1\n          let ci_tp = this.predictions[c].ci_tp;\n          let ci_tn = this.predictions[c].ci_tn;\n          let ci_fp = this.predictions[c].ci_fp;\n          let ci_fn = this.predictions[c].ci_fn;\n          let curConfidenceData = []\n          let cordinates = []\n          let curConfidenceCountData = []\n          for (var i in this.confidence) {\n            if ((ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]) == 0 || (ci_tp[i] + ci_fp[i]) / this.instances.size < 0.01 ) {\n              curConfidenceCountData.push({\"name\":c, \"color\":sequentialScale(count),\"classifier\":c,\"confidence\":this.confidence[i],  \"value\": null})\n              continue\n            } \n           \n            else {\n              let value = (ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]) == 0 ? null : (ci_tp[i] + ci_fp[i]) / (ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i])\n              let value2 = ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]\n              curConfidenceData.push({\"name\":c, \"color\":sequentialScale(count),\"classifier\":c,\"confidence\":this.confidence[i], \"tp_interval\":ci_tp[i], \"tn_interval\":ci_tn[i],\"fp_interval\":ci_fp[i], \"fn_interval\":ci_fn[i], \"threshold\":this.predictions[c].threshold, \"value\": value})\n              cordinates.push([this.confidence[i], value])\n              curConfidenceCountData.push({\"name\":c, \"color\":sequentialScale(count),\"classifier\":c,\"confidence\":this.confidence[i],  \"value\": value2})\n            }\n          }\n          confidenceData.push({\"name\":c, \"color\":sequentialScale(count), 'cordinates':cordinates, \"data\":curConfidenceData,\"threshold\":this.predictions[c].threshold})\n          confidenceCountData.push({\"name\":c, \"color\":sequentialScale(count), \"data\":curConfidenceCountData,\"threshold\":this.predictions[c].threshold})\n          confidenceDict[c] = curConfidenceData\n        })\n\n        let confidenceStandard = []\n        for (var i in this.confidence) {\n          let value = parseFloat(this.confidence[i])\n          confidenceStandard.push({\"name\":\"standard\", \"color\":\"grey\",\"classifier\":\"standard\",\"confidence\":this.confidence[i], \"tp_interval\":this.instances.length / 2, \"tn_interval\":0,\"fp_interval\":0, \"fn_interval\":this.instances.length / 2,\"threshold\":0.5,\"value\":value})\n        }\n        confidenceData.push({\"name\":\"standard\", \"color\":\"grey\", \"data\":confidenceStandard,\"threshold\":0.5})\n      };\n\n      const calculatedSelectedCurves = () => {\n        const {first, second} = this.outSelections;\n        const instances = this.instances;\n        let selectedconfidenceData = [];\n        let selectedconfidenceDict = {};\n\n        const calculate_value = (classifier:string, selection: Set<string>) => {\n          let c = classifier\n          let ci_tp = []\n          let ci_tn = []\n          let ci_fp = []\n          let ci_fn = []\n          for (var idx in this.confidence) {\n            let i = this.confidence[idx]\n            ci_tp.push(intersection(this.predictions[c].ci_tp_instances[i].instances, selection).size);\n            ci_tn.push(intersection(this.predictions[c].ci_tn_instances[i].instances, selection).size);\n            ci_fp.push(intersection(this.predictions[c].ci_fp_instances[i].instances, selection).size);\n            ci_fn.push(intersection(this.predictions[c].ci_fn_instances[i].instances, selection).size);\n          }\n          let curConfidenceData = []\n          let cordinates = []\n          for (var i in this.confidence) {\n            if ((ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]) == 0) {\n              continue\n            }\n            let value = (ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]) == 0 ? null : (ci_tp[i] + ci_fp[i]) / (ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i])\n            let value2 = ci_tp[i] + ci_fp[i] + ci_tn[i] + ci_fn[i]\n            curConfidenceData.push({\"name\":c, \"color\":sequentialScale(count),\"classifier\":c,\"confidence\":this.confidence[i], \"tp_interval\":ci_tp[i], \"tn_interval\":ci_tn[i],\"fp_interval\":ci_fp[i], \"fn_interval\":ci_fn[i], \"threshold\":this.predictions[c].threshold, \"value\": value})\n            cordinates.push([this.confidence[i], value])\n          }\n          selectedconfidenceData.push({\"name\":c, \"color\":sequentialScale(count), 'cordinates':cordinates, \"data\":curConfidenceData,\"threshold\":this.predictions[c].threshold})\n          return curConfidenceData\n        };\n\n        count = 0\n\n        let confidenceStandard = []\n\n        if (first) {\n          count = 0\n          classifiers.forEach((c)=>{\n            count += 1;\n            selectedconfidenceDict[c] = calculate_value(c, first.instances)            \n          })\n          for (var i in this.confidence) {\n            let value = parseFloat(this.confidence[i])\n            confidenceStandard.push({\"name\":\"standard\", \"color\":\"grey\",\"classifier\":\"standard\",\"confidence\":this.confidence[i], \"tp_interval\":this.instances.length / 2, \"tn_interval\":0,\"fp_interval\":0, \"fn_interval\":this.instances.length / 2,\"threshold\":0.5,\"value\":value})\n          }\n          selectedconfidenceData.push({\"name\":\"standard\", \"color\":\"grey\", \"data\":confidenceStandard,\"threshold\":0.5})\n          selectedDataDict.push({\"selection_type\":1, 'data': selectedconfidenceData, \"dict\": selectedconfidenceDict})\n        } \n        if (second) {\n          count = 0\n          selectedconfidenceDict = {}\n          selectedconfidenceData = []\n          classifiers.forEach((c)=>{\n            count += 1;\n            selectedconfidenceDict[c] = calculate_value(c, second.instances)            \n          })\n          if (! first) {\n            let confidenceStandard = []\n            for (var i in this.confidence) {\n              let value = parseFloat(this.confidence[i])\n              confidenceStandard.push({\"name\":\"standard\", \"color\":\"grey\",\"classifier\":\"standard\",\"confidence\":this.confidence[i], \"tp_interval\":this.instances.length / 2, \"tn_interval\":0,\"fp_interval\":0, \"fn_interval\":this.instances.length / 2,\"threshold\":0.5,\"value\":value})\n            }\n            selectedconfidenceData.push({\"name\":\"standard\", \"color\":\"grey\", \"data\":confidenceStandard,\"threshold\":0.5})\n          }\n          selectedDataDict.push({\"selection_type\":2, 'data': selectedconfidenceData, \"dict\": selectedconfidenceDict})\n        }\n\n      };\n\n      const drawDistribution = () => {\n\n        let confidenceClassifierDict = {}\n        \n        for (let i in this.confidence){\n          let tmp_list = []\n          let j = 0\n          classifiers.forEach((d)=>{\n            tmp_list.push(confidenceCountData[j].data[i]) \n            j+=1\n          })\n          confidenceClassifierDict[this.confidence[i]] = tmp_list\n        } \n        const xValue = (g: any) => g\n          .attr('transform', `translate(${0}, ${height*0.4})`)\n          .call(\n            d3.axisBottom(xAxis)\n              .tickSizeOuter(0),\n          );\n\n        const yValue = d3.scaleLinear()\n          .domain([0,this.instances.length])\n          .range([this.height*0.4, 0]);\n\n        const xAxis = d3.scaleBand<string>()\n          .range([0, this.width])\n          .paddingOuter(0)\n          .domain(this.confidence);\n\n        const x = d3.scaleBand()\n          .range([0, this.width / this.confidence.length])\n          .paddingOuter(0.5)\n          .paddingInner(0)\n          .domain(classifiers)\n        const y = d3.scaleLinear()\n            .domain([0, this.instances.length])\n            .range([this.height*0.4, 0]);\n        \n        const barWidth = x.bandwidth();\n\n        // Add the X Axis\n        svg_distribution.append('g')\n          .attr(\"class\",\"bar-chart\")\n          .call(xValue)\n          .selectAll('text')\n          .attr('text-anchor', 'start');\n\n        // Add the Y Axis\n        svg_distribution.append(\"g\")\n            .attr(\"class\",\"bar-chart\")\n            .call(d3.axisLeft(yValue)); \n             \n        const barCells =  svg_distribution.append(\"g\").attr(\"class\",\"bar-chart\")\n        .selectAll(\"g\")\n          .data(this.confidence)\n          .enter().append(\"g\")\n            .attr(\"transform\", function(d: string) { \n              return \"translate(\" + xAxis(d) + \",0)\"; })\n            .selectAll(\"rect\")\n            .data(function(d: string) { \n              return confidenceClassifierDict[d]; })\n            .enter()\n\n        this.svg = svg_distribution;\n\n        this.confidenceClassifierDict = confidenceClassifierDict;\n\n        barCells\n          .append(\"rect\")\n          .attr(\"transform\", function(d: string) { \n              return \"translate(\" + x(d['classifier']) + \",0)\"; })\n          .attr(\"class\",d=>'bar-right-'+d['classifier']+'-'+d['confidence'])\n          .attr(\"width\", barWidth)\n          .attr(\"height\",(d)=>this.height * 0.4 -y(d[\"value\"]))\n          .attr(\"y\", (d)=>{\n            return y(d[\"value\"])})\n          .attr(\"fill\",(d:string)=>d['color'])\n          .on('mouseenter', (d: string) => this.hover = ({type: 'right1', classifier: d[\"classifier\"], interval: d[\"confidence\"].toString()}))\n          .on('mouseleave', this.clearHover)\n          .on('click', (d: string) => this.select(d[\"classifier\"],  'first',d[\"confidence\"].toString()))\n          .on('contextmenu', (d: string) => this.select(d[\"classifier\"],  'second',d[\"confidence\"].toString()));\n      };\n\n      const drawCurves = () => {\n        const xValue = d3.scaleLinear()\n        .domain([0, 1])\n        .range([0, this.width])\n        const yValue = d3.scaleLinear()\n          .domain([0,1])\n          .range([this.height*3/4, 0]);\n\n        // Add the X Axis\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height*3/4 + \")\")\n            .call(d3.axisBottom(xValue));\n\n        // Add the Y Axis\n        svg.append(\"g\")\n            .call(d3.axisLeft(yValue)); \n        \n        function line(d) {\n          var name = d.name\n          d = d.data\n          var path = \"M \" \n          var lastx = 1;\n          var lasty = 0;\n          var idx = 0\n          d.forEach((cordinate)=>{\n            if ((cordinate.value == null || cordinate.value == 0) && idx != 0) {\n              idx += 1;\n            } else {\n                if (idx == 0) {\n                  path = path + xValue(cordinate.confidence) + ' ' + yValue(cordinate.value)\n                } else {\n                  path = path + 'L '+ xValue(cordinate.confidence) +' ' + yValue(cordinate.value)\n                }              \n                lastx = cordinate.confidence;\n                lasty = cordinate.value;\n                idx += 1;\n            }\n            \n          })\n          return path\n        }\n\n        var lines = svg \n          .selectAll(\"myPath\")\n          .data(confidenceData)\n          .enter().append(\"path\")\n          .attr(\"d\",  line)\n          .attr(\"class\",(d,i)=>\"line_\"+d.name)\n          .attr(\"class\",(d,i)=>\"line_\"+d.name)\n          .style(\"fill\", \"none\")\n          .attr(\"stroke\",(d)=>{\n            return d.color})\n          .style(\"stroke-width\", 3)\n          .style(\"opacity\", 1)   \n          .style(\"stroke-dasharray\",(d)=>d[\"name\"] == \"standard\"? (\"3, 3\") : (\"0, 0\")) \n\n        var points = svg.selectAll(\".dot\")\n          .data(confidenceData)\n          .enter()\n          .selectAll(\".circle\")\n          .data(function(d: string) { \n            return d[\"data\"]; })\n            .enter()\n            .append(\"circle\")\n          .attr(\"class\",(d,i)=>\"dot_\"+d[\"name\"])\n          .attr(\"cx\", function(d, i) {  \n            let x = parseFloat(d[\"confidence\"]);\n            return xValue(x) })\n          .attr(\"cy\", function(d,i) { \n            let p = d;\n            let y = d[\"value\"]\n            return yValue(y) })\n          .attr(\"r\", 5)\n          .attr(\"fill\",(d)=>d[\"color\"])\n          .attr(\"opacity\",function(d,i) { \n            return d['value'] != null && d['value']!= 0 ? 1 : 0\n            })\n          .on('click', (d,i) =>this.click = {'threshold':d[\"confidence\"], 'classifier':d['classifier']})\n\n      };\n\n      const drawSelectedCurves = () => {\n        const xValue = d3.scaleLinear()\n        .domain([0, 1])\n        .range([0, this.width])\n        const yValue = d3.scaleLinear()\n          .domain([0,1])\n          .range([this.height*3/4, 0]);\n\n        // Add the X Axis\n        svg.append(\"g\")\n            .attr(\"transform\", \"translate(0,\" + height*3/4 + \")\")\n            .call(d3.axisBottom(xValue));\n\n        // Add the Y Axis\n        svg.append(\"g\")\n            .call(d3.axisLeft(yValue)); \n        \n        function line(d) {\n          var name = d.name\n          d = d.data\n          var path = \"M \" \n          var lastx = 1;\n          var lasty = 0;\n          var idx = 0\n          d.forEach((cordinate)=>{\n            if ((cordinate.value == null || cordinate.value == 0) && idx != 0) {\n              idx = 0\n              path = path + 'M '\n            }\n            if (idx == 0) {\n              path = path + xValue(cordinate.confidence) + ' ' + yValue(cordinate.value)\n            } else {\n              path = path + 'L '+ xValue(cordinate.confidence) +' ' + yValue(cordinate.value)\n            }              \n            lastx = cordinate.confidence;\n            lasty = cordinate.value;\n            idx += 1; \n          })\n          return path\n        }\n\n        let confidenceStandard  = []\n        for (var i in this.confidence) {\n            let value = parseFloat(this.confidence[i])\n            confidenceStandard.push({\"name\":\"standard\", \"color\":\"grey\",\"classifier\":\"standard\",\"confidence\":this.confidence[i], \"tp_interval\":this.instances.length / 2, \"tn_interval\":0,\"fp_interval\":0, \"fn_interval\":this.instances.length / 2,\"threshold\":0.5,\"value\":value})\n        }\n        selectedDataDict. forEach((data)=>{\n          let confidenceData = data.data;\n          let confidenceDict = data.dict;\n          let selection_type = data.selection_type;\n          var lines = svg \n            .selectAll(\"myPath\")\n            .data(confidenceData)\n            .enter().append(\"path\")\n            .attr(\"d\",  line)\n            .attr(\"class\",(d,i)=>\"line_\"+d[\"name\"] + \"_\" + selection_type)\n            .style(\"fill\", \"none\")\n            .attr(\"stroke\",(d,i)=>{\n              if (d['color'] == 'grey') return d['color']\n              if (this.value.length  == 1) {\n                return selection_type == 1? this.selection1Color\n                    :selection_type == 2? this.selection2Color\n                    :d[\"color\"]\n              }\n              return d[\"color\"]})\n            .style(\"stroke-width\", 3)\n            .style(\"opacity\", 1)   \n            .style(\"stroke-dasharray\", selection_type == '1'? (\"3, 3\") : (\"0, 0\"))\n\n\n          var points = svg.selectAll(\".dot\")\n            .data(confidenceData)\n            .enter()\n            .selectAll(\".circle\")\n            .data(function(d: string) { \n              return d[\"data\"]; })\n              .enter()\n              .append(\"circle\")\n            .attr(\"class\",(d,i)=>\"dot_\"+d[\"name\"] + \"_\" + selection_type)\n            .attr(\"cx\", function(d, i) {  \n              let x = parseFloat(d[\"confidence\"]);\n              return xValue(x) })\n            .attr(\"cy\", function(d,i) { \n              let p = d;\n              let y = d[\"value\"]\n              return yValue(y) })\n            .attr(\"r\", 5)\n            .attr(\"fill\",(d)=>{\n              if (d['color'] == 'grey') return d['color']\n              if (this.value.length  == 1) {\n                return selection_type == 1? this.selection1Color\n                    :selection_type == 2? this.selection2Color\n                    :d[\"color\"]\n              }\n              return d[\"color\"]})\n            .attr(\"opacity\",function(d,i) { \n              return d['value'] != null ? 1 : 0\n              })\n            .on('click', (d,i) =>this.click = {'threshold':d[\"confidence\"], 'classifier':d['classifier']})\n        })\n        \n      };if (this.selection_mode == 'overall') {\n        calculatedCurves();\n        drawCurves();\n        drawDistribution();\n        this.drawDistributionSelections();\n      } else {\n        calculatedSelectedCurves();\n        drawSelectedCurves();\n        calculatedCurves();\n        drawDistribution();\n        this.drawDistributionSelections();\n      }\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(\"Fraction of Positives\"); \n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = (this.width) / 2;\n            const yOffset = (this.height) * 0.9;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(\"Mean predicted value\");  \n      };\n      drawTitles();\n\n      const drawLegend = () => {\n        var evaluationKeys = this.evaluationKeys\n        if (this.selection_mode != 'overall') {\n          confidenceData = selectedDataDict[0].data\n        }\n        var legend_circle = svg \n          .selectAll(\"myCicle\")\n          .data(confidenceData)\n          .enter().append(\"circle\")\n          .attr(\"class\",(d,i)=>\"legend_circle_\"+d.name)\n          .attr(\"cx\",this.evaluationKeys == \"roc\"? 10 : 20)\n          .attr(\"cy\",(d,i)=>i*25 - this.margin.top)\n          .attr(\"r\", 6)\n          .style(\"fill\", d=>d.color)\n          .on('mouseenter', d=>this.hover = ({classifier:d.name}))\n            .on('mouseleave', this.clearHover)\n\n\n        var legend_text = svg \n          .selectAll(\"myText\")\n          .data(confidenceData)\n          .enter().append(\"text\")\n          .attr(\"class\",(d,i)=>\"legend_text_\"+d.name)\n          .attr(\"x\", this.evaluationKeys == \"roc\"? 30 : 40)\n          .attr(\"y\", (d,i)=>i*25 - this.margin.top)\n          .text(d=>d.name)\n          .style(\"font-size\", \"15px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .on('mouseenter', d=>this.hover = ({classifier:d.name}))\n            .on('mouseleave', this.clearHover) \n\n         if (this.selection_mode != 'overall') {\n           svg \n            .append(\"line\")\n            .attr('y1',  -  this.margin.top)\n            .attr('x1', 100)\n            .attr('x2', 140)\n            .attr('y2',  -  this.margin.top)\n            .attr('stroke', 'blue')\n            .attr('stroke-width', '2px')\n            .attr('stroke-opacity', 0.5)\n            .style(\"stroke-dasharray\",(\"3, 3\"))\n          svg \n            .append(\"text\")\n            .attr('y',  -  this.margin.top)\n            .attr('x', 142)\n            .style(\"font-size\", \"15px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .text(\"selection 1\")\n\n          svg \n            .append(\"line\")\n            .attr('y1', 25 -  this.margin.top)\n            .attr('x1', 100)\n            .attr('x2', 140)\n            .attr('y2', 25 -  this.margin.top)\n            .attr('stroke', 'blue')\n            .attr('stroke-width', '2px')\n            .attr('stroke-opacity', 0.5)\n          svg \n            .append(\"text\")\n            .attr('y', 25 -  this.margin.top)\n            .attr('x', 142)\n            .style(\"font-size\", \"15px\")\n            .attr(\"alignment-baseline\",\"middle\")\n            .text(\"selection 2\")\n         }\n         \n      };\n      drawLegend(); \n    },\n    drawDistributionSelections() {\n      const chart = d3.select(this.$refs.svg);\n\n      const { first, second } = this.selections;\n      const confidenceClassifierDict = this.confidenceClassifierDict;\n      const classifiers = this.value.map((c)=>c.name);\n \n      const xAxis = d3.scaleBand<string>()\n          .range([0, this.width])\n          .paddingOuter(0)\n          .domain(this.confidence);\n      const x = d3.scaleBand()\n          .range([0, this.width / this.confidence.length])\n          .paddingOuter(0.5)\n          .paddingInner(0)\n          .domain(classifiers)\n      const y = d3.scaleLinear()\n            .domain([0, this.instances.length])\n            .range([ 0, this.height*0.4]);\n          \n        \n      const barWidth = x.bandwidth();\n\n      const selectionHeight = (classifierName:string, confidence: string, selection: Set<string>) => {\n        let instances_list = [];\n        let all_instances_list = [];\n        let name_list = ['ci_fn_instances', 'ci_fp_instances', 'ci_tn_instances', 'ci_tp_instances'];\n        name_list.forEach((l)=>{\n          let tmp_instances =[...this.predictions[classifierName][l][confidence].instances]\n          tmp_instances.forEach((i)=>{\n            all_instances_list.push(i)\n            if (l == 'ci_fp_instances' || l == 'ci_tp_instances') {\n              instances_list.push(i)\n            }\n          })\n        })\n        let instances = new Set(all_instances_list);\n        let overlappingInstances = intersection(instances, selection);\n        return y(overlappingInstances.size)\n      };\n\n      const hasFocusItem = (classifierName:string, confidence: string, selection: Set<string>) => {\n        let instances_list = [];\n        let all_instances_list = [];\n        let name_list = ['ci_fn_instances', 'ci_fp_instances', 'ci_tn_instances', 'ci_tp_instances'];\n        name_list.forEach((l)=>{\n          let tmp_instances =[...this.predictions[classifierName][l][confidence].instances]\n          tmp_instances.forEach((i)=>{\n            all_instances_list.push(i)\n            if (l == 'ci_fp_instances' || l == 'ci_tp_instances') {\n              instances_list.push(i)\n            }\n          })\n        })\n        let instances = new Set(all_instances_list);\n        let overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n\n      const selections = [first, second];\n\n      selections.forEach((cur_selection, idx)=>{\n        if (!cur_selection) {\n          this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n          this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n        } else {\n          this.confidence.forEach((c)=>{\n            confidenceClassifierDict[c].forEach((d)=>{\n              let selection_attributes = {\n                  barCells : this.svg,\n                  x : xAxis(c) + x(d['classifier']) + (idx+1) * barWidth / 4 ,\n                  y : this.height * 0.4  - selectionHeight(d['classifier'], d['confidence'], cur_selection.instances),\n                  width : barWidth / 4,\n                  height : selectionHeight(d['classifier'], d['confidence'], cur_selection.instances),\n                  r  : barWidth / 8,\n                  color : idx == 0? this.selection1Color : this.selection2Color,\n                  circle_visibility : selectionHeight(d['classifier'], d['confidence'], cur_selection.instances) > 0 && selectionHeight(d['classifier'], d['confidence'], cur_selection.instances) < this.height * 0.01?  \"visible\" :\"hidden\",\n                  cx : xAxis(c) + x(d['classifier']) + barWidth / 2  + (idx - 1/2) * barWidth / 4,\n                  cy :  this.height * 0.4  - barWidth / 8,\n                  selection_type: idx,\n                  focused: hasFocusItem(d['classifier'], d['confidence'], cur_selection.instances),\n                  view_name : this.name\n                }\n                this.$store.dispatch('drawSelections',selection_attributes)\n            })\n          })\n        }\n      })\n\n    },\n    select(\n      classifier: string,\n      whichOverlap: 'first' | 'second',\n      interval:string,\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n\n      let tmp_instances = []\n      let instances_types = ['ci_tp_instances', 'ci_tn_instances', 'ci_fp_instances', 'ci_fn_instances']\n      instances_types.forEach((type) =>{\n        let interval_instances = [...this.predictions[classifier][type][interval].instances]\n        interval_instances.forEach((i)=>{\n          tmp_instances.push(i)\n        })\n      })\n      const instances = new Set(tmp_instances)\n\n      const description = `Instances which ${classifier} in interval ${interval}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReliabilityCurve.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReliabilityCurve.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ReliabilityCurve.vue?vue&type=template&id=55929ecc&scoped=true&\"\nimport script from \"./ReliabilityCurve.vue?vue&type=script&lang=ts&\"\nexport * from \"./ReliabilityCurve.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ReliabilityCurve.vue?vue&type=style&index=0&id=55929ecc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55929ecc\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"(Trinary) Instance Distribuion\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Selection Mode\"},model:{value:(_vm.selection_mode),callback:function ($$v) {_vm.selection_mode=$$v},expression:\"selection_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall confidence \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"selection confidence\",\"value\":\"selected\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Distribution Mode\"},model:{value:(_vm.distribution_mode),callback:function ($$v) {_vm.distribution_mode=$$v},expression:\"distribution_mode\"}},[_c('v-radio',{attrs:{\"label\":\"by score \",\"value\":\"score\"}}),_c('v-radio',{attrs:{\"label\":\"by correctness\",\"value\":\"correctness\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Performance Type\"},model:{value:(_vm.weightedPerformance),callback:function ($$v) {_vm.weightedPerformance=$$v},expression:\"weightedPerformance\"}},[_c('v-radio',{attrs:{\"label\":\"normal\",\"value\":\"normal\"}}),_c('v-radio',{attrs:{\"label\":\"weighted\",\"value\":\"weighted\"}})],1)],1)])],1)],1),_c('v-switch',{staticClass:\"ml-8\",attrs:{\"label\":\"normalize\"},model:{value:(_vm.normalization_switch),callback:function ($$v) {_vm.normalization_switch=$$v},expression:\"normalization_switch\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { range } from 'd3';\n\nexport default Vue.extend({\n  name: 'Trinary_Instance_Distribuion',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n    };\n    const hoverNormalization = {\n      type: '' as 'right' | 'wrong' | '',\n      selection: '',\n      classifier: '',\n    };\n    const selection_mode = ' overall' as 'overall' | 'selected' \n    const distribution_mode = 'score' as 'score' | 'correcness' | 'correctness2'\n    const weightedPerformance = 'normal' as 'normal' | 'weighted'\n\n    return {\n      svg: '',\n      weightedPerformance,\n      selection_mode:'overall',\n      distribution_mode: 'score',\n      thresholdRange: {},\n      normalization:'No',\n      height,\n      hover,\n      hoverNormalization,\n      margin,\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      selection1Right: '#81AED7',\n      selection1Wrong: '#D7AA81',\n      selection1mid: '#C1BFC3',\n      selection2Right: '#B981D7',\n      selection2Wrong: '#D78E81',\n      selection2mid: '#C1BFC3',\n      classNumber:[...this.boxProps.classes].length,\n    };\n  },\n  computed: {\n    continuous_metrics() {\n      return this.$store.state.continuous_metrics\n    },\n    weighted_metrics() {\n      return this.$store.state.weighted_metrics;\n    },\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      return this.$store.state.addedThresholdClassifiers.map((c)=>c.name);\n    },\n    addedBandWidthClassifiers() {\n      if (this.$store.state.addedBandWidthClassifiers.length == 0) {\n        const value = Object.keys(this.$store.state.classifierThresholdDict).map((c)=> {\n          let threshold = (this.$store.state.classifierThresholdDict[c] / 100)\n          return {'name': c + '(' + ((threshold-0.05) < 0 ? 0 : threshold-0.05).toFixed(2) + ',' + ((threshold+0.05 > 1 ? 1: threshold+0.05)).toFixed(2) + ')' }\n        });\n        return value\n      }\n      return this.$store.state.addedBandWidthClassifiers;\n    },\n    normalization_switch: {\n      set() {\n        if (this.normalization == \"Yes\") {\n          this.normalization = \"No\"\n        } else {\n          this.normalization = \"Yes\"\n        }\n      },\n      get() {\n        return this.normalization === \"Yes\";\n      }\n    },\n    classifierBandWidthDict(): string[] {\n      return this.boxProps.classifierBandWidthDict;\n    },\n    bandWidthChangedClassifierName(): string {\n      return this.$store.state.bandWidthChangedClassifierName\n    },\n    classes(): string[] {\n      this.classNumber = [...this.boxProps.classes].length\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];  \n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    thresholdClassifierNameList():string[] {\n      return this.$store.state.thresholdClassifierNameList\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    predictionKeys(): string[] {\n\n      var scope = this.evaluationKeys\n      \n      const accuracyAscending = (c1: string, c2: string) => {\n        return this.predictions[c1].right_size - this.predictions[c2].right_size;\n      };\n      const accuracyDescending = (c1: string, c2: string) => {\n        return -accuracyAscending(c1, c2);\n      };\n\n      const predictionKeys = this.classifiers.slice();\n     \n      return predictionKeys;\n    },\n    continuousPredictionKeys():string[]{\n      return this.addedBandWidthClassifiers.map((c)=>{\n        return c.name\n      })\n    },\n    evaluationKeys() : String {\n      return \"accuracy\";\n    },\n    classifierThresholdDict():{} {\n      return this.$store.state.classifierThresholdDict\n    }, \n    continuousClassifierName():{} {\n      var continuousClassifierName = {}\n      this.classifiers.forEach((c)=>{\n        if (this.$store.state.datasetType == \"continuous\") {\n          continuousClassifierName[c] = c + \"_\" + this.classifierThresholdDict[c]/100\n        } else {\n          continuousClassifierName[c] = c;\n        }\n      })\n      return continuousClassifierName;\n    },\n    predictions(): {\n      [classifier: string]: {\n        name: String,\n        threshold: number,\n        right: Set<string>,\n        right_wrong: Set<string>,\n        right_right: Set<string>,\n        wrong: Set<string>,\n        wrong_wrong: Set<string>,\n        wrong_right: Set<string>,\n        middle_wrong: Set<string>,\n        middle_right: Set<string>,\n        middle_tp: Set<string>,\n        middle_tn: Set<string>,\n        middle_fp: Set<string>,\n        middle_fn: Set<string>,\n        accuracy:number,\n        total_size:number,\n        right_size:number,\n        wrong_size:number,\n        middle_right_size:number,\n        middle_wrong_size:number,\n      },\n    } {\n      const predictions: {\n        [classifier: string]: {\n          name: String,\n          threshold: number,\n          right: Set<string>,\n          right_wrong: Set<string>,\n          right_right: Set<string>,\n          wrong: Set<string>,\n          wrong_wrong: Set<string>,\n          wrong_right: Set<string>,\n          middle_wrong: Set<string>,\n          middle_right: Set<string>,\n          middle_tp: Set<string>,\n          middle_tn: Set<string>,\n          middle_fp: Set<string>,\n          middle_fn: Set<string>,\n          accuracy:number,\n          total_size:number,\n          right_size:number,\n          wrong_size:number,\n          middle_right_size:number,\n          middle_wrong_size:number,\n        },\n      } = {};\n\n      this.addedBandWidthClassifiers.forEach((c)=>{\n        let classifier = c.name.split('(')[0]\n        predictions[c.name] = {\n          name: c.name,\n          threshold: Object.keys( this.classifierThresholdDict).includes(classifier)? this.classifierThresholdDict[classifier] : 0,\n          right: new Set(),\n          right_wrong: new Set(),\n          right_right: new Set(),\n          wrong: new Set(),\n          wrong_wrong: new Set(), \n          wrong_right: new Set(),\n          middle_wrong: new Set(),\n          middle_right: new Set(),\n          middle_tp: new Set(),\n          middle_tn: new Set(),\n          middle_fp: new Set(),\n          middle_fn: new Set(),\n          accuracy:0,\n          total_size:0,\n          right_size:0,\n          wrong_size:0,\n          middle_right_size:0,\n          middle_wrong_size:0,\n        };\n      })\n\n      const continuous_metrics = this.weightedPerformance == 'normal' ? this.$store.state.continuous_metrics : this.$store.state.weighted_metrics;\n      \n            \n      const value_dict = {\n        'middle_fn' : 'm_fn_instances',\n        'middle_fp' : 'm_fp_instances',\n        'middle_tp' : 'm_tp_instances',\n        'middle_tn' : 'm_tn_instances',\n        'right_right': 'tp_instances',\n        'wrong_wrong': 'tn_instances',\n        'wrong_right': 'fp_instances',\n        'right_wrong': 'fn_instances',\n        'm_fp':'m_fp',\n        'm_tp':'m_tp',\n        'm_fn':'m_fn',\n        'm_tn':'m_tn',\n        'tp':'tp',\n        'tn':'tn',\n        'fp':'fp',\n        'fn':'fn',\n      }\n      this.addedBandWidthClassifiers.forEach((c)=>{\n        let classifier = c.name.split('(')[0]\n        let left_edge = parseFloat(c.name.substring(c.name.length-10, c.name.length-6)).toFixed(2)\n        let right_edge = parseFloat(c.name.substring(c.name.length-5, c.name.length-1)).toFixed(2)\n        let cur_threshold  = (parseFloat(right_edge) + parseFloat(left_edge)) / 2\n        if (left_edge == continuous_metrics[classifier]['cur_left_edge'].toFixed(2) && right_edge == continuous_metrics[classifier]['cur_right_edge'].toFixed(2)) {\n          predictions[c.name].threshold = cur_threshold;\n          for (let key in value_dict) {\n            predictions[c.name][key] = continuous_metrics[classifier][value_dict[key]]\n          }\n          predictions[c.name]['right_size'] = continuous_metrics[classifier]['tp'] + continuous_metrics[classifier]['fn']\n          predictions[c.name]['wrong_size'] = continuous_metrics[classifier]['fp'] + continuous_metrics[classifier]['tn']\n          predictions[c.name]['middle_right_size'] = continuous_metrics[classifier]['m_tp'] + continuous_metrics[classifier]['m_fp']\n          predictions[c.name]['middle_wrong_size'] = continuous_metrics[classifier]['m_tn'] + continuous_metrics[classifier]['m_fn']\n          \n        } else {\n          this.instances.forEach((id)=>{\n            const i = instanceById(id);\n            const actual = i.actual == this.classes[1] ? 1 : 0;\n            const predict_prob = i.continuous_predictions[classifier];\n            if (predict_prob < right_edge && predict_prob > left_edge) {\n              if (actual == 0) {\n                if (predict_prob < predictions[c.name].threshold) {\n                  predictions[c.name].middle_tn.add(id)\n                } else {\n                  predictions[c.name].middle_fp.add(id)\n                }\n              } else {\n                if (predict_prob >= predictions[c.name].threshold) {\n                  predictions[c.name].middle_tp.add(id)\n                } else {\n                  predictions[c.name].middle_fn.add(id)\n                }\n              }\n            } else{\n              if (actual == 0) {\n                if (predict_prob < left_edge) {\n                  predictions[c.name].wrong_wrong.add(id)\n                } else {\n                  predictions[c.name].wrong_right.add(id)\n                }\n              } else {\n                if (predict_prob >= right_edge) {\n                  predictions[c.name].right_right.add(id)\n                } else {\n                  predictions[c.name].right_wrong.add(id)\n                }\n              }\n            }\n          })\n          if (this.weightedPerformance == 'normal') {\n            predictions[c.name]['m_fp'] = predictions[c.name]['middle_fp'].size\n            predictions[c.name]['m_tp'] = predictions[c.name]['middle_tp'].size\n            predictions[c.name]['m_fn'] = predictions[c.name]['middle_fn'].size\n            predictions[c.name]['m_tn'] = predictions[c.name]['middle_tn'].size\n            predictions[c.name]['fp'] = predictions[c.name]['wrong_right'].size\n            predictions[c.name]['tp'] = predictions[c.name]['right_right'].size\n            predictions[c.name]['fn'] = predictions[c.name]['right_wrong'].size\n            predictions[c.name]['tn'] = predictions[c.name]['wrong_wrong'].size\n          } else {\n            let instanceWeights = {};\n            let selectionHistory  = this.$store.state.selectionHistory;\n            let changed_instances_set   = [\n              ['right_right', 'tp'],\n              ['wrong_wrong', 'tn'],\n              ['right_wrong', 'fn'],\n              ['wrong_right', 'fp'],\n              ['middle_tp', 'm_tp'],\n              ['middle_tn', 'm_tn'],\n              ['middle_fp', 'm_fn'],\n              ['middle_fn', 'm_fp'],\n            ]  \n            \n            this.instances.forEach((c)=>{\n              instanceWeights[c] = 1\n            })\n\n            selectionHistory.forEach((s)=>{\n              let tmp_instances = [...s.instances]\n              let weight = parseFloat((s.weight).toString())\n              tmp_instances.forEach((i)=>{\n                instanceWeights[i] += weight\n              })\n            })\n            changed_instances_set.forEach((cur_set)=>{\n              let cur_instances = [...predictions[c.name][cur_set[0]]]\n              let cur_value = cur_set[1]\n              let count = 0\n              cur_instances.forEach((i)=>{\n                count += instanceWeights[i]\n              })\n              predictions[c.name][cur_value] = count\n            })\n          }\n          predictions[c.name]['right_size'] = predictions[c.name]['tp'] + predictions[c.name]['fn']\n          predictions[c.name]['wrong_size'] = predictions[c.name]['fp'] + predictions[c.name]['tn']\n          predictions[c.name]['middle_right_size'] = predictions[c.name]['m_tp'] + predictions[c.name]['m_fp']\n          predictions[c.name]['middle_wrong_size'] = predictions[c.name]['m_tn'] + predictions[c.name]['m_fn']\n\n        }\n        predictions[c.name]['middle_right'] = new Set([...predictions[c.name]['middle_tp'], ...predictions[c.name]['middle_fp']]);\n        predictions[c.name]['middle_wrong'] = new Set([...predictions[c.name]['middle_tn'], ...predictions[c.name]['middle_fn']]);\n        predictions[c.name]['right'] = new Set([...predictions[c.name]['right_wrong'], ...predictions[c.name]['right_right']]);\n        predictions[c.name]['wrong'] = new Set([...predictions[c.name]['wrong_wrong'], ...predictions[c.name]['wrong_right']]);\n        predictions[c.name]['total_size'] =  predictions[c.name]['right_size'] +  predictions[c.name]['wrong_size']\n                                    + predictions[c.name]['middle_right_size'] + predictions[c.name]['middle_wrong_size']\n      })\n\n      this.addedBandWidthClassifiers.forEach((c)=>{\n        predictions[c.name].accuracy =  predictions[c.name].right_size / (predictions[c.name].right_size + predictions[c.name].wrong_size)\n      })\n\n\n      return predictions;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusDotEmphasis(): String{return  this.$store.state.focusDotEmphasis},\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.continuousPredictionKeys)\n        .range([0, this.width*0.8])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 160])\n          .range([10, 160])\n          .clamp(true);\n      return xScale;      \n    },\n    yScale(): d3.ScaleBand<string> {\n      const yScale = d3.scaleBand<string>()\n            .range([(this.height+this.margin.bottom), 0])\n            .padding(0.1).domain(this.predictionKeys);\n      return yScale;\n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Trinary_Instance_Distribuion') {\n          if (view.config) {\n            let value  = view.config;\n            this.selection_mode = value.selection\n            this.distribution_mode = value.distribution\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Trinary_Instance_Distribuion\", \n                    \"config\": {\n                      \"selection\":this.selection_mode,\n                      \"distribution\":this.distribution_mode}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    weightedPerformance() {\n      this.drawInitial();\n    },\n    addedBandWidthClassifiers() {\n      this.drawInitial();\n    },\n    selection_mode() {\n      if (this.weightedPerformance == 'weighted' && this.selection_mode == 'selected') {\n        this.weightedPerformance = 'normal'\n      }\n      this.drawInitial();\n    },\n    weighted_metrics() {\n      if (this.weightedPerformance == 'weighted') {\n        this.drawInitial();\n      }\n    },\n    distribution_mode() {\n      this.drawInitial();\n    },\n    hoverNormalization() {\n      this.drawHoverNormalization();\n    },\n    normalization() {\n      if (this.normalization == 'Yes') {\n        this.drawNormalization();\n      } else {\n        this.drawInitial();\n      }\n    },\n    accuracySorting() {\n      this.drawInitial();\n    },\n    evaluationSelection() {\n      this.drawInitial();\n    },\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      if (this.normalization == 'Yes') {\n        this.drawNormalization();\n      } else {\n        this.drawInitial();\n      }\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Trinary_Instance_Distribuion') {\n        if (view.config) {\n          let value  = view.config;\n          this.selection_mode = value.selection\n          this.distribution_mode = value.distribution\n        }\n      }\n    })\n    this.drawInitial();\n  },\n  methods: {  \n    clearHover() {\n      this.hover = ({type: '', slection:'', classifier: ''});\n    },\n    clearHoverNormalization() {\n      this.hoverNormalization = ({type: '', classifier: ''});\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const rightBars = chart.selectAll('.bar-right-right');\n      const wrongBars = chart.selectAll('.bar-wrong-wrong');\n      const rightwrongBars = chart.selectAll('.bar-right-wrong');\n      const wrongrightBars = chart.selectAll('.bar-wrong-right');\n      const middleYesBars = chart.selectAll('.bar-middle-yes');\n      const yAxisMarkerRect = chart.select('.y-axis-marker-rect');\n      const yAxisMarkerLine1 = chart.select('.y-axis-marker-line-1');\n      const yAxisMarkerLine2 = chart.select('.y-axis-marker-line-2');\n      const yAxisMarkerLine3 = chart.select('.y-axis-marker-line-3');\n      const yAxisMarkerLine4 = chart.select('.y-axis-marker-line-4');\n      const yAxisMarkerText1 = chart.select('.y-axis-marker-text-1');\n      const yAxisMarkerText2 = chart.select('.y-axis-marker-text-2');\n      const yAxisMarkerText3 = chart.select('.y-axis-marker-text-3');\n      const yAxisMarkerText4 = chart.select('.y-axis-marker-text-4');\n      const yAxisMarkerText5 = chart.select('.y-axis-marker-text-5');\n      const yAxisMarkerText1s1 = chart.select('.y-axis-marker-text-1-s1');\n      const yAxisMarkerText2s1 = chart.select('.y-axis-marker-text-2-s1');\n      const yAxisMarkerText3s1 = chart.select('.y-axis-marker-text-3-s1');\n      const yAxisMarkerText4s1 = chart.select('.y-axis-marker-text-4-s1');\n      const yAxisMarkerText5s1 = chart.select('.y-axis-marker-text-5-s1');\n      const yAxisMarkerText1s2 = chart.select('.y-axis-marker-text-1-s2');\n      const yAxisMarkerText2s2 = chart.select('.y-axis-marker-text-2-s2');\n      const yAxisMarkerText3s2 = chart.select('.y-axis-marker-text-3-s2');\n      const yAxisMarkerText4s2 = chart.select('.y-axis-marker-text-4-s2');\n      const yAxisMarkerText5s2 = chart.select('.y-axis-marker-text-5-s2');\n      const { first, second } = this.selections;\n      const predictions = this.predictions;\n\n      const hoverText = (classifierName:string, typeString: string, selection: Set<string>) => {\n        let instances = predictions[classifierName][typeString]\n        if (typeString == 'middle') {\n          instances = new Set([...predictions[classifierName]['middle_wrong'],...predictions[classifierName]['middle_right']] )\n        }\n        var totalInstances = 0 \n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size / totalInstances * 100;\n        return fractionOfTotalInstances.toFixed(1);\n      };\n\n      if (this.hover.type === 'right_right' && this.hover.selection == '') {\n        rightBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          rightBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hover.type === 'wrong_wrong' && this.hover.selection == '') {\n        wrongBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          wrongBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hover.type === 'wrong_right' && this.hover.selection == '') {\n        wrongrightBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          wrongrightBars.attr('fill', this.wrongColor);\n      }\n\n      if (this.hover.type === 'right_wrong' && this.hover.selection == '') {\n         rightwrongBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n        if (this.selection_mode == 'overall')\n          rightwrongBars.attr('fill', this.wrongColor);\n      }\n\n      if (this.hover.type === 'middle-yes' && this.hover.selection == '') {\n        middleYesBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? \"grey\"\n              : \"lightgrey\");\n      } else {\n        if (this.selection_mode == 'overall')\n          middleYesBars.attr('fill',\"lightgrey\");\n      }\n\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      if (this.hover.type) {\n          yAxisMarkerRect\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n          yAxisMarkerLine1\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  \n              this.y(predictions[this.hover.classifier].fp / predictions[this.hover.classifier].total_size))\n            .attr('x2', this.width)\n            .attr('y2', this.y(predictions[this.hover.classifier].fp / predictions[this.hover.classifier].total_size));\n          yAxisMarkerLine2\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', this.distribution_mode != 'correctness'? \n              this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].tn) / predictions[this.hover.classifier].total_size)\n              :this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].fn) / predictions[this.hover.classifier].total_size))\n            .attr('x2', this.width)\n            .attr('y2', this.distribution_mode != 'correctness'? \n              this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].tn) / predictions[this.hover.classifier].total_size)\n              :this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].fn) / predictions[this.hover.classifier].total_size))\n          yAxisMarkerLine3\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.distribution_mode != 'correctness'? \n              this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].tn+predictions[this.hover.classifier].middle_wrong_size+predictions[this.hover.classifier].middle_right_size) / predictions[this.hover.classifier].total_size)\n              :this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].fn+predictions[this.hover.classifier].middle_wrong_size+predictions[this.hover.classifier].middle_right_size) / predictions[this.hover.classifier].total_size))\n            .attr('x2', this.width)\n            .attr('y2',  this.distribution_mode != 'correctness'? \n              this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].tn+predictions[this.hover.classifier].middle_wrong_size+predictions[this.hover.classifier].middle_right_size) / predictions[this.hover.classifier].total_size)\n              :this.y((predictions[this.hover.classifier].fp+predictions[this.hover.classifier].fn+predictions[this.hover.classifier].middle_wrong_size+predictions[this.hover.classifier].middle_right_size) / predictions[this.hover.classifier].total_size))\n          yAxisMarkerLine4\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', this.height - this.y((predictions[this.hover.classifier].tp) / predictions[this.hover.classifier].total_size))\n            .attr('x2', this.width)\n            .attr('y2', this.height - this.y((predictions[this.hover.classifier].tp) / predictions[this.hover.classifier].total_size));  \n\n          yAxisMarkerText1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"tp: \"+`${(predictions[this.hover.classifier].tp / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`);\n          yAxisMarkerText2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(this.distribution_mode != 'correctness'? \n                \"fn: \"+`${(predictions[this.hover.classifier].fn / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`\n                :\"tn: \"+`${(predictions[this.hover.classifier].tn / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`);\n          yAxisMarkerText3\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text( \"?: \"+`${((predictions[this.hover.classifier].middle_right_size+predictions[this.hover.classifier].middle_wrong_size) / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`);\n          yAxisMarkerText4\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(this.distribution_mode != 'correctness'? \n              \"tn: \"+`${(predictions[this.hover.classifier].tn / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`\n              :\"fn: \"+`${(predictions[this.hover.classifier].fn / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`);\n          yAxisMarkerText5\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"fp: \"+`${(predictions[this.hover.classifier].fp / predictions[this.hover.classifier].total_size * 100).toFixed(1)}%`);\n\n          if (first) {\n            yAxisMarkerText1s1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"1st: \"+hoverText(this.hover.classifier, 'right_right', first.instances));\n          yAxisMarkerText2s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(this.distribution_mode != 'correctness'? \n                \"1st: \"+hoverText(this.hover.classifier, 'right_wrong', first.instances)\n                :\"1st: \"+hoverText(this.hover.classifier, 'wrong_wrong', first.instances));\n          yAxisMarkerText3s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"1st: \"+hoverText(this.hover.classifier, 'middle', first.instances));\n          yAxisMarkerText4s1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(this.distribution_mode != 'correctness'? \n              \"1st: \"+hoverText(this.hover.classifier, 'wrong_wrong', first.instances)\n              :\"1st: \"+hoverText(this.hover.classifier, 'right_wrong', first.instances));\n          yAxisMarkerText5s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"1st: \"+hoverText(this.hover.classifier, 'wrong_right', first.instances));\n          } \n          if (second) {\n            yAxisMarkerText1s2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"2nd: \"+hoverText(this.hover.classifier, 'right_right', second.instances));\n          yAxisMarkerText2s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(this.distribution_mode != 'correctness'? \n                \"2nd: \"+hoverText(this.hover.classifier, 'right_wrong', second.instances)\n                :\"2nd: \"+hoverText(this.hover.classifier, 'wrong_wrong', second.instances));\n          yAxisMarkerText3s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"2nd: \"+hoverText(this.hover.classifier, 'middle', second.instances));\n          yAxisMarkerText4s2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(this.distribution_mode != 'correctness'? \n              \"2nd: \"+hoverText(this.hover.classifier, 'wrong_wrong', second.instances)\n              :\"2nd: \"+hoverText(this.hover.classifier, 'right_wrong', second.instances));\n          yAxisMarkerText5s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"2nd: \"+hoverText(this.hover.classifier, 'wrong_right', second.instances));\n\n          }\n\n      } else { \n        yAxisMarkerRect\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 0);\n        yAxisMarkerLine1\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerLine2\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0); \n        yAxisMarkerLine3\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerLine4\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0); \n        yAxisMarkerText1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);    \n        yAxisMarkerText1s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);   \n        yAxisMarkerText1s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n      }\n    },\n    drawHoverNormalization() {\n      const chart = d3.select(this.$refs.svg);\n      const rightBars = chart.selectAll('.bar-right-right-norm');\n      const wrongBars = chart.selectAll('.bar-wrong-wrong-norm');\n      const rightwrongBars = chart.selectAll('.bar-right-wrong-norm');\n      const wrongrightBars = chart.selectAll('.bar-wrong-right-norm');\n      const middleYesBars = chart.selectAll('.bar-middle-yes-norm');\n      const yAxisMarkerRect = chart.select('.y-axis-marker-rect-norm');\n      const yAxisMarkerLine1 = chart.select('.y-axis-marker-line-1-norm');\n      const yAxisMarkerLine2 = chart.select('.y-axis-marker-line-2-norm');\n      const yAxisMarkerLine3 = chart.select('.y-axis-marker-line-3-norm');\n      const yAxisMarkerLine4 = chart.select('.y-axis-marker-line-4-norm');\n      const yAxisMarkerText1 = chart.select('.y-axis-marker-text-1-norm');\n      const yAxisMarkerText2 = chart.select('.y-axis-marker-text-2-norm');\n      const yAxisMarkerText3 = chart.select('.y-axis-marker-text-3-norm');\n      const yAxisMarkerText4 = chart.select('.y-axis-marker-text-4-norm');\n      const yAxisMarkerText5 = chart.select('.y-axis-marker-text-5-norm');\n      const yAxisMarkerText1s1 = chart.select('.y-axis-marker-text-1-s1-norm');\n      const yAxisMarkerText2s1 = chart.select('.y-axis-marker-text-2-s1-norm');\n      const yAxisMarkerText3s1 = chart.select('.y-axis-marker-text-3-s1-norm');\n      const yAxisMarkerText4s1 = chart.select('.y-axis-marker-text-4-s1-norm');\n      const yAxisMarkerText5s1 = chart.select('.y-axis-marker-text-5-s1-norm');\n      const yAxisMarkerText1s2 = chart.select('.y-axis-marker-text-1-s2-norm');\n      const yAxisMarkerText2s2 = chart.select('.y-axis-marker-text-2-s2-norm');\n      const yAxisMarkerText3s2 = chart.select('.y-axis-marker-text-3-s2-norm');\n      const yAxisMarkerText4s2 = chart.select('.y-axis-marker-text-4-s2-norm');\n      const yAxisMarkerText5s2 = chart.select('.y-axis-marker-text-5-s2-norm');\n      const { first, second } = this.selections;\n      const predictions = this.predictions \n\n      const hoverText = (classifierName:string, typeString: string, selection: Set<string>) => {\n        let instances = predictions[classifierName][typeString]\n        if (typeString == 'middle') {\n          instances = new Set([...predictions[classifierName]['middle_wrong'],...predictions[classifierName]['middle_right']] )\n        }\n        var totalInstances = 0 \n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = instances.size == 0? 0: overlappingInstances.size / instances.size * 100;\n        return fractionOfTotalInstances.toFixed(1);\n      };\n\n      if (this.hoverNormalization.type === 'right_right') {\n        rightBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hoverNormalization.classifier\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        rightBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hoverNormalization.type === 'wrong_wrong') {\n        wrongBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hoverNormalization.classifier\n              ? this.rightHoverColor\n              : this.rightColor);\n      } else {\n        wrongBars.attr('fill', this.rightColor);\n      }\n\n      if (this.hoverNormalization.type === 'wrong_right') {\n        wrongrightBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hoverNormalization.classifier\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n        wrongrightBars.attr('fill', this.wrongColor);\n      }\n\n      if (this.hoverNormalization.type === 'right_wrong') {\n         rightwrongBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hoverNormalization.classifier\n              ? this.wrongHoverColor\n              : this.wrongColor);\n      } else {\n         rightwrongBars.attr('fill', this.wrongColor);\n      }\n\n      if (this.hoverNormalization.type === 'middle-yes') {\n        middleYesBars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hoverNormalization.classifier\n              ? \"grey\"\n              : \"lightgrey\");\n      } else {\n        middleYesBars.attr('fill',\"lightgrey\");\n      }\n\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      if (this.hoverNormalization.type) {\n          yAxisMarkerRect\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n          yAxisMarkerLine1\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y(0.2))\n            .attr('x2', this.width)\n            .attr('y2', this.y(0.2));\n          yAxisMarkerLine2\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', this.y(0.4))\n            .attr('x2', this.width)\n            .attr('y2', this.y(0.4));\n          \n          yAxisMarkerLine3\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y(0.6))\n            .attr('x2', this.width)\n            .attr('y2',  this.y(0.6));\n          yAxisMarkerLine4\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y(0.8))\n            .attr('x2', this.width)\n            .attr('y2',  this.y(0.8));\n\n          yAxisMarkerText1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text('tp-norm')\n          yAxisMarkerText2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(this.distribution_mode != 'correctness' ? 'fn-norm' : 'tn-norm')\n             \n          yAxisMarkerText3\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text('uncertain-norm')\n          yAxisMarkerText4\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(this.distribution_mode != 'correctness' ? 'tn-norm' : 'fn-norm')\n          yAxisMarkerText5\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text('fp-norm')\n\n          if (first) {\n            yAxisMarkerText1s1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"1st: \"+hoverText(this.hoverNormalization.classifier, 'right_right', first.instances));\n          yAxisMarkerText2s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"1st: \"+hoverText(this.hoverNormalization.classifier, 'right_wrong', first.instances));\n          yAxisMarkerText3s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"1st: \"+hoverText(this.hoverNormalization.classifier, 'middle', first.instances));\n          yAxisMarkerText4s1\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"1st: \"+hoverText(this.hoverNormalization.classifier, 'wrong_wrong', first.instances));\n          yAxisMarkerText5s1\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"1st: \"+hoverText(this.hoverNormalization.classifier, 'wrong_right', first.instances));\n          } \n          if (second) {\n            yAxisMarkerText1s2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"2nd: \"+hoverText(this.hoverNormalization.classifier, 'right_right', second.instances));\n          yAxisMarkerText2s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"2nd: \"+hoverText(this.hoverNormalization.classifier, 'right_wrong', second.instances));\n          yAxisMarkerText3s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"2nd: \"+hoverText(this.hoverNormalization.classifier, 'middle', second.instances));\n          yAxisMarkerText4s2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(\"2nd: \"+hoverText(this.hoverNormalization.classifier, 'wrong_wrong', second.instances));\n          yAxisMarkerText5s2\n              .transition()\n              .duration(moveDuration)\n              .attr('fill-opacity', 1)\n              .text(\"2nd: \"+hoverText(this.hoverNormalization.classifier, 'wrong_right', second.instances));\n\n          }\n\n      } else { \n        yAxisMarkerRect\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 0);\n        yAxisMarkerLine1\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerLine2\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0); \n        yAxisMarkerLine3\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerLine4\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0); \n        yAxisMarkerText1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);    \n        yAxisMarkerText1s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5s1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);   \n        yAxisMarkerText1s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText2s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText3s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);       \n        yAxisMarkerText4s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerText5s2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n      }\n    },\n    drawNormalization() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      const x = this.x;\n      const y = this.y;\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom)*1.2}`)\n      const svg = svgAll.append('g')\n          .attr('transform', `translate(${this.margin.left*1.2}, ${this.margin.top*1.5})`);\n\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        \n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Fraction of instances');\n        svg.append('text')\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( 'Instance Distribution');  \n      };\n      drawTitles();\n\n      const drawLegend = () => {\n        const width = this.width / 6;\n        const height = this.margin.top / 2;\n\n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.margin.left + this.width * 0.8},\n              ${height / 3})`);\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.rightColor)\n          .style(\"visibility\", \"visible\");\n\n          \n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill',this.wrongColor )\n          .style(\"visibility\", \"visible\");\n\n        legend.append('rect')\n          .attr('y', height)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill',\"lightgrey\" )\n          .style(\"visibility\", \"visible\");  \n\n        legend.append('rect')\n        .attr('y', height*1.5)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.rightColor)\n          .style(\"visibility\", \"visible\");\n\n          \n        legend.append('rect')\n          .attr('y', height *2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.wrongColor)\n          .style(\"visibility\", \"visible\");\n\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"tp\")\n          .style(\"visibility\",  \"visible\");\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"fn\")\n          .style(\"visibility\", \"visible\");\n          \n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 5 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"uncertain\")\n          .style(\"visibility\", \"visible\");  \n         legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 7 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"tn\")\n          .style(\"visibility\", \"visible\");\n          \n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 9 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"fp\")\n          .style(\"visibility\", \"visible\");  \n      };\n      drawLegend();\n\n      const drawBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', function (d: string){ \n              return `translate(${x(d)}, ${0})`});\n\n        this.svg = svg;\n\n        const barWidth = x.bandwidth();\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-right-norm')\n            .attr('y', (d: string) => y(1))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height / 5 )\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hoverNormalization = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHoverNormalization)\n            .on('click', (d: string) => this.select(d, 'right_right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_right', 'second'));\n\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-wrong-norm')\n            .attr('y', (d: string) => this.height / 5 )\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height / 5)\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hoverNormalization = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHoverNormalization)\n            .on('click', (d: string) => this.select(d, 'right_wrong', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_wrong', 'second'))\n            ;\n\n\n        barCells.append('rect')\n            .attr('class', 'bar-middle-yes-norm')\n            .attr('y', (d: string) => this.height / 5 * 2 )\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height / 5)\n            .attr('fill', \"lightgrey\")\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hoverNormalization = ({type: 'middle-yes', classifier: d}))\n            .on('mouseleave', this.clearHoverNormalization)\n            .on('click', (d: string) => this.select(d, 'middle-yes', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'middle-yes', 'second')); \n\n \n        barCells.append('rect')\n          .attr('class', 'bar-wrong-wrong-norm')\n          .attr('y', (d: string) =>this.height / 5 * 3)\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height / 5)\n          .attr('fill', this.rightColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hoverNormalization = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHoverNormalization) \n          .on('click', (d: string) => this.select(d, 'wrong_wrong', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_wrong', 'second'));\n\n\n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-right-norm')\n          .attr('y', (d: string) =>this.height / 5 * 4)\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height / 5)\n          .attr('fill', this.wrongColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hoverNormalization = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHoverNormalization) \n          .on('click', (d: string) => this.select(d, 'wrong_right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_right', 'second'));\n\n\n        \n      };\n\n      \n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-1-norm')\n          .attr('x2', this.width)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-2-norm')\n          .attr('x2', this.width)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');  \n\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-3-norm')\n          .attr('x2', this.width)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none'); \n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-4-norm')\n          .attr('x2', this.width)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none'); \n\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append('rect')\n          .attr('class', 'y-axis-marker-rect-norm')\n          .attr('width', '260')\n          .attr('height', '150')\n          .attr(\"x\",this.width-this.margin.right-250)\n          .attr('fill', \"white\")\n          .attr('stroke',\"lightgrey\")\n          .attr('stroke-width',\"2px\")\n          .attr('pointer-events', 'none')\n          .transition()\n          .duration(1000)\n          .attr('fill-opacity', 0);  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 0)') \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 40)') \n          .attr('font-size', 20)\n          .attr('fill', this.distribution_mode != 'correctness'? \n            this.wrongHoverColor\n            :this.rightHoverColor)\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 70)') \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 100)') \n          .attr('font-size', 20)\n          .attr('fill', this.distribution_mode != 'correctness'? \n            this.rightHoverColor\n            :this.wrongHoverColor)\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 130)') \n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'none');  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1-s1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-160)+ ', 0)') \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2-s1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 40)') \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3-s1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 70)') \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4-s1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 100)') \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5-s1-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-160)+ ', 130)') \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1-s2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 0)') \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2-s2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 40)') \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3-s2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 70)') \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4-s2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 100)') \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5-s2-norm')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 130)') \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');  \n      };\n\n      drawBars();\n      yAxisMarkerLine();\n      yAxisMarkerText();\n\n      this.drawDistSelections();\n      this.drawHoverNormalization();\n\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom)*1.2}`)\n      const svg = svgAll.append('g')\n          .attr('transform', `translate(${this.margin.left*1.2}, ${this.margin.top*1.5})`);\n\n      const x = this.x;\n      const y = this.y;\n      const continuousClassifierName = this.continuousClassifierName;\n\n      \n      // judge thresholdRange\n      if (Object.keys(this.thresholdRange).length == 0) {\n        const thresholdRange: {\n          [classifier: string]: {\n            name: String,\n            threshold: Number,\n            left_range: Number,\n            right_range: Number,\n          }\n        } = {}\n        this.classifiers.forEach((c) => {\n          let cur_acc = 0\n          thresholdRange[continuousClassifierName[c]] = {\n            name:c,\n            threshold: Object.keys( this.classifierThresholdDict).includes(c)? this.classifierThresholdDict[c] : 0,\n            left_range:  !(Object.keys( this.classifierThresholdDict).includes(c))? 0:  (Object.keys(this.classifierBandWidthDict).length == 0) ? this.classifierThresholdDict[c] / 100 - 0.05 : this.classifierBandWidthDict[c].left_range,\n            right_range: !(Object.keys( this.classifierThresholdDict).includes(c))? 0:  (Object.keys(this.classifierBandWidthDict).length == 0) ? this.classifierThresholdDict[c] / 100 + 0.05 : this.classifierBandWidthDict[c].right_range\n          }\n        })\n        this.thresholdRange = thresholdRange\n      }\n\n      for (let c in this.thresholdRange){\n        let splitL = c.split(\"_\")\n        let classifier =c.substring(0,c.length-splitL[splitL.length-1].length-1)\n        let threshold = parseFloat(splitL[splitL.length-1])\n        let left_range = this.thresholdRange[c].left_range\n        let right_range = this.thresholdRange[c].right_range\n        if (threshold == this.classifierThresholdDict[classifier]/100){\n          continue\n        }\n        let left_diff = threshold - left_range\n        let right_diff = right_range - threshold\n        delete this.thresholdRange[c]\n        this.thresholdRange[continuousClassifierName[classifier]] = {\n          name:classifier,\n          threshold: this.classifierThresholdDict[classifier],\n          left_range:  this.classifierThresholdDict[classifier]/100 - left_diff,\n          right_range: this.classifierThresholdDict[classifier] / 100 + right_diff,\n        }\n      }\n      const predictions = this.predictions \n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n       \n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Fraction of instances');\n        svg.append('text')\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( 'Instance Distribution');  \n      };\n      drawTitles();\n\n      const drawLegend = () => {\n        const width = this.width / 6;\n        const height = this.margin.top / 2;\n      \n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.margin.left + this.width * 0.8},\n              ${height / 3})`);\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.rightColor)\n          .style(\"visibility\", \"visible\");\n\n          \n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.distribution_mode == 'score'? this.wrongColor : this.rightColor )\n          .style(\"visibility\", \"visible\");\n\n        if (this.distribution_mode != 'correctness2') {\n          legend.append('rect')\n          .attr('y', height)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill',\"lightgrey\" )\n          .style(\"visibility\", \"visible\");  \n        }\n        \n\n        legend.append('rect')\n        .attr('y', this.distribution_mode != 'correctness2'? height*1.5 : height)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.distribution_mode != 'score'? this.wrongColor : this.rightColor )\n          .style(\"visibility\", \"visible\");\n\n          \n        legend.append('rect')\n          .attr('y', this.distribution_mode != 'correctness2'? height*2 : height*1.5)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.wrongColor)\n          .style(\"visibility\", \"visible\");\n\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"tp\")\n          .style(\"visibility\",  \"visible\");\n\n        if (this.distribution_mode != 'correctness2') {\n            legend.append('text')\n            .attr('transform',  `translate(${width / 2}, ${height * 5 / 4})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"uncertain\")\n            .style(\"visibility\", \"visible\");  \n        }\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(this.distribution_mode != 'score'? \"tn\":\"fn\")\n          .style(\"visibility\", \"visible\");\n        \n       \n         legend.append('text')\n          .attr('transform', this.distribution_mode != 'correctness2'? `translate(${width / 2}, ${height * 7 / 4})`\n                                                                      : `translate(${width / 2}, ${height * 5 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( this.distribution_mode != 'score'?\"fn\":\"tn\")\n          .style(\"visibility\", \"visible\");\n          \n        legend.append('text')\n          .attr('transform', this.distribution_mode != 'correctness2'? `translate(${width / 2}, ${height * 9 / 4})`\n                                                                      : `translate(${width / 2}, ${height * 7 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"fp\")\n          .style(\"visibility\", \"visible\");  \n\n        \n\n      };\n\n      const drawSelectedLegend = () => {\n        const width = this.width / 6;\n        const height = this.margin.top / 2;\n        const selectionSets = [1,2]\n        const legend = d3.select(this.$refs.svg)\n            .select('svg')\n            .append('g')\n              .attr('class', 'legend')\n              .attr('transform', `translate(\n                ${this.margin.left + this.width * 0.8 },\n                ${height / 3})`);\n        // @ts-ignore\n        selectionSets.forEach((selection_type)=>{\n          const legend = d3.select(this.$refs.svg)\n            .select('svg')\n            .append('g')\n              .attr('class', 'legend')\n              .attr('transform', `translate(\n                ${this.margin.left + this.width * 0.8 + (selection_type) * width * 0.28},\n                ${height / 3})`);\n\n          legend.append('text')\n            .attr('transform', `translate(${width / 8}, ${-10})`)\n            .attr('font-size', '20px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text( \"s\"+selection_type)\n            .style(\"visibility\",  \"visible\");\n\n          legend.append('rect')\n            .attr('width', width / 4)\n            .attr('height', height / 2)\n            .attr('fill', selection_type == 1? this.selection1Right : this.selection2Right)\n            .style(\"visibility\", \"visible\");\n\n            \n          legend.append('rect')\n            .attr('y', height / 2)\n            .attr('width', width / 4)\n            .attr('height', height / 2)\n            .attr('fill',selection_type == 1? this.selection1Wrong : this.selection2Wrong )\n            .style(\"visibility\", \"visible\");\n\n          legend.append('rect')\n            .attr('y', height)\n            .attr('width', width / 4)\n            .attr('height', height / 2)\n            .attr('fill',selection_type == 1? this.selection1mid : this.selection2mid)\n            .style(\"visibility\", \"visible\");  \n\n          legend.append('rect')\n          .attr('y', height*1.5)\n            .attr('width', width / 4)\n            .attr('height', height / 2)\n            .attr('fill', selection_type == 1? this.selection1Right : this.selection2Right)\n            .style(\"visibility\", \"visible\");\n\n            \n          legend.append('rect')\n            .attr('y', height *2)\n            .attr('width', width / 4)\n            .attr('height', height / 2)\n            .attr('fill', selection_type == 1? this.selection1Wrong : this.selection2Wrong)\n            .style(\"visibility\", \"visible\");\n        })\n        legend.append('text')\n          .attr('transform', `translate(${0}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"tp\")\n          .style(\"visibility\",  \"visible\");\n\n        legend.append('text')\n          .attr('transform', `translate(${0}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"fp\")\n          .style(\"visibility\", \"visible\");\n          \n        legend.append('text')\n          .attr('transform', `translate(${0}, ${height * 5 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"uncertain\")\n          .style(\"visibility\", \"visible\");  \n        legend.append('text')\n          .attr('transform', `translate(${0}, ${height * 7 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"tn\")\n          .style(\"visibility\", \"visible\");\n          \n        legend.append('text')\n          .attr('transform', `translate(${0}, ${height * 9 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"fn\")\n          .style(\"visibility\", \"visible\");  \n        \n      };\n      if (this.selection_mode == 'overall') {\n        drawLegend();\n      } else {\n        drawSelectedLegend();\n      } \n      \n\n      const drawBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', function (d: string){ \n              return `translate(${x(d)}, ${0})`});\n\n        this.svg = svg;\n\n        const barWidth = x.bandwidth();\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-right')\n            .attr('y', (d: string) => y(1))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y(predictions[d].tp / predictions[d].total_size))\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_right', 'second'));\n        \n        barCells.append('rect')\n            .attr('class', 'bar-right-wrong')\n            .attr('y', (d: string) => this.height - y((predictions[d].tp) / predictions[d].total_size))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y(predictions[d].fn / predictions[d].total_size))\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_wrong', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_wrong', 'second'));\n        \n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-wrong')\n          .attr('y', (d: string) =>this.height - y((predictions[d].right_size + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height - y(predictions[d].tn / predictions[d].total_size))\n          .attr('fill', this.rightColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_wrong', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_wrong', 'second'));\n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-right')\n          .attr('y', (d: string) =>y(predictions[d].fp / predictions[d].total_size))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height - y(predictions[d].fp / predictions[d].total_size))\n          .attr('fill', this.wrongColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_right', 'second'));\n        \n\n        barCells.append('rect')\n            .attr('class', 'bar-middle-yes')\n            .attr('y', (d: string) => this.height - y((predictions[d].right_size) / predictions[d].total_size))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size))\n            .attr('fill', \"lightgrey\")\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'middle-yes', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'middle-yes', 'second')); \n        \n        barCells.append('circle')\n            .attr('class', 'bar-right-right-circle')\n            .attr('cx', barWidth/2 - barWidth/4)\n            .attr('cy', (d: string) => y(1)+barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_right', 'second'))\n            .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].tp / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].tp / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n        \n        barCells.append('circle')\n            .attr('class', 'bar-right-wrong-circle')\n            .attr('cx',barWidth/2 )\n            .attr('cy', (d: string) => this.height - y((predictions[d].tp) / predictions[d].total_size)+barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_wrong', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_wrong', 'second'))\n            .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].fn / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].fn / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n        \n\n        barCells.append('circle')\n          .attr('class', 'bar-wrong-wrong-circle')\n          .attr('cx',barWidth/2- barWidth/4)\n            .attr('cy', (d: string) => this.height - y((predictions[d].right_size + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)+barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_wrong', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_wrong', 'second'))\n          .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].tn / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].tn / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n\n        barCells.append('circle')\n          .attr('class', 'bar-wrong-right-circle')\n          .attr('cx',barWidth/2)\n            .attr('cy', (d: string) => y(0)-barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_right', 'second'))\n          .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].fp / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].fp / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n       \n\n        barCells.append('circle')\n            .attr('class', 'bar-middle-yes-circle')\n            .attr('cx',barWidth/2 + barWidth/4)\n            .attr('cy', ((d: string) => this.height - y((predictions[d].right_size+predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)-barWidth/8))\n            .attr('r',barWidth/8)\n            .attr('fill', \"lightgrey\")\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n            .attr(\"visibility\",(d: string) => (this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)) > 0\n                                          && (this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'middle-yes', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'middle-yes', 'second')); \n      };\n\n      const drawDistributeBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', function (d: string){ \n              return `translate(${x(d)}, ${0})`});\n\n        this.svg = svg;\n        const barWidth = x.bandwidth();\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-right')\n            .attr('y', (d: string) => y(1))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.distribution_mode == 'correctness'? this.height - y(predictions[d].tp / predictions[d].total_size)\n                                                                                  : this.height - y((predictions[d].tp + predictions[d].m_tp) / predictions[d].total_size))\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_right', 'second'));\n        \n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-wrong')\n          .attr('y', (d: string) => this.distribution_mode == 'correctness'?  this.height - y((predictions[d].tp) / predictions[d].total_size)\n                                                                              :this.height - y((predictions[d].tp + predictions[d].m_tp) / predictions[d].total_size))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.distribution_mode == 'correctness'?  this.height - y(predictions[d].tn / predictions[d].total_size)\n                                                                                  :this.height - y((predictions[d].tn + predictions[d].m_tn) / predictions[d].total_size))\n          .attr('fill', this.rightColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_wrong', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_wrong', 'second'));\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-wrong')\n            .attr('y', (d: string) =>this.distribution_mode == 'correctness'?  this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                                                                             : this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].m_tp+predictions[d].m_tn) / predictions[d].total_size))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) =>this.distribution_mode == 'correctness'?  this.height - y(predictions[d].fn / predictions[d].total_size)\n                                                                                  :  this.height - y((predictions[d].fn + predictions[d].m_fp) / predictions[d].total_size))\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_wrong', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_wrong', 'second'));\n        \n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-right')\n          .attr('y', (d: string) =>this.distribution_mode == 'correctness'?  y(predictions[d].fp / predictions[d].total_size)\n                                                                            :y((predictions[d].fp + predictions[d].m_fn) / predictions[d].total_size))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.distribution_mode == 'correctness'? this.height - y(predictions[d].fp / predictions[d].total_size)\n                                                                                : this.height - y((predictions[d].fp + predictions[d].m_fn) / predictions[d].total_size))\n          .attr('fill', this.wrongColor)\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_right', 'second'));\n        \n        if (this.distribution_mode == 'correctness') {\n          barCells.append('rect')\n            .attr('class', 'bar-middle-yes')\n            .attr('y', (d: string) => this.height - y((predictions[d].tp + predictions[d].tn) / predictions[d].total_size))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size))\n            .attr('fill', \"lightgrey\")\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'middle-yes', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'middle-yes', 'second')); \n        }\n        \n        \n        barCells.append('circle')\n            .attr('class', 'bar-right-right-circle')\n            .attr('cx',barWidth/2 - barWidth/4)\n            .attr('cy', (d: string) => y(1)+barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_right', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_right', 'second'))\n            .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].tp / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].tp / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n        \n        barCells.append('circle')\n            .attr('class', 'bar-right-wrong-circle')\n            .attr('cx',barWidth/2 - barWidth / 4)\n            .attr('cy', (d: string) =>this.distribution_mode == 'correctness'?  this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                                                                             : this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].m_tp+predictions[d].m_tn) / predictions[d].total_size))\n            .attr('r',barWidth/8)\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'right_wrong', 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'right_wrong', 'second'))\n            .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].fn / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].fn / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n        \n\n        barCells.append('circle')\n          .attr('class', 'bar-wrong-wrong-circle')\n          .attr('cx',barWidth/2)\n          .attr('cy', (d: string) => this.distribution_mode == 'correctness'?  this.height - y((predictions[d].tp) / predictions[d].total_size)\n                                                                              :this.height - y((predictions[d].tp + predictions[d].m_tp) / predictions[d].total_size))\n\n            .attr('r',barWidth/8)\n            .attr('fill', this.rightColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_wrong', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_wrong', 'second'))\n          .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].tn / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].tn / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n\n        barCells.append('circle')\n          .attr('class', 'bar-wrong-right-circle')\n          .attr('cx',barWidth/2)\n            .attr('cy', (d: string) => y(0)-barWidth/8)\n            .attr('r',barWidth/8)\n            .attr('fill', this.wrongColor)\n            .attr('stroke', 'grey')\n            .style('paint-order', 'stroke')\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n          .on('click', (d: string) => this.select(d, 'wrong_right', 'first'))\n          .on('contextmenu', (d: string) => this.select(d, 'wrong_right', 'second'))\n          .attr(\"visibility\",(d: string) => (this.height - y(predictions[d].fp / predictions[d].total_size)) > 0\n                                          && (this.height - y(predictions[d].fp / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n            ;\n       \n        if (this.distribution_mode == 'correctness') {\n            barCells.append('circle')\n              .attr('class', 'bar-middle-yes-circle')\n              .attr('cx',barWidth/2 + barWidth/4)\n              .attr('cy', (d: string) => this.height - y((predictions[d].tp + predictions[d].tn) / predictions[d].total_size))\n              .attr('r',barWidth/8)\n              .attr('fill', \"lightgrey\")\n              .attr('stroke', 'grey')\n              .style('paint-order', 'stroke')\n              .attr(\"visibility\",(d: string) => (this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)) > 0\n                                            && (this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)) < barWidth/4?\"visible\":\"hidden\")\n\n              .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', classifier: d}))\n              .on('mouseleave', this.clearHover)\n              .on('click', (d: string) => this.select(d, 'middle-yes', 'first'))\n              .on('contextmenu', (d: string) => this.select(d, 'middle-yes', 'second'));\n        }\n         \n      };\n\n      const drawSelectedBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', function (d: string){ \n              return `translate(${x(d)}, ${0})`});\n\n        const barWidth = x.bandwidth();\n        const {first, second} = this.selections\n        const classifiers = this.continuousPredictionKeys\n        let selectedDistribution = []\n        if (first){\n          selectedDistribution.push(get_selected_distribution('1'))\n        }\n        if (second) {\n          selectedDistribution.push(get_selected_distribution('2'))\n        }\n\n        barCells.append('rect')\n            .attr('class', 'bar-right-right')\n            .attr('y', (d: string) => y(1))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y(predictions[d].tp / this.instances.length))\n            .attr('fill', this.rightColor)\n            .attr(\"opacity\",0.5)\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_right', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            \n\n        \n        barCells.append('rect')\n            .attr('class', 'bar-right-wrong')\n            .attr('y', (d: string) => this.height - y((predictions[d].tp) / this.instances.length))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y(predictions[d].fn / this.instances.length))\n            .attr('fill', this.wrongColor)\n            .attr(\"opacity\",0.5)\n            .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', classifier: d}))\n            .on('mouseleave', this.clearHover)\n        \n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-wrong')\n          .attr('y', (d: string) =>this.height - y((predictions[d].right_size + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / this.instances.length))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height - y(predictions[d].tn / this.instances.length))\n          .attr('fill', this.rightColor)\n            .attr(\"opacity\",0.5)\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong', classifier: d}))\n          .on('mouseleave', this.clearHover) \n\n        barCells.append('rect')\n          .attr('class', 'bar-wrong-right')\n          .attr('y', (d: string) =>y(predictions[d].fp / this.instances.length))\n          .attr('width', barWidth)\n          .attr('height', (d: string) => this.height - y(predictions[d].fp / this.instances.length))\n          .attr('fill', this.wrongColor)\n            .attr(\"opacity\",0.5)\n          .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', classifier: d}))\n          .on('mouseleave', this.clearHover) \n\n        \n\n        barCells.append('rect')\n            .attr('class', 'bar-middle-yes')\n            .attr('y', (d: string) => this.height - y((predictions[d].right_size) / this.instances.length))\n            .attr('width', function(d){\n              return barWidth\n              })\n            .attr('height', (d: string) => this.height - y((predictions[d].middle_right_size+predictions[d].middle_wrong_size) / this.instances.length))\n            .attr('fill', \"lightgrey\")\n            .style('paint-order', 'stroke')\n            .style(\"opacity\",0.5)\n            .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', classifier: d}))\n            .on('mouseleave', this.clearHover)\n            \n\n        selectedDistribution.forEach((distribution)=>{\n            barCells.append('rect')\n              .attr('class', 'bar-right-right')\n              .attr('x', (d: string) => distribution[d].selected_type == '1'?barWidth / 4 : barWidth / 2)\n              .attr('y', (d: string) => y((distribution[d].wrong.size + distribution[d].middle_right.size+distribution[d].middle_wrong.size + distribution[d].right_wrong.size + distribution[d].right_right.size) / this.instances.length))\n              .attr('width', function(d){\n                return barWidth / 4\n                })\n              .attr('height', (d: string) => this.height - y(distribution[d].right_right.size / this.instances.length))\n              .attr('fill', (d: string) => distribution[d].selected_type == '1'? this.selection1Right:this.selection2Right)\n              .attr('stroke', 'black')\n              .style('paint-order', 'stroke')\n              .on('mouseenter', (d: string) => this.hover = ({type: 'right_right',selection: distribution[d].selected_type, classifier: d}))\n              .on('mouseleave', this.clearHover)\n          \n          barCells.append('rect')\n              .attr('class', 'bar-right-wrong')\n              .attr('x', (d: string) => distribution[d].selected_type == '1'?barWidth / 4 : barWidth / 2)\n              .attr('y', (d: string) => y((distribution[d].wrong.size + distribution[d].middle_right.size+distribution[d].middle_wrong.size + distribution[d].right_wrong.size) / this.instances.length))\n              .attr('width', function(d){\n                return barWidth / 4\n                })\n              .attr('height', (d: string) => this.height - y(distribution[d].right_wrong.size / this.instances.length))\n              .attr('fill', (d: string) => distribution[d].selected_type == '1'? this.selection1Wrong:this.selection2Wrong)\n              .attr('stroke', 'black')\n              .style('paint-order', 'stroke')\n              .on('mouseenter', (d: string) => this.hover = ({type: 'right_wrong', selection: distribution[d].selected_type,classifier: d}))\n              .on('mouseleave', this.clearHover)\n          \n\n          barCells.append('rect')\n            .attr('class', 'bar-wrong-wrong')\n            .attr('x', (d: string) => distribution[d].selected_type == '1'?barWidth / 4 : barWidth / 2)\n            .attr('y', (d: string) => y((distribution[d].wrong_right.size + distribution[d].wrong_wrong.size) / this.instances.length))\n            .attr('width', barWidth / 4)\n            .attr('height', (d: string) => this.height - y(distribution[d].wrong_wrong.size / this.instances.length))\n            .attr('fill', (d: string) => distribution[d].selected_type == '1'? this.selection1Right:this.selection2Right)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_wrong',selection: distribution[d].selected_type,classifier: d}))\n            .on('mouseleave', this.clearHover) \n\n\n          barCells.append('rect')\n            .attr('class', 'bar-wrong-right')\n            .attr('x', (d: string) => distribution[d].selected_type == '1'?barWidth / 4 : barWidth / 2)\n            .attr('y', (d: string) =>y(distribution[d].wrong_right.size / this.instances.length))\n            .attr('width', barWidth / 4)\n            .attr('height', (d: string) => this.height - y(distribution[d].wrong_right.size / this.instances.length))\n            .attr('fill', (d: string) => distribution[d].selected_type == '1'? this.selection1Wrong:this.selection2Wrong)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'wrong_right', selection: distribution[d].selected_type,classifier: d}))\n            .on('mouseleave', this.clearHover) \n          \n\n          barCells.append('rect')\n              .attr('class', 'bar-middle-yes')\n              .attr('x', (d: string) => distribution[d].selected_type == '1'?barWidth / 4 : barWidth / 2)\n              .attr('y', (d: string) => y((distribution[d].wrong.size + distribution[d].middle_right.size+distribution[d].middle_wrong.size) / this.instances.length))\n              .attr('width', function(d){\n                return barWidth / 4\n                })\n              .attr('height', (d: string) => this.height - y((distribution[d].middle_right.size+distribution[d].middle_wrong.size) / this.instances.length))\n              .attr('fill', (d: string) => distribution[d].selected_type == '1'? this.selection1mid:this.selection2mid)\n              .attr('stroke', 'black')\n              .style('paint-order', 'stroke')\n              .on('mouseenter', (d: string) => this.hover = ({type: 'middle-yes', selection: distribution[d].selected_type,classifier: d}))\n              .on('mouseleave', this.clearHover)\n          \n          \n        })\n\n        function get_selected_distribution(selected_type) {\n          const selection = selected_type == '1'? first.instances : second.instances\n          let selectedDis = {}\n          classifiers.forEach((c)=>{\n            let right_right = intersection(selection, predictions[c].right_right)\n            let right_wrong = intersection(selection, predictions[c].right_wrong)\n            let wrong_wrong = intersection(selection, predictions[c].wrong_wrong)\n            let wrong_right = intersection(selection, predictions[c].wrong_right)\n            let middle_right = intersection(selection, predictions[c].middle_right)\n            let middle_wrong = intersection(selection, predictions[c].middle_wrong)\n            let right = intersection(selection, predictions[c].right)\n            let wrong = intersection(selection, predictions[c].wrong)\n            selectedDis[c]  ={\n              'right_right':right_right,\n              'right_wrong':right_wrong,\n              'wrong_wrong':wrong_wrong,\n              'wrong_right':wrong_right,\n              'middle_right':middle_right,\n              'middle_wrong':middle_wrong,\n              'right':right,\n              'wrong':wrong,\n              'selected_type':selected_type\n            }\n          })\n          return selectedDis\n        }\n\n      };\n      \n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-1')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none');\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-2')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none');  \n\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-3')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none'); \n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-4')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none'); \n\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append('rect')\n          .attr('class', 'y-axis-marker-rect')\n          .attr('width', '260')\n          .attr('height', '150')\n          .attr(\"x\",this.width-this.margin.right-250)\n          .attr('fill', \"white\")\n          .attr('stroke',\"lightgrey\")\n          .attr('stroke-width',\"2px\")\n          .attr('pointer-events', 'none')\n          .transition()\n          .duration(1000)\n          .attr('fill-opacity', 0);  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 0)') \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 40)') \n          .attr('font-size', 20)\n          .attr('fill', this.distribution_mode == 'score'? this.wrongHoverColor : this.rightHoverColor )\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 70)') \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 100)') \n          .attr('font-size', 20)\n          .attr('fill', this.distribution_mode == 'score'? this.rightHoverColor : this.wrongHoverColor )\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 250)+ ', 130)') \n          .attr('font-size', 20)\n          .attr('fill', this.wrongHoverColor)\n          .attr('pointer-events', 'none');  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1-s1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-160)+ ', 0)') \n           \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2-s1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 40)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3-s1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 70)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4-s1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right- 160)+ ', 100)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5-s1')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-160)+ ', 130)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"steelblue\")\n          .attr('pointer-events', 'none');  \n\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-1-s2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 0)') \n           \n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-2-s2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 40)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-3-s2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 70)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"grey\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-4-s2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 100)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');  \n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-5-s2')\n          .attr('transform', 'translate(' +(this.width-this.margin.right-70)+ ', 130)') \n           \n          .attr('font-size', 20)\n          .attr('fill', \"red\")\n          .attr('pointer-events', 'none');  \n      };\n\n      if (this.selection_mode == 'overall') {\n        if (this.distribution_mode == 'score') {\n          drawBars();\n          this.drawSelections();\n        } else {\n          drawDistributeBars();\n          this.drawSelections();\n        }\n      } else{\n        drawSelectedBars();\n      }\n      \n      yAxisMarkerLine();\n      yAxisMarkerText();\n\n      this.drawHover();\n\n    },\n    drawDistSelections() {\n      const chart = d3.select(this.$refs.svg);\n      const formatDecimal = d3.format(\".1f\")\n      const selectionWidth = this.x.bandwidth() / 8\n\n      const { first, second } = this.selections;\n\n      const predictions = this.predictions \n\n      const rightYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        var totalInstances = 0 \n        totalInstances = predictions[classifierName].total_size\n\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = instances.size == 0? 0 :  overlappingInstances.size / instances.size;\n        return this.y(fractionOfTotalInstances) ;\n      };\n      const rightHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        return (this.height - rightYOffset(classifierName, typeString,selection))  /5;\n      };\n\n      const wrongYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        var totalInstances = 0 \n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = instances.size == 0? 0 :  overlappingInstances.size / instances.size;\n        return this.y(fractionOfTotalInstances) ;\n      };\n      const wrongHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        var totalInstances = 0\n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = instances.size == 0? 0 :  overlappingInstances.size / instances.size;\n        return (this.height - this.y(fractionOfTotalInstances)) /5;\n      };\n\n      const middleYesYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = new Set([...predictions[classifierName].middle_right])\n        const instancesNo = new Set([ ...predictions[classifierName].middle_wrong]) \n        var totalInstances = 0 \n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const overlappingInstancesNo = intersection(instancesNo, selection);\n        const fractionOfTotalInstances = (instances.size + instancesNo.size) == 0? 0 :  (overlappingInstances.size+overlappingInstancesNo.size+predictions[classifierName].wrong_size ) / (instances.size + instancesNo.size);\n        return this.y(fractionOfTotalInstances) ;\n      };\n      const middleYesHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = new Set([...predictions[classifierName].middle_right])\n        const instancesNo = new Set([ ...predictions[classifierName].middle_wrong]) \n        var totalInstances = 0\n        totalInstances = predictions[classifierName].total_size\n        const overlappingInstances = intersection(instances, selection);\n        const overlappingInstancesNo = intersection(instancesNo, selection);\n        const fractionOfTotalInstances = (instances.size + instancesNo.size) == 0? 0 :(overlappingInstances.size + overlappingInstancesNo.size) / (instances.size + instancesNo.size);\n        return (this.height - this.y(fractionOfTotalInstances)) /5;\n      };\n\n      const x = this.x;\n      const y = this.y;\n      const barWidth = x.bandwidth();\n      const selectionBarWidth = x.bandwidth() / 8;\n      const selectionType =  ['right_right', 'right_wrong', 'wrong_wrong', 'wrong_right', 'middle']\n      const selections = [first, second];\n\n      selections.forEach((cur_selection, idx)=>{\n        if (!cur_selection) {\n          this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n          this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n        } else {\n          this.continuousPredictionKeys.forEach((d)=>{\n            selectionType.forEach((type, i)=>{\n              let selection_attributes = {\n                  barCells : this.svg,\n                  x : x(d) + barWidth / 2 + (idx-1) * selectionBarWidth ,\n                  y : type == 'right_right' ? y(1)\n                    : type == 'right_wrong' ? this.height / 5\n                    : type == 'wrong_wrong' ? this.height / 5 * 3 \n                    : type == 'wrong_right' ?this.height / 5 * 4\n                    : this.height / 5 * 2,\n                  width : selectionBarWidth,\n                  height : type == 'right_right' || type == 'right_wrong' ? rightHeight(d, type, cur_selection.instances) \n                      : type == 'wrong_wrong' || type == 'wrong_right' ? wrongHeight(d, type, cur_selection.instances)\n                      : middleYesHeight(d,type, cur_selection.instances),\n                  r  : selectionBarWidth / 2,\n                  color : idx == 0? this.selection1Color : this.selection2Color,\n                  circle_visibility : ((type == 'right_right' || type == 'right_wrong') && rightHeight(d, type, cur_selection.instances) > 0 && rightHeight(d,type, cur_selection.instances) < selectionWidth)\n                                    || ((type == 'wrong_wrong' || type == 'wrong_right') && wrongHeight(d,type, cur_selection.instances) > 0 && wrongHeight(d,type, cur_selection.instances) < selectionWidth)\n                                    || (middleYesHeight(d,type, cur_selection.instances) > 0 && middleYesHeight(d,type, cur_selection.instances) < selectionWidth) ? \"visible\":\"hidden\",\n                  cx : x(d) + barWidth / 2  + (idx - 1/2) * selectionBarWidth,\n                  cy : type == 'right_right' ? y(1)\n                    : type == 'right_wrong' ? this.height / 5\n                    : type == 'wrong_wrong' ? this.height / 5 * 3 \n                    : type == 'wrong_right' ?this.height / 5 * 4\n                    : this.height / 5 * 2,                  \n                  selection_type: idx,\n                  view_name : this.name\n                }\n                this.$store.dispatch('drawSelections',selection_attributes)\n            })\n          })\n        }\n      })\n\n\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      \n      const formatDecimal = d3.format(\".1f\")\n      const selectionWidth = this.x.bandwidth() / 8\n\n      const { first, second } = this.selections;\n\n      const predictions = this.predictions \n\n      let instanceWeights = {};\n      let allInstances = [...this.$store.getters.filteredInstances];\n      let selectionHistory = this.$store.state.selectionHistory\n      allInstances.forEach((c)=>{\n        instanceWeights[c] = 1\n      })\n      \n      if (this.weightedPerformance == 'weighted') {\n        selectionHistory.forEach((s)=>{\n          let tmp_instances = [...s.instances]\n\n          let weight = parseFloat((s.weight).toString())\n          tmp_instances.forEach((i)=>{\n            instanceWeights[i] += weight\n          })\n        })\n      }\n      \n      const weightedInstanceSize = (instances: any[]) => {\n        let size = 0\n        instances.forEach((i)=>{\n          size += instanceWeights[i]\n        })\n        return size\n      }\n\n\n      const rightYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        const totalInstances =  new Set(this.instances) \n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = weightedInstanceSize([...overlappingInstances]) / weightedInstanceSize([...totalInstances]); \n        return this.y(fractionOfTotalInstances);\n      };\n      const rightHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        return this.height - rightYOffset(classifierName, typeString,selection);\n      };\n\n      const wrongYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        const totalInstances = new Set(this.instances) \n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = weightedInstanceSize([...overlappingInstances]) / weightedInstanceSize([...totalInstances]); \n        return this.y(fractionOfTotalInstances);\n      };\n      const wrongHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        const totalInstances = new Set(this.instances) \n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = weightedInstanceSize([...overlappingInstances]) / weightedInstanceSize([...totalInstances]); \n        return this.height - this.y(fractionOfTotalInstances);\n      };\n\n      const middleYesYOffset = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = new Set([...predictions[classifierName].middle_right])\n        const instancesNo = new Set([ ...predictions[classifierName].middle_wrong]) \n        const totalInstances = new Set(this.instances) \n        const overlappingInstances = intersection(instances, selection);\n        const overlappingInstancesNo = intersection(instancesNo, selection);\n        const fractionOfTotalInstances = (weightedInstanceSize([...overlappingInstances]) + weightedInstanceSize([...overlappingInstancesNo]) + predictions[classifierName].wrong_size)\n                                          / (weightedInstanceSize([...totalInstances]))\n        return this.y(fractionOfTotalInstances);\n      };\n      const middleYesHeight = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = new Set([...predictions[classifierName].middle_right])\n        const instancesNo = new Set([ ...predictions[classifierName].middle_wrong]) \n        const totalInstances = new Set(this.instances) \n        const overlappingInstances = intersection(instances, selection);\n        const overlappingInstancesNo = intersection(instancesNo, selection);\n        const fractionOfTotalInstances = (weightedInstanceSize([...overlappingInstances]) + weightedInstanceSize([...overlappingInstancesNo])) \n                                          / (weightedInstanceSize([...totalInstances]))\n        return this.height - this.y(fractionOfTotalInstances);\n      };\n      const hasFocusItem = (classifierName:string, typeString: string, selection: Set<string>) => {\n        const instances = predictions[classifierName][typeString]\n        const overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n\n\n      const x = this.x;\n      const y = this.y;\n      const barWidth = x.bandwidth();\n      const selectionBarWidth = x.bandwidth() / 8;\n      const selectionType = ['right_right', 'right_wrong', 'wrong_wrong', 'wrong_right', 'middle']\n      const selections = [first, second];\n\n      selections.forEach((cur_selection, idx)=>{\n        if (!cur_selection) {\n          this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n          this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n        } else {\n          this.continuousPredictionKeys.forEach((d)=>{\n            selectionType.forEach((type, i)=>{\n              let vis = 'hidden'\n              if (type != 'middle') {\n                if ((type == 'right_right' || type == 'right_wrong')) {\n                  if (rightHeight(d, type, cur_selection.instances) > 0 && rightHeight(d,type, cur_selection.instances) < selectionWidth) {\n                    vis = 'visible'\n                  }\n                } else if ((type == 'wrong_wrong' || type == 'wrong_right')) {\n                  if (wrongHeight(d,type, cur_selection.instances) > 0 && wrongHeight(d,type, cur_selection.instances) < selectionWidth) {\n                    vis = 'visible'\n                  }\n                } \n              } else {\n                if (middleYesHeight(d,type, cur_selection.instances) > 0 && middleYesHeight(d,type, cur_selection.instances) < selectionWidth) {\n                  vis = 'visible'\n                }\n                \n              }\n              \n              let selection_attributes = {\n                  barCells : this.svg,\n                  x : x(d) + barWidth / 2 + (idx-1) * selectionBarWidth ,\n                  y : type == 'right_right' ? y(1)\n                    : type == 'right_wrong' && this.distribution_mode == 'score' ? this.height - y((predictions[d].tp) / predictions[d].total_size)\n                    : type == 'right_wrong' && this.distribution_mode != 'score' ? this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                    : type == 'wrong_wrong' && this.distribution_mode == 'score' ? this.height - y((predictions[d].right_size + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                    : type == 'wrong_wrong' && this.distribution_mode != 'score' ? this.height - y((predictions[d].tp) / predictions[d].total_size)\n                    : type == 'wrong_right' ? y(predictions[d].fp / predictions[d].total_size)\n                    : type == 'middle' && this.distribution_mode == 'score' ? this.height - y((predictions[d].right_size) / predictions[d].total_size)\n                    : this.height - y((predictions[d].tp + predictions[d].tn) / predictions[d].total_size),\n                  width : selectionBarWidth,\n                  height : type == 'right_right' || type == 'right_wrong' ? rightHeight(d, type, cur_selection.instances) \n                      : type == 'wrong_wrong' || type == 'wrong_right' ? wrongHeight(d, type, cur_selection.instances)\n                      : middleYesHeight(d,type, cur_selection.instances),\n                  r  : selectionBarWidth / 2,\n                  color : idx == 0? this.selection1Color : this.selection2Color,\n                  circle_visibility: vis,\n                  cx : x(d) + barWidth / 2  + (idx - 1/2) * selectionBarWidth,\n                  cy : type == 'right_right' ? y(1)\n                    : type == 'right_wrong' && this.distribution_mode == 'score' ? this.height - y((predictions[d].tp) / predictions[d].total_size)\n                    : type == 'right_wrong' && this.distribution_mode != 'score' ? this.height - y((predictions[d].tp + predictions[d].tn + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                    : type == 'wrong_wrong' && this.distribution_mode == 'score' ? this.height - y((predictions[d].right_size + predictions[d].middle_right_size+predictions[d].middle_wrong_size) / predictions[d].total_size)\n                    : type == 'wrong_wrong' && this.distribution_mode != 'score' ? this.height - y((predictions[d].tp) / predictions[d].total_size)\n                    : type == 'wrong_right' ? y(predictions[d].fp / predictions[d].total_size)\n                    : type == 'middle' && this.distribution_mode == 'score' ? this.height - y((predictions[d].right_size) / predictions[d].total_size)\n                    : this.height - y((predictions[d].tp + predictions[d].tn) / predictions[d].total_size),\n                  selection_type: idx,\n                  view_name : this.name\n                }\n                this.$store.dispatch('drawSelections',selection_attributes)\n            })\n          })\n        }\n      })\n\n    },\n    select(\n      classifier: string,\n      type: 'right' | 'wrong' | 'middle-yes' |'middle-no' | 'middle-curve',\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n      constraint.negation = (type === 'wrong');\n\n      let predictions = this.predictions \n      let instances = predictions[classifier][type]\n      if (type == \"middle-yes\"){\n        instances = new Set([...predictions[classifier].middle_right].concat([...predictions[classifier].middle_wrong]))\n      }\n      \n      const type_dict = {\n        'right_right':'tp',\n        'right_wrong':'fn',\n        'wrong_wrong':'tn',\n        'wrong_right':'fp'\n      }\n      const description = `Instances which ${classifier} got ${type_dict[type]}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinaryInstanceDistribuion.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinaryInstanceDistribuion.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TrinaryInstanceDistribuion.vue?vue&type=template&id=72316b6c&scoped=true&\"\nimport script from \"./TrinaryInstanceDistribuion.vue?vue&type=script&lang=ts&\"\nexport * from \"./TrinaryInstanceDistribuion.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TrinaryInstanceDistribuion.vue?vue&type=style&index=0&id=72316b6c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72316b6c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"(Trinary) Bandwidth Assessment\")])],1)]),_c('v-expansion-panel-content',[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationSelection),callback:function ($$v) {_vm.evaluationSelection=$$v},expression:\"evaluationSelection\"}},[_c('v-radio',{attrs:{\"label\":\"accuracy\",\"value\":\"accuracy\"}}),_c('v-radio',{attrs:{\"id\":\"mcc\",\"label\":\"mcc\",\"value\":\"mcc\"}}),_c('v-radio',{attrs:{\"label\":\"f1\",\"value\":\"f1\"}}),_c('v-radio',{attrs:{\"label\":\"precision\",\"value\":\"precision\"}}),_c('v-radio',{attrs:{\"label\":\"recall\",\"value\":\"recall\"}})],1)],1)],1)],1),_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar values = ref.values;\nvar isOpen = ref.isOpen;\nreturn [(values.length && !isOpen)?_c('span',{staticClass:\"multiselect__single\"},[_vm._v(\" \"+_vm._s(values.length)+\" options selected \")]):_vm._e()]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n  union,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { range } from 'd3';\n\nexport default Vue.extend({\n  name: 'Trinary_Bandwidth_Assessment',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n      selectedClassifier: '',\n    };\n    const click = {\n      classifier: '',\n      threshold: ''\n    };  \n    const evaluationSelection = 'accuracy' as 'mcc'| 'f1' | 'precision'| 'recall'| 'accuracy'\n\n    const thresholdRangeChange = {\n      type: '' as 'right' | 'left' | '',\n      classifier:'',\n      threshold: 0.5,\n      value: 0,\n      left_diff:0.05,\n      right_diff:0.05,\n    }\n    const bandwidthHover = {\n      bandwidth: '',\n    }\n    const barHover  = {\n      threshold: '',\n    }\n    const accHover  = {\n      threshold: '',\n    }\n    const curveClassifier = [...this.boxProps.classifiers][3];\n    const thresholds = [\"0.00\", \"0.10\",\"0.20\",\"0.30\",\"0.40\",\"0.50\",\"0.60\",\"0.70\",\"0.80\",\"0.90\",\"1.00\"]\n    const upperColors = [\"rgb(37,102,118)\", \"rgb(138,225,249)\"]\n    const lowerColors = [\"rgb(181,29,73)\", \"rgb(251,137,155)\"]\n    const middleColors = [\"rgb(64,57,150)\",\"rgb(119,136,153)\"]\n    const currentSetbandwidth = {\n      left: 0.05,\n      right: 0.05,\n    };\n    const currentBandwidth = {\n      left: 0.05,\n      right: 0.05,\n    };\n    const currentRemovedbandwidth = '';\n    const withinClassifierBandwidths = [currentSetbandwidth];\n    return {\n      currentRemovedbandwidth,\n      barHover,\n      evaluationSelection,\n      accHover,\n      bandwidthHover,\n      leftThreshold: 0.00,\n      rightThreshold: 1.00,\n      streamData: {},\n      currentBandwidth,\n      currentSetbandwidth,\n      withinClassifierBandwidths,\n      value: [],\n      height,\n      click,\n      hover,\n      thresholdRangeChange,\n      margin,\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      classNumber:[...this.boxProps.classes].length,\n      curveClassifier,\n      numberOfBins: 11,\n      thresholds,\n      thresholdRangeRecords:{},\n      upperColors,\n      middleColors,\n      lowerColors,\n    };\n  },\n  computed: {\n    addedBandWidthClassifiers() {\n      return this.$store.state.addedBandWidthClassifiers;\n    },\n    confidenceIndex() : {} {\n      let confidenceIndex  = {}\n      for (let i in this.thresholds) {\n        confidenceIndex[this.thresholds[i]] = parseInt(i)\n      }\n      return confidenceIndex\n    },\n    options(): any[] {\n      let options = []\n      const classifiers = this.classifiers\n      classifiers.forEach((c)=>{\n        options.push({name: c});\n      })\n      return options\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThresholdDict;\n    },\n    classifierBandWidthDict(): string[] {\n      return this.boxProps.classifierBandWidthDict;\n    },\n    classes(): string[] {\n      this.classNumber = [...this.boxProps.classes].length\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];  \n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    thresholdClassifierNameList():string[] {\n      return this.$store.state.thresholdClassifierNameList\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    predictionKeys(): string[] {\n      const predictionKeys = this.classifiers.slice();\n      return predictionKeys;\n    },\n    continuousPredictionKeys():string[]{\n      if (this.$store.state.datasetType == \"continuous\") {\n        var continuousPredictionKeys = []\n        this.predictionKeys.forEach((c)=>{\n          continuousPredictionKeys.push(c+\"_\"+this.$store.state.classifierThresholdDict[c]/100)\n        })\n        return continuousPredictionKeys\n      } else {\n        return this.predictionKeys;\n      }\n    },\n    continuousClassifierName():{} {\n      var continuousClassifierName = {}\n      this.classifiers.forEach((c)=>{\n        if (this.$store.state.datasetType == \"continuous\") {\n          continuousClassifierName[c] = c + \"_\" + this.$store.state.classifierThresholdDict[c]/100\n        } else {\n          continuousClassifierName[c] = c;\n        }\n      })\n      return continuousClassifierName;\n    },\n    thresholdRange(): {\n      [classifier: string]: {\n        name: String,\n        threshold: Number,\n        left_range: Number,\n        right_range: Number,\n      },\n    }{\n      const thresholdRange: {\n        [classifier: string]: {\n          name: String,\n          threshold: Number,\n          left_range: Number,\n          right_range: Number,\n        },\n      } = {};\n      this.classifiers.forEach((c) => {\n        let cur_acc = 0\n        thresholdRange[this.continuousClassifierName[c]] = {\n          name:c,\n          threshold: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] : 0,\n          left_range:  Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] / 100 - 0.05 : 0,\n          right_range:  Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] / 100 + 0.05: 0,\n        };\n      });\n      return thresholdRange\n    },\n    accumulations(): {\n      [classifier: string]: {\n        name: String,\n        threshold: Number,\n        acc: Number,\n        ci_tp: Number[],\n        ci_fn: Number[],\n        ci_tn: Number[],\n        ci_fp: Number[],\n        ci_m: Number[],\n        ci_m_y: Number[],\n        ci_m_n: Number[],\n        ci_tp_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_fn_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fp_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n          }\n        },\n        ci_tn_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n        middle_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          }, \n        middle_y_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },  \n        middle_n_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },   \n        continuous_pred: {\n          [threshold: string]:{\n            instances: Set<number>,\n            }\n          },  \n      },\n    }{\n      const accumulations: {\n        [classifier: string]: {\n          name: String,\n          threshold: Number,\n          acc: Number,\n          ci_tp: Number[],\n          ci_fn: Number[],\n          ci_tn: Number[],\n          ci_fp: Number[],\n          ci_m: Number[],\n          ci_m_y: Number[],\n          ci_m_n: Number[],\n          ci_tp_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fp_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_tn_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          ci_fn_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          middle_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },\n          middle_y_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          },  \n          middle_n_instances: {\n          [threshold: string]:{\n            instances: Set<String>,\n            }\n          }, \n          continuous_pred:  {\n          [threshold: string]:{\n            instances: Set<number>,\n            }\n          },\n        },\n      } = {};\n\n\n      var allIntervals = [];\n      this.classifiers.forEach((c) => {\n        let cur_acc = 0\n        accumulations[c] = {\n          name:c,\n          threshold: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] : 0,\n          acc: 0,\n          ci_tp: [],\n          ci_fn: [],\n          ci_tn: [],\n          ci_fp: [],\n          ci_m: [],\n          ci_m_y : [],\n          ci_m_n : [],\n          ci_tp_instances: {},\n          ci_fp_instances: {},\n          ci_tn_instances: {},\n          ci_fn_instances: {},\n          middle_instances: {},\n          middle_y_instances: {},\n          middle_n_instances: {},\n          continuous_pred: {}\n        };\n        this.thresholds.forEach((t)=>{\n          accumulations[c][\"ci_tp_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"ci_tn_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"ci_fp_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"ci_fn_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"middle_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"middle_y_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"middle_n_instances\"][t] = {\n            instances: new Set(),\n          }\n          accumulations[c][\"continuous_pred\"][t] = {\n            instances: new Set(),\n          }\n        })\n\n        this.thresholds.forEach((t)=>{\n          let left_edge = (parseFloat (t) - this.currentSetbandwidth.left) < 0 ? 0 : parseFloat (t) + (parseFloat (t) - this.currentSetbandwidth.left);//this.thresholdRange[this.continuousClassifierName[c]].left_range//parseFloat (t) + left_shift < 0 ? 0 : parseFloat (t) + left_shift;\n          let right_edge = (parseFloat (t) - this.currentSetbandwidth.right) > 1 ? 1 : parseFloat (t) + (parseFloat (t) + this.currentSetbandwidth.right);//this.thresholdRange[this.continuousClassifierName[c]].right_range// parseFloat (t) + right_shift > 1 ? 1 : parseFloat (t) + right_shift;\n          this.instances.forEach((id)=>{\n            let continuous_value = (instanceById(id).continuous_predictions[c])\n            let cur_pred = continuous_value <= t ? this.classes[0] : this.classes[1];\n            let correct = instanceById(id).actual == cur_pred? 1 : 0;\n            let interval = t;\n            if (continuous_value > left_edge && continuous_value < right_edge) {\n                accumulations[c][\"middle_instances\"][t].instances.add(id)\n                accumulations[c].continuous_pred[t].instances.add(parseFloat(continuous_value))\n                if (correct == 1) {\n                  accumulations[c][\"middle_y_instances\"][t].instances.add(id)\n                } else {\n                  accumulations[c][\"middle_n_instances\"][t].instances.add(id)\n                }\n            } else if (continuous_value >= right_edge){\n              if (instanceById(id).actual == this.classes[1]){\n                accumulations[c][\"ci_tp_instances\"][interval].instances.add(id)\n              } else {\n                accumulations[c][\"ci_fp_instances\"][interval].instances.add(id)\n              }\n            } else{\n              if (instanceById(id).actual == this.classes[0]) {\n                accumulations[c][\"ci_tn_instances\"][interval].instances.add(id)\n              } else {\n                accumulations[c][\"ci_fn_instances\"][interval].instances.add(id)\n              }\n            }\n          })\n        })\n        this.thresholds.forEach((t)=>{\n          accumulations[c][\"ci_tp\"].push(accumulations[c][\"ci_tp_instances\"][t].instances.size)\n          accumulations[c][\"ci_tn\"].push(accumulations[c][\"ci_tn_instances\"][t].instances.size)\n          accumulations[c][\"ci_fp\"].push(accumulations[c][\"ci_fp_instances\"][t].instances.size)\n          accumulations[c][\"ci_fn\"].push(accumulations[c][\"ci_fn_instances\"][t].instances.size)\n          accumulations[c][\"ci_m\"].push(accumulations[c][\"middle_instances\"][t].instances.size)\n          accumulations[c][\"ci_m_y\"].push(accumulations[c][\"middle_y_instances\"][t].instances.size)\n          accumulations[c][\"ci_m_n\"].push(accumulations[c][\"middle_n_instances\"][t].instances.size)\n          allIntervals.push(accumulations[c][\"ci_tn_instances\"][t].instances.size + accumulations[c][\"ci_tp_instances\"][t].instances.size + accumulations[c][\"ci_fn_instances\"][t].instances.size + accumulations[c][\"ci_fp_instances\"][t].instances.size)\n        })\n      });\n      return accumulations;\n    },\n    \n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    yThreshold(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([this.evaluationSelection == 'mcc'? -1: 0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.continuousPredictionKeys)\n        .range([0, this.width*0.8])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 200])\n          .range([0, 200])\n          .clamp(true);\n      return xScale;      \n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Trinary_Bandwidth_Assessment') {\n          if (view.config) {\n            let value  = view.config;\n            this.value = []\n            value.classifiers.forEach((c)=>{\n              if (this.classifiers.includes(c)) {\n                this.value.push({'name':c})\n              }\n            })\n            this.evaluationSelection = value.evaluation\n          }\n        }\n      })\n      this.drawWithinInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Trinary_Bandwidth_Assessment\", \n                    \"config\": {\n                      \"classifiers\":this.value.map((c)=>c.name),\n                      \"evaluation\":this.evaluationSelection}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    click() {\n      this.updateThreshold();\n    },\n    barHover() {\n      this.drawBarHover();\n    },\n    accHover() {\n      this.drawAccHover();\n    },\n    bandwidthHover() {\n      this.drawBandwidthHover();\n    },\n    rightThreshold() {\n      this.updateThresholdBound();\n    },\n    leftThreshold() {\n      this.updateThresholdBound();\n    },\n    currentSetbandwidth() {\n      this.withinClassifierBandwidths.push({'left':this.currentSetbandwidth.left, 'right': this.currentSetbandwidth.right});\n    },\n    currentBandwidth() {\n      this.updateTmpChartData();\n      this.drawStreamChart();\n    },\n    currentRemovedbandwidth() {\n      let tmpwithinClassifierBandwidths = []\n      this.withinClassifierBandwidths.forEach((c)=>{\n        if (c.left == this.currentRemovedbandwidth.left && c.right == this.currentRemovedbandwidth.right) {\n\n        } else {\n          tmpwithinClassifierBandwidths.push(c)\n        }\n      })\n      this.withinClassifierBandwidths = tmpwithinClassifierBandwidths;\n    },\n    withinClassifierBandwidths() {\n      this.updateStreamChartData();\n      this.drawStreamChart();\n    },\n    evaluationSelection() { \n      this.drawWithinInitial();\n      this.drawStreamChart();\n    },\n    value() {\n      if (this.value.length > 1) {\n        this.value = [this.value[this.value.length-1]]\n      }\n      this.updateStreamChartData();\n      this.drawStreamChart();\n    },\n    hover() { \n      this.drawHover();\n    },\n    thresholdRangeChange() {\n      this.currentBandwidth = {\n        'left':this.thresholdRangeChange.left_diff.toFixed(2),\n        'right':this.thresholdRangeChange.right_diff.toFixed(2)\n      }\n      this.updateAdjusterBar();\n    },\n    numberOfBins() {\n      this.updateThresholdBound();\n      this.updatenumberOfBins();\n    },\n    instances() {\n      this.drawWithinInitial();\n      this.updateStreamChartData();\n      this.drawStreamChart();\n    },\n    selections() {\n      this.drawSelections();\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Trinary_Bandwidth_Assessment') {\n        if (view.config) {\n          let value  = view.config;\n          this.value = []\n          value.classifiers.forEach((c)=>{\n            if (this.classifiers.includes(c)) {\n              this.value.push({'name':c})\n            }\n          })\n          this.evaluationSelection = value.evaluation\n        }\n      }\n    })\n    this.drawWithinInitial();\n  },\n  methods: {\n    updateThreshold() {\n      const classifier = this.click.classifier;\n      const value = parseFloat(this.click.threshold).toFixed(2);\n      let changedClassifier = {\"classifier\":classifier, \"single_threshold\": parseFloat(value) * 100};\n      this.$store.dispatch(\"changedCurveChosenClassifierThresholdTuple\",changedClassifier)\n    },\n    clearBandwitdth() {\n      this.withinClassifierBandwidths = [this.currentSetbandwidth];\n    },\n    addDefault() {\n      this.withinClassifierBandwidths = [\n        {left: 0.1,right: 0.1},\n        {left: 0.05,right: 0.05},\n        {left: 0.02,right: 0.02}];\n    },\n    clearHover() { \n      this.hover = ({type: '', classifier: '', selectedClassifier: ''});\n    },\n    clearBarHover() {\n      this.barHover = ({threshold:''});\n    },\n    clearAccHover() {\n      this.accHover = ({threshold:''});\n    },\n    clearThresholdBound() {\n      this.leftThreshold = 0.00\n      this.rightThreshold = 1.00\n      this.numberOfBins = 11\n      this.thresholds = [0.00, 0.10,0.20,0.30,0.40,0.50,0.60,0.70,0.80,0.90,1.00];\n      this.updateStreamChartData();\n      this.drawStreamChart();\n    },\n    updatenumberOfBins() {\n      const chart = d3.select(this.$refs.svg);\n      const svg_curve = chart.select(\".svg-curve\")\n\n      const thresholdBin = chart.select('.slider-threshold-bin').attr('transform', 'translate(' + this.xScale((this.numberOfBins)*(200/20)) + ', -7.5)') \n      const thresholdBinText = chart.select('.bin-text').text(\"number of bins: \" + this.numberOfBins)\n    },\n    updateThresholdBound() {\n      var tmp_list = [];\n      var tick = ((parseFloat(this.rightThreshold) - parseFloat(this.leftThreshold)) / parseFloat(this.numberOfBins));\n      var num = parseFloat(this.leftThreshold)\n      var count = 0\n      var initializeFlag = 0\n\n      for (var i in range (this.numberOfBins)) {\n        count += 1\n        if (num > this.rightThreshold) break;\n        let cur_threshold = \"\"+num.toFixed(2)\n        if (!tmp_list.includes(cur_threshold)) {\n          tmp_list.push(cur_threshold);\n        }\n        num += tick;\n      }\n\n      this.thresholds = tmp_list;\n      this.updateStreamChartData();\n      this.drawStreamChart();\n    },\n    removeBandwidthHover() {\n      const chart = d3.select(this.$refs.svg);\n      this.thresholds.forEach((t,i)=>{\n        this.withinClassifierBandwidths.forEach((bandwidth, c)=>{\n          chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n        })\n      })\n    },\n    drawBandwidthHover() {\n      let bandwidth = this.bandwidthHover.bandwidth.split(\"-\")[1];\n      const chart = d3.select(this.$refs.svg);\n\n      if (this.bandwidthHover.bandwidth == 'bandwidth-') {\n        this.removeBandwidthHover()\n      } else {\n        this.thresholds.forEach((t,i)=>{\n          this.withinClassifierBandwidths.forEach((bandwidth, c)=>{\n            chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n          })\n          chart.select('.bar-threshold-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.circle-threshold-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.upline-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.midline-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.lowline-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n          chart.select('.line-band-'+bandwidth + '-' + i).attr(\"opacity\",\"1\")\n        })\n      }\n    },\n    drawAccHover() {\n      const chart = d3.select(this.$refs.svg);\n      const threshold = this.accHover.threshold.split(\"-\")[1];\n      const streamData = this.streamData;\n      let withinClassifierBandwidths = []\n      this.withinClassifierBandwidths.forEach((i)=>{\n        withinClassifierBandwidths.push(i)\n      });\n      const sortedBandWidth = withinClassifierBandwidths.sort((n1,n2) => {\n          if ( (n1.right + n1.left) < (n2.right + n2.left)) {\n              return 1;\n          }\n\n          if ( (n1.right + n1.left) > (n2.right + n2.left)) {\n              return -1;\n          }\n\n          return 0;\n      });\n\n\n      if (this.accHover.threshold) {\n        this.thresholds.forEach((t,i)=>{\n          sortedBandWidth.forEach((bandwidth, c)=>{\n            chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n          })\n        })\n        chart.select('.y-axis-marker-rect').attr('opacity', 1);  \n        sortedBandWidth.forEach((bandwidth,c)=>{\n          let i = threshold\n          let tp = streamData[c].ci_tp[i]\n          let fp = streamData[c].ci_fp[i]\n          let tn = streamData[c].ci_tn[i]\n          let fn = streamData[c].ci_fn[i]\n          let m_y = streamData[c].ci_m_y[i]\n          let m_n = streamData[c].ci_m_n[i]\n          let m = streamData[c].ci_m[i]\n          let precision = (tp+fp)!=0? (tp/(tp+fp)) : tp ==0?1:0\n          let recall = (tp+fn)!=0? (tp/(tp+fn)) : tn ==0?1:0\n          let f1 = (precision + recall) !=0? (2*precision*recall) / (precision + recall):precision*recall==0?1:0\n          let mcc = 0\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n             mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n          } \n          chart.select('.bar-threshold-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.circle-threshold-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.upline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.midline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.lowline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.line-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.y-axis-marker-text-1-'+c).text(\"acc+: \"+ ((this.streamData[c].ci_tp[threshold] + this.streamData[c].ci_tn[threshold] +  this.streamData[c].ci_m[threshold])/(this.instances.length)).toFixed(2)).attr(\"opacity\", this.evaluationSelection == 'accuracy'? 1:0);\n          chart.select('.y-axis-marker-text-1-s1-'+c)\n                  .text(this.evaluationSelection == 'accuracy'?\"acc: \"+ ((this.streamData[c].ci_tp[threshold] + this.streamData[c].ci_tn[threshold] )/(this.instances.length -  this.streamData[c].ci_m[threshold])).toFixed(2)\n                        :this.evaluationSelection == 'precision'?\"precision: \"+ (precision).toFixed(2)\n                        :this.evaluationSelection == 'recall'?\"recall: \"+ (recall).toFixed(2)\n                        :this.evaluationSelection == 'mcc'?\"mcc: \"+ (mcc).toFixed(2)\n                        :\"f1: \"+ (f1).toFixed(2)).attr(\"opacity\", 1);\n          chart.select('.y-axis-marker-text-1-s2-'+c).text(\"acc-: \"+ ((this.streamData[c].ci_tp[threshold] + this.streamData[c].ci_tn[threshold] )/(this.instances.length)).toFixed(2)).attr(\"opacity\", this.evaluationSelection == 'accuracy'? 1:0);\n        })\n      } else {\n        chart.select('.y-axis-marker-rect').attr('opacity', 0);  \n\n        this.thresholds.forEach((t,i)=>{\n          sortedBandWidth.forEach((bandwidth, c)=>{\n            chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.y-axis-marker-text-1-'+c).text(c).attr(\"opacity\", 0);\n            chart.select('.y-axis-marker-text-1-s1-'+c).text(c).attr(\"opacity\", 0);\n            chart.select('.y-axis-marker-text-1-s2-'+c).text(c).attr(\"opacity\", 0);\n          })\n        })\n      }\n\n    },\n    drawBarHover() {\n      const threshold = this.barHover.threshold.split(\"-\")[1];\n      const curveText = (bandwidth:number, threshold:number,  selection: Set<string>) => {\n\n        const instances = this.streamData[bandwidth][\"middle_instances\"][this.thresholds[threshold]].instances\n        const overlappingInstances = intersection(instances, selection);\n        var totalInstances = 0 \n        totalInstances = this.instances.length\n        const fractionOfTotalInstances = overlappingInstances.size / totalInstances;\n        return (fractionOfTotalInstances).toFixed(2);\n      };\n      \n      const {first, second} = this.selections;\n      let withinClassifierBandwidths = []\n      this.withinClassifierBandwidths.forEach((i)=>{\n        withinClassifierBandwidths.push(i)\n      });\n      const sortedBandWidth = withinClassifierBandwidths.sort((n1,n2) => {\n          if ( (n1.right + n1.left) < (n2.right + n2.left)) {\n              return 1;\n          }\n\n          if ( (n1.right + n1.left) > (n2.right + n2.left)) {\n              return -1;\n          }\n\n          return 0;\n      });\n      const chart = d3.select(this.$refs.svg);\n      const streamData = this.streamData;\n      \n\n      if (this.barHover.threshold) {\n        this.thresholds.forEach((t,i)=>{\n          sortedBandWidth.forEach((bandwidth, c)=>{\n            chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.bar-hover-box-1-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-box-2-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-text-1-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-text-2-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n            chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"0.2\")\n          })\n        })\n        chart.select('.y-axis-marker-rect').attr('opacity', 1);  \n        sortedBandWidth.forEach((bandwidth,c)=>{\n          chart.select('.bar-threshold-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.bar-hover-box-1-'+c + '-' + threshold).attr(\"opacity\",  \"1\")\n          chart.select('.bar-hover-box-2-'+c + '-' + threshold).attr(\"opacity\",  \"1\")\n          chart.select('.bar-hover-text-1-'+c + '-' + threshold).attr(\"opacity\",  \"1\")\n          chart.select('.bar-hover-text-2-'+c + '-' + threshold).attr(\"opacity\",  \"1\")\n          chart.select('.circle-threshold-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.upline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.midline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.lowline-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.line-band-'+c + '-' + threshold).attr(\"opacity\",\"1\")\n          chart.select('.y-axis-marker-text-1-'+c).text(\"uncertain: \"+ (this.streamData[c].ci_m[threshold] / this.instances.length).toFixed(2)).attr(\"opacity\", 1);\n          if (first) {\n            chart.select('.y-axis-marker-text-1-s1-'+c).text(\"select1: \"+ curveText(c,threshold,first.instances)).attr(\"opacity\", 1);\n          } else {\n            chart.select('.y-axis-marker-text-1-s1-'+c).attr(\"opacity\", 0);\n          }\n          if (second) {\n            chart.select('.y-axis-marker-text-1-s2-'+c).text(\"select2: \"+ curveText(c,threshold,second.instances)).attr(\"opacity\", 1);\n          } else {\n            chart.select('.y-axis-marker-text-1-s2-'+c).attr(\"opacity\", 0);\n          }\n          \n        })\n      } else {\n        chart.select('.y-axis-marker-rect').attr('opacity', 0);  \n\n        this.thresholds.forEach((t,i)=>{\n          sortedBandWidth.forEach((bandwidth, c)=>{\n            chart.select('.bar-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.bar-hover-box-1-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-box-2-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-text-1-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.bar-hover-text-2-'+c + '-' + i).attr(\"opacity\",  \"0\")\n            chart.select('.circle-threshold-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.upline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.midline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.lowline-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.line-band-'+c + '-' + i).attr(\"opacity\",\"1\")\n            chart.select('.y-axis-marker-text-1-'+c).text(c).attr(\"opacity\", 0);\n            chart.select('.y-axis-marker-text-1-s1-'+c).text(c).attr(\"opacity\", 0);\n            chart.select('.y-axis-marker-text-1-s2-'+c).text(c).attr(\"opacity\", 0);\n          })\n        })\n      }\n    },  \n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const hoverClassifier = this.hover.selectedClassifier\n      const curveBars = chart.selectAll('.bar-threshold-right-'+hoverClassifier)\n      const yAxisMarkerLineCurveLow = chart.select('.y-axis-marker-line-curve-low');\n      const yAxisMarkerLineCurveUp = chart.select('.y-axis-marker-line-curve-up');\n      const yAxisMarkerLineCurveBar = chart.select('.y-axis-marker-line-curve-bar');\n      const yAxisMarkerLineCurve = chart.select('.y-axis-marker-line-curve');\n      const yAxisMarkerTextCurveBar = chart.select('.y-axis-marker-text-curve-bar');\n      const yAxisMarkerTextCurve = chart.select('.y-axis-marker-text-curve');\n      const yAxisMarkerTextCurveLow = chart.select('.y-axis-marker-text-curve-low');\n      const yAxisMarkerTextCurveUp = chart.select('.y-axis-marker-text-curve-up');\n      const yAxisMarkerTextClassifier = chart.select('.y-axis-marker-text-classifier');\n      const yAxisMarkerTextS1 = chart.select('.y-axis-marker-text-s1')\n      const yAxisMarkerTextS2 = chart.select('.y-axis-marker-text-s2')\n\n      const yAxisMarkerRect = chart.select('.y-axis-marker-rect');\n\n      const allSelectedClassifier = this.value.map((c)=>c.name)\n      const { first, second } = this.selections;\n\n      const xThreshold = d3.scaleBand<string>()\n        .domain(this.thresholds)\n        .range([0, this.width*0.8])\n        .paddingOuter(0.2);\n\n      const curveText = (classifierName:string, typeString, selection: Set<string>) => {\n        const instances = this.accumulations[classifierName].middle_instances[typeString].instances\n        var totalInstances = 0 \n        totalInstances = this.instances.length\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size / totalInstances * 100;\n        return fractionOfTotalInstances.toFixed(2) + \"%\" ;\n      };\n\n\n      allSelectedClassifier.forEach((c)=>{\n        chart.selectAll('.bar-threshold-right-'+c).attr('fill', \"lightgrey\");\n      })\n    \n      if (this.hover.type === 'curve-bar') {\n        curveBars.data(this.thresholds)\n          .attr('fill', (d,i) =>\n            i === this.hover.classifier\n              ? \"grey\"\n              : \"lightgrey\");\n      } else {\n        curveBars.attr('fill', \"lightgrey\");\n      }\n      \n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      if (this.hover.type) {\n        yAxisMarkerRect.transition()\n          .duration(moveDuration)\n          .attr('opacity', 1)\n          .attr(\"fill\",\"white\")\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])},\n            ${-150})`)\n\n        yAxisMarkerTextClassifier\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-130})`)          \n          .text('classifier: ' + hoverClassifier);\n\n        yAxisMarkerLineCurveBar\n          .transition()\n          .duration(moveDuration)\n          .attr('stroke-opacity', 1)\n          .attr('y1',  this.y((this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length)))\n          .attr('x2', this.width)\n          .attr('y2', this.y((this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length)));\n        yAxisMarkerTextCurveBar\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-110})`)          \n          .text('Fraction: ' +`${((this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length) * 100).toFixed(1)}%`);\n\n        yAxisMarkerLineCurve\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier]) / (this.instances.length - this.accumulations[hoverClassifier].ci_m[this.hover.classifier])))\n            .attr('x2', this.width)\n            .attr('y2', this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier] ) / (this.instances.length - this.accumulations[hoverClassifier].ci_m[this.hover.classifier])));  \n\n        yAxisMarkerTextCurve\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-70})`)            \n          .text(this.evaluationSelection == 'accuracy'? \"acc: \"\n          :this.evaluationSelection == 'precision'? \"precision: \"\n          :this.evaluationSelection == 'recall'? \"recall: \"\n          :this.evaluationSelection == 'mcc'? \"mcc: \"\n          :\"f1\"+ `${((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier]) / (this.instances.length - this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) * 100).toFixed(1)}%`);\n\n        yAxisMarkerLineCurveLow\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier]) / (this.instances.length)))\n            .attr('x2', this.width)\n            .attr('y2', this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier]) / (this.instances.length)))\n                      .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n \n        \n        yAxisMarkerTextCurveLow\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-50})`)   \n          .text('acc-: '+`${((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier]) / (this.instances.length) * 100).toFixed(1)}%`)\n                    .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n\n\n        yAxisMarkerLineCurveUp\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1',  this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier] + this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length)))\n            .attr('x2', this.width)\n            .attr('y2', this.y((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier] + this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length)))\n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        yAxisMarkerTextCurveUp\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-90})`)   \n          .text('acc+: '+`${((this.accumulations[hoverClassifier].ci_tp[this.hover.classifier] + this.accumulations[hoverClassifier].ci_tn[this.hover.classifier] + this.accumulations[hoverClassifier].ci_m[this.hover.classifier]) / (this.instances.length) * 100).toFixed(1)}%`)\n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        if (first) {\n          yAxisMarkerTextS1\n          .transition()\n          .duration(moveDuration)\n          .attr('fill-opacity', 1)\n          .attr('transform', `translate(\n            ${xThreshold(this.thresholds[this.hover.classifier])+80},\n            ${-20})`)   \n          .text(\"1st: \"+ curveText(this.hover.selectedClassifier, this.thresholds [this.hover.classifier], first.instances))\n        }\n        if (second) {\n          yAxisMarkerTextS2\n            .transition()\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .attr('transform', `translate(\n              ${xThreshold(this.thresholds[this.hover.classifier])+80},\n              ${-0})`)   \n            .text(\"2nd: \"+ curveText(this.hover.selectedClassifier, this.thresholds [this.hover.classifier], second.instances))\n        }\n\n      } else {\n        yAxisMarkerTextClassifier\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);    \n        yAxisMarkerTextS1\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n          // .attr('opacity', 0); \n        yAxisMarkerTextS2\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n          // .attr('opacity', 0); \n        yAxisMarkerRect.transition()\n          .duration(disappearDuration)\n          .attr('opacity', 0)\n        yAxisMarkerLineCurveBar\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerLineCurve\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);  \n        yAxisMarkerLineCurveUp\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);  \n        yAxisMarkerLineCurveLow\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);    \n        yAxisMarkerTextCurveBar\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n        yAxisMarkerTextCurve\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);  \n        yAxisMarkerTextCurveLow\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);  \n        yAxisMarkerTextCurveUp\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);      \n      }\n    },\n    updateAdjusterBar() {\n      const threshold =  this.thresholdRangeChange.threshold;\n      const curClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n      const type = this.thresholdRangeChange.type;\n      const value = this.thresholdRangeChange.type == '' ? 0.05 : (parseFloat(this.thresholdRangeChange.value)-100) / 100 * 0.1;\n      const chart = d3.select(this.$refs.svg);\n      const sliderHead = d3.select(\".slider-circle-time-\"+type)\n      const sliderText = d3.select(\".range-text-\"+type)\n      const legendText1 = chart.select(\".legend-text1\")\n      const legendText2 = chart.select(\".legend-text2\") \n      const legendLine2 = chart.select(\".legend_line2\") \n\n      if (type == 'left'){\n        d3.select(\".slider-circle-time-\"+\"left\").attr('transform', 'translate(' + (100 - 100 * (this.thresholdRangeChange.left_diff)/0.1) + ', -140)')\n        d3.select(\".range-text-\"+\"left\").text(\"(\"+ (- this.thresholdRangeChange.left_diff).toFixed(2) +\",\")\n      }\n      else  {\n        d3.select(\".slider-circle-time-\"+\"right\").attr('transform', 'translate(' + (100 + 100 * (this.thresholdRangeChange.right_diff)/0.1) + ', -140)')\n        d3.select(\".range-text-\"+\"right\").text(( this.thresholdRangeChange.right_diff).toFixed(2)+\")\") \n      }\n    },\n    updateTmpChartData() {\n      let streamData = {};\n      let c = 0\n      let bandwidth  = this.currentBandwidth\n      const curClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n\n\n      const sequentialScale = d3.scaleSequential<string>( d3.interpolatePuBuGn)\n            .domain([0, (this.withinClassifierBandwidths.length + 1)*2])\n            .interpolator(function (x) { \n              return d3.interpolatePuBuGn(x);} );\n\n\n      let count = 0\n      for (let key in this.streamData) {\n        if (count >= this.withinClassifierBandwidths.length) {\n          break\n        }\n        count += 1\n        streamData[key] = this.streamData[key]\n        streamData[key].color = sequentialScale(c+1),\n        c += 1\n      }\n\n      streamData[c] =  {\n        left: bandwidth.left,\n        right: bandwidth.right,\n        threshold: this.thresholds[c],\n        threshold_idx: c,\n        color: sequentialScale(c+1),\n        ci_tp: [],\n        ci_fn: [],\n        ci_tn: [],\n        ci_fp: [],\n        ci_m: [],\n        ci_m_y : [],\n        ci_m_n : [],\n        ci_tp_instances: {},\n        ci_fp_instances: {},\n        ci_tn_instances: {},\n        ci_fn_instances: {},\n        middle_instances: {},\n        middle_y_instances: {},\n        middle_n_instances: {},\n      }\n\n      this.thresholds.forEach((t)=>{\n          streamData[c][\"ci_tp_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"ci_tn_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"ci_fp_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"ci_fn_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"middle_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"middle_y_instances\"][t] = {\n          instances: new Set(),\n        }\n        streamData[c][\"middle_n_instances\"][t] = {\n          instances: new Set(),\n        }\n      })\n\n      this.thresholds.forEach((t)=>{\n        let left_edge = (parseFloat(t) - parseFloat (bandwidth.left)) < 0 ? 0 : (parseFloat(t) - parseFloat (bandwidth.left));\n        let right_edge = (parseFloat(t) + parseFloat (bandwidth.right)) > 1 ? 1 : (parseFloat(t) + parseFloat (bandwidth.right)) ;\n\n        this.instances.forEach((id)=>{\n          let continuous_value = (instanceById(id).continuous_predictions[curClassifier])\n          let cur_pred = continuous_value <= parseFloat (t) ? this.classes[0] : this.classes[1];\n          let correct = instanceById(id).actual == cur_pred? 1 : 0;\n          let interval = t;\n          if (continuous_value > left_edge && continuous_value < right_edge) {\n              streamData[c][\"middle_instances\"][t].instances.add(id)\n              if (correct == 1) {\n                streamData[c][\"middle_y_instances\"][t].instances.add(id)\n              } else {\n                streamData[c][\"middle_n_instances\"][t].instances.add(id)\n              }\n          } else if (continuous_value >= right_edge){\n            if (instanceById(id).actual == this.classes[1]){\n              streamData[c][\"ci_tp_instances\"][interval].instances.add(id)\n            } else {\n              streamData[c][\"ci_fp_instances\"][interval].instances.add(id)\n            }\n          } else{\n            if (instanceById(id).actual == this.classes[0]) {\n              streamData[c][\"ci_tn_instances\"][interval].instances.add(id)\n            } else {\n              streamData[c][\"ci_fn_instances\"][interval].instances.add(id)\n            }\n          }\n        })\n      })\n      this.thresholds.forEach((t)=>{\n        streamData[c][\"ci_tp\"].push(streamData[c][\"ci_tp_instances\"][t].instances.size)\n        streamData[c][\"ci_tn\"].push(streamData[c][\"ci_tn_instances\"][t].instances.size)\n        streamData[c][\"ci_fp\"].push(streamData[c][\"ci_fp_instances\"][t].instances.size)\n        streamData[c][\"ci_fn\"].push(streamData[c][\"ci_fn_instances\"][t].instances.size)\n        streamData[c][\"ci_m\"].push(streamData[c][\"middle_instances\"][t].instances.size)\n        streamData[c][\"ci_m_y\"].push(streamData[c][\"middle_y_instances\"][t].instances.size)\n        streamData[c][\"ci_m_n\"].push(streamData[c][\"middle_n_instances\"][t].instances.size)\n      })\n    \n\n      this.streamData  = streamData\n    },\n    updateStreamChartData() {\n      const curClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n      const sequentialScale = d3.scaleSequential<string>( d3.interpolatePuBuGn)\n            .domain([0, this.withinClassifierBandwidths.length*2])\n            .interpolator(function (x) { \n              return d3.interpolatePuBuGn(x);} );\n      let streamData = {};\n      this.withinClassifierBandwidths.forEach((bandwidth, c) =>{\n        streamData[c] =  {\n          left: bandwidth.left,\n          right: bandwidth.right,\n          threshold: this.thresholds[c],\n          threshold_idx: c,\n          color: sequentialScale(c+1),\n          ci_tp: [],\n          ci_fn: [],\n          ci_tn: [],\n          ci_fp: [],\n          ci_m: [],\n          ci_m_y : [],\n          ci_m_n : [],\n          ci_tp_instances: {},\n          ci_fp_instances: {},\n          ci_tn_instances: {},\n          ci_fn_instances: {},\n          middle_instances: {},\n          middle_y_instances: {},\n          middle_n_instances: {},\n        }\n        this.thresholds.forEach((t)=>{\n          streamData[c][\"ci_tp_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"ci_tn_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"ci_fp_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"ci_fn_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"middle_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"middle_y_instances\"][t] = {\n            instances: new Set(),\n          }\n          streamData[c][\"middle_n_instances\"][t] = {\n            instances: new Set(),\n          }\n        })\n        this.thresholds.forEach((t)=>{\n          // let left_edge = parseFloat(t) - parseFloat (bandwidth.left);\n          // let right_edge = parseFloat(t) + parseFloat (bandwidth.right);\n          let left_edge = (parseFloat(t) - parseFloat (bandwidth.left)) < 0 ? 0 : (parseFloat(t) - parseFloat (bandwidth.left));\n          let right_edge = (parseFloat(t) + parseFloat (bandwidth.right)) > 1 ? 1 : (parseFloat(t) + parseFloat (bandwidth.right)) ;\n\n          this.instances.forEach((id)=>{\n            let continuous_value = (instanceById(id).continuous_predictions[curClassifier])\n            let cur_pred = continuous_value <= parseFloat (t) ? this.classes[0] : this.classes[1];\n            let correct = instanceById(id).actual == cur_pred? 1 : 0;\n            // let continuous_value = (instanceById(id).continuous_predictions[curClassifier])\n            // let cur_pred = continuous_value <= parseFloat (t) ? this.classes[0] : this.classes[1];\n            // let correct = instanceById(id).actual == cur_pred? 1 : 0;\n            let interval = t;\n            if (continuous_value > left_edge && continuous_value < right_edge) {\n                streamData[c][\"middle_instances\"][t].instances.add(id)\n                // streamData[c].continuous_pred[t].instances.add(parseFloat(continuous_value))\n                if (correct == 1) {\n                  streamData[c][\"middle_y_instances\"][t].instances.add(id)\n                } else {\n                  streamData[c][\"middle_n_instances\"][t].instances.add(id)\n                }\n            } else if (continuous_value >= right_edge){\n              if (instanceById(id).actual == this.classes[1]){\n                streamData[c][\"ci_tp_instances\"][interval].instances.add(id)\n              } else {\n                streamData[c][\"ci_fp_instances\"][interval].instances.add(id)\n              }\n            } else{\n              if (instanceById(id).actual == this.classes[0]) {\n                streamData[c][\"ci_tn_instances\"][interval].instances.add(id)\n              } else {\n                streamData[c][\"ci_fn_instances\"][interval].instances.add(id)\n              }\n            }\n            // if (continuous_value < right_edge && continuous_value > left_edge){\n            //   streamData[c][\"middle_instances\"][t].instances.add(id)\n            //   if (correct == 1) {\n            //     streamData[c][\"middle_y_instances\"][t].instances.add(id)\n            //   } else {\n            //     streamData[c][\"middle_n_instances\"][t].instances.add(id)\n            //   }\n            // } else {\n            //   let interval = t\n            //   if (correct == 1){\n            //     if (instanceById(id).actual == this.classes[1]){\n            //       streamData[c][\"ci_tp_instances\"][interval].instances.add(id)\n            //     } else {\n            //       streamData[c][\"ci_tn_instances\"][interval].instances.add(id)\n            //     }\n            //   }\n            //   else{\n            //     if (instanceById(id).actual == this.classes[1]) {\n            //       streamData[c][\"ci_fp_instances\"][interval].instances.add(id)\n            //     } else {\n            //       streamData[c][\"ci_fn_instances\"][interval].instances.add(id)\n            //     }\n            //   }\n            // }\n          })\n        })\n        this.thresholds.forEach((t)=>{\n          streamData[c][\"ci_tp\"].push(streamData[c][\"ci_tp_instances\"][t].instances.size)\n          streamData[c][\"ci_tn\"].push(streamData[c][\"ci_tn_instances\"][t].instances.size)\n          streamData[c][\"ci_fp\"].push(streamData[c][\"ci_fp_instances\"][t].instances.size)\n          streamData[c][\"ci_fn\"].push(streamData[c][\"ci_fn_instances\"][t].instances.size)\n          streamData[c][\"ci_m\"].push(streamData[c][\"middle_instances\"][t].instances.size)\n          streamData[c][\"ci_m_y\"].push(streamData[c][\"middle_y_instances\"][t].instances.size)\n          streamData[c][\"ci_m_n\"].push(streamData[c][\"middle_n_instances\"][t].instances.size)\n        })\n      })\n      this.streamData = streamData;\n    },\n    drawWithinInitial() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      const c = this.value.map((v)=>v.name)[this.value.length - 1]\n      const thresholds = this.thresholds;\n      const instances = this.instances;\n      const accumulations = this.accumulations;\n      const x = this.x    \n      const y = this.y;\n      const xThreshold = d3.scaleBand<string>()\n      .domain(this.thresholds)\n      .range([0, this.width*0.8])\n      .paddingOuter(0.2)\n      .paddingInner(0.2);\n      const yThreshold = this.yThreshold\n      const barWidth = xThreshold.bandwidth();\n\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr(\"class\",\"initail_svg\")\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom)*1.2}`)\n      const svg = svgAll.append('g')\n          .attr('transform', `translate(${0}, ${this.margin.top*1.2})`); \n      const svg_curves = svgAll.append('g')\n          .attr(\"class\",\"svg-curve\")\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top*1.2})`);  \n      const evaluationKeys = this.evaluationSelection;\n\n\n      const width = this.width / 6;\n      const height = this.margin.top / 2;\n      const legend2 = svg  \n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${(this.width - this.margin.left)},\n              ${-height*2})`);\n\n      const thresholdBins =  legend2.append(\"g\")\n              .attr(\"transform\",  \"translate(\"+(width * 2-200-40)+\",\" + 0 +\")\")\n\n      const accLegend = legend2.append(\"g\")\n              .attr(\"transform\",  \"translate(\"+(width * 2-140)+\",\" + 40 +\")\")\n\n      const drawLegend = () => {\n        accLegend.append('line')\n            .attr('class', 'acc1')\n            .style(\"stroke\", \"grey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"6\")\n            .attr('x1', 90)\n            .attr('x2', 100)\n            .attr('y1', 0)\n            .attr('y2', 0)\n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        accLegend.append('line')\n            .attr('class', 'acc2')\n            .style(\"stroke\", \"grey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"6\")\n            .attr('x1', 90)\n            .attr('x2', 100)\n            .attr('y1', 20)\n            .attr('y2', 20)\n        accLegend.append('line')\n            .attr('class', 'acc3')\n            .style(\"stroke\", \"grey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"6\")\n            .attr('x1', 90)\n            .attr('x2', 100)\n            .attr('y1', 40)\n            .attr('y2', 40)\n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        accLegend.append('line')\n            .attr('class', 'acc3')\n            .style(\"stroke\", \"grey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"2\")\n            .attr('x1', 95)\n            .attr('x2', 95)\n            .attr('y1', 0)\n            .attr('y2', 40)\n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        accLegend.append('text')\n          .attr(\"class\",\"bin-text\")\n          .attr(\"transform\",  \"translate(\"+(-240)+\",\" +0 +\")\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'left')\n          .attr('alignment-baseline', 'middle')\n          .attr(\"fill\", 'steelblue')\n          .text('acc+ (uncertainty as right)')   \n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n        accLegend.append('text')\n          .attr(\"class\",\"bin-text\")\n          .attr(\"transform\",  \"translate(\"+(-240)+\",\" +20 +\")\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'left')\n          .attr('alignment-baseline', 'middle')\n          .attr(\"fill\", 'steelblue')\n          .text(this.evaluationSelection == 'accuracy'?'acc (uncertainty as uncertain)'\n          :this.evaluationSelection == 'precision'? 'precision'\n          :this.evaluationSelection == 'recall'? 'recall'\n          :this.evaluationSelection == 'mcc'?'mcc'\n          :'f1')\n        accLegend.append('text')\n          .attr(\"class\",\"bin-text\")\n          .attr(\"transform\",  \"translate(\"+(-240)+\",\" +40 +\")\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'left')\n          .attr('alignment-baseline', 'middle')\n          .attr(\"fill\", 'steelblue')\n          .text('acc- (uncertainty as wrong)')  \n          .attr(\"visibility\",this.evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n          \n\n        thresholdBins.append('line')\n            .attr('class', 'track')\n            .style(\"stroke\", \"lightgrey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"6\")\n            .attr('x1', this.xScale.range()[0])\n            .attr('x2', this.xScale.range()[1])\n            .attr('y1', 0)\n            .attr('y2', 0)\n\n        let head1 = thresholdBins.append('rect')\n            .attr('width',20)\n            .attr('height',15)\n            .attr('rx',6)\n            .attr('ry',6) \n            .style('fill', 'steelblue')\n            .style('stroke', 'none')\n            .attr('class','slider-threshold-bin')\n            .attr('transform', 'translate(100,-7.5)')\n            .call(d3.drag()\n              .on('start.interrupt', function () {\n                head1.interrupt();\n              })\n              .on('start drag',  \n              (d:string)=>this.numberOfBins = Math.round(this.xScale.invert(d3.event.x) * (20 / 200))//\n              ))\n             ;  \n          thresholdBins.append('text')\n          .attr(\"class\",\"bin-text\")\n          .attr(\"transform\",  \"translate(\"+(-100)+\",\" +0 +\")\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(\"number of bins: \"+this.numberOfBins)   \n\n        \n      };\n      drawLegend();\n\n      const drawAdjuster = () => { // adjuster框\n\n        svg.append(\"rect\")\n        .attr('width', \"205\" )\n        .attr('height', 70)\n        .attr('fill', 'white')\n        .attr(\"stroke\",\"lightgrey\")\n        .attr(\"stroke-width\",\"4px\")\n        .attr(\"x\",\"2\")\n        .attr(\"y\",\"-180\")\n\n        var sqrt3 = Math.sqrt(3);\n        var triangleRight = {\n          draw: function (context, size) {\n              var x = -Math.sqrt(size / (sqrt3 * 3));\n              context.moveTo(-x * 2, 0);\n              context.lineTo(x, -sqrt3 * x);\n              context.lineTo(x, sqrt3 * x);\n              context.closePath();\n            }\n          };\n\n          var triangleLeft = {\n            draw: function (context, size) {\n              var x = -Math.sqrt(size / (sqrt3 * 3));\n              context.moveTo(x * 2, 0);\n              context.lineTo(-x, -sqrt3 * x);\n              context.lineTo(-x, sqrt3 * x);\n              context.closePath();\n            }\n          };\n\n          let leftTrgl = d3.symbol().type(triangleLeft)\n            .size(180);\n          let rightTrgl = d3.symbol().type(triangleRight)\n            .size(180);\n\n          let xScale = this.xScale;\n            \n          let yScale = this.yScale;\n          \n          let buttons = svg.append(\"rect\")\n            .attr(\"rx\", 6)\n            .attr(\"ry\", 6)\n            .attr(\"x\", 3)\n            .attr(\"y\", -180)\n            .attr(\"width\", 140)\n            .attr(\"height\", 30)\n            .attr(\"fill\",\"#f2f2f2\")\n            .attr(\"stroke\",\"lightgrey\")\n            \n          let titles = svg.append(\"text\")\n            .attr(\"class\",\"slider-text\")\n            .text(\"Range Adjuster\")\n            .attr(\"y\",-160)\n            .attr(\"x\",5)\n            .attr(\"font-size\",\"20px\")\n            .attr(\"fill\",\"grey\")\n\n          // set button\n          let setbuttons = svg.append(\"rect\")\n            .attr(\"class\",\"set-button\")\n            .attr(\"rx\", 6)\n            .attr(\"ry\", 6)\n            .attr(\"x\", 150)\n            .attr(\"y\", -180)\n            .attr(\"width\", 40)\n            .attr(\"height\", 30)\n            .attr(\"fill\",\"#f2f2f2\")\n            .attr(\"stroke\",\"lightgrey\")\n            .on('mouseenter', (d) => {\n              d3.select(\".set-button\").attr(\"fill\",\"grey\")\n              d3.select(\".set-text\").attr(\"fill\",\"white\")\n            })\n            .on('mouseleave', (d) => {\n              d3.select(\".set-button\").attr(\"fill\",\"#f2f2f2\")\n              d3.select(\".set-text\").attr(\"fill\",\"grey\")\n            })\n            .on('click', (d,i) => this.currentSetbandwidth = ({left: this.thresholdRangeChange.left_diff.toFixed(2), right: this.thresholdRangeChange.right_diff.toFixed(2)}));\n            \n          let settitles = svg.append(\"text\")\n            .attr(\"class\",\"set-text\")\n            .text(\"set\")\n            .attr(\"y\",-160)\n            .attr(\"x\",153)\n            .attr(\"font-size\",\"20px\")\n            .attr(\"fill\",\"grey\")\n            .on('mouseenter', (d) => {\n              d3.select(\".set-button\").attr(\"fill\",\"grey\")\n              d3.select(\".set-text\").attr(\"fill\",\"white\")\n            })\n            .on('mouseleave', (d) => {\n              d3.select(\".set-button\").attr(\"fill\",\"#f2f2f2\")\n              d3.select(\".set-text\").attr(\"fill\",\"grey\")\n            })\n           .on('click', (d,i) => this.currentSetbandwidth = ({left: this.thresholdRangeChange.left_diff.toFixed(2), right: this.thresholdRangeChange.right_diff.toFixed(2)}));\n\n\n          let slider = svg.append('line')\n            .attr('class', 'track')\n            .style(\"stroke\", \"#777\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"5\")\n            .attr('x1', 2)\n            .attr('x2', 202)\n            .attr('y1', -140)\n            .attr('y2', -140)\n \n          let head1 = svg.append('path') // 红色三角\n            .attr('d', leftTrgl)\n            .style('fill', 'red')\n            .style('stroke', 'none')\n            .attr('class','slider-circle-time-left')\n            .attr('transform', d=>{\n              let dis = 100 -  100 *  this.thresholdRangeChange.left_diff / 0.1 +2\n              return 'translate('+dis+',-140)'\n            })\n            .call(d3.drag()\n              .on('start.interrupt', function () {\n                head1.interrupt();\n              })\n              .on('start drag',  \n              (d:string)=>this.thresholdRangeChange = {\"type\":\"left\", \"classifier\":\"all\", \"threshold\":d, \n                      \"value\":xScale.invert(d3.event.x),\"left_diff\":Math.abs((parseFloat(xScale.invert(d3.event.x))-100) / 100 * 0.1),\"right_diff\": this.thresholdRangeChange.right_diff} //this.sliderRange =({type:\"from\", classifier:d, value: xScale.invert(d3.event.x)})//\n              ))\n             ;\n\n          let head2 = svg.append('path') //绿色三角\n            .attr('d', rightTrgl)\n            .style('fill', 'green')\n            .style('stroke', 'none')\n            .attr('class','slider-circle-time-right')\n            .attr('transform', d=>{\n              let dis = 100 + 100 * (this.thresholdRangeChange.right_diff / 0.1)+2\n              return 'translate('+dis+',-140)'\n            })\n            .call(d3.drag()\n              .on('start.interrupt', function () {\n                head2.interrupt();\n              })\n              .on('start drag',\n              (d:string)=>this.thresholdRangeChange = {\"type\":\"right\", \"classifier\":\"all\", \"threshold\":d, \n                        \"value\":xScale.invert(d3.event.x),\"left_diff\": this.thresholdRangeChange.left_diff, \"right_diff\":Math.abs((parseFloat(xScale.invert(d3.event.x))-100) / 100 * 0.1)}\n              ))\n          let rangeTextLeft = svg.append(\"text\")\n            .attr(\"class\",\"range-text-left\")\n            .text(\"(\"+(-this.thresholdRangeChange.left_diff.toFixed(2))+\",\")\n            .attr(\"y\",-120)\n            .attr(\"x\",5)\n            .attr(\"font-size\",\"18px\")\n            .attr(\"fill\",\"grey\")   \n          let rangeTextRight = svg.append(\"text\")\n            .attr(\"class\",\"range-text-right\")\n            .text(this.thresholdRangeChange.right_diff.toFixed(2)+\")\")\n            .attr(\"y\",-120)\n            .attr(\"x\",60)\n            .attr(\"font-size\",\"18px\")\n            .attr(\"fill\",\"grey\")   \n      };\n\n      const drawTitles = () => {\n         svg_curves.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.4;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Threshold');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 1.5)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Fraction of instances');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 4)\n          .attr('y', 60+ this.width * 0.8)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationSelection == 'accuracy'? \"Accuracy \"\n          :this.evaluationSelection == 'precision'? \"Precision \"\n          :this.evaluationSelection == 'recall'? \"Recall\"\n          :this.evaluationSelection == 'mcc'? \"MCC\"\n          :\"F1\");\n\n        svg_curves.append('text')\n          .attr(\"class\",\"curve-title\")\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( 'Performance (' + c + ')');  \n      };\n\n      const drawAxes = () => {\n        const xTAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(xThreshold)\n              .tickSizeOuter(0),\n          )\n          .attr(\"class\",\"xAxis-curve\");\n\n        svg_curves.append('g')\n          .call(xTAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start')\n          .on('click', (d: string) => this.leftThreshold = parseFloat(d).toFixed(2))\n          .on('contextmenu', (d: string) => this.rightThreshold = parseFloat(d).toFixed(2));\n\n\n        const yUnceratiny = d3.scaleLinear()\n          .domain([0, 1])\n          .range([this.height, 0]);\n\n        const yTAxis = (g: any) => g\n          .call(d3.axisLeft(yUnceratiny)\n            .ticks(5)\n            .tickFormat(evaluationKeys != 'mcc'? d3.format('.0%'):d3.format('.0')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis)\n          .attr('font-size', 20);\n\n        const yTAxis_acc = (g: any) => g\n          .attr('transform', `translate(${this.width*0.8}, ${0})`)\n          .call(d3.axisLeft(yThreshold)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis_acc)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', `translate(${20}, ${0})`)\n          .attr('text-anchor', 'start');\n\n\n        // add reset button\n        // svg_curves.append('rect')\n        //   .attr('transform', `translate(${this.width - 200}, ${this.height})`)\n        //   .attr(\"width\",20)\n        //   .attr(\"height\",30)\n        //   .attr(\"fill\",\"lightgrey\")\n\n        // svg_curves.append(\"text\")\n        //   .attr('transform', `translate(${this.width - 100}, ${this.height})`)\n        //   .attr(\"class\",\"legend-text-hist\")\n        //   .attr('font-size', '24px')\n        //   .attr('text-anchor', 'end')\n        //   .attr('alignment-baseline', 'middle')\n        //   .text( \"Fraction of uncertainty\") \n      };\n      \n\n      drawAxes();\n      drawTitles();\n      drawAdjuster();\n    },\n    drawStreamChart() {\n      const chart = d3.select(this.$refs.svg);\n      const selectedClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n      const xThreshold = d3.scaleBand<string>()\n      .domain(this.thresholds)\n      .range([0, this.width*0.8])\n      .paddingOuter(0.2)\n      .paddingInner(0.2);\n      const yThreshold = this.yThreshold\n      const svg_curves = chart.select(\".svg-curve\")\n      svg_curves.selectAll('*').remove();\n      const barThresholds = svg_curves.selectAll('.cell')\n        .data(this.thresholds)\n        .join('g')\n          .attr('class', 'curve-cell')\n          .attr('transform', function(d: string)  {\n            return `translate(${xThreshold(d)}, ${0})`\n          })\n      const x = this.x    \n      const y = this.y;\n      const barWidth = xThreshold.bandwidth();\n      const selectionBarWidth = xThreshold.bandwidth() / 8;\n      const streamData = this.streamData;\n      const instances = this.instances;\n      const thresholds = this.thresholds;\n      const accumulations = this.accumulations;\n      const evaluationSelection = this.evaluationSelection;\n      const yUnceratiny = d3.scaleLinear()\n          .domain([0, 1])\n          .range([this.height, 0]);\n      let withinClassifierBandwidths = []\n      this.withinClassifierBandwidths.forEach((i)=>{\n        withinClassifierBandwidths.push(i)\n      });\n      let currentBandwidth = this.currentBandwidth\n      \n      if (Object.keys(streamData).length > withinClassifierBandwidths.length) {\n        withinClassifierBandwidths.push(currentBandwidth)\n      }\n      \n\n      const sortedBandWidth = withinClassifierBandwidths.sort((n1,n2) => {\n          if ( (n1.right + n1.left) < (n2.right + n2.left)) {\n              return 1;\n          }\n\n          if ( (n1.right + n1.left) > (n2.right + n2.left)) {\n              return -1;\n          }\n\n          return 0;\n      });\n      const drawMiddelLine = () =>{\n        function line(d,i) {\n            return d3.line()(thresholds.map(function(p,j) { \n              if (evaluationSelection == 'accuracy') {\n                return [xThreshold(p)+barWidth/4 , yThreshold((streamData[0].ci_tp[j] + streamData[0].ci_tn[j])/(instances.length - streamData[0].ci_m[j]))]; \n              } else if (evaluationSelection == 'recall') {\n                return [xThreshold(p)+barWidth/4 , yThreshold(streamData[0].ci_tp[j] + streamData[0].ci_fn[j]!=0? (streamData[0].ci_tp[j] )/(streamData[0].ci_tp[j] + streamData[0].ci_fn[j]) :streamData[0].ci_tp[j] == 0? 1: 0)]; \n              } else if (evaluationSelection == 'precision') {\n                return [xThreshold(p)+barWidth/4 , yThreshold(streamData[0].ci_tp[j] + streamData[0].ci_fp[j] == 0? 0:(streamData[0].ci_tp[j] )/(streamData[0].ci_tp[j] + streamData[0].ci_fp[j]))]; \n              } else if (evaluationSelection == 'f1') {\n                let precision = streamData[0].ci_tp[j] + streamData[0].ci_fn[j] != 0?(streamData[0].ci_tp[j] )/(streamData[0].ci_tp[j] + streamData[0].ci_fn[j]):streamData[0].ci_tp[j] == 0? 1:0\n                let recall  = streamData[0].ci_tp[j] + streamData[0].ci_fp[j] !=0 ?(streamData[0].ci_tp[j] )/(streamData[0].ci_tp[j] + streamData[0].ci_fp[j]) : streamData[0].ci_tp[j] == 0? 1:0\n                return [xThreshold(p)+barWidth/4 , yThreshold(precision + recall !=0? 2*precision *recall / (precision + recall) : precision * recall != 0? 0:1)]; \n              } else {\n                let tp = streamData[0].ci_tp[j]\n                let fp = streamData[0].ci_fp[j]\n                let tn = streamData[0].ci_tn[j]\n                let fn = streamData[0].ci_fn[j]\n                if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n                  return [xThreshold(p)+barWidth/4 , yThreshold(((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn))))]; \n                } else{\n                  return [xThreshold(p)+barWidth/4 , yThreshold(0)]; \n                }\n              }\n            }));\n          }\n\n        svg_curves.append(\"path\")\n            .attr('class', 'line-threshold')\n            .attr(\"d\",  line)\n            .style(\"fill\", \"none\")\n            .attr(\"stroke\", \"grey\")\n            .style(\"stroke-width\", 3)\n            .style(\"opacity\", 1)   \n\n      };\n      const drawCurves = () =>{\n        // sort storeBandwidth\n        sortedBandWidth.forEach((bandwidth, c)=>{\n          let index = c\n          barThresholds  \n            .append(\"rect\")\n            .attr('class', (d,i)=>'bar-threshold-band-'+c + '-' + i)\n            .attr('y', (d,i) => yUnceratiny(this.streamData[c].ci_m[i] / this.instances.length))\n            .attr('width', barWidth / 1.2)\n            .attr('height', (d,i) => this.height - yUnceratiny(this.streamData[c].ci_m[i] / this.instances.length))\n            .attr('fill', this.streamData[c].color)\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d,i) => this.barHover = ({threshold: 'threshold-'+ i}))\n            .on('mouseleave', this.clearBarHover)\n            .on('click', (d,i) => this.select(c, i, 'first', bandwidth))\n            .on('contextmenu', (d,i) => this.select(c, i, 'second', bandwidth))\n            .on('dblclick',(d,i)=>this.select(c, i, 'first', bandwidth, 'certainty'));  \n      \n          var pointsUp = barThresholds\n            .append(\"line\")\n            .attr('class', (d,i)=>'upline-band-'+c + '-' + i)\n            .attr('x1',  barWidth/6 * (index + 1)-6)\n            .attr('y1',(d,i) => {\n              return yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i] +  this.streamData[c].ci_m[i])/(this.instances.length))\n            })\n            .attr('x2',  barWidth/6 * (index + 1)+6)\n            .attr('y2', (d,i) => yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i] + this.streamData[c].ci_m[i])/(this.instances.length)))\n            .attr('stroke', this.streamData[c].color)\n            .attr('stroke-width', '6px')\n            .on('mouseenter', (d,i) => this.accHover = ({threshold: 'threshold-'+ i}))\n            .on('mouseleave', this.clearAccHover)\n            .attr(\"visibility\",evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n            .on('click', (d,i) =>this.click = {'threshold':this.thresholds[i], 'classifier': selectedClassifier})\n\n\n\n          var pointsMiddle = barThresholds\n            .append(\"line\")\n            .attr('class', (d,i)=>'midline-band-'+c + '-' + i)\n            .attr('x1',  barWidth/6 * (index + 1)-6)\n            .attr('y1',(d,i) => {\n              let tp = streamData[c].ci_tp[i]\n              let fp = streamData[c].ci_fp[i]\n              let tn = streamData[c].ci_tn[i]\n              let fn = streamData[c].ci_fn[i]\n              let m_y = streamData[c].ci_m_y[i]\n              let m_n = streamData[c].ci_m_n[i]\n              let m = streamData[c].ci_m[i]\n              if (evaluationSelection == 'accuracy') {\n                return yThreshold((tp+tn)/(this.instances.length-m))\n              } else if (evaluationSelection == 'recall') {\n                return yThreshold(tp/(tp+fn))\n              } else if (evaluationSelection == 'precision') {\n                return yThreshold(tp/(tp+fp))\n              } else if (evaluationSelection == 'f1') {\n                let precision = tp / (tp+fp)\n                let recall  = tp / (tp + fn)\n                return yThreshold(2*precision*recall / (precision + recall))\n              } else {\n                if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n                  return yThreshold(((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn))))\n                } else {\n                  return yThreshold(0)\n                }\n              }\n              }  \n            )\n            .attr('x2',  barWidth/6 * (index + 1)+6)\n            .attr('y2', (d,i) => {\n              let tp = streamData[c].ci_tp[i]\n              let fp = streamData[c].ci_fp[i]\n              let tn = streamData[c].ci_tn[i]\n              let fn = streamData[c].ci_fn[i]\n              let m_y = streamData[c].ci_m_y[i]\n              let m_n = streamData[c].ci_m_n[i]\n              let m = streamData[c].ci_m[i]\n              if (evaluationSelection == 'accuracy') {\n                return yThreshold((tp+tn)/(this.instances.length-m))\n              } else if (evaluationSelection == 'recall') {\n                return yThreshold(tp/(tp+fn))\n              } else if (evaluationSelection == 'precision') {\n                return yThreshold(tp/(tp+fp))\n              } else if (evaluationSelection == 'f1') {\n                let precision = tp / (tp+fp)\n                let recall  = tp / (tp + fn)\n                return yThreshold(2*precision*recall / (precision + recall))\n              } else {\n                if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n                  return yThreshold(((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn))))\n                } else {\n                  return yThreshold(0)\n                }\n              }\n              }  )\n            .attr('stroke', this.streamData[c].color)\n            .attr('stroke-width', '6px')\n            .on('mouseenter', (d,i) => this.accHover = ({threshold: 'threshold-'+ i}))\n            .on('mouseleave', this.clearAccHover)\n            .on('click', (d,i) =>this.click = {'threshold':this.thresholds[i], 'classifier': selectedClassifier})\n\n\n          var pointsLow =  barThresholds\n            .append(\"line\")\n            .attr('class', (d,i)=>'lowline-band-'+c + '-' + i)\n            .attr('x1',  barWidth/6 * (index + 1)-6)\n            .attr('y1',(d,i) => {\n              return yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i])/(this.instances.length))\n            })\n            .attr('x2',  barWidth/6 * (index + 1)+6)\n            .attr('y2', (d,i) => yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i])/(this.instances.length)))\n            .attr('stroke', this.streamData[c].color)\n            .attr('stroke-width', '6px')\n            .on('mouseenter', (d,i) => this.accHover = ({threshold: 'threshold-'+ i}))\n            .on('mouseleave', this.clearAccHover)\n            .attr(\"visibility\",evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n            .on('click', (d,i) =>this.click = {'threshold':this.thresholds[i], 'classifier': selectedClassifier})\n\n\n          barThresholds.append(\"line\")\n            .attr('class', (d,i)=>'line-band-'+c + '-' + i)\n            .attr('x1',  barWidth/6 * (index + 1)-1)\n            .attr('y1',(d,i) => {\n              return yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i] +  this.streamData[c].ci_m[i])/(this.instances.length))\n              }  \n            )\n            .attr('x2',  barWidth/6 * (index + 1)-1)\n            .attr('y2', (d,i) => yThreshold((this.streamData[c].ci_tp[i] + this.streamData[c].ci_tn[i])/(this.instances.length)))\n            .attr('stroke', this.streamData[c].color)\n            .attr('stroke-width', '4px')\n            .attr(\"visibility\",evaluationSelection == 'accuracy'? \"visible\":\"hidden\")\n\n          index += 1\n        })\n\n        sortedBandWidth.forEach((bandwidth, c)=>{\n          barThresholds \n            .append(\"circle\")   \n            .attr('r',(barWidth / 2.4) / sortedBandWidth.length)\n            .attr('class', (d,i)=>'circle-threshold-band-'+c + '-' + i)\n            .attr(\"cx\", (barWidth / 1.2) / sortedBandWidth.length * (c+0.5))\n            .attr(\"cy\",  this.height - (barWidth / 2.4) / sortedBandWidth.length)\n            .attr(\"visibility\", (d,i) => {\n              return (this.streamData[c].ci_m[i] != 0 && sortedBandWidth.length >=2 || (this.height -yThreshold(this.streamData[c].ci_m[i] / this.instances.length) >0 \n                                      &&  this.height -yThreshold(this.streamData[c].ci_m[i] / this.instances.length) < barWidth / 3)) ? \"visible\":\"hidden\"\n            })\n            .attr(\"fill\", this.streamData[c].color)  \n            .attr('stroke', 'black')\n            .attr('stroke-width', '0.5px')\n            .on('mouseenter', (d,i) => this.barHover = ({threshold: 'threshold-'+ i}))\n            .on('mouseleave', this.clearBarHover)\n            .on('click', (d,i) => this.select(c, i, 'first', bandwidth))\n            .on('contextmenu', (d,i) => this.select(c, i, 'second', bandwidth))\n            .on('dblclick',(d,i)=>this.select(c, i, 'first', bandwidth, 'certainty')); \n            \n        \n          barThresholds.append('rect')\n            .attr('class', (d,i)=>'bar-right-right-selection-1-'+c + '-' + i)\n            .attr('y', (d: string) => y(1))\n            .attr('x', barWidth / 2.4 - selectionBarWidth)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection1Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1px')\n            .attr(\"visibility\",  \"hidden\")\n            ; \n          \n\n          barThresholds.append('rect')\n            .attr('class', (d,i)=>'bar-right-right-selection-2-'+c + '-' + i)\n            .attr('y', (d: string) => y(1))\n            .attr('x', barWidth / 2.4)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection2Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '1px')\n            .attr(\"visibility\", \"hidden\")\n            ; \n        })\n      };\n\n      const drawLegend = () => {\n        svg_curves.selectAll(\"myCicle\")\n          .data(this.withinClassifierBandwidths)\n          .enter().append(\"circle\")\n          .attr(\"class\",(d,i)=>\"bandwidth-\"+ i)\n          .attr(\"cx\",this.width-10)\n          .attr(\"cy\",(d,i)=> this.height+(i + 2)*25)\n          .attr(\"r\", 6)\n          .style(\"fill\", (d,i)=>{\n            return this.streamData[i]['color']\n          })\n          .on('mouseenter',(d,i)=>{\n            this.bandwidthHover = ({bandwidth: 'bandwidth-'+i})})\n          .on('mouseleave', (d,i)=>this.bandwidthHover = ({bandwidth: 'bandwidth-'}))  \n          .on('click', (d, i) => this.currentRemovedbandwidth = d);\n          \n        svg_curves\n          .selectAll(\"myText\")\n          .data(this.withinClassifierBandwidths)\n          .enter().append(\"text\")\n          .attr(\"class\",(d,i)=>\"bandwidth-text-\"+ i)\n          .attr(\"x\", this.width-180)\n          .attr(\"y\", (d,i)=> this.height+(i + 2)*25) \n          .text((d,i)=>\"bandwidth: \"+ this.streamData[i]['left'] + '-' + this.streamData[i]['right'])\n          .style(\"font-size\", \"15px\")\n          .attr(\"alignment-baseline\",\"middle\")\n          .on('mouseenter',(d,i)=>this.bandwidthHover = ({bandwidth: 'bandwidth-'+i}))\n          .on('mouseleave', (d,i)=>this.bandwidthHover = ({bandwidth: 'bandwidth-'}))\n          .on('click', (d, i) => this.currentRemovedbandwidth = d);\n\n\n        \n      };\n      const drawTitles = () => {\n         svg_curves.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.4;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Threshold');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 1.5)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Fraction of instances');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 4)\n          .attr('y', 60+ this.width * 0.8)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationSelection == 'accuracy'? \"Accuracy \"\n          :this.evaluationSelection == 'precision'? \"Precision\"\n          :this.evaluationSelection == 'recall'? \"Recall \"\n          :this.evaluationSelection == 'mcc'? \"MCC \"\n          :\"F1\");\n\n        svg_curves.append('text')\n          .attr(\"class\",\"curve-title\")\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( 'Performance (' + selectedClassifier + ')');  \n      };\n      const drawAxes = () => {\n        const xTAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(xThreshold)\n              .tickSizeOuter(0),\n          )\n          .attr(\"class\",\"xAxis-curve\");\n\n        svg_curves.append('g')\n          .call(xTAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start')\n          .on('click', (d: string) => this.leftThreshold = parseFloat(d).toFixed(2))\n          .on('contextmenu', (d: string) => this.rightThreshold = parseFloat(d).toFixed(2));\n\n\n        const yUnceratiny = d3.scaleLinear()\n          .domain([0, 1])\n          .range([this.height, 0]);\n        const yTAxis = (g: any) => g\n          .call(d3.axisLeft(yUnceratiny)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis)\n          .attr('font-size', 20);\n\n        const yTAxis_acc = (g: any) => g\n          .attr('transform', `translate(${this.width*0.8}, ${0})`)\n          .call(d3.axisLeft(yThreshold)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis_acc)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', `translate(${20}, ${0})`)\n          .attr('text-anchor', 'start');\n\n        // add reset button\n        svg_curves.append('rect')\n          .attr('transform', `translate(${ -100}, ${this.height})`)\n          .attr(\"width\",60)\n          .attr(\"height\",30)\n          .attr(\"fill\",\"lightgrey\")\n          .on('click', (d: string) => this.clearThresholdBound());\n\n        svg_curves.append(\"text\")\n          .attr('transform', `translate(${ -70}, ${this.height + 15})`)\n          .attr(\"class\",\"legend-text-hist\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"reset\") \n          .on('click', (d: string) => this.clearThresholdBound());\n\n        // add remove all button\n        svg_curves.append('rect')\n          .attr('transform', `translate(${this.width -120}, ${this.height})`)\n          .attr(\"width\",120)\n          .attr(\"height\",30)\n          .attr(\"fill\",\"lightgrey\")\n          .on('click', (d: string) => this.clearBandwitdth());\n\n        svg_curves.append(\"text\")\n          .attr('transform', `translate(${ this.width-60}, ${this.height + 15})`)\n          .attr(\"class\",\"legend-text-hist\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"remove all\") \n          .on('click', (d: string) => this.clearBandwitdth());\n\n        // add default button\n        svg_curves.append('rect')\n          .attr('transform', `translate(${this.width -120}, ${this.height - 45})`)\n          .attr(\"width\",120)\n          .attr(\"height\",30)\n          .attr(\"fill\",\"lightgrey\")\n          .on('click', (d: string) => this.addDefault());\n\n        svg_curves.append(\"text\")\n          .attr('transform', `translate(${ this.width-60}, ${this.height -30})`)\n          .attr(\"class\",\"legend-text-hist\")\n          .attr('font-size', '24px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text( \"add default\") \n          .on('click', (d: string) => this.addDefault());\n\n\n      };\n\n      const yAxisMarkerLine = () => {\n        let svg = svg_curves\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-1')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none');\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-2')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none');  \n\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line-3')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr(\"opacity\", '0.5')\n          .attr('pointer-events', 'none'); \n      };\n\n      const yAxisMarkerText = () => {\n        let svg = svg_curves\n        svg.append('rect')\n          .attr('class', 'y-axis-marker-rect')\n          .attr('width', '400')\n          .attr('height', sortedBandWidth.length * 40)\n          .attr(\"x\",this.width-this.margin.right-400)\n          .attr(\"y\",-55)\n          .attr('fill', \"white\")\n          .attr('stroke',\"lightgrey\")\n          .attr('stroke-width',\"2px\")\n          .transition()\n          .duration(1000)\n          .attr('opacity', 0);  \n        \n        let i = 0\n        sortedBandWidth.forEach((bandwidth,c)=>{\n          svg.append('text')\n            .attr('class', 'y-axis-marker-text-1-'+c)\n            .attr('transform', 'translate(' +(this.width-this.margin.right- 400)+ ', '+(-50+i * 22)+')') \n            // .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'hanging')\n            .attr('font-size', 20)\n            .attr('fill', \"grey\")\n            .attr('pointer-events', 'none')\n            .attr(\"opacity\", 0);\n          \n          svg.append('text') \n            .attr('class', 'y-axis-marker-text-1-s1-'+c)\n            .attr('transform', 'translate(' +(this.width-this.margin.right-250)+', '+(-50+i * 22)+')') \n            .attr('alignment-baseline', 'hanging')\n            .attr('font-size', 20)\n            .attr('fill', \"steelblue\")\n            .attr('pointer-events', 'none')\n            .attr(\"opacity\", 0);;\n          \n          svg.append('text')\n            .attr('class', 'y-axis-marker-text-1-s2-'+c)\n            .attr('transform', 'translate(' +(this.width-this.margin.right-120)+ ', '+(-50+i * 22)+')') \n            .attr('alignment-baseline', 'hanging')\n            .attr('font-size', 20)\n            .attr('fill', \"red\")\n            .attr('pointer-events', 'none')\n            .attr(\"opacity\", 0);;\n          i ++;\n        })\n      };\n      \n\n      \n      drawAxes();\n      drawTitles();\n      drawLegend();\n      drawCurves();\n      drawMiddelLine();\n      yAxisMarkerText();\n      this.drawSelections();\n      \n    },\n    \n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const formatDecimal = d3.format(\".1f\")\n\n      const { first, second } = this.selections;\n      const yUnceratiny = d3.scaleLinear()\n          .domain([0, 1])\n          .range([this.height, 0]);\n\n      const curveOffset = (bandwidth:number, threshold:number,  selection: Set<string>) => {\n        const instances = this.streamData[bandwidth][\"middle_instances\"][this.thresholds[threshold]].instances\n        const overlappingInstances = intersection(instances, selection);\n        var totalInstances = 0 \n        totalInstances = this.instances.length\n        const fractionOfTotalInstances = overlappingInstances.size / totalInstances;\n        return yUnceratiny(fractionOfTotalInstances);\n      };\n\n      let withinClassifierBandwidths = []\n      this.withinClassifierBandwidths.forEach((i)=>{\n        withinClassifierBandwidths.push(i)\n      });\n      const sortedBandWidth = withinClassifierBandwidths.sort((n1,n2) => {\n          if ( (n1.right + n1.left) < (n2.right + n2.left)) {\n              return 1;\n          }\n\n          if ( (n1.right + n1.left) > (n2.right + n2.left)) {\n              return -1;\n          }\n          return 0;\n      });\n\n      sortedBandWidth.forEach((bandwidth, c)=>{\n        this.thresholds.forEach((t, i)=>{\n          if (!first){\n            chart.select('.bar-right-right-selection-1-'+c + '-' + i).attr(\"visibility\",  \"hidden\")\n          } else {\n            chart.select('.bar-right-right-selection-1-'+c + '-' + i)\n              .attr(\"height\",(d: string) =>this.height -  curveOffset(c,i,first.instances))\n              .attr(\"y\",(d: string) => curveOffset(c,i,first.instances))\n              .attr(\"visibility\",  \"visible\")\n          }\n          if (!second) {\n            chart.select('.bar-right-right-selection-2-'+c + '-' + i).attr(\"visibility\",  \"hidden\")\n          } else {\n            chart.select('.bar-right-right-selection-2-'+c + '-' + i)\n              .attr(\"height\",(d: string) => this.height - curveOffset(c,i,second.instances))\n              .attr(\"y\",(d: string) => curveOffset(c,i,second.instances))\n              .attr(\"visibility\",  \"visible\")\n          }\n        })\n      })\n    },\n    select(\n      bandwidth: number,\n      threshold:number,\n      whichOverlap: 'first' | 'second',\n      bandwidthRange:string,\n      type:string\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;;\n\n\n      let instances = this.streamData[bandwidth][\"middle_instances\"][this.thresholds[threshold]].instances\n      let leftEdge = (parseFloat(this.thresholds[threshold]) - parseFloat(bandwidthRange['left'])).toFixed(2)\n      let rightEdge = (parseFloat(this.thresholds[threshold]) + parseFloat(bandwidthRange['right'])).toFixed(2)\n\n      let description = `Instances which ${constraint.classifier} got uncertain under${leftEdge} and ${rightEdge}`;\n\n\n      if (type ==  'certainty') {\n        let tmp_instances = [...this.streamData[bandwidth][\"ci_tp_instances\"][this.thresholds[threshold]].instances];\n        [...this.streamData[bandwidth][\"ci_fp_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        [...this.streamData[bandwidth][\"ci_tn_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        [...this.streamData[bandwidth][\"ci_fn_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        instances = new Set(tmp_instances)\n        description = `Instances which ${constraint.classifier} got certain under${leftEdge} and ${rightEdge}`;\n        }\n\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BandwidthAssessment.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BandwidthAssessment.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BandwidthAssessment.vue?vue&type=template&id=5606a6ef&scoped=true&\"\nimport script from \"./BandwidthAssessment.vue?vue&type=script&lang=ts&\"\nexport * from \"./BandwidthAssessment.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BandwidthAssessment.vue?vue&type=style&index=0&id=5606a6ef&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5606a6ef\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Performance (Selection)\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Sort by accuracy\"},model:{value:(_vm.accuracySorting),callback:function ($$v) {_vm.accuracySorting=$$v},expression:\"accuracySorting\"}},[_c('v-radio',{attrs:{\"label\":\"ascending\",\"value\":\"ascending\"}}),_c('v-radio',{attrs:{\"label\":\"descending\",\"value\":\"descending\"}}),_c('v-radio',{attrs:{\"label\":\"alphabetical\",\"value\":\"alphabetical\"}}),_c('v-radio',{attrs:{\"label\":\"none\",\"value\":\"\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationSelection),callback:function ($$v) {_vm.evaluationSelection=$$v},expression:\"evaluationSelection\"}},[_c('v-radio',{attrs:{\"label\":\"accuracy\",\"value\":\"accuracy\"}}),_c('v-radio',{attrs:{\"id\":\"mcc\",\"label\":\"mcc\",\"value\":\"mcc\"}}),(_vm.classNumber > 2)?_c('v-radio',{attrs:{\"label\":\"microf1\",\"value\":\"microf1\"}}):_vm._e(),(_vm.classNumber > 2)?_c('v-radio',{attrs:{\"label\":\"macrof1\",\"value\":\"macrof1\"}}):_vm._e(),(_vm.classNumber <= 2)?_c('v-radio',{attrs:{\"label\":\"f1\",\"value\":\"f1\"}}):_vm._e(),(_vm.classNumber <= 2)?_c('v-radio',{attrs:{\"label\":\"precision\",\"value\":\"precision\"}}):_vm._e(),(_vm.classNumber <= 2)?_c('v-radio',{attrs:{\"label\":\"recall\",\"value\":\"recall\"}}):_vm._e(),(_vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"auc\",\"value\":\"auc\"}}):_vm._e(),(_vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"mse\",\"value\":\"mse\"}}):_vm._e()],1)],1)])],1)],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\nexport default Vue.extend({\n  name: 'Performance_Selection',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = '' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const evaluationSelection = 'accuracy' as 'mcc'| 'f1' | 'precision'| 'recall'| 'microf1' | 'macrof1'| 'accuracy'|'auc'|'mse';\n    const hover = {\n      type: '' as 'select1' | 'select2' | '',\n      classifier: '',\n    };\n    return {\n      accuracySorting,\n      evaluationSelection,\n      height,\n      hover,\n      margin,\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      classNumber:[...this.boxProps.classes].length\n    };\n  },\n  computed: {\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      return this.$store.state.addedThresholdClassifiers.map((c)=>c.name);\n    },\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    classifierThresholdDict():{} {\n      return this.$store.state.classifierThresholdDict\n    }, \n    continuousPredictionKeys():string[]{\n      if (this.$store.state.datasetType == \"continuous\") {\n        \n        var continuousPredictionKeys = []\n          this.predictionKeys.forEach((c)=>{\n            continuousPredictionKeys.push(c+\"_\"+this.classifierThresholdDict[c]/100)\n          })\n          this.addedThresholdClassifiers.forEach((c)=>{\n            continuousPredictionKeys.push(c)\n          })\n          return continuousPredictionKeys\n        \n      } else {\n        return this.predictionKeys;\n      }\n    },\n    continuousClassifierName():{} {\n      var continuousClassifierName = {}\n      this.classifiers.forEach((c)=>{\n        if (this.$store.state.datasetType == \"continuous\") {\n          continuousClassifierName[c] = c + \"_\" + this.classifierThresholdDict[c]/100\n        } else {\n          continuousClassifierName[c] = c;\n        }\n      })\n      return continuousClassifierName;\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    predictionKeys(): string[] {\n      \n      var scope = this.evaluationKeys\n      \n      const accuracyAscending = (c1: string, c2: string) => {\n        return this.predictions[c1].right.size - this.predictions[c2].right.size;\n      };\n      const accuracyDescending = (c1: string, c2: string) => {\n        return -accuracyAscending(c1, c2);\n      };\n\n      const predictionKeys = this.classifiers.slice();\n     \n      return predictionKeys;\n    },\n    evaluationKeys() : String {\n      var evaluationKeys = \"\"\n      switch (this.evaluationSelection) {\n        case 'accuracy' :\n          evaluationKeys = \"accuracy\"\n          break;\n        case 'f1' :\n          evaluationKeys = \"f1\"\n          break; \n        case 'microf1' :\n          evaluationKeys = \"microf1\"  \n          break;\n        case 'macrof1' :\n          evaluationKeys = \"macrof1\"\n          break;\n        case 'mcc' :\n          evaluationKeys = \"mcc\"\n          break;\n        case 'precision' :\n          evaluationKeys = \"precision\"\n          break;\n        case 'recall' :\n          evaluationKeys = \"recall\"\n          break;\n        case 'auc' :\n          evaluationKeys = \"auc\"\n          break;\n        case 'mse' :\n          evaluationKeys = \"mse\"\n          break;      \n      }\n      return evaluationKeys;\n    },\n    predictions(): {\n      [classifier: string]: {\n        threshold: number,\n        right: Set<string>,\n        wrong: Set<string>,\n        fp: Set<String>,\n        fn: Set<String>,\n        tp: Set<String>,\n        tn : Set<String>,\n        f1: number, \n        micro_f1: number,\n        macro_f1:number,\n        mcc: number,\n        precision: number,\n        recall: number,\n        accuracy:number,\n        auc:number,\n        mse:number\n      },\n    } {\n      const predictions: {\n        [classifier: string]: {\n          threshold: number,\n          right: Set<string>,\n          wrong: Set<string>,\n          fp: Set<String>,\n          fn: Set<String>,\n          tp: Set<String>,\n          tn : Set<String>,\n          f1: number, \n          micro_f1: number,\n          macro_f1:number,\n          mcc: number,\n          precision: number,\n          recall: number,\n          accuracy:number,\n          auc:number,\n          mse:number\n        },\n      } = {};\n\n      this.classifiers.forEach((c) => {\n        predictions[this.continuousClassifierName[c]] = {\n          threshold : Object.keys( this.classifierThresholdDict).includes(c)? this.classifierThresholdDict[c] : 0,\n          right: new Set(),\n          wrong: new Set(),\n          fp: new Set(),\n          fn: new Set(),\n          tp: new Set(),\n          tn: new Set(),\n          f1: 0,\n          micro_f1: 0,\n          macro_f1:0,\n          mcc: 0,\n          precision: 0,\n          recall: 0,\n          accuracy:0,\n          auc:0,\n          mse:0\n        };\n      });\n      this.addedThresholdClassifiers.forEach((c)=>{\n        predictions[c] = {\n          threshold: c.substring(c.length-4,c.legend),\n          right: new Set(),\n          wrong: new Set(),\n          fp: new Set(),\n          fn: new Set(),\n          tp: new Set(),\n          tn: new Set(),\n          f1: 0,\n          micro_f1: 0,\n          macro_f1:0,\n          mcc: 0,\n          precision: 0,\n          recall: 0,\n          accuracy:0,\n          auc:0,\n          mse:0\n        };\n      })    \n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        this.classifiers.forEach((c) => {\n          var cur_threshold = predictions[this.continuousClassifierName[c]].threshold / 100;\n          var pred_prob = i.continuous_predictions[c];\n          var actual = i.actual;\n          var pred = i.predictions[c];\n          if (actual == this.classes[1]) {\n            if (pred_prob > cur_threshold) {\n              predictions[this.continuousClassifierName[c]].tp.add(id);\n              predictions[this.continuousClassifierName[c]].right.add(id);\n            } else {\n              predictions[this.continuousClassifierName[c]].fn.add(id);\n              predictions[this.continuousClassifierName[c]].wrong.add(id);\n\n            }\n          } else {\n            if (pred_prob > cur_threshold) {\n              predictions[this.continuousClassifierName[c]].fp.add(id);\n              predictions[this.continuousClassifierName[c]].wrong.add(id);\n\n            } else {\n              predictions[this.continuousClassifierName[c]].tn.add(id);\n              predictions[this.continuousClassifierName[c]].right.add(id);\n\n            }\n          }\n        })\n        this.addedThresholdClassifiers.forEach((classifier) => {\n          let c = classifier.substring(4,classifier.length-5)\n          let classifiers = this.classifiers\n          if (classifiers.filter(e => e === c).length > 0){\n            var cur_threshold = parseFloat(classifier.substring(classifier.length-4,classifier.legend));\n            var pred_prob = i.continuous_predictions[c];\n            var actual = i.actual;\n            var pred = i.predictions[c];\n\n            if (actual == this.classes[1]) {\n              if (pred_prob > cur_threshold) {\n                predictions[classifier].tp.add(id);\n                predictions[classifier].right.add(id);\n              } else {\n                predictions[classifier].fn.add(id);\n                predictions[classifier].wrong.add(id);\n              }\n            } else {\n              if (pred_prob > cur_threshold) {\n                predictions[classifier].fp.add(id);\n                predictions[classifier].wrong.add(id);\n              } else {\n                predictions[classifier].tn.add(id);\n                predictions[classifier].right.add(id);\n\n              }\n            }\n          }\n        })\n      })\n\n      var total_data = {}\n\n      this.classifiers.forEach((c)=>{\n        var tp = predictions[this.continuousClassifierName[c]].tp.size\n        var fp = predictions[this.continuousClassifierName[c]].fp.size\n        var fn = predictions[this.continuousClassifierName[c]].fn.size\n        var tn = predictions[this.continuousClassifierName[c]].tn.size\n        predictions[this.continuousClassifierName[c]].precision = tp / (tp + fp);\n        predictions[this.continuousClassifierName[c]].recall = tp /  (tp + fn);\n        predictions[this.continuousClassifierName[c]].accuracy = predictions[this.continuousClassifierName[c]].right.size / (predictions[this.continuousClassifierName[c]].right.size + predictions[this.continuousClassifierName[c]].wrong.size)\n        predictions[this.continuousClassifierName[c]].f1 = 2 *  predictions[this.continuousClassifierName[c]].precision *  predictions[this.continuousClassifierName[c]].recall / ( predictions[this.continuousClassifierName[c]].precision +  predictions[this.continuousClassifierName[c]].recall)\n        if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n          predictions[this.continuousClassifierName[c]].mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n        } else {\n          predictions[this.continuousClassifierName[c]].mcc = 0\n        }\n      })\n\n      this.addedThresholdClassifiers.forEach((c)=>{\n        var tp = predictions[c].tp.size\n        var fp = predictions[c].fp.size\n        var fn = predictions[c].fn.size\n        var tn = predictions[c].tn.size\n        predictions[c].precision = tp / (tp + fp);\n        predictions[c].recall = tp /  (tp + fn);\n        predictions[c].accuracy = predictions[c].right.size / (predictions[c].right.size + predictions[c].wrong.size)\n        predictions[c].f1 = 2 *  predictions[c].precision *  predictions[c].recall / ( predictions[c].precision +  predictions[c].recall)\n        if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n          predictions[c].mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n        } else {\n          predictions[c].mcc = 0\n        }\n      })\n\n      if (this.classes.length > 2) {\n        this.classifiers.forEach((c)=>{\n            var total_tp = 0\n            var total_fp = 0\n            var total_tn = 0\n            var total_fn = 0\n\n            var total_f1 = 0\n            this.classes.forEach((j)=>{\n              var cur_tp = total_data[c][j].tp.length\n              var cur_fp = total_data[c][j].fp.length\n              var cur_tn = total_data[c][j].tn.length\n              var cur_fn = total_data[c][j].fn.length\n\n              total_tp +=  cur_tp\n              total_fp += cur_fp\n              total_tn +=  cur_tn\n              total_fn += cur_fn\n\n              var cur_pre = cur_tp / (cur_tp + cur_fp )\n              var cur_recall = cur_tp / (cur_tp + cur_fn )\n              total_f1 += ((cur_pre + cur_recall) == 0)? 0 : 2 * cur_pre * cur_recall / (cur_pre + cur_recall)\n            })\n            predictions[this.continuousClassifierName[c]].micro_f1 = total_f1 / this.classes.length\n            var total_recall= total_tp / (total_tp + total_fn)\n            var total_pre= total_tp / (total_tp + total_fp )\n            predictions[this.continuousClassifierName[c]].macro_f1 = (total_recall + total_pre ) == 0? 0 : total_recall * total_pre * 2 / (total_recall + total_pre )\n            if ((total_tp+total_fp)*(total_tp+total_fn)*(total_tn+total_fp)*(total_tn+total_fn) != 0) {\n              predictions[this.continuousClassifierName[c]].mcc = ((total_tp*total_tn-total_fp*total_fn) / Math.sqrt((total_tp+total_fp)*(total_tp+total_fn)*(total_tn+total_fp)*(total_tn+total_fn)))\n            } else {\n              predictions[this.continuousClassifierName[c]].mcc = 0\n            }\n        })\n      }\n      return predictions;\n    },\n\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.continuousPredictionKeys)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([this.evaluationKeys == \"mcc\"? -1 : 0 , \n                this.evaluationKeys == \"mse\"? this.instances.length : 1])\n        .range([this.height, 0]);\n      return y;\n    },\n  },\n  watch: {\n    addedThresholdClassifiers() {\n      this.drawInitial();\n    },\n    accuracySorting() {\n      this.drawInitial();\n    },\n    evaluationSelection() {\n      this.drawInitial();\n    },\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawSelections();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    clearHover() {\n      this.hover = ({type: '', classifier: ''});\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const select1Bars = chart.selectAll('.bar-right-selection-1');\n      const select2Bars = chart.selectAll('.bar-right-selection-2');\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line');\n      const yAxisMarkerTextRight = chart.select('.y-axis-marker-text-right');\n      const yAxisMarkerTextWrong = chart.select('.y-axis-marker-text-wrong');\n\n      let text = \"\"\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n\n      const { first, second } = this.selections;\n      const calculate_auc = (classifier:string, selection: Set<string>) => {\n        let coordinates = [];\n        let classifierValues = {}\n        let auc = 0;\n        const c = classifier\n        const formatDecimal = d3.format(\".2f\")\n        classifierValues[c] = []\n        selection.forEach((id)=>{\n          const i = instanceById(id);\n          if (!classifierValues[c].includes(i.continuous_predictions[c]))\n            classifierValues[c].push(i.continuous_predictions[c])\n        })\n        classifierValues[c].sort();\n        classifierValues[c].forEach((value)=>{\n          value = formatDecimal(value)\n          let tp = 0;\n          let fp = 0;\n          let fn = 0;\n          let tn = 0;\n          selection.forEach((id)=>{\n            const i = instanceById(id);\n            const predict = i.continuous_predictions[c] < parseFloat(value) ? this.classes[0] : this.classes[1];\n            if (i.actual == this.classes[1]) {\n              if (predict == i.actual) {\n                tp+=1;\n              } else {\n                fn+=1;\n              }\n            } else {\n              if (predict == i.actual) {\n                tn+=1;\n              } else {\n                fp+=1;\n              }\n            }\n          })\n          coordinates.push({\"x\":fp/(fp+tn), \"y\":tp/(tp+fn)});\n        })\n\n        let lastx = 0;\n        let lasty = 0;\n        coordinates.sort(function(x, y){\n          return d3.ascending(x.x, y.x);\n        })\n        coordinates.forEach((cor)=>{\n          auc += (((cor.y + lasty) * (cor.x - lastx) / 2))\n          lastx = cor.x;\n          lasty = cor.y;\n        })\n        return auc\n      }\n      const calculate_mse = (classifier:string, selection: Set<string>) => {\n        let mse = 0\n        selection.forEach((id) => {\n          const i = instanceById(id);\n          const actual = i.actual == this.classes[1] ? 1 : 0;\n          const c = classifier\n          mse += ((i.continuous_predictions[c] - actual) * (i.continuous_predictions[c] - actual))\n        })\n        return mse\n      }\n      const rightYOffset = (classifier:string, selection: Set<string>) => {\n\n        const tp = intersection(this.predictions[classifier].tp, selection).size;\n        const fp = intersection(this.predictions[classifier].fp, selection).size;\n        const fn = intersection(this.predictions[classifier].fn, selection).size;\n        const tn = intersection(this.predictions[classifier].tn, selection).size;\n        const right = intersection(this.predictions[classifier].right, selection).size;\n        const precison = tp / (tp + fp)\n        const recall = tp / (tp + fn)\n        if (this.evaluationKeys == \"accuracy\") {\n          text += right / selection.size\n          return this.y(right / selection.size);\n        } else if (this.evaluationKeys == \"mcc\") {\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            text += ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n            return this.y(((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn))));\n          } else {\n            text += 0\n            return this.y(0);\n          }\n        } else if (this.evaluationKeys == \"precision\") {\n          text += precison\n          return this.y(precison);\n        } else if (this.evaluationKeys == \"auc\") {\n          const auc = calculate_auc(classifier, selection)\n          text += auc\n          return this.y(auc);\n        } else if (this.evaluationKeys == \"mse\") {\n          const mse = calculate_mse(classifier, selection)\n          text += mse\n          return this.y(mse);\n        } else if (this.evaluationKeys == \"recall\") {\n          text += recall\n          return this.y(recall);\n        } else if (this.evaluationKeys == \"f1\") {\n          text += (2 * precison * recall / (precison + recall))\n          return this.y(2 * precison * recall / (precison + recall))\n        } else if (this.evaluationKeys == \"microf1\") {\n          text += (2 * precison * recall / (precison + recall))\n          return this.y(2 * precison * recall / (precison + recall))\n        } else if (this.evaluationKeys == \"macrof1\") {\n          text += (2 * precison * recall / (precison + recall))\n          return this.y(2 * precison * recall / (precison + recall))\n        }\n      };\n      const rightHeight = (classifier:string, selection: Set<string>) => {\n        return this.height - rightYOffset(classifier, selection);\n      };\n\n      \n\n      if (this.hover.type === 'select1') {\n        select1Bars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.rightHoverColor\n              : this.selection1Color);\n      } else {\n        select1Bars.attr('fill', this.selection1Color);\n      }\n\n      if (this.hover.type === 'select2') {\n        select2Bars.data(this.continuousPredictionKeys)\n          .attr('fill', (d: string) =>\n            d === this.hover.classifier\n              ? this.wrongHoverColor\n              : this.selection2Color);\n      } else {\n        select2Bars.attr('fill', this.selection2Color);\n      }\n\n      if (this.hover.type) {\n        if (this.hover.type == 'select1') {\n          yAxisMarkerLine\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', rightYOffset(this.hover.classifier, first.instances))\n            .attr('x2', this.width)\n            .attr('y2', rightYOffset(this.hover.classifier, first.instances))\n          yAxisMarkerTextRight\n            .transition()\n            .attr('transform', `translate(${40}, ${rightYOffset(this.hover.classifier, first.instances)})`)\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(parseFloat(text).toFixed(3)+\"\")\n        } else {\n          yAxisMarkerLine\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', rightYOffset(this.hover.classifier, second.instances))\n            .attr('x2', this.width)\n            .attr('y2', rightYOffset(this.hover.classifier, second.instances))\n          yAxisMarkerTextRight\n            .transition()\n            .attr('transform', `translate(${40}, ${rightYOffset(this.hover.classifier, second.instances)})`)\n            .duration(moveDuration)\n            .attr('fill-opacity', 1)\n            .text(parseFloat(text).toFixed(3)+\"\")\n        }\n        \n\n      } else {\n        yAxisMarkerLine\n          .transition()\n          .duration(disappearDuration)\n          .attr('stroke-opacity', 0);\n        yAxisMarkerTextRight\n          .transition()\n          .duration(disappearDuration)\n          .attr('fill-opacity', 0);\n      }\n    },\n    drawHoverExternal() {\n      // @ts-ignore\n      \n    },\n    drawInitial() {\n      console.log(this.predictions)\n      console.log(this.continuousPredictionKeys)\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const x = this.x;\n      const y = this.y;\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(this.evaluationKeys == 'mse'? d3.format('.0'): d3.format('.0%')),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom * 0.8;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Classifier');\n\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationKeys == \"accuracy\"? 'Accuracy value'\n            :this.evaluationKeys == \"mcc\"? 'MCC value'\n            :this.evaluationKeys == \"precision\"? \"Precision value\"\n            :this.evaluationKeys == \"auc\"? \"AUC value\"\n            :this.evaluationKeys == \"mse\"? \"MSE value\"\n            :this.evaluationKeys == \"recall\"? \"Recall value\"\n            :this.evaluationKeys == \"microf1\"? \"Micro F1 value\"\n            :this.evaluationKeys == \"macrof1\"? \"Macro F1 value\":'F1 value');\n      };\n      drawTitles();\n\n      const drawLegend = () => {\n        const width = this.width / 4;\n        const height = this.margin.top / 2;\n\n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.margin.left + this.width * 3 / 4},\n              ${height / 3})`);\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.selection1Color)\n          \n\n          \n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.selection2Color)\n\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(\"Selection1\")\n          \n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(\"Selection2\");\n\n      };\n      drawLegend();\n\n      const drawBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.continuousPredictionKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', (d: string) => `translate(${x(d)}, ${0})`);\n\n\n        const { first, second } = this.selections;\n\n        \n\n        const barWidth = x.bandwidth();\n\n        const selections = () => {\n            \n          const selectionBarWidth = x.bandwidth() / 8;\n          barCells.append('rect')\n            .attr('class', 'bar-right-selection-1')\n            .attr('x', 0)\n            .attr('width', barWidth / 2)\n            .attr('fill', this.selection1Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .on('mouseenter', (d: string) => {\n              this.hover = ({type: 'select1', classifier: d})})\n            .on('mouseleave', this.clearHover) ;\n          barCells.append('rect')\n            .attr('class', 'bar-right-selection-2')\n            .attr('x', barWidth / 2)\n            .attr('width', barWidth / 2)\n            .attr('fill', this.selection2Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'select2', classifier: d}))\n            .on('mouseleave', this.clearHover) ;\n\n\n\n      \n          barCells.append(\"circle\")   \n            .attr('class', 'circle-right-selection-1')\n            .attr('cx',  barWidth / 4)\n            .attr('cy', this.height-15)\n            .attr('r','15px')\n            .style('fill', this.selection1Color)\n            .attr('stroke', 'grey')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'select1', classifier: d}))\n            .on('mouseleave', this.clearHover)\n           \n           barCells.append(\"circle\")   \n            .attr('class', 'circle-right-selection-2')\n            .attr('cy', this.height-15)\n            .attr('cx', barWidth * 3 / 4)\n            .attr('r','15px')\n            .style('fill', this.selection2Color)\n            .attr('stroke', 'grey')\n            .on('mouseenter', (d: string) => this.hover = ({type: 'select2', classifier: d}))\n            .on('mouseleave', this.clearHover)\n                      \n        };\n        selections();\n      };\n\n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.rightHoverColor)\n          .attr('pointer-events', 'none');\n        \n      };\n\n      drawBars();\n      yAxisMarkerLine();\n      yAxisMarkerText();\n\n      this.drawSelections();\n      this.drawHover();\n      this.drawHoverExternal();\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const barRightSelection1 = chart.selectAll('.bar-right-selection-1');\n      const barRightSelection2 = chart.selectAll('.bar-right-selection-2');\n\n      const circleRightSelection1 = chart.selectAll('.circle-right-selection-1');\n      const circleRightSelection2 = chart.selectAll('.circle-right-selection-2');\n     \n      const { first, second } = this.selections;\n\n      const rightYOffset = (classifier:string, selection: Set<string>) => {\n\n        const tp = intersection(this.predictions[classifier].tp, selection).size;\n        const fp = intersection(this.predictions[classifier].fp, selection).size;\n        const fn = intersection(this.predictions[classifier].fn, selection).size;\n        const tn = intersection(this.predictions[classifier].tn, selection).size;\n        const right = intersection(this.predictions[classifier].right, selection).size;\n        const precison = tp / (tp + fp)\n        const recall = tp / (tp + fn)\n        if (this.evaluationKeys == \"accuracy\") {\n          return this.y(right / selection.size);\n        } else if (this.evaluationKeys == \"mcc\") {\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            return this.y(((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn))));\n          } else {\n            return this.y(0);\n          }\n        } else if (this.evaluationKeys == \"precision\") {\n          return this.y(precison);\n        } else if (this.evaluationKeys == \"auc\") {\n          const auc = calculate_auc(classifier, selection)\n          return this.y(auc);\n        } else if (this.evaluationKeys == \"mse\") {\n          const mse = calculate_mse(classifier, selection)\n          return this.y(mse);\n        } else if (this.evaluationKeys == \"recall\") {\n          return this.y(recall);\n        } else if (this.evaluationKeys == \"f1\") {\n          return this.y(2 * precison * recall / (precison + recall))\n        } else if (this.evaluationKeys == \"microf1\") {\n          return this.y(2 * precison * recall / (precison + recall))\n        } else if (this.evaluationKeys == \"macrof1\") {\n          return this.y(2 * precison * recall / (precison + recall))\n        }\n      };\n      const rightHeight = (classifier:string, selection: Set<string>) => {\n        return this.height - rightYOffset(classifier, selection);\n      };\n\n      const calculate_mse = (classifier:string, selection: Set<string>) => {\n        let mse = 0\n        selection.forEach((id) => {\n          const i = instanceById(id);\n          const actual = i.actual == this.classes[1] ? 1 : 0;\n          const c = classifier\n          mse += ((i.continuous_predictions[c] - actual) * (i.continuous_predictions[c] - actual))\n        })\n        return mse\n      }\n\n      const calculate_auc = (classifier:string, selection: Set<string>) => {\n        let coordinates = [];\n        let classifierValues = {}\n        let auc = 0;\n        const c = classifier\n        const formatDecimal = d3.format(\".2f\")\n        classifierValues[c] = []\n        selection.forEach((id)=>{\n          const i = instanceById(id);\n          if (!classifierValues[c].includes(i.continuous_predictions[c]))\n            classifierValues[c].push(i.continuous_predictions[c])\n        })\n        classifierValues[c].sort();\n        classifierValues[c].forEach((value)=>{\n          value = formatDecimal(value)\n          let tp = 0;\n          let fp = 0;\n          let fn = 0;\n          let tn = 0;\n          selection.forEach((id)=>{\n            const i = instanceById(id);\n            const predict = i.continuous_predictions[c] < parseFloat(value) ? this.classes[0] : this.classes[1];\n            if (i.actual == this.classes[1]) {\n              if (predict == i.actual) {\n                tp+=1;\n              } else {\n                fn+=1;\n              }\n            } else {\n              if (predict == i.actual) {\n                tn+=1;\n              } else {\n                fp+=1;\n              }\n            }\n          })\n          coordinates.push({\"x\":fp/(fp+tn), \"y\":tp/(tp+fn)});\n        })\n\n        let lastx = 0;\n        let lasty = 0;\n        coordinates.sort(function(x, y){\n          return d3.ascending(x.x, y.x);\n        })\n        coordinates.forEach((cor)=>{\n          auc += (((cor.y + lasty) * (cor.x - lastx) / 2))\n          lastx = cor.x;\n          lasty = cor.y;\n        })\n        return auc\n      }\n\n      \n      if (!first) {\n        barRightSelection1.attr('height', '0');\n\n        circleRightSelection1.attr(\"visibility\",\"hidden\");\n      } else {\n        barRightSelection1\n          .data(this.continuousPredictionKeys)\n          .attr('y', (d: string) => rightYOffset(d, first.instances))\n          .attr('height', (d: string) => rightHeight(d, first.instances))\n          ;\n        \n        circleRightSelection1.attr(\"visibility\", (d:string) => {\n          if(!isNaN((rightHeight(d, first.instances) ))) {\n              return rightHeight(d, first.instances) == 0 ?\"hidden\": \n            rightHeight(d, first.instances) / this.height>0.05? \"hidden\" \n            :\"visible\"\n          } else return \"hidden\"\n        \n        })\n      }\n\n      if (!second) {\n        barRightSelection2.attr('height', '0');\n        circleRightSelection2.attr(\"visibility\",\"hidden\");\n      } else {\n        barRightSelection2\n          .data(this.continuousPredictionKeys)\n          .attr('y', (d: string) => rightYOffset(d, second.instances))\n          .attr('height', (d: string) => rightHeight(d, second.instances))\n          ;\n       \n        circleRightSelection2.attr(\"visibility\", (d:string) => {\n          if(!isNaN((rightHeight(d, first.instances) ))){\n              return rightHeight(d, second.instances) == 0 ?\"hidden\": \n            rightHeight(d, second.instances) / this.height>0.05? \"hidden\" \n            :\"visible\"\n          } else {\n            return \"hidden\"\n          }\n          \n        })\n      }\n    },\n    select(\n      classifier: string,\n      type: 'right' | 'wrong',\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n      constraint.negation = (type === 'wrong');\n\n      const instances = this.predictions[classifier][type];\n      const description = `Instances which ${classifier} got ${type}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionClassifierPerformance.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectionClassifierPerformance.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectionClassifierPerformance.vue?vue&type=template&id=2fe25134&scoped=true&\"\nimport script from \"./SelectionClassifierPerformance.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectionClassifierPerformance.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SelectionClassifierPerformance.vue?vue&type=style&index=0&id=2fe25134&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2fe25134\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Performance (Per-Class)\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Sort by accuracy\"},model:{value:(_vm.accuracySorting),callback:function ($$v) {_vm.accuracySorting=$$v},expression:\"accuracySorting\"}},[_c('v-radio',{attrs:{\"label\":\"ascending\",\"value\":\"ascending\"}}),_c('v-radio',{attrs:{\"label\":\"descending\",\"value\":\"descending\"}}),_c('v-radio',{attrs:{\"label\":\"alphabetical\",\"value\":\"alphabetical\"}}),_c('v-radio',{attrs:{\"label\":\"none\",\"value\":\"\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationSelection),callback:function ($$v) {_vm.evaluationSelection=$$v},expression:\"evaluationSelection\"}},[_c('v-radio',{attrs:{\"label\":\"accuracy\",\"value\":\"accuracy\"}}),_c('v-radio',{attrs:{\"label\":\"precision\",\"value\":\"precision\"}}),_c('v-radio',{attrs:{\"label\":\"recall\",\"value\":\"recall\"}}),_c('v-radio',{attrs:{\"label\":\"f1\",\"value\":\"f1\"}}),_c('v-radio',{attrs:{\"label\":\"mcc\",\"value\":\"mcc\"}})],1)],1)])],1)],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nexport default Vue.extend({\n  name: 'Performance_Per_Class',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = '' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const evaluationSelection = 'accuracy' as 'accuracy' | 'precision' | 'recall'\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n      classes: '',\n      value: 0,\n    };\n    return {\n      accuracySorting,\n      evaluationSelection,\n      height,\n      hover,\n      margin,\n      panel: [],\n      bar1Color: '#d1e5f0',\n      bar1HoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      bar2Color: '#fddbc7',\n      bar2HoverColor: '#d6604d',\n    };\n  },\n  computed: {\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    predictionKeys(): string[] {\n      const accuracyAscending = (c1: string, c2: string) => {\n        \n        var rightsize1 = 0;\n        var rightsize2 = 0;\n        \n        for (var i in this.predictions[c1]) {\n          rightsize1 += this.predictions[c1][i].right.size;\n        }\n        for (var i in this.predictions[c2]) {\n          rightsize2 += this.predictions[c2][i].right.size;\n        }\n        return rightsize1 - rightsize2;\n      };\n      const accuracyDescending = (c1: string, c2: string) => {\n        return -accuracyAscending(c1, c2);\n      };\n      const predictionKeys = this.classifiers.slice();\n      switch (this.accuracySorting) {\n        case 'ascending':\n          predictionKeys.sort(accuracyAscending);\n          break;\n        case 'descending':\n          predictionKeys.sort(accuracyDescending);\n          break;\n        case 'alphabetical':\n          predictionKeys.sort();\n          break;\n      }\n      return predictionKeys;\n    },\n    evaluationKeys(): string {\n      var evaluationKeys = \"\"\n      switch (this.evaluationSelection) {\n        case 'precision':\n          evaluationKeys = \"precision\";\n          break;\n        case 'recall':\n          evaluationKeys = \"recall\";\n          break;\n        case 'accuracy':\n          evaluationKeys = \"accuracy\";\n          break;\n        case 'f1':\n          evaluationKeys = \"f1\";\n          break; \n        case 'mcc':\n          evaluationKeys = \"mcc\";\n          break;    \n      }\n      return evaluationKeys;\n    },\n    predictions(): {\n      \n      [classifier: string]: {\n        [classes : string]: {\n          class: String,\n          right: Set<string>,\n          wrong: Set<string>,\n          fp: Set<String>,\n          fn: Set<String>,\n          tp: Set<String>,\n          tn: Set<String>,\n          pred: Set<String>,\n          actual: Set<String>,\n        },\n      },\n    } {\n\n      const predictions: {\n        [classifier: string]: {\n          [classes: string] :{\n            class: String,\n            right: Set<string>,\n            wrong: Set<string>,\n            fp: Set<String>,\n            fn: Set<String>,\n            tp: Set<String>,\n            tn: Set<String>,\n            pred: Set<String>,\n            actual: Set<String>,\n            },\n        },\n      } = {};\n\n      this.classifiers.forEach((c) => {\n          predictions[c] = {}\n          this.classes.forEach((d) => {\n            predictions[c][d] = {\n            class: new String,\n            right: new Set(),\n            wrong: new Set(),\n            fp: new Set(),\n            fn: new Set(),\n            tp: new Set(),\n            tn: new Set(),\n            pred: new Set(),\n            actual: new Set(),\n            }\n          })\n        });\n\n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        this.classifiers.forEach((c) => {\n          var curAcClass = i.actual;\n          var curPredClass = i.predictions[c]\n          var curClassifier = c;\n          predictions[curClassifier][curPredClass].pred.add(id);\n          predictions[curClassifier][curAcClass].actual.add(id);\n          if (i.predictions[c] == i.actual) {\n            predictions[c][curAcClass].right.add(id);\n            predictions[curClassifier][curAcClass].tp.add(id);\n            this.classes.forEach((j)=>{\n              if (j != curPredClass){\n                predictions[curClassifier][j].tn.add(id)\n              } \n            })\n          } else {\n            predictions[c][curAcClass].wrong.add(id);\n            predictions[c][curPredClass].fp.add(id)\n            predictions[curClassifier][curAcClass].fn.add(id);\n          }\n        });\n      });\n      console.log(predictions)\n      return predictions;\n    },\n    curData() : void[] {\n      const x0Name = this.predictionKeys;\n      const x1Name = this.classes;  \n      const curData = []\n      x0Name.forEach(_x0n => {\n        const _data = [];\n        x1Name.forEach(_x1n => {\n          let pre = this.predictions[_x0n][_x1n].tp.size / (this.predictions[_x0n][_x1n].tp.size + this.predictions[_x0n][_x1n].fp.size )\n          let rec = this.predictions[_x0n][_x1n].tp.size / (this.predictions[_x0n][_x1n].tp.size + this.predictions[_x0n][_x1n].fn.size )\n          if (this.evaluationKeys == \"precision\") {\n             _data.push(pre)\n          } else if (this.evaluationKeys == \"recall\") {\n             _data.push(rec)\n          } else if (this.evaluationKeys == \"f1\") {\n            let f1 =  (pre + rec) == 0 ? 0 : 2 * pre * rec / (pre + rec)\n             _data.push(f1)\n          } else if (this.evaluationKeys == \"mcc\") {\n            var tp = this.predictions[_x0n][_x1n].tp.size;\n            var fp = this.predictions[_x0n][_x1n].fp.size \n            var fn = this.predictions[_x0n][_x1n].fn.size;\n            var tn = this.predictions[_x0n][_x1n].tn.size \n            if ((Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn))) == 0){\n               let mcc =  0\n               if ((tp * tn - tp * fn) < 0){\n                  mcc = -1;\n                } else {\n                  mcc = 1;\n                }\n                _data.push(mcc)\n            } else {\n              let mcc = (tp * tn - tp * fn) / (Math.sqrt((tp + fp) * (tp + fn) * (tn + fp) * (tn + fn)));\n              _data.push(mcc)\n            }\n          } else {\n            let  acc = this.predictions[_x0n][_x1n].right.size / (this.predictions[_x0n][_x1n].right.size + this.predictions[_x0n][_x1n].wrong.size)\n            _data.push(acc)\n          }\n        });\n        curData.push(_data);\n      })\n      return curData\n    },\n    curData_reverse() : string[] {\n      const x0Name = this.predictionKeys;\n      const x1Name = this.classes;  \n      const curData_reverse = []\n      this.curData.forEach((c) => {\n        const _data_reverse = [];\n        c.forEach((d)=>{\n          _data_reverse.push(1-d)\n        })\n        curData_reverse.push(_data_reverse)\n      })\n      console.log(curData_reverse)\n      return curData_reverse\n    },\n    hoverData() : string[] {\n      const hoverdata = []\n        for (var i in this.predictionKeys) {\n          for (var j in this.classes) {\n            let cur_dict = {\"classifier\":this.predictionKeys[i],\"class\":this.classes[j],\"value\":this.curData[i][j]}\n            hoverdata.push(cur_dict)\n          }\n        }\n        return hoverdata\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.predictionKeys)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0.1);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([this.evaluationKeys == \"mcc\"? -1 : 0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n  },\n  watch: {\n    accuracySorting() {\n      this.drawInitial();\n    },\n    evaluationSelection() {\n      this.drawInitial();\n    },\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawSelections();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    clearHover() {\n      this.hover = ({type: '', classifier: '', classes:'', value:0});\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const rightBars = chart.selectAll('.bar-right');\n      const wrongBars = chart.selectAll('.bar-wrong');\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line');\n      const yAxisMarkerTextRight = chart.select('.y-axis-marker-text-right');\n      const yAxisMarkerTextWrong = chart.select('.y-axis-marker-text-wrong');\n      const selectedBarText = chart.select('.bar-selectedBarText');\n\n      if (this.hover.classifier && this.hover.classes) {\n        selectedBarText.text(this.hover.classifier+\": \"+this.hover.classes)\n        .style(\"visibility\",\"visible\");  \n      }     \n      \n      if (this.hover.type === 'right') {\n        rightBars.data(this.hoverData)\n          .attr('fill', (d: string) =>\n            d[\"classifier\"] === this.hover.classifier && d[\"class\"] === this.hover.classes\n              ? this.bar1HoverColor\n              : this.bar1Color);\n      } else {\n        rightBars.attr('fill', this.bar1Color);\n      }\n      if (this.hover.type === 'wrong') {\n        wrongBars.data(this.hoverData)\n          .attr('fill', (d: string) =>\n            d[\"classifier\"]  === this.hover.classifier && d[\"class\"] === this.hover.classes\n              ? this.bar2HoverColor\n              : this.bar2Color);\n      } else {\n        wrongBars.attr('fill', this.bar2Color);\n      }\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n      if (this.hover.type) {\n        yAxisMarkerLine\n        .transition()\n        .duration(moveDuration)\n        .attr('stroke-opacity', 1)\n        .attr('y1',  (d: string) => this.y(this.hover.value))\n        .attr('x2', this.width)\n        .attr('y2', (d: string) =>  this.y(this.hover.value));\n      yAxisMarkerTextRight\n        .transition()\n        .duration(moveDuration)\n        .attr('fill-opacity', 1)\n        .attr('transform', `translate(\n          ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n          ${this.y( this.hover.value) + 10})`)\n        .text(`${( this.hover.value * 100).toFixed(1)}%`);\n      yAxisMarkerTextWrong\n        .transition()\n        .duration(moveDuration)\n        .attr('fill-opacity', 1)\n        .attr('transform', `translate(\n          ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n          ${this.y( this.hover.value) - 10})`)\n        .text(`${((1- this.hover.value) * 100).toFixed(1)}%`)\n        .style(\"visibility\", this.evaluationKeys == \"f1\" || this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\")\n    } else {\n      yAxisMarkerLine\n        .transition()\n        .duration(disappearDuration)\n        .attr('stroke-opacity', 0);\n      yAxisMarkerTextRight\n        .transition()\n        .duration(disappearDuration)\n        .attr('fill-opacity', 0);\n      yAxisMarkerTextWrong\n        .transition()\n        .duration(disappearDuration)\n        .attr('fill-opacity', 0)\n        .style(\"visibility\", this.evaluationKeys == \"f1\"|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\")\n\n    } \n      \n      \n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('width', this.width)\n          .attr('height', this.height)\n          .attr('fill', 'teal');\n      };\n      \n      const x = this.x;\n      const y = this.y;\n      const z = d3.scaleOrdinal()\n        .range([\"#d1e5f0\", \"#fddbc7\"]);\n      const x0Name = this.predictionKeys;\n      const x1Name = this.classes;  \n      const curData = []\n      const curData_reverse = []\n      for (var i in this.curData) {\n        curData.push(this.curData[i])\n      }\n      for (var i in this.curData_reverse) {\n        curData_reverse.push(this.curData_reverse[i])\n      }\n      const x0 = d3.scaleBand()\n        .domain(x0Name)\n        .range([0, this.width])\n        .paddingInner(0.1);\n      const x1 = d3.scaleBand()\n        .domain(x1Name)\n        .rangeRound([0, x0.bandwidth()])\n        .padding(0.05);\n\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x0)\n              .tickSizeOuter(0),\n          );\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Classifier');\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text(this.evaluationKeys == 'f1'?'F1 Vale': this.evaluationKeys == \"mcc\"? 'MCC value':'Fraction of instances');\n      };\n      drawTitles();\n      \n      const drawLegend = () => {\n        const width = this.width / 4;\n        const height = this.margin.top / 2;\n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.margin.left + this.width * 3 / 4},\n              ${height / 3})`);\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.bar2Color)\n          .style(\"visibility\", this.evaluationKeys == 'f1'|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\");\n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.bar1Color)\n          .style(\"visibility\", this.evaluationKeys == 'f1'|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\");\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(this.evaluationKeys == 'accuracy'? 'misclassified'\n            : this.evaluationKeys == 'precision'? 'FP' :'FN')\n          .style(\"visibility\", this.evaluationKeys == 'f1'|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\");  \n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(this.evaluationKeys == 'accuracy'? 'correctly classified'\n            : this.evaluationKeys == 'precision'? 'TP' : 'TP')\n          .style(\"visibility\", this.evaluationKeys == 'f1'|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\");  \n\n\n        const selectedBarText = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'selectedBarText')\n            .attr('transform', `translate(\n              ${this.margin.left },\n              ${height / 3})`);  \n        selectedBarText.append('text')\n          .attr('class', 'bar-selectedBarText')\n          .attr('transform', `translate(${0}, ${height * 1 / 4})`)\n          .attr('font-size', '16px')\n          .text('name selected Bar')\n          .style(\"visibility\", \"hidden\")//:\"visible\");        \n      };\n      drawLegend();\n\n      const drawBars = () => {\n        const barWidth = x.bandwidth();\n        const barMultitp = svg.append('g')\n            .selectAll('g')\n            .data(curData)\n            .enter().append('g')\n            .attr('transform', (d, i) => `translate(${x0(x0Name[i])},0)`)\n            .selectAll('rect')\n            .data(d => d)\n            .enter();\n       \n        const multibars = barMultitp.append('rect')\n            .attr('class', 'bar-right')\n            .attr('x', (d, i) => x1(x1Name[i]))\n            .attr('y', d => y(d))\n            .attr('width', x1.bandwidth())\n            .attr('height', d => this.height - y(d))\n            .attr('fill', \"#d1e5f0\")\n            .data(this.hoverData)\n            .on('mouseenter', (d) => this.hover = ({type: 'right', classifier: d[\"classifier\"], classes:d[\"class\"], value:d[\"value\"]}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d) => this.select(d[\"classifier\"], 'right', 'first',d[\"class\"]))\n            .on('contextmenu', (d) => this.select(d[\"classifier\"], 'right', 'second',d[\"class\"]))    \n        barMultitp.append(\"circle\") \n            .attr('class', 'bar-right-circle')\n            .attr('cx', (d, i) => (x1(x1Name[i])+barWidth/4))\n            .attr('cy', d => this.height-10)\n            .attr('r','10px')\n            .style('fill', \"#d1e5f0\")\n            .attr('stroke', 'grey')\n            .attr(\"visibility\", (d) => {\n              console.log(d)\n              return d == 0 ?\"hidden\": d>0.2? \"hidden\" :\"visible\"\n              })\n            .data(this.hoverData)\n            .on('mouseenter', (d) => this.hover = ({type: 'right', classifier: d[\"classifier\"], classes:d[\"class\"], value:d[\"value\"]}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d) => this.select(d[\"classifier\"], 'right', 'first',d[\"class\"]))\n            .on('contextmenu', (d) => this.select(d[\"classifier\"], 'right', 'second',d[\"class\"]))\n        const barMultitpRe = svg.append('g')\n                .selectAll('g')\n                .data(curData_reverse)\n                .enter().append('g')\n                .attr('transform', (d, i) => `translate(${x0(x0Name[i])},0)`)\n                .selectAll('rect')\n                .data(d => d)\n                .enter()\n        const multirebars =  barMultitpRe.append('rect')\n            .attr('class', 'bar-wrong')\n            .attr('x', (d, i) => x1(x1Name[i]))\n            .attr('y', d => y(1))\n            .attr('width', x1.bandwidth())\n            .attr('height', d => this.height - y(d))\n            .attr('fill', \"#fddbc7\")\n            //.attr(\"visibility\", this.evaluationKeys == \"accuracy\"?\"hidden\":\"visible\")\n            .data(this.hoverData)\n            .on('mouseenter', (d) => this.hover = ({type: 'wrong', classifier: d[\"classifier\"], classes:d[\"class\"], value:d[\"value\"]}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d) => this.select(d[\"classifier\"], 'wrong', 'first',d[\"class\"]))\n            .on('contextmenu', (d) => this.select(d[\"classifier\"], 'wrong', 'second',d[\"class\"]))\n            .style(\"visibility\", this.evaluationKeys == \"f1\"|| this.evaluationKeys == \"mcc\"?\"hidden\":\"visible\")\n        var bar2_circle = barMultitpRe.append(\"circle\")   \n            .attr('cx', (d, i) => (x1(x1Name[i])+barWidth/4))\n            .attr('cy', d => y(1)+10)\n            .attr('r','10px')\n            .style('fill', '#fddbc7')\n            .attr('stroke', 'grey')\n            .attr(\"visibility\", (d) => {\n              if (this.evaluationKeys == \"f1\"|| this.evaluationKeys == \"mcc\") return \"hidden\"\n              console.log(d)\n              return d == 0?\"hidden\":d >0.2?\"hidden\":\"visible\"\n              })\n            .data(this.hoverData)\n            .on('mouseenter', (d) => this.hover = ({type: 'wrong', classifier: d[\"classifier\"], classes:d[\"class\"], value:d[\"value\"]}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d) => this.select(d[\"classifier\"], 'wrong', 'first',d[\"class\"]))\n\n        const selections = () => {\n          console.log(\"call sleections\")\n          const selectionBarWidth = x.bandwidth() / 8;\n          //barMultitp\n           multibars.append('rect')\n            .attr('class', 'bar-right-selection-1')\n            .attr('x', barWidth / 2 - selectionBarWidth)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection1Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .attr('pointer-events', 'none');\n          //barMultitp\n          multibars.append('rect')\n            .attr('class', 'bar-right-selection-2')\n            .attr('x', barWidth / 2)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection2Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .attr('pointer-events', 'none');\n          //barMultitpRe\n          multirebars.append('rect')\n            .attr('class', 'bar-wrong-selection-1')\n            .attr('x', barWidth / 2 - selectionBarWidth)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection1Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .attr('pointer-events', 'none');\n          //barMultitpRe\n          multirebars.append('rect')\n            .attr('class', 'bar-wrong-selection-2')\n            .attr('x', barWidth / 2)\n            .attr('width', selectionBarWidth)\n            .attr('fill', this.selection2Color)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '2px')\n            .attr('pointer-events', 'none');\n\n          //barMultitpRe\n          multibars.append(\"circle\")   \n            .attr('class', 'circle-right-selection-1')\n            .attr('cx', barWidth / 2 - selectionBarWidth)\n            .attr('r','10px')\n            .style('fill', this.selection1Color)\n            .attr('stroke', 'grey')\n          //barMultitpRe\n          multibars.append(\"circle\")   \n            .attr('class', 'circle-right-selection-2')\n            .attr('cx', barWidth / 2 )\n            .attr('r','10px')\n            .style('fill', this.selection2Color)\n            .attr('stroke', 'grey')\n          //barMultitpRe\n          multirebars.append(\"circle\")   \n            .attr('class', 'circle-wrong-selection-1')\n            .attr('cx', barWidth / 2 - selectionBarWidth)\n            .attr('r','10px')\n            .style('fill', this.selection1Color)\n            .attr('stroke', 'grey')\n          //barMultitpRe\n          multirebars.append(\"circle\")   \n            .attr('class', 'circle-wrong-selection-2')\n            .attr('cx', barWidth / 2 )\n            .attr('r','10px')\n            .style('fill', this.selection2Color)  \n            .attr('stroke', 'grey')\n        };\n        selections();\n      };\n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'black')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n      };\n      const yAxisMarkerText = () => {\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-right')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .attr('font-size', 20)\n          .attr('fill', this.bar1HoverColor)\n          .attr('pointer-events', 'none');\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text-wrong')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 20)\n          .attr('fill', this.bar2HoverColor)\n          .attr('pointer-events', 'none');\n      };\n      drawBars();\n      yAxisMarkerLine();\n      yAxisMarkerText();\n      this.drawHover();\n      this.drawSelections();\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const barRightSelection1 = chart.selectAll('.bar-right-selection-1');\n      const barRightSelection2 = chart.selectAll('.bar-right-selection-2');\n      const barWrongSelection1 = chart.selectAll('.bar-wrong-selection-1');\n      const barWrongSelection2 = chart.selectAll('.bar-wrong-selection-2');\n\n      const circleRightSelection1 = chart.selectAll('.circle-right-selection-1');\n      const circleRightSelection2 = chart.selectAll('.circle-right-selection-2');\n      const circleWrongSelection1 = chart.selectAll('.circle-wrong-selection-1');\n      const circleWrongSelection2 = chart.selectAll('.circle-wrong-selection-2');\n\n      const { first, second } = this.selections;\n      const rightYOffset = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size / this.instances.length;\n        return this.y(fractionOfTotalInstances);\n      };\n      const rightHeight = (instances: Set<string>, selection: Set<string>) => {\n        return this.height - rightYOffset(instances, selection);\n      };\n      const wrongHeight = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size / this.instances.length;\n        return this.height - this.y(fractionOfTotalInstances);\n      };\n      if (!first) {\n        barRightSelection1.attr('height', '0');\n        barWrongSelection1.attr('height', '0');\n\n        circleRightSelection1.attr(\"visibility\", \"hidden\")\n        circleWrongSelection1.attr(\"visibility\", \"hidden\")\n      } else {\n        barRightSelection1\n          .data(this.hoverData)\n          .attr('y', (d: number) => rightYOffset(this.predictions[d[\"classifier\"]][d[\"class\"]].right, first.instances))\n          .attr('height', (d: number) => rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, first.instances));\n        barWrongSelection1\n          .data(this.hoverData)\n          // .attr('y', (d: number) => wrongYOffset(this.predictions[d].wrong, first.instances))\n          .attr('height', (d: number) => wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, first.instances));\n\n        circleRightSelection1\n          .data(this.hoverData)\n          .attr('cy',this.height-10)\n          .attr(\"visibility\", (d:number)=>{\n            return rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, first.instances) == 0? \"hidden\"\n            : rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, first.instances) / this.height> 0.1? \"hidden\":\"visible\"\n          })\n        circleWrongSelection1\n          .attr('cy',10)\n          .data(this.hoverData)\n          .attr(\"visibility\", (d:number)=>{\n            console.log(\"  wrong height\",wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, first.instances)/ this.height)\n            return wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, first.instances) == 0? \"hidden\"\n            :wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, first.instances) / this.height> 0.1? \"hidden\":\"visible\"\n          })\n          }\n      if (!second) {\n        barRightSelection2.attr('height', '0');\n        barWrongSelection2.attr('height', '0');\n\n        circleRightSelection2.attr(\"visibility\", \"hidden\")\n        circleWrongSelection2.attr(\"visibility\", \"hidden\")\n      } else {\n        barRightSelection2\n          .data(this.hoverData)\n          .attr('y', (d: number) => rightYOffset(this.predictions[d[\"classifier\"]][d[\"class\"]].right, second.instances))\n          .attr('height', (d: number) => rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, second.instances));\n        barWrongSelection2\n          .data(this.hoverData)\n          .attr('height', (d: number) => wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, second.instances));\n\n        circleRightSelection2\n          .data(this.hoverData)\n          .attr('cy',this.height-10)\n          .attr(\"visibility\", (d:number)=>{\n            return rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, second.instances) == 0? \"hidden\"\n            : rightHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].right, second.instances) / this.height> 0.1? \"hidden\":\"visible\"\n          })\n        circleWrongSelection2\n          .attr('cy',10)\n          .data(this.hoverData)\n          .attr(\"visibility\", (d:number)=>{\n            return wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, second.instances) == 0? \"hidden\"\n            :wrongHeight(this.predictions[d[\"classifier\"]][d[\"class\"]].wrong, second.instances) / this.height> 0.1? \"hidden\":\"visible\"\n          }) \n      }\n    },\n    select(\n      classifier: string,\n      type: 'right' | 'wrong',\n      whichOverlap: 'first' | 'second',\n      className: string,\n    ) {\n      console.log(\"trigger select\",this.predictions[classifier][className])\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n      constraint.negation = (type === 'wrong');\n      const instances = this.predictions[classifier][className][type];\n      const description = `${classifier} ${className}Instances which ${classifier} got ${type}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: this.predictions[classifier][className]\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n        classifier,\n        className,\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailedClassifierPerformance.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailedClassifierPerformance.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DetailedClassifierPerformance.vue?vue&type=template&id=030bae07&scoped=true&\"\nimport script from \"./DetailedClassifierPerformance.vue?vue&type=script&lang=ts&\"\nexport * from \"./DetailedClassifierPerformance.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DetailedClassifierPerformance.vue?vue&type=style&index=0&id=030bae07&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"030bae07\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-container\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Confusion Matrices\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-checkbox',{attrs:{\"label\":\"Oracle\",\"value\":\"Oracle\"},model:{value:(_vm.filterDummyClassifiers),callback:function ($$v) {_vm.filterDummyClassifiers=$$v},expression:\"filterDummyClassifiers\"}}),_c('v-checkbox',{attrs:{\"label\":\"Majority Classifier\",\"value\":\"Majority Classifier\"},model:{value:(_vm.filterDummyClassifiers),callback:function ($$v) {_vm.filterDummyClassifiers=$$v},expression:\"filterDummyClassifiers\"}}),_c('v-checkbox',{attrs:{\"label\":\"Random Classifier\",\"value\":\"Random Classifier\"},model:{value:(_vm.filterDummyClassifiers),callback:function ($$v) {_vm.filterDummyClassifiers=$$v},expression:\"filterDummyClassifiers\"}})],1)])],1)],1),_c('svg',{ref:\"svg\",attrs:{\"width\":\"100%\",\"viewBox\":(\"0 0 \" + (_vm.dimensions.total.width) + \" \" + (_vm.dimensions.total.height))}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"chart\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport { generateRandomId } from '../utils';\n\nexport default Vue.extend({\n  name: 'ColorLegend',\n  props: {\n    // colors: {\n    //   type: Array as () => string[],\n    //   default: () => ['white', 'black'],\n    // },\n    height: {\n      type: Number,\n      default: 100,\n    },\n    lowerBound: {\n      type: Number,\n      default: 0,\n    },\n    title: {\n      type: String,\n      required: true,\n    },\n    upperBound: {\n      type: Number,\n      default: 1,\n    },\n    width: {\n      type: Number,\n      default: 500,\n    },\n  },\n  data() {\n    const margin = {top: 10, right: 20, bottom: 60, left: 20};\n    const width = this.width - margin.left - margin.right;\n    const height = this.height - margin.top - margin.bottom;\n    return {\n      dimensions: {\n        height,\n        width,\n      },\n      margin,\n    };\n  },\n  computed: {\n    gradientId(): string {\n      return generateRandomId();\n    },\n  },\n  watch: {\n    upperBound() {\n      this.draw();\n    },\n  },\n  mounted() {\n    this.draw();\n  },\n  methods: {\n    draw() {\n      const x = d3.scaleLinear<number, number>()\n        .domain([this.lowerBound, Math.max(1, this.upperBound)])\n        .range([0, this.dimensions.width]);\n\n      // @ts-ignore\n      const chart = d3.select(this.$refs.chart);\n      chart.selectAll('*').remove();\n      // set up linear gradient\n\n      const svg = chart\n        .append('svg')\n          .attr('width', this.dimensions.width + this.margin.left + this.margin.right)\n          .attr('height', this.dimensions.height + this.margin.top + this.margin.bottom)\n          .attr('viewBox', `\n            0 0\n            ${this.dimensions.width + this.margin.left + this.margin.right}\n            ${this.dimensions.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const drawGradient = () => {\n        const linearGradient = chart\n          .select('svg')\n          .append('defs')\n          .append('linearGradient')\n            .attr('id', this.gradientId)\n            .attr('x1', '0%')\n            .attr('y1', '0%')\n            .attr('x2', '100%')\n            .attr('y2', '0%');\n        const percentBetweenColors = 100 / (this.colors.length - 1);\n        this.colors.forEach((color, index) => {\n          linearGradient.append('stop')\n            .attr('offset', `${index * percentBetweenColors}%`)\n            .attr('stop-color', color);\n        });\n\n        svg.append('rect')\n          .attr('width', this.dimensions.width)\n          .attr('height', this.dimensions.height)\n          .attr('stroke', 'black')\n          .attr('stroke-width', '0.5px')\n          .style('fill', `url(#${this.gradientId})`);\n      };\n      drawGradient();\n\n      const drawAxis = () => {\n        svg.append('g')\n          .attr('transform', `translate(0 ${this.dimensions.height})`)\n          .call(d3.axisBottom(x).ticks(5))\n          .attr('font-size', 16);\n      };\n      drawAxis();\n\n      const drawTitle = () => {\n        svg.append('text')\n          .attr(\n            'transform',\n            `translate(\n              ${this.dimensions.width / 2},\n              ${this.dimensions.height + this.margin.bottom / 2}\n            )`,\n          )\n          .attr('dy', '1em')\n          .attr('text-anchor', 'middle')\n          .style('font-size', '16px')\n          .text(this.title);\n      };\n      drawTitle();\n\n      return;\n\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorLegend.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColorLegend.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColorLegend.vue?vue&type=template&id=0a859ee7&scoped=true&\"\nimport script from \"./ColorLegend.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColorLegend.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0a859ee7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"chart\",on:{\"mouseleave\":function($event){return _vm.onHoverChange(['', ''], '')}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport ColorLegend from '@/components/ColorLegend.vue';\nimport {\n  BoxProps,\n  EntityType,\n  Instance,\n  SelectionAction,\n  SelectionRecord,\n} from '../../types';\nimport { colors } from '../../theme';\nimport {\n  instanceById,\n  overlapCount,\n  overlapFraction,\n  truncateLabel,\n} from '../../utils';\n\ntype ClassCross = [string, string];\n\nexport default Vue.extend({\n  name: 'ConfusionMatrixMinimal',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n      validator: (boxProps: BoxProps) => {\n        return boxProps.classifiers.size === 1;\n      },\n    },\n    colorScales: {\n      type: Object as () => {\n        diagonal: d3.ScaleLinear<string, string>,\n        nondiagonal: d3.ScaleLinear<string, string>,\n      },\n    },\n    hoverInfo: {\n      type: Object as () => {\n        classes: {\n          actual: string,\n          predicted: string,\n        },\n        classifier: string,\n      },\n      required: true,\n    },\n    onHoverChange: {\n      type: Function,\n      required: true,\n    },\n    sideLength: {\n      type: Number,\n      required: true,\n    },\n    updateMaxBucketedInstances: {\n      type: Function,\n      required: true,\n    },\n  },\n  computed: {\n    bucketedInstances(): Array<Set<string>> {\n      const classes = this.classes;\n      const bucketedInstances: Array<Set<string>> = [];\n      classes.forEach((actualClass) => {\n        classes.forEach((predictedClass) => {\n          bucketedInstances.push(new Set());\n        });\n      });\n\n      const instances = this.instances;\n      instances.forEach((id) => {\n        const i = instanceById(id);\n        const nClasses = classes.length;\n        const actualIndex = classes.indexOf(i.actual);\n        const predictedIndex = classes.indexOf(i.predictions[this.classifier]);\n        if (actualIndex === -1 || predictedIndex === -1) {\n          return;\n        }\n        const bucketIndex = actualIndex * nClasses + predictedIndex;\n        bucketedInstances[bucketIndex].add(id);\n      });\n      return bucketedInstances;\n    },\n    cellHeight(): number {\n      const cellHeight = this.y.bandwidth();\n      return cellHeight;\n    },\n    cellWidth(): number {\n      const cellWidth = this.x.bandwidth();\n      return cellWidth;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifier(): string {\n      return [...this.boxProps.classifiers][0];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    instanceSelection(): {\n      include: Set<Set<string>>,\n      exclude: Set<Set<string>>,\n    } {\n      return this.$store.state.selections.instance;\n    },\n    maxBucketedInstances(): {\n      diagonal: number,\n      nondiagonal: number,\n    } {\n      const bucketSizes = {\n        diagonal: [] as number[],\n        nondiagonal: [] as number[],\n      };\n      this.bucketedInstances.forEach((bucket, index) => {\n        if (this.onMainDiagonal(index)) {\n          bucketSizes.diagonal.push(bucket.size);\n        } else {\n          bucketSizes.nondiagonal.push(bucket.size);\n        }\n      });\n      const maxBucketedInstances = {\n        diagonal: Math.max(...bucketSizes.diagonal),\n        nondiagonal: Math.max(...bucketSizes.nondiagonal),\n      };\n      this.updateMaxBucketedInstances(maxBucketedInstances);\n      return maxBucketedInstances;\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    // selectedInstances(): Set<Instance> {\n    //   return this.$store.getters.selectedInstances;\n    // },\n    topmostSelection(): Set<string> {\n      return this.$store.state.selectionHistory[0].instances;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.classes)\n        .range([0, this.sideLength]);\n      return x;\n    },\n    y(): d3.ScaleBand<string> {\n      const y = d3.scaleBand<string>()\n        .domain(this.classes)\n        .range([0, this.sideLength]);\n      return y;\n    },\n  },\n  watch: {\n    bucketedInstances() {\n      this.drawInitial();\n    },\n    overlapSelections() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    cellDescription(predicted: string, actual: string) {\n      return (\n        (predicted === actual)\n          ? `Instances of class '${actual}' correctly classified by classifier '${this.classifier}'`\n          : `Instances of class '${actual}' misclassified as class '${predicted}' by classifier '${this.classifier}'`\n      );\n    },\n    drawInitial() {\n\n      const colorScaleDiagonal = this.colorScales.diagonal;\n      const colorScaleNonDiagonal = this.colorScales.nondiagonal;\n\n      // @ts-ignore\n      d3.select(this.$refs.chart).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.chart)\n        .append('svg')\n          .attr('width', this.sideLength)\n          .attr('height', this.sideLength);\n\n      const applyColorScale = (size: number, index: number) => {\n        return (\n          this.onMainDiagonal(index)\n          ? colorScaleDiagonal(size)\n          : colorScaleNonDiagonal(size)\n        );\n      };\n\n      const classCross: ClassCross[] = d3.cross(this.classes, this.classes);\n      const cells = svg.selectAll('matrix-cell')\n        .data(classCross)\n        .join('g')\n          .attr('class', 'matrix-cell')\n          .attr('transform', (d: ClassCross) => `${this.translateCell(d)}`)\n          .on('click', (d: ClassCross, i: number) => this.updateUserSelection(d, i))\n          .on('mouseenter', (d: ClassCross) => this.onHoverChange(d, this.classifier));\n\n      const cellWidth = this.cellWidth;\n      const cellHeight = this.cellHeight;\n      const drawMatrixCells = () => {\n        cells.append('rect')\n          .attr('width', cellWidth)\n          .attr('height', cellHeight)\n          .attr('fill', (d: ClassCross, i: number) => applyColorScale(this.bucketedInstances[i].size, i))\n          .attr('stroke-width', '0.5px')\n          .attr('stroke', 'black');\n      };\n      drawMatrixCells();\n\n      this.drawHoverOutline();\n\n      const drawSelection1 = () => {\n        const first = this.overlapSelections.first;\n        if (first === null) {\n          return;\n        }\n        const instances = first.instances;\n        cells.append('rect')\n          .attr('y', cellHeight * 4 / 6)\n          .attr('width', cellWidth)\n          .attr('height', cellHeight / 6)\n          .attr('fill', colors.overlapSelections.background)\n          .html((d: ClassCross, i: number) => {\n            const size = overlapCount(instances, this.bucketedInstances[i]);\n            return `\n              <title>\n                ${size} instance(s) overlap.\n              </title>\n            `;\n          } );\n        cells.append('rect')\n          .attr('y', cellHeight * 4 / 6)\n          .attr('width', (d: ClassCross, i: number) =>\n            cellWidth * overlapFraction(instances, this.bucketedInstances[i]))\n          .attr('height', cellHeight / 6)\n          .attr('fill', colors.overlapSelections.first)\n          .attr('pointer-events', 'none');\n      };\n      drawSelection1();\n\n      const drawSelection2 = () => {\n        const second = this.overlapSelections.second;\n        if (second === null) {\n          return;\n        }\n        const instances = second.instances;\n        cells.append('rect')\n          .attr('y', cellHeight * 5 / 6)\n          .attr('width', cellWidth)\n          .attr('height', cellHeight / 6)\n          .attr('fill', colors.overlapSelections.background)\n          .html((d: ClassCross, i: number) => {\n            const size = overlapCount(instances, this.bucketedInstances[i]);\n            return `\n              <title>\n                ${size} instance(s) overlap.\n              </title>\n            `;\n          } );\n        cells.append('rect')\n          .attr('y', cellHeight * 5 / 6)\n          .attr('width', (d: ClassCross, i: number) =>\n            cellWidth * overlapFraction(instances, this.bucketedInstances[i]))\n          .attr('height', cellHeight / 6)\n          .attr('fill', colors.overlapSelections.second)\n          .attr('pointer-events', 'none');\n      };\n      drawSelection2();\n\n      const drawText = () => {\n        cells.append('text')\n          .attr('x', cellWidth / 2)\n          .attr('y', cellHeight / 2)\n          .attr('dominant-baseline', 'middle')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 12)\n          .html((d: ClassCross, i: number) => {\n            const o = this.bucketedInstances[i].size;\n            if (o > 0) {\n              return `${o}`;\n            }\n            return '';\n          });\n      };\n    },\n    drawHoverOutline() {\n      // console.log('drawing hover outline');\n      if (\n        this.hoverInfo.classes.actual === ''\n        || this.hoverInfo.classes.predicted === ''\n        || this.hoverInfo.classifier === ''\n      ) {\n        return;\n      }\n      const { actual, predicted } = this.hoverInfo.classes;\n      // @ts-ignore\n      const svg = d3.select(this.$refs.chart).select('svg');\n\n      svg.append('rect')\n        .attr('transform', this.translateCell([actual, predicted]))\n        .attr('width', this.cellWidth)\n        .attr('height', this.cellHeight)\n        .attr('fill', 'none')\n        .attr('stroke-width', '3px')\n        .attr('stroke', '#FF9800')\n        .attr('pointer-events', 'none');\n      svg.append('text')\n        .attr('x', this.x(predicted) as number + this.cellWidth / 2)\n        .attr('y', this.y(actual) as number + this.cellHeight / 2)\n        .attr('dominant-baseline', 'middle')\n        .attr('text-anchor', 'middle')\n        .attr('font-size', 12)\n        .attr('pointer-events', 'none')\n        .html(() => {\n          const actualIndex = this.classes.indexOf(actual);\n          const predictedIndex = this.classes.indexOf(predicted);\n          const index = actualIndex * this.classes.length + predictedIndex;\n          const o = this.bucketedInstances[index].size;\n          return `${o}`;\n        });\n    },\n    onMainDiagonal(index: number): boolean {\n      const elemPerRow = this.boxProps.classes.size;\n      const row = Math.floor(index / elemPerRow);\n      const col = index % elemPerRow;\n      return row === col;\n    },\n    translateCell(d: ClassCross): string {\n      return `translate(${this.x(d[1])}, ${this.y(d[0])})`;\n    },\n    updateUserSelection(classes: ClassCross, index: number) {\n      const [actual, predicted] = classes;\n      console.log('user selection updated:', classes, index);\n      const payload = {\n        instances: this.bucketedInstances[index],\n        description: this.cellDescription(predicted, actual),\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixMinimal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixMinimal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfusionMatrixMinimal.vue?vue&type=template&id=c267964c&scoped=true&\"\nimport script from \"./ConfusionMatrixMinimal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfusionMatrixMinimal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConfusionMatrixMinimal.vue?vue&type=style&index=0&id=c267964c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c267964c\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport ColorLegend from '@/components/ColorLegend.vue';\nimport ConfusionMatrixMinimal from '@/components/boxes/ConfusionMatrixMinimal.vue';\nimport {\n  BoxProps,\n  EntityType,\n  Instance,\n  Margin,\n  SelectionAction,\n  SelectionRecord,\n} from '../../types';\nimport { colors } from '../../theme';\nimport {\n  generateRandomId,\n  instanceById,\n  intersection,\n  overlapCount,\n  overlapFraction,\n  truncateLabel,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { scaleBand } from 'd3';\n\ntype ClassCross = [string, string];\ntype ClassifierClassCross = [string, string, string];\n\nexport default Vue.extend({\n  name: 'ConfusionMatrixGrid',\n  components: {\n    ColorLegend,\n    ConfusionMatrixMinimal,\n  },\n  data() {\n    const width = 1000;\n    const height = 900;\n    const total = {\n      width,\n      height,\n    };\n    const predictedClassLegend = {\n      xOffset: 0,\n      yOffset: 0,\n      width: 0.7 * width,\n      height: 150,\n    };\n    const colorLegend = {\n      xOffset: predictedClassLegend.width,\n      yOffset: 0,\n      width: width - predictedClassLegend.width,\n      height: predictedClassLegend.height,\n    };\n    const actualClassLegend = {\n      xOffset: 0,\n      yOffset: predictedClassLegend.height,\n      width: 200,\n      height: height - predictedClassLegend.height,\n    };\n    const matrixGrid = {\n      xOffset: actualClassLegend.width,\n      yOffset: actualClassLegend.yOffset,\n      width: width - actualClassLegend.width,\n      height: actualClassLegend.height,\n    };\n    return {\n      colors,\n      dimensions: {\n        actualClassLegend,\n        colorLegend,\n        matrixGrid,\n        predictedClassLegend,\n        total,\n      },\n      filterDummyClassifiers: [] as string[],\n      hoverInfo: {\n        classes: {\n          actual: '',\n          predicted: '',\n        },\n        classifier: '',\n      },\n      panel: [],\n    };\n  },\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  computed: {\n    actualClassScale(): d3.ScaleBand<string> {\n      const actualClassScale = d3.scaleBand<string>()\n        .domain(this.classes)\n        .range([0, this.y.bandwidth()])\n        .paddingInner(0);\n\n      return actualClassScale;\n    },\n    allBucketedInstances(): {\n      [classifierName: string]: Array<Set<string>>,\n    } {\n      const allBucketedInstances: {\n        [classifierName: string]: Array<Set<string>>,\n      } = {};\n\n      this.classifiers.forEach((c) => {\n        allBucketedInstances[c] = this.bucketedInstancesByClassifier(c);\n      });\n\n      return allBucketedInstances;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classCross(): unknown[] {\n      const classCross = d3.cross(this.classes, this.classes);\n      return classCross;\n    },\n    classifierClassCross(): ClassifierClassCross[] {\n      const f = (a: any, b: any) => [].concat(...a.map((d: any) => b.map((e: any) => [].concat(d, e))));\n      // @ts-ignore\n      const cartesian = (a: any, b: any, ...c: any[]) => (b ? cartesian(f(a, b), ...c) : a);\n      const classifierClassCross = cartesian(this.classifiers, this.classes, this.classes);\n\n      return classifierClassCross;\n    },\n    classifiers(): string[] {\n      const classifiers = [...this.boxProps.classifiers].filter((c) => !this.filterDummyClassifiers.includes(c));\n      return classifiers;\n    },\n    colorScales(): {\n      diagonal: d3.ScaleLinear<string, string>,\n      nondiagonal: d3.ScaleLinear<string, string>,\n    } {\n      const colorScales = {\n        diagonal: d3.scaleLinear<string>()\n          .domain([0, this.maxBucketedInstances.diagonal])\n          .range([this.colors.goodLight, colors.goodDark]),\n        nondiagonal: d3.scaleLinear<string>()\n          .domain([0, this.maxBucketedInstances.nondiagonal])\n          .range([this.colors.badLight, colors.badDark]),\n      };\n      return colorScales;\n    },\n    gradientId(): {\n      correctlyClassified: string,\n      misclassified: string,\n    } {\n      return {\n        correctlyClassified: generateRandomId(),\n        misclassified: generateRandomId(),\n      };\n    },\n    margin(): {\n      colorLegend: Margin,\n      grid: Margin,\n      sideBar: Margin,\n      topBar: Margin,\n    } {\n      const grid = {\n        top: 0.05 * this.dimensions.matrixGrid.height,\n        right: 0.05 * this.dimensions.matrixGrid.width,\n        bottom: 0.05 * this.dimensions.matrixGrid.height,\n        left: 0.05 * this.dimensions.matrixGrid.width,\n      };\n      const colorLegend = {\n        top: 0.25 * this.dimensions.colorLegend.height,\n        right: 0.1 * this.dimensions.colorLegend.width,\n        bottom: 0.25 * this.dimensions.colorLegend.height,\n        left: 0.1 * this.dimensions.colorLegend.width,\n      };\n      const sideBar = {\n        top: 0.2 * this.dimensions.actualClassLegend.height,\n        right: 0.6 * this.dimensions.actualClassLegend.width,\n        bottom: 0.1 * this.dimensions.actualClassLegend.height,\n        left: 0.1 * this.dimensions.actualClassLegend.width,\n      };\n      const topBar = {\n        top: 0.6 * this.dimensions.predictedClassLegend.height,\n        right: 0.1 * this.dimensions.predictedClassLegend.width,\n        bottom: 0.1 * this.dimensions.predictedClassLegend.height,\n        left: 0.25 * this.dimensions.predictedClassLegend.width,\n      };\n      return {\n        colorLegend,\n        grid,\n        sideBar,\n        topBar,\n      };\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    matricesPerRow(): number {\n      const matricesPerRow = Math.ceil(Math.sqrt(this.classifiers.length));\n      return matricesPerRow;\n    },\n    maxBucketedInstances(): {\n      diagonal: number,\n      nondiagonal: number,\n    } {\n      const maxBucketedInstances = {\n        diagonal: 1,\n        nondiagonal: 1,\n      };\n      this.classifiers.forEach((c) => {\n        const classifierMax = this.maxBucketedInstancesByClassifier(c);\n        maxBucketedInstances.diagonal = Math.max(\n          classifierMax.diagonal,\n          maxBucketedInstances.diagonal,\n        );\n        maxBucketedInstances.nondiagonal = Math.max(\n          classifierMax.nondiagonal,\n          maxBucketedInstances.nondiagonal,\n        );\n      });\n\n      return maxBucketedInstances;\n    },\n    nRows(): number {\n      const nRows = this.matricesPerRow;\n      return nRows;\n    },\n    predictedClassScale(): d3.ScaleBand<string> {\n      const predictedClassScale = d3.scaleBand<string>()\n        .domain(this.classes)\n        .range([0, this.x.bandwidth()])\n        .paddingInner(0);\n\n      return predictedClassScale;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const margin = this.margin.grid;\n      const width = this.dimensions.matrixGrid.width - margin.left - margin.right;\n      const xIndices = [];\n      for (let i = 0; i < this.matricesPerRow; i++) {\n        xIndices.push(i.toString());\n      }\n      const x = d3.scaleBand()\n        .domain(xIndices)\n        .range([0, width])\n        .paddingInner(0.2);\n\n      return x;\n    },\n    y(): d3.ScaleBand<string> {\n      const margin = this.margin.grid;\n      const height = this.dimensions.matrixGrid.height - margin.top - margin.bottom;\n      const yIndices : string[] = [];\n      for (let i = 0; i < this.nRows; i++) {\n        yIndices.push(i.toString());\n      }\n      const y = d3.scaleBand()\n        .domain(yIndices)\n        .range([0, height])\n        .paddingInner(0.2);\n\n      return y;\n    },\n  },\n  watch: {\n    boxProps() {\n      this.drawInitial();\n    },\n    classifiers() {\n      this.drawInitial();\n    },\n    hoverInfo() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    matricesPerRow() {\n      this.drawGrid();\n    },\n    selections() {\n      this.drawSelections();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    bucketedInstancesByClassifier(classifier: string): Array<Set<string>> {\n      const classes = this.classes;\n      const bucketedInstances: Array<Set<string>> = [];\n      classes.forEach((actualClass) => {\n        classes.forEach((predictedClass) => {\n          bucketedInstances.push(new Set());\n        });\n      });\n\n      const instances = this.instances;\n      // const instances = this.instances;\n      instances.forEach((id) => {\n        const i = instanceById(id);\n        const nClasses = classes.length;\n        const actualIndex = classes.indexOf(i.actual);\n        const predictedIndex = classes.indexOf(i.predictions[classifier]);\n        if (actualIndex === -1 || predictedIndex === -1) {\n          return;\n        }\n        const bucketIndex = actualIndex * nClasses + predictedIndex;\n        bucketedInstances[bucketIndex].add(id);\n      });\n      return bucketedInstances;\n    },\n    cachedBucketedInstancesByClassifier(classifier: string): Array<Set<string>> {\n      return this.allBucketedInstances[classifier];\n    },\n    cellDescription(d: ClassifierClassCross): string {\n      const [classifier, actual, predicted] = d;\n      return (\n        (predicted === actual)\n          ? `Instances of class '${actual}' correctly classified by classifier '${classifier}'`\n          : `Instances of class '${actual}' misclassified as class '${predicted}' by classifier '${classifier}'`\n      );\n    },\n    drawInitial() {\n      // @ts-ignore\n      this.drawColorLegend();\n      this.drawSidebar();\n      this.drawTopBar();\n      this.drawGrid();\n      this.drawSelections();\n    },\n    drawColorLegend() {\n      const margin = this.margin.colorLegend;\n      const width = this.dimensions.colorLegend.width - margin.left - margin.right;\n      const height = this.dimensions.colorLegend.height - margin.top - margin.bottom;\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n\n      interface GradientData {\n        id: string;\n        colorDark: string;\n        colorLight: string;\n      }\n      const gradientsData: GradientData[] = [\n        {\n          id: this.gradientId.misclassified,\n          colorDark: colors.badDark,\n          colorLight: colors.badLight,\n        },\n        {\n          id: this.gradientId.correctlyClassified,\n          colorDark: colors.goodDark,\n          colorLight: colors.goodLight,\n        },\n      ];\n\n      const defineGradients = () => {\n        svg.selectAll('.color-legend-defs').remove();\n        const defs = svg.append('defs')\n          .attr('class', 'color-legend-defs');\n\n        const gradients = defs.selectAll('linearGradient')\n          .data(gradientsData)\n          .join('linearGradient')\n            .attr('id', (d: GradientData) => d.id)\n            .attr('x1', '0%')\n            .attr('y1', '0%')\n            .attr('x2', '100%')\n            .attr('y2', '0%');\n        gradients.append('stop')\n          .attr('offset', '0%')\n          .attr('stop-color', (d: GradientData) => d.colorLight)\n          .attr('stop-opacity', 1);\n        gradients.append('stop')\n          .attr('offset', '100%')\n          .attr('stop-color', (d: GradientData) => d.colorDark)\n          .attr('stop-opacity', 1);\n      };\n      defineGradients();\n\n      svg.selectAll('.color-legend').remove();\n      const legend = svg.append('g')\n        .attr('class', 'color-legend')\n        .attr('transform', `translate(\n          ${this.dimensions.colorLegend.xOffset + margin.left},\n          ${this.dimensions.colorLegend.yOffset + margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('x', this.dimensions.colorLegend.xOffset)\n          .attr('y', this.dimensions.colorLegend.yOffset)\n          .attr('width', this.dimensions.colorLegend.width)\n          .attr('height', this.dimensions.colorLegend.height)\n          .attr('fill', 'cyan')\n          .attr('fill-opacity', 0.2);\n      };\n\n      const drawGradients = () => {\n        const gradientRects = legend.selectAll('rect')\n          .data(gradientsData)\n          .join('rect')\n            .attr('y', (d: GradientData, i: number) => i * height / 2)\n            .attr('width', width)\n            .attr('height', height / 2)\n            .attr('stroke', 'black')\n            .attr('stroke-width', '0.5px')\n            .style('fill', (d: GradientData) => `url(#${d.id})`);\n      };\n      drawGradients();\n\n      const drawAxis = () => {\n        const agreeAxis = d3.scaleLinear<number, number>()\n          .domain([0, this.maxBucketedInstances.diagonal])\n          .range([0, width]);\n\n        legend.append('g')\n          .call(d3.axisTop(agreeAxis).ticks(3))\n          .attr('font-size', 16);\n\n        const disagreeAxis = d3.scaleLinear<number, number>()\n          .domain([0, this.maxBucketedInstances.nondiagonal])\n          .range([0, width]);\n\n        legend.append('g')\n          .attr('transform', `translate(0 ${height})`)\n          .call(d3.axisBottom(disagreeAxis).ticks(3))\n          .attr('font-size', 16);\n      };\n      drawAxis();\n\n      const drawTitles = () => {\n        legend.append('text')\n          .attr(\n            'transform',\n            `translate(\n              ${width / 2},\n              ${height / 4}\n            )`,\n          )\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .style('font-size', 16)\n          .text('misclassified');\n\n        legend.append('text')\n          .attr(\n            'transform',\n            `translate(\n              ${width / 2},\n              ${height * 3 / 4}\n            )`,\n          )\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .style('font-size', 16)\n          .text('correctly classified');\n      };\n      drawTitles();\n      return;\n    },\n    drawHover() {\n      return;\n      const moveDuration = 500;\n      const resetDuration = 1000;\n\n      const classifierClassCross = this.classifierClassCross;\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n\n      const matrixCellRects = svg.selectAll('.matrix-cell-rect');\n      const actualClassLegendRects = svg.select('.actual-class-legend').selectAll('.hover-indicator-rect');\n      const predictedClassLegendRects = svg.select('.predicted-class-legend').selectAll('.hover-indicator-rect');\n      if (\n        this.hoverInfo.classes.actual === ''\n        || this.hoverInfo.classes.predicted === ''\n        || this.hoverInfo.classifier === ''\n      ) {\n        matrixCellRects\n          .transition().duration(resetDuration)\n          .attr('fill-opacity', 1);\n        actualClassLegendRects\n          .transition().duration(resetDuration)\n          .attr('fill', 'lightgray');\n        predictedClassLegendRects\n          .transition().duration(resetDuration)\n          .attr('fill', 'lightgray');\n      } else {\n        matrixCellRects\n          .data(classifierClassCross)\n          .transition().duration(moveDuration)\n          .attr('fill-opacity', (d: ClassifierClassCross) => {\n            const [classifier, actual, predicted] = d;\n            if (actual === this.hoverInfo.classes.actual && predicted === this.hoverInfo.classes.predicted) {\n              return 1;\n            }\n            return 0.25;\n          });\n\n        actualClassLegendRects\n          .data(this.classes)\n          .transition().duration(moveDuration)\n          .attr('fill', (d: string) =>\n            (this.hoverInfo.classes.actual === d)\n              ? 'black'\n              : 'lightgray',\n          );\n        predictedClassLegendRects\n          .data(this.classes)\n          .transition().duration(moveDuration)\n          .attr('fill', (d: string) =>\n            (this.hoverInfo.classes.predicted === d)\n              ? 'black'\n              : 'lightgray',\n          );\n      }\n    },\n    drawGrid() {\n      const margin = this.margin.grid;\n\n      const classes = this.classes;\n      const classifiers = this.classifiers;\n      const instances = this.instances;\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n      svg.selectAll('.matrix-grid').remove();\n      const matrixGrid = svg.append('g')\n        .attr('class', 'matrix-grid')\n        .attr('transform', `translate(\n          ${this.dimensions.matrixGrid.xOffset + margin.left},\n          ${this.dimensions.matrixGrid.yOffset + margin.top})`)\n        .on('mouseleave', () => this.updateHoverCell(['', '', '']));\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('x', this.dimensions.matrixGrid.xOffset)\n          .attr('y', this.dimensions.matrixGrid.yOffset)\n          .attr('width', this.dimensions.matrixGrid.width)\n          .attr('height', this.dimensions.matrixGrid.height)\n          .attr('fill', 'black')\n          .attr('fill-opacity', 0.1);\n      };\n      // drawBackgroundRect();\n\n      const x = this.x;\n      const y = this.y;\n\n      const rowIndex = (i: number) => Math.floor(i / this.matricesPerRow);\n      const colIndex = (i: number) => i % this.matricesPerRow;\n\n      const matrices = matrixGrid.selectAll('.matrix')\n        .data(classifiers)\n        .join('g')\n          .attr('class', 'matrix')\n          .attr('transform', (d: string, i: number) => `translate(\n            ${x(colIndex(i).toString())},\n            ${y(rowIndex(i).toString())}\n          )`);\n\n      matrices.append('rect')\n        .attr('width', x.bandwidth())\n        .attr('height', y.bandwidth())\n        .attr('fill', 'black')\n        .attr('stroke', 'black');\n\n      const actualClassScale = this.actualClassScale;\n      const predictedClassScale = this.predictedClassScale;\n\n      const classCross = this.classCross;\n      matrices.selectAll('.matrix-cell')\n        .data(classCross)\n        .join('g')\n          .attr('class', 'matrix-cell')\n          .attr('transform', (d: ClassCross) => `translate(\n            ${predictedClassScale(d[1])},\n            ${actualClassScale(d[0])}\n          )`);\n\n      const classifierClassCross = this.classifierClassCross;\n\n      const matrixCells = matrixGrid.selectAll('.matrix-cell')\n        .data(classifierClassCross)\n        .on('mouseenter', (d: ClassifierClassCross) => this.updateHoverCell(d))\n        .on('click', (d: ClassifierClassCross) => this.select(d, 'first'))\n        .on('contextmenu', (d: ClassifierClassCross) => this.select(d, 'second'));\n\n      const drawCells = () => {\n        const cellWidth = predictedClassScale.bandwidth();\n        const cellHeight = actualClassScale.bandwidth();\n        matrixCells.append('rect')\n          .attr('class', 'matrix-cell-rect')\n          .attr('width', cellWidth)\n          .attr('height', cellHeight * 6 / 8)\n          .attr('fill', (d: ClassifierClassCross) => {\n            let color = '';\n            const [classifier, actual, predicted] = d;\n            const actualIndex = classes.indexOf(actual);\n            const predictedIndex = classes.indexOf(predicted);\n            const bucketIndex = actualIndex * classes.length + predictedIndex;\n            const numberOfInstances = this.cachedBucketedInstancesByClassifier(classifier)[bucketIndex].size;\n            if (numberOfInstances === 0) {\n              return 'white';\n            }\n            if (actual === predicted) {\n              color = this.colorScales.diagonal(numberOfInstances);\n            } else {\n              color = this.colorScales.nondiagonal(numberOfInstances);\n            }\n            return color;\n          })\n          .style('paint-order', 'stroke');\n\n        const selections = () => {\n          const selectionBarHeight = actualClassScale.bandwidth() / 8;\n          const dotRadius = selectionBarHeight / 3;\n          matrixCells.append('rect')\n            .attr('class', 'selection-background-rect')\n            .attr('y', cellHeight * 6 / 8)\n            .attr('width', cellWidth)\n            .attr('height', selectionBarHeight * 2)\n            .attr('fill', 'black');\n          matrixCells.append('rect')\n            .attr('class', 'bar-selection-1')\n            .attr('y', cellHeight * 6 / 8)\n            .attr('width', 0)\n            .attr('height', cellHeight / 8)\n            .attr('fill', colors.overlapSelections.first)\n            .attr('stroke', 'black');\n          matrixCells.append('circle')\n            .attr('class', 'dot-selection-1')\n            .attr('cx', cellWidth / 2)\n            .attr('cy', cellHeight * 6 / 8 + cellHeight / 16)\n            .attr('r', dotRadius)\n            .attr('fill', colors.overlapSelections.first)\n            .attr('fill-opacity', 0);\n          matrixCells.append('rect')\n            .attr('class', 'bar-selection-2')\n            .attr('y', cellHeight * 7 / 8)\n            .attr('width', 0)\n            .attr('height', cellHeight / 8)\n            .attr('fill', colors.overlapSelections.second)\n            .attr('stroke', 'black');\n          matrixCells.append('circle')\n            .attr('class', 'dot-selection-2')\n            .attr('cx', cellWidth / 2)\n            .attr('cy', cellHeight * 7 / 8 + cellHeight / 16)\n            .attr('r', dotRadius)\n            .attr('fill', colors.overlapSelections.second)\n            .attr('fill-opacity', 0);\n        };\n        selections();\n      };\n      drawCells();\n\n      const drawMatrixTitles = () => {\n        matrices.data(this.classifiers)\n          .append('text')\n          .attr('transform', () => {\n            const xOffset = x.bandwidth() / 2;\n            const yOffset = -10;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text((d: string) => d);\n      };\n      drawMatrixTitles();\n\n      const hoverCircles = () => {\n        matrixCells.append('circle')\n          .attr('class', 'hover-dot')\n          .attr('cx', predictedClassScale.bandwidth() / 2)\n          .attr('cy', actualClassScale.bandwidth() / 2)\n          .attr('r', Math.min(predictedClassScale.bandwidth(), actualClassScale.bandwidth()) / 6)\n          .attr('fill', 'black')\n          .attr('fill-opacity', 0);\n      };\n      hoverCircles();\n    },\n    drawSelections() {\n      console.log('drawing selections');\n\n      const classifierClassCross = this.classifierClassCross;\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n\n      const barSelection1 = svg.selectAll('.bar-selection-1');\n      const barSelection2 = svg.selectAll('.bar-selection-2');\n      const dotSelection1 = svg.selectAll('.dot-selection-1');\n      const dotSelection2 = svg.selectAll('.dot-selection-2');\n\n      const { first, second } = this.selections;\n\n      const cellWidth = this.predictedClassScale.bandwidth();\n      const cellHeight = this.actualClassScale.bandwidth();\n\n      const dotThreshold = 0.2;\n\n      const selectionWidth = (d: ClassifierClassCross, selection: SelectionRecord) => {\n        const instances = this.instancesByCross(d);\n        const overlappingInstances = intersection(instances, selection.instances);\n        const fractionOfTotalInstances = overlappingInstances.size / instances.size;\n        return (\n          (fractionOfTotalInstances < dotThreshold)\n          ? 0\n          : fractionOfTotalInstances * cellWidth\n        );\n      };\n\n      const dotOpacity = (d: ClassifierClassCross, selection: SelectionRecord) => {\n        const instances = this.instancesByCross(d);\n        const overlappingInstances = intersection(instances, selection.instances);\n        const fractionOfTotalInstances = overlappingInstances.size / instances.size;\n        return (\n          (fractionOfTotalInstances > 0 && fractionOfTotalInstances < dotThreshold)\n          ? 1\n          : 0\n        );\n      };\n\n      if (!first) {\n        barSelection1.attr('width', 0);\n        dotSelection1.attr('fill-opacity', 0);\n      } else {\n        barSelection1\n          .data(this.classifierClassCross)\n          .attr('width', (d: ClassifierClassCross) => selectionWidth(d, first));\n        dotSelection1\n          .data(this.classifierClassCross)\n          .attr('fill-opacity', (d: ClassifierClassCross) => dotOpacity(d, first));\n      }\n\n      if (!second) {\n        barSelection2.attr('width', 0);\n        dotSelection2.attr('fill-opacity', 0);\n      } else {\n        barSelection2\n          .data(this.classifierClassCross)\n          .attr('width', (d: ClassifierClassCross) => selectionWidth(d, second));\n        dotSelection2\n          .data(this.classifierClassCross)\n          .attr('fill-opacity', (d: ClassifierClassCross) => dotOpacity(d, second));\n      }\n    },\n    drawSidebar() {\n      const margin = this.margin.sideBar;\n      const width = this.dimensions.actualClassLegend.width - margin.left - margin.right;\n      const height = this.dimensions.actualClassLegend.height - margin.top - margin.bottom;\n\n      const classes = this.classes;\n\n      const y = d3.scaleBand()\n        .domain(classes)\n        .range([0, height])\n        .paddingInner(0.2);\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n      svg.selectAll('.actual-class-legend').remove();\n      const legend = svg.append('g')\n        .attr('class', 'actual-class-legend')\n        .attr('transform', `translate(\n          ${this.dimensions.actualClassLegend.xOffset + margin.left},\n          ${this.dimensions.actualClassLegend.yOffset + margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('x', this.dimensions.actualClassLegend.xOffset)\n          .attr('y', this.dimensions.actualClassLegend.yOffset)\n          .attr('width', this.dimensions.actualClassLegend.width)\n          .attr('height', this.dimensions.actualClassLegend.height)\n          .attr('fill', 'coral')\n          .attr('fill-opacity', 0.2);\n      };\n      // drawBackgroundRect();\n\n      const entries = legend.selectAll('legend-entry')\n        .data(classes)\n        .join('g')\n          .attr('class', 'legend-entry')\n          .attr('transform', (d: string, i: number) => `translate(0, ${y(d)})`);\n\n      entries.append('rect')\n        .attr('class', 'hover-indicator-rect')\n        .attr('width', width)\n        .attr('height', y.bandwidth())\n        .attr('fill', (d: string) => (this.hoverInfo.classes.actual === d) ? 'orange' : 'lightgray');\n\n      legend.append('g')\n        .attr('class', 'side-axis')\n        .attr('transform', `translate(${width}, ${0})`)\n        .call(d3.axisRight(y))\n        .selectAll('text')\n          .style('text-anchor', 'start')\n          .style('font-size', 14);\n\n      legend.selectAll('.side-axis').select('.domain').attr('stroke-opacity', '0');\n\n      const drawTitle = () => {\n        legend.append('text')\n          .attr('transform', `translate(${0}, ${-margin.top / 2})`)\n          .attr('text-anchor', 'start')\n          .attr('alignment-baseline', 'middle')\n          .style('font-size', 20)\n          .text('Actual class');\n      };\n      drawTitle();\n    },\n    drawTopBar() {\n      const margin = this.margin.topBar;\n      const width = this.dimensions.predictedClassLegend.width - margin.left - margin.right;\n      const height = this.dimensions.predictedClassLegend.height - margin.top - margin.bottom;\n\n      const classes = this.classes;\n\n      const x = d3.scaleBand()\n        .domain(classes)\n        .range([0, width])\n        .paddingInner(0.2);\n\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n      svg.selectAll('.predicted-class-legend').remove();\n      const legend = svg.append('g')\n        .attr('class', 'predicted-class-legend')\n        .attr('transform', `translate(\n          ${this.dimensions.predictedClassLegend.xOffset + margin.left},\n          ${this.dimensions.predictedClassLegend.yOffset + margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('x', this.dimensions.predictedClassLegend.xOffset)\n          .attr('y', this.dimensions.predictedClassLegend.yOffset)\n          .attr('width', this.dimensions.predictedClassLegend.width)\n          .attr('height', this.dimensions.predictedClassLegend.height)\n          .attr('fill', 'green')\n          .attr('fill-opacity', 0.2);\n      };\n      // drawBackgroundRect();\n\n      const entries = legend.selectAll('legend-entry')\n        .data(classes)\n        .join('g')\n          .attr('class', 'legend-entry')\n          .attr('transform', (d: string, i: number) => `translate(${x(d)}, 0)`);\n\n      entries.append('rect')\n        .attr('class', 'hover-indicator-rect')\n        .attr('width', x.bandwidth())\n        .attr('height', height)\n        .attr('fill', (d: string) => (this.hoverInfo.classes.predicted === d) ? 'orange' : 'lightgray');\n\n      legend.append('g')\n        .attr('class', 'top-axis')\n        .call(d3.axisTop(x))\n        .selectAll('text')\n          .attr('x', '0.7em')\n          .attr('y', '-0.7em')\n          .attr('transform', 'rotate(-30)')\n          .style('text-anchor', 'start')\n          .style('font-size', 14);\n\n      legend.selectAll('.top-axis').select('.domain').attr('stroke-opacity', '0');\n\n      const drawTitle = () => {\n        legend.append('text')\n          .attr('transform', `translate(${-margin.left / 2}, ${height / 2})`)\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .style('font-size', 20)\n          .text('Predicted class');\n      };\n      drawTitle();\n    },\n    instancesByCross(d: ClassifierClassCross) {\n      const [classifier, actual, predicted] = d;\n      const classes = this.classes;\n      const actualIndex = classes.indexOf(actual);\n      const predictedIndex = classes.indexOf(predicted);\n      const bucketIndex = actualIndex * classes.length + predictedIndex;\n      const instances = this.cachedBucketedInstancesByClassifier(classifier)[bucketIndex];\n      return instances;\n    },\n    maxBucketedInstancesByClassifier(classifier: string): {\n      diagonal: number,\n      nondiagonal: number,\n    } {\n      const bucketSizes = {\n        diagonal: [] as number[],\n        nondiagonal: [] as number[],\n      };\n      this.cachedBucketedInstancesByClassifier(classifier).forEach((bucket, index) => {\n        if (this.onMainDiagonal(index)) {\n          bucketSizes.diagonal.push(bucket.size);\n        } else {\n          bucketSizes.nondiagonal.push(bucket.size);\n        }\n      });\n      const maxBucketedInstances = {\n        diagonal: Math.max(...bucketSizes.diagonal),\n        nondiagonal: Math.max(...bucketSizes.nondiagonal),\n      };\n      return maxBucketedInstances;\n    },\n    onMainDiagonal(index: number): boolean {\n      const elemPerRow = this.boxProps.classes.size;\n      const row = Math.floor(index / elemPerRow);\n      const col = index % elemPerRow;\n      return row === col;\n    },\n    select(\n      d: ClassifierClassCross,\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const [classifier, actual, predicted] = d;\n      const classes = this.classes;\n      const actualIndex = classes.indexOf(actual);\n      const predictedIndex = classes.indexOf(predicted);\n      const bucketIndex = actualIndex * classes.length + predictedIndex;\n\n      const constraintRow = blankConstraint();\n      constraintRow.rule = Rule.ACTUAL;\n      constraintRow.target = actual;\n\n      const constraintColumn = blankConstraint();\n      constraintColumn.rule = Rule.PREDICTED;\n      constraintColumn.classifier = classifier;\n      constraintColumn.target = predicted;\n\n      const instances = this.cachedBucketedInstancesByClassifier(classifier)[bucketIndex];\n      const description = this.cellDescription(d);\n\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraintRow, constraintColumn],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    \n    // truncateLabel,\n    updateHoverCell(d: [string, string, string]) {\n      const [classifier, actual, predicted] = d;\n      if (\n        this.hoverInfo.classes.actual === actual\n        && this.hoverInfo.classes.predicted === predicted\n        && this.hoverInfo.classifier === classifier\n      ) {\n        return;\n      }\n      this.hoverInfo = {\n        classes: {\n          actual,\n          predicted,\n        },\n        classifier,\n      };\n    },\n    \n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixGrid.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfusionMatrixGrid.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfusionMatrixGrid.vue?vue&type=template&id=18cb8c7c&scoped=true&\"\nimport script from \"./ConfusionMatrixGrid.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfusionMatrixGrid.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConfusionMatrixGrid.vue?vue&type=style&index=0&id=18cb8c7c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18cb8c7c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCheckbox,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Cumulative Accuracy\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Sort by how many classifiers correctly classified an instance\"},model:{value:(_vm.sorting),callback:function ($$v) {_vm.sorting=$$v},expression:\"sorting\"}},[_c('v-radio',{attrs:{\"label\":\"ascending\",\"value\":\"ascending\"}}),_c('v-radio',{attrs:{\"label\":\"descending\",\"value\":\"descending\"}})],1)],1)])],1)],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n  union,\n} from '../../utils';\n\nexport default Vue.extend({\n  name: 'CumulativeAccuracy',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 50, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 500 - margin.top - margin.bottom;\n    const sorting = 'descending' as 'ascending' | 'descending';\n    const hover = {\n      type: '' as 'individual' | 'cumulative' | '',\n      count: -1,\n    };\n    return {\n      svg:'',\n      height,\n      hover,\n      width,\n      margin,\n      panel: [],\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      sorting,\n    };\n  },\n  computed: {\n    agreementKeys(): number[] {\n      const agreementKeys = Object.keys(this.agreements).map(Number).sort();\n      if (this.sorting === 'descending') {\n        agreementKeys.reverse();\n      }\n      return agreementKeys;\n    },\n    agreements(): {\n      [numberOfCorrectClassifiers: number]: Set<string>,\n    } {\n      const agreements: {\n        [numberOfCorrectClassifiers: number]: Set<string>,\n      } = {};\n\n      for (let i = 0; i <= this.classifiers.length; i++) {\n        agreements[i] = new Set();\n      }\n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        const correctClassifiers = this.classifiers.filter((c) => i.predictions[c] === i.actual);\n        const numberOfCorrectClassifiers = correctClassifiers.length;\n        agreements[numberOfCorrectClassifiers].add(id);\n      });\n\n      return agreements;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    cumulativeAgreements(): {\n      [numberOfCorrectClassifiers: number]: Set<string>,\n    } {\n      const cumulativeAgreements: {\n        [numberOfCorrectClassifiers: number]: Set<string>,\n      } = {};\n\n      this.agreementKeys.forEach((key, index) => {\n        cumulativeAgreements[key] = new Set();\n        this.agreementKeys.slice(0, index + 1).forEach((key2) => {\n          cumulativeAgreements[key] = union(\n            cumulativeAgreements[key],\n            this.agreements[key2],\n          );\n        });\n      });\n\n      return cumulativeAgreements;\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusDotEmphasis(): String{return  this.$store.state.focusDotEmphasis},\n    x(): d3.ScaleBand<number> {\n      const x = d3.scaleBand<number>()\n        .domain(this.agreementKeys)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0.1);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n  },\n  watch: {\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawInitial();\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n    sorting() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    barYOffset(d: number) {\n      const numberOfInstances = this.agreements[d].size;\n      const fractionOfTotalInstances = numberOfInstances / this.instances.length;\n      return this.y(fractionOfTotalInstances);\n    },\n    clearHover() {\n      this.hover = ({type: '', count: -1});\n    },\n    circleYOffset(d: number) {\n      const numberOfInstances = this.cumulativeAgreements[d].size;\n      const fractionOfTotalInstances = numberOfInstances / this.instances.length;\n      return this.y(fractionOfTotalInstances);\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('width', this.width)\n          .attr('height', this.height)\n          .attr('fill', 'teal');\n      };\n      // drawBackgroundRect();\n\n      const x = this.x;\n      const y = this.y;\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20);\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20);\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom * 0.8;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('How many classifiers correctly classified an instance');\n\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Fraction of instances');\n\n      };\n      drawTitles();\n\n      const drawBars = () => {\n        const barCells = svg.selectAll('.cell')\n          .data(this.agreementKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', (d: number) => `translate(${x(d)}, ${0})`)\n            .on('mouseenter', (d: number) => this.hover = ({type: 'individual', count: d}))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: number) => this.select(d, 'individual', 'first'))\n            .on('contextmenu', (d: number) => this.select(d, 'individual', 'second'));\n\n        this.svg = svg;\n        const barWidth = x.bandwidth();\n        const barYOffset = this.barYOffset;\n        const barHeight = (d: number) => this.height - barYOffset(d);\n\n        barCells.append('rect')\n          .attr('class', 'bar')\n          .attr('y', (d: number) => barYOffset(d))\n          .attr('width', barWidth)\n          .attr('height', (d: number) => barHeight(d))\n          .attr('fill', 'lightgray')\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke');\n        barCells.append(\"circle\")   \n            .attr('class', 'bar-circle')\n            .attr('cx', barWidth / 2)\n            .attr('cy',  this.height-15)\n            .attr('r','15px')\n            .attr(\"visibility\",(d: number) => barHeight(d)/ this.height == 0? \"hidden\"\n                  : barHeight(d)/ this.height>0.05? \"hidden\":\"visible\")\n            .style('fill', 'lightgray')    \n            .attr('stroke', 'grey')\n\n      };\n\n      const drawCircle = () => {\n        const circleXOffset = x.bandwidth() / 2;\n        const circleYOffset = this.circleYOffset;\n        const circleR = Math.min(this.width / 30, x.bandwidth() / 10);\n\n        svg.selectAll('circle')\n          .data(this.agreementKeys)\n          .join('circle')\n          .attr('class', 'cumulative')\n          .attr('cx', (d: number) => (x(d) as number) + circleXOffset)\n          .attr('cy', (d: number) => circleYOffset(d))\n          .attr('r', circleR)\n          .attr('fill', 'lightgray')\n          .attr('stroke', 'black')\n          .style('paint-order', 'stroke')\n          .on('mouseenter', (d: number) => this.hover = ({type: 'cumulative', count: d}))\n          .on('mouseleave', this.clearHover)\n          .on('click', (d: number) => this.select(d, 'cumulative', 'first'))\n          .on('contextmenu', (d: number) => this.select(d, 'cumulative', 'second'));\n      };\n\n      const drawLine = () => {\n        const line = d3.line()\n          .x((d) => d[0])\n          .y((d) => d[1]);\n\n        const coordinates: Array<[number, number]> = [];\n        const coordinateXOffset = x.bandwidth() / 2;\n        const coordinateYOffset = (d: number) => {\n          const numberOfInstances = this.cumulativeAgreements[d].size;\n          const fractionOfTotalInstances = numberOfInstances / this.instances.length;\n          return y(fractionOfTotalInstances);\n        };\n        this.agreementKeys.forEach((key) => {\n          const xVal = (x(key) as number) + coordinateXOffset;\n          const yVal = coordinateYOffset(key);\n          coordinates.push([xVal, yVal]);\n        });\n\n        svg.append('path')\n          .datum(coordinates)\n          .attr('d', line)\n          .attr('fill', 'none')\n          .attr('stroke', 'lightgray')\n          .attr('stroke-width', '2px');\n      };\n\n      const yAxisMarkerLine = () => {\n        svg.append('line')\n          .attr('class', 'y-axis-marker-line')\n          .attr('y1', y(1))\n          .attr('x2', this.width)\n          .attr('y2', y(1))\n          .attr('stroke', 'red')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n      };\n\n      const yAxisMarkerText = () => {\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 20)\n          .attr('pointer-events', 'none');\n      };\n\n      drawLine();\n      drawCircle();\n      drawBars();\n      yAxisMarkerLine();\n      yAxisMarkerText();\n\n      this.drawHover();\n      this.drawSelections();\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const bars = chart.selectAll('.bar');\n      const circles = chart.selectAll('.cumulative');\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line');\n      const yAxisMarkerText = chart.select('.y-axis-marker-text');\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n\n      switch (this.hover.type) {\n        case 'individual':\n          bars.data(this.agreementKeys)\n            .transition()\n            .duration(moveDuration)\n            .attr('fill', (d: number) => d === this.hover.count ? 'black' : 'lightgray');\n          circles\n            .transition()\n            .duration(moveDuration)\n            .attr('fill', 'lightgray');\n          yAxisMarkerLine\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', this.barYOffset(this.hover.count))\n            .attr('x2', this.width)\n            .attr('y2', this.barYOffset(this.hover.count));\n          yAxisMarkerText\n            .transition()\n            .duration(moveDuration)\n            .attr('transform', `translate(\n              ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n              ${this.barYOffset(this.hover.count) - 10})`)\n            .text(`${(this.agreements[this.hover.count].size / this.instances.length * 100).toFixed(1)}%`);\n          break;\n        case 'cumulative':\n          const hoverCountIndex = this.agreementKeys.indexOf(this.hover.count);\n          bars.data(this.agreementKeys)\n            .transition()\n            .duration(moveDuration)\n            .attr('fill', (d: number, i: number) => i <= hoverCountIndex ? 'black' : 'lightgray');\n          circles.data(this.agreementKeys)\n            .transition()\n            .duration(moveDuration)\n            .attr('fill', (d: number) => d === this.hover.count ? 'black' : 'lightgray');\n          yAxisMarkerLine\n            .transition()\n            .duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('y1', this.circleYOffset(this.hover.count))\n            .attr('x2', (this.x(this.hover.count) as number) + this.x.bandwidth() / 2)\n            .attr('y2', this.circleYOffset(this.hover.count));\n          yAxisMarkerText\n            .transition()\n            .duration(moveDuration)\n            .attr('transform', `translate(\n              ${this.x.paddingOuter() * this.x.bandwidth() / 2},\n              ${this.circleYOffset(this.hover.count) - 10})`)\n            .text(`${(this.cumulativeAgreements[this.hover.count].size / this.instances.length * 100).toFixed(1)}%`);\n          break;\n        default:\n          bars\n            .transition()\n            .duration(disappearDuration)\n            .attr('fill', 'lightgray');\n          circles\n            .transition()\n            .duration(disappearDuration)\n            .attr('fill', 'lightgray');\n          yAxisMarkerLine\n            .transition()\n            .duration(disappearDuration)\n            .attr('stroke-opacity', 0);\n          yAxisMarkerText\n            .transition()\n            .duration(disappearDuration)\n            .text('');\n          break;\n      }\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n     \n      const { first, second } = this.selections;\n\n      const yOffset = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        const fractionOfTotalInstances = overlappingInstances.size / this.instances.length;\n        return this.y(fractionOfTotalInstances);\n      };\n      const height = (instances: Set<string>, selection: Set<string>) => {\n        return this.height - yOffset(instances, selection);\n      };\n      const hasFocusItem = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n\n\n      const selections = [first, second];\n      const x = this.x;\n      const barWidth = x.bandwidth();\n      const selectionBarWidth  = barWidth / 8;\n\n      selections.forEach((cur_selection, idx)=>{\n        if (!cur_selection) {\n          this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n          this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n        } else {\n          this.agreementKeys.forEach((d)=>{\n            let selection_attributes = {\n                barCells : this.svg,\n                x : x(d) + barWidth / 2 + (idx-1) * selectionBarWidth ,\n                y : yOffset(this.agreements[d], cur_selection.instances),\n                width : selectionBarWidth,\n                height : height(this.agreements[d], cur_selection.instances),\n                r  : selectionBarWidth / 2,\n                color : idx == 0? this.selection1Color : this.selection2Color,\n                circle_visibility : height(this.agreements[d], cur_selection.instances) == 0?\"hidden\"\n                      :height(this.agreements[d], cur_selection.instances)/ this.height>0.05?\"hidden\":\"visible\",\n                cx : x(d) + barWidth / 2  + (idx - 1/2) * selectionBarWidth,\n                cy : this.height-selectionBarWidth / 2,\n                selection_type: idx,\n                focused: hasFocusItem(this.agreements[d], cur_selection.instances),\n                view_name : this.name\n              }\n              this.$store.dispatch('drawSelections',selection_attributes)\n          })\n        }\n      })\n    },\n    select(\n      d: number,\n      type: 'individual' | 'cumulative',\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const instances = type === 'individual'\n        ? this.agreements[d]\n        : this.cumulativeAgreements[d];\n      const description = type === 'individual'\n        ? `Instances which exactly ${d} classifiers correctly classified`\n        : `Instances which at least ${d} classifiers correctly classified`;\n\n      this.$store.dispatch('prependToSelectionHistory', { instances, description });\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierAccuracy.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OverallClassifierAccuracy.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OverallClassifierAccuracy.vue?vue&type=template&id=1393318d&scoped=true&\"\nimport script from \"./OverallClassifierAccuracy.vue?vue&type=script&lang=ts&\"\nexport * from \"./OverallClassifierAccuracy.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./OverallClassifierAccuracy.vue?vue&type=style&index=0&id=1393318d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1393318d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[(_vm.datasetType == 'continuous')?_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Threshold Set\")]),_c('v-expansion-panel-content',[_c('ContinuousMode')],1)],1):_vm._e(),(_vm.datasetType == 'continuous')?_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"BandWidth Set (Trinary Mode)\")]),_c('v-expansion-panel-content',[_c('UncertainAdjuster')],1)],1):_vm._e(),_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Selection History\")]),_c('v-expansion-panel-content',[_c('SetHistory')],1)],1),(_vm.datasetType == 'continuous')?_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Instance Sampling\")]),_c('v-expansion-panel-content',[_c('RandomSampling'),_c('StratifiedSampling'),_c('BootstrapSampling')],1)],1):_vm._e(),(_vm.datasetType == 'continuous')?_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"K-Fold Validation\")]),_c('v-expansion-panel-content',[_c('KfoldValidation')],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Classes\")]),_c('v-expansion-panel-content',[_c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.classList),function(className){return _c('v-list-item',{key:className,on:{\"click\":_vm.applyFilter}},[_c('v-list-item-title',[_c('v-checkbox',{attrs:{\"value\":className,\"label\":className},model:{value:(_vm.checkedBoxes),callback:function ($$v) {_vm.checkedBoxes=$$v},expression:\"checkedBoxes\"}})],1)],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport {\n  EntityType,\n  SelectionAction,\n} from '../../../types';\n\nexport default Vue.extend({\n  name: 'ClassFilter',\n  data() {\n    return {\n      panel: [] as string[],\n      checkedBoxes: [] as string[],\n    };\n  },\n  computed: {\n    classList(): string[] {\n      return [...this.$store.getters.classes];\n    },\n  },\n  methods: {\n    applyFilter() {\n      const payload: {\n        entityType: EntityType,\n        newFilter: {\n          type: SelectionAction,\n          set: Set<string>,\n        },\n      } = {\n        entityType: EntityType.Class,\n        newFilter: {\n          type: SelectionAction.Exclude,\n          set: new Set(this.checkedBoxes),\n        },\n      };\n      console.log('class checkboxes', payload);\n      this.$store.dispatch('changedFilter', payload);\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassFilter.vue?vue&type=template&id=51619e89&\"\nimport script from \"./ClassFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClassFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCheckbox,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VList,VListItem,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Classifiers\")]),_c('v-expansion-panel-content',[_c('v-list',_vm._l((_vm.classifierThresholdList),function(classifier){return _c('v-list-item',{key:classifier,on:{\"click\":_vm.applyFilter}},[_c('v-list-item-title',[_c('v-checkbox',{attrs:{\"value\":classifier,\"label\":classifier},model:{value:(_vm.checkedBoxes),callback:function ($$v) {_vm.checkedBoxes=$$v},expression:\"checkedBoxes\"}})],1)],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport {\n  EntityType,\n  SelectionAction,\n} from '../../../types';\n\nexport default Vue.extend({\n  name: 'ClassifierFilter',\n  data() {\n    return {\n      panel: [] as string[],\n      checkedBoxes: [] as string[],\n    };\n  },\n  computed: {\n    classifierThresholdList(): string[] {\n      return [...this.$store.getters.classifiers];\n    },\n    datasetType(): string {\n      return this.$store.state.datasetType;\n    }\n  },\n  methods: {\n    applyFilter() {\n      const payload: {\n        entityType: EntityType,\n        newFilter: {\n          type: SelectionAction,\n          set: Set<string>,\n        },\n      } = {\n        entityType: EntityType.Classifier,\n        newFilter: {\n          type: SelectionAction.Exclude,\n          set: new Set(this.checkedBoxes),\n        },\n      };\n      \n      console.log('classifier checkboxes', payload);\n      this.$store.dispatch('changedFilter', payload);\n      if (this.datasetType == 'continuous'){\n        this.$store.dispatch('changedContinuousMetrics')\n      }\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassifierFilter.vue?vue&type=template&id=30ef9710&\"\nimport script from \"./ClassifierFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClassifierFilter.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCheckbox,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VList,VListItem,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"margin-left\":\"20px\"}}),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.instances,\"pagination\":_vm.pagination,\"disable-initial-sort\":\"\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('tr',{class:{'hover-instance': props.item === _vm.$store.state.hoverInstance},style:(_vm.styleTableRow(props.item)),on:{\"mouseenter\":function($event){return _vm.changedHoverInstance(props.item.id)},\"mouseleave\":_vm.clearHoverInstance,\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select(props.item.id, 'first')},\"contextmenu\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select(props.item.id, 'second')}}},[_c('td',[_vm._v(_vm._s(props.item.id))]),_c('td',[_vm._v(_vm._s(props.item.actual))]),_vm._l((_vm.classifiers),function(classifier){return _c('td',{key:classifier},[_vm._v(\" \"+_vm._s(props.item.predictions[classifier])+\" \")])}),_vm._l((_vm.features),function(feature){return _c('td',{key:feature},[_vm._v(\" \"+_vm._s(props.item.features[feature])+\" \")])})],2)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { colors } from '../../theme';\nimport {\n  Instance,\n  InstanceWithId,\n  SelectionRecord,\n} from '../../types';\nimport { instanceById } from '../../utils';\nimport Vue from 'vue';\nimport { mapActions } from 'vuex';\n\ninterface Header {\n  text: string;\n  value: string;\n}\n\nexport default Vue.extend({\n  name: 'InstanceList',\n  data() {\n    return {\n      sortBy: '' as '' | 'first' | 'second' | 'common',\n      pagination: {\n        rowsPerPage: 10,\n      },\n    };\n  },\n  computed: {\n    classifiers(): string[] {\n      const classifiers = [...this.$store.getters.filteredClassifiers];\n      return classifiers;\n    },\n    features(): string[] {\n      const features = [...this.$store.getters.features];\n      return features;\n    },\n    headers(): Header[] {\n      const headers = [\n        { text: 'Id', value: 'id' },\n        { text: 'Actual class', value: 'actualClass' },\n      ];\n      this.classifiers.forEach((classifier: string) => {\n        headers.push({\n          text: classifier.replace(/_/g, ' '),\n          value: classifier,\n        });\n      });\n      this.$store.getters.features.forEach((feature: string) => {\n        headers.push({\n          text: feature,\n          value: feature,\n        });\n      });\n      return headers;\n    },\n    instances(): InstanceWithId[] {\n      const instances: InstanceWithId[] = [];\n      this.$store.getters.filteredInstances.forEach((id: string) => {\n        const i = instanceById(id);\n        const instance: InstanceWithId = {\n          id,\n          ...i,\n        };\n        instances.push(instance);\n      });\n\n      const { first, second } = this.selections;\n      const comparators = {\n        first: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n        second: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n        common: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n      };\n      if (this.sortBy) {\n        instances.sort(comparators[this.sortBy]);\n      }\n\n      return instances;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n  },\n  watch: {\n    selections() {\n      const { first, second } = this.selections;\n      if (first && second) {\n        this.sortBy = 'common';\n      } else if (first) {\n        this.sortBy = 'first';\n      } else if (second) {\n        this.sortBy = 'second';\n      } else {\n        this.sortBy = '';\n      }\n    },\n  },\n  methods: {\n    ...mapActions([\n      'changedHoverInstance',\n      'clearHoverInstance',\n    ]),\n    select(\n      id: string,\n      whichOverlap: 'first' | 'second',\n    ) {\n      const instances = new Set([id]);\n      const description = `Instance #${id}`;\n\n      this.$store.dispatch('prependToSelectionHistory', { instances, description });\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    styleTableRow(instance: InstanceWithId) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.selections;\n      const isFirst = (firstSelection && firstSelection.instances.has(instance.id));\n      const isSecond = (secondSelection && secondSelection.instances.has(instance.id));\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InstanceList.vue?vue&type=template&id=47878edb&scoped=true&\"\nimport script from \"./InstanceList.vue?vue&type=script&lang=ts&\"\nexport * from \"./InstanceList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./InstanceList.vue?vue&type=style&index=0&id=47878edb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47878edb\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VDataTable})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('div',{staticClass:\"buttons\"},[_c('div',{staticStyle:{\"display\":\"table\"}},[_c('v-radio-group',{attrs:{\"label\":\"Base dataset\",\"row\":\"\"},on:{\"change\":_vm.continuousChange},model:{value:(_vm.$store.state.baseDataset),callback:function ($$v) {_vm.$set(_vm.$store.state, \"baseDataset\", $$v)},expression:\"$store.state.baseDataset\"}},[_c('v-radio',{attrs:{\"label\":\"training\",\"value\":\"train\"}}),_c('v-radio',{attrs:{\"label\":\"testing\",\"value\":\"test\"}}),_c('v-radio',{attrs:{\"label\":\"all\",\"value\":\"both\"}}),(_vm.datasetType == 'continuous')?_c('v-radio',{attrs:{\"label\":\"sample\",\"value\":\"sample\"}}):_vm._e()],1)],1),_c('div',{staticStyle:{\"display\":\"table\"}},[_c('span',{staticStyle:{\"display\":\"table-cell\",\"vertically-align\":\"middle\",\"font-size\":\"12px\"}},[_vm._v(\"Current selections\")]),_vm._l((['first', 'second']),function(whichOverlap){return _c('v-menu',{key:whichOverlap,attrs:{\"open-on-hover\":\"\",\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"500px\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({class:{ 'white--text': whichOverlap === 'second' },attrs:{\"color\":_vm.colors.overlapSelections[whichOverlap],\"fab\":\"\",\"small\":\"\"}},on),[_vm._v(\" \"+_vm._s(_vm.overlapSelectionDescription(whichOverlap))+\" \")])]}}],null,true)},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.setOverlapSelection({ whichOverlap: whichOverlap, selection: null })}}},[_c('v-list-item-title',[_vm._v(\"None\")])],1),_vm._l((_vm.selectionHistory),function(selection){return _c('v-list-item',{key:selection.id,on:{\"click\":function($event){return _vm.setOverlapSelection({ whichOverlap: whichOverlap, selection: selection })}}},[_c('v-list-item-title',[_vm._v(_vm._s(selection.id))])],1)})],2)],1)}),_c('v-btn',{attrs:{\"dark\":\"\",\"small\":\"\"},on:{\"click\":_vm.clearOverlapSelections}},[_vm._v(\" Clear both \")])],2),_c('div',{staticStyle:{\"display\":\"table\",\"margin-top\":\"25px\"}},[_c('span',{staticStyle:{\"display\":\"table-cell\",\"vertically-align\":\"middle\",\"font-size\":\"12px\"}},[_vm._v(\"Operations\")]),_vm._l((_vm.operations),function(operation){return _c('v-btn',{key:operation.description,style:((\"font-size: 24px; margin-right: 10px; \" + (operation.style))),attrs:{\"dark\":\"\",\"fab\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.composeUserSelections(operation.id)}}},[_vm._v(\" \"+_vm._s(operation.icon)+\" \")])})],2)]),_c('InstanceVennDiagram')],1),_c('br'),_c('v-btn',{attrs:{\"dark\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.$store.dispatch('resetSelectionHistory')}}},[_vm._v(\" Reset history \")]),_c('span',{staticStyle:{\"font-size\":\"12px\",\"font-weight\":\"bold\",\"padding\":\"10px\"}},[_vm._v(\"Past selections\")]),_c('div',{staticClass:\"table-container\"},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.selectionHistory,\"options\":_vm.pagination,\"disable-sort\":\"\",\"dense\":\"\"},on:{\"update:options\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.id,style:(_vm.styleTableRow(item))},[_c('td',{on:{\"click\":function($event){return _vm.setOverlapSelection({ whichOverlap: 'first', selection: item })},\"contextmenu\":function($event){$event.preventDefault();return _vm.setOverlapSelection({ whichOverlap: 'second', selection: item })}}},[_vm._v(_vm._s(item.id)+\" \")]),_c('td',{on:{\"click\":function($event){return _vm.setOverlapSelection({ whichOverlap: 'first', selection: item })},\"contextmenu\":function($event){$event.preventDefault();return _vm.setOverlapSelection({ whichOverlap: 'second', selection: item })}}},[_vm._v(_vm._s(item.instances.size))]),_c('td',{on:{\"click\":function($event){return _vm.setOverlapSelection({ whichOverlap: 'first', selection: item })},\"contextmenu\":function($event){$event.preventDefault();return _vm.setOverlapSelection({ whichOverlap: 'second', selection: item })}}},[_vm._v(_vm._s(item.description))]),(_vm.datasetType == 'continuous')?_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.weight),expression:\"item.weight\"}],attrs:{\"placeholder\":\"item.weight\"},domProps:{\"value\":(item.weight)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"weight\", $event.target.value)}}})]):_vm._e()])}),0)]}}])})],1),(_vm.datasetType == 'continuous')?_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.$store.dispatch('updateWeightedMetrics')}}},[_vm._v(\" Weighted performance \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('svg',{ref:\"svg\",attrs:{\"width\":\"100%\",\"viewBox\":(\"0 0 \" + (_vm.width + _vm.margin.left + _vm.margin.right) + \" \" + (_vm.height + _vm.margin.top + _vm.margin.bottom))}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport { colors } from '../../theme';\nimport { SelectionRecord } from '../../types';\nimport {\n  difference,\n  generateRandomId,\n  intersection,\n  union,\n} from '../../utils';\nimport {\n  Predicate,\n  PredicateComposed,\n  PredicateNegated,\n  PredicateSimple,\n  Rule,\n} from '../constraints/types';\nimport {\n  blankConstraint,\n  composePredicates,\n} from '../constraints/utils';\n\nexport default Vue.extend({\n  name: 'InstanceVennDiagram',\n  data() {\n      const margin = { top: 50, right: 20, bottom: 50, left: 20 };\n      const width = 400 - margin.left - margin.bottom;\n      const height = 200 - margin.top - margin.bottom;\n      return {\n        height,\n        margin,\n        width,\n      };\n  },\n  computed: {\n    barHeight(): number {\n      return this.height / 3;\n    },\n    barWidth(): number {\n      return this.width;\n    },\n    complement(): Set<string> {\n      return difference(this.instances, this.firstSecondUnion);\n    },\n    first(): Set<string> {\n      const first =\n        (this.selections.first)\n        ? this.selections.first.instances\n        : new Set<string>();\n      return first;\n    },\n    firstOnly(): Set<string> {\n      return difference(this.first, this.second);\n    },\n    firstSecondUnion(): Set<string> {\n      return union(this.first, this.second);\n    },\n    firstSecondIntersection(): Set<string> {\n      return intersection(this.first, this.second);\n    },\n    gradientId(): string {\n      return generateRandomId();\n    },\n    instances(): Set<string> {\n      return this.$store.getters.filteredInstances;\n    },\n    interBarHeight(): number {\n      return this.height - 2 * this.barHeight;\n    },\n    second(): Set<string> {\n      const second =\n        (this.selections.second)\n        ? this.selections.second.instances\n        : new Set<string>();\n      return second;\n    },\n    secondOnly(): Set<string> {\n      return difference(this.second, this.first);\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    xTotal(): d3.ScaleLinear<number, number> {\n      const xTotal = d3.scaleLinear()\n        .domain([0, this.instances.size])\n        .range([0, this.barWidth]);\n      return xTotal;\n    },\n    xSelection(): d3.ScaleLinear<number, number> {\n      const xSelection = d3.scaleLinear()\n        .domain([0, Math.max(1, this.firstSecondUnion.size)])\n        .range([0, this.barWidth]);\n      return xSelection;\n    },\n  },\n  watch: {\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawHover();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    drawHover() {\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n\n      const moveDuration = 1000;\n\n      const drawBars = () => {\n        const rectComplement = svg.select('.rect-complement');\n        const rectUnion = svg.select('.rect-union');\n        const rectFirstOnly = svg.select('.rect-first-only');\n        const rectIntersection = svg.select('.rect-intersection');\n        const rectSecondOnly = svg.select('.rect-second-only');\n\n        rectUnion\n          .transition().duration(moveDuration)\n          .attr('x', 0)\n          .attr('width', this.xTotal(this.firstSecondUnion.size));\n\n        rectComplement\n          .transition().duration(moveDuration)\n          .attr('x', this.xTotal(this.firstSecondUnion.size))\n          .attr('width', this.barWidth - this.xTotal(this.firstSecondUnion.size));\n\n        rectFirstOnly\n          .transition().duration(moveDuration)\n          .attr('width', this.xSelection(this.firstOnly.size));\n\n        rectIntersection\n          .transition().duration(moveDuration)\n          .attr('x', this.xSelection(this.firstOnly.size))\n          .attr('width', this.xSelection(this.firstSecondIntersection.size));\n\n        rectSecondOnly\n          .transition().duration(moveDuration)\n          .attr('x', this.xSelection(this.first.size))\n          .attr('width', this.xSelection(this.secondOnly.size));\n      };\n      drawBars();\n\n      const drawLines = () => {\n        const leftLine = svg.select('.left-line');\n        const rightLine = svg.select('.right-line');\n\n        if (!this.firstSecondUnion.size) {\n          leftLine\n            .transition().duration(moveDuration)\n            .attr('stroke-opacity', 0);\n\n          rightLine\n            .transition().duration(moveDuration)\n            .attr('stroke-opacity', 0)\n            .attr('x1', 0)\n            .attr('x2', 0);\n        } else {\n          leftLine\n            .transition().duration(moveDuration)\n            .attr('stroke-opacity', 1);\n\n          rightLine\n            .transition().duration(moveDuration)\n            .attr('stroke-opacity', 1)\n            .attr('x1', this.xTotal(this.firstSecondUnion.size))\n            .attr('x2', this.barWidth);\n        }\n      };\n      drawLines();\n\n      const drawText = () => {\n        const textComplement = svg.select('.text-complement');\n        const textUnion = svg.select('.text-union');\n        const textFirstOnly = svg.select('.text-first-only');\n        const textIntersection = svg.select('.text-intersection');\n        const textSecondOnly = svg.select('.text-second-only');\n\n        textUnion\n          .html(this.percentageText(this.firstSecondUnion.size, this.instances.size))\n          .transition().duration(moveDuration)\n          .attr('x',  this.xTotal(this.firstSecondUnion.size) / 2);\n\n        textComplement\n          .html(this.percentageText(this.complement.size, this.instances.size))\n          .transition().duration(moveDuration)\n          .attr('x',\n            this.xTotal(this.firstSecondUnion.size)\n            + (this.barWidth - this.xTotal(this.firstSecondUnion.size)) / 2);\n\n        textFirstOnly\n          .html(this.percentageText(this.firstOnly.size, this.firstSecondUnion.size))\n          .transition().duration(moveDuration)\n          .attr('x',  this.xSelection(this.firstOnly.size) / 2);\n\n        textIntersection\n          .html(this.percentageText(this.firstSecondIntersection.size, this.firstSecondUnion.size))\n          .transition().duration(moveDuration)\n          .attr('x',  this.xSelection(this.firstOnly.size) + this.xSelection(this.firstSecondIntersection.size) / 2);\n\n        textSecondOnly\n          .html(this.percentageText(this.secondOnly.size, this.firstSecondUnion.size))\n          .transition().duration(moveDuration)\n          .attr('x',  this.xSelection(this.first.size) + this.xSelection(this.secondOnly.size) / 2);\n      };\n      drawText();\n\n    },\n    drawInitial() {\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg);\n      svg.selectAll('*').remove();\n\n      const defineGradient = () => {\n        const defs = svg.append('defs');\n\n        const gradient = defs.append('linearGradient')\n          .attr('id', this.gradientId)\n          .attr('x1', '0%')\n          .attr('y1', '0%')\n          .attr('x2', '0%')\n          .attr('y2', '100%');\n        gradient.append('stop')\n          .attr('offset', '0%')\n          .attr('stop-color', colors.overlapSelections.first)\n          .attr('stop-opacity', 1);\n        gradient.append('stop')\n          .attr('offset', '100%')\n          .attr('stop-color', colors.overlapSelections.second)\n          .attr('stop-opacity', 1);\n      };\n      defineGradient();\n\n      const chart = svg.append('g')\n        .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const drawBars = () => {\n        const barTotal = chart.append('g')\n          .attr('class', 'bar-whole')\n          .attr('transform', `translate(${0}, ${0})`);\n\n        const barUnion = chart.append('g')\n          .attr('class', 'bar-union')\n          .attr('transform', `translate(${0}, ${this.barHeight + this.interBarHeight})`);\n\n        barUnion.append('rect')\n          .attr('class', 'rect-outline')\n          .attr('width', this.barWidth)\n          .attr('height', this.barHeight)\n          .attr('fill', 'none')\n          .attr('stroke', 'black');\n\n        barTotal.append('rect')\n          .attr('class', 'rect-union')\n          .attr('x', 0)\n          .attr('width', this.xTotal(this.firstSecondUnion.size))\n          .attr('height', this.barHeight)\n          .attr('fill', 'black')\n          .attr('stroke', 'black')\n          .on('click', () => this.select('union', this.selections.first, this.selections.second));\n\n        barTotal.append('rect')\n          .attr('class', 'rect-complement')\n          .attr('x', this.xTotal(this.firstSecondUnion.size))\n          .attr('width', this.barWidth - this.xTotal(this.firstSecondUnion.size))\n          .attr('height', this.barHeight)\n          .attr('fill', 'lightgray')\n          .attr('stroke', 'black')\n          .on('click', () => this.select('complement', this.selections.first, this.selections.second));\n\n        barUnion.append('rect')\n          .attr('class', 'rect-first-only')\n          .attr('width', this.xSelection(this.firstOnly.size))\n          .attr('height', this.barHeight)\n          .attr('fill', colors.overlapSelections.first)\n          .attr('stroke', 'black')\n          .on('click', () => this.select('difference', this.selections.first, this.selections.second));\n\n        barUnion.append('rect')\n          .attr('class', 'rect-intersection')\n          .attr('x', this.xSelection(this.firstOnly.size))\n          .attr('width', this.xSelection(this.firstSecondIntersection.size))\n          .attr('height', this.barHeight)\n          .attr('fill', `url(#${this.gradientId})`)\n          .attr('stroke', 'black')\n          .on('click', () => this.select('intersection', this.selections.first, this.selections.second));\n\n        barUnion.append('rect')\n          .attr('class', 'rect-second-only')\n          .attr('x', this.xSelection(this.first.size))\n          .attr('width', this.xSelection(this.secondOnly.size))\n          .attr('height', this.barHeight)\n          .attr('fill', colors.overlapSelections.second)\n          .attr('stroke', 'black')\n          .on('click', () => this.select('difference', this.selections.second, this.selections.first));\n\n        const drawText = () => {\n          barTotal.append('text')\n            .attr('class', 'text-union')\n            .attr('x',  this.xTotal(this.firstSecondUnion.size) / 2)\n            .attr('y', -10)\n            .attr('dominant-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr('font-size', 12)\n            .html(this.percentageText(this.firstSecondUnion.size, this.instances.size));\n\n          barTotal.append('text')\n            .attr('class', 'text-complement')\n            .attr('x',\n              this.xTotal(this.firstSecondUnion.size)\n              + (this.barWidth - this.xTotal(this.firstSecondUnion.size)) / 2)\n            .attr('y', -10)\n            .attr('dominant-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr('font-size', 12)\n            .html(this.percentageText(this.complement.size, this.instances.size));\n\n          barUnion.append('text')\n            .attr('class', 'text-first-only')\n            .attr('x',  this.xSelection(this.firstOnly.size) / 2)\n            .attr('y', this.barHeight + 10)\n            .attr('dominant-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr('font-size', 12)\n            .html(this.percentageText(this.firstOnly.size, this.firstSecondUnion.size));\n\n          barUnion.append('text')\n            .attr('class', 'text-intersection')\n            .attr('x',  this.xSelection(this.firstOnly.size) + this.xSelection(this.firstSecondIntersection.size) / 2)\n            .attr('y', this.barHeight + 10)\n            .attr('dominant-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr('font-size', 12)\n            .html(this.percentageText(this.firstSecondIntersection.size, this.firstSecondUnion.size));\n\n          barUnion.append('text')\n            .attr('class', 'text-second-only')\n            .attr('x',  this.xSelection(this.first.size) + this.xSelection(this.secondOnly.size) / 2)\n            .attr('y', this.barHeight + 10)\n            .attr('dominant-baseline', 'middle')\n            .attr('text-anchor', 'middle')\n            .attr('font-size', 12)\n            .html(this.percentageText(this.secondOnly.size, this.firstSecondUnion.size));\n        };\n        drawText();\n      };\n      drawBars();\n\n      const drawLines = () => {\n        const leftLine = chart.append('line')\n          .attr('class', 'left-line')\n          .attr('x1', 0)\n          .attr('y1', this.barHeight)\n          .attr('x2', 0)\n          .attr('y2', this.barHeight + this.interBarHeight)\n          .attr('stroke', 'black')\n          .attr('stroke-opacity', 0);\n\n        const rightLine = chart.append('line')\n          .attr('class', 'right-line')\n          .attr('x1', this.xTotal(this.firstSecondUnion.size))\n          .attr('y1', this.barHeight)\n          .attr('x2', this.width)\n          .attr('y2', this.barHeight + this.interBarHeight)\n          .attr('stroke', 'black')\n          .attr('stroke-opacity', 0);\n      };\n      drawLines();\n\n    },\n    percentageText(value: number, total: number) {\n      if (!value) {\n        return '';\n      }\n      const percentage = value / total * 100;\n      if (percentage > 1) {\n        return `${percentage.toFixed(0)}%`;\n      }\n      return `${percentage.toFixed(1)}%`;\n    },\n    select(\n      operation: 'complement' | 'difference' | 'intersection' | 'union',\n      operand1: SelectionRecord | null,\n      operand2: SelectionRecord | null,\n    ) {\n      if (!(operand1 && operand2)) {\n        console.error(`invalid operand1 (${operand1}) or operand2 (${operand2}) to select in InstanceVennDiagram`);\n        return;\n      }\n\n      let composition: Set<string> = new Set();\n      switch (operation) {\n        case 'complement':\n          composition = difference(this.instances, union(operand1.instances, operand2.instances));\n          break;\n        case 'difference':\n          composition = difference(operand1.instances, operand2.instances);\n          break;\n        case 'intersection':\n          composition = intersection(operand1.instances, operand2.instances);\n          break;\n        case 'union':\n          composition = union(operand1.instances, operand2.instances);\n          break;\n      }\n\n      const description =\n        (operation === 'complement')\n          ? `${operation}(${operand1.id})`\n          : `${operation}(${operand1.id}, ${operand2.id})`;\n\n      const payload: {\n        instances: Set<string>,\n        description: string,\n        predicate?: Predicate,\n      } = {\n        instances: composition,\n        description,\n      };\n\n      const p1 = operand1.predicate;\n      const p2 = operand2.predicate;\n      if (!p1) {\n        console.error('ERROR: Cannot compose. Predicate of operand1 is not defined!');\n      } else if (!p2) {\n        console.error('ERROR: Cannot compose. Predicate of operand2 is not defined!');\n      } else {\n        const predicate: Predicate = composePredicates(p1, p2, operation);\n        console.log('composed predicate is', predicate);\n        payload.predicate = predicate;\n      }\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', 'first');\n      this.$store.dispatch('changedOverlapSelection', { selection: null, whichOverlap: 'second'});\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceVennDiagram.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceVennDiagram.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InstanceVennDiagram.vue?vue&type=template&id=3e6003ca&\"\nimport script from \"./InstanceVennDiagram.vue?vue&type=script&lang=ts&\"\nexport * from \"./InstanceVennDiagram.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"100%\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"fab\":\"\",\"flat\":\"\",\"large\":\"\",\"color\":_vm.colors.red},slot:\"activator\"},[_c('v-icon',[_vm._v(\"add\")])],1),_c('v-card',{attrs:{\"height\":\"90vh\"}},[_c('v-card-title',[_vm._l((_vm.buttons),function(b,index){return _c('v-tooltip',{key:index,attrs:{\"bottom\":\"\"}},[_c('template',{slot:\"activator\"},[_c('v-btn',{attrs:{\"fab\":\"\",\"depressed\":\"\",\"small\":\"\",\"color\":b.color},on:{\"click\":b.action}},[_c('v-icon',[_vm._v(_vm._s(b.icon))])],1)],1),_c('span',[_vm._v(_vm._s(b.tooltip))])],2)}),_c('span',{staticClass:\"title ml-4\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")])],2),_c('v-card-text',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-layout',[_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('v-btn',{attrs:{\"fab\":\"\",\"flat\":\"\",\"small\":\"\",\"color\":_vm.colors.green},on:{\"click\":_vm.addNewConstraint}},[_c('v-icon',[_vm._v(\"add\")])],1),_vm._v(\" New constraint \"),_c('v-list',{attrs:{\"subheader\":\"\"}},[_c('v-subheader',[_vm._v(\"Constraints\")]),_vm._l((_vm.constraints),function(constraint,index){return _c('div',{key:index},[_c('v-btn',{attrs:{\"fab\":\"\",\"flat\":\"\",\"small\":\"\",\"color\":_vm.colors.red},on:{\"click\":function($event){return _vm.constraints.splice(index, 1)}}},[_c('v-icon',[_vm._v(\"close\")])],1),_c('v-btn',{attrs:{\"flat\":\"\",\"fab\":\"\",\"small\":\"\",\"color\":constraint.negation ? _vm.colors.orange : _vm.colors.gray},on:{\"click\":function($event){constraint.negation = !constraint.negation}}},[(constraint.negation)?_c('v-icon',[_vm._v(\"indeterminate_check_box\")]):_c('v-icon',[_vm._v(\"check_box_outline_blank\")])],1),_c('span',[(!constraint.rule)?_c('ChooseRule',{attrs:{\"constraint\":constraint}}):(constraint.rule === _vm.rules.ACTUAL)?_c('ActualTargetClass',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.AGREE)?_c('ClassifiersAgree',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.PREDICTED)?_c('ClassifierPredicted',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.RIGHT)?_c('ClassifierRight',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.FEATURE_EQ)?_c('FeatureEquals',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.FEATURE_GT)?_c('FeatureGreaterThan',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):(constraint.rule === _vm.rules.FEATURE_LT)?_c('FeatureLessThan',{attrs:{\"boxProps\":_vm.regularBoxProps,\"constraint\":constraint}}):_c('span',[_vm._v(\" \"+_vm._s(constraint.rule)+\" \"+_vm._s(constraint.text)+\" \")])],1)],1)})],2)],1),_c('v-flex',{attrs:{\"xs6\":\"\"}},[_c('ConstrainedInstanceList',{attrs:{\"boxProps\":_vm.constrainedInstanceListBoxProps}})],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_vm._v(\" True target class was \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.target)?_c('span',[_vm._v(_vm._s(_vm.constraint.target))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.target))])]),_c('v-list',_vm._l((_vm.classes),function(target){return _c('v-list-tile',{key:target,on:{\"click\":function($event){_vm.constraint.target = target}}},[_c('v-list-tile-title',[_vm._v(_vm._s(target))])],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n} from '../../types';\n\nexport default Vue.extend({\n  name: 'ActualTargetClass',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActualTargetClass.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActualTargetClass.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ActualTargetClass.vue?vue&type=template&id=076bfdb4&\"\nimport script from \"./ActualTargetClass.vue?vue&type=script&lang=ts&\"\nexport * from \"./ActualTargetClass.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VList,VMenu})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_vm._v(\" Choose: \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.rule)?_c('span',[_vm._v(_vm._s(_vm.constraint.rule))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.rule))])]),_c('v-list',_vm._l((Object.values(_vm.rules).filter(function (p) { return p; })),function(item){return _c('v-list-tile',{key:item,on:{\"click\":function($event){_vm.constraint.rule = item}}},[_c('v-list-tile-title',[_vm._v(_vm._s(item))])],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\n\nexport default Vue.extend({\n  name: 'ChooseRule',\n  props: {\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChooseRule.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChooseRule.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChooseRule.vue?vue&type=template&id=1c69d330&\"\nimport script from \"./ChooseRule.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChooseRule.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VList,VMenu})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.classifier)?_c('span',[_vm._v(_vm._s(_vm.constraint.classifier))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.classifier))])]),_c('v-list',_vm._l((_vm.classifiers),function(classifier,index){return _c('v-list-tile',{key:index,on:{\"click\":function($event){_vm.constraint.classifier = classifier}}},[_c('v-list-tile-title',[_vm._v(_vm._s(classifier))])],1)}),1)],1),_vm._v(\" predicted \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.target)?_c('span',[_vm._v(_vm._s(_vm.constraint.target))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.target))])]),_c('v-list',_vm._l((_vm.classes),function(target){return _c('v-list-tile',{key:target,on:{\"click\":function($event){_vm.constraint.target = target}}},[_c('v-list-tile-title',[_vm._v(_vm._s(target))])],1)}),1)],1),_vm._v(\" target class \")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n} from '../../types';\n\nexport default Vue.extend({\n  name: 'ClassifierPredicted',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      return [...this.boxProps.classifiers];\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierPredicted.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierPredicted.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassifierPredicted.vue?vue&type=template&id=5eab5d60&\"\nimport script from \"./ClassifierPredicted.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClassifierPredicted.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VList,VMenu})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.classifier)?_c('span',[_vm._v(_vm._s(_vm.constraint.classifier))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.classifier))])]),_c('v-list',_vm._l((_vm.classifiers),function(classifier,index){return _c('v-list-tile',{key:index,on:{\"click\":function($event){_vm.constraint.classifier = classifier}}},[_c('v-list-tile-title',[_vm._v(_vm._s(classifier))])],1)}),1)],1),_vm._v(\" was right \")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n} from '../../types';\n\nexport default Vue.extend({\n  name: 'ClassifierRight',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    classifiers(): string[] {\n      return [...this.boxProps.classifiers];\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierRight.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifierRight.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassifierRight.vue?vue&type=template&id=68b6756f&\"\nimport script from \"./ClassifierRight.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClassifierRight.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VList,VMenu})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.classifier)?_c('span',[_vm._v(_vm._s(_vm.constraint.classifier))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.classifier))])]),_c('v-list',_vm._l((_vm.classifiers),function(classifier,index){return _c('v-list-tile',{key:index,on:{\"click\":function($event){_vm.constraint.classifier = classifier}}},[_c('v-list-tile-title',[_vm._v(_vm._s(classifier))])],1)}),1)],1),_vm._v(\" and \"),_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.classifier2)?_c('span',[_vm._v(_vm._s(_vm.constraint.classifier2))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.classifier))])]),_c('v-list',_vm._l((_vm.classifiers),function(classifier){return _c('v-list-tile',{key:classifier,on:{\"click\":function($event){_vm.constraint.classifier2 = classifier}}},[_c('v-list-tile-title',[_vm._v(_vm._s(classifier))])],1)}),1)],1),_vm._v(\" agree. \")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n} from '../../types';\n\nexport default Vue.extend({\n  name: 'ClassifiersAgree',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    classifiers(): string[] {\n      return [...this.boxProps.classifiers];\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifiersAgree.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClassifiersAgree.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClassifiersAgree.vue?vue&type=template&id=08ebd274&\"\nimport script from \"./ClassifiersAgree.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClassifiersAgree.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\ninstallComponents(component, {VBtn,VList,VMenu})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.feature)?_c('span',[_vm._v(_vm._s(_vm.constraint.feature))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.feature))])]),_c('v-list',_vm._l((_vm.features),function(feature){return _c('v-list-tile',{key:feature,on:{\"click\":function($event){_vm.constraint.feature = feature; _vm.constraint.value = ''}}},[_c('v-list-tile-title',[_vm._v(_vm._s(feature))])],1)}),1)],1),_vm._v(\" equals \"),_c('span',{staticClass:\"mx-3\"},[(!_vm.constraint.feature)?_c('span',[_vm._v(\" ... \")]):(_vm.isFeatureCategoricalOrNominal)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-autocomplete',{attrs:{\"hide-no-data\":\"\",\"items\":_vm.featureValues},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1)],1):(_vm.isFeatureOrdinal)?_c('span',[_vm._v(\" [ ordinal detected ] \")]):(_vm.isFeatureIntervalOrRatio)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-slider',{attrs:{\"always-dirty\":\"\",\"max\":_vm.featureValuesMax,\"min\":_vm.featureValuesMin,\"step\":_vm.featureValuesStep,\"thumb-label\":\"\",\"thumb-size\":\"70\"},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1),_vm._v(\" \"+_vm._s(_vm.constraint.value)+\" \")],1):_c('span',[_vm._v(\" \"+_vm._s(_vm.featureType)+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n  FeatureInterval,\n  FeatureRatio,\n} from '../../types';\nimport {\n  featureByName,\n  instanceById,\n} from '../../utils';\n\nexport default Vue.extend({\n  name: 'FeatureEquals',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    featureType(): string {\n      if (!this.constraint.feature) {\n        return '';\n      }\n      return featureByName(this.constraint.feature).type;\n    },\n    featureValues(): Array<unknown | number> {\n      if (!this.constraint.feature) {\n        return [];\n      }\n      const f = this.constraint.feature;\n      const values = this.instances.map((id) => {\n        const i = instanceById(id);\n        return i.features[f];\n      });\n      const valuesWithoutDuplicates = [...new Set(values)];\n      return valuesWithoutDuplicates;\n    },\n    featureValueBounds(): [number, number] {\n      const defaultBounds: [number, number] = [0, 0];\n      if (!this.constraint.feature) {\n        return defaultBounds;\n      }\n      const f = featureByName(this.constraint.feature);\n      const minMaxBounds = () => {\n        const values = this.featureValues as number[];\n        const bounds: [number, number] = [Math.min(...values), Math.max(...values)];\n        return bounds;\n      };\n      switch (this.featureType) {\n        case 'interval':\n          const boundsInterval = (f as FeatureInterval).bounds;\n          return boundsInterval\n            ? boundsInterval\n            : minMaxBounds();\n        case 'ratio':\n          const boundsRatio = (f as FeatureRatio).bounds;\n          return boundsRatio\n            ? boundsRatio\n            : minMaxBounds();\n        default:\n          return defaultBounds;\n      }\n    },\n    featureValuesMax(): number {\n      return this.featureValueBounds[1];\n    },\n    featureValuesMin(): number {\n      return this.featureValueBounds[0];\n    },\n    featureValuesStep(): number {\n      const range = this.featureValuesMax - this.featureValuesMin;\n      const step = range / 20;\n      return step;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    isFeatureCategoricalOrNominal(): boolean {\n      return ['categorical', 'nominal'].includes(this.featureType);\n    },\n    isFeatureOrdinal(): boolean {\n      return this.featureType === 'ordinal';\n    },\n    isFeatureIntervalOrRatio(): boolean {\n      return ['interval', 'ratio'].includes(this.featureType);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureEquals.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureEquals.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FeatureEquals.vue?vue&type=template&id=08fbd3cc&\"\nimport script from \"./FeatureEquals.vue?vue&type=script&lang=ts&\"\nexport * from \"./FeatureEquals.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VAutocomplete,VBtn,VFlex,VList,VMenu,VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.feature)?_c('span',[_vm._v(_vm._s(_vm.constraint.feature))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.feature))])]),_c('v-list',_vm._l((_vm.features),function(feature){return _c('v-list-tile',{key:feature,on:{\"click\":function($event){_vm.constraint.feature = feature; _vm.constraint.value = ''}}},[_c('v-list-tile-title',[_vm._v(_vm._s(feature))])],1)}),1)],1),_vm._v(\" greater than \"),_c('span',{staticClass:\"mx-3\"},[(!_vm.constraint.feature)?_c('span',[_vm._v(\" ... \")]):(_vm.isFeatureCategoricalOrNominal)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-autocomplete',{attrs:{\"hide-no-data\":\"\",\"items\":_vm.featureValues},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1)],1):(_vm.isFeatureOrdinal)?_c('span',[_vm._v(\" [ ordinal detected ] \")]):(_vm.isFeatureIntervalOrRatio)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-slider',{attrs:{\"always-dirty\":\"\",\"max\":_vm.featureValuesMax,\"min\":_vm.featureValuesMin,\"step\":_vm.featureValuesStep,\"thumb-label\":\"\",\"thumb-size\":\"70\"},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1),_vm._v(\" \"+_vm._s(_vm.constraint.value)+\" \")],1):_c('span',[_vm._v(\" \"+_vm._s(_vm.featureType)+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n  FeatureInterval,\n  FeatureRatio,\n} from '../../types';\nimport {\n  featureByName,\n  instanceById,\n} from '../../utils';\n\nexport default Vue.extend({\n  name: 'FeatureGreaterThan',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    features(): string[] {\n      const allFeatures: string[] = [...this.boxProps.features];\n      const allowedTypes = ['ordinal', 'interval', 'ratio'];\n      const allowedFeatures = allFeatures.filter((featureName) => {\n        const f = featureByName(featureName);\n        return allowedTypes.includes(f.type);\n      });\n      return allowedFeatures;\n    },\n    featureType(): string {\n      if (!this.constraint.feature) {\n        return '';\n      }\n      return featureByName(this.constraint.feature).type;\n    },\n    featureValues(): Array<unknown | number> {\n      if (!this.constraint.feature) {\n        return [];\n      }\n      const f = this.constraint.feature;\n      const values = this.instances.map((id) => {\n        const i = instanceById(id);\n        return i.features[f];\n      });\n      const valuesWithoutDuplicates = [...new Set(values)];\n      return valuesWithoutDuplicates;\n    },\n    featureValueBounds(): [number, number] {\n      const defaultBounds: [number, number] = [0, 0];\n      if (!this.constraint.feature) {\n        return defaultBounds;\n      }\n      const f = featureByName(this.constraint.feature);\n      const minMaxBounds = () => {\n        const values = this.featureValues as number[];\n        const bounds: [number, number] = [Math.min(...values), Math.max(...values)];\n        return bounds;\n      };\n      switch (this.featureType) {\n        case 'interval':\n          const boundsInterval = (f as FeatureInterval).bounds;\n          return boundsInterval\n            ? boundsInterval\n            : minMaxBounds();\n        case 'ratio':\n          const boundsRatio = (f as FeatureRatio).bounds;\n          return boundsRatio\n            ? boundsRatio\n            : minMaxBounds();\n        default:\n          return defaultBounds;\n      }\n    },\n    featureValuesMax(): number {\n      return this.featureValueBounds[1];\n    },\n    featureValuesMin(): number {\n      return this.featureValueBounds[0];\n    },\n    featureValuesStep(): number {\n      const range = this.featureValuesMax - this.featureValuesMin;\n      const step = range / 20;\n      return step;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    isFeatureCategoricalOrNominal(): boolean {\n      return ['categorical', 'nominal'].includes(this.featureType);\n    },\n    isFeatureOrdinal(): boolean {\n      return this.featureType === 'ordinal';\n    },\n    isFeatureIntervalOrRatio(): boolean {\n      return ['interval', 'ratio'].includes(this.featureType);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureGreaterThan.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureGreaterThan.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FeatureGreaterThan.vue?vue&type=template&id=17e13d93&\"\nimport script from \"./FeatureGreaterThan.vue?vue&type=script&lang=ts&\"\nexport * from \"./FeatureGreaterThan.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VAutocomplete,VBtn,VFlex,VList,VMenu,VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":\"70vh\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[(_vm.constraint.feature)?_c('span',[_vm._v(_vm._s(_vm.constraint.feature))]):_c('span',[_vm._v(_vm._s(_vm.placeholders.feature))])]),_c('v-list',_vm._l((_vm.features),function(feature){return _c('v-list-tile',{key:feature,on:{\"click\":function($event){_vm.constraint.feature = feature; _vm.constraint.value = ''}}},[_c('v-list-tile-title',[_vm._v(_vm._s(feature))])],1)}),1)],1),_vm._v(\" less than \"),_c('span',{staticClass:\"mx-3\"},[(!_vm.constraint.feature)?_c('span',[_vm._v(\" ... \")]):(_vm.isFeatureCategoricalOrNominal)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-autocomplete',{attrs:{\"hide-no-data\":\"\",\"items\":_vm.featureValues},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1)],1):(_vm.isFeatureOrdinal)?_c('span',[_vm._v(\" [ ordinal detected ] \")]):(_vm.isFeatureIntervalOrRatio)?_c('span',[_c('v-flex',{attrs:{\"d-inline-flex\":\"\"}},[_c('v-slider',{attrs:{\"always-dirty\":\"\",\"max\":_vm.featureValuesMax,\"min\":_vm.featureValuesMin,\"step\":_vm.featureValuesStep,\"thumb-label\":\"\",\"thumb-size\":\"70\"},model:{value:(_vm.constraint.value),callback:function ($$v) {_vm.$set(_vm.constraint, \"value\", $$v)},expression:\"constraint.value\"}})],1),_vm._v(\" \"+_vm._s(_vm.constraint.value)+\" \")],1):_c('span',[_vm._v(\" \"+_vm._s(_vm.featureType)+\" \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n} from './types';\nimport {\n  BoxProps,\n  FeatureInterval,\n  FeatureRatio,\n} from '../../types';\nimport {\n  featureByName,\n  instanceById,\n} from '../../utils';\n\nexport default Vue.extend({\n  name: 'FeatureLessThan',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    constraint: {\n      type: Object as () => Constraint,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      rules: Rule,\n      placeholders: PlaceHolder,\n    };\n  },\n  computed: {\n    features(): string[] {\n      const allFeatures: string[] = [...this.boxProps.features];\n      const allowedTypes = ['ordinal', 'interval', 'ratio'];\n      const allowedFeatures = allFeatures.filter((featureName) => {\n        const f = featureByName(featureName);\n        return allowedTypes.includes(f.type);\n      });\n      return allowedFeatures;\n    },\n    featureType(): string {\n      if (!this.constraint.feature) {\n        return '';\n      }\n      return featureByName(this.constraint.feature).type;\n    },\n    featureValues(): Array<unknown | number> {\n      if (!this.constraint.feature) {\n        return [];\n      }\n      const f = this.constraint.feature;\n      const values = this.instances.map((id) => {\n        const i = instanceById(id);\n        return i.features[f];\n      });\n      const valuesWithoutDuplicates = [...new Set(values)];\n      return valuesWithoutDuplicates;\n    },\n    featureValueBounds(): [number, number] {\n      const defaultBounds: [number, number] = [0, 0];\n      if (!this.constraint.feature) {\n        return defaultBounds;\n      }\n      const f = featureByName(this.constraint.feature);\n      const minMaxBounds = () => {\n        const values = this.featureValues as number[];\n        const bounds: [number, number] = [Math.min(...values), Math.max(...values)];\n        return bounds;\n      };\n      switch (this.featureType) {\n        case 'interval':\n          const boundsInterval = (f as FeatureInterval).bounds;\n          return boundsInterval\n            ? boundsInterval\n            : minMaxBounds();\n        case 'ratio':\n          const boundsRatio = (f as FeatureRatio).bounds;\n          return boundsRatio\n            ? boundsRatio\n            : minMaxBounds();\n        default:\n          return defaultBounds;\n      }\n    },\n    featureValuesMax(): number {\n      return this.featureValueBounds[1];\n    },\n    featureValuesMin(): number {\n      return this.featureValueBounds[0];\n    },\n    featureValuesStep(): number {\n      const range = this.featureValuesMax - this.featureValuesMin;\n      const step = range / 20;\n      return step;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    isFeatureCategoricalOrNominal(): boolean {\n      return ['categorical', 'nominal'].includes(this.featureType);\n    },\n    isFeatureOrdinal(): boolean {\n      return this.featureType === 'ordinal';\n    },\n    isFeatureIntervalOrRatio(): boolean {\n      return ['interval', 'ratio'].includes(this.featureType);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureLessThan.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureLessThan.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FeatureLessThan.vue?vue&type=template&id=431596c0&\"\nimport script from \"./FeatureLessThan.vue?vue&type=script&lang=ts&\"\nexport * from \"./FeatureLessThan.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VAutocomplete,VBtn,VFlex,VList,VMenu,VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"instance-list-title\"},[_vm._v(\" Query selects \"),_c('b',[_vm._v(_vm._s(_vm.instances.length)+\" \")]),_vm._v(\" instances ( or \"),_c('b',[_vm._v(_vm._s(_vm.instancePercentage))]),_vm._v(\" % ) \")]),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.instances,\"pagination\":_vm.pagination,\"disable-initial-sort\":\"\"},on:{\"update:pagination\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('tr',{class:{'hover-instance': props.item === _vm.$store.state.hoverInstance},style:(_vm.styleTableRow(props.item))},[_c('td',[_vm._v(_vm._s(props.item.id))]),_c('td',[_vm._v(_vm._s(props.item.actual))]),_vm._l((_vm.classifiers),function(classifier){return _c('td',{key:classifier},[_vm._v(\" \"+_vm._s(props.item.predictions[classifier])+\" \")])}),_vm._l((_vm.features),function(feature){return _c('td',{key:feature},[_vm._v(\" \"+_vm._s(props.item.features[feature])+\" \")])})],2)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { colors } from '../theme';\nimport {\n  BoxProps,\n  Instance,\n  InstanceWithId,\n  SelectionRecord,\n} from '../types';\nimport { instanceById } from '../utils';\nimport Vue from 'vue';\nimport { mapActions } from 'vuex';\n\ninterface Header {\n  text: string;\n  value: string;\n}\n\nexport default Vue.extend({\n  name: 'ConstrainedInstanceList',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      sortBy: '' as '' | 'first' | 'second' | 'common',\n      pagination: {\n        rowsPerPage: 10,\n      },\n    };\n  },\n  computed: {\n    classifiers(): string[] {\n      return [...this.boxProps.classifiers];\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    headers(): Header[] {\n      const headers = [\n        { text: 'Id', value: 'id' },\n        { text: 'Actual class', value: 'actualClass' },\n      ];\n      this.classifiers.forEach((classifier: string) => {\n        headers.push({\n          text: classifier.replace(/_/g, ' '),\n          value: classifier,\n        });\n      });\n      this.$store.getters.features.forEach((feature: string) => {\n        headers.push({\n          text: feature,\n          value: feature,\n        });\n      });\n      return headers;\n    },\n    instancePercentage(): string {\n      const part = this.instances.length;\n      const whole = this.$store.getters.instances.size;\n      const percentage = (part / whole * 100).toFixed(2);\n      return percentage;\n    },\n    instances(): InstanceWithId[] {\n      const instances: InstanceWithId[] = [];\n      [...this.boxProps.instances].forEach((id: string) => {\n        const i = instanceById(id);\n        const instance: InstanceWithId = {\n          id,\n          ...i,\n        };\n        instances.push(instance);\n      });\n\n      const { first, second } = this.selections;\n      const comparators = {\n        first: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n        second: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n        common: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n\n          return bBelongs - aBelongs;\n        },\n      };\n      if (this.sortBy) {\n        instances.sort(comparators[this.sortBy]);\n      }\n\n      return instances;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n  },\n  watch: {\n    selections() {\n      const { first, second } = this.selections;\n      if (first && second) {\n        this.sortBy = 'common';\n      } else if (first) {\n        this.sortBy = 'first';\n      } else if (second) {\n        this.sortBy = 'second';\n      } else {\n        this.sortBy = '';\n      }\n    },\n  },\n  methods: {\n    ...mapActions([\n      'changedHoverInstance',\n      'clearHoverInstance',\n    ]),\n    select(\n      id: string,\n      whichOverlap: 'first' | 'second',\n    ) {\n      const instances = new Set([id]);\n      const description = `Instance #${id}`;\n\n      this.$store.dispatch('prependToSelectionHistory', { instances, description });\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    styleTableRow(instance: InstanceWithId) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.selections;\n      const isFirst = (firstSelection && firstSelection.instances.has(instance.id));\n      const isSecond = (secondSelection && secondSelection.instances.has(instance.id));\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConstrainedInstanceList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConstrainedInstanceList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConstrainedInstanceList.vue?vue&type=template&id=6acec799&scoped=true&\"\nimport script from \"./ConstrainedInstanceList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConstrainedInstanceList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConstrainedInstanceList.vue?vue&type=style&index=0&id=6acec799&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6acec799\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VDataTable})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport ActualTargetClass from './constraints/ActualTargetClass.vue';\nimport ChooseRule from './constraints/ChooseRule.vue';\nimport ClassifierPredicted from './constraints/ClassifierPredicted.vue';\nimport ClassifierRight from './constraints/ClassifierRight.vue';\nimport ClassifiersAgree from './constraints/ClassifiersAgree.vue';\nimport FeatureEquals from './constraints/FeatureEquals.vue';\nimport FeatureGreaterThan from './constraints/FeatureGreaterThan.vue';\nimport FeatureLessThan from './constraints/FeatureLessThan.vue';\n\nimport ConstrainedInstanceList from '@/components/ConstrainedInstanceList.vue';\n\nimport {\n  BoxProps,\n  Instance,\n} from '../types';\nimport { instanceById } from '../utils';\n\nimport {\n  Constraint,\n  PlaceHolder,\n  Rule,\n  PredicateSimple,\n} from './constraints/types';\nimport {\n  blankConstraint,\n  constraintToString,\n  createFilter,\n  isConstraintComplete,\n} from './constraints/utils';\n\nexport default Vue.extend({\n  name: 'QueryGenerator',\n  components: {\n    ActualTargetClass,\n    ChooseRule,\n    ClassifierRight,\n    ClassifierPredicted,\n    ClassifiersAgree,\n    ConstrainedInstanceList,\n    FeatureEquals,\n    FeatureGreaterThan,\n    FeatureLessThan,\n  },\n  data() {\n    return {\n      colors: {\n        gray: '#bbbbbb',\n        green: '#0F0',\n        orange: '#ffc400',\n        red: '#F00',\n        yellow: '#FFEB3B',\n      },\n      dialog: false,\n      constraints: [] as Constraint[],\n      rules: Rule,\n      placeholders: PlaceHolder,\n      title: 'Query Creator',\n    };\n  },\n  computed: {\n    buttons(): any {\n      const buttons = [\n        {\n          action: this.discardQuery,\n          color: this.colors.red,\n          icon: 'close',\n          tooltip: `Discard constraints and close ${this.title}`,\n        },\n        {\n          action: this.resetQuery,\n          color: this.colors.yellow,\n          icon: 'refresh',\n          tooltip: `Start from scratch`,\n        },\n        {\n          action: this.saveQuery,\n          color: this.colors.green,\n          icon: 'check',\n          tooltip: `Save constraints as a query and close ${this.title}`,\n        },\n      ];\n      return buttons;\n    },\n    classifiers(): string[] {\n      return [...this.$store.getters.classifiers];\n    },\n    classes(): string[] {\n      return [...this.$store.getters.classes];\n    },\n    constrainedInstances(): string[] {\n      let instances = this.instances;\n      this.constraints.forEach((constraint) => {\n        const filter = createFilter(constraint);\n        instances = instances.filter(filter);\n      });\n      return instances;\n    },\n    thresholdClassifierNameList(): [] {\n      return this.$store.getters.thresholdClassifierNameList\n    },\n    classifierBandWidthDict(): {} {\n      return this.$store.getters.classifierBandWidthDict\n    },\n    constrainedInstanceListBoxProps(): BoxProps {\n      return {\n        classes: new Set(this.classes),\n        classifiers: new Set(this.classifiers),\n        features: new Set(this.features),\n        instances: new Set(this.constrainedInstances),\n        thresholdClassifierNameList: this.thresholdClassifierNameList,\n        classifierBandWidthDict:this.classifierBandWidthDict,\n      };\n    },\n    features(): string[] {\n      return [...this.$store.getters.features];\n    },\n    instances(): string[] {\n      return [...this.$store.getters.instances];\n    },\n    regularBoxProps(): BoxProps {\n      return {\n        classes: new Set(this.classes),\n        classifiers: new Set(this.classifiers),\n        features: new Set(this.features),\n        instances: new Set(this.instances),\n        thresholdClassifierNameList: this.thresholdClassifierNameList,\n        classifierBandWidthDict:this.classifierBandWidthDict,\n      };\n    },\n  },\n  methods: {\n    addNewConstraint() {\n      const constraint = blankConstraint();\n      this.constraints.unshift(constraint);\n    },\n    closeDialog() {\n      this.dialog = false;\n    },\n    discardQuery() {\n      this.closeDialog();\n      this.resetQuery();\n    },\n    isQueryComplete() {\n      return this.constraints.every(isConstraintComplete);\n    },\n    resetQuery() {\n      this.constraints = [];\n    },\n    saveQuery() {\n      if (!this.isQueryComplete()) {\n        alert('Please delete or fill incomplete constraints before saving.');\n        return;\n      }\n      const instances = new Set(this.constrainedInstances);\n      const descriptions: string[] = [];\n      this.constraints.forEach((constraint) => {\n        descriptions.push(constraintToString(constraint));\n      });\n\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: this.constraints,\n        metric:[],\n      };\n      const fullDescription = descriptions.join(' AND ');\n\n      const payload = {\n        description: fullDescription,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.closeDialog();\n      this.resetQuery();\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryGenerator.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QueryGenerator.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./QueryGenerator.vue?vue&type=template&id=f67b8332&\"\nimport script from \"./QueryGenerator.vue?vue&type=script&lang=ts&\"\nexport * from \"./QueryGenerator.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VContainer,VDialog,VFlex,VIcon,VLayout,VList,VSubheader,VTooltip})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport InstanceVennDiagram from './InstanceVennDiagram.vue';\nimport QueryGenerator from '../QueryGenerator.vue';\n\nimport {\n  SelectionRecord,\n  SetCompose,\n} from '../../types';\nimport { colors } from '../../theme';\nimport {\n  difference,\n  intersection,\n  union,\n  xor,\n} from '../../utils';\nimport { compareFeatureInterestingness } from '../constraints/utils';\n\nexport default Vue.extend({\n  name: 'SetHistory',\n  components: {\n    InstanceVennDiagram,\n    QueryGenerator,\n  },\n  data() {\n    const { first, second } = colors.overlapSelections;\n    const headers = this.$store.state.datasetType == 'continuous' ? [\n        { text: 'Id', value: 'id' },\n        { text: 'Size', value: 'size' },\n        { text: 'Description', value: 'description' },\n        { text: 'Weight (1-10)', value: 'weight' },\n      ]:[\n        { text: 'Id', value: 'id' },\n        { text: 'Size', value: 'size' },\n        { text: 'Description', value: 'description' },\n      ];\n    return {\n      colors,\n      headers,\n      operations: [\n        {\n          id: SetCompose.OR,\n          description: 'Union',\n          function: union,\n          icon: '∪',\n        },\n        {\n          id: SetCompose.AND,\n          description: 'Intersection',\n          function: intersection,\n          icon: '∩',\n        },\n        {\n          id: SetCompose.MINUS,\n          description: 'Difference',\n          function: difference,\n          icon: '−',\n          style: `\n            background: -webkit-linear-gradient(left, ${first} 50%, ${second} 50%);\n          `,\n        },\n        {\n          id: SetCompose.XOR,\n          description: 'Exclusive Or',\n          function: xor,\n          icon: '⊕',\n        },\n      ],\n      pagination: {\n        rowsPerPage: 10,\n      },\n    };\n  },\n  computed: {\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    selectionHistory(): SelectionRecord[] {\n      let selectionHistory = this.$store.state.selectionHistory;\n\n      // selectionHistory.forEach((i)=>{\n      //   if (selectionHistory)\n      //   i['weight'] = 0\n      // })\n      return selectionHistory;\n    },\n  },\n  methods: {\n    resetWeight() {\n      this.$store.dispatch('updateWeightedMode')\n      this.selectionHistory.forEach((i)=>{\n        i['weight'] = 0\n      })\n    },\n    \n    continuousChange() {\n      if (this.datasetType == 'continuous') {\n        this.$store.dispatch(\"changedContinuousMetrics\");\n        this.$store.dispatch('updateContinuousMetrics');\n      }\n    },\n    compareFeatureInterestingness,\n    composeUserSelections(type: SetCompose) {\n      const {first, second} = this.overlapSelections;\n      if (first === null || second == null) {\n        console.error('Both user selections must be non-null for composition.');\n        return;\n      }\n      const operation = this.operations.find((op) => op.id === type);\n      if (operation === undefined) {\n        console.error('Invalid set composition operation.');\n        return;\n      }\n      const composition: Set<string> = operation.function(first.instances, second.instances);\n      const payload = {\n        instances: composition,\n        description: `${type}(s${first.id}, s${second.id})`,\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n    },\n    clearOverlapSelections() {\n      this.setOverlapSelection({ whichOverlap: 'first', selection: null });\n      this.setOverlapSelection({ whichOverlap: 'second', selection: null });\n    },\n    overlapSelectionDescription(whichOverlap: 'first' | 'second') {\n      const firstOverlapSelection = this.overlapSelections[whichOverlap];\n      if (firstOverlapSelection === null) {\n        return '?';\n      }\n      return `${firstOverlapSelection.id}`;\n    },\n    changedBaseSelection(selection: SelectionRecord) {\n      this.$store.dispatch('changedBaseSelection', selection);\n    },\n    setOverlapSelection(\n      payload: {\n        selection: SelectionRecord | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      this.$store.dispatch('changedOverlapSelection', payload);\n    },\n    styleTableRow(record: SelectionRecord) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.overlapSelections;\n      const isFirst = (firstSelection && firstSelection.id === record.id);\n      const isSecond = (secondSelection && secondSelection.id === record.id);\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetHistory.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SetHistory.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SetHistory.vue?vue&type=template&id=fc83529a&scoped=true&\"\nimport script from \"./SetHistory.vue?vue&type=script&lang=ts&\"\nexport * from \"./SetHistory.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SetHistory.vue?vue&type=style&index=0&id=fc83529a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc83529a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VBtn,VDataTable,VList,VListItem,VListItemTitle,VMenu,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-content',[_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"all-instance\",\"color\":_vm.subset === 'all' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.allInstance}},[_vm._v(\"All\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"first-instance\",\"color\":_vm.subset === 'first' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.firstInstance}},[_vm._v(\"Selection 1\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"second-instance\",\"color\":_vm.subset === 'second' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.secondInstance}},[_vm._v(\"Selection 2\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"intersection-instance\",\"color\":_vm.subset === 'intersection' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.intersectionInstance}},[_vm._v(\"Intersection\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"union-instance\",\"color\":_vm.subset === 'union' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.unionInstance}},[_vm._v(\"Union\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"complement-instance\",\"color\":_vm.subset === 'complement' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.complementInstance}},[_vm._v(\"Complement of 1 Union 2\")])],1)],1)],1),_c('v-list',{attrs:{\"id\":\"item-container\"}},[_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.prevInstance(_vm.instances)}}},[_vm._v(\"Previous\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.nextInstance(_vm.instances)}}},[_vm._v(\"Next\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.randInstance(_vm.instances)}}},[_vm._v(\"Random\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":_vm.emphasize}},[_vm._v(\"Emphasize\")]),(_vm.focus(_vm.instances).features.image)?_c('v-img',{attrs:{\"contain\":\"\",\"src\":_vm.focus(_vm.instances).features.image}}):_vm._e(),_vm._l((_vm.focus(_vm.instances)),function(value,name){return _c('v-list-item',{key:value.id,attrs:{\"id\":\"v-for-object\"}},[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(_vm._s(name))]),(typeof value === 'object')?_vm._l((value),function(v,n){return _c('v-list',{key:n,attrs:{\"id\":\"v-for-object\"}},[_vm._v(\" \"+_vm._s(n)+\": \"+_vm._s(v)+\" \")])}):[_vm._v(_vm._s(value))]],2)],1)}),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.prevInstance(_vm.instances)}}},[_vm._v(\"Previous\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.nextInstance(_vm.instances)}}},[_vm._v(\"Next\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.randInstance(_vm.instances)}}},[_vm._v(\"Random\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"color\":\"primary\",\"small\":\"\"},on:{\"click\":_vm.emphasize}},[_vm._v(\"Emphasize\")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { colors } from \"../../theme\";\nimport {\n  Instance,\n  InstanceWithId,\n  SelectionRecord,\n  BoxProps,\n} from \"../../types\";\nimport { instanceById } from \"../../utils\";\nimport Vue from \"vue\";\nimport { mapActions } from \"vuex\";\nimport { isConstraintComplete } from \"../constraints/utils\";\n\ninterface Header {\n  text: string;\n  value: string;\n}\n\nexport default Vue.extend({\n  name: \"InstanceList\",\n  data() {\n    return {\n      panel: [],\n      sortby: [],\n      sortBySel: \"\" as \"\" | \"first\" | \"second\" | \"common\",\n      descending: false,\n      show_predictions: true,\n      show_features: true,\n      string_length: 7,\n      currentIndex: 0,\n      subset: \"all\",\n    };\n  },\n  mounted() {\n    this.$store.dispatch(\"setFocusItem\", this.instances[this.currentIndex].id);\n    this.$store.dispatch(\"changeFocusSet\", this.subset);\n  },\n  computed: {\n    instances(): InstanceWithId[] {\n      let instances: InstanceWithId[] = [];\n\n      this.$store.getters.filteredInstances.forEach((id: string) => {\n        const i = instanceById(id);\n        const instance: InstanceWithId = {\n          id,\n          ...i,\n        };\n        instances.push(instance);\n      });\n\n      // get subset depending on the button clicked\n      const { first, second } = this.selections;\n\n      if (this.subset !== \"all\") {\n        let selection = [];\n        if (this.subset === \"first\") {\n          if (first)\n            for (const id of first.instances)\n              selection.push(instances.find((x) => x.id === id));\n          else {\n            this.currentIndex = -1;\n            alert(\"no selection\");\n          }\n        } else if (this.subset === \"second\") {\n          if (second)\n            for (const id of second.instances)\n              selection.push(instances.find((x) => x.id === id));\n          else {\n            this.currentIndex = -1;\n            alert(\"no second set of selection\");\n          }\n        } else if (first && second) {\n          if (this.subset === \"intersection\") {\n            for (const id of first.instances) {\n              if (second.instances.has(id)) {\n                // console.log(id);\n                selection.push(instances.find((x) => x.id === id));\n              }\n            }\n          } else if (this.subset === \"union\") {\n            for (const id of first.instances)\n              selection.push(instances.find((x) => x.id === id));\n            for (const id of second.instances)\n              if (!first.instances.has(id))\n                selection.push(instances.find((x) => x.id === id));\n          } else if (this.subset === \"complement\") {\n            for (const instance of instances) {\n              if (\n                !first.instances.has(instance.id) &&\n                !second.instances.has(instance.id)\n              )\n                selection.push(instance);\n            }\n          }\n        } else {\n          this.currentIndex = -1;\n          alert(\"two selected sets are required to perform this action\");\n        }\n        return selection;\n      }\n      return instances;\n    },\n\n    selections(): {\n      first: SelectionRecord | null;\n      second: SelectionRecord | null;\n    } {\n      return this.$store.state.overlapSelections;\n    },\n  },\n  watch: {\n    currentIndex() {\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.currentIndex < 0 ? null : this.instances[this.currentIndex].id\n      );\n    },\n    selections() {\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.currentIndex < 0 ? null : this.instances[this.currentIndex].id\n      );\n    },\n    onClose() {\n      console.log(\"focus closed\");\n    },\n  },\n  methods: {\n    // ...mapActions([\"updateHoverInstance\", \"clearHoverInstance\"]),\n    // shorten(feature) {\n    //   let stringFeature = \"\" + feature;\n    //   if (stringFeature.length > this.string_length) {\n    //     return stringFeature.substring(0, this.string_length) + \"...\";\n    //   } else {\n    //     return stringFeature;\n    //   }\n    // },\n    /*\n      Focus object getter\n    */\n    focus(instances) {\n      // console.log(instances[this.currentIndex])\n      return instances[this.currentIndex];\n    },\n    imageDimensions(url){\n      const scale = 4\n      console.log(url)\n      if(url){\n        const image = new Image()\n        image.src = url\n        console.log(image.width, image.height)\n        return [image.width*scale, image.height*scale]\n      }\n      else{\n        return [Infinity,Infinity]\n      }\n    },\n\n    /*\n      Navigation button handlers.\n    */\n    prevInstance(instances) {\n      if (this.currentIndex > 0) this.currentIndex--;\n      else this.currentIndex = instances.length - 1;\n    },\n    nextInstance(instances) {\n      if (this.currentIndex < instances.length - 1) this.currentIndex++;\n      else this.currentIndex = 0;\n    },\n    randInstance(instances) {\n      this.currentIndex = Math.floor(Math.random() * instances.length);\n    },\n    /*\n      Expanded panel button handlers.\n      Handles subset selection.\n    */\n    allInstance() {\n      this.currentIndex = 0;\n      this.subset = \"all\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    firstInstance() {\n      this.currentIndex = 0;\n      this.subset = \"first\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    secondInstance() {\n      this.currentIndex = 0;\n      this.subset = \"second\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    intersectionInstance() {\n      this.currentIndex = 0;\n      this.subset = \"intersection\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    unionInstance() {\n      this.currentIndex = 0;\n      this.subset = \"union\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    complementInstance() {\n      this.currentIndex = 0;\n      this.subset = \"complement\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    emphasize() {\n      this.$store.dispatch(\"emphasizeFocus\");\n      \n\n    },\n    // pilot() {\n    //   console.log(\n    //     \"first\",\n    //     this.selections.first ? this.selections.first.instances : \"null\"\n    //   );\n    //   console.log(\n    //     \"second\",\n    //     this.selections.second ? this.selections.second.instances : \"null\"\n    //   );\n    // },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItemSide.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItemSide.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FocusItemSide.vue?vue&type=template&id=7b9cb289&scoped=true&\"\nimport script from \"./FocusItemSide.vue?vue&type=script&lang=ts&\"\nexport * from \"./FocusItemSide.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FocusItemSide.vue?vue&type=style&index=0&id=7b9cb289&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b9cb289\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VExpansionPanel,VExpansionPanelContent,VExpansionPanels,VImg,VList,VListItem,VListItemContent,VListItemSubtitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-list',_vm._l((_vm.$store.state.views.all),function(view){return _c('v-list-item',{key:view},[_c('v-list-item-icon',[_c('v-icon',{on:{\"click\":function () { return _vm.$store.dispatch('openView', view); }}},[_vm._v(\"add_box\")])],1),_c('v-list-item-title',[_vm._v(_vm._s(view))])],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  name: 'ViewList',\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ViewList.vue?vue&type=template&id=0e36bb2f&\"\nimport script from \"./ViewList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ViewList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VIcon,VList,VListItem,VListItemIcon,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}}),_c('label',[_vm._v(\"Threshold select \")]),_c('multiselect',{attrs:{\"tag-placeholder\":\"Add this as new threshold\",\"placeholder\":\"Add a threshold\",\"label\":\"name\",\"track-by\":\"name\",\"options\":_vm.options,\"multiple\":true,\"taggable\":true},on:{\"tag\":_vm.addTag},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport Multiselect from 'vue-multiselect'\nVue.component('multiselect', Multiselect)\nimport {\n  EntityType,\n  SelectionAction,\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n  thresholdSelectionRecord,\n} from '../../../types';\nimport { colors } from '../../../theme';\nexport default Vue.extend({\n  name: 'ContinuousMode',\n  data() {\n    const sliderRange = {\n      type: '' as 'from' | 'to',\n      classifier: '',\n      value: 0,\n    };\n    const curAddedThresholdClassifier = {\n      classifier: '',\n      threshold: 0.5,\n    };\n    return {\n      sliderRange,\n      thresholdRange: {},      \n      panel: [] as string[],\n      threshold: 0,\n      value: [] as string[],\n      curAddedThresholdClassifier,\n      options:[],\n    };\n  },\n  computed: {\n    viewsConfig():any[]{\n      return this.$store.state.viewsConfig;\n    },\n    classifierThresholdDict():{} {\n      return this.$store.state.classifierThresholdDict\n    },\n    curveClassifiers() {\n      return this.$store.getters.curveClassifiers;\n    },\n    classifierThresholdCurve() {\n      return this.$store.getters.curveChosenClassifierThresholdTuple;\n    },\n    addedThresholdClassifiers():[] {\n      let addedThresholdClassifiers = this.$store.state.addedThresholdClassifiers\n      if (addedThresholdClassifiers === null ) {\n        addedThresholdClassifiers = []\n      }\n      return addedThresholdClassifiers;\n    },\n    classifierThresholdList(): ThresholdWithClassifier[] {\n      return this.$store.getters.classifierThresholdList\n    },\n    classifiers(): {} {\n      return this.$store.getters.classifiers;\n    },\n    instances(): string[] {\n      return [...this.$store.getters.filteredInstances];\n    }, \n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 400])\n          .range([10, 410])\n          .clamp(true);\n      return xScale;      \n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      const classifiers = this.classifierThresholdList.map((c)=>c.classifier);\n      classifiers.forEach((c)=>{\n        if (Object.keys(this.classifierThresholdDict).includes(c)) {\n          if (this.classifierThresholdDict[c] / 100 != 0.5) {\n            setTimeout(() => {\n              this.sliderRange =({type:\"from\", classifier:c, value: this.classifierThresholdDict[c] * 4})\n            }, 500);\n          }\n        }\n      })\n    },\n    viewsConfig() {\n      const classifiers = this.classifierThresholdList.map((c)=>c.classifier);\n      classifiers.forEach((c)=>{\n        if (Object.keys(this.classifierThresholdDict).includes(c)) {\n          if (this.classifierThresholdDict[c] / 100 != 0.5) {\n            setTimeout(() => {\n              this.sliderRange =({type:\"from\", classifier:c, value: this.classifierThresholdDict[c] * 4})\n            }, 100);\n          }\n        }\n      })\n      \n    },\n    classifierThresholdCurve() {\n      this.drawUpdateRangesCurve();\n    },\n    sliderRange() {\n      this.drawUpdateRanges();\n    },\n    classifiers() {\n      if (this.$store.state.datasetType == \"continuous\") {\n        this.drawInitial();\n      }\n    },\n    curAddedThresholdClassifier() {\n      this.value.push({name:\"set_\"+this.curAddedThresholdClassifier.classifier + \"_\"+parseFloat(this.curAddedThresholdClassifier.threshold).toFixed(2)})\n      this.options.push({name:\"set_\"+this.curAddedThresholdClassifier.classifier + \"_\"+parseFloat(this.curAddedThresholdClassifier.threshold).toFixed(2)})\n      this.$store.dispatch('changedCurAddedThresholdClassifier', this.curAddedThresholdClassifier)\n    },\n    value() {\n      this.$store.dispatch('changedAddedThresholdClassifiers', this.value)\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n\n  methods: {\n    addTag (newTag) {\n      const tag = {\n        name: newTag,\n      }\n      this.options.push(tag)\n      this.value.push(tag)\n    },\n    drawUpdateRangesCurve() {\n      const classifier = this.classifierThresholdCurve.classifier;\n      const value = this.classifierThresholdCurve.single_threshold;\n      this.sliderRange =({type:\"from\", classifier:classifier, value: value * 4})\n    },\n    drawUpdateRanges() {\n      const classifier = this.sliderRange.classifier;\n      const value = this.sliderRange.value;\n      const pre_value = this.thresholdRange[classifier];\n      const flag = (value/400).toFixed(2) != pre_value ? 1 : 0;\n\n      let tmp = {};\n      for(let c in this.thresholdRange) {\n        tmp[c] = this.thresholdRange[c]\n      }\n\n      const chart = d3.select(this.$refs.svg);\n      const range = chart.select('.slider-head-'+classifier)\n      const range_text = chart.select(\".slider-text-\"+classifier)\n      var cur_from = value / 400\n      tmp[classifier] = cur_from < 0 ? 0 \n                        :cur_from > 1 ? 1 : cur_from.toFixed(2);\n      \n      this.thresholdRange = tmp\n\n\n      range.attr('transform', 'translate(' + this.xScale(value) + ', 55)') \n      range_text.text((d:string)=>classifier+\": \"+this.thresholdRange[classifier])\n      \n      let changedClassifier = {\"classifier\":classifier, \"single_threshold\": this.thresholdRange[classifier] * 100};\n      if (flag == 1) {\n        this.$store.dispatch(\"changedContinuousThreshold\",changedClassifier)\n      }\n    },\n    drawInitial() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${140*this.classifierThresholdList.length+20}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${0})`);\n      \n      const classifierThresholdDict = this.classifierThresholdDict;\n      const classifiers = this.classifierThresholdList.map((c)=>c.classifier);\n\n      if (Object.keys(this.thresholdRange).length == 0) {\n        classifiers.forEach((c)=>{\n          this.thresholdRange[c] = 0.5\n        })\n      }\n      \n      svg.append(\"rect\")\n      .attr(\"class\",\"rect\")\n        .attr(\"width\",430)\n        .attr(\"height\",120*this.classifierThresholdList.length)\n        .attr(\"x\",0)\n        .attr(\"y\",10)\n        .attr(\"fill\",\"white\")\n        .attr(\"stroke\",\"lightgrey\")\n        .attr(\"stroke-width\",\"2px\")\n\n      const xScale =  this.xScale;\n\n      const rangeSliders =  svg.append(\"g\").selectAll(\"g\")\n            .data(classifiers)\n            .enter().append(\"g\")\n              .attr(\"transform\", function(d,i) { \n                return \"translate(0,\" + (i * 120) +\")\"; })\n\n        let titles = rangeSliders.append(\"text\")\n          .attr(\"transform\",   \"translate(30,\"  +\"30)\")\n          .attr(\"class\",(d)=>\"slider-text-\"+d)\n          .text((d:string)=>d+\": 0.5\")\n          .attr(\"x\",5)\n          .attr(\"font-size\",\"22px\")\n          .attr(\"fill\",\"grey\")\n\n\n        let borders = rangeSliders.append(\"line\")\n          .attr(\"transform\",   \"translate(0,\"  +\"120)\")\n          .attr(\"class\",\"range-border\")\n          .style(\"stroke\", \"lightgrey\")\n          .style(\"stroke-opacity\", \"1\")\n          .style(\"stroke-width\", \"3\")\n          .attr('x1', 0)\n          .attr('x2', 430)\n          .attr('y1', 0)\n          .attr('y2', 0)\n          .attr(\"visibility\",(d:string)=> d==classifiers[classifiers.length-1]?\"hidden\":\"visible\")\n                \n\n        let slider = rangeSliders.append('line')\n          .attr(\"transform\",   \"translate(0,\"  +\"60)\")\n          .attr('class', 'track')\n          .style(\"stroke\", \"#777\")\n          .style(\"stroke-opacity\", \"1\")\n          .style(\"stroke-width\", \"5\")\n          .attr('x1', 10)\n          .attr('x2', 410)\n          .attr('y1', 0)\n          .attr('y2', 0);\n\n        let head = rangeSliders.append('rect')\n          .attr(\"width\",20)\n          .attr(\"height\",10)\n          .attr(\"rx\",6)\n          .attr('fill', 'steelblue')\n          .attr('stroke', 'none')\n          .attr('class',(d:string)=>'slider-head-'+d)\n          .attr('transform', function(d:string){\n            return 'translate('+xScale(200)+',55)'\n          })\n          .call(d3.drag()\n            .on('start.interrupt', function () {\n              head.interrupt();\n            })\n            .on('start drag',  \n            (d:string)=>this.sliderRange =({type:\"from\", classifier:d, value: xScale.invert(d3.event.x)})//\n            ))\n            ;\n        \n        let addButton = rangeSliders.append(\"rect\")\n          .attr(\"width\",40)\n          .attr(\"height\",20)\n          .attr(\"transform\",   \"translate(340,\"  +\"85)\")\n            .attr(\"class\",(d:string)=>\"add-rect-best-\"+d)\n            .attr(\"fill\",\"lightgrey\") \n          \n        let addText = rangeSliders.append(\"text\")\n          .attr(\"transform\",   \"translate(345,\"  +\"100)\")\n            .attr(\"class\",(d:string)=>\"add-set-\"+d)\n            .text(\"add\")\n            .attr(\"font-size\",\"18px\")\n            .attr(\"fill\",\"grey\") \n            .on('mouseenter', (d: string) => {\n              d3.select(\".add-set-\"+d).attr(\"fill\",\"white\")\n              d3.select(\".add-rect-best-\"+d).attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".add-set-\"+d).attr(\"fill\",\"grey\")\n              d3.select(\".add-rect-best-\"+d).attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.curAddedThresholdClassifier =({classifier:d, threshold: this.thresholdRange[d]}))\n\n        \n        classifiers.forEach((c)=>{\n          if (Object.keys(classifierThresholdDict).includes(c)) {\n            if (classifierThresholdDict[c] / 100 != 0.5) {\n              this.drawUpdateRangesCurve()\n            }\n          }\n        })\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeSelection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeSelection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModeSelection.vue?vue&type=template&id=bb1cf80a&\"\nimport script from \"./ModeSelection.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModeSelection.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('label',[_vm._v(\"BandWidth Select \")]),_c('multiselect',{attrs:{\"tag-placeholder\":\"Add this as new bandWidth\",\"label\":\"name\",\"track-by\":\"name\",\"options\":_vm.options,\"multiple\":true,\"taggable\":true},on:{\"tag\":_vm.addTag},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\n\nimport {\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n} from '../../../types';\n\nexport default Vue.extend({\n  name: 'UncertainAdjuster',\n  data() {\n    const sliderRange = {\n      type: '' as 'from' | 'to',\n      classifier: '',\n      value: 0,\n    }\n    const classifierThresholdDict = this.$store.state.classifierThresholdDict;\n    const curAddedBandWidthClassifier = {\n      classifier: '',\n      left_range: 0.45,\n      right_range: 0.55,\n    };\n    const origin_value = Object.keys(this.$store.state.classifierThresholdDict).map((c)=> {\n      return {'name': c + '(' + ((this.$store.state.classifierThresholdDict[c] / 100 - 0.05) < 0 ? 0 : this.$store.state.classifierThresholdDict[c] / 100 - 0.05).toFixed(2) \n                + ',' + ((this.$store.state.classifierThresholdDict[c] / 100 + 0.05) > 1 ? 1 : this.$store.state.classifierThresholdDict[c] / 100 + 0.05).toFixed(2) + ')'}\n    });\n    const value = Object.keys(this.$store.state.classifierThresholdDict).map((c)=> {\n      return {'name': c + '(' + ((this.$store.state.classifierThresholdDict[c] / 100 - 0.05) < 0 ? 0 : this.$store.state.classifierThresholdDict[c] / 100 - 0.05).toFixed(2) \n                + ',' + ((this.$store.state.classifierThresholdDict[c] / 100 + 0.05) > 1 ? 1 : this.$store.state.classifierThresholdDict[c] / 100 + 0.05).toFixed(2) + ')'}\n    });\n    const options = Object.keys(this.$store.state.classifierThresholdDict).map((c)=> {\n      return {'name': c + '(' + ((this.$store.state.classifierThresholdDict[c] / 100 - 0.05) < 0 ? 0 : this.$store.state.classifierThresholdDict[c] / 100 - 0.05).toFixed(2) \n                + ',' + ((this.$store.state.classifierThresholdDict[c] / 100 + 0.05) > 1 ? 1 : this.$store.state.classifierThresholdDict[c] / 100 + 0.05).toFixed(2) + ')'}\n    });\n    return {\n      classifierThresholdDict,\n      sliderRange,\n      thresholdRange: {},      \n      panel: [] as string[],\n      threshold: 0,\n      curAddedBandWidthClassifier,\n      value,\n      options,\n      origin_value,\n      added_value: [],\n    };\n  },\n  computed: {\n    resumedBandwidths() {\n      return this.$store.state.resumedBandwidths;\n    },\n    outerBandWidth() {\n      return this.$store.state.outerBandWidth;\n    },\n    addedBandWidthClassifiers() {\n      return this.$store.state.addedBandWidthClassifiers;\n    },\n    classifierFilters() {\n      return this.$store.state.filters.classifier;\n    },\n    curAddedThresholdClassifier(): {} {\n      return this.$store.state.curAddedThresholdClassifier;\n    },\n    thresholdClassifierNameList(): string[]{\n      return this.$store.getters.thresholdClassifierNameList\n    },\n    classifierThresholdList(): ThresholdWithClassifier[] {\n      return this.$store.getters.classifierThresholdList\n    },\n  \n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 400])\n          .range([10, 410])\n          .clamp(true);\n      return xScale;      \n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      this.drawResumedBandwidths();\n      this.updateValues();\n    },\n    outerBandWidth() {\n      this.drawOuterRanges();\n      this.updateValues();\n    },\n    classifierFilters() {\n      const filteredClassifier = [...this.classifierFilters.set]\n      this.value = []\n      this.options = []\n\n      this.origin_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n      this.added_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n    },\n    curAddedThresholdClassifier() {\n      const filteredClassifier = [...this.classifierFilters.set]\n      let threshold = parseFloat(this.curAddedThresholdClassifier.threshold);\n      let left_range = ((threshold - 0.05) < 0 ? 0: threshold - 0.05).toFixed(2)\n      let right_range = ((threshold + 0.05) > 1 ? 1 : threshold + 0.05).toFixed(2)\n      this.options = []\n      this.value = []\n      this.added_value.push({name: this.curAddedThresholdClassifier.classifier + '(' + left_range + ',' + right_range + ')'})\n      \n      this.origin_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n      this.added_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n    },\n    sliderRange() {\n      this.drawUpdateRanges();\n      this.updateValues();\n    },\n    classifierThresholdDict() {\n      this.drawInitial();\n    },\n    thresholdClassifierNameList() {\n      this.drawInitial();\n      this.updateValues();\n    },\n    curAddedBandWidthClassifier() {\n      const filteredClassifier = [...this.classifierFilters.set]\n      this.options = []\n      this.value = []\n      this.added_value.push({name: this.curAddedBandWidthClassifier.classifier + '(' + this.curAddedBandWidthClassifier.left_range + ',' + this.curAddedBandWidthClassifier.right_range + ')'})  \n      this.origin_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n      this.added_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n    },\n    value() {\n      let pre_values = this.addedBandWidthClassifiers.map(function(c){return c.name})\n      let cur_values = this.value.map(function(c){return c.name})\n      let deleted_values = []\n      let new_added_values = []\n\n      pre_values.forEach((c)=>{\n        if (!cur_values.includes(c)) {\n          deleted_values.push(c)\n        }\n      })\n      this.added_value.forEach((c)=> {\n        if (!deleted_values.includes(c.name)) {\n          new_added_values.push(c)\n        }\n      })\n      this.added_value = new_added_values;\n      this.$store.dispatch('changedAddedBandWidthClassifiers', this.value)\n    },\n  },\n  mounted() {\n     this.drawInitial();\n    if (this.resumeStatus > 0) {\n      this.drawResumedBandwidths();\n      this.updateValues();\n    }\n  },\n\n  methods: {\n    addTag (newTag) {\n      const tag = {\n        name: newTag,\n      }\n      this.options.push(tag)\n      this.value.push(tag)\n    },\n    updateValues() {\n      const filteredClassifier = [...this.classifierFilters.set]\n      this.options  = []\n      this.value = []\n      // update original values\n      this.origin_value = [];\n      for (let key in this.thresholdRange) {\n        this.origin_value.push({'name': key  + '(' + this.thresholdRange[key].left_range.toFixed(2) + ',' + this.thresholdRange[key].right_range.toFixed(2) + ')'})\n      }\n\n\n      this.origin_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n      this.added_value.forEach((c)=>{\n        let d  = c.name\n        let classifier = d.split('(')[0]\n        if (!filteredClassifier.includes(classifier)) {\n          this.value.push(c)\n          this.options.push(c)\n        }\n      })\n    },\n    drawResumedBandwidths() {\n      const classifiers = Object.keys(this.classifierThresholdDict)\n      const chart = d3.select(this.$refs.svg);\n      let tmp = {}\n      classifiers.forEach((c)=>{\n        tmp[c] = {\n            name:c,\n            threshold: Object.keys( this.classifierThresholdDict).includes(c)? this.classifierThresholdDict[c] : 0,\n            left_range:  this.resumedBandwidths[c].left_range,\n            right_range:  this.resumedBandwidths[c].right_range\n        }\n        chart.select('.slider-circle-time-from'+c).attr('transform', 'translate(' + this.xScale(tmp[c].left_range * 400) + ', 60)') \n        chart.select('.slider-circle-time-to'+c).attr('transform', 'translate(' + this.xScale(tmp[c].right_range * 400) + ', 60)') \n\n        chart.select(\".range-text-\"+c).text((d:string)=>\"(\"+(tmp[c].left_range) +\", \"+(tmp[c].right_range ) +\")\")\n        \n        this.$store.dispatch(\"changedBandWidthClassifier\",c);\n      })\n      this.thresholdRange = tmp\n      this.$store.dispatch(\"changedclassifierBandWidthDict\",tmp);\n    },\n    drawOuterRanges() {\n      const classifier = this.outerBandWidth.classifier;\n      const from = this.outerBandWidth.left_range * 400;\n      const to = this.outerBandWidth.right_range * 400;\n      const chart = d3.select(this.$refs.svg);\n      const range_text = chart.select(\".range-text-\"+classifier)\n\n      let tmp = {}\n\n      for(let c in this.thresholdRange) {\n        tmp[c] = this.thresholdRange[c]\n      }\n\n      tmp[classifier].left_range  = this.outerBandWidth.left_range;\n      tmp[classifier].right_range =  this.outerBandWidth.right_range;\n\n      this.thresholdRange = tmp\n\n      \n      chart.select('.slider-circle-time-from'+classifier).attr('transform', 'translate(' + this.xScale(from) + ', 60)') \n      chart.select('.slider-circle-time-to'+classifier).attr('transform', 'translate(' + this.xScale(to) + ', 60)') \n\n      range_text.text((d:string)=>\"(\"+(this.thresholdRange[classifier].left_range).toFixed(2) +\", \"+(this.thresholdRange[classifier].right_range ).toFixed(2) +\")\")\n      this.$store.dispatch(\"changedclassifierBandWidthDict\",tmp);\n      this.$store.dispatch(\"changedBandWidthClassifier\",classifier);\n\n    },\n    drawUpdateRanges() {\n      const type = this.sliderRange.type;\n      const classifier = this.sliderRange.classifier;\n      const value = this.sliderRange.value;\n      let tmp = {}\n\n      for(let c in this.thresholdRange) {\n        tmp[c] = this.thresholdRange[c]\n      }\n\n      const chart = d3.select(this.$refs.svg);\n      const range = chart.select('.slider-circle-time-'+type+classifier)\n      const range_text = chart.select(\".range-text-\"+classifier)\n\n      if (type == \"from\"){\n        var cur_from = value / 400\n        tmp[classifier].left_range = cur_from < 0 ? 0 : cur_from;\n      } else {\n        var cur_to = value/ 400\n        tmp[classifier].right_range = cur_to > 1 ? 1 : cur_to;\n      }\n\n      this.thresholdRange = tmp\n\n      range.attr('transform', 'translate(' + this.xScale(value) + ', 60)') \n      range_text.text((d:string)=>\"(\"+(this.thresholdRange[classifier].left_range).toFixed(2) +\", \"+(this.thresholdRange[classifier].right_range ).toFixed(2) +\")\")\n      this.$store.dispatch(\"changedclassifierBandWidthDict\",tmp);\n      this.$store.dispatch(\"changedBandWidthClassifier\",classifier);\n     },\n\n    drawInitial() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n\n      const classifiers = Object.keys(this.classifierThresholdDict)\n\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${120*classifiers.length+20}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${0})`);\n\n\n      svg.append(\"rect\")\n      .attr(\"class\",\"rect\")\n        .attr(\"width\",430)\n        .attr(\"height\",120*classifiers.length)\n        .attr(\"x\",0)\n        .attr(\"y\",10)\n        .attr(\"fill\",\"white\")\n        .attr(\"stroke\",\"lightgrey\")\n        .attr(\"stroke-width\",\"2px\")\n\n      var sqrt3 = Math.sqrt(3);\n\n      var triangleRight = {\n        draw: function (context, size) {\n          var x = -Math.sqrt(size / (sqrt3 * 3));\n          context.moveTo(-x * 2, 0);\n          context.lineTo(x, -sqrt3 * x);\n          context.lineTo(x, sqrt3 * x);\n          context.closePath();\n        }\n      };\n\n      var triangleLeft = {\n        draw: function (context, size) {\n          var x = -Math.sqrt(size / (sqrt3 * 3));\n          context.moveTo(x * 2, 0);\n          context.lineTo(-x, -sqrt3 * x);\n          context.lineTo(-x, sqrt3 * x);\n          context.closePath();\n        }\n      };\n\n      let leftTrgl = d3.symbol().type(triangleLeft)\n        .size(180);\n      let rightTrgl = d3.symbol().type(triangleRight)\n        .size(180);\n\n      if (Object.keys(this.thresholdRange).length == 0) {\n        const thresholdRange: {\n          [classifier: string]: {\n            name: String,\n            threshold: Number,\n            left_range: Number,\n            right_range: Number,\n          },\n        } = {};\n        classifiers.forEach((c) => {\n          thresholdRange[c] = {\n            name:c,\n            threshold: Object.keys( this.classifierThresholdDict).includes(c)? this.classifierThresholdDict[c] : 0,\n            left_range:  !Object.keys( this.classifierThresholdDict).includes(c)? 0 : this.classifierThresholdDict[c] / 100 - 0.05 < 0 ? 0 : this.classifierThresholdDict[c] / 100 - 0.05,\n            right_range: !Object.keys( this.classifierThresholdDict).includes(c)? 0 : this.classifierThresholdDict[c] / 100 + 0.05 > 1 ? 1 : this.classifierThresholdDict[c] / 100 + 0.05,\n          };\n        });\n        this.thresholdRange = thresholdRange\n        this.$store.dispatch(\"changedclassifierBandWidthDict\",this.thresholdRange)\n        this.$store.dispatch(\"changedBandWidthClassifier\",'');\n      }\n\n      //check whether align \n      for (let c in this.thresholdRange){\n        let classifier =this.thresholdRange[c].name\n        let threshold = this.thresholdRange[c].threshold/100\n        let left_range = this.thresholdRange[c].left_range\n        let right_range = this.thresholdRange[c].right_range\n        if (threshold == this.classifierThresholdDict[classifier]/100){\n          continue\n        }\n        let left_diff = threshold - left_range\n        let right_diff = right_range - threshold\n        delete this.thresholdRange[c];\n        this.thresholdRange[classifier] = {\n          name:classifier,\n          threshold: this.classifierThresholdDict[classifier],\n          left_range:  (this.classifierThresholdDict[classifier]/100 - left_diff) < 0 ? 0 : (this.classifierThresholdDict[classifier]/100 - left_diff),\n          right_range: (this.classifierThresholdDict[classifier] / 100 + right_diff) > 1 ? 1 : (this.classifierThresholdDict[classifier] / 100 + right_diff) ,\n        }\n        this.$store.dispatch(\"changedclassifierBandWidthDict\",this.thresholdRange);\n        this.$store.dispatch(\"changedBandWidthClassifier\",'');\n      }\n\n      const thresholdRange = this.thresholdRange;\n      const xScale =  this.xScale;\n\n      const rangeSliders =  svg.append(\"g\").selectAll(\"g\")\n            .data(classifiers)\n            .enter().append(\"g\")\n              .attr(\"transform\", function(d,i) { \n                return \"translate(0,\" + (i * 120) +\")\"; })\n\n        let titles = rangeSliders.append(\"text\")\n          .attr(\"transform\",   \"translate(30,\"  +\"30)\")\n          .attr(\"class\",(d)=>\"slider-text\"+d)\n          .text((d:string)=>d)\n          .attr(\"x\",5)\n          .attr(\"font-size\",\"22px\")\n          .attr(\"fill\",\"grey\")\n\n\n        let borders = rangeSliders.append(\"line\")\n          .attr(\"transform\",   \"translate(0,\"  +\"110)\")\n          .attr(\"class\",\"range-border\")\n          .style(\"stroke\", \"lightgrey\")\n          .style(\"stroke-opacity\", \"1\")\n          .style(\"stroke-width\", \"3\")\n          .attr('x1', 0)\n          .attr('x2', 430)\n          .attr('y1', 0)\n          .attr('y2', 0)\n          .attr(\"visibility\",(d:string)=> d==classifiers[classifiers.length-1]?\"hidden\":\"visible\")\n                \n\n        let slider = rangeSliders.append('line')\n        .attr(\"transform\",   \"translate(0,\"  +\"60)\")\n          .attr('class', 'track')\n          .style(\"stroke\", \"#777\")\n          .style(\"stroke-opacity\", \"1\")\n          .style(\"stroke-width\", \"5\")\n          .attr('x1', 10)\n          .attr('x2', 410)\n          .attr('y1', 0)\n          .attr('y2', 0)\n\n        let head1 = rangeSliders.append('path')\n          .attr('d', leftTrgl)\n          .style('fill', 'red')\n          .style('stroke', 'none')\n          .attr('class',(d:string)=>'slider-circle-time-from'+d)\n          .attr('transform', function(d:string){\n            let dis =(thresholdRange[d].left_range * 400)\n            return 'translate('+xScale(dis)+',60)'\n          })\n          .call(d3.drag()\n            .on('start.interrupt', function () {\n              head1.interrupt();\n            })\n            .on('start drag',  \n            (d:string)=>this.sliderRange =({type:\"from\", classifier:d, value: xScale.invert(d3.event.x)})//\n            ))\n            ;\n\n        let head2 = rangeSliders.append('path')\n          .attr('d', rightTrgl)\n          .style('fill', 'green')\n          .style('stroke', 'none')\n          .attr('class',(d:string)=>'slider-circle-time-to'+d)\n          .attr('transform',function(d:string){\n            let dis =(thresholdRange[d].right_range * 400)\n            return 'translate('+xScale(dis)+',60)'\n          })\n          .call(d3.drag()\n            .on('start.interrupt', function () {\n              head2.interrupt();\n            })\n            .on('start drag',\n            (d:string)=>this.sliderRange =({type:\"to\", classifier:d, value: xScale.invert(d3.event.x)})//\n            ))\n\n        let rangeText = rangeSliders.append(\"text\")\n        .attr(\"transform\",   \"translate(10,\"  +\"100)\")\n          .attr(\"class\",(d:string)=>\"range-text-\"+d)\n          .text((d:string)=>\"(\"+(this.thresholdRange[d].left_range).toFixed(2) +\", \"+(this.thresholdRange[d].right_range ).toFixed(2) +\")\")\n          .attr(\"font-size\",\"18px\")\n          .attr(\"fill\",\"grey\") \n\n        let addButton = rangeSliders.append(\"rect\")\n          .attr(\"width\",40)\n          .attr(\"height\",20)\n          .attr(\"transform\",   \"translate(120,\"  +\"82)\")\n            .attr(\"class\",(d:string)=>\"add-bandwidth-\"+d)\n            .attr(\"fill\",\"lightgrey\") \n          \n        let addText = rangeSliders.append(\"text\")\n          .attr(\"transform\",   \"translate(125,\"  +\"100)\")\n            .attr(\"class\",(d:string)=>\"add-bandwidth-set-\"+d)\n            .text(\"add\")\n            .attr(\"font-size\",\"18px\")\n            .attr(\"fill\",\"grey\") \n            .on('mouseenter', (d: string) => {\n              d3.select(\".add-bandwidth-set-\"+d).attr(\"fill\",\"white\")\n              d3.select(\".add-bandwidth-\"+d).attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".add-bandwidth-set-\"+d).attr(\"fill\",\"grey\")\n              d3.select(\".add-bandwidth-\"+d).attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.curAddedBandWidthClassifier =({classifier:d, left_range: this.thresholdRange[d].left_range.toFixed(2), right_range: this.thresholdRange[d].right_range.toFixed(2)}))\n\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertainAdjuster.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertainAdjuster.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UncertainAdjuster.vue?vue&type=template&id=79ef477c&\"\nimport script from \"./UncertainAdjuster.vue?vue&type=script&lang=ts&\"\nexport * from \"./UncertainAdjuster.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('div',{staticClass:\"table-container-sample\"},[_c('v-data-table',{staticClass:\"elevation-2\",attrs:{\"headers\":_vm.headers,\"items\":_vm.sample_value,\"options\":_vm.pagination,\"disable-sort\":\"\",\"dense\":\"\"},on:{\"update:options\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.name,style:(_vm.styleTableRow(item))},[_c('td',{on:{\"click\":function($event){return _vm.setOverlapSampling({ whichOverlap: 'first',selection: item })},\"contextmenu\":function($event){$event.preventDefault();return _vm.setOverlapSampling({ whichOverlap: 'second', selection: item })}}},[_vm._v(_vm._s(item.name)+\" \")]),_c('td',[_vm._v(_vm._s(item.size))]),_c('td',{on:{\"click\":function($event){return _vm.onButtonClick({ whichOverlap: 'first',selection: item })}}},[_c('v-btn',{style:(_vm.styleDataChosen(item)),attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-star\")])],1)],1)])}),0)]}}])})],1),_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Random Sampling\")]),_c('v-expansion-panel-content'),_c('div',{ref:\"svg_random\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { colors } from '../../../theme';\nimport {\n  EntityType,\n  SelectionAction,\n} from '../../../types';\nimport * as d3 from 'd3';\nimport {\n  SelectionRecord,\n  SetCompose,\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n} from '../../../types';\nimport { PredicateSimple, Rule } from '../../constraints/types';//'constraints/types';\nimport {blankConstraint} from '../../constraints/utils';\nimport { path, select } from 'd3';\nimport {\n  instanceById,\n  intersection,\n} from '../../../utils';\nexport default Vue.extend({\n  name: 'RandomSampling',\n  \n  data() {\n    const sliderRange = {\n      value: 200,\n    }\n    const classifierThresholdDict = this.$store.state.classifierThresholdDict\n    const addSampling = {\n      sampling: '',\n    };\n    return {\n      headers: [\n        { text: 'Name', value: 'name' },\n        { text: 'Size', value: 'size' },\n        { text: 'Set as Dataset', value: 'set' },\n        // { text: 'Description', value: 'description' },\n      ],\n      pagination: {\n        rowsPerPage: 5,\n      },\n      addSampling,\n      classifierThresholdDict,\n      sliderRange,\n      thresholdRange: {},      \n      panel: [] as string[],\n      threshold: 0,\n    };\n  },\n  computed: {\n    sample_value() : [] {\n      return this.$store.state.sampleList;\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n     selectedSampleSet(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.selectedSampleSet;\n    },\n    instances(): string[] {\n      return [...this.$store.getters.instances];\n    },\n    thresholdClassifierNameList(): string[]{\n      return this.$store.getters.thresholdClassifierNameList\n    },\n    classifierThresholdList(): ThresholdWithClassifier[] {\n      return this.$store.getters.classifierThresholdList\n    },\n  \n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 400])\n          .range([20, 420])\n          .clamp(true);\n      return xScale;      \n    },\n  },\n  watch: {\n    addSampling() {\n      let idx = this.sample_value.length ;\n      let instances = this.instances;\n      let partition = this.addSampling.sampling * 100; \n      \n      let partition1 = randomIntegers(0,instances.length, partition / 100 * instances.length);\n      let partition2 = []\n\n      let filteredInstances: string[] = [...this.$store.getters.instances];\n      let samples = []\n\n      // judge and get test set\n      const features = [...this.$store.getters.features];\n      if (features.includes('train_or_test')) {\n        \n        const trainOrTest = 'train_or_test';\n        filteredInstances = filteredInstances.filter((i) => {\n              return instanceById(i).features[trainOrTest] === 'test' ||\n                instanceById(i).features[trainOrTest] === '0';\n            });\n      }\n\n\n      instances.forEach((i)=>{\n        if (!partition1.includes(i)) {\n          partition2.push(i)\n        }\n      }) \n      let tmpValue = [];\n      this.sample_value.forEach((v)=>{\n        tmpValue.push(v)\n      })\n      tmpValue.push({decription:'random', id:idx, name: idx + \"_random\"+\"_left_\" + (partition).toFixed(0) + '%' , size: partition1.length, instances: new Set(partition1)})\n      tmpValue.push({decription:'random',id:idx + 1,name: (idx+1)  + \"_random\"+\"_right_\" + (100-parseInt((partition).toFixed(0))) + '%', size: instances.length -  partition1.length, instances: new Set(partition2) })\n      this.$store.dispatch('changedSampledList', tmpValue);\n      \n      function randomIntegers(min, max, num) {\n        let randomArrays = []\n        let randomSet = new Set()\n        let i = 0\n        while ( randomSet.size < num) {\n          let tmp = Math.floor(Math.random() * instances.length)\n          randomArrays.push((tmp.toString()))\n          i += 1\n          randomSet = new Set(randomArrays)\n        }\n        return [...randomSet];\n      }\n    },\n    sliderRange() {\n      this.drawUpdateRanges();\n    },\n    classifierThresholdDict() {\n      this.drawInitial();\n    },\n    thresholdClassifierNameList() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n\n  methods: {\n    onButtonClick(\n      payload: {\n        selection:  SelectionRecord | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      console.log(payload)\n      this.$store.dispatch('changeCurrentChosenSample',payload.selection.name);\n      this.$store.dispatch('changedToSamplingData',payload)\n    },\n    setOverlapSampling(\n      payload: {\n        selection:  SelectionRecord | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      this.$store.dispatch('changedSampleSelection', payload);\n      const description = payload.selection.name;\n      const instances = payload.selection.instances;\n      const constraint = blankConstraint();\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const tmp_payload = {\n        description,\n        instances,\n        predicate,\n      };\n      this.$store.dispatch('prependToSelectionHistory', tmp_payload);\n      this.$store.dispatch('changedMostRecentSelection', payload.whichOverlap);\n\n    },\n    styleDataChosen(item){\n      if (item.name == this.$store.state.currentChosenSample) {\n        return `\n          color: pink;\n        `\n      }\n      return ''\n    },\n    styleTableRow(record: SelectionRecord) {      \n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.selectedSampleSet;\n      const isFirst = (firstSelection && firstSelection.id === record.id);\n      const isSecond = (secondSelection && secondSelection.id === record.id);\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n    drawUpdateRanges() {\n      const value = this.sliderRange.value;\n      const partition = this.sliderRange.value / 400 * 100\n\n      const chart = d3.select(this.$refs.svg_random);\n      const range = chart.select('.random-slider-rect');\n      const range_text = chart.select(\".random-partition-text\");\n      const instances = this.instances;\n\n      range.attr('x',  this.xScale(value)) \n      range_text.text(\"partition: (\"+partition.toFixed(0)+\"%, \"+ (100-parseInt(partition.toFixed(0))) + \"%)\")\n\n    },\n\n    drawInitial() {\n      const xScale =  this.xScale;\n      d3.select(this.$refs.svg_random).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg_random).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${120}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${0})`);\n\n\n      svg.append(\"rect\")\n      .attr(\"class\",\"random-set-1\")\n        .attr(\"width\",200)\n        .attr(\"height\",40)\n        .attr(\"x\",20)\n        .attr(\"y\",10)\n        .attr(\"fill\",\"lightgrey\")\n        .attr(\"stroke\",\"lightgrey\")\n        .attr(\"stroke-width\",\"2px\")\n      \n      svg.append(\"rect\")\n      .attr(\"class\",\"random-set-2\")\n        .attr(\"width\",200)\n        .attr(\"height\",40)\n        .attr(\"x\",220)\n        .attr(\"y\",10)\n        .attr(\"fill\",\"lightgrey\")\n        .attr(\"stroke\",\"lightgrey\")\n        .attr(\"stroke-width\",\"2px\")\n\n    \n\n      let head = svg.append('rect')\n        .attr(\"class\",\"random-slider-rect\")\n        .attr(\"width\",10)\n        .attr(\"height\",40)\n        .attr(\"x\",215)\n        .attr(\"y\",10)\n        .attr(\"fill\",\"steelblue\")\n        .call(d3.drag()\n          .on('start.interrupt', function () {\n            head.interrupt();\n          })\n          .on('start drag',  \n          (d:string)=>this.sliderRange =({value: xScale.invert(d3.event.x)})//\n          ))\n          ;\n\n      \n      let set_button = svg.append('rect')\n        .attr(\"class\",\"random-set-button\")\n        .attr(\"width\",40)\n        .attr(\"height\",20)\n        .attr(\"x\",20)\n        .attr(\"y\",90)\n        .attr('rx',6)\n        .attr(\"fill\",\"lightgrey\")\n        .on('mouseenter', (d: string) => {\n              d3.select(\".random-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".random-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".random-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".random-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: this.sliderRange.value / 400}))\n          ; \n\n      let set_text = svg.append(\"text\")\n        .attr(\"x\",40)\n        .attr(\"y\",105)\n        .attr(\"class\",'random-slider-text')\n        .text(\"set\")\n        .style('text-anchor', 'middle')\n        .attr(\"font-size\",\"18px\")\n        .attr(\"fill\",\"grey\") \n        .on('mouseenter', (d: string) => {\n              d3.select(\".random-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".random-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".random-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".random-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: this.sliderRange.value / 400}))\n        ;\n\n      let partition_text = svg.append(\"text\")\n        .attr(\"x\",100)\n        .attr(\"y\",105)\n        .attr(\"class\",'random-partition-text')\n        .text(\"partition: (50%, 50%)\")\n        .style('text-anchor', 'start')\n        .attr(\"font-size\",\"22px\")\n        .attr(\"fill\",\"steelblue\") \n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomSampling.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RandomSampling.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RandomSampling.vue?vue&type=template&id=694590b1&\"\nimport script from \"./RandomSampling.vue?vue&type=script&lang=ts&\"\nexport * from \"./RandomSampling.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDataTable,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Bootstrap Sampling\")]),_c('div',{staticStyle:{\"margin-left\":\"10%\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sample_size),expression:\"sample_size\"}],attrs:{\"placeholder\":\"edit me\"},domProps:{\"value\":(_vm.sample_size)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.sample_size=$event.target.value}}}),_c('p',[_vm._v(\" Sample size: \"+_vm._s(_vm.sample_size))])]),_c('div',{ref:\"svg_bootstrap\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { colors } from '../../../theme';\nimport {\n  EntityType,\n  SelectionAction,\n} from '../../../types';\nimport * as d3 from 'd3';\nimport {\n  SelectionRecord,\n  SetCompose,\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n} from '../../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../../utils';\nexport default Vue.extend({\n  name: 'BootstrapSampling',\n  data() {\n    const addSampling = {\n      sampling: '',\n    };\n    return {\n      addSampling,\n      // sample_time: 0,\n      sample_size: 0,\n      panel: [] as string[],\n      checkedBoxes: [] as string[],\n    };\n  },\n  computed: {\n    value() : [] {\n      return this.$store.state.sampleList;\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    instances(): string[] {\n      return [...this.$store.getters.instances];\n    },\n    thresholdClassifierNameList(): string[]{\n      return this.$store.getters.thresholdClassifierNameList\n    },\n    classifierThresholdList(): ThresholdWithClassifier[] {\n      return this.$store.getters.classifierThresholdList\n    },\n  \n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 400])\n          .range([20, 420])\n          .clamp(true);\n      return xScale;      \n    },\n  },\n  watch: {\n    addSampling() {\n      // add sample to the table\n      let idx = this.value.length;\n      let sample_size = this.sample_size;\n      let sample_time = 1;\n      let instances = this.instances;\n      let filteredInstances: string[] = [...this.$store.getters.instances];\n      let samples = []\n\n      // judge and get test set\n      const features = [...this.$store.getters.features];\n      if (features.includes('train_or_test')) {\n        \n        const trainOrTest = 'train_or_test';\n        filteredInstances = filteredInstances.filter((i) => {\n              return instanceById(i).features[trainOrTest] === 'test' ||\n                instanceById(i).features[trainOrTest] === '0';\n            });\n      }\n\n      \n \n      // create boostrap sampling\n      let time_count = 0;\n      while (time_count < sample_time) {\n        let tmp_sample = randomIntegers(0,filteredInstances.length, sample_size);\n        tmp_sample.forEach((c)=>{\n          samples.push(filteredInstances[c])\n        })\n        time_count += 1\n      }\n\n      let tmpValue = [];\n      this.value.forEach((v)=>{\n        tmpValue.push(v)\n      })\n      tmpValue.push({decription:'bootstrap', id:idx, name: idx + \"_bootstrap\", size: samples.length, instances: new Set(samples)})\n      this.$store.dispatch('changedSampledList', tmpValue);\n\n      function randomIntegers(min, max, num) {\n        let randomArrays = []\n        let i = 0\n        while ( i < num) {\n          let tmp = Math.floor(Math.random() * filteredInstances.length)\n          randomArrays.push(tmp.toString())\n          i += 1\n        }\n        return randomArrays;\n      }\n    },\n    classifierThresholdDict() {\n      this.drawInitial();\n    },\n    thresholdClassifierNameList() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n\n  methods: {\n    setOverlapSampling(\n      payload: {\n        selection:  null,\n      },\n    ) {\n      this.$store.dispatch('changedToSamplingData', payload);\n    },\n    styleTableRow(record: SelectionRecord) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.overlapSelections;\n      const isFirst = (firstSelection && firstSelection.id === record.id);\n      const isSecond = (secondSelection && secondSelection.id === record.id);\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n    drawInitial() {\n      const xScale =  this.xScale;\n      d3.select(this.$refs.svg_bootstrap).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg_bootstrap).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${120}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${20})`)\n          ;\n\n      \n      let set_button = svg.append('rect')\n        .attr(\"class\",\"bootstrap-set-button\")\n        .attr(\"width\",40)\n        .attr(\"height\",20)\n        .attr(\"x\",'10%')\n        .attr(\"y\",0)\n        .attr('rx',6)\n        .attr(\"fill\",\"lightgrey\")\n        .on('mouseenter', (d: string) => {\n              d3.select(\".bootstrap-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".bootstrap-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".bootstrap-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".bootstrap-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: 'set'}))\n          ; \n\n      let set_text = svg.append(\"text\")\n        .attr(\"x\",'15%')\n        .attr(\"y\",15)\n        .attr(\"class\",'bootstrap-slider-text')\n        .text(\"set\")\n        .style('text-anchor', 'middle')\n        .attr(\"font-size\",\"18px\")\n        .attr(\"fill\",\"grey\") \n        .on('mouseenter', (d: string) => {\n              d3.select(\".bootstrap-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".bootstrap-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".bootstrap-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".bootstrap-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: 'set'}))\n        ;\n\n      \n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BootstrapSampling.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BootstrapSampling.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BootstrapSampling.vue?vue&type=template&id=5a4abae5&\"\nimport script from \"./BootstrapSampling.vue?vue&type=script&lang=ts&\"\nexport * from \"./BootstrapSampling.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelHeader,VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"Stratified Sampling\")]),_c('div',{staticStyle:{\"margin-left\":\"10%\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sample_size),expression:\"sample_size\"}],attrs:{\"placeholder\":\"edit me\"},domProps:{\"value\":(_vm.sample_size)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.sample_size=$event.target.value}}}),_c('p',[_vm._v(\" Total sample size\")])]),_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar values = ref.values;\nvar search = ref.search;\nvar isOpen = ref.isOpen;\nreturn [(values.length && !isOpen)?_c('span',{staticClass:\"multiselect__single\"},[_vm._v(\" \"+_vm._s(values.length)+\" options selected \")]):_vm._e()]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{ref:\"svg_stratified\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { colors } from '../../../theme';\nimport {\n  Instance,\n  SelectionRecord,\n  EntityType,\n  SelectionAction,\n  SetCompose,\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n} from '../../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../../utils';\nimport * as d3 from 'd3';\n\nexport default Vue.extend({\n  name: 'StratifiedSampling',\n\n  data() {\n    const addSampling = {\n      sampling: '',\n    };\n    return {\n      addSampling, \n      sample_size: 0,\n      pagination: {\n        rowsPerPage: 5,\n      },\n      headers: [\n        { text: 'Name', value: 'name' },\n        { text: 'Weight', value: 'weight' },\n        // { text: 'Description', value: 'description' },\n      ],\n      value: [],\n      panel: [] as string[],\n      checkedBoxes: [] as string[],\n    };\n  },\n  computed: {\n    sampled_value() : [] {\n      return this.$store.state.sampleList;\n    },\n    sample_weight(): {} {\n      const features = [...this.$store.getters.features];\n      const categorial_features =  [...this.$store.getters.features].filter((f) => {\n        return this.$store.getters.feature(f).type === 'categorical'});\n\n      let weight_dicts = {}\n      // categorial_features.forEach((f)=>{\n      //   weight_dicts[f] = 0;\n      // })\n\n      categorial_features.forEach((c)=>{\n          this.$store.getters.feature(c).categories.forEach((i)=>{\n            weight_dicts[c+\"*\"+i] = 0\n          })\n      })\n      return weight_dicts\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    instances(): string[] {\n      return [...this.$store.getters.instances];\n    },\n    classList(): string[] {\n      return [...this.$store.getters.classes];\n    },\n    options(): any[] {\n      let options = []\n      const features = [...this.$store.getters.features];\n      const categorial_features =  [...this.$store.getters.features].filter((f) => {\n        return this.$store.getters.feature(f).type === 'categorical'});\n\n      // categorial_features.forEach((c)=>{\n      //     this.$store.getters.feature(c).categories.forEach((i)=>{\n      //       options.push({name: c+\"*\"+i})\n      //     })\n      // })\n      categorial_features.forEach((f)=>{\n        options.push({name:f})\n      })\n      options.push({name:'target class'})\n\n      return options\n    },\n  },\n  watch: {\n   \n    addSampling() {\n      // add sample to the table\n      // let idx = this.sampled_value.length;\n      \n      // let instances = this.instances;\n      // let samples = []\n\n\n \n      // // get the total weights chosen features\n      // let total_weight = 0\n      // for (let key in this.sample_weight) {        \n      //   total_weight += (parseInt(this.sample_weight[key]))\n      // }\n\n\n      // // get the sample size for each feature and do stratified sampling\n      // for (let key in this.sample_weight) {\n      //   console.log(\"key\",key)\n      //   let tmp_feature_sample = []\n      //   if (this.sample_weight[key] == '0') {\n      //     continue\n      //   }\n      //   let sample_size = this.sample_size * parseInt(this.sample_weight[key]) / total_weight\n      //   // create a dict to record sample_size of each category of current feature\n      //   let cate_dict = {};\n      //   this.$store.getters.feature(key).categories.forEach((c)=>{\n      //     cate_dict[c] = []\n      //   })\n      //   instances.forEach((id) => {\n      //       const category = instanceById(id).features[key];\n      //       cate_dict[category].push(id);\n      //   });\n      //   // console.log(cate_dict)\n      //   for (let cate in cate_dict) {\n      //     let tmp_sample_size = Math.round(sample_size * cate_dict[cate].length / instances.length);\n      //     let tmp_samples = randomIntegers(0,instances.length, tmp_sample_size, cate_dict[cate]);\n      //     tmp_samples.forEach((c)=>{\n      //       tmp_feature_sample.push(c)\n      //     })\n      //   }\n      //   samples.push({name: key, samples: tmp_feature_sample});\n      // }\n\n\n      // let tmpValue = [];\n      // this.sampled_value.forEach((v)=>{\n      //   tmpValue.push(v)\n      // })\n      // for (let feature_idx in samples) {\n      //   let feature_item = samples[feature_idx]\n      //   tmpValue.push({decription:'stratified',id:idx, name: idx + \"_stratified\", size: feature_item['samples'].length, instances: new Set(feature_item['samples'])})\n      //   idx += 1\n      // }\n    \n\n      \n      // this.$store.dispatch('changedSampledList', tmpValue);\n      let cur_feature = this.value.length > 0? this.value[0].name: '';\n      let idx = this.sampled_value.length\n      let instances = this.instances;\n      let samples = []\nconsole.log(this.classList)\n      let cate_dict = {};\n      if (cur_feature != 'target class') {\n        this.$store.getters.feature(cur_feature).categories.forEach((c)=>{\n          cate_dict[c] = []\n        })\n        instances.forEach((id) => {\n            const category = instanceById(id).features[cur_feature];\n            cate_dict[category].push(id);\n        });\n      } else {\n        this.classList.forEach((c)=>{\n          cate_dict[c] = []\n        })\n        instances.forEach((id) => {\n            const category = instanceById(id).actual;\n            cate_dict[category].push(id);\n        });\n      }\n      \n      console.log('cate_dict',cate_dict)\n      let tmp_feature_sample = []\n      let sample_size = this.sample_size ;\n      for (let cate in cate_dict) {\n        console.log(sample_size,  cate_dict[cate].length,  instances.length)\n        let tmp_sample_size = Math.floor(sample_size * cate_dict[cate].length / instances.length);\n        let tmp_samples = randomIntegers(0,instances.length, tmp_sample_size, cate_dict[cate]);\n        tmp_samples.forEach((c)=>{\n          tmp_feature_sample.push(c)\n        })\n      }\n\n      let tmpValue = []\n      tmpValue.push({decription:'stratified',id:idx, name: idx + \"_stratified\", size: tmp_feature_sample.length, instances: new Set(tmp_feature_sample)})\n      this.$store.dispatch('changedSampledList', tmpValue);\n\n      function randomIntegers(min, max, num, instances) {\n        let randomArrays = []\n        let randomSet = new Set()\n        let i = 0\n        while ( randomSet.size < num) {\n          let tmp = Math.floor(Math.random() * instances.length)\n          randomArrays.push(tmp.toString())\n          randomSet = new Set(randomArrays)\n          i += 1\n        }\n        return randomArrays;\n      }\n      \n    },\n    classifierThresholdDict() {\n      this.drawInitial();\n    },\n    thresholdClassifierNameList() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    showInput(\n      payload: {\n        selection:  null,\n      },\n    ) {\n      console.log('showinput',payload)\n    },\n    setOverlapSampling(\n      payload: {\n        selection:  null,\n      },\n    ) {\n      this.$store.dispatch('changedToSamplingData', payload);\n    },\n    styleTableRow(record: SelectionRecord) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.overlapSelections;\n      const isFirst = (firstSelection && firstSelection.id === record.id);\n      const isSecond = (secondSelection && secondSelection.id === record.id);\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n    drawInitial() {\n      const xScale =  this.xScale;\n      d3.select(this.$refs.svg_stratified).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg_stratified).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${120}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${20})`)\n          ;\n\n      \n      let set_button = svg.append('rect')\n        .attr(\"class\",\"stratified-set-button\")\n        .attr(\"width\",40)\n        .attr(\"height\",20)\n        .attr(\"x\",'10%')\n        .attr(\"y\",0)\n        .attr('rx',6)\n        .attr(\"fill\",\"lightgrey\")\n        .on('mouseenter', (d: string) => {\n              d3.select(\".stratified-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".stratified-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".stratified-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".stratified-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: 'set'}))\n          ; \n\n      let set_text = svg.append(\"text\")\n        .attr(\"x\",'15%')\n        .attr(\"y\",15)\n        .attr(\"class\",'stratified-slider-text')\n        .text(\"set\")\n        .style('text-anchor', 'middle')\n        .attr(\"font-size\",\"20px\")\n        .attr(\"fill\",\"grey\") \n        .on('mouseenter', (d: string) => {\n              d3.select(\".stratified-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".stratified-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".stratified-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".stratified-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.addSampling =({sampling: 'set'}))\n        ;\n\n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StratifiedSampling.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StratifiedSampling.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StratifiedSampling.vue?vue&type=template&id=07596872&\"\nimport script from \"./StratifiedSampling.vue?vue&type=script&lang=ts&\"\nexport * from \"./StratifiedSampling.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelHeader,VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-expansion-panels',{attrs:{\"multiple\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('div',{staticClass:\"table-container-validation\"},[_c('v-data-table',{staticClass:\"elevation-2\",attrs:{\"headers\":_vm.headers,\"items\":_vm.validation_value,\"options\":_vm.pagination,\"disable-sort\":\"\",\"dense\":\"\"},on:{\"update:options\":function($event){_vm.pagination=$event}},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.name,style:(_vm.styleTableRow(item))},[_c('td',[_vm._v(_vm._s(item.name)+\" \")]),_c('td',{on:{\"click\":function($event){return _vm.onButtonClick({ whichOverlap: 'first',selection: item })}}},[_c('v-btn',{style:(_vm.styleDataChosen(item)),attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-star\")])],1)],1),_c('td',{on:{\"click\":function($event){return _vm.saveStatus({selection: item })}}},[_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"indigo\"}},[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\" mdi-plus \")])],1)],1),_c('td',[_vm._v(_vm._s(item.parameters)+\" \")])])}),0)]}}])}),_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.onButtonClick({ whichOverlap: '',selection: '' })}}},[_vm._v(\" Reset \")])],1),_c('v-expansion-panel',[_c('div',{staticStyle:{\"margin-left\":\"10%\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.k_size),expression:\"k_size\"}],attrs:{\"placeholder\":\"edit me\"},domProps:{\"value\":(_vm.k_size)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.k_size=$event.target.value}}}),_c('p',[_vm._v(\" K-fold validation: k = \"+_vm._s(_vm.k_size))])]),_c('div',{ref:\"svg_validation\"})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { colors } from '../../../theme';\nimport {\n  EntityType,\n  SelectionAction,\n} from '../../../types';\nimport * as d3 from 'd3';\nimport {\n  SelectionRecord,\n  SetCompose,\n  modelSelectionRecord,\n  ThresholdWithClassifier,\n} from '../../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../../utils';\nexport default Vue.extend({\n  name: 'KfoldValidation',\n  data() {\n    const shuffle = {\n      sampling: '',\n    };\n    return {\n      headers: [\n        { text: 'Fold Number', value: 'name' },\n        { text: 'Shuffle', value: 'set' },\n        { text: 'Save Status', value: 'set' },\n        { text: 'Parameters', value: 'N/A'}\n      ],\n      pagination: {\n        rowsPerPage: 5,\n      },\n      shuffle,\n      k_size: 0,\n      panel: [] as string[],\n      checkedBoxes: [] as string[],\n    };\n  },\n  computed: {\n    addedBandWidthClassifiers() {\n      return this.$store.state.addedBandWidthClassifiers\n    },\n    classifierThresholdDict() {\n      return this.$store.state.classifierThresholdDict\n    },\n    bandWidthClassifiers() {\n      if (this.addedBandWidthClassifiers.length == 0) {\n        const value = Object.keys(this.classifierThresholdDict).map((c)=> {\n          let threshold = (this.classifierThresholdDict[c] / 100)\n          return {'name': c + '(' + (threshold-0.05).toFixed(2) + ',' + (threshold+0.05).toFixed(2) + ')' }\n        });\n        return value\n      }\n      return this.addedBandWidthClassifiers;\n    },\n    validation_value(): [] {\n      return this.$store.state.validationList;\n    },\n    overlapSelections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    instances(): string[] {\n      return [...this.$store.getters.instances];\n    },\n    thresholdClassifierNameList(): string[]{\n      return this.$store.getters.thresholdClassifierNameList\n    },\n    classifierThresholdList(): ThresholdWithClassifier[] {\n      return this.$store.getters.classifierThresholdList\n    },\n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 400])\n          .range([20, 420])\n          .clamp(true);\n      return xScale;      \n    },\n  },\n  watch: {\n    addedBandWidthClassifiers() {\n\n    },\n    shuffle() {\n      let k_size = this.k_size;\n      let count = 0;\n      let k_fold_datasets = [];\n      let fold_size = Math.round(this.instances.length / k_size); \n      while (count < k_size) {\n        let test_list = [];\n        let train_list = [];\n        let start_id = count * fold_size;\n        let end_id = (count + 1) * fold_size;\n        while (start_id < end_id && start_id < this.instances.length) {\n          test_list.push(this.instances[start_id])\n          start_id += 1\n        }\n        this.instances.forEach((i)=>{\n          if (!test_list.includes(i)) {\n            train_list.push(i)\n          }\n        })\n        k_fold_datasets.push(\n          {'name': 'Fold ' + (count+1),\n           'training': new Set(train_list),\n           'testing': new Set(test_list),\n           'parameters':'N/A'}\n        )\n        count += 1\n      }\n      this.$store.dispatch('changedValidationList', k_fold_datasets);\n    },\n    classifierThresholdDict() {\n      // this.drawInitial();\n    },\n    thresholdClassifierNameList() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n\n  methods: {\n    onButtonClick(\n      payload: {\n        selection:  any | null,\n        whichOverlap: 'first' | 'second',\n      },\n    ) {\n      if (payload.selection != '') {\n        this.$store.dispatch('changedCurrentChosenFold',payload.selection.name);\n      } else {\n        this.$store.dispatch('changedCurrentChosenFold','');\n        this.validation_value.forEach((fold)=>{\n          fold.parameters = 'N/A'\n          \n        })\n      }\n    },\n    saveStatus(\n      payload: {\n        selection:  any | null,\n      },\n    ) {\n      this.validation_value.forEach((fold)=>{\n        if (fold.name == payload.selection.name) {\n          fold.parameters = this.bandWidthClassifiers\n        }\n      })\n\n    },\n    styleDataChosen(item){\n      if (item.name == this.$store.state.currentChosenFold) {\n        return `\n          color: pink;\n        `\n      }\n      return ''\n    },\n    styleTableRow(record: SelectionRecord) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const { first: firstSelection, second: secondSelection } = this.overlapSelections;\n      const isFirst = (firstSelection && firstSelection.id === record.id);\n      const isSecond = (secondSelection && secondSelection.id === record.id);\n\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n    drawInitial() {\n      const xScale =  this.xScale;\n      d3.select(this.$refs.svg_validation).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg_validation).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${440}\n          ${60}`)\n        .append('g')\n          .attr('transform', `translate(${0}, ${0})`)\n          ;\n\n      \n      let set_button = svg.append('rect')\n        .attr(\"class\",\"validation-set-button\")\n        .attr(\"width\",60)\n        .attr(\"height\",30)\n        .attr(\"x\",'10%')\n        .attr(\"y\",0)\n        .attr('rx',6)\n        .attr(\"fill\",\"lightgrey\")\n        .on('mouseenter', (d: string) => {\n              d3.select(\".validation-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".validation-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".validation-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".validation-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.shuffle =({sampling: 'set'}))\n          ; \n\n      let set_text = svg.append(\"text\")\n        .attr(\"x\",'17%')\n        .attr(\"y\",20)\n        .attr(\"class\",'validation-slider-text')\n        .text(\"shuffle\")\n        .style('text-anchor', 'middle')\n        .attr(\"font-size\",\"18px\")\n        .attr(\"fill\",\"grey\") \n        .on('mouseenter', (d: string) => {\n              d3.select(\".validation-slider-text\").attr(\"fill\",\"white\")\n              d3.select(\".validation-set-button\").attr(\"fill\",\"grey\")\n            })\n            .on('mouseleave', (d: string) => {\n              d3.select(\".validation-slider-text\").attr(\"fill\",\"grey\")\n              d3.select(\".validation-set-button\").attr(\"fill\",\"lightgrey\")\n            })\n            .on('click', (d: string) => this.shuffle =({sampling: 'set'}))\n        ;\n\n      \n    },\n  },\n});\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KfoldValidation.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KfoldValidation.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./KfoldValidation.vue?vue&type=template&id=71d73bb5&\"\nimport script from \"./KfoldValidation.vue?vue&type=script&lang=ts&\"\nexport * from \"./KfoldValidation.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDataTable,VExpansionPanel,VExpansionPanels,VIcon})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\n\nimport ClassFilter from './filters/ClassFilter.vue';\nimport ClassifierFilter from './filters/ClassifierFilter.vue';\nimport InstanceList from '@/components/sidebar/InstanceList.vue';\nimport SetHistory from '@/components/sidebar/SetHistory.vue';\nimport FocusItem from '@/components/sidebar/FocusItemSide.vue';\nimport ViewList from './ViewList.vue';\nimport ContinuousMode from './continuous/ModeSelection.vue';\nimport UncertainAdjuster from './continuous/UncertainAdjuster.vue';\nimport RandomSampling from './sampling/RandomSampling.vue';\nimport BootstrapSampling from './sampling/BootstrapSampling.vue';\nimport StratifiedSampling from './sampling/StratifiedSampling.vue';\nimport KfoldValidation from './validation/KfoldValidation.vue'\nexport default Vue.extend({\n  name: 'Sidebar',\n  components: {\n    RandomSampling,\n    BootstrapSampling,\n    StratifiedSampling,\n    ClassFilter,\n    ClassifierFilter,\n    InstanceList,\n    SetHistory,\n    FocusItem,\n    ViewList,\n    ContinuousMode,\n    UncertainAdjuster,\n    KfoldValidation,\n  },\n  data() {\n    return {\n      panel: [0, 0, 0],\n    };\n  },\n  computed: {\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n  }\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=5c45cbd2&scoped=true&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Sidebar.vue?vue&type=style&index=0&id=5c45cbd2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c45cbd2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Pairwise Classifier Consensus\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}})])],1)],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  generateRandomId,\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\nexport default Vue.extend({\n  name: 'PairwiseClassifierConsensus',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 20, right: 200, bottom: 100, left: 200};\n    const width = 500;\n    const height = 500;\n    const hover = {\n      consensusType: '' as 'agree' | 'disagree' | '',\n      classifiers: ['', ''],\n    };\n    return {\n      agreeColor: '#4393c3',\n      backgroundColor: 'white',\n      disagreeColor: '#d6604d',\n      height,\n      hover,\n      hoverColor: 'black',\n      margin,\n      neutralColor: 'white',\n      panel: [],\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n    };\n  },\n  computed: {\n    agreeScale(): d3.ScaleLinear<string, string> {\n      const agreeScale = d3.scaleLinear<string>()\n        .domain([0, this.consensusMax])\n        .range([this.neutralColor, this.agreeColor]);\n      return agreeScale;\n    },\n    consensus(): {\n      [classifier1: string]: {\n        [classifier2: string]: {\n          agree: Set<string>,\n          disagree: Set<string>,\n        },\n      },\n    } {\n      const consensus: {\n        [classifier1: string]: {\n          [classifier2: string]: {\n            agree: Set<string>,\n            disagree: Set<string>,\n          },\n        },\n      } = {};\n\n      this.classifiers.forEach((c1, index) => {\n        consensus[c1] = {};\n        this.classifiers.slice(0, index).forEach((c2) => {\n          consensus[c1][c2] = {\n            agree: new Set(),\n            disagree: new Set(),\n          };\n          // using reversed order of keys references same object\n          consensus[c2][c1] = consensus[c1][c2];\n        });\n      });\n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        this.classifiers.forEach((c1, index) => {\n          this.classifiers.slice(0, index).forEach((c2) => {\n            const type = i.predictions[c1] === i.predictions[c2]\n              ? 'agree'\n              : 'disagree';\n            consensus[c1][c2][type].add(id);\n          });\n        });\n      });\n\n      return consensus;\n    },\n    consensusKeys(): string[] {\n      const consensusKeys = Object.keys(this.consensus);\n      return consensusKeys;\n    },\n    consensusMax(): number {\n      let consensusMax = 0;\n\n      this.classifiers.forEach((c1, index) => {\n        this.classifiers.slice(0, index).forEach((c2) => {\n          consensusMax = Math.max(\n            consensusMax,\n            this.consensus[c1][c2].agree.size,\n            this.consensus[c1][c2].disagree.size,\n          );\n        });\n      });\n\n      return consensusMax;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    disagreeScale(): d3.ScaleLinear<string, string> {\n      const disagreeScale = d3.scaleLinear<string>()\n        .domain([0, this.consensusMax])\n        .range([this.neutralColor, this.disagreeColor]);\n      return disagreeScale;\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    keyCross(): Array<[unknown, unknown]> {\n      const keyCross = d3.cross(this.consensusKeys, this.consensusKeys);\n      return keyCross;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.consensusKeys)\n        .range([0, this.width])\n        .paddingOuter(0.05)\n        .paddingInner(0.1);\n      return x;\n    },\n    y(): d3.ScaleBand<string> {\n      const y = d3.scaleBand<string>()\n        .domain(this.consensusKeys)\n        .range([0, this.height])\n        .paddingOuter(0.05)\n        .paddingInner(0.1);\n      return y;\n    },\n  },\n  watch: {\n    hover() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawSelections();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    clearHover() {\n      this.hover = {\n        consensusType: '',\n        classifiers: ['', ''],\n      };\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('width', this.width)\n          .attr('height', this.height)\n          .attr('fill', this.backgroundColor)\n          .attr('stroke', 'black');\n      };\n      drawBackgroundRect();\n\n      const x = this.x;\n      const y = this.y;\n\n      const drawAxes = () => {\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(d3.axisBottom(x));\n\n        svg.append('g')\n          .call(xAxis)\n          .attr('class', 'axis')\n          .attr('font-size', 20)\n          .selectAll('text')\n            .attr('transform', 'translate(0, 10) rotate(20)')\n            .style('text-anchor', 'start');\n\n        const yAxis = (g: any) => g\n          .attr('transform', `translate(${this.width}, ${0})`)\n          .call(d3.axisRight(y));\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('class', 'axis')\n          .attr('font-size', 20)\n          .selectAll('text');\n\n        svg.selectAll('.axis').selectAll('.domain').remove();\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        // svg.append('text')\n        //   .attr('transform', () => {\n        //     const xOffset = this.width / 2;\n        //     const yOffset = this.height + this.margin.bottom * 0.8;\n        //     return `translate(${xOffset}, ${yOffset})`;\n        //   })\n        //   .style('text-anchor', 'middle')\n        //   .style('font-size', '24px')\n        //   .text('Classifier 1');\n\n        // svg.append('text')\n        //   .attr('transform', 'rotate(-90)')\n        //   .attr('x', -this.height / 2)\n        //   .attr('y', -this.margin.left * 0.9)\n        //   .attr('dy', '1em')\n        //   .style('text-anchor', 'middle')\n        //   .style('font-size', '24px')\n        //   .text('Classifier 2');\n\n        svg.append('text')\n          .attr(\n            'transform',\n            `translate(\n              ${-this.margin.left / 2 + this.width / 2 + this.margin.right / 2},\n              ${-this.margin.top / 3}\n            )`,\n          )\n          .attr('text-anchor', 'middle')\n          .style('font-size', '30px')\n          .text('Pairwise Classifier Consensus');\n      };\n      // drawTitles();\n\n      const drawLegend = () => {\n        const margin = 50;\n        const width = this.margin.left - 2 * margin;\n        const height = this.height - 2 * margin;\n\n        // @ts-ignore\n        const defs = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('defs');\n\n        interface GradientData {\n          id: string;\n          color: string;\n        }\n        const gradientsData: GradientData[] = [\n          {\n            id: generateRandomId(),\n            color: this.agreeColor,\n          },\n          {\n            id: generateRandomId(),\n            color: this.disagreeColor,\n          },\n        ];\n\n        const gradients = defs.selectAll('linearGradient')\n          .data(gradientsData)\n          .join('linearGradient')\n            .attr('id', (d: GradientData) => d.id)\n            .attr('x1', '0%')\n            .attr('y1', '100%')\n            .attr('x2', '0%')\n            .attr('y2', '0%');\n        gradients.append('stop')\n          .attr('offset', '0%')\n          .attr('stop-color', this.neutralColor)\n          .attr('stop-opacity', 1);\n        gradients.append('stop')\n          .attr('offset', '100%')\n          .attr('stop-color', (d: GradientData) => d.color)\n          .attr('stop-opacity', 1);\n\n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(${margin}, ${this.margin.top + margin})`);\n\n        legend.selectAll('rect')\n          .data(gradientsData)\n          .join('rect')\n            .attr('x', (d: GradientData, i: number) => i * width / 2)\n            .attr('width', width / 2)\n            .attr('height', height)\n            .attr('fill', (d: GradientData, i: number) => `url(#${d.id})`)\n            .attr('stroke', 'black');\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height + margin / 2})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'hanging')\n          .text(0);\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${-margin / 2})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .text(this.consensusMax);\n\n        legend.append('text')\n          .attr('transform', `translate(${-margin / 2}, ${height / 2}) rotate(-90)`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text('Number of instances');\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 4}, ${height / 2}) rotate(-90)`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text('agree');\n        legend.append('text')\n          .attr('transform', `translate(${width * 3 / 4}, ${height / 2}) rotate(-90)`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text('disagree');\n\n        console.log('legend draw');\n      };\n      drawLegend();\n\n      const drawSquares = () => {\n        const cells = svg.selectAll('.cell')\n          .data(this.keyCross)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', (d: string) => `translate(${x(d[0])}, ${y(d[1])})`)\n            .on('mouseenter', (d: [string, string]) => {\n              const consensusType = this.whichTriangle(d);\n              if (!consensusType) {\n                return;\n              }\n              this.hover = { consensusType, classifiers: d };\n            })\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: [string, string]) => this.select(d, 'first'))\n            .on('contextmenu', (d: [string, string]) => this.select(d, 'second'));\n\n        cells.append('rect')\n          .attr('width', x.bandwidth())\n          .attr('height', y.bandwidth())\n          .attr('fill', (d: [string, string]) => {\n            const consensusType = this.whichTriangle(d);\n            if (!consensusType) {\n              return this.backgroundColor;\n            }\n            const count = this.consensus[d[0]][d[1]][consensusType].size;\n            const scale = consensusType === 'agree'\n              ? this.agreeScale\n              : this.disagreeScale;\n            return scale(count);\n          })\n          .attr('stroke', (d: [string, string]) => d[0] === d[1] ? 'none' : 'black')\n          .style('paint-order', 'stroke');\n\n        cells.append('circle')\n          .attr('class', 'hover-circle')\n          .attr('cx', x.bandwidth() / 2)\n          .attr('cy', y.bandwidth() / 2)\n          .attr('r', Math.min(x.bandwidth(), y.bandwidth()) / 12)\n          .attr('fill', 'black');\n\n        const selections = () => {\n          const n = 10;\n\n          cells.append('rect')\n            .attr('y', this.y.bandwidth() * (n - 2) / n)\n            .attr('width', (d: [string, string]) =>\n              d[0] === d[1]\n                ? 0\n                : this.x.bandwidth())\n            .attr('height', this.y.bandwidth() / n * 2)\n            .attr('fill', 'black');\n          cells.append('rect')\n            .attr('class', 'selection-1')\n            .attr('y', this.y.bandwidth() * (n - 2) / n)\n            .attr('height', this.y.bandwidth() / n)\n            .attr('fill', this.selection1Color);\n          cells.append('rect')\n            .attr('class', 'selection-2')\n            .attr('y', this.y.bandwidth() * (n - 1) / n)\n            .attr('height', this.y.bandwidth() / n)\n            .attr('fill', this.selection2Color);\n        };\n        selections();\n      };\n\n      const hoverText = () => {\n        svg.append('text')\n          .attr('class', 'hover-text')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .attr('font-size', 20)\n          .attr('pointer-events', 'none');\n      };\n\n      drawSquares();\n      hoverText();\n\n      this.drawHover();\n      this.drawSelections();\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const hoverText = chart.select('.hover-text');\n\n      if (this.hover.consensusType) {\n        const [c1, c2] = this.hover.classifiers;\n        const count = this.consensus[c1][c2][this.hover.consensusType].size;\n        hoverText\n          .attr('fill-opacity', 0)\n          .attr('transform', `translate(\n            ${(this.x(c1) as number) + this.x.bandwidth() / 2},\n            ${(this.y(c2) as number) + this.y.bandwidth() / 2})`)\n          .text(count)\n          .transition()\n          .duration(500)\n          .attr('fill-opacity', 1);\n      } else {\n        hoverText.text('');\n      }\n    },\n    drawSelections() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const barSelection1 = chart.selectAll('.selection-1');\n      const barSelection2 = chart.selectAll('.selection-2');\n\n      const { first, second } = this.selections;\n\n      const barWidth = (d: [string, string], selection: SelectionRecord) => {\n        const consensusType = this.whichTriangle(d);\n        if (!consensusType) {\n          return 0;\n        }\n        const instances = this.consensus[d[0]][d[1]][consensusType];\n        const overlappingInstances = intersection(instances, selection.instances);\n        const fractionOfTotalInstances = overlappingInstances.size / instances.size;\n        const width = this.x.bandwidth() * fractionOfTotalInstances;\n        return width;\n      };\n\n      if (!first) {\n        barSelection1.attr('width', 0);\n      } else {\n        barSelection1\n          .data(this.keyCross)\n          .attr('width', (d: [string, string]) => barWidth(d, first));\n      }\n\n      if (!second) {\n        barSelection2.attr('width', 0);\n      } else {\n        barSelection2\n          .data(this.keyCross)\n          .attr('width', (d: [string, string]) => barWidth(d, second));\n      }\n    },\n    select(\n      classifiers: [string, string],\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const consensusType = this.whichTriangle(classifiers);\n      if (!consensusType) {\n        return;\n      }\n\n      const [c1, c2] = classifiers;\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.AGREE;\n      constraint.negation = (consensusType === 'disagree');\n      constraint.classifier = c1;\n      constraint.classifier2 = c2;\n\n      const instances = this.consensus[c1][c2][consensusType];\n      const description = `Instances on which classifiers ${c1} and ${c2} ${consensusType}`;\n\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric:[]\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    whichTriangle(classifiers: [string, string]) {\n      const [c1, c2] = classifiers;\n      const c1Index = this.consensusKeys.indexOf(c1);\n      const c2Index = this.consensusKeys.indexOf(c2);\n      if (c1Index < c2Index) {\n        return 'agree';\n      }\n      if (c1Index > c2Index) {\n        return 'disagree';\n      }\n      return '';\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PairwiseClassifierConsensus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PairwiseClassifierConsensus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PairwiseClassifierConsensus.vue?vue&type=template&id=91ee6e68&scoped=true&\"\nimport script from \"./PairwiseClassifierConsensus.vue?vue&type=script&lang=ts&\"\nexport * from \"./PairwiseClassifierConsensus.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PairwiseClassifierConsensus.vue?vue&type=style&index=0&id=91ee6e68&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91ee6e68\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"4px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Metrics Table\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Display Mode\"},model:{value:(_vm.display_mode),callback:function ($$v) {_vm.display_mode=$$v},expression:\"display_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall mode \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"uncertain mode\",\"value\":\"uncertain\"}})],1)],1),_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"Performance Type\"},model:{value:(_vm.weightedPerformance),callback:function ($$v) {_vm.weightedPerformance=$$v},expression:\"weightedPerformance\"}},[_c('v-radio',{attrs:{\"label\":\"normal\",\"value\":\"normal\"}}),_c('v-radio',{attrs:{\"label\":\"weighted\",\"value\":\"weighted\"}})],1)],1)])],1)],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.metrics,\"datasetType\":_vm.datasetType,\"continuous_dict\":_vm.continuous_dict,\"multi-sort\":\"\",\"sort-by\":_vm.sortby},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.classifier},[_c('td',[_vm._v(_vm._s(item.classifier))]),(_vm.datasetType == 'continuous'  && _vm.display_mode == 'overall')?_c('td',{staticClass:\"column0\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].cur_threshold.toFixed(2)))))]):_vm._e(),(_vm.datasetType == 'continuous'  && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column0\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].cur_uncertain))))]):_vm._e(),( _vm.datasetType != 'continuous' )?_c('td',{staticClass:\"column1\"},[_vm._v(\" \"+_vm._s((\"\" + (item.metrics.accuracy.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain' )?_c('td',{staticClass:\"column1\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].accuracy.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain' )?_c('td',{staticClass:\"column1\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].m_accuracy.toFixed(3)))))]):_vm._e(),(_vm.datasetType != 'continuous')?_c('td',{staticClass:\"column2\"},[_vm._v(_vm._s((\"\" + (item.metrics.mcc.average.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain')?_c('td',{staticClass:\"column2\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].mcc.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column2\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].m_mcc.toFixed(3)))))]):_vm._e(),(_vm.classNumber > 2)?_c('td',{staticClass:\"column3\"},[_vm._v(_vm._s((\"\" + (item.metrics.microf1.average.toFixed(3)))))]):_vm._e(),(_vm.classNumber > 2)?_c('td',{staticClass:\"column4\"},[_vm._v(_vm._s((\"\" + (item.metrics.macrof1.average.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType != 'continuous')?_c('td',{staticClass:\"column5\"},[_vm._v(_vm._s((\"\" + (item.metrics.precision.average.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType != 'continuous')?_c('td',{staticClass:\"column6\"},[_vm._v(_vm._s((\"\" + (item.metrics.recall.average.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType != 'continuous')?_c('td',{staticClass:\"column7\"},[_vm._v(_vm._s((\"\" + (item.metrics.f1.average.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain')?_c('td',{staticClass:\"column5\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].precision.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain')?_c('td',{staticClass:\"column6\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].recall.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain')?_c('td',{staticClass:\"column7\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].f1.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column5\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].m_precision.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column6\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].m_recall.toFixed(3)))))]):_vm._e(),(_vm.classNumber <= 2 && _vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column7\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].m_f1.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode != 'uncertain')?_c('td',{staticClass:\"column8\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].auc_area.toFixed(3)))))]):_vm._e(),(_vm.datasetType == 'continuous' && _vm.display_mode == 'uncertain')?_c('td',{staticClass:\"column8\"},[_vm._v(_vm._s((\"\" + (_vm.continuous_dict[item.classifier].ins_per))))]):_vm._e()])}),0)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport {\n  BoxProps,\n  Metrics,\n  ContinuousMetrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\ninterface Header {\n  text: string;\n  value: string;\n}\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\ninterface ContinuousMetricsWithClassifier{\n  classifier: string;\n  continuous_metrics: ContinuousMetrics;\n}\n\n\nexport default Vue.extend({\n  name: 'MetricsTable',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const display_mode = 'overall' as 'overall' | 'uncertain' \n    const weightedPerformance = 'normal' as 'normal' | 'weighted'\n\n    return {\n      weightedPerformance,\n      display_mode:'overall',\n      pagination: {\n        rowsPerPage: 10,\n      },\n      panel: [],\n      sortby: [],\n      classNumber:[...this.boxProps.classes].length,\n    };\n  },\n  computed: {\n    addedThresholdClassifiers(): [] {\n      if (this.$store.state.datasetType != \"continuous\") {\n        return []\n      }\n      return this.$store.state.addedThresholdClassifiers.map((c)=>c.name);\n    },\n    additionalMetrics():{\n        [classifier: string]: Metrics,\n      } {\n      return this.$store.getters.additionMetrics;\n    },\n    thresholdClassifierNameList():string[] {\n      return this.$store.state.thresholdClassifierNameList\n    },\n    classifierBandWidthDict(): string[] {\n      return this.boxProps.classifierBandWidthDict;\n    },\n    classifierThresholds():{} {\n      let classifierThresholds = {}\n      this.thresholdClassifierNameList.forEach((c)=>{\n        let classifier = c.split(\"_\")[0]\n        let threshold = (parseInt(c.split(\"_\")[1]) / 100).toFixed(2)\n        classifierThresholds[classifier] = threshold\n      })\n      return classifierThresholds;\n    },\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n    continuousClassifierName():{} {\n      var continuousClassifierName = {}\n      this.classifiers.forEach((c)=>{\n        if (this.$store.state.datasetType == \"continuous\") {\n          continuousClassifierName[c] = c + \"_\" + this.classifierThresholdDict[c]/100\n        } else {\n          continuousClassifierName[c] = c;\n        }\n      })\n      return continuousClassifierName;\n    },\n    weighted_metrics() : ContinuousMetricsWithClassifier[] {\n      const storeContinuousMetrics: {\n        [classifier: string]: ContinuousMetrics,\n      } = this.$store.getters.weighted_metrics;\n      const weighted_metrics: ContinuousMetricsWithClassifier[] = Object.entries(storeContinuousMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          continuous_metrics: m,\n        };\n      });\n      return weighted_metrics;\n    },\n    continuous_metrics(): ContinuousMetricsWithClassifier[] {\n      const storeContinuousMetrics: {\n        [classifier: string]: ContinuousMetrics,\n      } = this.$store.getters.continuous_metrics;\n      const continuous_metrics: ContinuousMetricsWithClassifier[] = Object.entries(storeContinuousMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          continuous_metrics: m,\n        };\n      });\n      return continuous_metrics;\n    },\n    continuous_dict(): {} {\n      const continuous_dict = this.weightedPerformance == 'normal' ? this.$store.getters.continuous_metrics: this.$store.getters.weighted_metrics;\n      const standardClassifier = ['Majority Classifier','Oracle', 'Random Classifier']\n      const classifierBandWidthDict = this.classifierBandWidthDict\n      if (this.datasetType == 'continuous'){\n        let new_continuous_dict = {}\n        for (let key in continuous_dict){\n          if (!standardClassifier.includes(key)){\n            new_continuous_dict[key] = continuous_dict[key]\n            if (this.display_mode == 'uncertain') {\n              let real_tp = new_continuous_dict[key].tp \n              let real_tn = new_continuous_dict[key].tn\n              let real_fp = new_continuous_dict[key].fp\n              let real_fn = new_continuous_dict[key].fn\n              new_continuous_dict[key].m_accuracy  = (real_tp + real_tn) / (real_tp + real_fp + real_tn + real_fn)       \n              new_continuous_dict[key].m_precision = (real_tp)  / (real_tp + real_fp)   \n              new_continuous_dict[key].m_recall = (real_tp) / (real_tp + real_fn)\n              new_continuous_dict[key].m_f1 = (new_continuous_dict[key].m_precision + new_continuous_dict[key].m_recall == 0) ? 0 : 2 * new_continuous_dict[key].m_precision * new_continuous_dict[key].m_recall / (new_continuous_dict[key].m_precision + new_continuous_dict[key].m_recall)\n              if ((Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn))) == 0) {\n                new_continuous_dict[key].m_mcc = 0;\n              } \n              if ((real_tp+real_fp)*(real_tp+real_fn)*(real_tn+real_fp)*(real_tn+real_fn) != 0) {\n                new_continuous_dict[key].m_mcc = ((real_tp*real_tn-real_fp*real_fn) / Math.sqrt((real_tp + real_fp) * (real_tp + real_fn) * (real_tn + real_fp) * (real_tn + real_fn)))\n              } \n            } else {\n              new_continuous_dict[key].m_accuracy = 0\n              new_continuous_dict[key].m_precision = 0\n              new_continuous_dict[key].m_recall = 0\n              new_continuous_dict[key].m_f1 = 0\n              new_continuous_dict[key].m_mcc = 0\n            }\n          } \n        }\n        return new_continuous_dict\n      }\n      return continuous_dict;\n    },\n   \n    metrics(): MetricsWithClassifier[] {\n      const standardClassifier = ['Majority Classifier','Oracle', 'Random Classifier']\n      const storeMetrics: {\n        [classifier: string]: Metrics,\n      } = this.$store.getters.metrics;\n      const metrics: MetricsWithClassifier[] = Object.entries(storeMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          metrics: m,\n        };\n      })\n  \n      let new_metrics: MetricsWithClassifier[] = []\n      if (this.datasetType == 'continuous') {\n        const addtionalStoreMetrics: {\n          [classifier: string]: Metrics,\n        } = this.$store.getters.additionMetrics;\n        const additionMetrics: MetricsWithClassifier[] = Object.entries(addtionalStoreMetrics).map(([classifier, m]) => {\n          return {\n            classifier,\n            metrics: m,\n          };\n        })\n        for (let item in metrics) {\n          if (!standardClassifier.includes(metrics[item].classifier)) {\n            new_metrics.push(metrics[item])\n          }\n        }\n        for (let item in additionMetrics) {\n          if (!standardClassifier.includes(additionMetrics[item].classifier)) {\n            new_metrics.push(additionMetrics[item])\n          }\n        }\n        return new_metrics\n      }\n      return metrics;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      return [...this.boxProps.classifiers];\n    },\n    headers(): Header[] {\n      const headers = this.datasetType != \"continuous\"?[\n        { text: 'Classifier', value: 'classifier' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Accuracy', value: 'accuracy' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'MCC', value: 'mcc' },\n      ]:this.display_mode == 'overall'?[\n        { text: 'Classifier', value: 'classifier' },\n        { text: 'Threshold', value: 'threshold' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Accuracy', value: 'accuracy' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'MCC', value: 'mcc' },\n      ]\n        : [\n        { text: 'Classifier', value: 'classifier' },\n        { text: 'Uncertain Range', value: 'uncertainty' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Accuracy', value: 'accuracy' },\n        { text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'MCC', value: 'mcc' },\n      ];\n      if (this.classes.length<= 2) {\n        headers.push({ text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Precision', value: 'precision' })\n        headers.push({ text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Recall', value: 'recall' })\n        headers.push({ text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'F1', value: 'f1' })\n      } else {\n        headers.push({ text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Micro-F1', value: 'microf1' })\n        headers.push({ text: (this.weightedPerformance == 'normal' ? '' : 'Weighted ') + 'Macro-F1', value: 'macrof1' })\n      }\n      if (this.datasetType == \"continuous\" ){\n        if (this.display_mode == 'overall') {\n          headers.push({ text: 'AUC', value: 'auc_area' })\n        } else {\n          headers.push({ text: 'Instances Percentage', value: 'ins_per' })\n        }\n      } \n     \n      return headers;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    truncatedInstances(): string[] {\n      return this.instances.slice(0, 10);\n    },\n  },\n  mounted() {\n    console.log(this.metrics);\n    console.log(this.classes)\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardMetrics.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardMetrics.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StandardMetrics.vue?vue&type=template&id=29ea7f8d&scoped=true&\"\nimport script from \"./StandardMetrics.vue?vue&type=script&lang=ts&\"\nexport * from \"./StandardMetrics.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StandardMetrics.vue?vue&type=style&index=0&id=29ea7f8d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29ea7f8d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VDataTable,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Metrics Parallel\")])],1)])],1)],1),_c('div',{attrs:{\"id\":\"legend1\"}},[_c('v-switch',{attrs:{\"label\":\"Filter\"},model:{value:(_vm.normalization_switch),callback:function ($$v) {_vm.normalization_switch=$$v},expression:\"normalization_switch\"}})],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\n\nexport default Vue.extend({\n  name: 'MetricsParallel',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    return {\n      height,\n      normalization:'No',\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      selectedEval:'',\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n    };\n  },\n  computed: {\n    normalization_switch: {\n      get: function() {\n\t\t\t\treturn this.normalization === \"Yes\";\n\t\t\t},\n\t\t\tset: function() {\n        if (this.normalization == \"Yes\") {\n          this.normalization = \"No\"\n        } else {\n          this.normalization = \"Yes\"\n        }\n\t\t\t},\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    evaluationMethods(): string[] {\n      \n      const evaluationMethods = [\"accuracy\", \"mcc\"];\n      if (this.classes.length > 2) {\n        evaluationMethods.push(\"microf1\")\n        evaluationMethods.push(\"macrof1\")\n      } else {\n        evaluationMethods.push(\"precision\")\n        evaluationMethods.push(\"recall\")\n        evaluationMethods.push(\"f1\")\n      }\n      return evaluationMethods;\n    },\n    \n    metrics(): MetricsWithClassifier[] {\n      const storeMetrics: {\n        [classifier: string]: Metrics,\n      } = this.$store.getters.metrics;\n\n      const metrics: MetricsWithClassifier[] = Object.entries(storeMetrics).map(([classifier, m]) => {\n        return {\n          classifier,\n          metrics: m,\n        };\n      });\n      return metrics;\n    },\n    predictions(): {\n      [classifier: string]: {\n        right: Set<string>,\n        wrong: Set<string>,\n      },\n    } {\n      const predictions: {\n        [classifier: string]: {\n          right: Set<string>,\n          wrong: Set<string>,\n        },\n      } = {};\n\n      this.classifiers.forEach((c) => {\n        predictions[c] = {\n          right: new Set(),\n          wrong: new Set(),\n        };\n      });\n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        this.classifiers.forEach((c) => {\n          if (i.predictions[c] === i.actual) {\n            predictions[c].right.add(id);\n          } else {\n            predictions[c].wrong.add(id);\n          }\n        });\n      });\n\n      return predictions;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.evaluationMethods)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n  },\n  watch: {\n    instances() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawSelections();\n    },\n    normalization_switch() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    drawInitial() {\n      console.log(\"normalization_switch\",this.normalization);\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        // .call(d3.zoom().on(\"zoom\", function () {\n        //     svg.attr(\"transform\", d3.event.transform)\n        // }))  \n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const x = this.x;\n      const y = this.y;\n      \n\n      const drawParelle = () => {\n        let vueThis = this;\n\n\n        const sequentialScale = d3.scaleSequential<string>( d3.interpolateWarm)\n        .domain([0, 100])\n        .interpolator(function (x) { return d3.interpolateWarm(.8*x);} );\n            \n\n\n        continuous(\"#legend1\", sequentialScale);\n\n        var data = [];\n        const fakeyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n        ];\n        \n        this.metrics.forEach((classifier)=>{\n          var cur_dict = {\"name\":classifier.classifier,\"accuracy\":classifier.metrics.accuracy ? classifier.metrics.accuracy : 0, \"mcc\":classifier.metrics.mcc.average ? classifier.metrics.mcc.average : 0}\n          let flag = 1;\n          if (this.classes.length > 2) {\n            cur_dict[\"microf1\"] = classifier.metrics.microf1.average ? classifier.metrics.microf1.average  : 0;\n            cur_dict[\"macrof1\"] = classifier.metrics.macrof1.average ? classifier.metrics.macrof1.average : 0;\n            if (this.normalization == \"Yes\") {\n              if ( cur_dict[\"microf1\"] < 0.5 ||  cur_dict[\"macrof1\"] < 0.5) flag = 0\n            }\n          } else {\n            cur_dict[\"precision\"] = classifier.metrics.precision.average ? classifier.metrics.precision.average : 0;\n            cur_dict[\"recall\"] = classifier.metrics.recall.average ? classifier.metrics.recall.average : 0;\n            cur_dict[\"f1\"] = classifier.metrics.f1.average ? classifier.metrics.f1.average: 0;\n            if (this.normalization == \"Yes\") {\n              if ( cur_dict[\"precision\"] < 0.5 ||  cur_dict[\"recall\"] < 0.5 || cur_dict[\"f1\"]  < 0.5) flag = 0\n            }\n          }\n          if (this.normalization == \"Yes\") {\n            if ( cur_dict[\"accuracy\"] < 0.5 ||  cur_dict[\"mcc\"] < 0 ) flag = 0\n          }\n          if (flag == 1)\n           data.push(cur_dict)\n        })\n \n\n        var rect_width = (this.width-this.margin.top -this.margin.bottom) / (2 *(data.length+3))\n        //draw classifier selection box\n        svg.selectAll(\"myRect\")\n          .data(data)\n          .enter().append(\"rect\")\n              .attr('x',  -this.margin.left+10)\n              .attr(\"y\", (d,i)=>this.width/5+i*(rect_width+2))\n              .attr('width', this.margin.left+50)\n              .attr('height',rect_width)\n              .attr('fill', (d,i)=>{\n                return fakeyClassifiers.includes(d.name)?\"lightgrey\":\"#69b3a2\"})\n              .attr(\"opacity\",\"1\")  \n              .attr('stroke',\"black\")\n              .attr('stroke-width',1)\n              .style(\"text-anchor\", \"middle\")\n              .attr(\"class\",\"rect-classifier\")\n              \n        svg.selectAll(\"myRectText\")\n          .data(data)\n          .enter().append(\"text\")\n              .style(\"text-anchor\", \"middle\")\n              .attr('x',  (-this.margin.left+50)/3)\n              .attr(\"y\", (d,i)=>this.width/5+i*(rect_width+2)+rect_width/3*2)\n              .attr(\"class\",\"text-rect-classifier\")\n              .text((d,i)=>{\n                return d.name})\n              .style(\"fill\", \"black\")\n              .style(\"font-size\", \"18px\")\n              .on('mouseenter', function(d,i) {\n                d3.select(this).attr(\"fill\", \"white\")\n                showHover(d,i)\n              })\n              .on('mouseleave', function(d,i) {\n                d3.select(this).attr(\"fill\", \"black\")\n                removeHover(d,i)\n              })\n\n\n        console.log(\"parallel data\", data)\n        const dimensions = d3.keys(data[0]).filter(function(d) { return d!=\"name\" })\n        const evaluationMethods = this.evaluationMethods\n\n        var y = {}\n        for (var i in dimensions) {\n          var name = dimensions[i];\n          var lowthreshold = 0;\n          if (this.normalization == \"Yes\") {\n              y[name] = d3.scaleLinear()\n            .domain([name == \"mcc\"? 0 : .5, 1])\t\t\n              .range([this.height, 0])\n          } else {\n            y[name] = d3.scaleLinear()\n          .domain([name == \"mcc\"? -1 : 0, 1])\n              .range([this.height, 0])\n          }\n        }\n        var x = d3.scalePoint()\n          .range([0, this.width])\n          .padding(0.5)\n          .domain(dimensions);\n\n        function path(d) {\n            return d3.line()(dimensions.map(function(p) { \n              return [x(p), y[p](d[p])]; }));\n        }\n\n\n        var curdata = []\n        data.forEach(d=>{\n            curdata.push(d)\n        });\n        \n        svg\n          .selectAll(\"myPath\")\n          .data(data)\n          .enter().append(\"path\")\n          .attr(\"d\",  path)\n          .attr(\"class\",\"parallel-path\")\n          .attr(\"id\",(d,i)=>d.name)\n          .style(\"fill\", \"none\")\n          .style(\"stroke\", (d,i)=>{\n            return fakeyClassifiers.includes(d.name)?\"grey\":\"#69b3a2\"\n            })\n          .style(\"stroke-width\", 3)\n          .style(\"opacity\", 1)\n          .on('mouseenter', function(d,i) {\n              showHover(d,i)\n            })\n            .on('mouseleave', function(d,i) {\n              removeHover(d,i)\n            })\n\n        // Draw the axis:\n        svg.selectAll(\"myAxis\")\n          .data(dimensions).enter()\n          .append(\"g\")\n          .attr(\"transform\", function(d) { return \"translate(\" + x(d) + \")\"; })\n          .each(function(d) { d3.select(this).call(d3.axisLeft<d3.AxisDomain>(y[d]).scale(y[d])); })\n          .append(\"text\")\n            .attr(\"class\",\"parallel-text\")\n            .attr(\"id\",(d,i)=>\"parallel-text-\"+i)\n            .style(\"text-anchor\", \"middle\")\n            .attr(\"y\", -9)\n            .attr('font-size', 22)\n            .text(function(d) { return d; })\n            .style(\"fill\", \"grey\")\n            .on(\"click\", (d,i)=>{  \n                  this.curclick = [d,i]\n                  showSelected(d,i,vueThis)\n                  }\n            )\n        \n        if (this.curclick.length ==2) showSelected(this.curclick[0],this.curclick[1],vueThis)\n       function showHover(d,i) {\n         const allpaths = d3.selectAll('.parallel-path')\n                        .style(\"stroke-width\", (m)=>d.name==m[\"name\"]?6:3)\n                        .attr(\"stroke-opacity\",(m)=>d.name==m[\"name\"]?\"1\":\"0.2\")\n         const allRects =  d3.selectAll('.rect-classifier').attr(\"opacity\", (m)=>d.name==m[\"name\"]?\"1\":\"0.2\")  //.style(\"fill\",  (m)=>d.name==m.name?\"grey\":\"lightgrey\")\n         const allRectTexts = d3.selectAll('.text-rect-classifier').attr(\"opacity\", (m)=>d.name==m[\"name\"]?\"1\":\"0.2\")//.style(\"fill\", (m)=>d.name==m.name?\"white\":\"black\")\n\n       }      \n\n       function removeHover(d,i) {\n         const allpaths = d3.selectAll('.parallel-path')\n                        .style(\"stroke-width\", 3)\n                        .attr(\"stroke-opacity\",\"1\")\n         const allRects =  d3.selectAll('.rect-classifier').attr(\"opacity\", \"1\")\n         const allRectTexts = d3.selectAll('.text-rect-classifier').attr(\"opacity\", \"1\")\n          \n       }\n       function showSelected(d,i,vueThis) {\n         const margin = {top: 30, right: 20, bottom: 90, left: 120};\n          const width = 1000 - margin.left - margin.right;\n          const height = 600 - margin.top - margin.bottom;\n          var rect_width = (width-margin.top -margin.bottom) / (2 *(data.length+3))\n          const sequentialScale = d3.scaleSequential<string>( d3.interpolateWarm)\n            .domain([0, vueThis.classifiers.length-1])\n            .interpolator(function (x) { return d3.interpolateWarm(.8*x);} );\n      \n          const allpaths = d3.selectAll('.parallel-path');\n          const allpathtexts = d3.selectAll('.parallel-text').style(\"fill\", \"grey\")\n                              .style(\" font-weight\",\"normal\").attr('font-size', 22); \n          const allRects =  d3.selectAll('.rect-classifier')//.attr(\"opacity\", (m)=>d.name==m.name?\"1\":\"0.2\")  //.style(\"fill\",  (m)=>d.name==m.name?\"grey\":\"lightgrey\")\n          const allRectTexts = d3.selectAll('.text-rect-classifier')//.attr(\"opacity\", (m)=>d.name==m.name?\"1\":\"0.2\")//.style(\"fill\", (m)=>d.name==m.name?\"white\":\"black\")\n\n                      \n\n          const evaluation = dimensions[i]\n          var curtops = []\n          \n          curdata.sort(function(x,y) {\n            return  y[evaluation] - x[evaluation]});\n          var count = 0;\n          while (count < 3) {\n            curtops.push(curdata[count].name)\n            count += 1;\n          }\n\n          var fakeData = curdata.filter(d=>{\n            return fakeyClassifiers.includes(d.name)})\n\n          curdata = curdata.filter(d=>{\n            return !fakeyClassifiers.includes(d.name)})\n          curdata = curdata.concat(fakeData)\n          \n          console.log(\"curdata\",curdata, fakeData)\n\n          allpathtexts\n            .style(\"fill\", function(d,j){\n            return i===j?\"black\":\"grey\"\n            })\n            .style(\"font-weight\",function(d,j){\n            return i===j?\"bold\":\"normal\"\n            })\n            .attr('font-size', function(d,j){\n            return i===j?24:20\n            }); \n\n          var pathColormap = {}\n          for (var k in curdata) {\n              pathColormap[curdata[k][\"name\"]] = k\n          }\n          \n          allpaths.style(\"stroke\",(d,i)=>{\n            if (fakeyClassifiers.includes(d[\"name\"])) {\n              return \"grey\"\n            }\n            return sequentialScale(pathColormap[d[\"name\"]])\n            });   \n          allRects.data(curdata).attr(\"fill\",(d,i)=>{\n            if (fakeyClassifiers.includes(d[\"name\"])) {\n              return \"lightgrey\"\n            }\n            return sequentialScale(pathColormap[d[\"name\"]])\n            })\n            .attr(\"y\", (d,i)=>width/5+i*(rect_width+2));   \n         allRectTexts.data(curdata)\n            .style(\"fill\",(d,i)=>{\n            if (fakeyClassifiers.includes(d[\"name\"])) {\n              return \"black\"\n            }\n            return \"lightgrey\"\n            })\n            .attr('x',  (-margin.left+35)/3)\n            .text((d,i)=>{\n                return d.name});\n        }\n\n        function continuous(selector_id, colorscale) {\n          var legendheight = 40,\n              legendwidth = 20,\n              margin = {top: 2, right: 2, bottom: 0, left: 10};\n\n          var canvas = d3.select(selector_id)\n            .style(\"height\", legendheight + \"px\")\n            .style(\"width\", legendwidth + \"px\")\n            .style(\"position\", \"relative\")\n            .append(\"canvas\")\n            .attr(\"height\", legendheight - margin.top - margin.bottom)\n            .attr(\"width\", 1)\n            .style(\"height\", (legendheight - margin.top - margin.bottom) + \"px\")\n            .style(\"width\", (legendwidth - margin.left - margin.right) + \"px\")\n            .style(\"border\", \"1px solid #000\")\n            .style(\"position\", \"absolute\")\n            .style(\"top\", \"120%\")\n            .style(\"left\", \"50%\")\n            .node();\n\n          var ctx = canvas.getContext(\"2d\");\n\n          var legendscale = d3.scaleLinear()\n            .range([1, legendheight - margin.top - margin.bottom])\n            .domain(colorscale.domain());\n\n          var image = ctx.createImageData(1, legendheight);\n          d3.range(legendheight).forEach(function(i) {\n            var c = d3.rgb(colorscale(legendscale.invert(i)));\n            image.data[4*i] = c.r;\n            image.data[4*i + 1] = c.g;\n            image.data[4*i + 2] = c.b;\n            image.data[4*i + 3] = 255;\n          });\n          ctx.putImageData(image, 0, 0);\n      };\n      }  \n\n      drawParelle()\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2.2;\n            const yOffset = this.height + this.margin.bottom * 0.8;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Evaluation Methods');\n      };\n      drawTitles();\n\n      const drawLegend = () => {\n        const width = this.width / 4;\n        const height = this.margin.top / 2;\n\n        // @ts-ignore\n        const legend = d3.select(this.$refs.svg)\n          .select('svg')\n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${this.margin.left + this.width * 3 / 4},\n              ${height / 3})`);\n\n        legend.append('rect')\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.wrongColor);\n        legend.append('rect')\n          .attr('y', height / 2)\n          .attr('width', width)\n          .attr('height', height / 2)\n          .attr('fill', this.rightColor);\n\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text('misclassified');\n        legend.append('text')\n          .attr('transform', `translate(${width / 2}, ${height * 3 / 4})`)\n          .attr('font-size', '20px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text('correctly classified');\n      };\n      this.drawSelections();\n      \n    },\n    drawSelections() {\n      /*console.log(\"drw praallel\", this.selections)\n      const { first, second } = this.selections;\n\n      var curclassifier = first.description.split(\" \")[0]\n      var curclass = first.description.split(\" \")[1]\n\n      console.log(curclassifier, curclass)\n      console.log(first.predicate.metric)\n\n\n      const x_edge = this.width / (this.evaluationMethods.length+2)\n      const newEvaluationMethods = [\"accuracy\",\"mcc\",\"precision\",\"recall\"]\n      var path = \"M\";\n      var i = 1\n      for (var value in newEvaluationMethods) {\n        var num = 0;\n        if (newEvaluationMethods[value] == \"accuracy\") {\n          num = first.predicate.metric.right.size / (first.predicate.metric.right.size + first.predicate.metric.wrong.size)\n        } else if (newEvaluationMethods[value] == \"mcc\"){\n          num = first.predicate.metric.right.size / (first.predicate.metric.right.size + first.predicate.metric.wrong.size)\n        } else if (newEvaluationMethods[value] == \"precision\"){\n          num = first.predicate.metric.tp.size / (first.predicate.metric.tp.size + first.predicate.metric.fp.size)\n        } else if (newEvaluationMethods[value] == \"recall\"){\n          num = first.predicate.metric.tp.size / (first.predicate.metric.actual.size)\n        } \n        if (isNaN(num)) \n          num = 0;\n        path += x_edge * i + \",\" + this.height * (1-num)+\"L\"\n        //points[classifierName][this.evaluationMethods[value]] = {\"x\":x_edge*i, \"y\":this.height * (1-num)} \n        i += 1\n      }\n      path = path.substring(0, path.length-1)\n      console.log(path)\n      const chart = d3.select(this.$refs.svg);\n      const selectedpath = chart.select('.seleted-path').attr(\"d\", path);\n      console.log(selectedpath)*/\n      \n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParallelMetrics.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ParallelMetrics.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ParallelMetrics.vue?vue&type=template&id=60649a31&scoped=true&\"\nimport script from \"./ParallelMetrics.vue?vue&type=script&lang=ts&\"\nexport * from \"./ParallelMetrics.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ParallelMetrics.vue?vue&type=style&index=0&id=60649a31&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60649a31\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelHeader,VExpansionPanels,VIcon,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Uncertainty Heatmap \")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 30px\"}},[_c('v-radio-group',{attrs:{\"label\":\"calculation criteria\"},model:{value:(_vm.correlationMode),callback:function ($$v) {_vm.correlationMode=$$v},expression:\"correlationMode\"}},[_c('v-radio',{attrs:{\"label\":\"accuracy + (consider uncertainty as right)\",\"value\":\"acc1\"}}),_c('v-radio',{attrs:{\"label\":\"accuracy (consider uncertainty as uncertain)\",\"value\":\"acc2\"}}),_c('v-radio',{attrs:{\"label\":\"accuracy - (consider uncertainty as wrong)\",\"value\":\"acc3\"}}),_c('v-radio',{attrs:{\"label\":\"precision - (consider uncertainty as uncertain)\",\"value\":\"precision\"}}),_c('v-radio',{attrs:{\"label\":\"recall - (consider uncertainty as uncertain)\",\"value\":\"recall\"}}),_c('v-radio',{attrs:{\"label\":\"f1 - (consider uncertainty as uncertain)\",\"value\":\"f1\"}}),_c('v-radio',{attrs:{\"label\":\"mcc - (consider uncertainty as uncertain)\",\"value\":\"mcc\"}})],1)],1)])],1)],1),_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar values = ref.values;\nvar search = ref.search;\nvar isOpen = ref.isOpen;\nreturn [(values.length && !isOpen)?_c('span',{staticClass:\"multiselect__single\"},[_vm._v(\" \"+_vm._s(values.length)+\" options selected \")]):_vm._e()]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{attrs:{\"id\":\"legend1\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport legend from 'd3-svg-legend'\nimport { legendColor } from 'd3-svg-legend'\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\n\n\nexport default Vue.extend({\n  name: 'UncertaintyHeatMap',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = 'descending' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n    };\n    const chosenData = \"All\" as \"All\" | \"selection1\" | \"selection2\"\n    const correlationMode = 'acc2' as 'acc1'| 'acc2' | 'acc3' |'precision'| 'recall'| 'f1' | 'mcc' | 'uncertain';\n    return {\n      min:0,\n      max:100,\n      correlationMode,\n      value: [],\n      chosenData,\n      accuracySorting,\n      height,\n      correlation_mode:'No',\n      hover,\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      selectedEval:'',\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      correlations:[],\n    };\n  },\n  computed: {\n    selectionHistory(): SelectionRecord[] {\n      return this.$store.state.selectionHistory;\n    },\n    options(): any[] {\n      let options = []\n      const classifiers = this.classifiers\n      classifiers.forEach((c)=>{\n        options.push({name: c});\n      })\n      return options\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    uncertaintyRange(): string[] {\n      return [\"0.00\",\"0.01\",\"0.02\",\"0.03\",\"0.04\",\"0.05\",\"0.06\",\"0.07\",\"0.08\",\"0.09\",\"0.10\"]\n    }, \n    confidenceRange(): string[] {\n      return [\"0\",\"0.05\", \"0.1\",\"0.15\", \"0.2\", \"0.25\", \"0.3\",\"0.35\", \"0.4\", \"0.45\", \"0.5\", \"0.55\", \"0.6\", \"0.65\", \"0.7\",\"0.75\", \"0.8\",\"0.85\", \"0.9\",\"0.95\",\"1.0\"]\n\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThresholdDict;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    features() :any[] {\n      \n      const allFeatures = [...this.boxProps.features];\n      const numericTypes = ['interval', 'ratio'];\n      const isNumeric = (featureName: string) => {\n        const feature = this.$store.getters.feature(featureName);\n        return numericTypes.includes(feature.type);\n      };\n      const numericFeatures =  allFeatures.filter(isNumeric);\n      const categoricalFeatures = [...this.boxProps.features].filter((f) => this.$store.getters.feature(f).type === 'categorical');\n      let features = []\n      numericFeatures.forEach((c)=>{\n        features.push(c)\n      })\n      categoricalFeatures.forEach((c)=>{\n        features.push(c)\n      })\n      features = features.filter(f=>f!=\"train_or_test\")\n      return features;\n    },\n    InitialCorrelations(): any[] {\n      \n      let correlations = []\n      let selectedClassifiers = this.value.map((v)=>v.name)\n      let cur_classifier = selectedClassifiers[0] \n      this.confidenceRange.forEach((group)=>{\n        this.confidenceRange.forEach((variable)=>{\n          let cur_threshold = Object.keys( this.classifierThresholds).includes(cur_classifier)? this.classifierThresholds[cur_classifier] / 100 : 0.5\n          let left_edge = parseFloat(group);\n          let right_edge = parseFloat(variable);\n          let c = cur_classifier\n          let predictions = {c:{}}\n          predictions[c] ={\n              'tp':0,\n              'tn':0,\n              'fp':0,\n              'fn':0,\n              'm_tp':0,\n              'm_tn':0,\n              'm_fp':0,\n              'm_fn':0,\n            }\n          if (left_edge <= right_edge) {\n              if (left_edge == right_edge){\n                cur_threshold = group\n              }\n              this.instances.forEach((id)=>{\n              let continuous_value = (instanceById(id).continuous_predictions[c])\n              // let correct = instanceById(id).actual == instanceById(id).predictions[c]? 1 : 0;\n              if (continuous_value > left_edge && continuous_value < right_edge) {\n                  if (instanceById(id).actual == this.classes[1]) {\n                    if (continuous_value >= cur_threshold) {\n                      predictions[c]['m_tp'] += 1\n                    } else {\n                      predictions[c]['m_fn'] += 1\n                    }\n                  } else {\n                    if (continuous_value < cur_threshold) {\n                      predictions[c]['m_tn'] += 1\n                    } else {\n                      predictions[c]['m_fp'] += 1\n                    }\n                  }\n              } else if (continuous_value >= right_edge){\n                if (instanceById(id).actual == this.classes[1]){\n                  predictions[c][\"tp\"] += 1\n                } else {\n                  predictions[c][\"fp\"] += 1\n                }\n              } else{\n                if (instanceById(id).actual == this.classes[0]) {\n                  predictions[c][\"tn\"] += 1\n                } else {\n                  predictions[c][\"fn\"] += 1\n                }\n              }\n                \n            })\n          }\n          \n          let uncertain_size = predictions[c].m_tp +  predictions[c].m_tn +  predictions[c].m_fp +  predictions[c].m_fn;\n          let acc1 = (predictions[c].tp + predictions[c].tn + uncertain_size) / this.instances.length;\n          let acc2 = (predictions[c].tp + predictions[c].tn + predictions[c].m_tp +  predictions[c].m_tn) / this.instances.length;\n          let acc3 = (predictions[c].tp + predictions[c].tn) / this.instances.length;\n          let precision = (predictions[c].tp + predictions[c].fp)==0?0:(predictions[c].tp) / (predictions[c].tp + predictions[c].fp);\n          let recall = (predictions[c].tp + predictions[c].fn)==0?0:(predictions[c].tp) / (predictions[c].tp + predictions[c].fn);\n          let f1  = (precision + recall) == 0 ? 0 : 2 * precision * recall / (precision + recall);\n          let tp = predictions[c].tp; \n          let fp =  predictions[c].fp;\n          let tn =  predictions[c].tn;\n          let fn =  predictions[c].fn\n          let mcc = 0\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n          } else {\n            mcc = 0\n          } \n          correlations.push({\n            'group':group,\n            'variable': variable,\n            'value':acc2 * 100,\n            'acc1':acc1 * 100,\n            'acc3':acc3 * 100,\n            'precision':precision * 100,\n            'recall':recall * 100,\n            'f1': f1 * 100,\n            'mcc': mcc * 100, \n            'uncertainty':uncertain_size / this.instances.length * 100\n          })\n        })\n      })\n      return correlations;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'UncertaintyHeatMap') {\n          if (view.config) {\n            let value  = view.config;\n            this.value = []\n            value.classifiers.forEach((c)=>{\n              if (this.classifiers.includes(c)) {\n                this.value.push({'name':c})\n              }\n            })\n            this.correlationMode = value.correlationMode\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"UncertaintyHeatMap\", \n                    \"config\": {\n                      \"classifiers\":this.value.map((c)=>c.name),\n                      \"correlationMode\":this.correlationMode}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    value() {\n      if (this.value.length > 1) {\n        this.value = [this.value[this.value.length-1]]\n      }\n      this.updateCorrelations();\n      this.drawCorrelation();\n    },\n    instances() {\n      this.updateCorrelations();\n      this.drawCorrelation();\n    },\n    correlationMode() {\n      this.drawCorrelation();\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'UncertaintyHeatMap') {\n        if (view.config) {\n          let value  = view.config;\n          this.value = []\n          value.classifiers.forEach((c)=>{\n            if (this.classifiers.includes(c)) {\n              this.value.push({'name':c})\n            }\n          })\n          this.correlationMode = value.correlationMode\n        }\n      }\n    })\n    this.drawInitial();\n  },\n  methods: {\n    updateCorrelations() {\n     \n      let correlations = []\n      let selectedClassifiers = this.value.map((v)=>v.name)\n      let cur_classifier = selectedClassifiers[0]\n      this.confidenceRange.forEach((group)=>{\n        this.confidenceRange.forEach((variable)=>{\n          let cur_threshold = Object.keys( this.classifierThresholds).includes(cur_classifier)? this.classifierThresholds[cur_classifier] / 100 : 0.5\n          let left_edge = parseFloat(group);\n          let right_edge = parseFloat(variable);\n          let c = cur_classifier\n          let predictions = {c:{}}\n          predictions[c] ={\n              'tp':0,\n              'tn':0,\n              'fp':0,\n              'fn':0,\n              'm_tp':0,\n              'm_tn':0,\n              'm_fp':0,\n              'm_fn':0,\n            }\n          if (left_edge <= right_edge) {\n              this.instances.forEach((id)=>{\n              let continuous_value = (instanceById(id).continuous_predictions[c])\n              let correct = instanceById(id).actual == instanceById(id).predictions[c]? 1 : 0;\n              if (continuous_value > left_edge && continuous_value < right_edge) {\n                  if (instanceById(id).actual == this.classes[1]) {\n                    if (continuous_value >= cur_threshold) {\n                      predictions[c]['m_tp'] += 1\n                    } else {\n                      predictions[c]['m_fn'] += 1\n                    }\n                  } else {\n                    if (continuous_value < cur_threshold) {\n                      predictions[c]['m_tn'] += 1\n                    } else {\n                      predictions[c]['m_fp'] += 1\n                    }\n                  }\n              } else if (continuous_value >= right_edge){\n                if (instanceById(id).actual == this.classes[1]){\n                  predictions[c][\"tp\"] += 1\n                } else {\n                  predictions[c][\"fp\"] += 1\n                }\n              } else{\n                if (instanceById(id).actual == this.classes[0]) {\n                  predictions[c][\"tn\"] += 1\n                } else {\n                  predictions[c][\"fn\"] += 1\n                }\n              }\n                \n            })\n          }\n          let uncertain_size = predictions[c].m_tp +  predictions[c].m_tn +  predictions[c].m_fp +  predictions[c].m_fn\n          let acc1 = (predictions[c].tp + predictions[c].tn + uncertain_size) / this.instances.length;\n          let acc2 = uncertain_size ==  this.instances.length? 0 : (predictions[c].tp + predictions[c].tn) / (this.instances.length - uncertain_size);\n          let acc3 = (predictions[c].tp + predictions[c].tn) / this.instances.length;\n          let precision = predictions[c].tp + predictions[c].fp == 0? 0: (predictions[c].tp) / (predictions[c].tp + predictions[c].fp)\n          let recall = (predictions[c].tp + predictions[c].fn) == 0? 0: (predictions[c].tp) / (predictions[c].tp + predictions[c].fn)\n          let f1  = (precision + recall) == 0 ? 0 : 2 * precision * recall / (precision + recall);\n          let tp = predictions[c].tp; \n          let fp =  predictions[c].fp;\n          let tn =  predictions[c].tn;\n          let fn =  predictions[c].fn\n          let mcc = 0\n          if ((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn) != 0) {\n            mcc = ((tp*tn-fp*fn) / Math.sqrt((tp+fp)*(tp+fn)*(tn+fp)*(tn+fn)))\n          } else {\n            mcc = 0\n          } \n          correlations.push({\n            'group':group,\n            'variable': variable,\n            'value':acc2 * 100,\n            'acc1':acc1 * 100,\n            'acc3':acc3 * 100,\n            'precision':precision * 100,\n            'recall':recall * 100,\n            'f1': f1 * 100,\n            'mcc': mcc * 100, \n            'uncertainty':uncertain_size / this.instances.length * 100\n          })\n        })\n      })\n      this.correlations = correlations;\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom +  this.margin.left)}`)\n      const svg = svgAll.append('g')\n          .attr(\"class\",\"svg-button\")\n          .attr('transform', `translate(${0}, ${this.margin.top})`);\n      \n      const svg_correlations = svgAll.append('g')\n          .attr(\"class\",\"svg-correlations\")\n          .attr('transform',`translate(${0}, ${this.margin.top*1.2 + this.margin.left })`)     ;\n      const drawTitels = () =>{\n        svgAll.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.5;\n            const yOffset = this.height + this.margin.bottom * 2.5;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Lowerbound Threshold');\n\n        svgAll.append('text')\n          .attr('transform',  () => {\n            const xOffset = this.margin.left / 4;\n            const yOffset = this.height * 0.6;\n            return `translate(${xOffset}, ${yOffset}),`+`rotate(-90)`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Upperbound threshold');\n\n        svgAll.append('text')\n          .attr('class', 'view-title')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.5;\n            const yOffset = this.margin.top * 2;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '30px')\n          .text(this.correlationMode == 'acc2'? 'Accuracy'\n              : this.correlationMode == 'acc1'? 'Accuracy +'\n              : this.correlationMode == 'acc3'? 'Accuracy -'\n              : this.correlationMode == 'precision'? 'Precision'\n              : this.correlationMode == 'recall'? 'Recall'\n              : this.correlationMode == 'f1'? 'F1'\n              : this.correlationMode == 'mcc'? 'MCC'\n              : 'Uncertainty');\n\n      }\n\n      let ndots = 10\n      let midpoint = .5;  \n      let dimgrey = \"#CCC\";\n      let upinterp = d3.interpolatePlasma;\n      let midcolor = upinterp(0);\n      let lowinterp = d3.interpolateRgb(dimgrey,midcolor);\n\n      function cinterp(v) {\n          if (v<=midpoint) {\n              return lowinterp(v/midpoint);\n          } else {\n              return upinterp( (v-midpoint)/(1-midpoint));\n          }\n      }\n\n      for (let y=0; y<ndots+1; y++) {\n          let yv = y/ndots;\n\n          let upinterp = d3.interpolatePlasma;\n          let midcolor = upinterp(0);\n          let lowinterp = d3.interpolateRgb(dimgrey,midcolor);\n\n          function cinterp(v) {\n              if (v<=midpoint) {\n                  return lowinterp(v/midpoint);\n              } else {\n                  return upinterp( (v-midpoint)/(1-midpoint));\n              }\n          }\n\n          svg.append(\"rect\")\n              .attr(\"x\",y*20)\n              .attr(\"y\",0)\n              .attr(\"width\",20)\n              .attr('height',10)\n              .style(\"fill\",cinterp(yv))\n      }\n      const drawLengends = () =>{\n        svg.append(\"circle\")\n          .attr('r',12)\n          .attr(\"cx\",12)\n          .attr(\"cy\",36)\n          .attr('fill', 'purple')\n        svg.append(\"text\")\n          .attr(\"x\",30)\n          .attr(\"y\",42)\n          .text('# non-rejected')\n          .attr('font-size',18)\n\n      };\n      drawTitels();\n      drawLengends();\n      this.drawCorrelation();      \n    },\n    drawCorrelation() {\n      if (this.correlations.length == 0) {\n        this.correlations = this.InitialCorrelations\n      }\n\n      const chart = d3.select(this.$refs.svg);\n      const svg = chart.select(\".svg-correlations\")\n      const svg_legend = chart.select(\".svg-button\")\n      const correlationMode = this.correlationMode;\n      const viewTitile = chart.select('.view-title')\n      \n      viewTitile.text(this.correlationMode == 'acc2'? 'Accuracy'\n              : this.correlationMode == 'acc1'? 'Accuracy +'\n              : this.correlationMode == 'acc3'? 'Accuracy -'\n              : this.correlationMode == 'precision'? 'Precision'\n              : this.correlationMode == 'recall'? 'Recall'\n              : this.correlationMode == 'f1'? 'F1'\n              : this.correlationMode == 'mcc'? 'MCC'\n              : 'Uncertainty');\n\n      svg.selectAll('*').remove();  \n      \n      const drawCorrelation = () =>{\n        // Labels of row and columns\n        var myGroups = []\n        var myVars = []\n\n        this.correlations.forEach((corr)=>{\n          if (!myGroups.includes(corr.group)) {\n            myGroups.push(corr.group)\n          }\n          if (!myVars.includes(corr.variable)){\n            myVars.push(corr.variable)\n          }\n        })\n\n        // Build X scales and axis:\n        var x = d3.scaleBand()\n          .range([ 0, this.width ])\n          .domain(myGroups)\n          .padding(0.01);\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${this.margin.left }, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n\n        // Build X scales and axis:\n        var y = d3.scaleBand()\n          .range([ this.height, 0 ])\n          .domain(myVars)\n          .padding(0.01);\n        const yAxis = (g: any) => g\n          .attr('transform', `translate(${this.margin.left}, ${0})`)\n          .call(d3.axisLeft(y)\n            .tickSizeOuter(0),\n          );\n\n        svg.append('g')\n          .call(yAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('text-anchor', 'end');  \n\n        var data  = this.correlations;\n                 \n        //Read the data\n\n          // create a tooltip\n          var tooltip = svg.append(\"rect\")\n            .attr(\"width\",this.width)\n            .attr(\"height\",this.margin.left / 4 * 5 -10 )\n            .attr(\"x\",this.margin.left)\n            .attr(\"y\",-this.margin.left-20)\n            .attr(\"rx\",5)\n            .attr(\"fill\", \"white\")\n            .attr(\"stroke\",\"grey\")\n            .attr(\"stroke-width\",2)\n            .style(\"opacity\", 0)\n            \n          var tooltiptext1 = svg.append(\"text\")\n            .attr(\"x\",this.margin.left + 2)\n            .attr(\"y\",(-this.margin.left-60)/2)\n            .attr(\"dy\",\"-0.5em\")\n            .attr(\"font-size\",32)\n          var tooltiptext2 = svg.append(\"text\")\n            .attr(\"x\",this.margin.left + 2)\n            .attr(\"y\",(-this.margin.left-60)/2)\n            .attr(\"dy\",\"0.5em\")  \n            .attr(\"font-size\",32)\n          var tooltiptext3 = svg.append(\"text\")\n            .attr(\"x\",this.margin.left + 2)\n            .attr(\"y\",(-this.margin.left-60)/2)\n            .attr(\"dy\",\"1.5em\")  \n            .attr(\"font-size\",32)\n          var tooltiptext4 = svg.append(\"text\")\n            .attr(\"x\",this.margin.left + 2)\n            .attr(\"y\",(-this.margin.left-60)/2)\n            .attr(\"dy\",\"2.5em\")  \n            .attr(\"font-size\",32)\n          // Three function that change the tooltip when user hover / move / leave a cell\n          var mouseover = function(d) {\n            tooltip.style(\"opacity\", 1)\n          }\n          var mousemove = function(d) {\n            viewTitile.attr('visibility','hidden')\n            tooltiptext1.style(\"opacity\", 1)\n            tooltiptext2.style(\"opacity\", 1)  \n            tooltiptext3.style(\"opacity\", 1) \n            tooltiptext4.style(\"opacity\", 1) \n            tooltiptext1\n              .text('Uncertain Range: '+ d.group + \" - \" + d.variable )\n            tooltiptext2\n              .text('accuracy+ :' + parseFloat(d.acc1).toFixed(3) + '    ' +      'accuracy :' + parseFloat(d.value).toFixed(3) + '    '  + 'accuracy- :' + parseFloat(d.acc3).toFixed(3))\n            tooltiptext3\n              .text('precision :' + parseFloat(d.precision).toFixed(3) + '    ' + 'recall   :' + parseFloat(d.recall).toFixed(3) + '    ' + 'f1 :' + parseFloat(d.f1).toFixed(3))\n            tooltiptext4\n              .text('mcc :' + parseFloat(d.mcc).toFixed(3) + '    ' + 'uncertain :' + parseFloat(d.uncertainty).toFixed(3))\n          }\n          var mouseleave = function(d) {\n            tooltip.style(\"opacity\", 0)\n            tooltiptext1.style(\"opacity\", 0)\n            tooltiptext2.style(\"opacity\", 0)\n            tooltiptext3.style(\"opacity\", 0)\n            tooltiptext4.style(\"opacity\", 0)\n            viewTitile.attr('visibility','visible')\n          }\n\n          // add the squares\n          let midpoint = .5;  \n          let dimgrey = \"#CCC\";\n          let upinterp = d3.interpolatePlasma;\n            let midcolor = upinterp(0);\n            let lowinterp = d3.interpolateRgb(dimgrey,midcolor);\n\n            function cinterp(v) {\n                if (v<=midpoint) {\n                    return lowinterp(v/midpoint);\n                } else {\n                    return upinterp( (v-midpoint)/(1-midpoint));\n                }\n            }\n\n          svg.selectAll()\n            .data(data, function(d) {return d[\"group\"]+':'+d[\"variable\"];})\n            .enter()\n              .append(\"circle\")\n                .attr(\"cx\",function(d) { return y.bandwidth() /1.5+x(d[\"group\"]) })\n                .attr(\"cy\",function(d) { return y.bandwidth() /3+y(d[\"variable\"]) })\n                .attr(\"r\",(d)=>(100-parseFloat (d[\"uncertainty\"])) / 100 * y.bandwidth() / 2)\n              .attr(\"transform\", \"translate(\" + this.margin.left + \",\" + 0 + \")\")\n      \n              .style(\"fill\", d=>{ \n                if (parseFloat (d[\"value\"])  >= 0) \n                  return this.correlationMode == 'acc2'? cinterp(parseFloat (d[\"value\"]) / 100 )\n                        : this.correlationMode == 'acc1'? cinterp(parseFloat (d[\"acc1\"]) / 100 )\n                        : this.correlationMode == 'acc3'? cinterp(parseFloat (d[\"acc3\"]) / 100)\n                        : this.correlationMode == 'precision'? cinterp(parseFloat (d[\"precision\"]) / 100)\n                        : this.correlationMode == 'recall'? cinterp(parseFloat (d[\"recall\"]) / 100)\n                        : this.correlationMode == 'f1'? cinterp(parseFloat (d[\"f1\"]) / 100)\n                        : this.correlationMode == 'mcc'? cinterp(Math.abs(parseFloat (d[\"mcc\"])) / 100)\n                        : cinterp(parseFloat (d[\"uncertainty\"]) / 100 )\n                else \n                  return cinterp(-parseFloat (d[\"value\"]) * 100)\n                  })\n            .attr(\"visibility\",d=>d['group'] > d['variable']? \"hidden\":\"visible\")\n            .on(\"mouseover\", mouseover)\n            .on(\"mousemove\", mousemove)\n            .on(\"mouseleave\", mouseleave)\n        \n      } ;\n\n      \n      drawCorrelation();   \n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertaintyHeatMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UncertaintyHeatMap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UncertaintyHeatMap.vue?vue&type=template&id=15b659f7&scoped=true&\"\nimport script from \"./UncertaintyHeatMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./UncertaintyHeatMap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UncertaintyHeatMap.vue?vue&type=style&index=0&id=15b659f7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15b659f7\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"InstanceList\")])],1)]),_c('v-expansion-panel-content',[_c('v-switch',{staticClass:\"mx-2\",attrs:{\"label\":\"predictions\"},model:{value:(_vm.show_predictions),callback:function ($$v) {_vm.show_predictions=$$v},expression:\"show_predictions\"}}),_c('v-switch',{staticClass:\"mx-2\",attrs:{\"label\":\"features\"},model:{value:(_vm.show_features),callback:function ($$v) {_vm.show_features=$$v},expression:\"show_features\"}}),_c('v-slider',{attrs:{\"min\":\"1\",\"max\":\"100\",\"label\":\"string length\",\"thumb-label\":\"\"},model:{value:(_vm.string_length),callback:function ($$v) {_vm.string_length=$$v},expression:\"string_length\"}}),_c('v-radio-group',{attrs:{\"label\":\"sort by selection\"},model:{value:(_vm.sortBySel),callback:function ($$v) {_vm.sortBySel=$$v},expression:\"sortBySel\"}},[_c('v-radio',{key:\"none\",attrs:{\"label\":\"none\",\"value\":\"\"}}),_c('v-radio',{key:\"first\",attrs:{\"label\":\"first\",\"value\":\"first\"}}),_c('v-radio',{key:\"second\",attrs:{\"label\":\"second\",\"value\":\"second\"}}),_c('v-radio',{key:\"common\",attrs:{\"label\":\"common\",\"value\":\"common\"}})],1)],1)],1)],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"dense\":\"\",\"headers\":_vm.headers,\"items\":_vm.instances,\"sort-by\":_vm.sortby,\"sort-desc\":_vm.descending},on:{\"update:sortBy\":function($event){_vm.sortby=$event},\"update:sort-by\":function($event){_vm.sortby=$event},\"update:sortDesc\":function($event){_vm.descending=$event},\"update:sort-desc\":function($event){_vm.descending=$event}},scopedSlots:_vm._u([{key:\"body\",fn:function(ref){\nvar items = ref.items;\nreturn [_c('tbody',_vm._l((items),function(item){return _c('tr',{key:item.id,class:{'hover-instance': item === _vm.$store.state.hoverInstance},style:(_vm.styleTableRow(item)),on:{\"mouseenter\":function($event){return _vm.changedHoverInstance(item.id)},\"mouseleave\":_vm.clearHoverInstance,\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.click(item)},\"contextmenu\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select(item.id, 'second')}}},[_c('td',{staticClass:\"unselectable\"},[_vm._v(_vm._s(item.id))]),_c('td',{staticClass:\"unselectable\"},[_vm._v(_vm._s(item.actual))]),_vm._l((_vm.continuousClassifierList),function(classifier){return _c('td',{key:item.id+classifier+'-'+item.continuous_predictions[classifier],staticClass:\"unselectable\"},[_vm._v(\" \"+_vm._s(item.continuous_predictions[classifier])+\" \")])}),_vm._l((_vm.classifiers),function(classifier){return _c('td',{key:item.id+classifier+'-'+item.predictions[classifier],staticClass:\"unselectable\"},[_vm._v(\" \"+_vm._s(item.predictions[classifier])+\" \")])}),_vm._l((_vm.features),function(feature){return _c('td',{key:item.id+feature+'-'+item.actual,staticClass:\"unselectable\",attrs:{\"title\":item.features[feature]}},[_vm._v(\" \"+_vm._s(_vm.shorten(item.features[feature]))+\" \")])})],2)}),0)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { colors } from '../../theme';\nimport {\n  Instance,\n  InstanceWithId,\n  SelectionRecord,\n  BoxProps,\n} from '../../types';\nimport { instanceById } from '../../utils';\nimport Vue from 'vue';\nimport { mapActions } from 'vuex';\nimport { color } from 'd3';\ninterface Header {\n  text: string;\n  value: string;\n}\nexport default Vue.extend({\n  name: 'InstanceList',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      panel: [],\n      sortby: [],\n      sortBySel: '' as '' | 'first' | 'second' | 'common',\n      descending: false,\n      show_predictions: true,\n      show_features: true,\n      string_length: 7,\n      clickCount: 0,\n      clickTimer: 0,\n    };\n  },\n  computed: {\n    continuousClassifierList: function () {\n      if (this.datasetType == \"continuous\") {\n        return this.classifiers\n      }\n      return []\n    },\n    datasetType(): string{\n      var datasetType = this.$store.state.datasetType;\n      return datasetType;\n    },\n    classifiers(): string[] {\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      if (this.show_predictions) {\n        const classifiers = [...this.$store.getters.filteredClassifiers];\n        if (this.$store.state.datasetType == \"continuous\") {\n          return classifiers.filter((c) => !dummyClassifiers.includes(c))\n        }\n        return classifiers;\n      }\n      return [ ];\n    },\n    features(): string[] {\n      if (this.show_features) {\n        const features = [...this.$store.getters.features];\n        return features;\n      }\n      return [ ];\n    },\n    headers(): Header[] {\n      const headers = [\n        { text: 'Id', value: 'id' },\n        { text: 'Actual class', value: 'actualClass' },\n      ];\n      if (this.show_predictions && this.$store.state.datasetType == \"continuous\") {\n        this.classifiers.forEach((classifier: string) => {\n          headers.push({\n            text: classifier.replace(/_/g, ' ')+\"_\"+\"value\",\n            value: classifier,\n          });\n        });\n      }\n      if (this.show_predictions) {\n        this.classifiers.forEach((classifier: string) => {\n          headers.push({\n            text: classifier.replace(/_/g, ' '),\n            value: classifier,\n          });\n        });\n      }\n      if (this.show_features) {\n        this.$store.getters.features.forEach((feature: string) => {\n          headers.push({\n            text: feature,\n            value: feature,\n          });\n        });\n      }\n      return headers;\n    },\n    instances(): InstanceWithId[] {\n      const instances: InstanceWithId[] = [];\n      this.$store.getters.filteredInstances.forEach((id: string) => {\n        const i = instanceById(id);\n        const instance: InstanceWithId = {\n          id,\n          ...i,\n        };\n        instances.push(instance);\n      });\n      const { first, second } = this.selections;\n      const comparators = {\n        first: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n          return bBelongs - aBelongs;\n        },\n        second: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n          return bBelongs - aBelongs;\n        },\n        common: (a: InstanceWithId, b: InstanceWithId) => {\n          let aBelongs = 0;\n          let bBelongs = 0;\n          if (first && first.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (first && first.instances.has(b.id)) {\n            bBelongs++;\n          }\n          if (second && second.instances.has(a.id)) {\n            aBelongs++;\n          }\n          if (second && second.instances.has(b.id)) {\n            bBelongs++;\n          }\n          return bBelongs - aBelongs;\n        },\n      };\n      // sort by value first, then by group\n      let lsort = this.sortby[0];\n      let predOrFeature = instances[0].predictions.hasOwnProperty(lsort) ? \"predictions\" : \"features\";\n      if (this.sortby.length > 0) {\n        instances.sort((a, b) => {\n          let ret = (\"\" + a[predOrFeature][lsort]).localeCompare(b[predOrFeature][lsort]);\n          return this.descending ? -ret : ret;\n        });\n      }\n      if (this.sortBySel) {\n        instances.sort(comparators[this.sortBySel]);\n      }\n      return instances;\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n  },\n  watch: {\n    sortby() {\n      console.log(\"sortby \", this.sortby);\n    },\n    descending() {\n      console.log(\"descending\", this.descending);\n    },\n    selections() {\n      const { first, second } = this.selections;\n      if (first && second) {\n        this.sortBy = 'common';\n      } else if (first) {\n        this.sortBy = 'first';\n      } else if (second) {\n        this.sortBy = 'second';\n      } else {\n        this.sortBy = '';\n      }\n    },\n  },\n  methods: {\n    ...mapActions([\n      'changedHoverInstance',\n      'clearHoverInstance',\n    ]),\n    shorten(feature) {\n      let stringFeature = \"\" + feature;\n      if (stringFeature.length > this.string_length) {\n        return stringFeature.substring(0, this.string_length) + \"...\"\n      } else {\n        return stringFeature;\n      }\n    },\n    select(\n      id: string,\n      whichOverlap: 'first' | 'second'\n    ) {\n      const instances = new Set([id]);\n      const description = `Instance #${id}`;\n      this.$store.dispatch('prependToSelectionHistory', { instances, description });\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    click(item){\n      this.clickCount += 1\n      if (this.clickCount === 1) {\n          this.clickTimer = setTimeout(function(context) {\n              context.clickCount = 0\n              // single click event\n              context.select(item.id, 'first');\n          }, 300, this)\n      } \n      if (this.clickCount === 2) {\n          clearTimeout(this.clickTimer);\n          this.clickCount = 0\n          // double click event\n          this.setFocus(item.id);\n      }\n    },\n    setFocus(id){\n      this.$store.dispatch(\"setFocusItem\", id);\n    },\n    styleTableRow(instance: InstanceWithId) {\n      const { first: firstColor, second: secondColor } = colors.overlapSelections;\n      const focusColor = colors.focus;\n      const { first: firstSelection, second: secondSelection } = this.selections;\n      const isFirst = (firstSelection && firstSelection.instances.has(instance.id));\n      const isSecond = (secondSelection && secondSelection.instances.has(instance.id));\n      const inFocus = (this.$store.state.focusItemId === instance.id)\n      if(inFocus) {\n        return `\n          background-color: ${focusColor};\n        `;\n      }\n      if (isFirst && isSecond) {\n        return `\n          background: -webkit-linear-gradient(top, ${firstColor}, ${secondColor});\n          color: white;\n        `;\n      }\n      if (isFirst) {\n        return `\n          background-color: ${firstColor};\n        `;\n      }\n      if (isSecond) {\n        return `\n          background-color: ${secondColor};\n          color: white;\n        `;\n      }\n      return '';\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstanceList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InstanceList.vue?vue&type=template&id=3297c99c&scoped=true&\"\nimport script from \"./InstanceList.vue?vue&type=script&lang=ts&\"\nexport * from \"./InstanceList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./InstanceList.vue?vue&type=style&index=0&id=3297c99c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3297c99c\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VDataTable,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup,VSlider,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Histogram (\"+_vm._s(_vm.chosenFeature)+\")\")])],1)]),_c('v-expansion-panel-content',[_c('div',{staticStyle:{\"margin\":\"0px 0px\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('v-select',{attrs:{\"items\":_vm.pureCategoricalFeatures,\"label\":\"Categorical\"},model:{value:(_vm.chosenFeature),callback:function ($$v) {_vm.chosenFeature=$$v},expression:\"chosenFeature\"}})],1),_c('div',{staticStyle:{\"margin\":\"0px 0px\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('v-select',{attrs:{\"items\":_vm.numericFeatures,\"label\":\"Numeric\"},model:{value:(_vm.chosenFeature),callback:function ($$v) {_vm.chosenFeature=$$v},expression:\"chosenFeature\"}}),_c('v-slider',{staticClass:\"numberOfBins\",attrs:{\"max\":_vm.binLimits.max,\"min\":_vm.binLimits.min,\"label\":(\"Preferred number of bins: \" + _vm.numberOfBins)},model:{value:(_vm.numberOfBins),callback:function ($$v) {_vm.numberOfBins=$$v},expression:\"numberOfBins\"}}),_c('div',{staticStyle:{\"margin\":\"0px 0px\",\"font-size\":\"14px\",\"stroke\":\"'black'\",\"stroke-width\":\"2px\"}},[_c('v-select',{attrs:{\"items\":_vm.classifiers,\"label\":\"ClassifierPredictions\"},model:{value:(_vm.chosenFeature),callback:function ($$v) {_vm.chosenFeature=$$v},expression:\"chosenFeature\"}})],1)],1),_c('v-radio-group',{model:{value:(_vm.chosenFeature),callback:function ($$v) {_vm.chosenFeature=$$v},expression:\"chosenFeature\"}},[_c('v-radio',{attrs:{\"label\":\"ClassDistribution\",\"value\":\"ClassDistribution\"}})],1)],1)],1)],1),_c('v-switch',{staticClass:\"ml-8\",attrs:{\"label\":\"normalize\"},model:{value:(_vm.normalization_switch),callback:function ($$v) {_vm.normalization_switch=$$v},expression:\"normalization_switch\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport { colors } from '../../theme';\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\n\ntype Bin = d3.Bin<string, number>;\nvar VueApp: any = Vue;\n\nexport default Vue.extend({\n  name: 'Histogram',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 100, right: 70, bottom: 70, left: 150};\n    const width = 1000 - margin.left - margin.right;\n    const height = 500 - margin.top - margin.bottom;\n    const hover =  {\n      type: null as null | Bin,\n      count: -1,\n    }; \n    const hoverCategory = '';\n    const hoverActual = {\n      className: '',\n    };\n    const sorting = '' as ''|'ascending' | 'descending' \n    return {\n      svg: '',\n      numberOfBins: 10,\n      binLimits: {\n        max: 30,\n        min: 1,\n      },\n      chosenFeature: 'ClassDistribution',\n      selected1: '',\n      selected2: '',\n      categoryFeatures: [],\n      sorting,\n      height,\n      hoverCategory,\n      normalization:'No',\n      hover,\n      hoverActual,\n      width,\n      margin,\n      panel: [],\n      panel2: [],\n      panel3: [],\n      panel4: [],\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      categoricalFeaturesNum:0,\n      numericFeaturesNum:0,\n    };\n  },\n  computed: {\n    normalization_switch: {\n      set() {\n        if (this.normalization == \"Yes\") {\n          this.normalization = \"No\"\n        } else {\n          this.normalization = \"Yes\"\n        }\n      },\n      get() {\n        return this.normalization === \"Yes\";\n      }\n    },\n    normalizationMode() : String {\n      var normalizationMode = \"\"\n      switch (this.normalization) {\n        case 'Yes' :\n          normalizationMode = \"Yes\"\n          break;\n        case 'No' :\n          normalizationMode = \"No\"\n          break; \n      }\n      return normalizationMode;\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    bins(): Array<d3.Bin<string, number>> {\n      const bins = d3.histogram<string, number>()\n        .domain(this.x.domain() as [number, number])\n        .thresholds(this.numberOfBins)\n        .value((id: string) => {\n          const i = instanceById(id);\n          const value = i.features[this.chosenFeature];\n          return value as number;\n        })\n        (this.instances);\n      return bins;\n    },\n    binMax(): number {\n      const binCounts = this.bins.map((bin) => bin.length);\n      const binMax = Math.max(...binCounts);\n      return binMax;\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    featureValues() {\n      const instances: any = this.$store.getters.filteredInstances;\n      const getInstance = (id: string) => this.$store.getters.instance(id);\n      const featureValues: number[] = [...instances].map((id) => getInstance(id).features[this.chosenFeature]);\n      return featureValues;\n    },\n    numericFeatures(): string[] {\n      const allFeatures = [...this.boxProps.features];\n      const numericTypes = ['interval', 'ratio'];\n      const isNumeric = (featureName: string) => {\n        const feature = this.$store.getters.feature(featureName);\n        return numericTypes.includes(feature.type);\n      };\n      this.numericFeaturesNum =allFeatures.filter(isNumeric).length \n      let filteredF = allFeatures.filter(isNumeric)\n      let finalF = []\n      for (var i in filteredF) {\n        let cur_dict = { text: filteredF[i], value: filteredF[i] }\n        finalF.push(cur_dict)\n      }\n      return finalF;\n    },\n    pureCategoricalFeatures() : string[] {\n      const categoricalFeatures = [...this.boxProps.features].filter((f) => this.$store.getters.feature(f).type === 'categorical');\n      return categoricalFeatures;\n    },\n    categoricalFeatures(): string[] {\n      let categoricalFeatures = [...this.boxProps.features].filter((f) => this.$store.getters.feature(f).type === 'categorical');\n      this.categoricalFeaturesNum = categoricalFeatures.length;\n      for (var i in categoricalFeatures) {\n        this.categoryFeatures.push(categoricalFeatures[i])\n      }\n      for (var i in this.classifiers) {\n        categoricalFeatures.push(this.classifiers[i])\n      }\n      return categoricalFeatures;\n    },\n    categories(): string[] {\n      if (!this.chosenFeature  || !this.categoricalFeatures.includes(this.chosenFeature)) {\n        return [];\n      } else {\n        var rawData = []\n        var nonSort = []\n        if (!this.classifiers.includes(this.chosenFeature)) {\n          this.$store.getters.feature(this.chosenFeature).categories.forEach((i)=>{\n            nonSort.push(i)\n            rawData.push(i)\n          })\n          const bucketedinstances: {\n            [category: string]: Set<string>,\n          } = {};\n\n          rawData.forEach((category) => {\n            bucketedinstances[category] = new Set();\n          });\n\n          this.instances.forEach((id) => {\n            const category = instanceById(id).features[this.chosenFeature];\n            bucketedinstances[category].add(id);\n          });\n          switch (this.sorting) {\n            case '':\n              return nonSort;\n              break;\n            case 'ascending':\n              rawData.sort(function(x, y){\n                return d3.ascending(bucketedinstances[x].size,bucketedinstances[y].size);\n              })\n              break;\n            case 'descending':\n              rawData.sort(function(x, y){\n                return (bucketedinstances[y].size - bucketedinstances[x].size);\n              })\n              break;\n          }\n          return rawData;\n        } else {\n          this.classes.forEach((i)=>{\n            nonSort.push(i)\n            rawData.push(i)\n          })\n          const bucketedinstances = {}\n          this.classes.forEach((c)=>{\n            bucketedinstances[c] = new Set();\n          })\n         \n          this.instances.forEach((id) => {\n            const predclass = instanceById(id).predictions[this.chosenFeature];\n            bucketedinstances[predclass].add(id);\n          });\n          switch (this.sorting) {\n            case '':\n              return nonSort;\n              break;\n            case 'ascending':\n              rawData.sort(function(x, y){\n                return d3.ascending(bucketedinstances[x].size,bucketedinstances[y].size);\n              })\n              break;\n            case 'descending':\n              rawData.sort(function(x, y){\n                return (bucketedinstances[y].size - bucketedinstances[x].size);\n              })\n              break;\n          }\n          return rawData;\n        }\n      }\n      \n    },\n    maxByCategory(): number {\n      let max = 0;\n      if (!this.classifiers.includes(this.chosenFeature)) {\n          this.categories.forEach((category) => {\n          max = Math.max(max, this.bucketedInstances[category].size);\n        });\n      } else {\n        this.categories.forEach((category) => {\n          max = Math.max(max, this.bucketedInstances[category].size);\n        });\n      }\n      return max;\n    },\n    bucketKeys(): string[] {\n      const totalAscending = (c1: string, c2: string) => {\n        return this.buckets[c1].size - this.buckets[c2].size;\n      };\n      const totalDescending = (c1: string, c2: string) => {\n        return -totalAscending(c1, c2);\n      };\n\n      const predictionKeys = this.classes;\n      switch (this.sorting) {\n        case 'ascending':\n          predictionKeys.sort(totalAscending);\n          break;\n        case 'descending':\n          predictionKeys.sort(totalDescending);\n          break;\n      }\n      return predictionKeys;\n    },\n    buckets(): {\n      [className: string]: Set<string>,\n    } {\n      const buckets: {\n        [className: string]: Set<string>,\n      } = {};\n\n      this.classes.forEach((c) => {\n        buckets[c] = new Set();\n      });\n\n      this.instances.forEach((id) => {\n        const i = instanceById(id);\n        buckets[i.actual].add(id);\n      });\n      return buckets;\n    },\n    bucketedInstances(): {\n      [category: string]: Set<string>,\n    } {\n      if (!this.chosenFeature || !this.categoricalFeatures.includes(this.chosenFeature)) {\n        console.log(\"empty bucketedInstances\")\n        return {};\n      }\n      const bucketedInstances: {\n        [category: string]: Set<string>,\n      } = {};\n      if (!this.classifiers.includes(this.chosenFeature)) {\n          this.categories.forEach((category) => {\n          bucketedInstances[category] = new Set();\n        });\n\n        this.instances.forEach((id) => {\n          const category = instanceById(id).features[this.chosenFeature];\n          if (bucketedInstances[category] === undefined) {\n            console.log('undefined category', category);\n          }\n          bucketedInstances[category].add(id);\n        });\n        console.log(\"not empty bucketedInstances\",bucketedInstances)\n      } else {\n        this.categories.forEach((category) => {\n          bucketedInstances[category] = new Set();\n        });\n        this.instances.forEach((id) => {\n          const category = instanceById(id).predictions[this.chosenFeature];\n          if (bucketedInstances[category] === undefined) {\n            console.log('undefined category', category);\n          }\n          bucketedInstances[category].add(id);\n        });\n        console.log(\"bucketedInstances\",bucketedInstances)\n      }\n      return bucketedInstances;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusDotEmphasis(): String{return  this.$store.state.focusDotEmphasis},\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    showActualClassDistribution() :string{\n      var showActualClassDistribution = \"No\"\n      switch (this.chosenFeature) {\n        case 'ClassDistribution' :\n          showActualClassDistribution = \"Yes\"\n          break;\n      }\n      return showActualClassDistribution;\n    },\n    x(): d3.ScaleLinear<number, number> {\n      const xMin = Math.min(...this.featureValues);\n      const xMax = Math.max(...this.featureValues);\n      const x = d3.scaleLinear()\n        .domain([xMin, xMax])\n        .range([0, this.width]);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const yMax = this.binMax;\n      const y = d3.scaleLinear()\n        .domain([0, this.normalizationMode==\"Yes\"? 1:1.1 * yMax])\n        .range([this.height, 0]);\n      return y;\n    },\n    xCate(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.categories)\n        .range([0, this.width])\n        .paddingOuter(0.2)\n        .paddingInner(0.3);\n      return x;\n    },\n    yCate(): d3.ScaleLinear<number, number> {\n      const yMax =this.maxByCategory;\n      const y = d3.scaleLinear()\n        .domain([0, this.normalizationMode==\"Yes\"? 1: 1.1 * yMax])\n        .range([this.height, 0]);\n      return y;\n    },\n    xClass(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.bucketKeys)\n        .range([0, this.width])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    yClass(): d3.ScaleLinear<number, number> {\n      const bucketSizes = Object.values(this.buckets).map((b: Set<string>) => b.size);\n      const yMax = Math.max(...bucketSizes) / this.instances.length;\n      const y = d3.scaleLinear()\n        .domain([0, this.normalizationMode==\"Yes\"? 1: 1.1 * yMax])\n        .range([this.height, 0]);\n      return y;\n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Histogram') {\n          if (view.config.length > 0) {\n            let feature  = view.config[0];\n            if (this.pureCategoricalFeatures.includes(feature) \n              || this.numericFeatures.includes(feature) \n              || this.classifiers.includes(feature)) {\n                this.chosenFeature = view.config[0]\n            }\n          }\n        }\n      })\n      this.drawInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Histogram\", \n                    \"config\": [this.chosenFeature]}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    chosenFeature() {\n      this.drawInitial();\n    },\n    sorting() {\n      this.drawInitial();\n    },\n    featureValues() {\n      this.drawInitial();\n    },\n    hover() {\n      this.drawHover();\n    },\n    hoverActual() {\n      this.drawHover();\n    },\n    hoverCategory() {\n      this.drawHover();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    numberOfBins() {\n      this.drawInitial();\n    },\n    selections() {\n      this.drawInitial();\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n    normalization() {\n      this.drawInitial();\n    },\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Histogram') {\n        if (view.config.length > 0) {\n          let feature  = view.config[0];\n          if (this.pureCategoricalFeatures.includes(feature) \n            || this.numericFeatures.includes(feature) \n            || this.classifiers.includes(feature)) {\n              this.chosenFeature = view.config[0]\n          }\n        }\n      }\n    })\n    this.drawInitial();\n  },\n methods: {\n   clearHover() {\n      this.hoverActual = ({ className: '' });\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      const barstmp = chart.selectAll('.bar');\n      const barstmp2 = chart.selectAll('.bar');\n      const barsActual = chart.selectAll('.bar');\n      const barstmpcircle = chart.selectAll('.bar-circle');\n      const barstmp2circle = chart.selectAll('.bar-circle');\n\n      const textSelection1 = chart.selectAll('.text-selection-1');\n      const textSelection2 = chart.selectAll('.text-selection-2');\n\n      const barstmprect1 = chart.selectAll('.selection-rect');\n      const barstmprect2 = chart.selectAll('.selection-rect');\n      const barsActualRect = chart.selectAll('.selection-rect');   \n\n      const yAxisMarkerLine = chart.select('.y-axis-marker-line');\n      const yAxisMarkerText = chart.select('.y-axis-marker-text');\n\n      const moveDuration = 500;\n      const disappearDuration = 1000;\n\n      var formatDecimal = d3.format(\".0f\")\n      if (this.normalizationMode==\"Yes\") {\n        formatDecimal = d3.format(\".3f\")\n      }\n      const { first, second } = this.$store.state.overlapSelections;\n      const yText = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        if (!this.categoricalFeatures.includes(this.chosenFeature)) \n          return this.normalizationMode==\"Yes\"? (overlappingInstances.size / (instances.size)) :(overlappingInstances.size);\n         else \n          return this.normalizationMode==\"Yes\"? (overlappingInstances.size /(instances.size)) : (overlappingInstances.size);\n      };\n\n      const hover = this.hover;\n      const hoverCategory = this.hoverCategory;\n      if (this.showActualClassDistribution == \"Yes\") {\n          if (!this.hoverActual.className) {\n            barsActual\n              .attr('fill', 'lightgray');\n            yAxisMarkerLine\n              .attr('stroke-opacity', 0);\n            yAxisMarkerText\n              .attr('fill-opacity', 0);\n            barsActualRect\n                .attr(\"visibility\",\"hidden\");   \n            textSelection1\n                .attr(\"visibility\",\"hidden\");  \n            textSelection2\n                .attr(\"visibility\",\"hidden\");          \n          } else {\n            barsActual.data(this.bucketKeys)\n              .attr('fill', (d: string) =>\n                d === this.hoverActual.className\n                  ? 'black'\n                  : 'lightgray');\n            barsActualRect.data(this.bucketKeys)\n                .attr('visibility', (d: string) =>\n                d === this.hoverActual.className\n                  ?  \"visible\" : \"hidden\"); \n              if (!first)  {\n                  textSelection1.data(this.bucketKeys)\n                    .attr(\"visibility\", \"hidden\");   \n              } else {\n                  textSelection1.data(this.bucketKeys)\n                    .attr('transform',this.normalizationMode != 'Yes'?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ this.yClass(this.buckets[this.hoverActual.className].size / this.instances.length) - 45 })`\n                        : this.buckets[this.hoverActual.className].size == 0 ?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(0)) - 45 })`\n                        : `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(1)) - 45 })`)\n                    .style('text-anchor', 'middle')        \n                    .attr(\"visibility\", (d: string) =>\n                      d === this.hoverActual.className? \"visible\":\"visible\")\n                    .text( (d: number) => \"1st: \"+formatDecimal(yText(this.buckets[this.hoverActual.className], first.instances))) ;   \n              }\n              if (!second) {\n                  textSelection2.data(this.bucketKeys)\n                  .attr(\"visibility\", \"hidden\"); \n              } else {\n                  textSelection2.data(this.bucketKeys) \n                  .attr('transform',this.normalizationMode != 'Yes'?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ this.yClass(this.buckets[this.hoverActual.className].size / this.instances.length) - 20 })`\n                        : this.buckets[this.hoverActual.className].size == 0 ?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(0)) - 20 })`\n                        : `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(1)) - 20 })`)                  \n                  .style('text-anchor', 'middle')        \n                  .attr(\"visibility\", (d: string) =>\n                      d === this.hoverActual.className? \"visible\":\"visible\")\n                  .text( (d: number) => \"2rd: \"+formatDecimal(yText(this.buckets[this.hoverActual.className], second.instances))) ;   \n              }             \n            yAxisMarkerLine\n              .attr('stroke-opacity', 1)\n              .attr('y1', (this.normalizationMode != 'Yes'? (this.yClass(this.buckets[this.hoverActual.className].size / this.instances.length)) : \n                        this.buckets[this.hoverActual.className].size == 0 ? this.yClass(0) : this.yClass(1)))\n              .attr('x2', this.width)\n              .attr('y2', (this.normalizationMode != 'Yes'? (this.yClass(this.buckets[this.hoverActual.className].size / this.instances.length)) : \n                        this.buckets[this.hoverActual.className].size == 0 ? this.yClass(0) : this.yClass(1)));\n            \n            yAxisMarkerText\n              .attr('fill-opacity', 1)\n              .attr('transform',this.normalizationMode != 'Yes'?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ this.yClass(this.buckets[this.hoverActual.className].size / this.instances.length) - 70 })`\n                        : this.buckets[this.hoverActual.className].size == 0 ?\n                        `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(0)) - 70 })`\n                        : `translate(\n                      ${ this.xClass(this.hoverActual.className)},\n                      ${ (this.yClass(1)) - 70 })`)\n              .text(\"Percentage: \"+`${(this.buckets[this.hoverActual.className].size / this.instances.length * 100).toFixed(1)}%`);\n\n          } \n      } else {\n          if (!this.categoricalFeatures.includes(this.chosenFeature)) {\n            if (!hover) {\n              barstmp\n                .attr('fill', 'lightgray');\n              barstmpcircle\n                .attr('fill', 'lightgray');  \n              yAxisMarkerLine\n                .attr('stroke-opacity', 0);\n              yAxisMarkerText\n                .text('');\n              barstmprect1\n                .attr(\"visibility\",\"hidden\"); \n              textSelection1\n                .attr(\"visibility\",\"hidden\");  \n              textSelection2\n                .attr(\"visibility\",\"hidden\");      \n            } else {\n              barstmp.data(this.bins)\n                .attr('fill', (d: Bin) => d.x0 === hover.x0 ? 'black' : 'lightgray');\n              barstmpcircle.data(this.bins)\n                .attr('fill', (d: Bin) => d.x0 === hover.x0 ? 'black' : 'lightgray');  \n              if (!first)  {\n                  textSelection1.data(this.bins)\n                    .attr(\"visibility\", \"hidden\");   \n              } else {\n                  textSelection1.data(this.bins)\n                    .attr('transform', this.normalizationMode != \"Yes\"? `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(hover.length) - 45})`\n                  :hover.length==0?`translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(0) - 45})`\n                  :\n                  `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(1) - 45})`\n                  )\n                    .style('text-anchor', 'middle')        \n                    .attr(\"visibility\", (d: Bin) => d.x0 === hover.x0 ? \"visible\":\"visible\")\n                  .text( ((d: Bin) => \"1st: \"+formatDecimal(yText(new Set(d), first.instances))));   \n              }\n              if (!second) {\n                  textSelection2.data(this.bins)\n                  .attr(\"visibility\", \"hidden\"); \n              } else {\n                  textSelection2.data(this.bins)\n                  .attr('transform', this.normalizationMode != \"Yes\"? `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(hover.length) - 20})`\n                  :hover.length==0?`translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(0) - 20})`\n                  :\n                  `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(1) - 20})`\n                  )\n                  .style('text-anchor', 'middle')        \n                  .attr(\"visibility\", (d: Bin) => d.x0 === hover.x0 ? \"visible\":\"visible\")\n                  .text( ((d: Bin) => \"2rd: \"+formatDecimal(yText(new Set(d), second.instances)))); \n              }\n              barstmprect1.data(this.bins)\n                .attr('visibility', (d: Bin) => d.x0 === hover.x0 ? \"visible\" : \"hidden\");  \n              yAxisMarkerLine\n                .attr('stroke-opacity', 1)\n                .attr('y1', this.normalizationMode != \"Yes\"? this.y(hover.length)\n                        :hover.length==0?this.y(0): this.y(1))\n                .attr('x2', this.width)\n                .attr('y2', this.normalizationMode != \"Yes\"? this.y(hover.length)\n                        :hover.length==0?this.y(0): this.y(1));\n\n              yAxisMarkerText\n                .attr('transform', this.normalizationMode != \"Yes\"? `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(hover.length) - 70})`\n                  :hover.length==0?`translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(0) - 70})`\n                  :\n                  `translate(\n                  ${(this.x(hover.x0 as number) + this.x(hover.x1 as number)) / 2-0.5*(this.x(hover.x1 as number)-this.x(hover.x0 as number))-50},\n                  ${this.y(1) - 70})`\n                  )\n                .text(this.normalizationMode != \"Yes\"?\"Total: \"+ hover.length\n                    :hover.length==0?\"Total: \"+0:\"Total: \"+1 );\n\n            }\n          } else {\n              if (!hoverCategory.toString().length ){\n                barstmp2   \n                  .attr('fill', 'lightgray');\n                barstmp2circle     \n                  .attr('fill', 'lightgray');  \n                yAxisMarkerLine\n                  .attr('stroke-opacity', 0);\n                yAxisMarkerText\n                  .text('');\n                barstmprect2\n                  .attr(\"visibility\",\"hidden\");  \n                textSelection1\n                  .attr(\"visibility\",\"hidden\");  \n                textSelection2\n                  .attr(\"visibility\",\"hidden\");       \n            } else {\n              barstmp2.data(this.categories)\n                .attr('fill', (d: string) => d === hoverCategory ? 'black' : 'lightgray');\n              barstmp2circle.data(this.categories)\n                .attr('fill', (d: string) => d === hoverCategory ? 'black' : 'lightgray');  \n              if (!first)  {\n                  textSelection1.data(this.categories)\n                    .attr(\"visibility\", \"hidden\");   \n              } else {\n                  textSelection1.data(this.categories)\n                    .attr('transform', this.normalizationMode != \"Yes\"?`translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number)  },\n                  ${this.yCate(this.bucketedInstances[hoverCategory].size) - 45})`\n                  :this.bucketedInstances[hoverCategory].size==0?\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(0) - 45})`\n                  :\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(1) - 45})`\n                  )\n                    .style('text-anchor', 'middle')        \n                    .attr(\"visibility\",(d: string) => d === hoverCategory ? \"visible\":\"visible\")\n                  .text((d: string) => \"1st: \"+formatDecimal(yText(this.bucketedInstances[hoverCategory], first.instances)));     \n              }\n              if (!second) {\n                  textSelection2.data(this.categories)\n                  .attr(\"visibility\", \"hidden\"); \n              } else {\n                  textSelection2.data(this.categories)\n                    .attr('transform', this.normalizationMode != \"Yes\"?`translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number)  },\n                  ${this.yCate(this.bucketedInstances[hoverCategory].size) - 20})`\n                  :this.bucketedInstances[hoverCategory].size==0?\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(0) - 20})`\n                  :\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(1) - 20})`\n                  )\n                    .style('text-anchor', 'middle')        \n                    .attr(\"visibility\", (d: string) => d === hoverCategory ?  \"visible\":\"visible\")\n                  .text((d: string) => \"2rd: \"+formatDecimal(yText(this.bucketedInstances[hoverCategory], second.instances)));\n              }   \n              barstmprect2.data(this.categories)\n                .attr('visibility', (d: string) => d === hoverCategory ?  \"visible\" : \"hidden\");     \n              yAxisMarkerLine\n                .attr('stroke-opacity', 1)\n                .attr('y1', this.normalizationMode != \"Yes\"?this.yCate(this.bucketedInstances[hoverCategory].size)\n                        :this.bucketedInstances[hoverCategory].size==0?this.yCate(0)\n                        :this.yCate(1))\n                            .attr('x2', this.width)\n                .attr('y2', this.normalizationMode != \"Yes\"? this.yCate(this.bucketedInstances[hoverCategory].size)\n                        :this.bucketedInstances[hoverCategory].size==0?\n                        this.yCate(0): this.yCate(1) );\n              yAxisMarkerText\n                .attr('transform', this.normalizationMode != \"Yes\"?`translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number)  },\n                  ${this.yCate(this.bucketedInstances[hoverCategory].size) - 70})`\n                  :this.bucketedInstances[hoverCategory].size==0?\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(0) - 70})`\n                  :\n                  `translate(\n                  ${this.xCate.paddingOuter() + (this.xCate(hoverCategory) as number) },\n                  ${this.yCate(1) - 70})`\n                  )\n                .text(this.normalizationMode != \"Yes\"?\"Total: \"+this.bucketedInstances[hoverCategory].size: this.bucketedInstances[hoverCategory].size==0?\"Total: \"+0:\"Total: \"+1 );\n                }\n          }\n      }\n      \n      \n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svg = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${this.width + this.margin.left + this.margin.right}\n          ${this.height + this.margin.top + this.margin.bottom}`)\n        .append('g')\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n      const drawBackgroundRect = () => {\n        svg.append('rect')\n          .attr('width', this.width)\n          .attr('height', this.height)\n          .attr('fill', 'teal');\n      };\n\n      const xClass = this.xClass;\n      const yClass= this.yClass;\n\n      this.svg = svg;\n\n      const drawAxes = () => {\n        const xAxistmp = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(this.x)\n              .tickSizeOuter(0),\n          );\n        const xAxistmp2 = (g: any) => g\n            .attr('transform', `translate(${0}, ${this.height})`)\n            .call(\n              d3.axisBottom(this.xCate)\n                .tickSizeOuter(0),\n            );  \n        const yAxistmp =  (g: any) => g\n            .call(\n              d3.axisLeft(this.y),\n            );\n        const yAxistmp2 =  (g: any) => g\n            .call(\n              d3.axisLeft(this.yCate),\n            );\n\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(xClass)\n              .tickSizeOuter(0),\n          );\n\n\n\n        const yAxis = (g: any) => g\n          .call(d3.axisLeft(yClass)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        \n        if (this.showActualClassDistribution==\"Yes\") {\n          svg.append('g')\n            .call(xAxis)\n            .attr('font-size', 20)\n            ;\n          svg.append('g')\n            .call(yAxis)\n            .attr('font-size', 20);\n        }  else {\n              if (!this.categoricalFeatures.includes(this.chosenFeature)){\n                svg.append('g')\n                  .call(xAxistmp)\n                svg.append('g')\n                  .call(yAxistmp);  \n            } else {\n              svg.append('g')\n                  .call(xAxistmp2)\n                  .selectAll('text')\n                .attr('transform',  'rotate(45)')\n                .attr('text-anchor', 'start');\n              svg.append('g')\n                  .call(yAxistmp2);   \n            }\n        }     \n        \n        svg.selectAll('g.tick')\n          .style('font-size', '16px');\n      };\n      drawAxes();\n\n      const drawTitles = () => {\n        svg.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width / 2;\n            const yOffset = this.height + this.margin.bottom * 0.8;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '20px')\n          .text(this.chosenFeature);\n\n        svg.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 2)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '20px')\n          .text(this.normalizationMode==\"Yes\"?'Percentage of Instances'\n              :this.showActualClassDistribution == \"Yes\"?'Percentage of Instances':'Number of instances');\n\n\n        var showtext = this.normalizationMode==\"Yes\"?`Percentage of Instances (${this.chosenFeature})`\n            :`Number of Instances (${this.chosenFeature}):`\n        if (this.showActualClassDistribution == \"Yes\") {\n          showtext = this.normalizationMode==\"Yes\"?`Percentage of Instances per Class`\n            :`Percentage of Instances per Class`\n        }    \n\n        svg.append('text')\n          .attr(\n            'transform',\n            `translate(\n              ${-this.margin.left / 2 + this.width / 2},\n              ${-this.margin.top * 2 / 3}\n            )`,\n          )\n          .attr('dy', '1em')\n          .attr('text-anchor', 'middle')\n          .style('font-size', '30px')\n          .text(showtext);\n      };\n      drawTitles();\n\n      const translateCelltmp = (bin: Bin) => {\n        const xOffset = this.x(bin.x0 as number) + 1;\n        return `translate(${xOffset}, 0)`;\n      };\n      const translateCelltmp2  = (category: string) => {\n          const xOffset = this.xCate(category);\n          return `translate(${xOffset}, 0)`;\n        };\n\n\n      const barDescriptiontmp = (bin: Bin): string => {\n        return `Instances with feature '${this.chosenFeature}' in range [${bin.x0},${bin.x1})`;\n      };\n      const barDescriptiontmp2  = (category: string): string => {\n        return `Instances with feature '${this.chosenFeature}' equal to '${category}')`;\n      };\n      \n      const cellstmp = svg.selectAll('.celltmp')\n        .data(this.bins)\n        .join('g')\n          .attr('class', 'celltmp')\n          .attr('transform', (d: Bin) => translateCelltmp(d))\n          .on('mouseenter', (d: Bin) => this.hover = d)\n          .on('mouseleave', (d: Bin) => this.hover = null)\n          .on('click', (d: Bin) => this.selecttmp(d, 'first'))\n          .on('contextmenu', (d: Bin) => this.selecttmp(d, 'second'));\n      const  cellstmp2 = svg.selectAll('.celltmp2')\n        .data(this.categories)\n        .join('g')\n          .attr('class', 'celltmp2')\n          .attr('transform', (d: string) => translateCelltmp2(d))\n          .on('mouseenter', (d: string) => this.hoverCategory = d)\n          .on('mouseleave', (d: string) => this.hoverCategory = '')\n          .on('click', (d: string) => this.selecttmp2(d, 'first'))\n          .on('contextmenu', (d: string) => this.selecttmp2(d, 'second'));\n      const cells = svg.selectAll('.cell')\n          .data(this.bucketKeys)\n          .join('g')\n            .attr('class', 'cell')\n            .attr('transform', (d: string) => {\n              return `translate(${xClass(d)}, ${0})`});    \n      \n\n      const x = this.x;\n      const y = this.y;\n      const xCate = this.xCate;\n      const yCate = this.yCate;\n      const barWidthtmp = (bin: Bin) => x((bin.x1 as number)) - x((bin.x0 as number));\n      const barYOffsettmp = (bin: Bin) => this.normalizationMode!=\"Yes\"? this.y(bin.length) : bin.length==0?this.y(0):this.y(1) ;\n      const barHeighttmp = (bin: Bin) => this.height - barYOffsettmp(bin);\n      const  barWidthtmp2 = xCate.bandwidth();\n      const  barYOffsettmp2  = (category: string) =>  this.normalizationMode!=\"Yes\"? this.yCate(this.bucketedInstances[category].size):this.bucketedInstances[category].size==0?this.yCate(0): this.yCate(1);\n      const  barHeighttmp2 = (category: string) => this.height - barYOffsettmp2(category);\n\n      const drawBars = () => {\n        if (this.showActualClassDistribution == \"Yes\") {\n          const barWidth = xClass.bandwidth();\n          cells.append('rect')\n            .attr('class', 'bar')\n            .attr('y', (d: string) => this.normalizationMode!=\"Yes\" ? yClass(this.buckets[d].size / this.instances.length)\n                                                                  : this.buckets[d].size == 0? yClass(0) : yClass(1))\n            .attr('width', barWidth)\n            .attr('height', (d: string) => this.height - (this.normalizationMode!=\"Yes\" ? yClass(this.buckets[d].size / this.instances.length)\n                                                                  : this.buckets[d].size == 0? yClass(0) : yClass(1)))\n            .attr('fill', 'lightgray')\n            .attr('stroke', 'black')\n            .style('paint-order', 'stroke')\n            .on('mouseenter', (d: string) => this.hoverActual = ({ className: d }))\n            .on('mouseleave', this.clearHover)\n            .on('click', (d: string) => this.select(d, 'first'))\n            .on('contextmenu', (d: string) => this.select(d, 'second'));\n          cells.append(\"circle\") \n                    .attr('cx', barWidth/2)\n                    .attr('cy', d => this.height-15)\n                    .attr('r','15px')\n                    .style('fill', 'lightgray')\n                    .attr('stroke', 'grey')\n                    .attr(\"visibility\", (d:string) => {\n                      return yClass(this.buckets[d].size / this.instances.length) == 0?\"hidden\": (this.buckets[d].size / this.instances.length) > 0.05? \"hidden\":\"visible\"\n                      })\n                      .on('click', (d: string) => this.select(d, 'first'))\n                    .on('contextmenu', (d: string) => this.select(d, 'second'));\n          cells.append('rect')\n                .attr('class', 'selection-rect').attr('y', (d: string) =>  (this.normalizationMode!=\"Yes\" ? yClass(this.buckets[d].size / this.instances.length)\n                                                                  : this.buckets[d].size == 0? yClass(0) : yClass(1)) -90)\n                .attr('x',  -1 * 100)\n                  .attr('width', 200)\n                  .attr('height', 80)\n                  .attr('stroke', 'black')\n                  .attr('stroke-width', '1px')\n                  .attr('fill', 'white')\n                  .attr(\"visibility\",\"hidden\");            \n        } else {\n              if (!this.categoricalFeatures.includes(this.chosenFeature)){\n                cellstmp.append('rect')\n                .attr('class', 'bar').attr('y', (d: Bin) => barYOffsettmp(d))\n                  .attr('width', (d: Bin) => barWidthtmp(d))\n                  .attr('height', (d: Bin) => barHeighttmp(d))\n                  .attr('stroke', 'black')\n                  .attr('stroke-width', '0.5px')\n                  .attr('fill', 'lightgray');\n                cellstmp.append(\"circle\")   \n                  .attr('class', 'bar-circle').attr('cx',(d: Bin) => barWidthtmp(d) / 2 )\n                  .attr('cy', (d: Bin) =>  barWidthtmp(d) / 15 > 15 ? this.height - barWidthtmp(d) / 15 : this.height - 15)\n                  .attr('r',(d: Bin) => barWidthtmp(d) / 15 > 15 ? barWidthtmp(d) / 15 : 15)\n                  .attr(\"visibility\",(d: Bin) => barHeighttmp(d)/ this.height == 0? \"hidden\"\n                        : barHeighttmp(d)/ this.height>0.1? \"hidden\":\"visible\")\n                  .style('fill', 'lightgray')    \n                  .attr('stroke', 'grey')  \n\n                cellstmp.append('rect')\n                .attr('class', 'selection-rect').attr('y', (d: Bin) => barYOffsettmp(d)-90)\n                .attr('x', -120)//(d: Bin) => -1 * barWidthtmp(d))\n                  .attr('width', 140)//(d: Bin) => 2 * barWidthtmp(d))\n                  .attr('height', 80)\n                  .attr('stroke', 'black')\n                  .attr('stroke-width', '1px')\n                  .attr('fill', 'white')\n                  .attr(\"visibility\",\"hidden\");    \n              } else {\n                cellstmp2.append('rect')\n                .attr('class', 'bar').attr('y', (d: string) => barYOffsettmp2(d))\n                  .attr('width', (d: string) => barWidthtmp2)\n                  .attr('height', (d: string) => {\n                    return barHeighttmp2(d)})\n                  .attr('stroke', 'black')\n                  .attr('stroke-width', '0.5px')\n                  .attr('fill', 'lightgray');\n                cellstmp2.append(\"circle\")   \n                  .attr('class', 'bar-circle').attr('cx', (d: string) => barWidthtmp2 / 2)\n                  .attr('cy', (d: string) =>  {\n                    if (this.normalizationMode==\"Yes\") {\n                      if (barWidthtmp2 / 15 > 15) return this.height - barWidthtmp2 / 15 \n                      else return this.height - 15\n                    } else {\n                      if (barWidthtmp2 / 15 > 15) return yCate(1) - barWidthtmp2 / 15\n                      else return  yCate(1) - 15\n                    }\n                    })\n                  .attr('r',(d: string) => barWidthtmp2 / 15 > 15?  barWidthtmp2 / 15 : 15)\n                  .attr(\"visibility\",(d: string) => barHeighttmp2(d)/ this.height == 0? \"hidden\"//:\"visible\")\n                        : barHeighttmp2(d)/ this.height>0.1? \"hidden\":\"visible\")\n                  .style('fill', 'lightgray')    \n                cellstmp2.append('rect')\n                .attr('class', 'selection-rect').attr('y', (d: string) => barYOffsettmp2(d)-90)\n                .attr('x', (d: string) => -70)\n                  .attr('width', 140)\n                  .attr('height', 80)\n                  .attr('stroke', 'black')\n                  .attr('stroke-width', '1px')\n                  .attr('fill', 'white')\n                  .attr(\"visibility\",\"hidden\");    \n              }    \n        }\n      };\n      \n      const yAxisMarkerLine = () => {\n        if (this.showActualClassDistribution == \"Yes\") {\n          svg.append('line')\n          .attr('class', 'y-axis-marker-line')\n          .attr('y1', yClass(1))\n          .attr('x2', this.width)\n          .attr('y2', yClass(1))\n          .attr('stroke', 'red')\n          .attr('stroke-width', '2px')\n          .attr('stroke-opacity', 0)\n          .attr('pointer-events', 'none');\n        } else {\n            if (!this.categoricalFeatures.includes(this.chosenFeature)){\n            svg.append('line')\n              .attr('class', 'y-axis-marker-line')\n              .attr('y1', y(1))\n              .attr('x2', this.width)\n              .attr('y2', y(1))\n              .attr('stroke', 'red')\n              .attr('stroke-width', '2px')\n              .attr('stroke-opacity', 0)\n              .attr('pointer-events', 'none');\n          } else {\n            svg.append('line')\n              .attr('class', 'y-axis-marker-line')\n              .attr('y1', yCate(1))\n              .attr('x2', this.width)\n              .attr('y2', yCate(1))\n              .attr('stroke', 'red')\n              .attr('stroke-width', '2px')\n              .attr('stroke-opacity', 0)\n              .attr('pointer-events', 'none');\n          }\n        }\n         \n      };\n      const yAxisMarkerText = () => {\n        svg.append('text')\n          .attr('class', 'y-axis-marker-text')\n          .attr('text-anchor', 'middle')\n          .attr('font-size', 20)\n          .attr('pointer-events', 'none');\n      };\n      yAxisMarkerLine();\n      yAxisMarkerText();\n      drawBars();\n      this.drawHover();\n      this.drawSelections();\n    },\n   \n    drawSelections() {\n      // @ts-ignore\n\n      const { first, second } = this.selections;\n      var formatDecimal = d3.format(\".0f\")\n      if (this.normalizationMode==\"Yes\") {\n        formatDecimal = d3.format(\".3f\")\n      }\n\n      const selections = [first, second];\n\n\n      const rightYOffset = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        return this.normalizationMode==\"Yes\"? this.yClass(overlappingInstances.size / (instances.size)) : this.yClass(overlappingInstances.size / this.instances.length)\n      };\n      const rightHeight = (instances: Set<string>, selection: Set<string>) => {\n        return this.height - rightYOffset(instances, selection);\n      };\n      const yOffset = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        if (!this.categoricalFeatures.includes(this.chosenFeature)) \n          return this.normalizationMode==\"Yes\"? this.y(overlappingInstances.size / (instances.size)) : this.y(overlappingInstances.size);\n         else \n          return this.normalizationMode==\"Yes\"? this.yCate(overlappingInstances.size /(instances.size)) : this.yCate(overlappingInstances.size);\n      };\n      const height = (instances: Set<string>, selection: Set<string>) => {\n          return this.height - yOffset(instances, selection);\n      };\n      const yText = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        if (!this.categoricalFeatures.includes(this.chosenFeature)) \n          return this.normalizationMode==\"Yes\"? (overlappingInstances.size / (instances.size)) :(overlappingInstances.size);\n         else \n          return this.normalizationMode==\"Yes\"? (overlappingInstances.size /(instances.size)) : (overlappingInstances.size);\n      };\n      const hasFocusItem = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n\n\n      selections.forEach((cur_selection, idx)=>{\n        if (!cur_selection) {\n          this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n          this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n        } else {\n          if (this.showActualClassDistribution == 'Yes') {\n            let x = this.xClass;\n            let barWidth = x.bandwidth();\n            let selectionBarWidth = barWidth / 8;\n            this.bucketKeys.forEach((d)=>{\n              let selection_attributes = {\n                barCells : this.svg,\n                x : x(d) + barWidth / 2 + (idx-1) * selectionBarWidth ,\n                y : rightYOffset(this.buckets[d], cur_selection.instances),\n                width : selectionBarWidth,\n                height :rightHeight(this.buckets[d], cur_selection.instances),\n                r  : selectionBarWidth / 2,\n                color : idx == 0? this.selection1Color : this.selection2Color,\n                circle_visibility : rightHeight(this.buckets[d], cur_selection.instances) == 0?\"hidden\"\n                    :rightHeight(this.buckets[d], cur_selection.instances) / this.height >0.05?\"hidden\":\"visible\",\n                cx : x(d) + barWidth / 2  + (idx - 1/2) * selectionBarWidth,\n                cy : this.height - selectionBarWidth / 2,\n                selection_type: idx,\n                focused: hasFocusItem(this.buckets[d], cur_selection.instances),\n                view_name : this.name\n              }\n              this.$store.dispatch('drawSelections',selection_attributes)\n            })\n          } else {\n            if (!this.categoricalFeatures.includes(this.chosenFeature)) {\n              let x = (bin: Bin) => {\n                const xOffset = this.x(bin.x0 as number) + 1;\n                return xOffset\n              };\n              const barWidthtmp = (bin: Bin) => this.x((bin.x1 as number)) - this.x((bin.x0 as number));\n              const selectionBarWidth = (d: Bin) => barWidthtmp(d) / 8;\n\n              this.bins.forEach((d)=>{\n                  let selection_attributes = {\n                    barCells : this.svg,\n                    x : barWidthtmp(d) / 2 + (idx-1) *  selectionBarWidth(d) + x(d),\n                    y : yOffset(new Set(d), cur_selection.instances),\n                    width : selectionBarWidth(d),\n                    height :height(new Set(d), cur_selection.instances),\n                    r  : selectionBarWidth(d) / 2,\n                    color : idx == 0? this.selection1Color : this.selection2Color,\n                    circle_visibility : isNaN(parseInt(formatDecimal(yText(new Set(d), cur_selection.instances)))) ?  \"hidden\"  \n                          : height(new Set(d), cur_selection.instances)== 0?\"hidden\"\n                          : height(new Set(d), cur_selection.instances) / this.height>0.05?\"hidden\":\"visible\",\n                    cx : x(d) + barWidthtmp(d) / 2   + (idx - 1/2) * selectionBarWidth(d),\n                    cy : this.height - selectionBarWidth(d) / 2,\n                    selection_type: idx,\n                    focused: hasFocusItem(new Set(d), cur_selection.instances),\n                    view_name : this.name\n                  }\n                  this.$store.dispatch('drawSelections',selection_attributes)\n              })\n            } else {\n              this.categories.forEach((d)=>{\n                  let  barWidthtmp = this.xCate.bandwidth();\n                  let selectionBarWidth = barWidthtmp / 8;\n                  let x = this.xCate;\n                  let selection_attributes = {\n                    barCells : this.svg,\n                    x : barWidthtmp / 2 + (idx-1) *  selectionBarWidth + x(d),\n                    y :  yOffset(this.bucketedInstances[d], cur_selection.instances),\n                    width : selectionBarWidth,\n                    height :height(this.bucketedInstances[d], cur_selection.instances),\n                    r  : selectionBarWidth / 2,\n                    color : idx == 0? this.selection1Color : this.selection2Color,\n                    circle_visibility : isNaN(parseInt(formatDecimal(yText(this.bucketedInstances[d], cur_selection.instances)))) ? \"hidden\"\n                            : height(this.bucketedInstances[d], cur_selection.instances) == 0?\"hidden\"\n                            : height(this.bucketedInstances[d], cur_selection.instances) / this.height>0.05?\"hidden\":\"visible\",\n                    cx : x(d) + barWidthtmp / 2  + (idx - 1/2) * selectionBarWidth,\n                    cy : this.height - selectionBarWidth / 2,\n                    selection_type: idx,\n                    focused: hasFocusItem(this.bucketedInstances[d], cur_selection.instances),\n                    view_name : this.name\n                  }\n                  this.$store.dispatch('drawSelections',selection_attributes)\n              })\n            }\n          }\n        }\n      })\n    },\n    selecttmp(\n      d: Bin,\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n      const instances = new Set(d);\n      const description = `Instances which have \"${this.chosenFeature}\" between ${d.x0} and ${d.x1}`;\n      // lower bound is inclusive\n      const constraintLowerBound = blankConstraint();\n      // negation of LT means feature is greater then or equal to\n      constraintLowerBound.rule = Rule.FEATURE_LT;\n      constraintLowerBound.negation = true;\n      constraintLowerBound.value = String(d.x0);\n      // upper bound is exclusive, TODO: except for the last bin\n      const constraintUpperBound = blankConstraint();\n      constraintUpperBound.rule = Rule.FEATURE_LT;\n      constraintUpperBound.value = String(d.x1);\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraintLowerBound, constraintUpperBound],\n        metric : []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    selecttmp2(\n      d: string,\n      whichOverlap: 'first' | 'second',\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.FEATURE_EQ;\n      constraint.feature = this.chosenFeature;\n      constraint.value = d;\n\n      const instances = this.bucketedInstances[d];\n      const description = `Instances with feature '${this.chosenFeature}' equal to '${d}')`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric:[],\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    select(\n      className: string,\n      whichOverlap: 'first' | 'second',\n    ) {\n\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.ACTUAL;\n      constraint.target = className;\n\n      const instances = this.buckets[className];\n      const description = `Instances of class ${className}`;\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: [],\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureHistogram.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeatureHistogram.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FeatureHistogram.vue?vue&type=template&id=848054e2&scoped=true&\"\nimport script from \"./FeatureHistogram.vue?vue&type=script&lang=ts&\"\nexport * from \"./FeatureHistogram.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FeatureHistogram.vue?vue&type=style&index=0&id=848054e2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"848054e2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup,VSelect,VSlider,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Scatter Plot \")])],1)])],1)],1),_c('div',[_c('multiselect',{staticClass:\"select_feature\",attrs:{\"options\":_vm.numericFeatures,\"single\":\"\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',[_c('multiselect',{staticClass:\"select_feature_y\",attrs:{\"options\":_vm.numericFeatures,\"single\":\"\"},model:{value:(_vm.value_y),callback:function ($$v) {_vm.value_y=$$v},expression:\"value_y\"}})],1),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n  Metrics,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { colors } from '../../theme';\ninterface MetricsWithClassifier {\n  classifier: string;\n  metrics: Metrics;\n}\nexport default Vue.extend({\n  name: 'ScatterPlot',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 30, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const accuracySorting = 'descending' as 'ascending' | 'descending' | '' | 'alphabetical';\n    const hover = {\n      type: '' as 'right' | 'wrong' | '',\n      classifier: '',\n    };\n    const chosenData = \"All\" as \"All\" | \"selection1\" | \"selection2\"\n    const evaluationSelection = 'acc2' as 'acc1'| 'acc2' | 'acc3' | 'uncertain';\n    const zoom = {\n      type: '' as 'in' | 'out' | '',\n      obejct: '',\n    };\n    const value_y = 'prediction-' + [...this.boxProps.classifiers][3]\n    return {\n      svg: '',\n      zoom,\n      min:0,\n      max:100,\n      max_value: 0,\n      evaluationSelection,\n      value: '',\n      value_y,\n      classifierValue: '',\n      chosenData,\n      accuracySorting,\n      height,\n      correlation_mode:'No',\n      hover,\n      margin,\n      curclick:[],\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      selectedEval:'',\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      correlations:[],\n      featureIntervals: Number,\n      featureYIntervals: Number,\n      preCorrelations: [],\n      prefeatureIntervals: Number,\n      prefeatureYIntervals: Number,\n      premax_value: 0,\n      clickCount: 0,\n      clickTimer: 0,\n    };\n  },\n  computed: {\n    correlationMode() : String {\n      var correlationMode = \"\"\n      switch (this.evaluationSelection) {\n        case 'acc1' :\n          correlationMode = \"acc1\"\n          break;\n        case 'acc2' :\n          correlationMode = \"acc2\"\n          break; \n        case 'acc3' :\n          correlationMode = \"acc3\"\n          break; \n        case 'uncertain' :\n          correlationMode = \"uncertain\"\n          break;  \n      }\n      return correlationMode;\n    },\n    selectionHistory(): SelectionRecord[] {\n      return this.$store.state.selectionHistory;\n    },\n    numericFeatures(): any[] {\n        const allFeatures = [...this.boxProps.features];\n        const numericTypes = ['interval', 'ratio'];\n        const isNumeric = (featureName: string) => {\n            const feature = this.$store.getters.feature(featureName);\n            return numericTypes.includes(feature.type);\n        };\n        const numericFeatures =  allFeatures.filter(isNumeric);\n        this.classifiers.forEach((c)=>{\n          numericFeatures.push('prediction-'+c)\n        })\n        \n        return numericFeatures;\n    },\n    classes(): string[] {\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];\n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    uncertaintyRange(): string[] {\n      return [\"0.00\",\"0.01\",\"0.02\",\"0.03\",\"0.04\",\"0.05\",\"0.06\",\"0.07\",\"0.08\",\"0.09\",\"0.10\"]\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThreshods;\n    },\n    externalHoverInstance(): string {\n      return this.$store.state.hoverInstance;\n    },\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    features() :any[] {\n      const allFeatures = [...this.boxProps.features];\n      const numericTypes = ['interval', 'ratio'];\n      const isNumeric = (featureName: string) => {\n        const feature = this.$store.getters.feature(featureName);\n        return numericTypes.includes(feature.type);\n      };\n      const numericFeatures =  allFeatures.filter(isNumeric);\n      const categoricalFeatures = [...this.boxProps.features].filter((f) => this.$store.getters.feature(f).type === 'categorical');\n      let features = []//this.$store.getters.featuresDict.columns.filter((c)=>c != \"id\" && c != \"\");\n      numericFeatures.forEach((c)=>{\n        features.push(c)\n      })\n      categoricalFeatures.forEach((c)=>{\n        features.push(c)\n      })\n      features = features.filter(f=>f!=\"train_or_test\")\n      return features;\n    },\n    InitialCorrelations(): any[] {\n        if (this.value == '' && this.numericFeatures.length != 0) {\n            this.value = this.numericFeatures[0]\n        }\n        if (this.value == '' || this.value_y == '') {\n            return [];\n        }\n        if (this.classifierValue == '') {\n          this.classifierValue = this.classifiers[0]\n        }\n        let feature = this.value;\n        let feature_y = this.value_y;\n        let instances = this.instances;\n        let intervals = 10;\n        let featureList = [];\n        let featureYList = [];\n        let feature_min = 100000;\n        let feature_max = -100000;\n        let featureY_min = 100000;\n        let featureY_max = -100000;\n        instances.forEach((i)=>{\n            let feature_value = 0\n            let featureY_value = 0\n            if (this.value.substring(0,10) == 'prediction') {\n              let classifier = this.value.substring(11,this.value.length) \n              feature_value = instanceById(i)['continuous_predictions'][classifier]\n            } else {\n              feature_value = parseFloat(instanceById(i)['features'][feature].toString());\n            }\n            if (this.value_y.substring(0,10) == 'prediction') {\n              let classifier = this.value_y.substring(11,this.value_y.length) \n              featureY_value = instanceById(i)['continuous_predictions'][classifier]\n            } else {\n              featureY_value = parseFloat(instanceById(i)['features'][feature_y].toString());\n            }\n            featureList.push(feature_value)\n            featureYList.push(featureY_value)\n            feature_min = feature_min > Math.floor(feature_value) ? Math.floor(feature_value) : feature_min;\n            feature_max = feature_max < Math.ceil(feature_value) ? Math.ceil(feature_value) : feature_max;\n            featureY_min = featureY_min > Math.floor(featureY_value) ? Math.floor(featureY_value) : featureY_min;\n            featureY_max = featureY_max < Math.ceil(featureY_value) ? Math.ceil(featureY_value) : featureY_max;\n        })\n        let feature_diff = (feature_max - feature_min) / 10;\n        let featureY_diff = (featureY_max - featureY_min) / 10;\n        \n        let featureIntervals = [];\n        let featureYIntervals = [];\n        let count = 0;\n        let begin = feature_min;\n        let beginY = featureY_min;\n        while (count <= 10) {\n            featureIntervals.push(parseFloat(begin.toFixed(1)))\n            featureYIntervals.push(parseFloat(beginY.toFixed(1)))\n            begin += feature_diff\n            beginY += featureY_diff\n            count += 1\n        }\n        let scatter_matrix = []\n        featureYIntervals.forEach((featureY, i)=>{\n            scatter_matrix[i] = []\n            featureIntervals.forEach((feature, j)=>{\n                scatter_matrix[i].push([])\n            }) \n        })\n        instances.forEach((i)=>{\n            let feature_value = 0\n            let featureY_value = 0\n            if (this.value.substring(0,10) == 'prediction') {\n              let classifier = this.value.substring(11,this.value.length) \n              feature_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              feature_value = parseFloat(instanceById(i)['features'][feature].toString());\n            }\n            if (this.value_y.substring(0,10) == 'prediction') {\n              let classifier = this.value_y.substring(11,this.value_y.length) \n              featureY_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              featureY_value = parseFloat(instanceById(i)['features'][feature_y].toString());\n            }\n            let feature_idx = parseInt(Math.round((feature_value - feature_min) / feature_diff).toString())\n            let featureY_idx = parseInt(Math.round((featureY_value - featureY_min) / featureY_diff).toString())\n            scatter_matrix[featureY_idx][feature_idx].push(i)\n        })\n        \n        this.featureIntervals = featureIntervals;\n        this.featureYIntervals = featureYIntervals;\n        let correlations = [];\n        scatter_matrix.forEach((row, i)=>[\n            row.forEach((value, j)=>{\n                this.max_value = this.max_value < value.length ? value.length : this.max_value;\n                correlations.push({ \"feature_y\": featureYIntervals[i],\"feature\": featureIntervals[j], \"featureY_idx\": i, \"feature_idx\": j, \"value\":value.length, \"instances\": value, \"zoom\":0 })\n            })\n        ])\n        return correlations;\n    \n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n    focusDotEmphasis(): String{return  this.$store.state.focusDotEmphasis},\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n              .domain(this.featureIntervals)\n              .range([0, this.width])\n              .paddingOuter(1)\n              .paddingInner(0.3);\n      return x\n    },\n    y(): d3.ScaleBand<string>{\n      const y = d3.scaleBand<string>()\n              .domain(this.featureYIntervals)\n              .range([this.height,0])\n              .paddingOuter(1)\n              .paddingInner(0.3);\n      return y;\n    },\n    xAxis():any {\n      const xAxis = (g: any) => g\n            .attr('transform', `translate(${60}, ${this.height})`)\n            .call(\n              d3.axisBottom(this.x)\n                .tickSizeOuter(0),\n            );\n      return xAxis;\n    }\n  },\n  watch: {\n    zoom() {\n      this.updateCorrelations();\n      this.drawInitial();\n    },\n    selections() {\n      this.drawInitial();\n    },\n    focusItemId(){\n      this.drawInitial();\n    },\n    focusDotEmphasis(){\n      this.drawInitial();\n    },\n    classifierValue() {\n      this.updateCorrelations();\n      this.drawCorrelation();\n    },\n    value() {\n      this.zoom = {\n        type: '' as 'in' | 'out' | '',\n        obejct: '',\n      };\n      this.updateCorrelations();\n      this.drawCorrelation();\n    },\n    value_y() {\n      this.zoom = {\n        type: '' as 'in' | 'out' | '',\n        obejct: '',\n      };\n      this.updateCorrelations();\n      this.drawCorrelation();\n    },\n    instances() {\n      this.drawInitial();\n    },\n    correlationMode() {\n      this.drawCorrelation();\n    },\n  },\n  mounted() {\n    this.drawInitial();\n  },\n  methods: {\n    updateCorrelations() {\n        this.preCorrelations = []\n        this.prefeatureIntervals = []\n        this.prefeatureYIntervals = []\n        this.premax_value = this.max_value\n        let feature = this.value;\n        let feature_y = this.value_y;\n        let instances = this.zoom['type'] == '' ? this.instances: this.zoom['object']['instances'];\n        let intervals = 10;\n        let featureList = [];\n        let featureYList = [];\n        let feature_min = 100000;\n        let feature_max = -100000;\n        let featureY_min = 100000;\n        let featureY_max = -100000;\n        this.max_value = -100000;\n        this.correlations.forEach((c)=>{\n          this.preCorrelations.push(c)\n        })\n        this.featureIntervals.forEach((f)=>{\n          this.prefeatureIntervals.push(f)\n        })\n        this.featureYIntervals.forEach((f)=>{\n          this.prefeatureYIntervals.push(f)\n        })\n        instances.forEach((i)=>{\n            let feature_value = 0\n            let featureY_value = 0\n            if (this.value.substring(0,10) == 'prediction') {\n              let classifier = this.value.substring(11,this.value.length) \n              feature_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              feature_value = parseFloat(instanceById(i)['features'][feature].toString());\n            }\n            if (this.value_y.substring(0,10) == 'prediction') {\n              let classifier = this.value_y.substring(11,this.value_y.length) \n              featureY_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              featureY_value = parseFloat(instanceById(i)['features'][feature_y].toString());\n            }\n            featureYList.push(featureY_value)\n            feature_min = feature_min > (feature_value) ? (feature_value) : feature_min;\n            feature_max = feature_max < (feature_value) ? (feature_value) : feature_max;\n            featureY_min = featureY_min > (featureY_value) ? (featureY_value) : featureY_min;\n            featureY_max = featureY_max < (featureY_value) ? (featureY_value) : featureY_max;\n        })\n        let feature_diff = (feature_max - feature_min) / 10;\n        let featureY_diff = (featureY_max - featureY_min) / 10;\n        let featureIntervals = [];\n        let featureYIntervals = [];\n        let count = 0;\n        let begin = feature_min;\n        let beginY = featureY_min;\n        while (count <= 10) {\n            featureIntervals.push(parseFloat(begin.toFixed(2)))\n            featureYIntervals.push(parseFloat(beginY.toFixed(2)))\n            begin += feature_diff\n            beginY += featureY_diff\n            count += 1\n        }\n        let scatter_matrix = []\n        featureYIntervals.forEach((featureY, i)=>{\n            scatter_matrix[i] = []\n            featureIntervals.forEach((feature, j)=>{\n                scatter_matrix[i].push([])\n            }) \n        })\n        this.featureIntervals = featureIntervals;\n        this.featureYIntervals = featureYIntervals;\n        let correlations = [];\n        if (this.zoom.type == '') {\n          instances.forEach((i)=>{\n              let feature_value = 0\n            let featureY_value = 0\n            if (this.value.substring(0,10) == 'prediction') {\n              let classifier = this.value.substring(11,this.value.length) \n              feature_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              feature_value = parseFloat(instanceById(i)['features'][feature].toString());\n            }\n            if (this.value_y.substring(0,10) == 'prediction') {\n              let classifier = this.value_y.substring(11,this.value_y.length) \n              featureY_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n            } else {\n              featureY_value = parseFloat(instanceById(i)['features'][feature_y].toString());\n            }\n              let feature_idx = parseInt(Math.round((feature_value - feature_min) / feature_diff).toString())\n              let featureY_idx = parseInt(Math.round((featureY_value - featureY_min) / featureY_diff).toString())\n              scatter_matrix[featureY_idx][feature_idx].push(i)\n          })\n          \n          scatter_matrix.forEach((row, i)=>{\n              row.forEach((value, j)=>{\n                  this.max_value = this.max_value < value.length ? value.length : this.max_value;\n                  correlations.push({ \"feature_y\": featureYIntervals[i],\"feature\": featureIntervals[j], \"featureY_idx\": i, \"feature_idx\": j, \"value\":value.length, \"instances\": value , \"zoom\": 0})\n              })\n          })\n        } else {\n          instances.forEach((i)=>{\n              let feature_value = 0\n              let featureY_value = 0\n              if (this.value.substring(0,10) == 'prediction') {\n                let classifier = this.value.substring(11,this.value.length) \n                feature_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n              } else {\n                feature_value = parseFloat(instanceById(i)['features'][feature].toString());\n              }\n              if (this.value_y.substring(0,10) == 'prediction') {\n                let classifier = this.value_y.substring(11,this.value_y.length) \n                featureY_value = parseFloat(instanceById(i)['continuous_predictions'][classifier])\n              } else {\n                featureY_value = parseFloat(instanceById(i)['features'][feature_y].toString());\n              }\n              correlations.push({ \"feature_y\": featureY_value,\"feature\": feature_value, \"featureY_idx\": '', \"feature_idx\": '', \"value\":1, \"instances\": new Set([i]), \"zoom\": 0})\n          })\n        }\n        \n        this.correlations =  correlations;\n    },\n    drawInitial() {\n      // @ts-ignore\n      d3.select(this.$refs.svg).selectAll('*').remove();\n      // @ts-ignore\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom +  this.margin.left)}`)\n      const svg_correlations = svgAll.append('g')\n          .attr(\"class\",\"svg-correlations\")\n          .attr('transform',`translate(${0}, ${this.margin.top + this.margin.left })`)     ;\n      if (this.correlations.length == 0) {\n        this.correlations = this.InitialCorrelations\n      }\n      \n      this.drawCorrelation();      \n    },\n    drawCorrelation() { \n      if (this.correlations.length == 0) {\n        this.correlations = this.InitialCorrelations\n      }\n      const chart = d3.select(this.$refs.svg);\n      const svg = chart.select(\".svg-correlations\")\n      const correlationMode = this.correlationMode;\n      svg.selectAll('*').remove();  \n      const sequentialScale = d3.scaleSequential<string>( d3.interpolateGreys)\n        .domain([0, 1.5* this.max_value])\n        .interpolator(function (x) { return d3.interpolateGreys(1.5*x);} );\n      const drawTitles = () =>{\n          svg.append('text')\n            .attr('transform', () => {\n                const xOffset = this.width / 2;\n                const yOffset = this.height + this.margin.bottom;\n                return `translate(${xOffset}, ${yOffset})`;\n            })\n            .style('text-anchor', 'middle')\n            .style('font-size', '24px')\n            .text('Feature: ' + this.value);\n          svg.append('text')\n            .attr('transform', () => {\n                const xOffset = 100;\n                const yOffset = -40;\n                return `translate(${xOffset}, ${yOffset})`;\n            })\n            .style('text-anchor', 'middle')\n            .style('font-size', '24px')\n            .text('Feature: ' + this.value_y);\n      }\n      drawTitles();\n      const drawRects = () => {\n          let x = this.x;\n          let y = this.y;\n          let xAxis = this.xAxis;\n          svg.append('g')\n            .call(xAxis)\n            .attr('font-size', 18)\n            .selectAll('text')\n            .attr('transform', 'rotate(30)')\n            .attr('text-anchor', 'start');\n          svg.append(\"g\")\n              .attr(\"transform\", \"translate(60,\" + 0 + \")\")\n              .call(d3.axisLeft(y))\n              .attr('font-size', 18);\n          \n          \n          const barCells  = svg.append('g')\n            .attr(\"transform\", \"translate(60, \" + (-this.height / 15) + \")\")\n            .selectAll(\"rects\")\n            .data(this.correlations)\n            .enter();\n          this.svg = svg;\n          barCells\n            .append(\"rect\")\n            .attr(\"x\", function (d) { return x(d['feature']); } )\n            .attr(\"y\", function (d) { return y(d['feature_y']); } )\n            .attr(\"width\", this.width / 15)\n            .attr(\"height\", this.height / 15)\n            .style(\"fill\", (d)=>{\n                return sequentialScale(d['value'])\n            })\n            .on('click', (d: string) => this.click(d))\n            .on('contextmenu', (d: string) => this.select(d, 'second'));\n           \n      }\n      const drawZoomin = () => {\n        const x = d3.scaleLinear()\n          .domain([parseFloat(d3.min(this.featureIntervals)) * 0.95, parseFloat(d3.max(this.featureIntervals)) * 1.05])\n          .range([ 0, this.width]);\n        const y = d3.scaleLinear()\n          .domain([parseFloat(d3.min(this.featureYIntervals)) * 0.95, parseFloat(d3.max(this.featureYIntervals)) * 1.05])\n          .range([this.height, 0]);\n        const xAxis = (g: any) => g\n          .attr('transform', `translate(${60}, ${this.height})`)\n          .call(\n            d3.axisBottom(x)\n              .tickSizeOuter(0),\n          );\n        svg.append('g')\n          .call(xAxis)\n          .attr('font-size', 18)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start');\n        svg.append(\"g\")\n              .attr(\"transform\", \"translate(60,\" + 0 + \")\")\n              .call(d3.axisLeft(y))\n              .attr('font-size', 18);\n        const barCells  = svg.append('g')\n            .attr(\"transform\", \"translate(60, \" + (-this.height / 15) + \")\")\n            .selectAll(\"rects\")\n            .data(this.correlations)\n            .enter();\n        barCells\n          .append(\"circle\")\n          .attr(\"cx\", function (d) { return x(d['feature']); } )\n          .attr(\"cy\", function (d) { return y(d['feature_y']); } )\n          .attr(\"r\", (d)=> 15 * d['value'])\n          .style(\"fill\", (d)=> {\n            return (d['instances'].has(this.$store.state.focusItemId)) ? colors.focus:'steelblue'\n            })\n          .attr('opacity',0.5)\n          .on('click', (d: string) => {\n            this.$store.dispatch(\n              \"setFocusItem\",\n                [...d['instances']][0]\n            );\n          })\n          .on('contextmenu', (d: string) => {\n            this.select(d, 'second')\n            })\n         const drawOverallView = () =>{\n            var x = d3.scaleBand<string>()\n              .domain(this.prefeatureIntervals)\n              .range([0, this.width  / 5])\n              .paddingOuter(1)\n              .paddingInner(0.3);\n            var y = d3.scaleBand<string>()\n                .domain(this.prefeatureYIntervals)\n                .range([this.height / 5,0])\n                .paddingOuter(1)\n                .paddingInner(0.3);\n            var xAxis = (g: any) => g\n              .attr('transform', `translate(${this.width-60}, ${this.height / 5})`)\n              .call(\n                d3.axisBottom(x)\n                  .tickSizeOuter(0),\n              );\n            svg.append('g')\n              .call(xAxis)\n              .attr('font-size', 4)\n              .selectAll('text')\n              .attr('transform', 'rotate(30)')\n              .attr('text-anchor', 'start');\n            svg.append(\"g\")\n                .attr(\"transform\", \"translate(\" +(this.width-60) + ','+ 0 + \")\")\n                .call(d3.axisLeft(y))\n                .attr('font-size', 4);\n                        \n            const barCells  = svg.append('g')\n              .attr(\"transform\", \"translate(\" +(this.width-60) + ','+ (-this.height / 75) + \")\")\n              .selectAll(\"rects\")\n              .data(this.preCorrelations)\n              .enter();\n            barCells\n              .append(\"rect\")\n              .attr(\"x\", function (d) { return x(d['feature']); } )\n              .attr(\"y\", function (d) { return y(d['feature_y']); } )\n              .attr(\"width\", this.width / 75)\n              .attr(\"height\", this.height / 75)\n              .style(\"fill\", (d)=>{\n                if (this.zoom.object == d) {\n                  return 'steelblue'\n                }\n                  return 'lightgrey'\n              })\n              .attr(\"visibility\",d=>d['value'] == 0? 'hidden':'visible')\n              .on('click', d=>this.zoom = ({type: '', 'object':''}))\n         }\n         drawOverallView();\n          \n      }\n      if (this.zoom.type == '') {\n        drawRects();\n        this.drawSelections();\n      } else {\n        drawZoomin();\n      }\n      \n    },\n    drawSelections() {\n        if (this.correlations.length == 0) {\n          this.correlations = this.InitialCorrelations\n        }\n        const { first, second } = this.selections;\n        const barYOffset = (instances: Set<string>, selection: Set<string>) => {\n            const overlappingInstances = intersection(instances, selection);\n            return overlappingInstances.size / instances.size * (this.height / 15);\n        };\n        const hasFocusItem = (instances: Set<string>, selection: Set<string>) => {\n        const overlappingInstances = intersection(instances, selection);\n        for (const id of overlappingInstances) {\n          if(this.$store.state.focusItemId === id) return true\n        }\n        return false\n      }\n        const selections = [first, second];\n        const x = this.x;\n        const y = this.y;\n        let barWidth = this.width / 15;\n        let selectionBarWidth  = barWidth / 6;\n        selections.forEach((cur_selection, idx)=>{\n          if (!cur_selection) {\n            this.svg.selectAll('selection-rect-'+idx).attr('height', '0');\n            this.svg.selectAll('selection-circle-'+idx).attr(\"visibility\",\"hidden\");\n          } else {\n            this.correlations.forEach((d)=>{\n              \n              let selection_attributes = {\n                barCells : this.svg,\n                x : 60 + x(d['feature']) + (idx+1) * selectionBarWidth,\n                y : (-this.height / 15) + y(d['feature_y']) ,\n                width : selectionBarWidth,\n                height : barYOffset(new Set(d['instances']), cur_selection.instances),\n                r  : selectionBarWidth / 2,\n                color : idx == 0? this.selection1Color : this.selection2Color,\n                circle_visibility : barYOffset(new Set(d['instances']), cur_selection.instances) > 0 && barYOffset(new Set(d['instances']), cur_selection.instances) < barWidth * 0.1 ? 'visible':'hidden',\n                cx : 60 + x(d['feature'])  + selectionBarWidth * 2 + (idx - 1/2) * selectionBarWidth,\n                cy : (-this.height / 15)+ y(d['feature_y'])  + selectionBarWidth / 2,\n                selection_type: idx,\n                focused: hasFocusItem(new Set(d['instances']), cur_selection.instances),\n                view_name : this.name\n              }\n              this.$store.dispatch('drawSelections',selection_attributes)\n            })\n          }\n        })\n    },\n    select(\n      group: string,\n      whichOverlap: 'first' | 'second',\n    ) {\n      if(whichOverlap === 'second') {\n        d3.event.preventDefault();\n        d3.event.stopPropagation();\n      }\n      const classifier = this.classifierValue;\n      const feature_name = this.value;\n      const featureY_name  = this.value_y;\n      const feature = group['feature'];\n      const feature_y = group['feature_y'];\n      const description = `Instances whose ${feature_name} are around ${feature} and ${featureY_name} are around ${feature_y} `;\n      \n      const instances = new Set (group['instances'])\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = classifier;\n   \n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n    click(item){\n      this.clickCount += 1\n      if (this.clickCount === 1) {\n          this.clickTimer = setTimeout(function(context) {\n              context.clickCount = 0\n              context.select(item, 'first');\n          }, 300, this)\n      } \n      if (this.clickCount === 2) {\n          clearTimeout(this.clickTimer);\n          this.clickCount = 0\n          this.zoom = ({type: 'in', 'object':item})\n      }\n    }\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterPlot.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScatterPlot.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ScatterPlot.vue?vue&type=template&id=31750de6&scoped=true&\"\nimport script from \"./ScatterPlot.vue?vue&type=script&lang=ts&\"\nexport * from \"./ScatterPlot.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ScatterPlot.vue?vue&type=style&index=0&id=31750de6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31750de6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelHeader,VExpansionPanels,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"Focus Item\")])],1)]),_c('v-expansion-panel-content',[_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"all-instance\",\"color\":_vm.subset === 'all' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.allInstance}},[_vm._v(\"All\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"first-instance\",\"color\":_vm.subset === 'first' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.firstInstance}},[_vm._v(\"Selection 1\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"second-instance\",\"color\":_vm.subset === 'second' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.secondInstance}},[_vm._v(\"Selection 2\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"intersection-instance\",\"color\":_vm.subset === 'intersection' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.intersectionInstance}},[_vm._v(\"Intersection\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"union-instance\",\"color\":_vm.subset === 'union' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.unionInstance}},[_vm._v(\"Union\")]),_c('v-btn',{staticClass:\"button-panel\",attrs:{\"id\":\"complement-instance\",\"color\":_vm.subset === 'complement' ? 'primary' : 'firstColor',\"small\":\"\"},on:{\"click\":_vm.complementInstance}},[_vm._v(\"Complement of 1 Union 2\")])],1)],1)],1),_c('v-list',{attrs:{\"id\":\"item-container\"}},[_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.prevInstance(_vm.instances)}}},[_vm._v(\"Previous\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.nextInstance(_vm.instances)}}},[_vm._v(\"Next\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.randInstance(_vm.instances)}}},[_vm._v(\"Random\")]),_c('v-btn',{staticClass:\"button-nav emphasize-btn\",attrs:{\"color\":\"warning\",\"small\":\"\"},on:{\"click\":_vm.emphasize}},[_vm._v(\"Emphasize\")]),(_vm.focus(_vm.instances).features.image)?_c('v-img',{attrs:{\"src\":_vm.focus(_vm.instances).features.image}}):_vm._e(),_vm._l((_vm.focus(_vm.instances)),function(value,name){return _c('v-list-item',{key:value.id,attrs:{\"id\":\"v-for-object\"}},[_c('v-list-item-content',[_c('v-list-item-subtitle',[_vm._v(_vm._s(name))]),(typeof value === 'object')?_vm._l((value),function(v,n){return _c('v-list',{key:n,attrs:{\"id\":\"v-for-object\"}},[(n && v)?[_vm._v(_vm._s(n)+\": \"+_vm._s(v))]:_vm._e(),[_vm._v(_vm._s(n)+\": \"+_vm._s(v))]],2)}):[_vm._v(_vm._s(value))]],2)],1)}),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.prevInstance(_vm.instances)}}},[_vm._v(\"Previous\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.nextInstance(_vm.instances)}}},[_vm._v(\"Next\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":function($event){return _vm.randInstance(_vm.instances)}}},[_vm._v(\"Random\")]),_c('v-btn',{staticClass:\"button-nav\",attrs:{\"small\":\"\"},on:{\"click\":_vm.emphasize}},[_vm._v(\"Emphasize\")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { colors } from \"../../theme\";\nimport {\n  Instance,\n  InstanceWithId,\n  SelectionRecord,\n  BoxProps,\n} from \"../../types\";\nimport { instanceById } from \"../../utils\";\nimport Vue from \"vue\";\nimport { mapActions } from \"vuex\";\nimport { isConstraintComplete } from \"../constraints/utils\";\ninterface Header {\n  text: string;\n  value: string;\n}\nexport default Vue.extend({\n  name: \"InstanceList\",\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      panel: [],\n      sortby: [],\n      sortBySel: \"\" as \"\" | \"first\" | \"second\" | \"common\",\n      descending: false,\n      show_predictions: true,\n      show_features: true,\n      string_length: 7,\n      currentIndex: 0,\n      subset: \"all\",\n    };\n  },\n  mounted() {\n    this.$store.dispatch(\"setFocusItem\", this.instances[this.currentIndex].id);\n    this.$store.dispatch(\"changeFocusSet\", this.subset);\n  },\n  computed: {\n    instances(): InstanceWithId[] {\n      let instances: InstanceWithId[] = [];\n      this.$store.getters.filteredInstances.forEach((id: string) => {\n        const i = instanceById(id);\n        const instance: InstanceWithId = {\n          id,\n          ...i,\n        };\n        instances.push(instance);\n      });\n      // get subset depending on the button clicked\n      const { first, second } = this.selections;\n      if (this.subset !== \"all\") {\n        let selection = [];\n        if (this.subset === \"first\") {\n          if (first)\n            for (const id of first.instances)\n              selection.push(instances.find((x) => x.id === id));\n          else {\n            this.currentIndex = -1;\n            alert(\"no selection\");\n          }\n        } else if (this.subset === \"second\") {\n          if (second)\n            for (const id of second.instances)\n              selection.push(instances.find((x) => x.id === id));\n          else {\n            this.currentIndex = -1;\n            alert(\"no second set of selection\");\n          }\n        } else if (first && second) {\n          if (this.subset === \"intersection\") {\n            for (const id of first.instances) {\n              if (second.instances.has(id)) {\n                selection.push(instances.find((x) => x.id === id));\n              }\n            }\n          } else if (this.subset === \"union\") {\n            for (const id of first.instances)\n              selection.push(instances.find((x) => x.id === id));\n            for (const id of second.instances)\n              if (!first.instances.has(id))\n                selection.push(instances.find((x) => x.id === id));\n          } else if (this.subset === \"complement\") {\n            for (const instance of instances) {\n              if (\n                !first.instances.has(instance.id) &&\n                !second.instances.has(instance.id)\n              )\n                selection.push(instance);\n            }\n          }\n        } else {\n          this.currentIndex = -1;\n          alert(\"two selected sets are required to perform this action\");\n        }\n        return selection;\n      }\n      return instances;\n    },\n    selections(): {\n      first: SelectionRecord | null;\n      second: SelectionRecord | null;\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    focusItemId(): String{return  this.$store.state.focusItemId},\n  },\n  watch: {\n    currentIndex() {\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.currentIndex < 0 ? null : this.instances[this.currentIndex].id\n      );\n    },\n    selections() {\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.currentIndex < 0 ? null : this.instances[this.currentIndex].id\n      );\n    },\n    onClose() {\n      console.log(\"focus closed\");\n    },\n    focusItemId(){\n      this.currentIndex = this.idToIndex(this.instances,this.$store.state.focusItemId)\n      console.log('setFocus to:', this.$store.state.focusItemId)\n      console.log('idToIndex:', this.idToIndex(this.instances,this.$store.state.focusItemId))\n    },\n  },\n  methods: {\n    /*\n      Focus object getter\n    */\n    focus(instances) {\n      const instance = instances[this.currentIndex]\n      let essentials = {\n        features: instance.features,\n        id: instance.id, \n        actual: instance.actual, \n        predictions: instance.predictions\n      }\n      if(instance.continuous_predictions)\n        essentials[\"continuous_predictions\"] = instance.continuous_predictions\n      \n      for (const key in essentials) {\n        if (Object.prototype.hasOwnProperty.call(essentials, key)) {\n          if(essentials[key][\"\"])\n            delete essentials[key][\"\"]\n        }\n      }\n      return essentials;\n      return instances[this.currentIndex];\n    },\n    idToIndex(instances, id) {\n      for(let i = 0; i < instances.length; i++){\n        if(instances[i].id === id) {\n          return i\n          }\n      }\n      return -1\n    },\n    /*\n      Navigation button handlers.\n    */\n    prevInstance(instances) {\n      if (this.currentIndex > 0) this.currentIndex--;\n      else this.currentIndex = instances.length - 1;\n    },\n    nextInstance(instances) {\n      if (this.currentIndex < instances.length - 1) this.currentIndex++;\n      else this.currentIndex = 0;\n    },\n    randInstance(instances) {\n      this.currentIndex = Math.floor(Math.random() * instances.length);\n    },\n    /*\n      Expanded panel button handlers.\n      Handles subset selection.\n    */\n    allInstance() {\n      this.currentIndex = 0;\n      this.subset = \"all\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    firstInstance() {\n      this.currentIndex = 0;\n      this.subset = \"first\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    secondInstance() {\n      this.currentIndex = 0;\n      this.subset = \"second\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    intersectionInstance() {\n      this.currentIndex = 0;\n      this.subset = \"intersection\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    unionInstance() {\n      this.currentIndex = 0;\n      this.subset = \"union\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    complementInstance() {\n      this.currentIndex = 0;\n      this.subset = \"complement\";\n      this.$store.dispatch(\"changeFocusSet\", this.subset);\n      this.$store.dispatch(\n        \"setFocusItem\",\n        this.instances[this.currentIndex].id\n      );\n    },\n    emphasize() {\n      this.$store.dispatch(\"emphasizeFocus\");\n      \n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FocusItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FocusItem.vue?vue&type=template&id=15d9b217&scoped=true&\"\nimport script from \"./FocusItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./FocusItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FocusItem.vue?vue&type=style&index=0&id=15d9b217&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15d9b217\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VImg,VList,VListItem,VListItemContent,VListItemSubtitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('v-expansion-panels',{model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_c('div',{staticClass:\"handle\",staticStyle:{\"font-size\":\"20px\"}},[_c('v-icon',{staticStyle:{\"margin-right\":\"10px\"},on:{\"click\":_vm.onClose}},[_vm._v(\"close\")]),_c('span',[_vm._v(\"(Trinary) Rejected Curve\")])],1)]),_c('v-expansion-panel-content',[_c('v-radio-group',{attrs:{\"label\":\"Evaluation method\"},model:{value:(_vm.evaluationKeys),callback:function ($$v) {_vm.evaluationKeys=$$v},expression:\"evaluationKeys\"}},[_c('v-radio',{attrs:{\"label\":\"conditional accuracy\",\"value\":\"c_accuracy\"}}),_c('v-radio',{attrs:{\"label\":\"accuracy\",\"value\":\"accuracy\"}}),_c('v-radio',{attrs:{\"id\":\"mcc\",\"label\":\"mcc\",\"value\":\"mcc\"}}),_c('v-radio',{attrs:{\"label\":\"f1\",\"value\":\"f1\"}}),_c('v-radio',{attrs:{\"label\":\"precision\",\"value\":\"precision\"}}),_c('v-radio',{attrs:{\"label\":\"recall\",\"value\":\"recall\"}})],1),_c('v-radio-group',{attrs:{\"label\":\"Selection Mode\"},model:{value:(_vm.selection_mode),callback:function ($$v) {_vm.selection_mode=$$v},expression:\"selection_mode\"}},[_c('v-radio',{attrs:{\"label\":\"overall curve \",\"value\":\"overall\"}}),_c('v-radio',{attrs:{\"label\":\"selection curve\",\"value\":\"selected\"}})],1)],1)],1)],1),_c('multiselect',{attrs:{\"options\":_vm.options,\"multiple\":true,\"close-on-select\":false,\"clear-on-select\":false,\"preserve-search\":true,\"placeholder\":\"Pick sets\",\"label\":\"name\",\"track-by\":\"name\",\"preselect-first\":true},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar values = ref.values;\nvar isOpen = ref.isOpen;\nreturn [(values.length && !isOpen)?_c('span',{staticClass:\"multiselect__single\"},[_vm._v(\" \"+_vm._s(values.length)+\" options selected \")]):_vm._e()]}}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{ref:\"svg\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport * as d3 from 'd3';\n\nimport {\n  BoxProps,\n  Instance,\n  SelectionRecord,\n} from '../../types';\nimport {\n  instanceById,\n  intersection,\n  union,\n} from '../../utils';\nimport { PredicateSimple, Rule } from '../constraints/types';\nimport { blankConstraint } from '../constraints/utils';\nimport { range, selection } from 'd3';\n\nexport default Vue.extend({\n  name: 'Rejected_Curve',\n  props: {\n    boxProps: {\n      type: Object as () => BoxProps,\n      required: true,\n    },\n    onClose: {\n      type: Function,\n      required: true,\n    },\n  },\n  data() {\n    const margin = {top: 150, right: 20, bottom: 90, left: 120};\n    const width = 1000 - margin.left - margin.right;\n    const height = 600 - margin.top - margin.bottom;\n    const hover = {\n      info: '',\n      idx: '',\n      line_idx: ''\n    };\n    const click = {\n      classifier: '',\n      left_range: '',\n      right_range: ''\n    };\n    const lineHover = {\n      info: '',\n      line_idx: ''\n    };\n    const evaluationKeys = 'c_accuracy' as 'mcc'| 'f1' | 'precision'| 'recall'| 'accuracy' | 'c_accuracy'\n\n    const bandwidthHover = {\n      bandwidth: '',\n    }\n    const barHover  = {\n      threshold: '',\n    }\n    const accHover  = {\n      threshold: '',\n    }\n    const currentThresholds = {\n      threshold: '',\n    }\n    const selection_mode = 'overall' as 'overall' | 'selected'\n\n    const curveClassifier = [...this.boxProps.classifiers][3];\n    const upperColors = [\"rgb(37,102,118)\", \"rgb(138,225,249)\"]\n    const lowerColors = [\"rgb(181,29,73)\", \"rgb(251,137,155)\"]\n    const middleColors = [\"rgb(64,57,150)\",\"rgb(119,136,153)\"]\n\n\n    return {\n      selectedPred: {},\n      classifierBuckets: {},\n      selection_mode,\n      leftRate: 0,\n      rightRate: 1,\n      multilClassifier: 'no',\n      thresholdList: [],\n      currentThresholds,\n      tmp_threshold: 0.50,\n      barHover,\n      evaluationKeys,\n      accHover,\n      bandwidthHover,\n      leftThreshold: 0.00,\n      rightThreshold: 1.00,\n      streamData: {},\n      value: [],\n      height,\n      hover,\n      click,\n      lineHover,\n      margin,\n      panel: [],\n      rightColor: '#d1e5f0',\n      rightHoverColor: '#4393c3',\n      selection1Color: '#18FFFF',\n      selection2Color: '#FF4081',\n      width,\n      wrongColor: '#fddbc7',\n      wrongHoverColor: '#d6604d',\n      classNumber:[...this.boxProps.classes].length,\n      curveClassifier,\n      numberOfBins: 0.50,\n      thresholdRangeRecords:{},\n      upperColors,\n      middleColors,\n      lowerColors,\n    };\n  },\n  computed: {\n    thresholds():string[] {\n      let threshold = 0.00\n      let interval = 0.02\n      let thresholds = []\n      while (threshold <= 1){\n        thresholds.push(threshold.toFixed(2))\n        threshold += interval\n      }\n      return thresholds\n    },\n\n    instances(): string[] {\n      return [...this.boxProps.instances];\n    },\n    options(): any[] {\n      let options = []\n      const classifiers = this.classifiers\n      classifiers.forEach((c)=>{\n        options.push({name: c});\n      })\n      return options\n    },\n    classifierThresholds():{} {\n      return this.$store.state.classifierThresholdDict;\n    },\n    classifierBandWidthDict(): string[] {\n      return this.boxProps.classifierBandWidthDict;\n    },\n    classes(): string[] {\n      this.classNumber = [...this.boxProps.classes].length\n      return [...this.boxProps.classes];\n    },\n    classifiers(): string[] {\n      const allClassifiers = [...this.boxProps.classifiers];  \n      const dummyClassifiers = [\n        'Oracle',\n        'Majority Classifier',\n        'Random Classifier',\n      ];\n      return allClassifiers.filter((c) => !dummyClassifiers.includes(c));\n    },\n    thresholdClassifierNameList():string[] {\n      return this.$store.state.thresholdClassifierNameList\n    },\n    features(): string[] {\n      return [...this.boxProps.features];\n    },\n    predictionKeys(): string[] {\n      const predictionKeys = this.classifiers.slice();\n      return predictionKeys;\n    },\n    continuousPredictionKeys():string[]{\n      if (this.$store.state.datasetType == \"continuous\") {\n        var continuousPredictionKeys = []\n        this.predictionKeys.forEach((c)=>{\n          continuousPredictionKeys.push(c+\"_\"+this.$store.state.classifierThresholdDict[c]/100)\n        })\n        return continuousPredictionKeys\n      } else {\n        return this.predictionKeys;\n      }\n    },\n    continuousClassifierName():{} {\n      var continuousClassifierName = {}\n      this.classifiers.forEach((c)=>{\n        if (this.$store.state.datasetType == \"continuous\") {\n          continuousClassifierName[c] = c + \"_\" + this.$store.state.classifierThresholdDict[c]/100\n        } else {\n          continuousClassifierName[c] = c;\n        }\n      })\n      return continuousClassifierName;\n    },\n    thresholdRange(): {\n      [classifier: string]: {\n        name: String,\n        threshold: Number,\n        left_range: Number,\n        right_range: Number,\n      },\n    }{\n      const thresholdRange: {\n        [classifier: string]: {\n          name: String,\n          threshold: Number,\n          left_range: Number,\n          right_range: Number,\n        },\n      } = {};\n      this.classifiers.forEach((c) => {\n        let cur_acc = 0\n        thresholdRange[this.continuousClassifierName[c]] = {\n          name:c,\n          threshold: Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] : 0,\n          left_range:  Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] / 100 - 0.05 : 0,\n          right_range:  Object.keys( this.classifierThresholds).includes(c)? this.classifierThresholds[c] / 100 + 0.05: 0,\n        };\n      });\n      return thresholdRange\n    },\n    predictions(): {} {\n      let interval = 0.02\n      let diff_interval  = 0.02\n\n      let classifierBuckets = {}\n      let predictions = {}\n      \n\n      this.classifiers.forEach((c)=>{\n        let buckets = {}\n        let begin = 0.00\n        while (begin < 1) {\n          let tmp_key = begin.toFixed(2) + '-' + (begin+interval).toFixed(2)\n          buckets[tmp_key] = []\n          begin += interval\n        }\n        this.instances.forEach((id)=>{\n          let continuous_value = (instanceById(id).continuous_predictions[c])\n          let bucket_idx = Math.floor(continuous_value * 100 / 2)\n          let tmp_key = ((bucket_idx) * interval).toFixed(2) + '-' + ((bucket_idx+1) * interval).toFixed(2)\n          if (bucket_idx == 50) {\n            tmp_key = '0.98-1.00'\n          }\n          if (!((parseFloat(continuous_value) - (bucket_idx * interval)) > 0) && bucket_idx != 0) {\n            tmp_key = ((bucket_idx-1) * interval).toFixed(2) + '-' + ((bucket_idx ) * interval).toFixed(2)\n          }\n          buckets[tmp_key].push({'id':id, 'value':parseFloat(continuous_value).toFixed(3)})\n        })\n        classifierBuckets[c] = buckets\n      })\n\n      this.classifierBuckets = classifierBuckets;\n\n\n      const calcuate_res = (c, cur_threshold, left_edge, right_edge) =>{\n        let res = {\n          'left_edge': left_edge.toFixed(2),\n          'right_edge': right_edge.toFixed(2),\n          'rejec_rate':0,\n          'c_acc':0,\n          'acc':0,\n          'recall':0,\n          'precision':0,\n          'mcc':0,\n          'f1':0,\n          'm_tp':0,\n          'm_tn':0,\n          'm_fn':0,\n          'm_fp':0,\n          'm':0,\n          'tp':0,\n          'tn':0,\n          'fp':0,\n          'fn':0,\n          'tp_instances':[],\n          'm_tp_instances':[],\n          'totoal':0\n        }\n        this.instances.forEach((id)=>{\n          let continuous_value = (instanceById(id).continuous_predictions[c])\n          res['totoal'] += 1\n          if (continuous_value > left_edge && continuous_value < right_edge) {\n              res['m'] += 1\n              if (instanceById(id).actual == this.classes[1]) {\n                if (continuous_value >= cur_threshold) {\n                  res['m_tp'] += 1\n                  res['m_tp_instances'].push({'id':id, 'value':continuous_value})\n                } else {\n                  res['m_fn'] += 1\n                }\n              } else {\n                if (continuous_value < cur_threshold) {\n                  res['m_tn'] += 1\n                } else {\n                  res['m_fp'] += 1\n                }\n              }\n          } else if (continuous_value >= right_edge){\n            if (instanceById(id).actual == this.classes[1]){\n              res[\"tp\"] += 1\n              res['tp_instances'].push({'id':id, 'value':continuous_value})\n            } else {\n              res[\"fp\"] += 1\n            }\n          } else{\n            if (instanceById(id).actual == this.classes[0]) {\n              res[\"tn\"] += 1\n            } else {\n              res[\"fn\"] += 1\n            }\n          }\n        })\n        res['rejec_rate'] = res['m'] / res['totoal']\n        res['c_acc'] =(res['totoal'] - res['m']) == 0? 1 : (res['tp'] + res['tn']) / (res['totoal'] - res['m'])\n        res['acc'] = (res['tp'] + res['tn']) / res['totoal']\n        res['precision'] =  (( res['tp']  +  res['fp']) == 0? 0:(res['tp']) / ( res['tp']  +  res['fp']))\n        res['recall'] = (( res['tp']  +  res['fn']) == 0 ? 0:(res['tp']) / ( res['tp']  +  res['fn']))\n        res['f1']  = (res['recall'] + res['precision']) ==0 ? 0: (2*res['recall']*res['precision']) / (res['recall'] + res['precision'])\n        if (res['rejec_rate'] == 1) {\n          res['mcc'] = 1\n        } else {\n          if ((Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn))) == 0) {\n            res['mcc'] = 0;\n          } else {\n            res['mcc'] = res['rejec_rate'] == 1? 1:((res.tp*res.tn-res.fp*res.fn) / Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn)))\n          }\n        }\n        \n        return res\n      }\n\n      const get_res = (c, threshold, left_edge, right_edge, last_res) =>{\n        if (parseFloat(left_edge.toFixed(2)) == parseFloat(right_edge.toFixed(2))) {\n          let res = calcuate_res(c, threshold, left_edge, right_edge)\n          return res\n        }\n        let res = {\n          'left_edge': parseFloat(left_edge.toFixed(2)),\n          'right_edge': parseFloat(right_edge.toFixed(2)),\n          'rejec_rate':0,\n          'c_acc':0,\n          'acc':0,\n          'recall':0,\n          'precision':0,\n          'mcc':0,\n          'f1':0,\n          'm_tp':last_res.m_tp,\n          'm_tn':last_res.m_tn,\n          'm_fn':last_res.m_fn,\n          'm_fp':last_res.m_fp,\n          'm':last_res.m,\n          'tp':last_res.tp,\n          'tn':last_res.tn,\n          'fp':last_res.fp,\n          'fn':last_res.fn,\n          'totoal':last_res.totoal\n        }\n        // left side\n        let tmp_left_key = (Math.abs(left_edge).toFixed(2)) + '-' + (parseFloat(last_res['left_edge'].toString()).toFixed(2))\n        let tmp_left_next_key = tmp_left_key\n        if (parseFloat(Math.abs(left_edge).toFixed(2)) > 0) {\n          tmp_left_next_key = (Math.abs(left_edge-0.02).toFixed(2)) + '-'+ (Math.abs(left_edge).toFixed(2))\n        }\n        let left_instances = [...classifierBuckets[c][tmp_left_key],classifierBuckets[c][tmp_left_next_key]]\n        let tmp_right_key = (parseFloat(last_res['right_edge'].toString()).toFixed(2)) + '-' + right_edge.toFixed(2)\n        let tmp_right_before_key = tmp_right_key\n        if (parseFloat(Math.abs(last_res['right_edge']).toFixed(2)) > 0) {\n          tmp_right_before_key =(parseFloat((last_res['right_edge']-0.02).toString()).toFixed(2)) + '-' + (parseFloat(last_res['right_edge'].toString()).toFixed(2)) \n        }\n        \n        let right_instances = [...classifierBuckets[c][tmp_right_key],...classifierBuckets[c][tmp_right_before_key]]\n\n        left_instances.forEach((id)=>{\n          if (res.left_edge > 0) {\n            if (parseFloat(id.value) > res.left_edge && parseFloat(id.value) <= last_res.left_edge) {\n              \n              if(instanceById(id.id).actual == this.classes[1]) {\n                if (res['fn'] > 0) {\n                  res['fn'] -= 1\n                  res['m_fn'] += 1\n                  res['m'] += 1\n                }\n              } else {\n                if (res['tn'] > 0) {\n                  res['tn'] -=1\n                  res['m_tn'] += 1\n                  res['m'] += 1\n                }\n              }\n            }\n          } else {\n            if (parseFloat(id.value) >= res.left_edge && parseFloat(id.value) <= last_res.left_edge) {\n              if(instanceById(id.id).actual == this.classes[1]) {\n                if (res['fn'] > 0) {\n                  res['fn'] -= 1\n                  res['m_fn'] += 1\n                  res['m'] += 1\n                }\n              } else {\n                if (res['tn'] > 0) {\n                  res['tn'] -=1\n                  res['m_tn'] += 1\n                  res['m'] += 1\n                }\n              }\n            }\n          }\n          \n          \n        })\n        right_instances.forEach((id)=>{\n          if(res.right_edge < 1) {\n            if (parseFloat(id.value) > last_res.right_edge && parseFloat(id.value) <= res.right_edge){   \n              if(instanceById(id.id).actual == this.classes[1]) {\n                if (res['tp'] > 0) {\n                  res['tp'] -= 1\n                  res['m_tp'] += 1\n                  res['m'] += 1       \n                } \n              } else {\n                if (res['fp']>0) {\n                  res['fp'] -=1\n                  res['m_fp'] += 1\n                  res['m'] += 1         \n                }\n              }\n            }\n          } else {\n            if (parseFloat(id.value) >= last_res.right_edge && parseFloat(id.value) <= res.right_edge){\n                \n              if(instanceById(id.id).actual == this.classes[1]) {\n                if (res['tp']>0) {\n                  res['tp'] -= 1\n                  res['m_tp'] += 1\n                  res['m'] += 1         \n                }\n                  \n              } else {\n                if (res['fp']>0) {\n                  res['fp'] -=1\n                  res['m_fp'] += 1\n                  res['m'] += 1         \n                }\n              }\n            }\n          }\n          \n        }) \n\n        res['rejec_rate'] = res['m'] / res['totoal']\n        res['c_acc'] =(res['totoal'] - res['m']) == 0? 1 : (res['tp'] + res['tn']) / (res['totoal'] - res['m'])\n        res['acc'] = (res['tp'] + res['tn']) / res['totoal']\n        res['precision'] =  res['rejec_rate'] == 1?1:(( res['tp']  +  res['fp']) != 0? (res['tp']) / ( res['tp']  +  res['fp']) : res['tp'] > 0? 1:0)\n        res['recall'] = res['rejec_rate'] == 1? 1:(( res['tp']  +  res['fn']) != 0 ? (res['tp']) / ( res['tp']  +  res['fn']) : res['tp'] > 0? 1 :0)\n        res['f1']  = (res['recall'] + res['precision']) ==0 ? 0: (2*res['recall']*res['precision']) / (res['recall'] + res['precision'])\n        if (res['rejec_rate'] == 1) {\n          res['mcc']  = 1\n        } else {\n          if ((Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn))) == 0 ) {\n            res['mcc'] = 0;\n          } else {\n            res['mcc'] =  ((res.tp*res.tn-res.fp*res.fn) / Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn)))\n          }\n        }\n        \n        return res\n      }\n\n      let new_predictions = {}\n      this.classifiers.forEach((c)=>{\n        new_predictions[c] = {}\n        let threshold = 0.00\n        while (threshold <= 1) {\n          new_predictions[c][threshold.toFixed(2)] = []\n          let left_diff = threshold\n          let right_diff = threshold\n          let last_res = {}\n          while (parseFloat(left_diff.toFixed(2)) >=0 && parseFloat(right_diff.toFixed(2)) <= 1) {\n            let tmp_res = get_res(c, threshold, left_diff, right_diff, last_res)\n            new_predictions[c][threshold.toFixed(2)].push(tmp_res)\n            right_diff += diff_interval\n            left_diff -= diff_interval\n            last_res = tmp_res\n          }\n          threshold += interval\n        }\n      })\n\n   \n      return new_predictions\n    },\n    selections(): {\n      first: SelectionRecord | null,\n      second: SelectionRecord | null,\n    } {\n      return this.$store.state.overlapSelections;\n    },\n    x(): d3.ScaleBand<string> {\n      const x = d3.scaleBand<string>()\n        .domain(this.continuousPredictionKeys)\n        .range([0, this.width*0.8])\n        .paddingOuter(1)\n        .paddingInner(0.3);\n      return x;\n    },\n    y(): d3.ScaleLinear<number, number> {\n      const y = d3.scaleLinear()\n        .domain([0, 1])\n        .range([this.height, 0]);\n      return y;\n    },\n    xScale(): d3.ScaleLinear<number, number> {\n      const xScale = d3.scaleLinear()\n          .domain([0, 200])\n          .range([0, 200])\n          .clamp(true);\n      return xScale;      \n    },\n    saveStatus() {\n      return this.$store.state.saveStatus;\n    },\n    resumeStatus() {\n      return this.$store.state.resumeStatus\n    },\n  },\n  watch: {\n    resumeStatus() {\n      let viewsConfig = this.$store.state.viewsConfig;\n      viewsConfig.forEach((view)=>{\n        if (view.name == 'Rejected_Curve') {\n          if (view.config) {\n            let value  = view.config;\n            this.value = []\n            value.classifiers.forEach((c)=>{\n              if (this.classifiers.includes(c)) {\n                this.value.push({'name':c})\n              }\n            })\n            this.selection_mode = value.selection\n            this.evaluationKeys = value.evaluation\n          }\n        }\n      })\n      this.drawWithinInitial();\n    },\n    saveStatus() {\n      let config = {\"name\":\"Rejected_Curve\", \n                    \"config\": {\n                      \"classifiers\":this.value.map((c)=>c.name),\n                      \"selection\":this.selection_mode,\n                      \"evaluation\":this.evaluationKeys}}\n      this.$store.dispatch(\"changedSaveConfig\",config)\n    },\n    click() {\n      this.$store.dispatch(\"changedOuterBandWidth\", this.click)\n    },\n    selection_mode( ) {\n      if (this.selection_mode == 'selected') {\n        this.updateSelectedPred();\n        this.drawSelectionChart();  \n      } else {\n        this.drawStreamChart();\n      }\n    },\n    leftRate() {\n      if (this.selection_mode == 'selected') {\n        this.updateSelectedPred();\n        this.drawSelectionChart();  \n      } else {\n        this.drawStreamChart();\n      }\n    },\n    rightRate() {\n      if (this.selection_mode == 'selected') {\n        this.updateSelectedPred();\n        this.drawSelectionChart();  \n      } else {\n        this.drawStreamChart();\n      }\n    },\n    classifierThresholds() {\n      if (this.multilClassifier == 'yes') {\n        this.drawStreamChart();\n      }\n    },\n    currentThresholds() {\n      this.thresholdList.push(this.currentThresholds.threshold)\n    },\n    thresholdList() {\n      this.drawStreamChart()\n    },\n    evaluationKeys() { \n      if (this.selection_mode == 'selected') {\n        this.updateSelectedPred();\n        this.drawSelectionChart();  \n      } else {\n        this.drawStreamChart();\n      }\n    },\n    value() {\n      if (this.value.length > 1) {\n        this.multilClassifier = 'yes'\n      } else {\n        this.multilClassifier = 'no'\n      }\n      this.selection_mode = 'overall'\n      this.drawWithinInitial();\n      this.drawStreamChart();\n    },\n    hover() { \n      this.drawHover();\n    },\n    lineHover() {\n      this.drawLineHover();\n    },\n    numberOfBins() {\n      this.selection_mode = 'overall'\n      this.updatenumberOfBins();\n    },\n    tmp_threshold() {\n      this.drawStreamChart();\n    },\n    instances() {\n      this.drawWithinInitial();\n      if (this.selection_mode == 'selected') {\n        this.updateSelectedPred();\n        this.drawSelectionChart();  \n      } else {\n        this.drawStreamChart();\n      }\n    },\n\n  },\n  mounted() {\n    let viewsConfig = this.$store.state.viewsConfig;\n    viewsConfig.forEach((view)=>{\n      if (view.name == 'Rejected_Curve') {\n        if (view.config) {\n          let value  = view.config;\n          this.value = []\n          value.classifiers.forEach((c)=>{\n            if (this.classifiers.includes(c)) {\n              this.value.push({'name':c})\n            }\n          })\n          this.selection_mode = value.selection\n          this.evaluationKeys = value.evaluation\n        }\n      }\n    })\n    this.drawWithinInitial();\n  },\n  methods: {\n    clearHover() { \n      this.hover = ({'info':'', 'idx':'', 'line_idx': ''});\n    },\n    updateSelectedPred() {\n      let interval = 0.02\n      let diff_interval  = 0.02\n\n      let classifierBuckets = this.classifierBuckets\n      let predictions = {}\n      let selectedClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n\n\n      const calcuate_res = (c, cur_threshold, left_edge, right_edge, instances) =>{\n        let res = {\n          'left_edge': left_edge.toFixed(2),\n          'right_edge': right_edge.toFixed(2),\n          'rejec_rate':0,\n          'c_acc':0,\n          'acc':0,\n          'recall':0,\n          'precision':0,\n          'mcc':0,\n          'f1':0,\n          'm_tp':0,\n          'm_tn':0,\n          'm_fn':0,\n          'm_fp':0,\n          'm':0,\n          'tp':0,\n          'tn':0,\n          'fp':0,\n          'fn':0,\n          'tp_instances':[],\n          'm_tp_instances':[],\n          'totoal':0\n        }\n        instances.forEach((id)=>{\n          let continuous_value = (instanceById(id).continuous_predictions[c])\n          res['totoal'] += 1\n          if (continuous_value > left_edge && continuous_value < right_edge) {\n              res['m'] += 1\n              if (instanceById(id).actual == this.classes[1]) {\n                if (continuous_value >= cur_threshold) {\n                  res['m_tp'] += 1\n                  res['m_tp_instances'].push({'id':id, 'value':continuous_value})\n                } else {\n                  res['m_fn'] += 1\n                }\n              } else {\n                if (continuous_value < cur_threshold) {\n                  res['m_tn'] += 1\n                } else {\n                  res['m_fp'] += 1\n                }\n              }\n          } else if (continuous_value >= right_edge){\n            if (instanceById(id).actual == this.classes[1]){\n              res[\"tp\"] += 1\n              res['tp_instances'].push({'id':id, 'value':continuous_value})\n            } else {\n              res[\"fp\"] += 1\n            }\n          } else{\n            if (instanceById(id).actual == this.classes[0]) {\n              res[\"tn\"] += 1\n            } else {\n              res[\"fn\"] += 1\n            }\n          }\n        })\n        res['rejec_rate'] = res['m'] / res['totoal']\n        res['c_acc'] =(res['totoal'] - res['m']) == 0? 1 : (res['tp'] + res['tn']) / (res['totoal'] - res['m'])\n        res['acc'] = (res['tp'] + res['tn']) / res['totoal']\n        res['precision'] =  (( res['tp']  +  res['fp']) == 0? 0:(res['tp']) / ( res['tp']  +  res['fp']))\n        res['recall'] = (( res['tp']  +  res['fn']) == 0 ? 0:(res['tp']) / ( res['tp']  +  res['fn']))\n        res['f1']  = (res['recall'] + res['precision']) ==0 ? 0: (2*res['recall']*res['precision']) / (res['recall'] + res['precision'])\n        if (res['rejec_rate'] == 1) {\n          res['mcc'] = 1\n        } else {\n          if ((Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn))) == 0) {\n            res['mcc'] = 0;\n          } else {\n            res['mcc'] = res['rejec_rate'] == 1? 1:((res.tp*res.tn-res.fp*res.fn) / Math.sqrt((res.tp + res.fp) * (res.tp + res.fn) * (res.tn + res.fp) * (res.tn + res.fn)))\n          }\n        }\n        return res\n      }\n\n      let c = selectedClassifier\n      const {first, second} = this.selections;\n      let selectionList = [[...first.instances], [...second.instances]]\n      \n      let threshold = 0.00\n      selectionList.forEach((tmp_selection, idx)=>{\n        predictions[idx] = {}\n        threshold = 0.00\n        while (threshold <= 1) {\n          predictions[idx][threshold.toFixed(2)] = []\n          let left_diff = threshold\n          let right_diff = threshold\n          while (parseFloat(left_diff.toFixed(2)) >=0 && parseFloat(right_diff.toFixed(2)) <= 1) {\n            let tmp_res = calcuate_res(c, threshold, left_diff, right_diff, tmp_selection)\n            predictions[idx][threshold.toFixed(2)].push(tmp_res)\n            right_diff += diff_interval\n            left_diff -= diff_interval\n          }\n          threshold += interval\n        }\n      })\n\n      this.selectedPred = predictions\n      \n      \n    },\n    updatenumberOfBins() {\n      const chart = d3.select(this.$refs.svg);\n      const svg_curve = chart.select(\".svg-curve\")\n      const thresholdBin = chart.select('.slider-threshold-bin').attr('transform', 'translate(' + this.xScale((this.numberOfBins * 20)*(200/20)) + ', -7.5)') \n\n      if (this.thresholds.includes((parseFloat(this.numberOfBins)).toFixed(2))) {\n        const thresholdBinText = chart.select('.bin-text').text(\"Threshold: \" + this.numberOfBins)\n        this.tmp_threshold = (parseFloat(this.numberOfBins)).toFixed(2)\n      }\n    },\n\n    drawLineHover() {\n      const chart = d3.select(this.$refs.svg);\n      const classifier = this.value[0].name\n\n      let tmp_thresholdList = []\n      this.thresholdList.forEach((t)=>{\n        tmp_thresholdList.push(t)\n      })\n      tmp_thresholdList.push(this.tmp_threshold)\n\n\n      if (this.lineHover.line_idx) {\n        tmp_thresholdList.forEach((t,idx)=>{\n          if (idx!=this.lineHover.line_idx) {\n            let predictions = this.predictions[classifier][parseFloat(t).toFixed(2)]\n            chart.select('.line-threshold-'+idx).attr('opacity',0.2)\n            chart.select('.text-threshold-'+idx).attr('opacity',0.2)\n            predictions.forEach((c,i)=>{\n              chart.select(\".dot-\"+idx+'-'+i).attr('opacity',0.2)\n            })\n\n          }\n        })        \n      } else {\n        tmp_thresholdList.forEach((t,idx)=>{\n          let predictions = this.predictions[classifier][parseFloat(t).toFixed(2)]\n          chart.select('.line-threshold-'+idx).attr('opacity',1)\n          chart.select('.text-threshold-'+idx).attr('opacity',1)\n          predictions.forEach((c,i)=>{\n              chart.select(\".dot-\"+idx+'-'+i).attr('opacity',1)\n          })\n        })     \n      }\n\n    },\n    drawHover() {\n      // @ts-ignore\n      const chart = d3.select(this.$refs.svg);\n      if (this.hover.info) {\n        chart.select('.hover-box').attr('visibility','visible')\n        chart.select('.hover-left').attr('visibility','visible').text('Left bound: '+ this.hover.info.left_edge)\n        chart.select('.hover-right').attr('visibility','visible').text('Right bound: '+ this.hover.info.right_edge)\n        chart.select('.hover-rej').attr('visibility','visible').text('Rej rate: '+ this.hover.info.rejec_rate.toFixed(3))\n        chart.select('.hover-acc').attr('visibility','visible')\n            .text(this.evaluationKeys == 'c_accuracy'?'Acc(Conditional): '+ this.hover.info.c_acc.toFixed(3)\n                 : this.evaluationKeys == 'acc'?'Acc: '+ this.hover.info.acc.toFixed(3)\n                 : this.evaluationKeys == 'precision'?'Precision: '+ this.hover.info.precision.toFixed(3) \n                 : this.evaluationKeys == 'recall'?'Recall: '+ this.hover.info.recall.toFixed(3)\n                 : this.evaluationKeys == 'mcc'?'MCC: '+ this.hover.info.mcc.toFixed(3)\n                 :'F1: '+ this.hover.info.f1.toFixed(3))\n      } else {\n        chart.select('.hover-box').attr('visibility','hidden')\n        chart.select('.hover-left').attr('visibility','hidden')\n        chart.select('.hover-right').attr('visibility','hidden')\n        chart.select('.hover-acc').attr('visibility','hidden')\n        chart.select('.hover-rej').attr('visibility','hidden')\n      }\n    },\n\n    \n    drawWithinInitial() {\n      d3.select(this.$refs.svg).selectAll('*').remove();\n\n      const svgAll = d3.select(this.$refs.svg).append('svg')\n        .attr(\"class\",\"initail_svg\")\n        .attr('width', '100%')\n        .attr('viewBox', `0 0\n          ${(this.width + this.margin.left + this.margin.right)}\n          ${(this.height + this.margin.top + this.margin.bottom)*1.2}`)\n      const svg = svgAll.append('g')\n          .attr('transform', `translate(${0}, ${this.margin.top*1.2})`); \n      const svg_curves = svgAll.append('g')\n          .attr(\"class\",\"svg-curve\")\n          .attr('transform', `translate(${this.margin.left}, ${this.margin.top*1.2})`);  \n\n\n      const legend2 = svg  \n          .append('g')\n            .attr('class', 'legend')\n            .attr('transform', `translate(\n              ${(this.width - this.margin.left)},\n              ${-this.margin.top})`);\n\n      const thresholdBins =  legend2.append(\"g\")\n              .attr(\"transform\",  \"translate(\"+(this.width / 3-200-80)+\",\" + 0 +\")\")\n\n\n      const drawLegend = () => {\n        thresholdBins.append('line')\n            .attr('class', 'track')\n            .style(\"stroke\", \"lightgrey\")\n            .style(\"stroke-opacity\", \"1\")\n            .style(\"stroke-width\", \"6\")\n            .attr('x1', this.xScale.range()[0])\n            .attr('x2', this.xScale.range()[1])\n            .attr('y1', 0)\n            .attr('y2', 0)\n\n        let head1 = thresholdBins.append('rect')\n            .attr('width',20)\n            .attr('height',15)\n            .attr('rx',6)\n            .attr('ry',6) \n            .style('fill', 'steelblue')\n            .style('stroke', 'none')\n            .attr('class','slider-threshold-bin')\n            .attr('transform', 'translate(100,-7.5)')\n            .call(d3.drag()\n              .on('start.interrupt', function () {\n                head1.interrupt();\n              })\n              .on('start drag',  \n              (d:string)=>this.numberOfBins = ((this.xScale.invert(d3.event.x) * (20 / 200) ) / 20).toFixed(2)//\n              ))\n             ;  \n          thresholdBins.append('text')\n            .attr(\"class\",\"bin-text\")\n            .attr(\"transform\",  \"translate(\"+(-100)+\",\" +0 +\")\")\n            .attr('font-size', '24px')\n            .attr('text-anchor', 'middle')\n            .attr('alignment-baseline', 'middle')\n            .text(\"Threshold: \"+this.numberOfBins)   \n\n\n          // add button\n          thresholdBins.append('rect')\n            .attr('width',40)\n            .attr('height',20)\n            .attr('rx',6)\n            .attr('ry',6) \n            .attr(\"fill\",\"#f2f2f2\")\n            .attr(\"stroke\",\"lightgrey\")\n            .attr('class','add-button')\n            .attr('transform', 'translate(210,-7.5)')\n            .on('click', (d,i) => this.currentThresholds =  ({threshold: this.tmp_threshold}));\n          thresholdBins.append('text')\n          .attr(\"class\",\"add-text\")\n          .attr(\"transform\",  \"translate(\"+(230)+\",\" +2 +\")\")\n          .attr('font-size', '18px')\n          .attr('text-anchor', 'middle')\n          .attr('alignment-baseline', 'middle')\n          .text(\"add\")   \n          .attr(\"fill\",\"grey\")\n            .on('click', (d,i) => this.currentThresholds = ({threshold: this.tmp_threshold}));\n            \n        \n      };\n\n      const drawHover = () =>{\n        thresholdBins.append(\"rect\")\n          .attr(\"class\",\"hover-box\")\n          .attr(\"width\",240)\n          .attr(\"height\",100)\n          .attr(\"x\", -this.width + 200)\n          .attr(\"y\", -20)\n          .attr(\"fill\",\"white\")\n          .attr(\"stroke\",\"black\")\n          .attr('visibility', 'hidden')\n        thresholdBins.append(\"text\")\n          .attr(\"class\",\"hover-left\")\n          .attr(\"x\", -this.width + 202)\n          .attr(\"y\", 0)\n          .attr('font-size',20)\n          .text('Left bound')\n          .attr('visibility', 'hidden')\n          \n        thresholdBins.append(\"text\")\n          .attr(\"class\",\"hover-right\")\n          .attr(\"x\", -this.width + 202)\n          .attr(\"y\", 20)\n          .text('Right bound')\n          .attr('font-size',20)\n          .attr('visibility', 'hidden')\n\n\n        thresholdBins.append(\"text\")\n          .attr(\"class\",\"hover-rej\")\n          .attr(\"x\", -this.width + 202)\n          .attr(\"y\", 40)\n          .text('Rej Rate')\n          .attr('font-size',20)\n          .attr('visibility', 'hidden')\n\n\n        thresholdBins.append(\"text\")\n          .attr(\"class\",\"hover-acc\")\n          .attr(\"x\", -this.width + 202)\n          .attr(\"y\", 60)\n          .text('Acc(conditional)')\n          .attr('font-size',20)\n          .attr('visibility', 'hidden')\n\n          \n      }\n\n      drawHover();\n\n     if (this.multilClassifier != 'yes') {\n       drawLegend();\n     } \n      \n    },\n\n    drawStreamChart() {     \n\n      const chart = d3.select(this.$refs.svg);\n      const selectedClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n      \n      const svg_curves = chart.select(\".svg-curve\")\n\n      svg_curves.selectAll('*').remove();\n\n      const instances = this.instances;\n      const thresholds = this.thresholds;\n      const evaluationSelection = this.evaluationKeys;\n\n\n      \n      const evaluationKeys = this.evaluationKeys\n\n      const x = d3.scaleLinear()\n          .domain([this.leftRate, this.rightRate])\n          .range([0, this.width * 0.9]);\n\n      const y = d3.scaleLinear()\n        .domain([evaluationKeys == 'mcc'? -1:0, 1])\n        .range([this.height, 0]);\n\n      const classifier = this.value[0].name\n\n      const sequentialScale = d3.scaleSequential<string>( d3.interpolateCool)\n            .domain([0, (this.thresholdList.length + 1)*2])\n            .interpolator(function (x) { \n              return d3.interpolateCool(0.8*x);} );\n      \n      let tmp_thresholdList = []\n      this.thresholdList.forEach((t)=>{\n        tmp_thresholdList.push(t)\n      })\n      tmp_thresholdList.push(this.tmp_threshold)\n\n\n      const drawCurves = () =>{\n        tmp_thresholdList.forEach((t, idx)=>{\n          let predictions = this.predictions[classifier][parseFloat(t).toFixed(2)]\n          let mappedPredictions = predictions.filter((n)=>n.rejec_rate >= this.leftRate && n.rejec_rate <= this.rightRate)\n          let sortedPredictions = mappedPredictions.sort((n1,n2) => {\n              if ( (n1.rejec_rate ) < (n2.rejec_rate)) {\n                  return 1;\n              }\n\n              if ( (n1.rejec_rate ) > (n2.rejec_rate)) {\n                  return -1;\n              }\n\n              return 0;\n          });    \n          if (evaluationKeys == 'mcc') {\n            sortedPredictions = sortedPredictions.filter((i)=>i.rejec_rate <= 0.8)\n          }\n          function line() {\n                return d3.line()(sortedPredictions.map(function(p,j) { \n                  let y_value = evaluationKeys == 'c_accuracy'? y(p.c_acc) \n                    : evaluationKeys == 'f1'? y(p.f1)\n                    : evaluationKeys == 'precision'? y(p.precision)\n                    : evaluationKeys == 'recall'? y(p.recall)\n                    : evaluationKeys == 'mcc'? y(p.mcc)\n                    : y(p.acc)\n                  return [x(p.rejec_rate), y_value]; \n                }));\n          }\n        \n          svg_curves.append(\"path\")\n                .attr('class', '')\n                .attr(\"class\", \"line-threshold-\"+idx)\n                .attr(\"d\",  line())\n                .style(\"fill\", \"none\")\n                .attr(\"stroke\", sequentialScale(idx+1))\n                .style(\"stroke-width\", 3)\n\n          svg_curves.selectAll(\".dot\")\n              .data(sortedPredictions)\n            .enter().append(\"circle\") // Uses the enter().append() method\n              .attr(\"class\",(d,i)=> \"dot-\"+idx+'-'+i) // Assign a class for styling\n              .attr(\"cx\", d=> { return x(d['rejec_rate']) })\n              .attr(\"cy\", (d)=> { \n                let y_value = evaluationKeys == 'c_accuracy'? y(d['c_acc']) \n                    : evaluationKeys == 'f1'? y(d['f1'])\n                    : evaluationKeys == 'precision'? y(d['precision'])\n                    : evaluationKeys == 'recall'? y(d['recall'])\n                    : evaluationKeys == 'mcc'? y(d['mcc'])\n                    : y(d['acc'])\n                return y_value })\n              .attr(\"r\", 5)\n              .attr('fill', sequentialScale(idx+1))\n              .attr('stroke','steelblue')\n              .on('mouseenter', (d,i)=>this.hover = ({info: d, idx: i, line_idx: idx}))\n              .on('mouseleave', (d,i)=>this.hover = ({info: '', idx: '', line_idx: ''})) \n              .on('click',(d,i)=>this.click = ({'classifier':classifier, 'left_range':d['left_edge'], 'right_range':d['right_edge'] })) \n              .attr(\"opacity\",1);\n\n          // add legend\n          svg_curves.append('text')\n            .attr('transform', () => {\n              const xOffset = this.width - 100;\n              const yOffset = this.height + 20 * (idx ) + this.margin.bottom;\n              return `translate(${xOffset}, ${yOffset})`;\n            })\n            .attr(\"class\", \"text-threshold-\"+idx)\n            .style('text-anchor', 'middle')\n            .style('font-size', '24px')\n            .attr('fill', sequentialScale(idx+1))\n            .text('Threshold ' + t)\n            .on('mouseenter', ()=>this.lineHover = ({info: '', line_idx: idx}))\n            .on('mouseleave', ()=>this.lineHover = ({info: '',  line_idx: ''})) \n            ;\n        })\n      };\n\n\n      const drawMultiClassifeirCurves = () =>{\n        const sequentialScale = d3.scaleSequential<string>( d3.interpolatePlasma)\n            .domain([0, this.classifiers.length])\n            .interpolator(function (x) { return d3.interpolatePlasma(.8*x);} );\n        this.value.forEach((c, idx)=>{\n          let classifier = c.name\n          let t =  (Math.floor(this.classifierThresholds[classifier] / 2 ) * 2 / 100).toFixed(2)\n          let predictions = this.predictions[classifier][parseFloat(t).toFixed(2)]\n          let mappedPredictions = predictions.filter((n)=>n.rejec_rate >= this.leftRate && n.rejec_rate <= this.rightRate)\n          let sortedPredictions = mappedPredictions.sort((n1,n2) => {\n              if ( (n1.rejec_rate ) < (n2.rejec_rate)) {\n                  return 1;\n              }\n\n              if ( (n1.rejec_rate ) > (n2.rejec_rate)) {\n                  return -1;\n              }\n\n              return 0;\n          });    \n          if (evaluationKeys == 'mcc') {\n            sortedPredictions = sortedPredictions.filter((i)=>i.rejec_rate <= 0.8)\n          }\n          function line() {\n                return d3.line()(sortedPredictions.map(function(p,j) { \n                  let y_value = evaluationKeys == 'c_accuracy'? y(p.c_acc) \n                    : evaluationKeys == 'f1'? y(p.f1)\n                    : evaluationKeys == 'precision'? y(p.precision)\n                    : evaluationKeys == 'recall'? y(p.recall)\n                    : evaluationKeys == 'mcc'? y(p.mcc)\n                    : y(p.acc)\n                  return [x(p.rejec_rate), y_value]; \n                }));\n          }\n        \n          svg_curves.append(\"path\")\n                .attr('class', '')\n                .attr(\"class\", \"line-threshold-\"+idx)\n                .attr(\"d\",  line())\n                .style(\"fill\", \"none\")\n                .attr(\"stroke\", sequentialScale(idx+1))\n                .style(\"stroke-width\", 3)\n                // .style(\"opacity\", 1)   \n\n\n          svg_curves.selectAll(\".dot\")\n              .data(sortedPredictions)\n            .enter().append(\"circle\") // Uses the enter().append() method\n              .attr(\"class\",(d,i)=> \"dot-\"+idx+'-'+i) // Assign a class for styling\n              .attr(\"cx\", d=> { return x(d['rejec_rate']) })\n              .attr(\"cy\", (d)=> { \n                let y_value = evaluationKeys == 'c_accuracy'? y(d['c_acc']) \n                    : evaluationKeys == 'f1'? y(d['f1'])\n                    : evaluationKeys == 'precision'? y(d['precision'])\n                    : evaluationKeys == 'recall'? y(d['recall'])\n                    : evaluationKeys == 'mcc'? y(d['mcc'])\n                    : y(d['acc'])\n                return y_value })\n              .attr(\"r\", 5)\n              .attr('fill', sequentialScale(idx+1))\n              .attr('stroke', sequentialScale(idx+1))\n              .on('mouseenter', (d,i)=>this.hover = ({info: d, idx: i, line_idx: idx}))\n              .on('mouseleave', (d,i)=>this.hover = ({info: '', idx: '', line_idx: ''}))  \n              .on('click',(d,i)=>this.click = ({'classifier':classifier, 'left_range':d['left_edge'], 'right_range':d['right_edge'] })) \n              .attr(\"opacity\",1);\n\n          // add legend\n          svg_curves.append('text')\n            .attr('transform', () => {\n              const xOffset = this.width - 100;\n              const yOffset = this.height + 20 * (idx ) + this.margin.bottom;\n              return `translate(${xOffset}, ${yOffset})`;\n            })\n            .attr(\"class\", \"text-threshold-\"+idx)\n            .style('text-anchor', 'middle')\n            .style('font-size', '24px')\n            .attr('fill', sequentialScale(idx+1))\n            .text(classifier)\n            .on('mouseenter', ()=>this.lineHover = ({info: '', line_idx: idx}))\n            .on('mouseleave', ()=>this.lineHover = ({info: '',  line_idx: ''})) \n            ;\n        })\n      };\n      \n      const drawTitles = () => {\n         svg_curves.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.4;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Rejection Rate');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 1.5)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text( evaluationKeys == 'c_accuracy'? 'Conditional Accuracy'\n                  : evaluationKeys == 'f1'? 'F1'\n                  : evaluationKeys == 'precision'? 'Precision'\n                  : evaluationKeys == 'recall'?'Recall'\n                  : evaluationKeys == 'mcc'? 'MCC'\n                  : 'Accuracy');\n\n        svg_curves.append('text')\n          .attr(\"class\",\"curve-title\")\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( this.multilClassifier == 'no' ?'Performance (' + selectedClassifier + ')' : 'Performance');  \n      };\n\n      const drawAxes = () => {\n        let rated_domain = [\"0.00\", \"0.10\",\"0.20\",\"0.30\",\"0.40\",\"0.50\",\"0.60\",\"0.70\",\"0.80\",\"0.90\",\"1.00\"]\n        let mapped_rate_domain = rated_domain.filter((i)=>parseFloat(i) >= this.leftRate && parseFloat(i) <= this.rightRate)\n        \n        let xRates = d3.scaleBand<string>()\n          .domain(mapped_rate_domain)\n          .range([0, this.width*0.9])\n\n        const xTAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(xRates)\n              .tickSizeOuter(0),\n          )\n          .attr(\"class\",\"xAxis-curve\");\n\n        svg_curves.append('g')\n          .call(xTAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start')\n          .on('click', (d:string) => {\n            this.leftRate = parseFloat(d).toFixed(2)})\n          .on('contextmenu', (d: string) => this.rightRate = parseFloat(d).toFixed(2));\n\n       \n        const yTAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis)\n          .attr('font-size', 20);\n\n        svg_curves.append('rect')\n          .attr('width',40)\n          .attr('height', 20)\n          .attr('x', -this.margin.left + 30)\n          .attr('y', this.height)\n          .attr('fill','lightgrey')\n          .attr('stroke','grey')\n          .on('click', (d: string) => {\n            this.leftRate = 0\n            this.rightRate = 1\n            })\n        svg_curves.append('text')\n          .attr('x', -this.margin.left + 35)\n          .attr('y', this.height+15)\n          .attr('fill','black')\n          .attr('font-size',20)\n          .text('set')\n          .on('click', (d: string) => {\n            this.leftRate = 0\n            this.rightRate = 1\n            })\n      };\n\n      \n      drawAxes();\n      drawTitles();\n      if (this.multilClassifier == 'yes') {\n        drawMultiClassifeirCurves();\n      } else {\n        drawCurves();\n      }\n            \n    },\n\n    drawSelectionChart() {\n\n      const chart = d3.select(this.$refs.svg);\n      const selectedClassifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;\n      \n      const svg_curves = chart.select(\".svg-curve\")\n\n      svg_curves.selectAll('*').remove();\n\n      const instances = this.instances;\n      const thresholds = this.thresholds;\n      const evaluationSelection = this.evaluationKeys;\n      const evaluationKeys = this.evaluationKeys\n\n      const x = d3.scaleLinear()\n          .domain([this.leftRate, this.rightRate])\n          .range([0, this.width * 0.9]);\n\n      const y = d3.scaleLinear()\n        .domain([evaluationKeys == 'mcc'? -1:0, 1])\n        .range([this.height, 0]);\n\n      const {first, second} = this.selections;\n      let selectionList = [[...first.instances], [...second.instances]]\n\n      const drawCurves = () =>{\n        let t =  (Math.floor(this.classifierThresholds[selectedClassifier] / 2 ) * 2 / 100).toFixed(2)\n        let colors = [this.selection1Color, this.selection2Color]\n        selectionList.forEach((tmp_selection, idx)=>{\n          let classifier = selectedClassifier\n          let t =  (Math.floor(this.classifierThresholds[classifier] / 2 ) * 2 / 100).toFixed(2)\n          let predictions = this.selectedPred[idx][parseFloat(t).toFixed(2)]\n          let mappedPredictions = predictions.filter((n)=>n.rejec_rate >= this.leftRate && n.rejec_rate <= this.rightRate)\n          let sortedPredictions = mappedPredictions.sort((n1,n2) => {\n              if ( (n1.rejec_rate ) < (n2.rejec_rate)) {\n                  return 1;\n              }\n\n              if ( (n1.rejec_rate ) > (n2.rejec_rate)) {\n                  return -1;\n              }\n\n              return 0;\n          });    \n          if (evaluationKeys == 'mcc') {\n            sortedPredictions = sortedPredictions.filter((i)=>i.rejec_rate <= 0.8)\n          }\n          function line() {\n                return d3.line()(sortedPredictions.map(function(p,j) { \n                  let y_value = evaluationKeys == 'c_accuracy'? y(p.c_acc) \n                    : evaluationKeys == 'f1'? y(p.f1)\n                    : evaluationKeys == 'precision'? y(p.precision)\n                    : evaluationKeys == 'recall'? y(p.recall)\n                    : evaluationKeys == 'mcc'? y(p.mcc)\n                    : y(p.acc)\n                  return [x(p.rejec_rate), y_value]; \n                }));\n          }\n        \n          svg_curves.append(\"path\")\n                .attr('class', '')\n                .attr(\"class\", \"line-threshold-\"+idx)\n                .attr(\"d\",  line())\n                .style(\"fill\", \"none\")\n                .attr(\"stroke\", colors[idx])\n                .style(\"stroke-width\", 3)\n                // .style(\"opacity\", 1)   \n\n\n          svg_curves.selectAll(\".dot\")\n              .data(sortedPredictions)\n            .enter().append(\"circle\") // Uses the enter().append() method\n              .attr(\"class\",(d,i)=> \"dot-\"+idx+'-'+i) // Assign a class for styling\n              .attr(\"cx\", d=> { return x(d['rejec_rate']) })\n              .attr(\"cy\", (d)=> { \n                let y_value = evaluationKeys == 'c_accuracy'? y(d['c_acc']) \n                    : evaluationKeys == 'f1'? y(d['f1'])\n                    : evaluationKeys == 'precision'? y(d['precision'])\n                    : evaluationKeys == 'recall'? y(d['recall'])\n                    : evaluationKeys == 'mcc'? y(d['mcc'])\n                    : y(d['acc'])\n                return y_value })\n              .attr(\"r\", 5)\n              .attr('fill', colors[idx])\n              .attr('stroke', colors[idx])\n              .on('mouseenter', (d,i)=>this.hover = ({info: d, idx: i, line_idx: idx}))\n              .on('mouseleave', (d,i)=>this.hover = ({info: '', idx: '', line_idx: ''}))  \n              .on('click',(d,i)=>this.click = ({'classifier':classifier, 'left_range':d['left_edge'], 'right_range':d['right_edge'] })) \n              .attr(\"opacity\",1);\n\n          // add legend\n          svg_curves.append('text')\n            .attr('transform', () => {\n              const xOffset = this.width - 100;\n              const yOffset = this.height + 20 * (idx ) + this.margin.bottom;\n              return `translate(${xOffset}, ${yOffset})`;\n            })\n            .attr(\"class\", \"text-threshold-\"+idx)\n            .style('text-anchor', 'middle')\n            .style('font-size', '24px')\n            .attr('fill', colors[idx])\n            .text('Selection'+(idx+1))\n            .on('mouseenter', ()=>this.lineHover = ({info: '', line_idx: idx}))\n            .on('mouseleave', ()=>this.lineHover = ({info: '',  line_idx: ''})) \n            ;\n        })\n\n      };\n\n      const drawTitles = () => {\n         svg_curves.append('text')\n          .attr('transform', () => {\n            const xOffset = this.width * 0.4;\n            const yOffset = this.height + this.margin.bottom;\n            return `translate(${xOffset}, ${yOffset})`;\n          })\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text('Rejection Rate');\n\n        svg_curves.append('text')\n          .attr('transform', 'rotate(-90)')\n          .attr('x', -this.height / 1.5)\n          .attr('y', -this.margin.left * 0.9)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '24px')\n          .text( evaluationKeys == 'c_accuracy'? 'Conditional Accuracy'\n                  : evaluationKeys == 'f1'? 'F1'\n                  : evaluationKeys == 'precision'? 'Precision'\n                  : evaluationKeys == 'recall'?'Recall'\n                  : evaluationKeys == 'mcc'? 'MCC'\n                  : 'Accuracy');\n\n        svg_curves.append('text')\n          .attr(\"class\",\"curve-title\")\n          .attr('x', this.width * 0.4)\n          .attr('y', -100)\n          .attr('dy', '1em')\n          .style('text-anchor', 'middle')\n          .style('font-size', '32px')\n          .text( this.multilClassifier == 'no' ?'Performance (' + selectedClassifier + ')' : this.selection_mode == 'selected'? 'Performance (' + selectedClassifier + ')': 'Performance');  \n      };\n\n      const drawAxes = () => {\n        let rated_domain = [\"0.00\", \"0.10\",\"0.20\",\"0.30\",\"0.40\",\"0.50\",\"0.60\",\"0.70\",\"0.80\",\"0.90\",\"1.00\"]\n        let mapped_rate_domain = rated_domain.filter((i)=>parseFloat(i) >= this.leftRate && parseFloat(i) <= this.rightRate)\n        \n        let xRates = d3.scaleBand<string>()\n          .domain(mapped_rate_domain)\n          .range([0, this.width*0.9])\n\n        const xTAxis = (g: any) => g\n          .attr('transform', `translate(${0}, ${this.height})`)\n          .call(\n            d3.axisBottom(xRates)\n              .tickSizeOuter(0),\n          )\n          .attr(\"class\",\"xAxis-curve\");\n\n        svg_curves.append('g')\n          .call(xTAxis)\n          .attr('font-size', 20)\n          .selectAll('text')\n          .attr('transform', 'rotate(30)')\n          .attr('text-anchor', 'start')\n          .on('click', (d:string) => {\n            this.leftRate = parseFloat(d).toFixed(2)})\n          .on('contextmenu', (d: string) => this.rightRate = parseFloat(d).toFixed(2));\n        const yTAxis = (g: any) => g\n          .call(d3.axisLeft(y)\n            .ticks(5)\n            .tickFormat(d3.format('.0%')),\n          );\n\n        svg_curves.append('g')\n          .call(yTAxis)\n          .attr('font-size', 20);\n\n        svg_curves.append('rect')\n          .attr('width',40)\n          .attr('height', 20)\n          .attr('x', -this.margin.left + 30)\n          .attr('y', this.height)\n          .attr('fill','lightgrey')\n          .attr('stroke','grey')\n          .on('click', (d: string) => {\n            this.leftRate = 0\n            this.rightRate = 1\n            })\n        svg_curves.append('text')\n          .attr('x', -this.margin.left + 35)\n          .attr('y', this.height+15)\n          .attr('fill','black')\n          .attr('font-size',20)\n          .text('set')\n          .on('click', (d: string) => {\n            this.leftRate = 0\n            this.rightRate = 1\n            })\n      };\n\n      \n      drawAxes();\n      drawTitles();\n      drawCurves();\n\n    },\n\n    select(\n      bandwidth: number,\n      threshold:number,\n      whichOverlap: 'first' | 'second',\n      bandwidthRange:string,\n      type:string\n    ) {\n      d3.event.preventDefault();\n      d3.event.stopPropagation();\n\n      const constraint = blankConstraint();\n      constraint.rule = Rule.RIGHT;\n      constraint.classifier = this.value.length == 0? '' : this.value[this.value.length - 1].name;;\n\n\n      let instances = this.streamData[bandwidth][\"middle_instances\"][this.thresholds[threshold]].instances\n      let leftEdge = (parseFloat(this.thresholds[threshold]) - parseFloat(bandwidthRange['left'])).toFixed(2)\n      let rightEdge = (parseFloat(this.thresholds[threshold]) + parseFloat(bandwidthRange['right'])).toFixed(2)\n\n      let description = `Instances which ${constraint.classifier} got uncertain under${leftEdge} and ${rightEdge}`;\n\n\n      if (type ==  'certainty') {\n        let tmp_instances = [...this.streamData[bandwidth][\"ci_tp_instances\"][this.thresholds[threshold]].instances];\n        [...this.streamData[bandwidth][\"ci_fp_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        [...this.streamData[bandwidth][\"ci_tn_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        [...this.streamData[bandwidth][\"ci_fn_instances\"][this.thresholds[threshold]].instances].forEach((item)=>{\n          tmp_instances.push(item)\n        });\n        instances = new Set(tmp_instances)\n        description = `Instances which ${constraint.classifier} got certain under${leftEdge} and ${rightEdge}`;\n        }\n\n      const predicate: PredicateSimple = {\n        type: 'simple',\n        constraints: [constraint],\n        metric: []\n      };\n      const payload = {\n        description,\n        instances,\n        predicate,\n      };\n\n      this.$store.dispatch('prependToSelectionHistory', payload);\n      this.$store.dispatch('changedMostRecentSelection', whichOverlap);\n    },\n  },\n});\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RejectedCurve.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RejectedCurve.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RejectedCurve.vue?vue&type=template&id=f44c4014&scoped=true&\"\nimport script from \"./RejectedCurve.vue?vue&type=script&lang=ts&\"\nexport * from \"./RejectedCurve.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RejectedCurve.vue?vue&type=style&index=0&id=f44c4014&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f44c4014\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\ninstallComponents(component, {VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VRadio,VRadioGroup})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Performance_Overall from '@/components/boxes/OverallClassifierPerformance.vue';\nimport Performance_Curves from '@/components/boxes/OverallClassifierPerfCurves.vue';\nimport Trinary_Performance_Confidence from '@/components/boxes/OverallClassifierConfidence.vue';\nimport Reliability_Curve from '@/components/boxes/ReliabilityCurve.vue';\nimport Trinary_Instance_Distribuion from  '@/components/boxes/TrinaryInstanceDistribuion.vue';\nimport Trinary_Bandwidth_Assessment from '@/components/boxes/BandwidthAssessment.vue';\nimport Performance_Selection from '@/components/boxes/SelectionClassifierPerformance.vue';\nimport Performance_Per_Class from '@/components/boxes/DetailedClassifierPerformance.vue';\nimport ConfusionMatrixGrid from '@/components/boxes/ConfusionMatrixGrid.vue';\nimport draggable from 'vuedraggable';\nimport CumulativeAccuracy from '@/components/boxes/OverallClassifierAccuracy.vue';\nimport Sidebar from '@/components/sidebar/Sidebar.vue';\nimport PairwiseClassifierConsensus from '@/components/boxes/PairwiseClassifierConsensus.vue';\nimport MetricsTable from '@/components/boxes/StandardMetrics.vue';\nimport MetricsParallel from '@/components/boxes/ParallelMetrics.vue';\nimport UncertaintyHeatMap from '@/components/boxes/UncertaintyHeatMap.vue';\nimport InstanceList from '@/components/boxes/InstanceList.vue';\nimport Histogram from '@/components/boxes/FeatureHistogram.vue';\nimport ScatterPlot from '@/components/boxes/ScatterPlot.vue';\nimport FocusItem from '@/components/boxes/FocusItem.vue';\nimport Rejected_Curve from '@/components/boxes/RejectedCurve.vue'\nimport {\n  Visualization,\n  VisualizationType,\n} from '../types';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n  name: 'RigidTileHome',\n  components: {\n    Histogram,\n    UncertaintyHeatMap,\n    Performance_Overall,\n    Performance_Curves,\n    Trinary_Performance_Confidence,\n    Reliability_Curve,\n    Trinary_Bandwidth_Assessment,\n    Rejected_Curve,\n    Trinary_Instance_Distribuion,\n    Performance_Selection,\n    Performance_Per_Class,\n    ConfusionMatrixGrid,\n    draggable,\n    CumulativeAccuracy,\n    Sidebar,\n    PairwiseClassifierConsensus,\n    MetricsTable,\n    MetricsParallel,\n    InstanceList,\n    ScatterPlot,\n    FocusItem,\n  },\n  data() {\n    const visualizations: Visualization[] = [];\n    const visualizationsWithoutExternalHandle = [\n      VisualizationType.CA,\n      VisualizationType.CC,\n      VisualizationType.CB,\n      VisualizationType.RC,\n      VisualizationType.BA,\n      VisualizationType.REC,\n      VisualizationType.TID,\n      VisualizationType.UM,\n      VisualizationType.SCP,\n      VisualizationType.COV,\n      VisualizationType.CMG,\n      VisualizationType.FH,\n      VisualizationType.OCA,\n      VisualizationType.PCC,\n      VisualizationType.SP,\n      VisualizationType.SM,\n      VisualizationType.SMP,\n      VisualizationType.ITL,\n      VisualizationType.FI\n    ];\n    return {\n      handleIcon: '☉',\n      visualizations,\n      visualizationsWithoutExternalHandle,\n    };\n  },\n  computed: {\n    viewWidth() {\n      return this.$store.getters.viewWidth;\n    },\n    storeVisualizations(): Visualization[] {\n      return this.$store.getters.visualizations;\n    },\n  },\n  watch: {\n    storeVisualizations() {\n      this.visualizations = this.storeVisualizations;\n      return;\n    },\n  },\n  methods: {\n    viewWidthByName(tileName: string) {\n      if (tileName === 'InstanceList' ){\n        return '100%';\n      }\n      return this.viewWidth;\n    },\n  },\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RigidTileHome.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--12-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RigidTileHome.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RigidTileHome.vue?vue&type=template&id=02fadef4&scoped=true&\"\nimport script from \"./RigidTileHome.vue?vue&type=script&lang=ts&\"\nexport * from \"./RigidTileHome.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RigidTileHome.vue?vue&type=style&index=0&id=02fadef4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02fadef4\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport DatasetSelectorPopup from './components/left-drawer/DatasetSelectorPopup.vue';\nimport Navbar from '@/components/left-drawer/Navbar.vue';\nimport RigidTileHome from '@/views/RigidTileHome.vue';\nimport Vue from 'vue';\nimport { mapState } from 'vuex';\nimport VueSimpleAlert from \"vue-simple-alert\";\nimport { ButtonPlugin } from '@syncfusion/ej2-vue-buttons';\nimport { enableRipple } from '@syncfusion/ej2-base';\nimport Multiselect from 'vue-multiselect'\n// import loading from 'vue-full-loading'\n\nVue.use(VueSimpleAlert);\nenableRipple(true);\nVue.use(ButtonPlugin);\n\nimport {\n  EntityType,\n  SelectionAction,\n  VisualizationType\n} from './types';\nexport default Vue.extend({\n  name: 'App',\n  components: {\n    DatasetSelectorPopup,\n    Navbar,\n    RigidTileHome,\n    Multiselect,\n  },\n  data() {\n    \n    return {\n      load_dialog: false,\n      value_classifier: null,\n    };\n  },\n  mounted() {\n    this.$store.dispatch( 'loadFirstDataset' );\n    window.addEventListener( 'keydown', e => this.$store.dispatch(\"changedToggleShift\", e) );\n    window.addEventListener( 'keyup', e => this.$store.dispatch(\"changedToggleShift\", e) );\n  },\n  computed: {\n    // fixedDataset():string {\n    //   return this.$store.state.fixedDataset;\n    // },\n    helpButtons(): any[] {\n      // if (this.fixedDataset == 'yes') {\n      //   return [\n      //     {'name':'Overall Help'},\n      //     {'name':'View Description'},\n      //     {'name':'Related Use case'}\n      //   ]\n      // } else {\n        \n      // }\n      return [\n          {'name':'Overall Help'},\n          {'name':'View Description'},\n        ]\n    },\n    viewsMapping(): any[] {\n      if (this.datasetType == 'continuous') {\n        return [\n          {'view':VisualizationType.CA,  'view_name': 'Performance (Overall)'},\n          {'view':VisualizationType.SCP, 'view_name': 'Performance (Selection)'},\n          {'view':VisualizationType.CC,  'view_name': 'Performance (Curves)'},\n          {'view':VisualizationType.RC,  'view_name': 'Reliability (Curves)'},\n          {'view':VisualizationType.CB,  'view_name': '(Trinary) Performance Confidence'},\n          {'view':VisualizationType.BA,  'view_name': '(Trinary) Bandwidth Assessment'},\n          {'view':VisualizationType.REC, 'view_name': '(Trinary) Rejected Curve'},\n          {'view':VisualizationType.TID, 'view_name': '(Trinary) Instance Distribuion'},\n          {'view':VisualizationType.UM,  'view_name': 'Uncertainty HeatMap'},\n          {'view':VisualizationType.SP,  'view_name': 'Scatter Plot'},\n          {'view':VisualizationType.FH,  'view_name': 'Feature Histogram'},\n          {'view':VisualizationType.CMG, 'view_name': 'Confusion Matrix Grid'},\n          {'view':VisualizationType.PCC, 'view_name': 'Pairwise Classifier Consensus'},\n          {'view':VisualizationType.OCA, 'view_name': 'Cumulative Accuracy'},\n          {'view':VisualizationType.SM,  'view_name': 'Metrics Table'},\n          {'view':VisualizationType.SMP, 'view_name': 'Metrics Parallel'},\n          {'view':VisualizationType.ITL, 'view_name': 'Instance List'},\n          {'view':VisualizationType.FI, 'view_name': 'Focus Item'},\n        ]\n      }\n      return [\n          {'view':VisualizationType.CA,  'view_name': 'Performance (Overall)'},\n          {'view':VisualizationType.SCP, 'view_name': 'Performance (Selection)'},\n          {'view':VisualizationType.COV, 'view_name': 'Performance (Per Class)'},\n          {'view':VisualizationType.FH,  'view_name': 'Feature Histogram'},\n          {'view':VisualizationType.CMG, 'view_name': 'Confusion Matrix Grid'},\n          {'view':VisualizationType.PCC, 'view_name': 'Pairwise Classifier Consensus'},\n          {'view':VisualizationType.OCA, 'view_name': 'Cumulative Accuracy'},\n          {'view':VisualizationType.SM,  'view_name': 'Metrics Table'},\n          {'view':VisualizationType.SMP, 'view_name': 'Metrics Parallel'},\n          {'view':VisualizationType.ITL, 'view_name': 'Instance List'},\n          {'view':VisualizationType.FI, 'view_name': 'Focus Item'},\n        ] \n    },\n    classifiers(): string[] {\n      return [...this.$store.getters.classifiers];\n    },\n    classes(): string[] {\n      return [...this.$store.getters.classes];\n    },\n    views(): string[] {\n      return this.$store.state.views.all;\n    },\n    corsError() {\n      return !this.$store.state.corsError;\n    },\n    ...mapState([\n      'chosenDataset',\n    ]),\n    snackbar() {\n      return !this.$store.getters.intersectionMode;\n    },\n    datasetType(): string {\n      return this.$store.state.datasetType;\n    }\n  },\n  watch: {\n    value_classifier() {\n      const payload: {\n        entityType: EntityType,\n        newFilter: {\n          type: SelectionAction,\n          set: Set<string>,\n        },\n      } = {\n        entityType: EntityType.Classifier,\n        newFilter: {\n          type: SelectionAction.Exclude,\n          set: new Set(this.value_classifier),\n        },\n      };\n      this.$store.dispatch('changedFilter', payload);\n      if (this.datasetType == 'continuous'){\n        this.$store.dispatch('changedContinuousMetrics')\n      }\n    },\n    chosenDataset() {\n      this.load_dialog = false;\n    },\n    corsError() {\n      this.$alert(\"Dataset load failed. Please make sure turn on the CORS extension\");\n    }\n  },\n  methods: {\n    btnClick(name) {\n      if (name == 'Related Use case') {\n        let url = this.$store.state.chosenFixedDataset.related_use_case\n        window.open(url);\n      } else if (name == 'View Description') {\n        window.open(\"https://graphics.cs.wisc.edu/Vis/Boxer/docs/user_guide/view_description/\")\n      } else {\n        window.open(\"https://graphics.cs.wisc.edu/Vis/Boxer/\");\n      }\n    },\n    change_grid_size() {\n      this.$store.dispatch(\"changedGridSize\");\n    },\n    save_views() {\n      this.$store.dispatch(\"saveViews\")\n      this.$store.dispatch(\"wrtieConfig\")\n    },\n    reload_views() {\n      this.$store.dispatch(\"reloadViews\")\n    },\n    resume_views() {\n      this.$store.dispatch(\"resumeViews\");\n    },\n    buttonPush(b) {\n      console.log(\"DOWN\", b);\n    },\n    buttonUp(b) {\n      console.log(\"UP\", b);\n    },\n    toggleIsClosed() {\n      const nav = document.getElementById('nav-1');\n      if (nav === null) {\n        return;\n      }\n      nav.classList.toggle('is-closed');\n    },\n  },\n  \n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9c9b8264&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"vue-multiselect/dist/vue-multiselect.min.css?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=9c9b8264&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9c9b8264\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VApp,VBtn,VDialog,VIcon,VList,VListItem,VListItemTitle,VMenu,VSnackbar})\n","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from './views/Home.vue';\nimport FlexHome from './views/FlexHome.vue';\n\nVue.use(Router);\n\nexport default new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n  ],\n});\n","import Vue from 'vue';\n// import './plugins/vuetify';\nimport vuetify from '@/plugins/vuetify';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: (h) => h(App),\n}).$mount('#app');\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardMetrics.vue?vue&type=style&index=0&id=29ea7f8d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardMetrics.vue?vue&type=style&index=0&id=29ea7f8d&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConstrainedInstanceList.vue?vue&type=style&index=0&id=6acec799&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConstrainedInstanceList.vue?vue&type=style&index=0&id=6acec799&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinaryInstanceDistribuion.vue?vue&type=style&index=0&id=72316b6c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TrinaryInstanceDistribuion.vue?vue&type=style&index=0&id=72316b6c&scoped=true&lang=css&\""],"sourceRoot":""}